var Hn=Object.defineProperty;var Xn=(f,l,u)=>l in f?Hn(f,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):f[l]=u;var Jt=(f,l,u)=>(Xn(f,typeof l!="symbol"?l+"":l,u),u);import{N as get_store_value,S as SvelteComponent,i as init,s as safe_not_equal,O as create_slot,k as element,l as claim_element,m as children,h as detach,n as attr,b as insert_hydration,D as append_hydration,K as listen,U as stop_propagation,P as update_slot_base,Q as get_all_dirty_from_scope,R as get_slot_changes,g as transition_in,d as transition_out,L as run_all,V as bubble,w as binding_callbacks,q as text,a as space,y as create_component,r as claim_text,c as claim_space,z as claim_component,A as mount_component,E as noop,B as destroy_component,M as createEventDispatcher,G as bind,J as toggle_class,v as group_outros,f as check_outros,H as add_flush_callback,F as component_subscribe,o as onMount,W as onDestroy,X as set_input_value,u as set_data,Y as to_number,Z as svg_element,_ as claim_svg_element,I as destroy_each,$ as null_to_empty,a0 as action_destroyer,a1 as is_function,a2 as update_keyed_each,a3 as outro_and_destroy_block,t as tick,T as globals,e as empty,a4 as destroy_block,p as set_style,a5 as set_store_value,a6 as assign,a7 as set_svg_attributes,a8 as add_render_callback,a9 as add_iframe_resize_listener,aa as prevent_default,ab as now,ac as loop,ad as identity,ae as compute_rest_props,af as setContext$1,ag as exclude_internal_props,ah as set_dynamic_element_data,ai as get_spread_update,aj as create_bidirectional_transition,ak as split_css_unit,al as set_attributes,am as getContext$1,an as get_spread_object,ao as compute_slots,ap as head_selector}from"../chunks/index.9d780e41.js";import{z as volume,A as samples$1,C as synthValues,D as drone,E as mapToStepRange,G as envelopeValues,H as mute,I as Input,J as savePreset,K as activePreset,L as presetKeys,b as library$1,M as faChevronLeft,N as faChevronRight,O as faFloppyDisk,P as faTrash,Q as faPen,R as faAdd,S as Select,B as Button,T as deletePreset,U as editPreset,V as sockets,W as instrumentParameters,X as connections,Y as connectSockets,Z as activateSocket,_ as deactivateSockets,$ as disconnectSocket,q as qubits,a0 as keys,a1 as paramValues,a2 as globalParameters,a3 as fxParameters,a4 as randomise,a5 as clamp$1,h as inputs,a6 as wm,a7 as faSignal,a8 as envelopes,a9 as faCircle,aa as seconds,ab as bpm,ac as beats,ad as isMeasuring,i as isApp,ae as source,af as measure,ag as activeQubitCount,ah as debounce,ai as min,aj as redrawCables,g as getUserColour,ak as getUserName,al as instruments$1,am as instrument,an as faSmileWink,ao as faNetworkWired,ap as faCompactDisc,aq as faBraille,ar as faTable,as as isChrome,at as faBars,s as showSideMenu,au as fullscreen,av as showKeyboard}from"../chunks/midi.78e1ba35.js";import{_ as __vitePreload}from"../chunks/preload-helper.a4192956.js";import{w as writable$1}from"../chunks/index.f4cc7656.js";function _mergeNamespaces(f,l){for(var u=0;u<l.length;u++){const c=l[u];if(typeof c!="string"&&!Array.isArray(c)){for(const g in c)if(g!=="default"&&!(g in f)){const y=Object.getOwnPropertyDescriptor(c,g);y&&Object.defineProperty(f,g,y.get?y:{enumerable:!0,get:()=>c[g]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}const prerender=!0,_page=Object.freeze(Object.defineProperty({__proto__:null,prerender},Symbol.toStringTag,{value:"Module"})),version="14.7.77",createExtendedExponentialRampToValueAutomationEvent=(f,l,u)=>({endTime:l,insertTime:u,type:"exponentialRampToValue",value:f}),createExtendedLinearRampToValueAutomationEvent=(f,l,u)=>({endTime:l,insertTime:u,type:"linearRampToValue",value:f}),createSetValueAutomationEvent=(f,l)=>({startTime:l,type:"setValue",value:f}),createSetValueCurveAutomationEvent=(f,l,u)=>({duration:u,startTime:l,type:"setValueCurve",values:f}),getTargetValueAtTime=(f,l,{startTime:u,target:c,timeConstant:g})=>c+(l-c)*Math.exp((u-f)/g),isExponentialRampToValueAutomationEvent=f=>f.type==="exponentialRampToValue",isLinearRampToValueAutomationEvent=f=>f.type==="linearRampToValue",isAnyRampToValueAutomationEvent=f=>isExponentialRampToValueAutomationEvent(f)||isLinearRampToValueAutomationEvent(f),isSetValueAutomationEvent=f=>f.type==="setValue",isSetValueCurveAutomationEvent=f=>f.type==="setValueCurve",getValueOfAutomationEventAtIndexAtTime=(f,l,u,c)=>{const g=f[l];return g===void 0?c:isAnyRampToValueAutomationEvent(g)||isSetValueAutomationEvent(g)?g.value:isSetValueCurveAutomationEvent(g)?g.values[g.values.length-1]:getTargetValueAtTime(u,getValueOfAutomationEventAtIndexAtTime(f,l-1,g.startTime,c),g)},getEndTimeAndValueOfPreviousAutomationEvent=(f,l,u,c,g)=>u===void 0?[c.insertTime,g]:isAnyRampToValueAutomationEvent(u)?[u.endTime,u.value]:isSetValueAutomationEvent(u)?[u.startTime,u.value]:isSetValueCurveAutomationEvent(u)?[u.startTime+u.duration,u.values[u.values.length-1]]:[u.startTime,getValueOfAutomationEventAtIndexAtTime(f,l-1,u.startTime,g)],isCancelAndHoldAutomationEvent=f=>f.type==="cancelAndHold",isCancelScheduledValuesAutomationEvent=f=>f.type==="cancelScheduledValues",getEventTime=f=>isCancelAndHoldAutomationEvent(f)||isCancelScheduledValuesAutomationEvent(f)?f.cancelTime:isExponentialRampToValueAutomationEvent(f)||isLinearRampToValueAutomationEvent(f)?f.endTime:f.startTime,getExponentialRampValueAtTime=(f,l,u,{endTime:c,value:g})=>u===g?g:0<u&&0<g||u<0&&g<0?u*(g/u)**((f-l)/(c-l)):0,getLinearRampValueAtTime=(f,l,u,{endTime:c,value:g})=>u+(f-l)/(c-l)*(g-u),interpolateValue=(f,l)=>{const u=Math.floor(l),c=Math.ceil(l);return u===c?f[u]:(1-(l-u))*f[u]+(1-(c-l))*f[c]},getValueCurveValueAtTime=(f,{duration:l,startTime:u,values:c})=>{const g=(f-u)/l*(c.length-1);return interpolateValue(c,g)},isSetTargetAutomationEvent=f=>f.type==="setTarget";class AutomationEventList{constructor(l){this._automationEvents=[],this._currenTime=0,this._defaultValue=l}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(l){const u=getEventTime(l);if(isCancelAndHoldAutomationEvent(l)||isCancelScheduledValuesAutomationEvent(l)){const c=this._automationEvents.findIndex(y=>isCancelScheduledValuesAutomationEvent(l)&&isSetValueCurveAutomationEvent(y)?y.startTime+y.duration>=u:getEventTime(y)>=u),g=this._automationEvents[c];if(c!==-1&&(this._automationEvents=this._automationEvents.slice(0,c)),isCancelAndHoldAutomationEvent(l)){const y=this._automationEvents[this._automationEvents.length-1];if(g!==void 0&&isAnyRampToValueAutomationEvent(g)){if(y!==void 0&&isSetTargetAutomationEvent(y))throw new Error("The internal list is malformed.");const m=y===void 0?g.insertTime:isSetValueCurveAutomationEvent(y)?y.startTime+y.duration:getEventTime(y),_=y===void 0?this._defaultValue:isSetValueCurveAutomationEvent(y)?y.values[y.values.length-1]:y.value,p=isExponentialRampToValueAutomationEvent(g)?getExponentialRampValueAtTime(u,m,_,g):getLinearRampValueAtTime(u,m,_,g),x=isExponentialRampToValueAutomationEvent(g)?createExtendedExponentialRampToValueAutomationEvent(p,u,this._currenTime):createExtendedLinearRampToValueAutomationEvent(p,u,this._currenTime);this._automationEvents.push(x)}if(y!==void 0&&isSetTargetAutomationEvent(y)&&this._automationEvents.push(createSetValueAutomationEvent(this.getValue(u),u)),y!==void 0&&isSetValueCurveAutomationEvent(y)&&y.startTime+y.duration>u){const m=u-y.startTime,_=(y.values.length-1)/y.duration,p=Math.max(2,1+Math.ceil(m*_)),x=m/(p-1)*_,E=y.values.slice(0,p);if(x<1)for(let A=1;A<p;A+=1){const b=x*A%1;E[A]=y.values[A-1]*(1-b)+y.values[A]*b}this._automationEvents[this._automationEvents.length-1]=createSetValueCurveAutomationEvent(E,y.startTime,m)}}}else{const c=this._automationEvents.findIndex(m=>getEventTime(m)>u),g=c===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[c-1];if(g!==void 0&&isSetValueCurveAutomationEvent(g)&&getEventTime(g)+g.duration>u)return!1;const y=isExponentialRampToValueAutomationEvent(l)?createExtendedExponentialRampToValueAutomationEvent(l.value,l.endTime,this._currenTime):isLinearRampToValueAutomationEvent(l)?createExtendedLinearRampToValueAutomationEvent(l.value,u,this._currenTime):l;if(c===-1)this._automationEvents.push(y);else{if(isSetValueCurveAutomationEvent(l)&&u+l.duration>getEventTime(this._automationEvents[c]))return!1;this._automationEvents.splice(c,0,y)}}return!0}flush(l){const u=this._automationEvents.findIndex(c=>getEventTime(c)>l);if(u>1){const c=this._automationEvents.slice(u-1),g=c[0];isSetTargetAutomationEvent(g)&&c.unshift(createSetValueAutomationEvent(getValueOfAutomationEventAtIndexAtTime(this._automationEvents,u-2,g.startTime,this._defaultValue),g.startTime)),this._automationEvents=c}}getValue(l){if(this._automationEvents.length===0)return this._defaultValue;const u=this._automationEvents.findIndex(m=>getEventTime(m)>l),c=this._automationEvents[u],g=(u===-1?this._automationEvents.length:u)-1,y=this._automationEvents[g];if(y!==void 0&&isSetTargetAutomationEvent(y)&&(c===void 0||!isAnyRampToValueAutomationEvent(c)||c.insertTime>l))return getTargetValueAtTime(l,getValueOfAutomationEventAtIndexAtTime(this._automationEvents,g-1,y.startTime,this._defaultValue),y);if(y!==void 0&&isSetValueAutomationEvent(y)&&(c===void 0||!isAnyRampToValueAutomationEvent(c)))return y.value;if(y!==void 0&&isSetValueCurveAutomationEvent(y)&&(c===void 0||!isAnyRampToValueAutomationEvent(c)||y.startTime+y.duration>l))return l<y.startTime+y.duration?getValueCurveValueAtTime(l,y):y.values[y.values.length-1];if(y!==void 0&&isAnyRampToValueAutomationEvent(y)&&(c===void 0||!isAnyRampToValueAutomationEvent(c)))return y.value;if(c!==void 0&&isExponentialRampToValueAutomationEvent(c)){const[m,_]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,g,y,c,this._defaultValue);return getExponentialRampValueAtTime(l,m,_,c)}if(c!==void 0&&isLinearRampToValueAutomationEvent(c)){const[m,_]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,g,y,c,this._defaultValue);return getLinearRampValueAtTime(l,m,_,c)}return this._defaultValue}}const createCancelAndHoldAutomationEvent=f=>({cancelTime:f,type:"cancelAndHold"}),createCancelScheduledValuesAutomationEvent=f=>({cancelTime:f,type:"cancelScheduledValues"}),createExponentialRampToValueAutomationEvent=(f,l)=>({endTime:l,type:"exponentialRampToValue",value:f}),createLinearRampToValueAutomationEvent=(f,l)=>({endTime:l,type:"linearRampToValue",value:f}),createSetTargetAutomationEvent=(f,l,u)=>({startTime:l,target:f,timeConstant:u,type:"setTarget"}),createAbortError=()=>new DOMException("","AbortError"),createAddActiveInputConnectionToAudioNode=f=>(l,u,[c,g,y],m)=>{f(l[g],[u,c,y],_=>_[0]===u&&_[1]===c,m)},createAddAudioNodeConnections=f=>(l,u,c)=>{const g=[];for(let y=0;y<c.numberOfInputs;y+=1)g.push(new Set);f.set(l,{activeInputs:g,outputs:new Set,passiveInputs:new WeakMap,renderer:u})},createAddAudioParamConnections=f=>(l,u)=>{f.set(l,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:u})},ACTIVE_AUDIO_NODE_STORE=new WeakSet,AUDIO_NODE_CONNECTIONS_STORE=new WeakMap,AUDIO_NODE_STORE=new WeakMap,AUDIO_PARAM_CONNECTIONS_STORE=new WeakMap,AUDIO_PARAM_STORE=new WeakMap,CONTEXT_STORE=new WeakMap,EVENT_LISTENERS=new WeakMap,CYCLE_COUNTERS=new WeakMap,NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS=new WeakMap,NODE_TO_PROCESSOR_MAPS=new WeakMap,handler={construct(){return handler}},isConstructible=f=>{try{const l=new Proxy(f,handler);new l}catch{return!1}return!0},IMPORT_STATEMENT_REGEX=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,splitImportStatements=(f,l)=>{const u=[];let c=f.replace(/^[\s]+/,""),g=c.match(IMPORT_STATEMENT_REGEX);for(;g!==null;){const y=g[1].slice(1,-1),m=g[0].replace(/([\s]+)?;?$/,"").replace(y,new URL(y,l).toString());u.push(m),c=c.slice(g[0].length).replace(/^[\s]+/,""),g=c.match(IMPORT_STATEMENT_REGEX)}return[u.join(";"),c]},verifyParameterDescriptors=f=>{if(f!==void 0&&!Array.isArray(f))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},verifyProcessorCtor=f=>{if(!isConstructible(f))throw new TypeError("The given value for processorCtor should be a constructor.");if(f.prototype===null||typeof f.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},createAddAudioWorkletModule=(f,l,u,c,g,y,m,_,p,x,E,A,b)=>{let k=0;return(S,T,P={credentials:"omit"})=>{const C=E.get(S);if(C!==void 0&&C.has(T))return Promise.resolve();const M=x.get(S);if(M!==void 0){const O=M.get(T);if(O!==void 0)return O}const j=y(S),I=j.audioWorklet===void 0?g(T).then(([O,R])=>{const[D,N]=splitImportStatements(O,R),U=`${D};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${N}
})})(window,'_AWGS')`;return u(U)}).then(()=>{const O=b._AWGS.pop();if(O===void 0)throw new SyntaxError;c(j.currentTime,j.sampleRate,()=>O(class{},void 0,(R,D)=>{if(R.trim()==="")throw l();const N=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(j);if(N!==void 0){if(N.has(R))throw l();verifyProcessorCtor(D),verifyParameterDescriptors(D.parameterDescriptors),N.set(R,D)}else verifyProcessorCtor(D),verifyParameterDescriptors(D.parameterDescriptors),NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(j,new Map([[R,D]]))},j.sampleRate,void 0,void 0))}):Promise.all([g(T),Promise.resolve(f(A,A))]).then(([[O,R],D])=>{const N=k+1;k=N;const[U,X]=splitImportStatements(O,R),Q=`${U};((AudioWorkletProcessor,registerProcessor)=>{${X}
})(${D?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${D?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${D?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${N}',class extends AudioWorkletProcessor{process(){return !1}})`,L=new Blob([Q],{type:"application/javascript; charset=utf-8"}),G=URL.createObjectURL(L);return j.audioWorklet.addModule(G,P).then(()=>{if(_(j))return j;const J=m(j);return J.audioWorklet.addModule(G,P).then(()=>J)}).then(J=>{if(p===null)throw new SyntaxError;try{new p(J,`__sac${N}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(G))});return M===void 0?x.set(S,new Map([[T,I]])):M.set(T,I),I.then(()=>{const O=E.get(S);O===void 0?E.set(S,new Set([T])):O.add(T)}).finally(()=>{const O=x.get(S);O!==void 0&&O.delete(T)}),I}},getValueForKey=(f,l)=>{const u=f.get(l);if(u===void 0)throw new Error("A value with the given key could not be found.");return u},pickElementFromSet=(f,l)=>{const u=Array.from(f).filter(l);if(u.length>1)throw Error("More than one element was found.");if(u.length===0)throw Error("No element was found.");const[c]=u;return f.delete(c),c},deletePassiveInputConnectionToAudioNode=(f,l,u,c)=>{const g=getValueForKey(f,l),y=pickElementFromSet(g,m=>m[0]===u&&m[1]===c);return g.size===0&&f.delete(l),y},getEventListenersOfAudioNode=f=>getValueForKey(EVENT_LISTENERS,f),setInternalStateToActive=f=>{if(ACTIVE_AUDIO_NODE_STORE.has(f))throw new Error("The AudioNode is already stored.");ACTIVE_AUDIO_NODE_STORE.add(f),getEventListenersOfAudioNode(f).forEach(l=>l(!0))},isAudioWorkletNode=f=>"port"in f,setInternalStateToPassive=f=>{if(!ACTIVE_AUDIO_NODE_STORE.has(f))throw new Error("The AudioNode is not stored.");ACTIVE_AUDIO_NODE_STORE.delete(f),getEventListenersOfAudioNode(f).forEach(l=>l(!1))},setInternalStateToPassiveWhenNecessary=(f,l)=>{!isAudioWorkletNode(f)&&l.every(u=>u.size===0)&&setInternalStateToPassive(f)},createAddConnectionToAudioNode=(f,l,u,c,g,y,m,_,p,x,E,A,b)=>{const k=new WeakMap;return(S,T,P,C,M)=>{const{activeInputs:j,passiveInputs:I}=y(T),{outputs:O}=y(S),R=_(S),D=N=>{const U=p(T),X=p(S);if(N){const V=deletePassiveInputConnectionToAudioNode(I,S,P,C);f(j,S,V,!1),!M&&!A(S)&&u(X,U,P,C),b(T)&&setInternalStateToActive(T)}else{const V=c(j,S,P,C);l(I,C,V,!1),!M&&!A(S)&&g(X,U,P,C);const K=m(T);if(K===0)E(T)&&setInternalStateToPassiveWhenNecessary(T,j);else{const W=k.get(T);W!==void 0&&clearTimeout(W),k.set(T,setTimeout(()=>{E(T)&&setInternalStateToPassiveWhenNecessary(T,j)},K*1e3))}}};return x(O,[T,P,C],N=>N[0]===T&&N[1]===P&&N[2]===C,!0)?(R.add(D),E(S)?f(j,S,[P,C,D],!0):l(I,C,[S,P,D],!0),!0):!1}},createAddPassiveInputConnectionToAudioNode=f=>(l,u,[c,g,y],m)=>{const _=l.get(c);_===void 0?l.set(c,new Set([[g,u,y]])):f(_,[g,u,y],p=>p[0]===g&&p[1]===u,m)},createAddSilentConnection=f=>(l,u)=>{const c=f(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});u.connect(c).connect(l.destination);const g=()=>{u.removeEventListener("ended",g),u.disconnect(c),c.disconnect()};u.addEventListener("ended",g)},createAddUnrenderedAudioWorkletNode=f=>(l,u)=>{f(l).add(u)},DEFAULT_OPTIONS$j={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},createAnalyserNodeConstructor=(f,l,u,c,g,y)=>class extends f{constructor(_,p){const x=g(_),E={...DEFAULT_OPTIONS$j,...p},A=c(x,E),b=y(x)?l():null;super(_,!1,A,b),this._nativeAnalyserNode=A}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(_){this._nativeAnalyserNode.fftSize=_}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(_){const p=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=_,!(_>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=p,u()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(_){const p=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=_,!(this._nativeAnalyserNode.maxDecibels>_))throw this._nativeAnalyserNode.minDecibels=p,u()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(_){this._nativeAnalyserNode.smoothingTimeConstant=_}getByteFrequencyData(_){this._nativeAnalyserNode.getByteFrequencyData(_)}getByteTimeDomainData(_){this._nativeAnalyserNode.getByteTimeDomainData(_)}getFloatFrequencyData(_){this._nativeAnalyserNode.getFloatFrequencyData(_)}getFloatTimeDomainData(_){this._nativeAnalyserNode.getFloatTimeDomainData(_)}},isOwnedByContext=(f,l)=>f.context===l,createAnalyserNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,g=async(y,m)=>{let _=l(y);if(!isOwnedByContext(_,m)){const x={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,fftSize:_.fftSize,maxDecibels:_.maxDecibels,minDecibels:_.minDecibels,smoothingTimeConstant:_.smoothingTimeConstant};_=f(m,x)}return c.set(m,_),await u(y,m,_),_};return{render(y,m){const _=c.get(m);return _!==void 0?Promise.resolve(_):g(y,m)}}},testAudioBufferCopyChannelMethodsOutOfBoundsSupport=f=>{try{f.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},createIndexSizeError=()=>new DOMException("","IndexSizeError"),wrapAudioBufferGetChannelDataMethod=f=>{f.getChannelData=(l=>u=>{try{return l.call(f,u)}catch(c){throw c.code===12?createIndexSizeError():c}})(f.getChannelData)},DEFAULT_OPTIONS$i={numberOfChannels:1},createAudioBufferConstructor=(f,l,u,c,g,y,m,_)=>{let p=null;return class kn{constructor(E){if(g===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:A,numberOfChannels:b,sampleRate:k}={...DEFAULT_OPTIONS$i,...E};p===null&&(p=new g(1,1,44100));const S=c!==null&&l(y,y)?new c({length:A,numberOfChannels:b,sampleRate:k}):p.createBuffer(b,A,k);if(S.numberOfChannels===0)throw u();return typeof S.copyFromChannel!="function"?(m(S),wrapAudioBufferGetChannelDataMethod(S)):l(testAudioBufferCopyChannelMethodsOutOfBoundsSupport,()=>testAudioBufferCopyChannelMethodsOutOfBoundsSupport(S))||_(S),f.add(S),S}static[Symbol.hasInstance](E){return E!==null&&typeof E=="object"&&Object.getPrototypeOf(E)===kn.prototype||f.has(E)}}},MOST_NEGATIVE_SINGLE_FLOAT=-34028234663852886e22,MOST_POSITIVE_SINGLE_FLOAT=-MOST_NEGATIVE_SINGLE_FLOAT,isActiveAudioNode=f=>ACTIVE_AUDIO_NODE_STORE.has(f),DEFAULT_OPTIONS$h={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},createAudioBufferSourceNodeConstructor=(f,l,u,c,g,y,m,_)=>class extends f{constructor(x,E){const A=y(x),b={...DEFAULT_OPTIONS$h,...E},k=g(A,b),S=m(A),T=S?l():null;super(x,!1,k,T),this._audioBufferSourceNodeRenderer=T,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=k,this._onended=null,this._playbackRate=u(this,S,k.playbackRate,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(x){if(this._nativeAudioBufferSourceNode.buffer=x,x!==null){if(this._isBufferSet)throw c();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(x){this._nativeAudioBufferSourceNode.loop=x}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(x){this._nativeAudioBufferSourceNode.loopEnd=x}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(x){this._nativeAudioBufferSourceNode.loopStart=x}get onended(){return this._onended}set onended(x){const E=typeof x=="function"?_(this,x):null;this._nativeAudioBufferSourceNode.onended=E;const A=this._nativeAudioBufferSourceNode.onended;this._onended=A!==null&&A===E?x:A}get playbackRate(){return this._playbackRate}start(x=0,E=0,A){if(this._nativeAudioBufferSourceNode.start(x,E,A),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=A===void 0?[x,E]:[x,E,A]),this.context.state!=="closed"){setInternalStateToActive(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(x=0){this._nativeAudioBufferSourceNode.stop(x),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=x)}},createAudioBufferSourceNodeRendererFactory=(f,l,u,c,g)=>()=>{const y=new WeakMap;let m=null,_=null;const p=async(x,E)=>{let A=u(x);const b=isOwnedByContext(A,E);if(!b){const k={buffer:A.buffer,channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,loop:A.loop,loopEnd:A.loopEnd,loopStart:A.loopStart,playbackRate:A.playbackRate.value};A=l(E,k),m!==null&&A.start(...m),_!==null&&A.stop(_)}return y.set(E,A),b?await f(E,x.playbackRate,A.playbackRate):await c(E,x.playbackRate,A.playbackRate),await g(x,E,A),A};return{set start(x){m=x},set stop(x){_=x},render(x,E){const A=y.get(E);return A!==void 0?Promise.resolve(A):p(x,E)}}},isAudioBufferSourceNode=f=>"playbackRate"in f,isBiquadFilterNode=f=>"frequency"in f&&"gain"in f,isConstantSourceNode=f=>"offset"in f,isGainNode=f=>!("frequency"in f)&&"gain"in f,isOscillatorNode=f=>"detune"in f&&"frequency"in f,isStereoPannerNode=f=>"pan"in f,getAudioNodeConnections=f=>getValueForKey(AUDIO_NODE_CONNECTIONS_STORE,f),getAudioParamConnections=f=>getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE,f),deactivateActiveAudioNodeInputConnections=(f,l)=>{const{activeInputs:u}=getAudioNodeConnections(f);u.forEach(g=>g.forEach(([y])=>{l.includes(f)||deactivateActiveAudioNodeInputConnections(y,[...l,f])}));const c=isAudioBufferSourceNode(f)?[f.playbackRate]:isAudioWorkletNode(f)?Array.from(f.parameters.values()):isBiquadFilterNode(f)?[f.Q,f.detune,f.frequency,f.gain]:isConstantSourceNode(f)?[f.offset]:isGainNode(f)?[f.gain]:isOscillatorNode(f)?[f.detune,f.frequency]:isStereoPannerNode(f)?[f.pan]:[];for(const g of c){const y=getAudioParamConnections(g);y!==void 0&&y.activeInputs.forEach(([m])=>deactivateActiveAudioNodeInputConnections(m,l))}isActiveAudioNode(f)&&setInternalStateToPassive(f)},deactivateAudioGraph=f=>{deactivateActiveAudioNodeInputConnections(f.destination,[])},isValidLatencyHint=f=>f===void 0||typeof f=="number"||typeof f=="string"&&(f==="balanced"||f==="interactive"||f==="playback"),createAudioContextConstructor=(f,l,u,c,g,y,m,_,p)=>class extends f{constructor(E={}){if(p===null)throw new Error("Missing the native AudioContext constructor.");let A;try{A=new p(E)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?u():S}if(A===null)throw c();if(!isValidLatencyHint(E.latencyHint))throw new TypeError(`The provided value '${E.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(E.sampleRate!==void 0&&A.sampleRate!==E.sampleRate)throw u();super(A,2);const{latencyHint:b}=E,{sampleRate:k}=A;if(this._baseLatency=typeof A.baseLatency=="number"?A.baseLatency:b==="balanced"?512/k:b==="interactive"||b===void 0?256/k:b==="playback"?1024/k:Math.max(2,Math.min(128,Math.round(b*k/128)))*128/k,this._nativeAudioContext=A,p.name==="webkitAudioContext"?(this._nativeGainNode=A.createGain(),this._nativeOscillatorNode=A.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(A.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,A.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),A.removeEventListener("statechange",S)};A.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw l()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),deactivateAudioGraph(this)}))}createMediaElementSource(E){return new g(this,{mediaElement:E})}createMediaStreamDestination(){return new y(this)}createMediaStreamSource(E){return new m(this,{mediaStream:E})}createMediaStreamTrackSource(E){return new _(this,{mediaStreamTrack:E})}resume(){return this._state==="suspended"?new Promise((E,A)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?E():this.resume().then(E,A)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(E=>{throw E===void 0||E.code===15?l():E})}suspend(){return this._nativeAudioContext.suspend().catch(E=>{throw E===void 0?l():E})}},createAudioDestinationNodeConstructor=(f,l,u,c,g,y,m,_)=>class extends f{constructor(x,E){const A=y(x),b=m(A),k=g(A,E,b),S=b?l(_):null;super(x,!1,k,S),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=k}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(x){if(this._isNodeOfNativeOfflineAudioContext)throw c();if(x>this._nativeAudioDestinationNode.maxChannelCount)throw u();this._nativeAudioDestinationNode.channelCount=x}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(x){if(this._isNodeOfNativeOfflineAudioContext)throw c();this._nativeAudioDestinationNode.channelCountMode=x}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},createAudioDestinationNodeRenderer=f=>{const l=new WeakMap,u=async(c,g)=>{const y=g.destination;return l.set(g,y),await f(c,g,y),y};return{render(c,g){const y=l.get(g);return y!==void 0?Promise.resolve(y):u(c,g)}}},createAudioListenerFactory=(f,l,u,c,g,y,m,_)=>(p,x)=>{const E=x.listener,A=()=>{const O=new Float32Array(1),R=l(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),D=m(x);let N=!1,U=[0,0,-1,0,1,0],X=[0,0,0];const V=()=>{if(N)return;N=!0;const L=c(x,256,9,0);L.onaudioprocess=({inputBuffer:G})=>{const J=[y(G,O,0),y(G,O,1),y(G,O,2),y(G,O,3),y(G,O,4),y(G,O,5)];J.some((Y,ie)=>Y!==U[ie])&&(E.setOrientation(...J),U=J);const B=[y(G,O,6),y(G,O,7),y(G,O,8)];B.some((Y,ie)=>Y!==X[ie])&&(E.setPosition(...B),X=B)},R.connect(L)},K=L=>G=>{G!==U[L]&&(U[L]=G,E.setOrientation(...U))},W=L=>G=>{G!==X[L]&&(X[L]=G,E.setPosition(...X))},Q=(L,G,J)=>{const B=u(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:G});B.connect(R,0,L),B.start(),Object.defineProperty(B.offset,"defaultValue",{get(){return G}});const Y=f({context:p},D,B.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT);return _(Y,"value",ie=>()=>ie.call(Y),ie=>ne=>{try{ie.call(Y,ne)}catch(Z){if(Z.code!==9)throw Z}V(),D&&J(ne)}),Y.cancelAndHoldAtTime=(ie=>D?()=>{throw g()}:(...ne)=>{const Z=ie.apply(Y,ne);return V(),Z})(Y.cancelAndHoldAtTime),Y.cancelScheduledValues=(ie=>D?()=>{throw g()}:(...ne)=>{const Z=ie.apply(Y,ne);return V(),Z})(Y.cancelScheduledValues),Y.exponentialRampToValueAtTime=(ie=>D?()=>{throw g()}:(...ne)=>{const Z=ie.apply(Y,ne);return V(),Z})(Y.exponentialRampToValueAtTime),Y.linearRampToValueAtTime=(ie=>D?()=>{throw g()}:(...ne)=>{const Z=ie.apply(Y,ne);return V(),Z})(Y.linearRampToValueAtTime),Y.setTargetAtTime=(ie=>D?()=>{throw g()}:(...ne)=>{const Z=ie.apply(Y,ne);return V(),Z})(Y.setTargetAtTime),Y.setValueAtTime=(ie=>D?()=>{throw g()}:(...ne)=>{const Z=ie.apply(Y,ne);return V(),Z})(Y.setValueAtTime),Y.setValueCurveAtTime=(ie=>D?()=>{throw g()}:(...ne)=>{const Z=ie.apply(Y,ne);return V(),Z})(Y.setValueCurveAtTime),Y};return{forwardX:Q(0,0,K(0)),forwardY:Q(1,0,K(1)),forwardZ:Q(2,-1,K(2)),positionX:Q(6,0,W(0)),positionY:Q(7,0,W(1)),positionZ:Q(8,0,W(2)),upX:Q(3,0,K(3)),upY:Q(4,1,K(4)),upZ:Q(5,0,K(5))}},{forwardX:b,forwardY:k,forwardZ:S,positionX:T,positionY:P,positionZ:C,upX:M,upY:j,upZ:I}=E.forwardX===void 0?A():E;return{get forwardX(){return b},get forwardY(){return k},get forwardZ(){return S},get positionX(){return T},get positionY(){return P},get positionZ(){return C},get upX(){return M},get upY(){return j},get upZ(){return I}}},isAudioNode$1=f=>"context"in f,isAudioNodeOutputConnection=f=>isAudioNode$1(f[0]),insertElementInSet=(f,l,u,c)=>{for(const g of f)if(u(g)){if(c)return!1;throw Error("The set contains at least one similar element.")}return f.add(l),!0},addActiveInputConnectionToAudioParam=(f,l,[u,c],g)=>{insertElementInSet(f,[l,u,c],y=>y[0]===l&&y[1]===u,g)},addPassiveInputConnectionToAudioParam=(f,[l,u,c],g)=>{const y=f.get(l);y===void 0?f.set(l,new Set([[u,c]])):insertElementInSet(y,[u,c],m=>m[0]===u,g)},isNativeAudioNodeFaker=f=>"inputs"in f,connectNativeAudioNodeToNativeAudioNode=(f,l,u,c)=>{if(isNativeAudioNodeFaker(l)){const g=l.inputs[c];return f.connect(g,u,0),[g,u,0]}return f.connect(l,u,c),[l,u,c]},deleteActiveInputConnection=(f,l,u)=>{for(const c of f)if(c[0]===l&&c[1]===u)return f.delete(c),c;return null},deleteActiveInputConnectionToAudioParam=(f,l,u)=>pickElementFromSet(f,c=>c[0]===l&&c[1]===u),deleteEventListenerOfAudioNode=(f,l)=>{if(!getEventListenersOfAudioNode(f).delete(l))throw new Error("Missing the expected event listener.")},deletePassiveInputConnectionToAudioParam=(f,l,u)=>{const c=getValueForKey(f,l),g=pickElementFromSet(c,y=>y[0]===u);return c.size===0&&f.delete(l),g},disconnectNativeAudioNodeFromNativeAudioNode=(f,l,u,c)=>{isNativeAudioNodeFaker(l)?f.disconnect(l.inputs[c],u,0):f.disconnect(l,u,c)},getNativeAudioNode=f=>getValueForKey(AUDIO_NODE_STORE,f),getNativeAudioParam=f=>getValueForKey(AUDIO_PARAM_STORE,f),isPartOfACycle=f=>CYCLE_COUNTERS.has(f),isPassiveAudioNode=f=>!ACTIVE_AUDIO_NODE_STORE.has(f),testAudioNodeDisconnectMethodSupport=(f,l)=>new Promise(u=>{if(l!==null)u(!0);else{const c=f.createScriptProcessor(256,1,1),g=f.createGain(),y=f.createBuffer(1,2,44100),m=y.getChannelData(0);m[0]=1,m[1]=1;const _=f.createBufferSource();_.buffer=y,_.loop=!0,_.connect(c).connect(f.destination),_.connect(g),_.disconnect(g),c.onaudioprocess=p=>{const x=p.inputBuffer.getChannelData(0);Array.prototype.some.call(x,E=>E===1)?u(!0):u(!1),_.stop(),c.onaudioprocess=null,_.disconnect(c),c.disconnect(f.destination)},_.start()}}),visitEachAudioNodeOnce=(f,l)=>{const u=new Map;for(const c of f)for(const g of c){const y=u.get(g);u.set(g,y===void 0?1:y+1)}u.forEach((c,g)=>l(g,c))},isNativeAudioNode$1=f=>"context"in f,wrapAudioNodeDisconnectMethod=f=>{const l=new Map;f.connect=(u=>(c,g=0,y=0)=>{const m=isNativeAudioNode$1(c)?u(c,g,y):u(c,g),_=l.get(c);return _===void 0?l.set(c,[{input:y,output:g}]):_.every(p=>p.input!==y||p.output!==g)&&_.push({input:y,output:g}),m})(f.connect.bind(f)),f.disconnect=(u=>(c,g,y)=>{if(u.apply(f),c===void 0)l.clear();else if(typeof c=="number")for(const[m,_]of l){const p=_.filter(x=>x.output!==c);p.length===0?l.delete(m):l.set(m,p)}else if(l.has(c))if(g===void 0)l.delete(c);else{const m=l.get(c);if(m!==void 0){const _=m.filter(p=>p.output!==g&&(p.input!==y||y===void 0));_.length===0?l.delete(c):l.set(c,_)}}for(const[m,_]of l)_.forEach(p=>{isNativeAudioNode$1(m)?f.connect(m,p.output,p.input):f.connect(m,p.output)})})(f.disconnect)},addConnectionToAudioParamOfAudioContext=(f,l,u,c)=>{const{activeInputs:g,passiveInputs:y}=getAudioParamConnections(l),{outputs:m}=getAudioNodeConnections(f),_=getEventListenersOfAudioNode(f),p=x=>{const E=getNativeAudioNode(f),A=getNativeAudioParam(l);if(x){const b=deletePassiveInputConnectionToAudioParam(y,f,u);addActiveInputConnectionToAudioParam(g,f,b,!1),!c&&!isPartOfACycle(f)&&E.connect(A,u)}else{const b=deleteActiveInputConnectionToAudioParam(g,f,u);addPassiveInputConnectionToAudioParam(y,b,!1),!c&&!isPartOfACycle(f)&&E.disconnect(A,u)}};return insertElementInSet(m,[l,u],x=>x[0]===l&&x[1]===u,!0)?(_.add(p),isActiveAudioNode(f)?addActiveInputConnectionToAudioParam(g,f,[u,p],!0):addPassiveInputConnectionToAudioParam(y,[f,u,p],!0),!0):!1},deleteInputConnectionOfAudioNode=(f,l,u,c)=>{const{activeInputs:g,passiveInputs:y}=getAudioNodeConnections(l),m=deleteActiveInputConnection(g[c],f,u);return m===null?[deletePassiveInputConnectionToAudioNode(y,f,u,c)[2],!1]:[m[2],!0]},deleteInputConnectionOfAudioParam=(f,l,u)=>{const{activeInputs:c,passiveInputs:g}=getAudioParamConnections(l),y=deleteActiveInputConnection(c,f,u);return y===null?[deletePassiveInputConnectionToAudioParam(g,f,u)[1],!1]:[y[2],!0]},deleteInputsOfAudioNode=(f,l,u,c,g)=>{const[y,m]=deleteInputConnectionOfAudioNode(f,u,c,g);if(y!==null&&(deleteEventListenerOfAudioNode(f,y),m&&!l&&!isPartOfACycle(f)&&disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(f),getNativeAudioNode(u),c,g)),isActiveAudioNode(u)){const{activeInputs:_}=getAudioNodeConnections(u);setInternalStateToPassiveWhenNecessary(u,_)}},deleteInputsOfAudioParam=(f,l,u,c)=>{const[g,y]=deleteInputConnectionOfAudioParam(f,u,c);g!==null&&(deleteEventListenerOfAudioNode(f,g),y&&!l&&!isPartOfACycle(f)&&getNativeAudioNode(f).disconnect(getNativeAudioParam(u),c))},deleteAnyConnection=(f,l)=>{const u=getAudioNodeConnections(f),c=[];for(const g of u.outputs)isAudioNodeOutputConnection(g)?deleteInputsOfAudioNode(f,l,...g):deleteInputsOfAudioParam(f,l,...g),c.push(g[0]);return u.outputs.clear(),c},deleteConnectionAtOutput=(f,l,u)=>{const c=getAudioNodeConnections(f),g=[];for(const y of c.outputs)y[1]===u&&(isAudioNodeOutputConnection(y)?deleteInputsOfAudioNode(f,l,...y):deleteInputsOfAudioParam(f,l,...y),g.push(y[0]),c.outputs.delete(y));return g},deleteConnectionToDestination=(f,l,u,c,g)=>{const y=getAudioNodeConnections(f);return Array.from(y.outputs).filter(m=>m[0]===u&&(c===void 0||m[1]===c)&&(g===void 0||m[2]===g)).map(m=>(isAudioNodeOutputConnection(m)?deleteInputsOfAudioNode(f,l,...m):deleteInputsOfAudioParam(f,l,...m),y.outputs.delete(m),m[0]))},createAudioNodeConstructor=(f,l,u,c,g,y,m,_,p,x,E,A,b,k,S,T)=>class extends x{constructor(C,M,j,I){super(j),this._context=C,this._nativeAudioNode=j;const O=E(C);A(O)&&u(testAudioNodeDisconnectMethodSupport,()=>testAudioNodeDisconnectMethodSupport(O,T))!==!0&&wrapAudioNodeDisconnectMethod(j),AUDIO_NODE_STORE.set(this,j),EVENT_LISTENERS.set(this,new Set),C.state!=="closed"&&M&&setInternalStateToActive(this),f(this,I,j)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,M=0,j=0){if(M<0||M>=this._nativeAudioNode.numberOfOutputs)throw g();const I=E(this._context),O=S(I);if(b(C)||k(C))throw y();if(isAudioNode$1(C)){const N=getNativeAudioNode(C);try{const X=connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode,N,M,j),V=isPassiveAudioNode(this);(O||V)&&this._nativeAudioNode.disconnect(...X),this.context.state!=="closed"&&!V&&isPassiveAudioNode(C)&&setInternalStateToActive(C)}catch(X){throw X.code===12?y():X}if(l(this,C,M,j,O)){const X=p([this],C);visitEachAudioNodeOnce(X,c(O))}return C}const R=getNativeAudioParam(C);if(R.name==="playbackRate"&&R.maxValue===1024)throw m();try{this._nativeAudioNode.connect(R,M),(O||isPassiveAudioNode(this))&&this._nativeAudioNode.disconnect(R,M)}catch(N){throw N.code===12?y():N}if(addConnectionToAudioParamOfAudioContext(this,C,M,O)){const N=p([this],C);visitEachAudioNodeOnce(N,c(O))}}disconnect(C,M,j){let I;const O=E(this._context),R=S(O);if(C===void 0)I=deleteAnyConnection(this,R);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw g();I=deleteConnectionAtOutput(this,R,C)}else{if(M!==void 0&&(M<0||M>=this.numberOfOutputs)||isAudioNode$1(C)&&j!==void 0&&(j<0||j>=C.numberOfInputs))throw g();if(I=deleteConnectionToDestination(this,R,C,M,j),I.length===0)throw y()}for(const D of I){const N=p([this],D);visitEachAudioNodeOnce(N,_)}}},createAudioParamFactory=(f,l,u,c,g,y,m,_,p,x,E,A,b)=>(k,S,T,P=null,C=null)=>{const M=T.value,j=new AutomationEventList(M),I=S?c(j):null,O={get defaultValue(){return M},get maxValue(){return P===null?T.maxValue:P},get minValue(){return C===null?T.minValue:C},get value(){return T.value},set value(R){T.value=R,O.setValueAtTime(R,k.context.currentTime)},cancelAndHoldAtTime(R){if(typeof T.cancelAndHoldAtTime=="function")I===null&&j.flush(k.context.currentTime),j.add(g(R)),T.cancelAndHoldAtTime(R);else{const D=Array.from(j).pop();I===null&&j.flush(k.context.currentTime),j.add(g(R));const N=Array.from(j).pop();T.cancelScheduledValues(R),D!==N&&N!==void 0&&(N.type==="exponentialRampToValue"?T.exponentialRampToValueAtTime(N.value,N.endTime):N.type==="linearRampToValue"?T.linearRampToValueAtTime(N.value,N.endTime):N.type==="setValue"?T.setValueAtTime(N.value,N.startTime):N.type==="setValueCurve"&&T.setValueCurveAtTime(N.values,N.startTime,N.duration))}return O},cancelScheduledValues(R){return I===null&&j.flush(k.context.currentTime),j.add(y(R)),T.cancelScheduledValues(R),O},exponentialRampToValueAtTime(R,D){if(R===0)throw new RangeError;if(!Number.isFinite(D)||D<0)throw new RangeError;const N=k.context.currentTime;return I===null&&j.flush(N),Array.from(j).length===0&&(j.add(x(M,N)),T.setValueAtTime(M,N)),j.add(m(R,D)),T.exponentialRampToValueAtTime(R,D),O},linearRampToValueAtTime(R,D){const N=k.context.currentTime;return I===null&&j.flush(N),Array.from(j).length===0&&(j.add(x(M,N)),T.setValueAtTime(M,N)),j.add(_(R,D)),T.linearRampToValueAtTime(R,D),O},setTargetAtTime(R,D,N){return I===null&&j.flush(k.context.currentTime),j.add(p(R,D,N)),T.setTargetAtTime(R,D,N),O},setValueAtTime(R,D){return I===null&&j.flush(k.context.currentTime),j.add(x(R,D)),T.setValueAtTime(R,D),O},setValueCurveAtTime(R,D,N){const U=R instanceof Float32Array?R:new Float32Array(R);if(A!==null&&A.name==="webkitAudioContext"){const X=D+N,V=k.context.sampleRate,K=Math.ceil(D*V),W=Math.floor(X*V),Q=W-K,L=new Float32Array(Q);for(let J=0;J<Q;J+=1){const B=(U.length-1)/N*((K+J)/V-D),Y=Math.floor(B),ie=Math.ceil(B);L[J]=Y===ie?U[Y]:(1-(B-Y))*U[Y]+(1-(ie-B))*U[ie]}I===null&&j.flush(k.context.currentTime),j.add(E(L,D,N)),T.setValueCurveAtTime(L,D,N);const G=W/V;G<X&&b(O,L[L.length-1],G),b(O,U[U.length-1],X)}else I===null&&j.flush(k.context.currentTime),j.add(E(U,D,N)),T.setValueCurveAtTime(U,D,N);return O}};return u.set(O,T),l.set(O,k),f(O,I),O},createAudioParamRenderer=f=>({replay(l){for(const u of f)if(u.type==="exponentialRampToValue"){const{endTime:c,value:g}=u;l.exponentialRampToValueAtTime(g,c)}else if(u.type==="linearRampToValue"){const{endTime:c,value:g}=u;l.linearRampToValueAtTime(g,c)}else if(u.type==="setTarget"){const{startTime:c,target:g,timeConstant:y}=u;l.setTargetAtTime(g,c,y)}else if(u.type==="setValue"){const{startTime:c,value:g}=u;l.setValueAtTime(g,c)}else if(u.type==="setValueCurve"){const{duration:c,startTime:g,values:y}=u;l.setValueCurveAtTime(y,g,c)}else throw new Error("Can't apply an unknown automation.")}});class ReadOnlyMap{constructor(l){this._map=new Map(l)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(l,u=null){return this._map.forEach((c,g)=>l.call(u,c,g,this))}get(l){return this._map.get(l)}has(l){return this._map.has(l)}keys(){return this._map.keys()}values(){return this._map.values()}}const DEFAULT_OPTIONS$g={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},createAudioWorkletNodeConstructor=(f,l,u,c,g,y,m,_,p,x,E,A,b,k)=>class extends l{constructor(T,P,C){var M;const j=_(T),I=p(j),O=E({...DEFAULT_OPTIONS$g,...C});b(O);const R=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(j),D=R==null?void 0:R.get(P),N=I||j.state!=="closed"?j:(M=m(j))!==null&&M!==void 0?M:j,U=g(N,I?null:T.baseLatency,x,P,D,O),X=I?c(P,O,D):null;super(T,!0,U,X);const V=[];U.parameters.forEach((W,Q)=>{const L=u(this,I,W);V.push([Q,L])}),this._nativeAudioWorkletNode=U,this._onprocessorerror=null,this._parameters=new ReadOnlyMap(V),I&&f(j,this);const{activeInputs:K}=y(this);A(U,K)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(T){const P=typeof T=="function"?k(this,T):null;this._nativeAudioWorkletNode.onprocessorerror=P;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===P?T:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function copyFromChannel(f,l,u,c,g){if(typeof f.copyFromChannel=="function")l[u].byteLength===0&&(l[u]=new Float32Array(128)),f.copyFromChannel(l[u],c,g);else{const y=f.getChannelData(c);if(l[u].byteLength===0)l[u]=y.slice(g,g+128);else{const m=new Float32Array(y.buffer,g*Float32Array.BYTES_PER_ELEMENT,128);l[u].set(m)}}}const copyToChannel=(f,l,u,c,g)=>{typeof f.copyToChannel=="function"?l[u].byteLength!==0&&f.copyToChannel(l[u],c,g):l[u].byteLength!==0&&f.getChannelData(c).set(l[u],g)},createNestedArrays=(f,l)=>{const u=[];for(let c=0;c<f;c+=1){const g=[],y=typeof l=="number"?l:l[c];for(let m=0;m<y;m+=1)g.push(new Float32Array(128));u.push(g)}return u},getAudioWorkletProcessor=(f,l)=>{const u=getValueForKey(NODE_TO_PROCESSOR_MAPS,f),c=getNativeAudioNode(l);return getValueForKey(u,c)},processBuffer=async(f,l,u,c,g,y,m)=>{const _=l===null?Math.ceil(f.context.length/128)*128:l.length,p=c.channelCount*c.numberOfInputs,x=g.reduce((P,C)=>P+C,0),E=x===0?null:u.createBuffer(x,_,u.sampleRate);if(y===void 0)throw new Error("Missing the processor constructor.");const A=getAudioNodeConnections(f),b=await getAudioWorkletProcessor(u,f),k=createNestedArrays(c.numberOfInputs,c.channelCount),S=createNestedArrays(c.numberOfOutputs,g),T=Array.from(f.parameters.keys()).reduce((P,C)=>({...P,[C]:new Float32Array(128)}),{});for(let P=0;P<_;P+=128){if(c.numberOfInputs>0&&l!==null)for(let C=0;C<c.numberOfInputs;C+=1)for(let M=0;M<c.channelCount;M+=1)copyFromChannel(l,k[C],M,M,P);y.parameterDescriptors!==void 0&&l!==null&&y.parameterDescriptors.forEach(({name:C},M)=>{copyFromChannel(l,T,C,p+M,P)});for(let C=0;C<c.numberOfInputs;C+=1)for(let M=0;M<g[C];M+=1)S[C][M].byteLength===0&&(S[C][M]=new Float32Array(128));try{const C=k.map((j,I)=>A.activeInputs[I].size===0?[]:j),M=m(P/u.sampleRate,u.sampleRate,()=>b.process(C,S,T));if(E!==null)for(let j=0,I=0;j<c.numberOfOutputs;j+=1){for(let O=0;O<g[j];O+=1)copyToChannel(E,S[j],O,I+O,P);I+=g[j]}if(!M)break}catch(C){f.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return E},createAudioWorkletNodeRendererFactory=(f,l,u,c,g,y,m,_,p,x,E,A,b,k,S,T)=>(P,C,M)=>{const j=new WeakMap;let I=null;const O=async(R,D)=>{let N=E(R),U=null;const X=isOwnedByContext(N,D),V=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(A===null){const K=V.reduce((G,J)=>G+J,0),W=g(D,{channelCount:Math.max(1,K),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,K)}),Q=[];for(let G=0;G<R.numberOfOutputs;G+=1)Q.push(c(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:V[G]}));const L=m(D,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});L.connect=l.bind(null,Q),L.disconnect=p.bind(null,Q),U=[W,Q,L]}else X||(N=new A(D,P));if(j.set(D,U===null?N:U[2]),U!==null){if(I===null){if(M===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const J=R.channelCount*R.numberOfInputs,B=M.parameterDescriptors===void 0?0:M.parameterDescriptors.length,Y=J+B;I=processBuffer(R,Y===0?null:await(async()=>{const ne=new b(Y,Math.ceil(R.context.length/128)*128,D.sampleRate),Z=[],H=[];for(let se=0;se<C.numberOfInputs;se+=1)Z.push(m(ne,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),H.push(g(ne,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const z=await Promise.all(Array.from(R.parameters.values()).map(async se=>{const le=y(ne,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:se.value});return await k(ne,se,le.offset),le})),ee=c(ne,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,J+B)});for(let se=0;se<C.numberOfInputs;se+=1){Z[se].connect(H[se]);for(let le=0;le<C.channelCount;le+=1)H[se].connect(ee,le,se*C.channelCount+le)}for(const[se,le]of z.entries())le.connect(ee,0,J+se),le.start(0);return ee.connect(ne.destination),await Promise.all(Z.map(se=>S(R,ne,se))),T(ne)})(),D,C,V,M,x)}const K=await I,W=u(D,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[Q,L,G]=U;K!==null&&(W.buffer=K,W.start(0)),W.connect(Q);for(let J=0,B=0;J<R.numberOfOutputs;J+=1){const Y=L[J];for(let ie=0;ie<V[J];ie+=1)Q.connect(Y,B+ie,ie);B+=V[J]}return G}if(X)for(const[K,W]of R.parameters.entries())await f(D,W,N.parameters.get(K));else for(const[K,W]of R.parameters.entries())await k(D,W,N.parameters.get(K));return await S(R,D,N),N};return{render(R,D){_(D,R);const N=j.get(D);return N!==void 0?Promise.resolve(N):O(R,D)}}},createBaseAudioContextConstructor=(f,l,u,c,g,y,m,_,p,x,E,A,b,k,S,T,P,C,M,j)=>class extends S{constructor(O,R){super(O,R),this._nativeContext=O,this._audioWorklet=f===void 0?void 0:{addModule:(D,N)=>f(this,D,N)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new l(this)}createBiquadFilter(){return new g(this)}createBuffer(O,R,D){return new u({length:R,numberOfChannels:O,sampleRate:D})}createBufferSource(){return new c(this)}createChannelMerger(O=6){return new y(this,{numberOfInputs:O})}createChannelSplitter(O=6){return new m(this,{numberOfOutputs:O})}createConstantSource(){return new _(this)}createConvolver(){return new p(this)}createDelay(O=1){return new E(this,{maxDelayTime:O})}createDynamicsCompressor(){return new A(this)}createGain(){return new b(this)}createIIRFilter(O,R){return new k(this,{feedback:R,feedforward:O})}createOscillator(){return new T(this)}createPanner(){return new P(this)}createPeriodicWave(O,R,D={disableNormalization:!1}){return new C(this,{...D,imag:R,real:O})}createStereoPanner(){return new M(this)}createWaveShaper(){return new j(this)}decodeAudioData(O,R,D){return x(this._nativeContext,O).then(N=>(typeof R=="function"&&R(N),N),N=>{throw typeof D=="function"&&D(N),N})}},DEFAULT_OPTIONS$f={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},createBiquadFilterNodeConstructor=(f,l,u,c,g,y,m,_)=>class extends f{constructor(x,E){const A=y(x),b={...DEFAULT_OPTIONS$f,...E},k=g(A,b),S=m(A),T=S?u():null;super(x,!1,k,T),this._Q=l(this,S,k.Q,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._detune=l(this,S,k.detune,1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT),-1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT)),this._frequency=l(this,S,k.frequency,x.sampleRate/2,0),this._gain=l(this,S,k.gain,40*Math.log10(MOST_POSITIVE_SINGLE_FLOAT),MOST_NEGATIVE_SINGLE_FLOAT),this._nativeBiquadFilterNode=k,_(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(x){this._nativeBiquadFilterNode.type=x}getFrequencyResponse(x,E,A){try{this._nativeBiquadFilterNode.getFrequencyResponse(x,E,A)}catch(b){throw b.code===11?c():b}if(x.length!==E.length||E.length!==A.length)throw c()}},createBiquadFilterNodeRendererFactory=(f,l,u,c,g)=>()=>{const y=new WeakMap,m=async(_,p)=>{let x=u(_);const E=isOwnedByContext(x,p);if(!E){const A={Q:x.Q.value,channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,detune:x.detune.value,frequency:x.frequency.value,gain:x.gain.value,type:x.type};x=l(p,A)}return y.set(p,x),E?(await f(p,_.Q,x.Q),await f(p,_.detune,x.detune),await f(p,_.frequency,x.frequency),await f(p,_.gain,x.gain)):(await c(p,_.Q,x.Q),await c(p,_.detune,x.detune),await c(p,_.frequency,x.frequency),await c(p,_.gain,x.gain)),await g(_,p,x),x};return{render(_,p){const x=y.get(p);return x!==void 0?Promise.resolve(x):m(_,p)}}},createCacheTestResult=(f,l)=>(u,c)=>{const g=l.get(u);if(g!==void 0)return g;const y=f.get(u);if(y!==void 0)return y;try{const m=c();return m instanceof Promise?(f.set(u,m),m.catch(()=>!1).then(_=>(f.delete(u),l.set(u,_),_))):(l.set(u,m),m)}catch{return l.set(u,!1),!1}},DEFAULT_OPTIONS$e={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},createChannelMergerNodeConstructor=(f,l,u,c,g)=>class extends f{constructor(m,_){const p=c(m),x={...DEFAULT_OPTIONS$e,..._},E=u(p,x),A=g(p)?l():null;super(m,!1,E,A)}},createChannelMergerNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,g=async(y,m)=>{let _=l(y);if(!isOwnedByContext(_,m)){const x={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,numberOfInputs:_.numberOfInputs};_=f(m,x)}return c.set(m,_),await u(y,m,_),_};return{render(y,m){const _=c.get(m);return _!==void 0?Promise.resolve(_):g(y,m)}}},DEFAULT_OPTIONS$d={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},createChannelSplitterNodeConstructor=(f,l,u,c,g,y)=>class extends f{constructor(_,p){const x=c(_),E=y({...DEFAULT_OPTIONS$d,...p}),A=u(x,E),b=g(x)?l():null;super(_,!1,A,b)}},createChannelSplitterNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,g=async(y,m)=>{let _=l(y);if(!isOwnedByContext(_,m)){const x={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,numberOfOutputs:_.numberOfOutputs};_=f(m,x)}return c.set(m,_),await u(y,m,_),_};return{render(y,m){const _=c.get(m);return _!==void 0?Promise.resolve(_):g(y,m)}}},createConnectAudioParam=f=>(l,u,c)=>f(u,l,c),createConnectMultipleOutputs=f=>(l,u,c=0,g=0)=>{const y=l[c];if(y===void 0)throw f();return isNativeAudioNode$1(u)?y.connect(u,0,g):y.connect(u,0)},createConnectedNativeAudioBufferSourceNodeFactory=f=>(l,u)=>{const c=f(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),g=l.createBuffer(1,2,44100);return c.buffer=g,c.loop=!0,c.connect(u),c.start(),()=>{c.stop(),c.disconnect(u)}},DEFAULT_OPTIONS$c={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},createConstantSourceNodeConstructor=(f,l,u,c,g,y,m)=>class extends f{constructor(p,x){const E=g(p),A={...DEFAULT_OPTIONS$c,...x},b=c(E,A),k=y(E),S=k?u():null;super(p,!1,b,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=b,this._offset=l(this,k,b.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(p){const x=typeof p=="function"?m(this,p):null;this._nativeConstantSourceNode.onended=x;const E=this._nativeConstantSourceNode.onended;this._onended=E!==null&&E===x?p:E}start(p=0){if(this._nativeConstantSourceNode.start(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=p),this.context.state!=="closed"){setInternalStateToActive(this);const x=()=>{this._nativeConstantSourceNode.removeEventListener("ended",x),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeConstantSourceNode.addEventListener("ended",x)}}stop(p=0){this._nativeConstantSourceNode.stop(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=p)}},createConstantSourceNodeRendererFactory=(f,l,u,c,g)=>()=>{const y=new WeakMap;let m=null,_=null;const p=async(x,E)=>{let A=u(x);const b=isOwnedByContext(A,E);if(!b){const k={channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,offset:A.offset.value};A=l(E,k),m!==null&&A.start(m),_!==null&&A.stop(_)}return y.set(E,A),b?await f(E,x.offset,A.offset):await c(E,x.offset,A.offset),await g(x,E,A),A};return{set start(x){m=x},set stop(x){_=x},render(x,E){const A=y.get(E);return A!==void 0?Promise.resolve(A):p(x,E)}}},createConvertNumberToUnsignedLong=f=>l=>(f[0]=l,f[0]),DEFAULT_OPTIONS$b={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},createConvolverNodeConstructor=(f,l,u,c,g,y)=>class extends f{constructor(_,p){const x=c(_),E={...DEFAULT_OPTIONS$b,...p},A=u(x,E),k=g(x)?l():null;super(_,!1,A,k),this._isBufferNullified=!1,this._nativeConvolverNode=A,E.buffer!==null&&y(this,E.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(_){if(this._nativeConvolverNode.buffer=_,_===null&&this._nativeConvolverNode.buffer!==null){const p=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=p.createBuffer(1,1,p.sampleRate),this._isBufferNullified=!0,y(this,0)}else this._isBufferNullified=!1,y(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(_){this._nativeConvolverNode.normalize=_}},createConvolverNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,g=async(y,m)=>{let _=l(y);if(!isOwnedByContext(_,m)){const x={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,disableNormalization:!_.normalize};_=f(m,x)}return c.set(m,_),isNativeAudioNodeFaker(_)?await u(y,m,_.inputs[0]):await u(y,m,_),_};return{render(y,m){const _=c.get(m);return _!==void 0?Promise.resolve(_):g(y,m)}}},createCreateNativeOfflineAudioContext=(f,l)=>(u,c,g)=>{if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new l(u,c,g)}catch(y){throw y.name==="SyntaxError"?f():y}},createDataCloneError=()=>new DOMException("","DataCloneError"),detachArrayBuffer=f=>{const{port1:l,port2:u}=new MessageChannel;return new Promise(c=>{const g=()=>{u.onmessage=null,l.close(),u.close(),c()};u.onmessage=()=>g();try{l.postMessage(f,[f])}catch{}finally{g()}})},createDecodeAudioData=(f,l,u,c,g,y,m,_,p,x,E)=>(A,b)=>{const k=m(A)?A:y(A);if(g.has(b)){const S=u();return Promise.reject(S)}try{g.add(b)}catch{}return l(p,()=>p(k))?k.decodeAudioData(b).then(S=>(detachArrayBuffer(b).catch(()=>{}),l(_,()=>_(S))||E(S),f.add(S),S)):new Promise((S,T)=>{const P=async()=>{try{await detachArrayBuffer(b)}catch{}},C=M=>{T(M),P()};try{k.decodeAudioData(b,M=>{typeof M.copyFromChannel!="function"&&(x(M),wrapAudioBufferGetChannelDataMethod(M)),f.add(M),P().then(()=>S(M))},M=>{C(M===null?c():M)})}catch(M){C(M)}})},createDecrementCycleCounter=(f,l,u,c,g,y,m,_)=>(p,x)=>{const E=l.get(p);if(E===void 0)throw new Error("Missing the expected cycle count.");const A=y(p.context),b=_(A);if(E===x){if(l.delete(p),!b&&m(p)){const k=c(p),{outputs:S}=u(p);for(const T of S)if(isAudioNodeOutputConnection(T)){const P=c(T[0]);f(k,P,T[1],T[2])}else{const P=g(T[0]);k.connect(P,T[1])}}}else l.set(p,E-x)},DEFAULT_OPTIONS$a={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},createDelayNodeConstructor=(f,l,u,c,g,y,m)=>class extends f{constructor(p,x){const E=g(p),A={...DEFAULT_OPTIONS$a,...x},b=c(E,A),k=y(E),S=k?u(A.maxDelayTime):null;super(p,!1,b,S),this._delayTime=l(this,k,b.delayTime),m(this,A.maxDelayTime)}get delayTime(){return this._delayTime}},createDelayNodeRendererFactory=(f,l,u,c,g)=>y=>{const m=new WeakMap,_=async(p,x)=>{let E=u(p);const A=isOwnedByContext(E,x);if(!A){const b={channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,delayTime:E.delayTime.value,maxDelayTime:y};E=l(x,b)}return m.set(x,E),A?await f(x,p.delayTime,E.delayTime):await c(x,p.delayTime,E.delayTime),await g(p,x,E),E};return{render(p,x){const E=m.get(x);return E!==void 0?Promise.resolve(E):_(p,x)}}},createDeleteActiveInputConnectionToAudioNode=f=>(l,u,c,g)=>f(l[g],y=>y[0]===u&&y[1]===c),createDeleteUnrenderedAudioWorkletNode=f=>(l,u)=>{f(l).delete(u)},isDelayNode=f=>"delayTime"in f,createDetectCycles=(f,l,u)=>function c(g,y){const m=isAudioNode$1(y)?y:u(f,y);if(isDelayNode(m))return[];if(g[0]===m)return[g];if(g.includes(m))return[];const{outputs:_}=l(m);return Array.from(_).map(p=>c([...g,m],p[0])).reduce((p,x)=>p.concat(x),[])},getOutputAudioNodeAtIndex=(f,l,u)=>{const c=l[u];if(c===void 0)throw f();return c},createDisconnectMultipleOutputs=f=>(l,u=void 0,c=void 0,g=0)=>u===void 0?l.forEach(y=>y.disconnect()):typeof u=="number"?getOutputAudioNodeAtIndex(f,l,u).disconnect():isNativeAudioNode$1(u)?c===void 0?l.forEach(y=>y.disconnect(u)):g===void 0?getOutputAudioNodeAtIndex(f,l,c).disconnect(u,0):getOutputAudioNodeAtIndex(f,l,c).disconnect(u,0,g):c===void 0?l.forEach(y=>y.disconnect(u)):getOutputAudioNodeAtIndex(f,l,c).disconnect(u,0),DEFAULT_OPTIONS$9={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},createDynamicsCompressorNodeConstructor=(f,l,u,c,g,y,m,_)=>class extends f{constructor(x,E){const A=y(x),b={...DEFAULT_OPTIONS$9,...E},k=c(A,b),S=m(A),T=S?u():null;super(x,!1,k,T),this._attack=l(this,S,k.attack),this._knee=l(this,S,k.knee),this._nativeDynamicsCompressorNode=k,this._ratio=l(this,S,k.ratio),this._release=l(this,S,k.release),this._threshold=l(this,S,k.threshold),_(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(x){const E=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=x,x>2)throw this._nativeDynamicsCompressorNode.channelCount=E,g()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(x){const E=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=x,x==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=E,g()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},createDynamicsCompressorNodeRendererFactory=(f,l,u,c,g)=>()=>{const y=new WeakMap,m=async(_,p)=>{let x=u(_);const E=isOwnedByContext(x,p);if(!E){const A={attack:x.attack.value,channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,knee:x.knee.value,ratio:x.ratio.value,release:x.release.value,threshold:x.threshold.value};x=l(p,A)}return y.set(p,x),E?(await f(p,_.attack,x.attack),await f(p,_.knee,x.knee),await f(p,_.ratio,x.ratio),await f(p,_.release,x.release),await f(p,_.threshold,x.threshold)):(await c(p,_.attack,x.attack),await c(p,_.knee,x.knee),await c(p,_.ratio,x.ratio),await c(p,_.release,x.release),await c(p,_.threshold,x.threshold)),await g(_,p,x),x};return{render(_,p){const x=y.get(p);return x!==void 0?Promise.resolve(x):m(_,p)}}},createEncodingError=()=>new DOMException("","EncodingError"),createEvaluateSource=f=>l=>new Promise((u,c)=>{if(f===null){c(new SyntaxError);return}const g=f.document.head;if(g===null)c(new SyntaxError);else{const y=f.document.createElement("script"),m=new Blob([l],{type:"application/javascript"}),_=URL.createObjectURL(m),p=f.onerror,x=()=>{f.onerror=p,URL.revokeObjectURL(_)};f.onerror=(E,A,b,k,S)=>{if(A===_||A===f.location.href&&b===1&&k===1)return x(),c(S),!1;if(p!==null)return p(E,A,b,k,S)},y.onerror=()=>{x(),c(new SyntaxError)},y.onload=()=>{x(),u()},y.src=_,y.type="module",g.appendChild(y)}}),createEventTargetConstructor=f=>class{constructor(u){this._nativeEventTarget=u,this._listeners=new WeakMap}addEventListener(u,c,g){if(c!==null){let y=this._listeners.get(c);y===void 0&&(y=f(this,c),typeof c=="function"&&this._listeners.set(c,y)),this._nativeEventTarget.addEventListener(u,y,g)}}dispatchEvent(u){return this._nativeEventTarget.dispatchEvent(u)}removeEventListener(u,c,g){const y=c===null?void 0:this._listeners.get(c);this._nativeEventTarget.removeEventListener(u,y===void 0?null:y,g)}},createExposeCurrentFrameAndCurrentTime=f=>(l,u,c)=>{Object.defineProperties(f,{currentFrame:{configurable:!0,get(){return Math.round(l*u)}},currentTime:{configurable:!0,get(){return l}}});try{return c()}finally{f!==null&&(delete f.currentFrame,delete f.currentTime)}},createFetchSource=f=>async l=>{try{const u=await fetch(l);if(u.ok)return[await u.text(),u.url]}catch{}throw f()},DEFAULT_OPTIONS$8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},createGainNodeConstructor=(f,l,u,c,g,y)=>class extends f{constructor(_,p){const x=g(_),E={...DEFAULT_OPTIONS$8,...p},A=c(x,E),b=y(x),k=b?u():null;super(_,!1,A,k),this._gain=l(this,b,A.gain,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get gain(){return this._gain}},createGainNodeRendererFactory=(f,l,u,c,g)=>()=>{const y=new WeakMap,m=async(_,p)=>{let x=u(_);const E=isOwnedByContext(x,p);if(!E){const A={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:x.gain.value};x=l(p,A)}return y.set(p,x),E?await f(p,_.gain,x.gain):await c(p,_.gain,x.gain),await g(_,p,x),x};return{render(_,p){const x=y.get(p);return x!==void 0?Promise.resolve(x):m(_,p)}}},createGetActiveAudioWorkletNodeInputs=(f,l)=>u=>l(f,u),createGetAudioNodeRenderer=f=>l=>{const u=f(l);if(u.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return u.renderer},createGetAudioNodeTailTime=f=>l=>{var u;return(u=f.get(l))!==null&&u!==void 0?u:0},createGetAudioParamRenderer=f=>l=>{const u=f(l);if(u.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return u.renderer},createGetBackupOfflineAudioContext=f=>l=>f.get(l),createInvalidStateError=()=>new DOMException("","InvalidStateError"),createGetNativeContext=f=>l=>{const u=f.get(l);if(u===void 0)throw createInvalidStateError();return u},createGetOrCreateBackupOfflineAudioContext=(f,l)=>u=>{let c=f.get(u);if(c!==void 0)return c;if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");return c=new l(1,1,44100),f.set(u,c),c},createGetUnrenderedAudioWorkletNodes=f=>l=>{const u=f.get(l);if(u===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return u},createInvalidAccessError=()=>new DOMException("","InvalidAccessError"),wrapIIRFilterNodeGetFrequencyResponseMethod=f=>{f.getFrequencyResponse=(l=>(u,c,g)=>{if(u.length!==c.length||c.length!==g.length)throw createInvalidAccessError();return l.call(f,u,c,g)})(f.getFrequencyResponse)},DEFAULT_OPTIONS$7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},createIIRFilterNodeConstructor=(f,l,u,c,g,y)=>class extends f{constructor(_,p){const x=c(_),E=g(x),A={...DEFAULT_OPTIONS$7,...p},b=l(x,E?null:_.baseLatency,A),k=E?u(A.feedback,A.feedforward):null;super(_,!1,b,k),wrapIIRFilterNodeGetFrequencyResponseMethod(b),this._nativeIIRFilterNode=b,y(this,1)}getFrequencyResponse(_,p,x){return this._nativeIIRFilterNode.getFrequencyResponse(_,p,x)}},filterBuffer=(f,l,u,c,g,y,m,_,p,x,E)=>{const A=x.length;let b=_;for(let k=0;k<A;k+=1){let S=u[0]*x[k];for(let T=1;T<g;T+=1){const P=b-T&p-1;S+=u[T]*y[P],S-=f[T]*m[P]}for(let T=g;T<c;T+=1)S+=u[T]*y[b-T&p-1];for(let T=g;T<l;T+=1)S-=f[T]*m[b-T&p-1];y[b]=x[k],m[b]=S,b=b+1&p-1,E[k]=S}return b},filterFullBuffer=(f,l,u,c)=>{const g=u instanceof Float64Array?u:new Float64Array(u),y=c instanceof Float64Array?c:new Float64Array(c),m=g.length,_=y.length,p=Math.min(m,_);if(g[0]!==1){for(let S=0;S<m;S+=1)y[S]/=g[0];for(let S=1;S<_;S+=1)g[S]/=g[0]}const x=32,E=new Float32Array(x),A=new Float32Array(x),b=l.createBuffer(f.numberOfChannels,f.length,f.sampleRate),k=f.numberOfChannels;for(let S=0;S<k;S+=1){const T=f.getChannelData(S),P=b.getChannelData(S);E.fill(0),A.fill(0),filterBuffer(g,m,y,_,p,E,A,0,x,T,P)}return b},createIIRFilterNodeRendererFactory=(f,l,u,c,g)=>(y,m)=>{const _=new WeakMap;let p=null;const x=async(E,A)=>{let b=null,k=l(E);const S=isOwnedByContext(k,A);if(A.createIIRFilter===void 0?b=f(A,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(k=A.createIIRFilter(m,y)),_.set(A,b===null?k:b),b!==null){if(p===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const P=new u(E.context.destination.channelCount,E.context.length,A.sampleRate);p=(async()=>{await c(E,P,P.destination);const C=await g(P);return filterFullBuffer(C,A,y,m)})()}const T=await p;return b.buffer=T,b.start(0),b}return await c(E,A,k),k};return{render(E,A){const b=_.get(A);return b!==void 0?Promise.resolve(b):x(E,A)}}},createIncrementCycleCounterFactory=(f,l,u,c,g,y)=>m=>(_,p)=>{const x=f.get(_);if(x===void 0){if(!m&&y(_)){const E=c(_),{outputs:A}=u(_);for(const b of A)if(isAudioNodeOutputConnection(b)){const k=c(b[0]);l(E,k,b[1],b[2])}else{const k=g(b[0]);E.disconnect(k,b[1])}}f.set(_,p)}else f.set(_,x+p)},createIsAnyAudioContext=(f,l)=>u=>{const c=f.get(u);return l(c)||l(u)},createIsAnyAudioNode=(f,l)=>u=>f.has(u)||l(u),createIsAnyAudioParam=(f,l)=>u=>f.has(u)||l(u),createIsAnyOfflineAudioContext=(f,l)=>u=>{const c=f.get(u);return l(c)||l(u)},createIsNativeAudioContext=f=>l=>f!==null&&l instanceof f,createIsNativeAudioNode=f=>l=>f!==null&&typeof f.AudioNode=="function"&&l instanceof f.AudioNode,createIsNativeAudioParam=f=>l=>f!==null&&typeof f.AudioParam=="function"&&l instanceof f.AudioParam,createIsNativeContext=(f,l)=>u=>f(u)||l(u),createIsNativeOfflineAudioContext=f=>l=>f!==null&&l instanceof f,createIsSecureContext=f=>f!==null&&f.isSecureContext,createMediaElementAudioSourceNodeConstructor=(f,l,u,c)=>class extends f{constructor(y,m){const _=u(y),p=l(_,m);if(c(_))throw TypeError();super(y,!0,p,null),this._nativeMediaElementAudioSourceNode=p}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},DEFAULT_OPTIONS$6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},createMediaStreamAudioDestinationNodeConstructor=(f,l,u,c)=>class extends f{constructor(y,m){const _=u(y);if(c(_))throw new TypeError;const p={...DEFAULT_OPTIONS$6,...m},x=l(_,p);super(y,!1,x,null),this._nativeMediaStreamAudioDestinationNode=x}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},createMediaStreamAudioSourceNodeConstructor=(f,l,u,c)=>class extends f{constructor(y,m){const _=u(y),p=l(_,m);if(c(_))throw new TypeError;super(y,!0,p,null),this._nativeMediaStreamAudioSourceNode=p}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},createMediaStreamTrackAudioSourceNodeConstructor=(f,l,u)=>class extends f{constructor(g,y){const m=u(g),_=l(m,y);super(g,!0,_,null)}},createMinimalBaseAudioContextConstructor=(f,l,u,c,g,y)=>class extends u{constructor(_,p){super(_),this._nativeContext=_,CONTEXT_STORE.set(this,_),c(_)&&g.set(_,new Set),this._destination=new f(this,p),this._listener=l(this,_),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(_){const p=typeof _=="function"?y(this,_):null;this._nativeContext.onstatechange=p;const x=this._nativeContext.onstatechange;this._onstatechange=x!==null&&x===p?_:x}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},testPromiseSupport=f=>{const l=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const u=f.decodeAudioData(l.buffer,()=>{});return u===void 0?!1:(u.catch(()=>{}),!0)}catch{}return!1},createMonitorConnections=(f,l)=>(u,c,g)=>{const y=new Set;return u.connect=(m=>(_,p=0,x=0)=>{const E=y.size===0;if(l(_))return m.call(u,_,p,x),f(y,[_,p,x],A=>A[0]===_&&A[1]===p&&A[2]===x,!0),E&&c(),_;m.call(u,_,p),f(y,[_,p],A=>A[0]===_&&A[1]===p,!0),E&&c()})(u.connect),u.disconnect=(m=>(_,p,x)=>{const E=y.size>0;if(_===void 0)m.apply(u),y.clear();else if(typeof _=="number"){m.call(u,_);for(const b of y)b[1]===_&&y.delete(b)}else{l(_)?m.call(u,_,p,x):m.call(u,_,p);for(const b of y)b[0]===_&&(p===void 0||b[1]===p)&&(x===void 0||b[2]===x)&&y.delete(b)}const A=y.size===0;E&&A&&g()})(u.disconnect),u},assignNativeAudioNodeOption=(f,l,u)=>{const c=l[u];c!==void 0&&c!==f[u]&&(f[u]=c)},assignNativeAudioNodeOptions=(f,l)=>{assignNativeAudioNodeOption(f,l,"channelCount"),assignNativeAudioNodeOption(f,l,"channelCountMode"),assignNativeAudioNodeOption(f,l,"channelInterpretation")},testAnalyserNodeGetFloatTimeDomainDataMethodSupport=f=>typeof f.getFloatTimeDomainData=="function",wrapAnalyserNodeGetFloatTimeDomainDataMethod=f=>{f.getFloatTimeDomainData=l=>{const u=new Uint8Array(l.length);f.getByteTimeDomainData(u);const c=Math.max(u.length,f.fftSize);for(let g=0;g<c;g+=1)l[g]=(u[g]-128)*.0078125;return l}},createNativeAnalyserNodeFactory=(f,l)=>(u,c)=>{const g=u.createAnalyser();if(assignNativeAudioNodeOptions(g,c),!(c.maxDecibels>c.minDecibels))throw l();return assignNativeAudioNodeOption(g,c,"fftSize"),assignNativeAudioNodeOption(g,c,"maxDecibels"),assignNativeAudioNodeOption(g,c,"minDecibels"),assignNativeAudioNodeOption(g,c,"smoothingTimeConstant"),f(testAnalyserNodeGetFloatTimeDomainDataMethodSupport,()=>testAnalyserNodeGetFloatTimeDomainDataMethodSupport(g))||wrapAnalyserNodeGetFloatTimeDomainDataMethod(g),g},createNativeAudioBufferConstructor=f=>f===null?null:f.hasOwnProperty("AudioBuffer")?f.AudioBuffer:null,assignNativeAudioNodeAudioParamValue=(f,l,u)=>{const c=l[u];c!==void 0&&c!==f[u].value&&(f[u].value=c)},wrapAudioBufferSourceNodeStartMethodConsecutiveCalls=f=>{f.start=(l=>{let u=!1;return(c=0,g=0,y)=>{if(u)throw createInvalidStateError();l.call(f,c,g,y),u=!0}})(f.start)},wrapAudioScheduledSourceNodeStartMethodNegativeParameters=f=>{f.start=(l=>(u=0,c=0,g)=>{if(typeof g=="number"&&g<0||c<0||u<0)throw new RangeError("The parameters can't be negative.");l.call(f,u,c,g)})(f.start)},wrapAudioScheduledSourceNodeStopMethodNegativeParameters=f=>{f.stop=(l=>(u=0)=>{if(u<0)throw new RangeError("The parameter can't be negative.");l.call(f,u)})(f.stop)},createNativeAudioBufferSourceNodeFactory=(f,l,u,c,g,y,m,_,p,x,E)=>(A,b)=>{const k=A.createBufferSource();return assignNativeAudioNodeOptions(k,b),assignNativeAudioNodeAudioParamValue(k,b,"playbackRate"),assignNativeAudioNodeOption(k,b,"buffer"),assignNativeAudioNodeOption(k,b,"loop"),assignNativeAudioNodeOption(k,b,"loopEnd"),assignNativeAudioNodeOption(k,b,"loopStart"),l(u,()=>u(A))||wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(k),l(c,()=>c(A))||p(k),l(g,()=>g(A))||x(k,A),l(y,()=>y(A))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(k),l(m,()=>m(A))||E(k,A),l(_,()=>_(A))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(k),f(A,k),k},createNativeAudioContextConstructor=f=>f===null?null:f.hasOwnProperty("AudioContext")?f.AudioContext:f.hasOwnProperty("webkitAudioContext")?f.webkitAudioContext:null,createNativeAudioDestinationNodeFactory=(f,l)=>(u,c,g)=>{const y=u.destination;if(y.channelCount!==c)try{y.channelCount=c}catch{}g&&y.channelCountMode!=="explicit"&&(y.channelCountMode="explicit"),y.maxChannelCount===0&&Object.defineProperty(y,"maxChannelCount",{value:c});const m=f(u,{channelCount:c,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});return l(m,"channelCount",_=>()=>_.call(m),_=>p=>{_.call(m,p);try{y.channelCount=p}catch(x){if(p>y.maxChannelCount)throw x}}),l(m,"channelCountMode",_=>()=>_.call(m),_=>p=>{_.call(m,p),y.channelCountMode=p}),l(m,"channelInterpretation",_=>()=>_.call(m),_=>p=>{_.call(m,p),y.channelInterpretation=p}),Object.defineProperty(m,"maxChannelCount",{get:()=>y.maxChannelCount}),m.connect(y),m},createNativeAudioWorkletNodeConstructor=f=>f===null?null:f.hasOwnProperty("AudioWorkletNode")?f.AudioWorkletNode:null,testClonabilityOfAudioWorkletNodeOptions=f=>{const{port1:l}=new MessageChannel;try{l.postMessage(f)}finally{l.close()}},createNativeAudioWorkletNodeFactory=(f,l,u,c,g)=>(y,m,_,p,x,E)=>{if(_!==null)try{const A=new _(y,p,E),b=new Map;let k=null;if(Object.defineProperties(A,{channelCount:{get:()=>E.channelCount,set:()=>{throw f()}},channelCountMode:{get:()=>"explicit",set:()=>{throw f()}},onprocessorerror:{get:()=>k,set:S=>{typeof k=="function"&&A.removeEventListener("processorerror",k),k=typeof S=="function"?S:null,typeof k=="function"&&A.addEventListener("processorerror",k)}}}),A.addEventListener=(S=>(...T)=>{if(T[0]==="processorerror"){const P=typeof T[1]=="function"?T[1]:typeof T[1]=="object"&&T[1]!==null&&typeof T[1].handleEvent=="function"?T[1].handleEvent:null;if(P!==null){const C=b.get(T[1]);C!==void 0?T[1]=C:(T[1]=M=>{M.type==="error"?(Object.defineProperties(M,{type:{value:"processorerror"}}),P(M)):P(new ErrorEvent(T[0],{...M}))},b.set(P,T[1]))}}return S.call(A,"error",T[1],T[2]),S.call(A,...T)})(A.addEventListener),A.removeEventListener=(S=>(...T)=>{if(T[0]==="processorerror"){const P=b.get(T[1]);P!==void 0&&(b.delete(T[1]),T[1]=P)}return S.call(A,"error",T[1],T[2]),S.call(A,T[0],T[1],T[2])})(A.removeEventListener),E.numberOfOutputs!==0){const S=u(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return A.connect(S).connect(y.destination),g(A,()=>S.disconnect(),()=>S.connect(y.destination))}return A}catch(A){throw A.code===11?c():A}if(x===void 0)throw c();return testClonabilityOfAudioWorkletNodeOptions(E),l(y,m,x,E)},computeBufferSize=(f,l)=>f===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(f*l))))),cloneAudioWorkletNodeOptions=f=>new Promise((l,u)=>{const{port1:c,port2:g}=new MessageChannel;c.onmessage=({data:y})=>{c.close(),g.close(),l(y)},c.onmessageerror=({data:y})=>{c.close(),g.close(),u(y)},g.postMessage(f)}),createAudioWorkletProcessorPromise=async(f,l)=>{const u=await cloneAudioWorkletNodeOptions(l);return new f(u)},createAudioWorkletProcessor=(f,l,u,c)=>{let g=NODE_TO_PROCESSOR_MAPS.get(f);g===void 0&&(g=new WeakMap,NODE_TO_PROCESSOR_MAPS.set(f,g));const y=createAudioWorkletProcessorPromise(u,c);return g.set(l,y),y},createNativeAudioWorkletNodeFakerFactory=(f,l,u,c,g,y,m,_,p,x,E,A,b)=>(k,S,T,P)=>{if(P.numberOfInputs===0&&P.numberOfOutputs===0)throw p();const C=Array.isArray(P.outputChannelCount)?P.outputChannelCount:Array.from(P.outputChannelCount);if(C.some(ye=>ye<1))throw p();if(C.length!==P.numberOfOutputs)throw l();if(P.channelCountMode!=="explicit")throw p();const M=P.channelCount*P.numberOfInputs,j=C.reduce((ye,Ae)=>ye+Ae,0),I=T.parameterDescriptors===void 0?0:T.parameterDescriptors.length;if(M+I>6||j>6)throw p();const O=new MessageChannel,R=[],D=[];for(let ye=0;ye<P.numberOfInputs;ye+=1)R.push(m(k,{channelCount:P.channelCount,channelCountMode:P.channelCountMode,channelInterpretation:P.channelInterpretation,gain:1})),D.push(g(k,{channelCount:P.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:P.channelCount}));const N=[];if(T.parameterDescriptors!==void 0)for(const{defaultValue:ye,maxValue:Ae,minValue:Ne,name:re}of T.parameterDescriptors){const ae=y(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:P.parameterData[re]!==void 0?P.parameterData[re]:ye===void 0?0:ye});Object.defineProperties(ae.offset,{defaultValue:{get:()=>ye===void 0?0:ye},maxValue:{get:()=>Ae===void 0?MOST_POSITIVE_SINGLE_FLOAT:Ae},minValue:{get:()=>Ne===void 0?MOST_NEGATIVE_SINGLE_FLOAT:Ne}}),N.push(ae)}const U=c(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,M+I)}),X=computeBufferSize(S,k.sampleRate),V=_(k,X,M+I,Math.max(1,j)),K=g(k,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),W=[];for(let ye=0;ye<P.numberOfOutputs;ye+=1)W.push(c(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[ye]}));for(let ye=0;ye<P.numberOfInputs;ye+=1){R[ye].connect(D[ye]);for(let Ae=0;Ae<P.channelCount;Ae+=1)D[ye].connect(U,Ae,ye*P.channelCount+Ae)}const Q=new ReadOnlyMap(T.parameterDescriptors===void 0?[]:T.parameterDescriptors.map(({name:ye},Ae)=>{const Ne=N[Ae];return Ne.connect(U,0,M+Ae),Ne.start(0),[ye,Ne.offset]}));U.connect(V);let L=P.channelInterpretation,G=null;const J=P.numberOfOutputs===0?[V]:W,B={get bufferSize(){return X},get channelCount(){return P.channelCount},set channelCount(ye){throw u()},get channelCountMode(){return P.channelCountMode},set channelCountMode(ye){throw u()},get channelInterpretation(){return L},set channelInterpretation(ye){for(const Ae of R)Ae.channelInterpretation=ye;L=ye},get context(){return V.context},get inputs(){return R},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get onprocessorerror(){return G},set onprocessorerror(ye){typeof G=="function"&&B.removeEventListener("processorerror",G),G=typeof ye=="function"?ye:null,typeof G=="function"&&B.addEventListener("processorerror",G)},get parameters(){return Q},get port(){return O.port2},addEventListener(...ye){return V.addEventListener(ye[0],ye[1],ye[2])},connect:f.bind(null,J),disconnect:x.bind(null,J),dispatchEvent(...ye){return V.dispatchEvent(ye[0])},removeEventListener(...ye){return V.removeEventListener(ye[0],ye[1],ye[2])}},Y=new Map;O.port1.addEventListener=(ye=>(...Ae)=>{if(Ae[0]==="message"){const Ne=typeof Ae[1]=="function"?Ae[1]:typeof Ae[1]=="object"&&Ae[1]!==null&&typeof Ae[1].handleEvent=="function"?Ae[1].handleEvent:null;if(Ne!==null){const re=Y.get(Ae[1]);re!==void 0?Ae[1]=re:(Ae[1]=ae=>{E(k.currentTime,k.sampleRate,()=>Ne(ae))},Y.set(Ne,Ae[1]))}}return ye.call(O.port1,Ae[0],Ae[1],Ae[2])})(O.port1.addEventListener),O.port1.removeEventListener=(ye=>(...Ae)=>{if(Ae[0]==="message"){const Ne=Y.get(Ae[1]);Ne!==void 0&&(Y.delete(Ae[1]),Ae[1]=Ne)}return ye.call(O.port1,Ae[0],Ae[1],Ae[2])})(O.port1.removeEventListener);let ie=null;Object.defineProperty(O.port1,"onmessage",{get:()=>ie,set:ye=>{typeof ie=="function"&&O.port1.removeEventListener("message",ie),ie=typeof ye=="function"?ye:null,typeof ie=="function"&&(O.port1.addEventListener("message",ie),O.port1.start())}}),T.prototype.port=O.port1;let ne=null;createAudioWorkletProcessor(k,B,T,P).then(ye=>ne=ye);const H=createNestedArrays(P.numberOfInputs,P.channelCount),z=createNestedArrays(P.numberOfOutputs,C),ee=T.parameterDescriptors===void 0?[]:T.parameterDescriptors.reduce((ye,{name:Ae})=>({...ye,[Ae]:new Float32Array(128)}),{});let se=!0;const le=()=>{P.numberOfOutputs>0&&V.disconnect(K);for(let ye=0,Ae=0;ye<P.numberOfOutputs;ye+=1){const Ne=W[ye];for(let re=0;re<C[ye];re+=1)K.disconnect(Ne,Ae+re,re);Ae+=C[ye]}},ue=new Map;V.onaudioprocess=({inputBuffer:ye,outputBuffer:Ae})=>{if(ne!==null){const Ne=A(B);for(let re=0;re<X;re+=128){for(let ae=0;ae<P.numberOfInputs;ae+=1)for(let ce=0;ce<P.channelCount;ce+=1)copyFromChannel(ye,H[ae],ce,ce,re);T.parameterDescriptors!==void 0&&T.parameterDescriptors.forEach(({name:ae},ce)=>{copyFromChannel(ye,ee,ae,M+ce,re)});for(let ae=0;ae<P.numberOfInputs;ae+=1)for(let ce=0;ce<C[ae];ce+=1)z[ae][ce].byteLength===0&&(z[ae][ce]=new Float32Array(128));try{const ae=H.map((Ee,xe)=>{if(Ne[xe].size>0)return ue.set(xe,X/128),Ee;const Fe=ue.get(xe);return Fe===void 0?[]:(Ee.every(Xe=>Xe.every(Ze=>Ze===0))&&(Fe===1?ue.delete(xe):ue.set(xe,Fe-1)),Ee)});se=E(k.currentTime+re/k.sampleRate,k.sampleRate,()=>ne.process(ae,z,ee));for(let Ee=0,xe=0;Ee<P.numberOfOutputs;Ee+=1){for(let Ie=0;Ie<C[Ee];Ie+=1)copyToChannel(Ae,z[Ee],Ie,xe+Ie,re);xe+=C[Ee]}}catch(ae){se=!1,B.dispatchEvent(new ErrorEvent("processorerror",{colno:ae.colno,filename:ae.filename,lineno:ae.lineno,message:ae.message}))}if(!se){for(let ae=0;ae<P.numberOfInputs;ae+=1){R[ae].disconnect(D[ae]);for(let ce=0;ce<P.channelCount;ce+=1)D[re].disconnect(U,ce,ae*P.channelCount+ce)}if(T.parameterDescriptors!==void 0){const ae=T.parameterDescriptors.length;for(let ce=0;ce<ae;ce+=1){const Ee=N[ce];Ee.disconnect(U,0,M+ce),Ee.stop()}}U.disconnect(V),V.onaudioprocess=null,_e?le():Se();break}}}};let _e=!1;const Te=m(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),me=()=>V.connect(Te).connect(k.destination),Se=()=>{V.disconnect(Te),Te.disconnect()},ve=()=>{if(se){Se(),P.numberOfOutputs>0&&V.connect(K);for(let ye=0,Ae=0;ye<P.numberOfOutputs;ye+=1){const Ne=W[ye];for(let re=0;re<C[ye];re+=1)K.connect(Ne,Ae+re,re);Ae+=C[ye]}}_e=!0},fe=()=>{se&&(me(),le()),_e=!1};return me(),b(B,ve,fe)},createNativeBiquadFilterNode=(f,l)=>{const u=f.createBiquadFilter();return assignNativeAudioNodeOptions(u,l),assignNativeAudioNodeAudioParamValue(u,l,"Q"),assignNativeAudioNodeAudioParamValue(u,l,"detune"),assignNativeAudioNodeAudioParamValue(u,l,"frequency"),assignNativeAudioNodeAudioParamValue(u,l,"gain"),assignNativeAudioNodeOption(u,l,"type"),u},createNativeChannelMergerNodeFactory=(f,l)=>(u,c)=>{const g=u.createChannelMerger(c.numberOfInputs);return f!==null&&f.name==="webkitAudioContext"&&l(u,g),assignNativeAudioNodeOptions(g,c),g},wrapChannelSplitterNode=f=>{const l=f.numberOfOutputs;Object.defineProperty(f,"channelCount",{get:()=>l,set:u=>{if(u!==l)throw createInvalidStateError()}}),Object.defineProperty(f,"channelCountMode",{get:()=>"explicit",set:u=>{if(u!=="explicit")throw createInvalidStateError()}}),Object.defineProperty(f,"channelInterpretation",{get:()=>"discrete",set:u=>{if(u!=="discrete")throw createInvalidStateError()}})},createNativeChannelSplitterNode=(f,l)=>{const u=f.createChannelSplitter(l.numberOfOutputs);return assignNativeAudioNodeOptions(u,l),wrapChannelSplitterNode(u),u},createNativeConstantSourceNodeFactory=(f,l,u,c,g)=>(y,m)=>{if(y.createConstantSource===void 0)return u(y,m);const _=y.createConstantSource();return assignNativeAudioNodeOptions(_,m),assignNativeAudioNodeAudioParamValue(_,m,"offset"),l(c,()=>c(y))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(_),l(g,()=>g(y))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(_),f(y,_),_},interceptConnections=(f,l)=>(f.connect=l.connect.bind(l),f.disconnect=l.disconnect.bind(l),f),createNativeConstantSourceNodeFakerFactory=(f,l,u,c)=>(g,{offset:y,...m})=>{const _=g.createBuffer(1,2,44100),p=l(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),x=u(g,{...m,gain:y}),E=_.getChannelData(0);E[0]=1,E[1]=1,p.buffer=_,p.loop=!0;const A={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(S){x.channelCount=S},get channelCountMode(){return x.channelCountMode},set channelCountMode(S){x.channelCountMode=S},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(S){x.channelInterpretation=S},get context(){return x.context},get inputs(){return[]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get offset(){return x.gain},get onended(){return p.onended},set onended(S){p.onended=S},addEventListener(...S){return p.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return p.dispatchEvent(S[0])},removeEventListener(...S){return p.removeEventListener(S[0],S[1],S[2])},start(S=0){p.start.call(p,S)},stop(S=0){p.stop.call(p,S)}},b=()=>p.connect(x),k=()=>p.disconnect(x);return f(g,p),c(interceptConnections(A,x),b,k)},createNativeConvolverNodeFactory=(f,l)=>(u,c)=>{const g=u.createConvolver();if(assignNativeAudioNodeOptions(g,c),c.disableNormalization===g.normalize&&(g.normalize=!c.disableNormalization),assignNativeAudioNodeOption(g,c,"buffer"),c.channelCount>2||(l(g,"channelCount",y=>()=>y.call(g),y=>m=>{if(m>2)throw f();return y.call(g,m)}),c.channelCountMode==="max"))throw f();return l(g,"channelCountMode",y=>()=>y.call(g),y=>m=>{if(m==="max")throw f();return y.call(g,m)}),g},createNativeDelayNode=(f,l)=>{const u=f.createDelay(l.maxDelayTime);return assignNativeAudioNodeOptions(u,l),assignNativeAudioNodeAudioParamValue(u,l,"delayTime"),u},createNativeDynamicsCompressorNodeFactory=f=>(l,u)=>{const c=l.createDynamicsCompressor();if(assignNativeAudioNodeOptions(c,u),u.channelCount>2||u.channelCountMode==="max")throw f();return assignNativeAudioNodeAudioParamValue(c,u,"attack"),assignNativeAudioNodeAudioParamValue(c,u,"knee"),assignNativeAudioNodeAudioParamValue(c,u,"ratio"),assignNativeAudioNodeAudioParamValue(c,u,"release"),assignNativeAudioNodeAudioParamValue(c,u,"threshold"),c},createNativeGainNode=(f,l)=>{const u=f.createGain();return assignNativeAudioNodeOptions(u,l),assignNativeAudioNodeAudioParamValue(u,l,"gain"),u},createNativeIIRFilterNodeFactory=f=>(l,u,c)=>{if(l.createIIRFilter===void 0)return f(l,u,c);const g=l.createIIRFilter(c.feedforward,c.feedback);return assignNativeAudioNodeOptions(g,c),g};function divide(f,l){const u=l[0]*l[0]+l[1]*l[1];return[(f[0]*l[0]+f[1]*l[1])/u,(f[1]*l[0]-f[0]*l[1])/u]}function multiply(f,l){return[f[0]*l[0]-f[1]*l[1],f[0]*l[1]+f[1]*l[0]]}function evaluatePolynomial(f,l){let u=[0,0];for(let c=f.length-1;c>=0;c-=1)u=multiply(u,l),u[0]+=f[c];return u}const createNativeIIRFilterNodeFakerFactory=(f,l,u,c)=>(g,y,{channelCount:m,channelCountMode:_,channelInterpretation:p,feedback:x,feedforward:E})=>{const A=computeBufferSize(y,g.sampleRate),b=x instanceof Float64Array?x:new Float64Array(x),k=E instanceof Float64Array?E:new Float64Array(E),S=b.length,T=k.length,P=Math.min(S,T);if(S===0||S>20)throw c();if(b[0]===0)throw l();if(T===0||T>20)throw c();if(k[0]===0)throw l();if(b[0]!==1){for(let N=0;N<T;N+=1)k[N]/=b[0];for(let N=1;N<S;N+=1)b[N]/=b[0]}const C=u(g,A,m,m);C.channelCount=m,C.channelCountMode=_,C.channelInterpretation=p;const M=32,j=[],I=[],O=[];for(let N=0;N<m;N+=1){j.push(0);const U=new Float32Array(M),X=new Float32Array(M);U.fill(0),X.fill(0),I.push(U),O.push(X)}C.onaudioprocess=N=>{const U=N.inputBuffer,X=N.outputBuffer,V=U.numberOfChannels;for(let K=0;K<V;K+=1){const W=U.getChannelData(K),Q=X.getChannelData(K);j[K]=filterBuffer(b,S,k,T,P,I[K],O[K],j[K],M,W,Q)}};const R=g.sampleRate/2;return interceptConnections({get bufferSize(){return A},get channelCount(){return C.channelCount},set channelCount(N){C.channelCount=N},get channelCountMode(){return C.channelCountMode},set channelCountMode(N){C.channelCountMode=N},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(N){C.channelInterpretation=N},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...N){return C.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return C.dispatchEvent(N[0])},getFrequencyResponse(N,U,X){if(N.length!==U.length||U.length!==X.length)throw f();const V=N.length;for(let K=0;K<V;K+=1){const W=-Math.PI*(N[K]/R),Q=[Math.cos(W),Math.sin(W)],L=evaluatePolynomial(k,Q),G=evaluatePolynomial(b,Q),J=divide(L,G);U[K]=Math.sqrt(J[0]*J[0]+J[1]*J[1]),X[K]=Math.atan2(J[1],J[0])}},removeEventListener(...N){return C.removeEventListener(N[0],N[1],N[2])}},C)},createNativeMediaElementAudioSourceNode=(f,l)=>f.createMediaElementSource(l.mediaElement),createNativeMediaStreamAudioDestinationNode=(f,l)=>{const u=f.createMediaStreamDestination();return assignNativeAudioNodeOptions(u,l),u.numberOfOutputs===1&&Object.defineProperty(u,"numberOfOutputs",{get:()=>0}),u},createNativeMediaStreamAudioSourceNode=(f,{mediaStream:l})=>{const u=l.getAudioTracks();u.sort((y,m)=>y.id<m.id?-1:y.id>m.id?1:0);const c=u.slice(0,1),g=f.createMediaStreamSource(new MediaStream(c));return Object.defineProperty(g,"mediaStream",{value:l}),g},createNativeMediaStreamTrackAudioSourceNodeFactory=(f,l)=>(u,{mediaStreamTrack:c})=>{if(typeof u.createMediaStreamTrackSource=="function")return u.createMediaStreamTrackSource(c);const g=new MediaStream([c]),y=u.createMediaStreamSource(g);if(c.kind!=="audio")throw f();if(l(u))throw new TypeError;return y},createNativeOfflineAudioContextConstructor=f=>f===null?null:f.hasOwnProperty("OfflineAudioContext")?f.OfflineAudioContext:f.hasOwnProperty("webkitOfflineAudioContext")?f.webkitOfflineAudioContext:null,createNativeOscillatorNodeFactory=(f,l,u,c,g,y)=>(m,_)=>{const p=m.createOscillator();return assignNativeAudioNodeOptions(p,_),assignNativeAudioNodeAudioParamValue(p,_,"detune"),assignNativeAudioNodeAudioParamValue(p,_,"frequency"),_.periodicWave!==void 0?p.setPeriodicWave(_.periodicWave):assignNativeAudioNodeOption(p,_,"type"),l(u,()=>u(m))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(p),l(c,()=>c(m))||y(p,m),l(g,()=>g(m))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(p),f(m,p),p},createNativePannerNodeFactory=f=>(l,u)=>{const c=l.createPanner();return c.orientationX===void 0?f(l,u):(assignNativeAudioNodeOptions(c,u),assignNativeAudioNodeAudioParamValue(c,u,"orientationX"),assignNativeAudioNodeAudioParamValue(c,u,"orientationY"),assignNativeAudioNodeAudioParamValue(c,u,"orientationZ"),assignNativeAudioNodeAudioParamValue(c,u,"positionX"),assignNativeAudioNodeAudioParamValue(c,u,"positionY"),assignNativeAudioNodeAudioParamValue(c,u,"positionZ"),assignNativeAudioNodeOption(c,u,"coneInnerAngle"),assignNativeAudioNodeOption(c,u,"coneOuterAngle"),assignNativeAudioNodeOption(c,u,"coneOuterGain"),assignNativeAudioNodeOption(c,u,"distanceModel"),assignNativeAudioNodeOption(c,u,"maxDistance"),assignNativeAudioNodeOption(c,u,"panningModel"),assignNativeAudioNodeOption(c,u,"refDistance"),assignNativeAudioNodeOption(c,u,"rolloffFactor"),c)},createNativePannerNodeFakerFactory=(f,l,u,c,g,y,m,_,p,x)=>(E,{coneInnerAngle:A,coneOuterAngle:b,coneOuterGain:k,distanceModel:S,maxDistance:T,orientationX:P,orientationY:C,orientationZ:M,panningModel:j,positionX:I,positionY:O,positionZ:R,refDistance:D,rolloffFactor:N,...U})=>{const X=E.createPanner();if(U.channelCount>2||U.channelCountMode==="max")throw m();assignNativeAudioNodeOptions(X,U);const V={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},K=u(E,{...V,channelInterpretation:"speakers",numberOfInputs:6}),W=c(E,{...U,gain:1}),Q=c(E,{...V,gain:1}),L=c(E,{...V,gain:0}),G=c(E,{...V,gain:0}),J=c(E,{...V,gain:0}),B=c(E,{...V,gain:0}),Y=c(E,{...V,gain:0}),ie=g(E,256,6,1),ne=y(E,{...V,curve:new Float32Array([1,1]),oversample:"none"});let Z=[P,C,M],H=[I,O,R];const z=new Float32Array(1);ie.onaudioprocess=({inputBuffer:ue})=>{const _e=[p(ue,z,0),p(ue,z,1),p(ue,z,2)];_e.some((me,Se)=>me!==Z[Se])&&(X.setOrientation(..._e),Z=_e);const Te=[p(ue,z,3),p(ue,z,4),p(ue,z,5)];Te.some((me,Se)=>me!==H[Se])&&(X.setPosition(...Te),H=Te)},Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0});const ee={get bufferSize(){},get channelCount(){return X.channelCount},set channelCount(ue){if(ue>2)throw m();W.channelCount=ue,X.channelCount=ue},get channelCountMode(){return X.channelCountMode},set channelCountMode(ue){if(ue==="max")throw m();W.channelCountMode=ue,X.channelCountMode=ue},get channelInterpretation(){return X.channelInterpretation},set channelInterpretation(ue){W.channelInterpretation=ue,X.channelInterpretation=ue},get coneInnerAngle(){return X.coneInnerAngle},set coneInnerAngle(ue){X.coneInnerAngle=ue},get coneOuterAngle(){return X.coneOuterAngle},set coneOuterAngle(ue){X.coneOuterAngle=ue},get coneOuterGain(){return X.coneOuterGain},set coneOuterGain(ue){if(ue<0||ue>1)throw l();X.coneOuterGain=ue},get context(){return X.context},get distanceModel(){return X.distanceModel},set distanceModel(ue){X.distanceModel=ue},get inputs(){return[W]},get maxDistance(){return X.maxDistance},set maxDistance(ue){if(ue<0)throw new RangeError;X.maxDistance=ue},get numberOfInputs(){return X.numberOfInputs},get numberOfOutputs(){return X.numberOfOutputs},get orientationX(){return Q.gain},get orientationY(){return L.gain},get orientationZ(){return G.gain},get panningModel(){return X.panningModel},set panningModel(ue){X.panningModel=ue},get positionX(){return J.gain},get positionY(){return B.gain},get positionZ(){return Y.gain},get refDistance(){return X.refDistance},set refDistance(ue){if(ue<0)throw new RangeError;X.refDistance=ue},get rolloffFactor(){return X.rolloffFactor},set rolloffFactor(ue){if(ue<0)throw new RangeError;X.rolloffFactor=ue},addEventListener(...ue){return W.addEventListener(ue[0],ue[1],ue[2])},dispatchEvent(...ue){return W.dispatchEvent(ue[0])},removeEventListener(...ue){return W.removeEventListener(ue[0],ue[1],ue[2])}};A!==ee.coneInnerAngle&&(ee.coneInnerAngle=A),b!==ee.coneOuterAngle&&(ee.coneOuterAngle=b),k!==ee.coneOuterGain&&(ee.coneOuterGain=k),S!==ee.distanceModel&&(ee.distanceModel=S),T!==ee.maxDistance&&(ee.maxDistance=T),P!==ee.orientationX.value&&(ee.orientationX.value=P),C!==ee.orientationY.value&&(ee.orientationY.value=C),M!==ee.orientationZ.value&&(ee.orientationZ.value=M),j!==ee.panningModel&&(ee.panningModel=j),I!==ee.positionX.value&&(ee.positionX.value=I),O!==ee.positionY.value&&(ee.positionY.value=O),R!==ee.positionZ.value&&(ee.positionZ.value=R),D!==ee.refDistance&&(ee.refDistance=D),N!==ee.rolloffFactor&&(ee.rolloffFactor=N),(Z[0]!==1||Z[1]!==0||Z[2]!==0)&&X.setOrientation(...Z),(H[0]!==0||H[1]!==0||H[2]!==0)&&X.setPosition(...H);const se=()=>{W.connect(X),f(W,ne,0,0),ne.connect(Q).connect(K,0,0),ne.connect(L).connect(K,0,1),ne.connect(G).connect(K,0,2),ne.connect(J).connect(K,0,3),ne.connect(B).connect(K,0,4),ne.connect(Y).connect(K,0,5),K.connect(ie).connect(E.destination)},le=()=>{W.disconnect(X),_(W,ne,0,0),ne.disconnect(Q),Q.disconnect(K),ne.disconnect(L),L.disconnect(K),ne.disconnect(G),G.disconnect(K),ne.disconnect(J),J.disconnect(K),ne.disconnect(B),B.disconnect(K),ne.disconnect(Y),Y.disconnect(K),K.disconnect(ie),ie.disconnect(E.destination)};return x(interceptConnections(ee,X),se,le)},createNativePeriodicWaveFactory=f=>(l,{disableNormalization:u,imag:c,real:g})=>{const y=c instanceof Float32Array?c:new Float32Array(c),m=g instanceof Float32Array?g:new Float32Array(g),_=l.createPeriodicWave(m,y,{disableNormalization:u});if(Array.from(c).length<2)throw f();return _},createNativeScriptProcessorNode=(f,l,u,c)=>f.createScriptProcessor(l,u,c),createNativeStereoPannerNodeFactory=(f,l)=>(u,c)=>{const g=c.channelCountMode;if(g==="clamped-max")throw l();if(u.createStereoPanner===void 0)return f(u,c);const y=u.createStereoPanner();return assignNativeAudioNodeOptions(y,c),assignNativeAudioNodeAudioParamValue(y,c,"pan"),Object.defineProperty(y,"channelCountMode",{get:()=>g,set:m=>{if(m!==g)throw l()}}),y},createNativeStereoPannerNodeFakerFactory=(f,l,u,c,g,y)=>{const _=new Float32Array([1,1]),p=Math.PI/2,x={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E={...x,oversample:"none"},A=(S,T,P,C)=>{const M=new Float32Array(16385),j=new Float32Array(16385);for(let U=0;U<16385;U+=1){const X=U/16384*p;M[U]=Math.cos(X),j[U]=Math.sin(X)}const I=u(S,{...x,gain:0}),O=c(S,{...E,curve:M}),R=c(S,{...E,curve:_}),D=u(S,{...x,gain:0}),N=c(S,{...E,curve:j});return{connectGraph(){T.connect(I),T.connect(R.inputs===void 0?R:R.inputs[0]),T.connect(D),R.connect(P),P.connect(O.inputs===void 0?O:O.inputs[0]),P.connect(N.inputs===void 0?N:N.inputs[0]),O.connect(I.gain),N.connect(D.gain),I.connect(C,0,0),D.connect(C,0,1)},disconnectGraph(){T.disconnect(I),T.disconnect(R.inputs===void 0?R:R.inputs[0]),T.disconnect(D),R.disconnect(P),P.disconnect(O.inputs===void 0?O:O.inputs[0]),P.disconnect(N.inputs===void 0?N:N.inputs[0]),O.disconnect(I.gain),N.disconnect(D.gain),I.disconnect(C,0,0),D.disconnect(C,0,1)}}},b=(S,T,P,C)=>{const M=new Float32Array(16385),j=new Float32Array(16385),I=new Float32Array(16385),O=new Float32Array(16385),R=Math.floor(16385/2);for(let J=0;J<16385;J+=1)if(J>R){const B=(J-R)/(16384-R)*p;M[J]=Math.cos(B),j[J]=Math.sin(B),I[J]=0,O[J]=1}else{const B=J/(16384-R)*p;M[J]=1,j[J]=0,I[J]=Math.cos(B),O[J]=Math.sin(B)}const D=l(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),N=u(S,{...x,gain:0}),U=c(S,{...E,curve:M}),X=u(S,{...x,gain:0}),V=c(S,{...E,curve:j}),K=c(S,{...E,curve:_}),W=u(S,{...x,gain:0}),Q=c(S,{...E,curve:I}),L=u(S,{...x,gain:0}),G=c(S,{...E,curve:O});return{connectGraph(){T.connect(D),T.connect(K.inputs===void 0?K:K.inputs[0]),D.connect(N,0),D.connect(X,0),D.connect(W,1),D.connect(L,1),K.connect(P),P.connect(U.inputs===void 0?U:U.inputs[0]),P.connect(V.inputs===void 0?V:V.inputs[0]),P.connect(Q.inputs===void 0?Q:Q.inputs[0]),P.connect(G.inputs===void 0?G:G.inputs[0]),U.connect(N.gain),V.connect(X.gain),Q.connect(W.gain),G.connect(L.gain),N.connect(C,0,0),W.connect(C,0,0),X.connect(C,0,1),L.connect(C,0,1)},disconnectGraph(){T.disconnect(D),T.disconnect(K.inputs===void 0?K:K.inputs[0]),D.disconnect(N,0),D.disconnect(X,0),D.disconnect(W,1),D.disconnect(L,1),K.disconnect(P),P.disconnect(U.inputs===void 0?U:U.inputs[0]),P.disconnect(V.inputs===void 0?V:V.inputs[0]),P.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),P.disconnect(G.inputs===void 0?G:G.inputs[0]),U.disconnect(N.gain),V.disconnect(X.gain),Q.disconnect(W.gain),G.disconnect(L.gain),N.disconnect(C,0,0),W.disconnect(C,0,0),X.disconnect(C,0,1),L.disconnect(C,0,1)}}},k=(S,T,P,C,M)=>{if(T===1)return A(S,P,C,M);if(T===2)return b(S,P,C,M);throw g()};return(S,{channelCount:T,channelCountMode:P,pan:C,...M})=>{if(P==="max")throw g();const j=f(S,{...M,channelCount:1,channelCountMode:P,numberOfInputs:2}),I=u(S,{...M,channelCount:T,channelCountMode:P,gain:1}),O=u(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:R,disconnectGraph:D}=k(S,T,I,O,j);Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"maxValue",{get:()=>1}),Object.defineProperty(O.gain,"minValue",{get:()=>-1});const N={get bufferSize(){},get channelCount(){return I.channelCount},set channelCount(K){I.channelCount!==K&&(U&&D(),{connectGraph:R,disconnectGraph:D}=k(S,K,I,O,j),U&&R()),I.channelCount=K},get channelCountMode(){return I.channelCountMode},set channelCountMode(K){if(K==="clamped-max"||K==="max")throw g();I.channelCountMode=K},get channelInterpretation(){return I.channelInterpretation},set channelInterpretation(K){I.channelInterpretation=K},get context(){return I.context},get inputs(){return[I]},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},get pan(){return O.gain},addEventListener(...K){return I.addEventListener(K[0],K[1],K[2])},dispatchEvent(...K){return I.dispatchEvent(K[0])},removeEventListener(...K){return I.removeEventListener(K[0],K[1],K[2])}};let U=!1;const X=()=>{R(),U=!0},V=()=>{D(),U=!1};return y(interceptConnections(N,j),X,V)}},createNativeWaveShaperNodeFactory=(f,l,u,c,g,y,m)=>(_,p)=>{const x=_.createWaveShaper();if(y!==null&&y.name==="webkitAudioContext"&&_.createGain().gain.automationRate===void 0)return u(_,p);assignNativeAudioNodeOptions(x,p);const E=p.curve===null||p.curve instanceof Float32Array?p.curve:new Float32Array(p.curve);if(E!==null&&E.length<2)throw l();assignNativeAudioNodeOption(x,{curve:E},"curve"),assignNativeAudioNodeOption(x,p,"oversample");let A=null,b=!1;return m(x,"curve",T=>()=>T.call(x),T=>P=>(T.call(x,P),b&&(c(P)&&A===null?A=f(_,x):!c(P)&&A!==null&&(A(),A=null)),P)),g(x,()=>{b=!0,c(x.curve)&&(A=f(_,x))},()=>{b=!1,A!==null&&(A(),A=null)})},createNativeWaveShaperNodeFakerFactory=(f,l,u,c,g)=>(y,{curve:m,oversample:_,...p})=>{const x=y.createWaveShaper(),E=y.createWaveShaper();assignNativeAudioNodeOptions(x,p),assignNativeAudioNodeOptions(E,p);const A=u(y,{...p,gain:1}),b=u(y,{...p,gain:-1}),k=u(y,{...p,gain:1}),S=u(y,{...p,gain:-1});let T=null,P=!1,C=null;const M={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(O){A.channelCount=O,b.channelCount=O,x.channelCount=O,k.channelCount=O,E.channelCount=O,S.channelCount=O},get channelCountMode(){return x.channelCountMode},set channelCountMode(O){A.channelCountMode=O,b.channelCountMode=O,x.channelCountMode=O,k.channelCountMode=O,E.channelCountMode=O,S.channelCountMode=O},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(O){A.channelInterpretation=O,b.channelInterpretation=O,x.channelInterpretation=O,k.channelInterpretation=O,E.channelInterpretation=O,S.channelInterpretation=O},get context(){return x.context},get curve(){return C},set curve(O){if(O!==null&&O.length<2)throw l();if(O===null)x.curve=O,E.curve=O;else{const R=O.length,D=new Float32Array(R+2-R%2),N=new Float32Array(R+2-R%2);D[0]=O[0],N[0]=-O[R-1];const U=Math.ceil((R+1)/2),X=(R+1)/2-1;for(let V=1;V<U;V+=1){const K=V/U*X,W=Math.floor(K),Q=Math.ceil(K);D[V]=W===Q?O[W]:(1-(K-W))*O[W]+(1-(Q-K))*O[Q],N[V]=W===Q?-O[R-1-W]:-((1-(K-W))*O[R-1-W])-(1-(Q-K))*O[R-1-Q]}D[U]=R%2===1?O[U-1]:(O[U-2]+O[U-1])/2,x.curve=D,E.curve=N}C=O,P&&(c(C)&&T===null?T=f(y,A):T!==null&&(T(),T=null))},get inputs(){return[A]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get oversample(){return x.oversample},set oversample(O){x.oversample=O,E.oversample=O},addEventListener(...O){return A.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return A.dispatchEvent(O[0])},removeEventListener(...O){return A.removeEventListener(O[0],O[1],O[2])}};m!==null&&(M.curve=m instanceof Float32Array?m:new Float32Array(m)),_!==M.oversample&&(M.oversample=_);const j=()=>{A.connect(x).connect(k),A.connect(b).connect(E).connect(S).connect(k),P=!0,c(C)&&(T=f(y,A))},I=()=>{A.disconnect(x),x.disconnect(k),A.disconnect(b),b.disconnect(E),E.disconnect(S),S.disconnect(k),P=!1,T!==null&&(T(),T=null)};return g(interceptConnections(M,k),j,I)},createNotSupportedError=()=>new DOMException("","NotSupportedError"),DEFAULT_OPTIONS$5={numberOfChannels:1},createOfflineAudioContextConstructor=(f,l,u,c,g)=>class extends f{constructor(m,_,p){let x;if(typeof m=="number"&&_!==void 0&&p!==void 0)x={length:_,numberOfChannels:m,sampleRate:p};else if(typeof m=="object")x=m;else throw new Error("The given parameters are not valid.");const{length:E,numberOfChannels:A,sampleRate:b}={...DEFAULT_OPTIONS$5,...x},k=c(A,E,b);l(testPromiseSupport,()=>testPromiseSupport(k))||k.addEventListener("statechange",(()=>{let S=0;const T=P=>{this._state==="running"&&(S>0?(k.removeEventListener("statechange",T),P.stopImmediatePropagation(),this._waitForThePromiseToSettle(P)):S+=1)};return T})()),super(k,A),this._length=E,this._nativeOfflineAudioContext=k,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(u()):(this._state="running",g(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,deactivateAudioGraph(this)}))}_waitForThePromiseToSettle(m){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(m):setTimeout(()=>this._waitForThePromiseToSettle(m))}},DEFAULT_OPTIONS$4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},createOscillatorNodeConstructor=(f,l,u,c,g,y,m)=>class extends f{constructor(p,x){const E=g(p),A={...DEFAULT_OPTIONS$4,...x},b=u(E,A),k=y(E),S=k?c():null,T=p.sampleRate/2;super(p,!1,b,S),this._detune=l(this,k,b.detune,153600,-153600),this._frequency=l(this,k,b.frequency,T,-T),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&A.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=A.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(p){const x=typeof p=="function"?m(this,p):null;this._nativeOscillatorNode.onended=x;const E=this._nativeOscillatorNode.onended;this._onended=E!==null&&E===x?p:E}get type(){return this._nativeOscillatorNode.type}set type(p){this._nativeOscillatorNode.type=p,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(p){this._nativeOscillatorNode.setPeriodicWave(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=p)}start(p=0){if(this._nativeOscillatorNode.start(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=p),this.context.state!=="closed"){setInternalStateToActive(this);const x=()=>{this._nativeOscillatorNode.removeEventListener("ended",x),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeOscillatorNode.addEventListener("ended",x)}}stop(p=0){this._nativeOscillatorNode.stop(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=p)}},createOscillatorNodeRendererFactory=(f,l,u,c,g)=>()=>{const y=new WeakMap;let m=null,_=null,p=null;const x=async(E,A)=>{let b=u(E);const k=isOwnedByContext(b,A);if(!k){const S={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:m===null?void 0:m,type:b.type};b=l(A,S),_!==null&&b.start(_),p!==null&&b.stop(p)}return y.set(A,b),k?(await f(A,E.detune,b.detune),await f(A,E.frequency,b.frequency)):(await c(A,E.detune,b.detune),await c(A,E.frequency,b.frequency)),await g(E,A,b),b};return{set periodicWave(E){m=E},set start(E){_=E},set stop(E){p=E},render(E,A){const b=y.get(A);return b!==void 0?Promise.resolve(b):x(E,A)}}},DEFAULT_OPTIONS$3={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},createPannerNodeConstructor=(f,l,u,c,g,y,m)=>class extends f{constructor(p,x){const E=g(p),A={...DEFAULT_OPTIONS$3,...x},b=u(E,A),k=y(E),S=k?c():null;super(p,!1,b,S),this._nativePannerNode=b,this._orientationX=l(this,k,b.orientationX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationY=l(this,k,b.orientationY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationZ=l(this,k,b.orientationZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionX=l(this,k,b.positionX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionY=l(this,k,b.positionY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionZ=l(this,k,b.positionZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),m(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(p){this._nativePannerNode.coneInnerAngle=p}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(p){this._nativePannerNode.coneOuterAngle=p}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(p){this._nativePannerNode.coneOuterGain=p}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(p){this._nativePannerNode.distanceModel=p}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(p){this._nativePannerNode.maxDistance=p}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(p){this._nativePannerNode.panningModel=p}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(p){this._nativePannerNode.refDistance=p}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(p){this._nativePannerNode.rolloffFactor=p}},createPannerNodeRendererFactory=(f,l,u,c,g,y,m,_,p,x)=>()=>{const E=new WeakMap;let A=null;const b=async(k,S)=>{let T=null,P=y(k);const C={channelCount:P.channelCount,channelCountMode:P.channelCountMode,channelInterpretation:P.channelInterpretation},M={...C,coneInnerAngle:P.coneInnerAngle,coneOuterAngle:P.coneOuterAngle,coneOuterGain:P.coneOuterGain,distanceModel:P.distanceModel,maxDistance:P.maxDistance,panningModel:P.panningModel,refDistance:P.refDistance,rolloffFactor:P.rolloffFactor},j=isOwnedByContext(P,S);if("bufferSize"in P)T=c(S,{...C,gain:1});else if(!j){const I={...M,orientationX:P.orientationX.value,orientationY:P.orientationY.value,orientationZ:P.orientationZ.value,positionX:P.positionX.value,positionY:P.positionY.value,positionZ:P.positionZ.value};P=g(S,I)}if(E.set(S,T===null?P:T),T!==null){if(A===null){if(m===null)throw new Error("Missing the native OfflineAudioContext constructor.");const V=new m(6,k.context.length,S.sampleRate),K=l(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});K.connect(V.destination),A=(async()=>{const W=await Promise.all([k.orientationX,k.orientationY,k.orientationZ,k.positionX,k.positionY,k.positionZ].map(async(Q,L)=>{const G=u(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:L===0?1:0});return await _(V,Q,G.offset),G}));for(let Q=0;Q<6;Q+=1)W[Q].connect(K,0,Q),W[Q].start(0);return x(V)})()}const I=await A,O=c(S,{...C,gain:1});await p(k,S,O);const R=[];for(let V=0;V<I.numberOfChannels;V+=1)R.push(I.getChannelData(V));let D=[R[0][0],R[1][0],R[2][0]],N=[R[3][0],R[4][0],R[5][0]],U=c(S,{...C,gain:1}),X=g(S,{...M,orientationX:D[0],orientationY:D[1],orientationZ:D[2],positionX:N[0],positionY:N[1],positionZ:N[2]});O.connect(U).connect(X.inputs[0]),X.connect(T);for(let V=128;V<I.length;V+=128){const K=[R[0][V],R[1][V],R[2][V]],W=[R[3][V],R[4][V],R[5][V]];if(K.some((Q,L)=>Q!==D[L])||W.some((Q,L)=>Q!==N[L])){D=K,N=W;const Q=V/S.sampleRate;U.gain.setValueAtTime(0,Q),U=c(S,{...C,gain:0}),X=g(S,{...M,orientationX:D[0],orientationY:D[1],orientationZ:D[2],positionX:N[0],positionY:N[1],positionZ:N[2]}),U.gain.setValueAtTime(1,Q),O.connect(U).connect(X.inputs[0]),X.connect(T)}}return T}return j?(await f(S,k.orientationX,P.orientationX),await f(S,k.orientationY,P.orientationY),await f(S,k.orientationZ,P.orientationZ),await f(S,k.positionX,P.positionX),await f(S,k.positionY,P.positionY),await f(S,k.positionZ,P.positionZ)):(await _(S,k.orientationX,P.orientationX),await _(S,k.orientationY,P.orientationY),await _(S,k.orientationZ,P.orientationZ),await _(S,k.positionX,P.positionX),await _(S,k.positionY,P.positionY),await _(S,k.positionZ,P.positionZ)),isNativeAudioNodeFaker(P)?await p(k,S,P.inputs[0]):await p(k,S,P),P};return{render(k,S){const T=E.get(S);return T!==void 0?Promise.resolve(T):b(k,S)}}},DEFAULT_OPTIONS$2={disableNormalization:!1},createPeriodicWaveConstructor=(f,l,u,c)=>class Tn{constructor(y,m){const _=l(y),p=c({...DEFAULT_OPTIONS$2,...m}),x=f(_,p);return u.add(x),x}static[Symbol.hasInstance](y){return y!==null&&typeof y=="object"&&Object.getPrototypeOf(y)===Tn.prototype||u.has(y)}},createRenderAutomation=(f,l)=>(u,c,g)=>(f(c).replay(g),l(c,u,g)),createRenderInputsOfAudioNode=(f,l,u)=>async(c,g,y)=>{const m=f(c);await Promise.all(m.activeInputs.map((_,p)=>Array.from(_).map(async([x,E])=>{const b=await l(x).render(x,g),k=c.context.destination;!u(x)&&(c!==k||!u(c))&&b.connect(y,E,p)})).reduce((_,p)=>[..._,...p],[]))},createRenderInputsOfAudioParam=(f,l,u)=>async(c,g,y)=>{const m=l(c);await Promise.all(Array.from(m.activeInputs).map(async([_,p])=>{const E=await f(_).render(_,g);u(_)||E.connect(y,p)}))},createRenderNativeOfflineAudioContext=(f,l,u,c)=>g=>f(testPromiseSupport,()=>testPromiseSupport(g))?Promise.resolve(f(c,c)).then(y=>{if(!y){const m=u(g,512,0,1);g.oncomplete=()=>{m.onaudioprocess=null,m.disconnect()},m.onaudioprocess=()=>g.currentTime,m.connect(g.destination)}return g.startRendering()}):new Promise(y=>{const m=l(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});g.oncomplete=_=>{m.disconnect(),y(_.renderedBuffer)},m.connect(g.destination),g.startRendering()}),createSetActiveAudioWorkletNodeInputs=f=>(l,u)=>{f.set(l,u)},createSetAudioNodeTailTime=f=>(l,u)=>f.set(l,u),createStartRendering=(f,l,u,c,g,y,m,_)=>(p,x)=>u(p).render(p,x).then(()=>Promise.all(Array.from(c(x)).map(E=>u(E).render(E,x)))).then(()=>g(x)).then(E=>(typeof E.copyFromChannel!="function"?(m(E),wrapAudioBufferGetChannelDataMethod(E)):l(y,()=>y(E))||_(E),f.add(E),E)),DEFAULT_OPTIONS$1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},createStereoPannerNodeConstructor=(f,l,u,c,g,y)=>class extends f{constructor(_,p){const x=g(_),E={...DEFAULT_OPTIONS$1,...p},A=u(x,E),b=y(x),k=b?c():null;super(_,!1,A,k),this._pan=l(this,b,A.pan)}get pan(){return this._pan}},createStereoPannerNodeRendererFactory=(f,l,u,c,g)=>()=>{const y=new WeakMap,m=async(_,p)=>{let x=u(_);const E=isOwnedByContext(x,p);if(!E){const A={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,pan:x.pan.value};x=l(p,A)}return y.set(p,x),E?await f(p,_.pan,x.pan):await c(p,_.pan,x.pan),isNativeAudioNodeFaker(x)?await g(_,p,x.inputs[0]):await g(_,p,x),x};return{render(_,p){const x=y.get(p);return x!==void 0?Promise.resolve(x):m(_,p)}}},createTestAudioBufferConstructorSupport=f=>()=>{if(f===null)return!1;try{new f({length:1,sampleRate:44100})}catch{return!1}return!0},createTestAudioWorkletProcessorPostMessageSupport=(f,l)=>async()=>{if(f===null)return!0;if(l===null)return!1;const u=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),c=new l(1,128,44100),g=URL.createObjectURL(u);let y=!1,m=!1;try{await c.audioWorklet.addModule(g);const _=new f(c,"a",{numberOfOutputs:0}),p=c.createOscillator();_.port.onmessage=()=>y=!0,_.onprocessorerror=()=>m=!0,p.connect(_),p.start(0),await c.startRendering(),await new Promise(x=>setTimeout(x))}catch{}finally{URL.revokeObjectURL(g)}return y&&!m},createTestOfflineAudioContextCurrentTimeSupport=(f,l)=>()=>{if(l===null)return Promise.resolve(!1);const u=new l(1,1,44100),c=f(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(g=>{u.oncomplete=()=>{c.disconnect(),g(u.currentTime!==0)},u.startRendering()})},createUnknownError=()=>new DOMException("","UnknownError"),DEFAULT_OPTIONS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},createWaveShaperNodeConstructor=(f,l,u,c,g,y,m)=>class extends f{constructor(p,x){const E=g(p),A={...DEFAULT_OPTIONS,...x},b=u(E,A),S=y(E)?c():null;super(p,!0,b,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,m(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(p){if(p===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(p.length<2)throw l();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=p}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(p){this._nativeWaveShaperNode.oversample=p}},createWaveShaperNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,g=async(y,m)=>{let _=l(y);if(!isOwnedByContext(_,m)){const x={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,curve:_.curve,oversample:_.oversample};_=f(m,x)}return c.set(m,_),isNativeAudioNodeFaker(_)?await u(y,m,_.inputs[0]):await u(y,m,_),_};return{render(y,m){const _=c.get(m);return _!==void 0?Promise.resolve(_):g(y,m)}}},createWindow=()=>typeof window>"u"?null:window,createWrapAudioBufferCopyChannelMethods=(f,l)=>u=>{u.copyFromChannel=(c,g,y=0)=>{const m=f(y),_=f(g);if(_>=u.numberOfChannels)throw l();const p=u.length,x=u.getChannelData(_),E=c.length;for(let A=m<0?-m:0;A+m<p&&A<E;A+=1)c[A]=x[A+m]},u.copyToChannel=(c,g,y=0)=>{const m=f(y),_=f(g);if(_>=u.numberOfChannels)throw l();const p=u.length,x=u.getChannelData(_),E=c.length;for(let A=m<0?-m:0;A+m<p&&A<E;A+=1)x[A+m]=c[A]}},createWrapAudioBufferCopyChannelMethodsOutOfBounds=f=>l=>{l.copyFromChannel=(u=>(c,g,y=0)=>{const m=f(y),_=f(g);if(m<l.length)return u.call(l,c,_,m)})(l.copyFromChannel),l.copyToChannel=(u=>(c,g,y=0)=>{const m=f(y),_=f(g);if(m<l.length)return u.call(l,c,_,m)})(l.copyToChannel)},createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer=f=>(l,u)=>{const c=u.createBuffer(1,1,44100);l.buffer===null&&(l.buffer=c),f(l,"buffer",g=>()=>{const y=g.call(l);return y===c?null:y},g=>y=>g.call(l,y===null?c:y))},createWrapChannelMergerNode=(f,l)=>(u,c)=>{c.channelCount=1,c.channelCountMode="explicit",Object.defineProperty(c,"channelCount",{get:()=>1,set:()=>{throw f()}}),Object.defineProperty(c,"channelCountMode",{get:()=>"explicit",set:()=>{throw f()}});const g=u.createBufferSource();l(c,()=>{const _=c.numberOfInputs;for(let p=0;p<_;p+=1)g.connect(c,0,p)},()=>g.disconnect(c))},getFirstSample=(f,l,u)=>f.copyFromChannel===void 0?f.getChannelData(u)[0]:(f.copyFromChannel(l,u),l[0]),isDCCurve=f=>{if(f===null)return!1;const l=f.length;return l%2!==0?f[Math.floor(l/2)]!==0:f[l/2-1]+f[l/2]!==0},overwriteAccessors=(f,l,u,c)=>{let g=f;for(;!g.hasOwnProperty(l);)g=Object.getPrototypeOf(g);const{get:y,set:m}=Object.getOwnPropertyDescriptor(g,l);Object.defineProperty(f,l,{get:u(y),set:c(m)})},sanitizeAudioWorkletNodeOptions=f=>({...f,outputChannelCount:f.outputChannelCount!==void 0?f.outputChannelCount:f.numberOfInputs===1&&f.numberOfOutputs===1?[f.channelCount]:Array.from({length:f.numberOfOutputs},()=>1)}),sanitizeChannelSplitterOptions=f=>({...f,channelCount:f.numberOfOutputs}),sanitizePeriodicWaveOptions=f=>{const{imag:l,real:u}=f;return l===void 0?u===void 0?{...f,imag:[0,0],real:[0,0]}:{...f,imag:Array.from(u,()=>0),real:u}:u===void 0?{...f,imag:l,real:Array.from(l,()=>0)}:{...f,imag:l,real:u}},setValueAtTimeUntilPossible=(f,l,u)=>{try{f.setValueAtTime(l,u)}catch(c){if(c.code!==9)throw c;setValueAtTimeUntilPossible(f,l,u+1e-7)}},testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport=f=>{const l=f.createBufferSource();l.start();try{l.start()}catch{return!0}return!1},testAudioBufferSourceNodeStartMethodOffsetClampingSupport=f=>{const l=f.createBufferSource(),u=f.createBuffer(1,1,44100);l.buffer=u;try{l.start(0,1)}catch{return!1}return!0},testAudioBufferSourceNodeStopMethodNullifiedBufferSupport=f=>{const l=f.createBufferSource();l.start();try{l.stop()}catch{return!1}return!0},testAudioScheduledSourceNodeStartMethodNegativeParametersSupport=f=>{const l=f.createOscillator();try{l.start(-1)}catch(u){return u instanceof RangeError}return!1},testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport=f=>{const l=f.createBuffer(1,1,44100),u=f.createBufferSource();u.buffer=l,u.start(),u.stop();try{return u.stop(),!0}catch{return!1}},testAudioScheduledSourceNodeStopMethodNegativeParametersSupport=f=>{const l=f.createOscillator();try{l.stop(-1)}catch(u){return u instanceof RangeError}return!1},testAudioWorkletNodeOptionsClonability=f=>{const{port1:l,port2:u}=new MessageChannel;try{l.postMessage(f)}finally{l.close(),u.close()}},wrapAudioBufferSourceNodeStartMethodOffsetClamping=f=>{f.start=(l=>(u=0,c=0,g)=>{const y=f.buffer,m=y===null?c:Math.min(y.duration,c);y!==null&&m>y.duration-.5/f.context.sampleRate?l.call(f,u,0,0):l.call(f,u,m,g)})(f.start)},wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls=(f,l)=>{const u=l.createGain();f.connect(u);const c=(g=>()=>{g.call(f,u),f.removeEventListener("ended",c)})(f.disconnect);f.addEventListener("ended",c),interceptConnections(f,u),f.stop=(g=>{let y=!1;return(m=0)=>{if(y)try{g.call(f,m)}catch{u.gain.setValueAtTime(0,m)}else g.call(f,m),y=!0}})(f.stop)},wrapEventListener=(f,l)=>u=>{const c={value:f};return Object.defineProperties(u,{currentTarget:c,target:c}),typeof l=="function"?l.call(f,u):l.handleEvent.call(f,u)},addActiveInputConnectionToAudioNode=createAddActiveInputConnectionToAudioNode(insertElementInSet),addPassiveInputConnectionToAudioNode=createAddPassiveInputConnectionToAudioNode(insertElementInSet),deleteActiveInputConnectionToAudioNode=createDeleteActiveInputConnectionToAudioNode(pickElementFromSet),audioNodeTailTimeStore=new WeakMap,getAudioNodeTailTime=createGetAudioNodeTailTime(audioNodeTailTimeStore),cacheTestResult=createCacheTestResult(new Map,new WeakMap),window$1=createWindow(),createNativeAnalyserNode=createNativeAnalyserNodeFactory(cacheTestResult,createIndexSizeError),getAudioNodeRenderer=createGetAudioNodeRenderer(getAudioNodeConnections),renderInputsOfAudioNode=createRenderInputsOfAudioNode(getAudioNodeConnections,getAudioNodeRenderer,isPartOfACycle),createAnalyserNodeRenderer=createAnalyserNodeRendererFactory(createNativeAnalyserNode,getNativeAudioNode,renderInputsOfAudioNode),getNativeContext=createGetNativeContext(CONTEXT_STORE),nativeOfflineAudioContextConstructor=createNativeOfflineAudioContextConstructor(window$1),isNativeOfflineAudioContext=createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor),audioParamAudioNodeStore=new WeakMap,eventTargetConstructor=createEventTargetConstructor(wrapEventListener),nativeAudioContextConstructor=createNativeAudioContextConstructor(window$1),isNativeAudioContext=createIsNativeAudioContext(nativeAudioContextConstructor),isNativeAudioNode=createIsNativeAudioNode(window$1),isNativeAudioParam=createIsNativeAudioParam(window$1),nativeAudioWorkletNodeConstructor=createNativeAudioWorkletNodeConstructor(window$1),audioNodeConstructor=createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE),createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode,addPassiveInputConnectionToAudioNode,connectNativeAudioNodeToNativeAudioNode,deleteActiveInputConnectionToAudioNode,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getAudioNodeTailTime,getEventListenersOfAudioNode,getNativeAudioNode,insertElementInSet,isActiveAudioNode,isPartOfACycle,isPassiveAudioNode),cacheTestResult,createIncrementCycleCounterFactory(CYCLE_COUNTERS,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,isActiveAudioNode),createIndexSizeError,createInvalidAccessError,createNotSupportedError,createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode,CYCLE_COUNTERS,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,getNativeContext,isActiveAudioNode,isNativeOfflineAudioContext),createDetectCycles(audioParamAudioNodeStore,getAudioNodeConnections,getValueForKey),eventTargetConstructor,getNativeContext,isNativeAudioContext,isNativeAudioNode,isNativeAudioParam,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor),analyserNodeConstructor=createAnalyserNodeConstructor(audioNodeConstructor,createAnalyserNodeRenderer,createIndexSizeError,createNativeAnalyserNode,getNativeContext,isNativeOfflineAudioContext),audioBufferStore=new WeakSet,nativeAudioBufferConstructor=createNativeAudioBufferConstructor(window$1),convertNumberToUnsignedLong=createConvertNumberToUnsignedLong(new Uint32Array(1)),wrapAudioBufferCopyChannelMethods=createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong,createIndexSizeError),wrapAudioBufferCopyChannelMethodsOutOfBounds=createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong),audioBufferConstructor=createAudioBufferConstructor(audioBufferStore,cacheTestResult,createNotSupportedError,nativeAudioBufferConstructor,nativeOfflineAudioContextConstructor,createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor),wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),addSilentConnection=createAddSilentConnection(createNativeGainNode),renderInputsOfAudioParam=createRenderInputsOfAudioParam(getAudioNodeRenderer,getAudioParamConnections,isPartOfACycle),connectAudioParam=createConnectAudioParam(renderInputsOfAudioParam),createNativeAudioBufferSourceNode=createNativeAudioBufferSourceNodeFactory(addSilentConnection,cacheTestResult,testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport,testAudioBufferSourceNodeStartMethodOffsetClampingSupport,testAudioBufferSourceNodeStopMethodNullifiedBufferSupport,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioBufferSourceNodeStartMethodOffsetClamping,createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors),wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),renderAutomation=createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections),renderInputsOfAudioParam),createAudioBufferSourceNodeRenderer=createAudioBufferSourceNodeRendererFactory(connectAudioParam,createNativeAudioBufferSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),createAudioParam=createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE),audioParamAudioNodeStore,AUDIO_PARAM_STORE,createAudioParamRenderer,createCancelAndHoldAutomationEvent,createCancelScheduledValuesAutomationEvent,createExponentialRampToValueAutomationEvent,createLinearRampToValueAutomationEvent,createSetTargetAutomationEvent,createSetValueAutomationEvent,createSetValueCurveAutomationEvent,nativeAudioContextConstructor,setValueAtTimeUntilPossible),audioBufferSourceNodeConstructor=createAudioBufferSourceNodeConstructor(audioNodeConstructor,createAudioBufferSourceNodeRenderer,createAudioParam,createInvalidStateError,createNativeAudioBufferSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),audioDestinationNodeConstructor=createAudioDestinationNodeConstructor(audioNodeConstructor,createAudioDestinationNodeRenderer,createIndexSizeError,createInvalidStateError,createNativeAudioDestinationNodeFactory(createNativeGainNode,overwriteAccessors),getNativeContext,isNativeOfflineAudioContext,renderInputsOfAudioNode),createBiquadFilterNodeRenderer=createBiquadFilterNodeRendererFactory(connectAudioParam,createNativeBiquadFilterNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),setAudioNodeTailTime=createSetAudioNodeTailTime(audioNodeTailTimeStore),biquadFilterNodeConstructor=createBiquadFilterNodeConstructor(audioNodeConstructor,createAudioParam,createBiquadFilterNodeRenderer,createInvalidAccessError,createNativeBiquadFilterNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),monitorConnections=createMonitorConnections(insertElementInSet,isNativeAudioNode),wrapChannelMergerNode=createWrapChannelMergerNode(createInvalidStateError,monitorConnections),createNativeChannelMergerNode=createNativeChannelMergerNodeFactory(nativeAudioContextConstructor,wrapChannelMergerNode),createChannelMergerNodeRenderer=createChannelMergerNodeRendererFactory(createNativeChannelMergerNode,getNativeAudioNode,renderInputsOfAudioNode),channelMergerNodeConstructor=createChannelMergerNodeConstructor(audioNodeConstructor,createChannelMergerNodeRenderer,createNativeChannelMergerNode,getNativeContext,isNativeOfflineAudioContext),createChannelSplitterNodeRenderer=createChannelSplitterNodeRendererFactory(createNativeChannelSplitterNode,getNativeAudioNode,renderInputsOfAudioNode),channelSplitterNodeConstructor=createChannelSplitterNodeConstructor(audioNodeConstructor,createChannelSplitterNodeRenderer,createNativeChannelSplitterNode,getNativeContext,isNativeOfflineAudioContext,sanitizeChannelSplitterOptions),createNativeConstantSourceNodeFaker=createNativeConstantSourceNodeFakerFactory(addSilentConnection,createNativeAudioBufferSourceNode,createNativeGainNode,monitorConnections),createNativeConstantSourceNode=createNativeConstantSourceNodeFactory(addSilentConnection,cacheTestResult,createNativeConstantSourceNodeFaker,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport),createConstantSourceNodeRenderer=createConstantSourceNodeRendererFactory(connectAudioParam,createNativeConstantSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),constantSourceNodeConstructor=createConstantSourceNodeConstructor(audioNodeConstructor,createAudioParam,createConstantSourceNodeRenderer,createNativeConstantSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createNativeConvolverNode=createNativeConvolverNodeFactory(createNotSupportedError,overwriteAccessors),createConvolverNodeRenderer=createConvolverNodeRendererFactory(createNativeConvolverNode,getNativeAudioNode,renderInputsOfAudioNode),convolverNodeConstructor=createConvolverNodeConstructor(audioNodeConstructor,createConvolverNodeRenderer,createNativeConvolverNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createDelayNodeRenderer=createDelayNodeRendererFactory(connectAudioParam,createNativeDelayNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),delayNodeConstructor=createDelayNodeConstructor(audioNodeConstructor,createAudioParam,createDelayNodeRenderer,createNativeDelayNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativeDynamicsCompressorNode=createNativeDynamicsCompressorNodeFactory(createNotSupportedError),createDynamicsCompressorNodeRenderer=createDynamicsCompressorNodeRendererFactory(connectAudioParam,createNativeDynamicsCompressorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),dynamicsCompressorNodeConstructor=createDynamicsCompressorNodeConstructor(audioNodeConstructor,createAudioParam,createDynamicsCompressorNodeRenderer,createNativeDynamicsCompressorNode,createNotSupportedError,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createGainNodeRenderer=createGainNodeRendererFactory(connectAudioParam,createNativeGainNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),gainNodeConstructor=createGainNodeConstructor(audioNodeConstructor,createAudioParam,createGainNodeRenderer,createNativeGainNode,getNativeContext,isNativeOfflineAudioContext),createNativeIIRFilterNodeFaker=createNativeIIRFilterNodeFakerFactory(createInvalidAccessError,createInvalidStateError,createNativeScriptProcessorNode,createNotSupportedError),renderNativeOfflineAudioContext=createRenderNativeOfflineAudioContext(cacheTestResult,createNativeGainNode,createNativeScriptProcessorNode,createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode,nativeOfflineAudioContextConstructor)),createIIRFilterNodeRenderer=createIIRFilterNodeRendererFactory(createNativeAudioBufferSourceNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderInputsOfAudioNode,renderNativeOfflineAudioContext),createNativeIIRFilterNode=createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker),iIRFilterNodeConstructor=createIIRFilterNodeConstructor(audioNodeConstructor,createNativeIIRFilterNode,createIIRFilterNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createAudioListener=createAudioListenerFactory(createAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeScriptProcessorNode,createNotSupportedError,getFirstSample,isNativeOfflineAudioContext,overwriteAccessors),unrenderedAudioWorkletNodeStore=new WeakMap,minimalBaseAudioContextConstructor=createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor,createAudioListener,eventTargetConstructor,isNativeOfflineAudioContext,unrenderedAudioWorkletNodeStore,wrapEventListener),createNativeOscillatorNode=createNativeOscillatorNodeFactory(addSilentConnection,cacheTestResult,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),createOscillatorNodeRenderer=createOscillatorNodeRendererFactory(connectAudioParam,createNativeOscillatorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),oscillatorNodeConstructor=createOscillatorNodeConstructor(audioNodeConstructor,createAudioParam,createNativeOscillatorNode,createOscillatorNodeRenderer,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createConnectedNativeAudioBufferSourceNode=createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode),createNativeWaveShaperNodeFaker=createNativeWaveShaperNodeFakerFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeGainNode,isDCCurve,monitorConnections),createNativeWaveShaperNode=createNativeWaveShaperNodeFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeWaveShaperNodeFaker,isDCCurve,monitorConnections,nativeAudioContextConstructor,overwriteAccessors),createNativePannerNodeFaker=createNativePannerNodeFakerFactory(connectNativeAudioNodeToNativeAudioNode,createInvalidStateError,createNativeChannelMergerNode,createNativeGainNode,createNativeScriptProcessorNode,createNativeWaveShaperNode,createNotSupportedError,disconnectNativeAudioNodeFromNativeAudioNode,getFirstSample,monitorConnections),createNativePannerNode=createNativePannerNodeFactory(createNativePannerNodeFaker),createPannerNodeRenderer=createPannerNodeRendererFactory(connectAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeGainNode,createNativePannerNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),pannerNodeConstructor=createPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativePannerNode,createPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativePeriodicWave=createNativePeriodicWaveFactory(createIndexSizeError),periodicWaveConstructor=createPeriodicWaveConstructor(createNativePeriodicWave,getNativeContext,new WeakSet,sanitizePeriodicWaveOptions),nativeStereoPannerNodeFakerFactory=createNativeStereoPannerNodeFakerFactory(createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeGainNode,createNativeWaveShaperNode,createNotSupportedError,monitorConnections),createNativeStereoPannerNode=createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory,createNotSupportedError),createStereoPannerNodeRenderer=createStereoPannerNodeRendererFactory(connectAudioParam,createNativeStereoPannerNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),stereoPannerNodeConstructor=createStereoPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativeStereoPannerNode,createStereoPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext),createWaveShaperNodeRenderer=createWaveShaperNodeRendererFactory(createNativeWaveShaperNode,getNativeAudioNode,renderInputsOfAudioNode),waveShaperNodeConstructor=createWaveShaperNodeConstructor(audioNodeConstructor,createInvalidStateError,createNativeWaveShaperNode,createWaveShaperNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),isSecureContext$1=createIsSecureContext(window$1),exposeCurrentFrameAndCurrentTime=createExposeCurrentFrameAndCurrentTime(window$1),backupOfflineAudioContextStore=new WeakMap,getOrCreateBackupOfflineAudioContext=createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore,nativeOfflineAudioContextConstructor),addAudioWorkletModule=isSecureContext$1?createAddAudioWorkletModule(cacheTestResult,createNotSupportedError,createEvaluateSource(window$1),exposeCurrentFrameAndCurrentTime,createFetchSource(createAbortError),getNativeContext,getOrCreateBackupOfflineAudioContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,new WeakMap,new WeakMap,createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor),window$1):void 0,isNativeContext=createIsNativeContext(isNativeAudioContext,isNativeOfflineAudioContext),decodeAudioData=createDecodeAudioData(audioBufferStore,cacheTestResult,createDataCloneError,createEncodingError,new WeakSet,getNativeContext,isNativeContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,testPromiseSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),baseAudioContextConstructor=createBaseAudioContextConstructor(addAudioWorkletModule,analyserNodeConstructor,audioBufferConstructor,audioBufferSourceNodeConstructor,biquadFilterNodeConstructor,channelMergerNodeConstructor,channelSplitterNodeConstructor,constantSourceNodeConstructor,convolverNodeConstructor,decodeAudioData,delayNodeConstructor,dynamicsCompressorNodeConstructor,gainNodeConstructor,iIRFilterNodeConstructor,minimalBaseAudioContextConstructor,oscillatorNodeConstructor,pannerNodeConstructor,periodicWaveConstructor,stereoPannerNodeConstructor,waveShaperNodeConstructor),mediaElementAudioSourceNodeConstructor=createMediaElementAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaElementAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioDestinationNodeConstructor=createMediaStreamAudioDestinationNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioDestinationNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioSourceNodeConstructor=createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),createNativeMediaStreamTrackAudioSourceNode=createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError,isNativeOfflineAudioContext),mediaStreamTrackAudioSourceNodeConstructor=createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamTrackAudioSourceNode,getNativeContext),audioContextConstructor=createAudioContextConstructor(baseAudioContextConstructor,createInvalidStateError,createNotSupportedError,createUnknownError,mediaElementAudioSourceNodeConstructor,mediaStreamAudioDestinationNodeConstructor,mediaStreamAudioSourceNodeConstructor,mediaStreamTrackAudioSourceNodeConstructor,nativeAudioContextConstructor),getUnrenderedAudioWorkletNodes=createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore),addUnrenderedAudioWorkletNode=createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),connectMultipleOutputs=createConnectMultipleOutputs(createIndexSizeError),deleteUnrenderedAudioWorkletNode=createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),disconnectMultipleOutputs=createDisconnectMultipleOutputs(createIndexSizeError),activeAudioWorkletNodeInputsStore=new WeakMap,getActiveAudioWorkletNodeInputs=createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore,getValueForKey),createNativeAudioWorkletNodeFaker=createNativeAudioWorkletNodeFakerFactory(connectMultipleOutputs,createIndexSizeError,createInvalidStateError,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,createNativeScriptProcessorNode,createNotSupportedError,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getActiveAudioWorkletNodeInputs,monitorConnections),createNativeAudioWorkletNode=createNativeAudioWorkletNodeFactory(createInvalidStateError,createNativeAudioWorkletNodeFaker,createNativeGainNode,createNotSupportedError,monitorConnections),createAudioWorkletNodeRenderer=createAudioWorkletNodeRendererFactory(connectAudioParam,connectMultipleOutputs,createNativeAudioBufferSourceNode,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,deleteUnrenderedAudioWorkletNode,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getNativeAudioNode,nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),getBackupOfflineAudioContext=createGetBackupOfflineAudioContext(backupOfflineAudioContextStore),setActiveAudioWorkletNodeInputs=createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore),audioWorkletNodeConstructor=isSecureContext$1?createAudioWorkletNodeConstructor(addUnrenderedAudioWorkletNode,audioNodeConstructor,createAudioParam,createAudioWorkletNodeRenderer,createNativeAudioWorkletNode,getAudioNodeConnections,getBackupOfflineAudioContext,getNativeContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,sanitizeAudioWorkletNodeOptions,setActiveAudioWorkletNodeInputs,testAudioWorkletNodeOptionsClonability,wrapEventListener):void 0,createNativeOfflineAudioContext=createCreateNativeOfflineAudioContext(createNotSupportedError,nativeOfflineAudioContextConstructor),startRendering=createStartRendering(audioBufferStore,cacheTestResult,getAudioNodeRenderer,getUnrenderedAudioWorkletNodes,renderNativeOfflineAudioContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),offlineAudioContextConstructor=createOfflineAudioContextConstructor(baseAudioContextConstructor,cacheTestResult,createInvalidStateError,createNativeOfflineAudioContext,startRendering),isAnyAudioContext=createIsAnyAudioContext(CONTEXT_STORE,isNativeAudioContext),isAnyAudioNode=createIsAnyAudioNode(AUDIO_NODE_STORE,isNativeAudioNode),isAnyAudioParam=createIsAnyAudioParam(AUDIO_PARAM_STORE,isNativeAudioParam),isAnyOfflineAudioContext=createIsAnyOfflineAudioContext(CONTEXT_STORE,isNativeOfflineAudioContext);function assert(f,l){if(!f)throw new Error(l)}function assertRange(f,l,u=1/0){if(!(l<=f&&f<=u))throw new RangeError(`Value must be within [${l}, ${u}], got: ${f}`)}function assertContextRunning(f){!f.isOffline&&f.state!=="running"&&warn('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let defaultLogger=console;function log(...f){defaultLogger.log(...f)}function warn(...f){defaultLogger.warn(...f)}function isUndef(f){return typeof f>"u"}function isDefined(f){return!isUndef(f)}function isFunction(f){return typeof f=="function"}function isNumber(f){return typeof f=="number"}function isObject(f){return Object.prototype.toString.call(f)==="[object Object]"&&f.constructor===Object}function isBoolean(f){return typeof f=="boolean"}function isArray(f){return Array.isArray(f)}function isString(f){return typeof f=="string"}function isNote(f){return isString(f)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(f)}function createAudioContext(f){return new audioContextConstructor(f)}function createOfflineAudioContext(f,l,u){return new offlineAudioContextConstructor(f,l,u)}const theWindow=typeof self=="object"?self:null,hasAudioContext=theWindow&&(theWindow.hasOwnProperty("AudioContext")||theWindow.hasOwnProperty("webkitAudioContext"));function createAudioWorkletNode(f,l,u){return assert(isDefined(audioWorkletNodeConstructor),"This node only works in a secure context (https or localhost)"),new audioWorkletNodeConstructor(f,l,u)}function __decorate(f,l,u,c){var g=arguments.length,y=g<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,l,u,c);else for(var _=f.length-1;_>=0;_--)(m=f[_])&&(y=(g<3?m(y):g>3?m(l,u,y):m(l,u))||y);return g>3&&y&&Object.defineProperty(l,u,y),y}function __awaiter(f,l,u,c){function g(y){return y instanceof u?y:new u(function(m){m(y)})}return new(u||(u=Promise))(function(y,m){function _(E){try{x(c.next(E))}catch(A){m(A)}}function p(E){try{x(c.throw(E))}catch(A){m(A)}}function x(E){E.done?y(E.value):g(E.value).then(_,p)}x((c=c.apply(f,l||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Ticker{constructor(l,u,c){this._callback=l,this._type=u,this._updateInterval=c,this._createClock()}_createWorker(){const l=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),u=URL.createObjectURL(l),c=new Worker(u);c.onmessage=this._callback.bind(this),this._worker=c}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(l){this._updateInterval=Math.max(l,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(l*1e3,1))}get type(){return this._type}set type(l){this._disposeClock(),this._type=l,this._createClock()}dispose(){this._disposeClock()}}function isAudioParam(f){return isAnyAudioParam(f)}function isAudioNode(f){return isAnyAudioNode(f)}function isOfflineAudioContext(f){return isAnyOfflineAudioContext(f)}function isAudioContext(f){return isAnyAudioContext(f)}function isAudioBuffer(f){return f instanceof AudioBuffer}function noCopy(f,l){return f==="value"||isAudioParam(l)||isAudioNode(l)||isAudioBuffer(l)}function deepMerge(f,...l){if(!l.length)return f;const u=l.shift();if(isObject(f)&&isObject(u))for(const c in u)noCopy(c,u[c])?f[c]=u[c]:isObject(u[c])?(f[c]||Object.assign(f,{[c]:{}}),deepMerge(f[c],u[c])):Object.assign(f,{[c]:u[c]});return deepMerge(f,...l)}function deepEquals(f,l){return f.length===l.length&&f.every((u,c)=>l[c]===u)}function optionsFromArguments(f,l,u=[],c){const g={},y=Array.from(l);if(isObject(y[0])&&c&&!Reflect.has(y[0],c)&&(Object.keys(y[0]).some(_=>Reflect.has(f,_))||(deepMerge(g,{[c]:y[0]}),u.splice(u.indexOf(c),1),y.shift())),y.length===1&&isObject(y[0]))deepMerge(g,y[0]);else for(let m=0;m<u.length;m++)isDefined(y[m])&&(g[u[m]]=y[m]);return deepMerge(f,g)}function getDefaultsFromInstance(f){return f.constructor.getDefaults()}function defaultArg(f,l){return isUndef(f)?l:f}function omitFromObject(f,l){return l.forEach(u=>{Reflect.has(f,u)&&delete f[u]}),f}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Tone{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...l){(this.debug||theWindow&&this.toString()===theWindow.TONE_DEBUG_CLASS)&&log(this,...l)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Tone.version=version;const EPSILON=1e-6;function GT(f,l){return f>l+EPSILON}function GTE(f,l){return GT(f,l)||EQ(f,l)}function LT(f,l){return f+EPSILON<l}function EQ(f,l){return Math.abs(f-l)<EPSILON}function clamp(f,l,u){return Math.max(Math.min(f,u),l)}class Timeline extends Tone{constructor(){super(),this.name="Timeline",this._timeline=[];const l=optionsFromArguments(Timeline.getDefaults(),arguments,["memory"]);this.memory=l.memory,this.increasing=l.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(l){if(assert(Reflect.has(l,"time"),"Timeline: events must have a time attribute"),l.time=l.time.valueOf(),this.increasing&&this.length){const u=this._timeline[this.length-1];assert(GTE(l.time,u.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(l)}else{const u=this._search(l.time);this._timeline.splice(u+1,0,l)}if(this.length>this.memory){const u=this.length-this.memory;this._timeline.splice(0,u)}return this}remove(l){const u=this._timeline.indexOf(l);return u!==-1&&this._timeline.splice(u,1),this}get(l,u="time"){const c=this._search(l,u);return c!==-1?this._timeline[c]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(l,u="time"){const c=this._search(l,u);return c+1<this._timeline.length?this._timeline[c+1]:null}getBefore(l){const u=this._timeline.length;if(u>0&&this._timeline[u-1].time<l)return this._timeline[u-1];const c=this._search(l);return c-1>=0?this._timeline[c-1]:null}cancel(l){if(this._timeline.length>1){let u=this._search(l);if(u>=0)if(EQ(this._timeline[u].time,l)){for(let c=u;c>=0&&EQ(this._timeline[c].time,l);c--)u=c;this._timeline=this._timeline.slice(0,u)}else this._timeline=this._timeline.slice(0,u+1);else this._timeline=[]}else this._timeline.length===1&&GTE(this._timeline[0].time,l)&&(this._timeline=[]);return this}cancelBefore(l){const u=this._search(l);return u>=0&&(this._timeline=this._timeline.slice(u+1)),this}previousEvent(l){const u=this._timeline.indexOf(l);return u>0?this._timeline[u-1]:null}_search(l,u="time"){if(this._timeline.length===0)return-1;let c=0;const g=this._timeline.length;let y=g;if(g>0&&this._timeline[g-1][u]<=l)return g-1;for(;c<y;){let m=Math.floor(c+(y-c)/2);const _=this._timeline[m],p=this._timeline[m+1];if(EQ(_[u],l)){for(let x=m;x<this._timeline.length;x++){const E=this._timeline[x];if(EQ(E[u],l))m=x;else break}return m}else{if(LT(_[u],l)&&GT(p[u],l))return m;GT(_[u],l)?y=m:c=m+1}}return-1}_iterate(l,u=0,c=this._timeline.length-1){this._timeline.slice(u,c+1).forEach(l)}forEach(l){return this._iterate(l),this}forEachBefore(l,u){const c=this._search(l);return c!==-1&&this._iterate(u,0,c),this}forEachAfter(l,u){const c=this._search(l);return this._iterate(u,c+1),this}forEachBetween(l,u,c){let g=this._search(l),y=this._search(u);return g!==-1&&y!==-1?(this._timeline[g].time!==l&&(g+=1),this._timeline[y].time===u&&(y-=1),this._iterate(c,g,y)):g===-1&&this._iterate(c,0,y),this}forEachFrom(l,u){let c=this._search(l);for(;c>=0&&this._timeline[c].time>=l;)c--;return this._iterate(u,c+1),this}forEachAtTime(l,u){const c=this._search(l);if(c!==-1&&EQ(this._timeline[c].time,l)){let g=c;for(let y=c;y>=0&&EQ(this._timeline[y].time,l);y--)g=y;this._iterate(y=>{u(y)},g,c)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const notifyNewContext=[];function onContextInit(f){notifyNewContext.push(f)}function initializeContext(f){notifyNewContext.forEach(l=>l(f))}const notifyCloseContext=[];function onContextClose(f){notifyCloseContext.push(f)}function closeContext(f){notifyCloseContext.forEach(l=>l(f))}class Emitter extends Tone{constructor(){super(...arguments),this.name="Emitter"}on(l,u){return l.split(/\W+/).forEach(g=>{isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(g)||(this._events[g]=[]),this._events[g].push(u)}),this}once(l,u){const c=(...g)=>{u(...g),this.off(l,c)};return this.on(l,c),this}off(l,u){return l.split(/\W+/).forEach(g=>{if(isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(l))if(isUndef(u))this._events[l]=[];else{const y=this._events[l];for(let m=y.length-1;m>=0;m--)y[m]===u&&y.splice(m,1)}}),this}emit(l,...u){if(this._events&&this._events.hasOwnProperty(l)){const c=this._events[l].slice(0);for(let g=0,y=c.length;g<y;g++)c[g].apply(this,u)}return this}static mixin(l){["on","once","off","emit"].forEach(u=>{const c=Object.getOwnPropertyDescriptor(Emitter.prototype,u);Object.defineProperty(l.prototype,u,c)})}dispose(){return super.dispose(),this._events=void 0,this}}class BaseContext extends Emitter{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Context extends BaseContext{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Timeline,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const l=optionsFromArguments(Context.getDefaults(),arguments,["context"]);l.context?this._context=l.context:this._context=createAudioContext({latencyHint:l.latencyHint}),this._ticker=new Ticker(this.emit.bind(this,"tick"),l.clockSource,l.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(l.latencyHint),this.lookAhead=l.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(initializeContext(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(l,u,c){return this._context.createBuffer(l,u,c)}createChannelMerger(l){return this._context.createChannelMerger(l)}createChannelSplitter(l){return this._context.createChannelSplitter(l)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(l){return this._context.createDelay(l)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(l,u){return this._context.createIIRFilter(l,u)}createPanner(){return this._context.createPanner()}createPeriodicWave(l,u,c){return this._context.createPeriodicWave(l,u,c)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(l){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(l)}createMediaElementSource(l){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(l)}createMediaStreamDestination(){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(l){return this._context.decodeAudioData(l)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(l){assert(!this._initialized,"The listener cannot be set after initialization."),this._listener=l}get transport(){return this.initialize(),this._transport}set transport(l){assert(!this._initialized,"The transport cannot be set after initialization."),this._transport=l}get draw(){return this.initialize(),this._draw}set draw(l){assert(!this._initialized,"Draw cannot be set after initialization."),this._draw=l}get destination(){return this.initialize(),this._destination}set destination(l){assert(!this._initialized,"The destination cannot be set after initialization."),this._destination=l}createAudioWorkletNode(l,u){return createAudioWorkletNode(this.rawContext,l,u)}addAudioWorkletModule(l,u){return __awaiter(this,void 0,void 0,function*(){assert(isDefined(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(u)||this._workletModules.set(u,this.rawContext.audioWorklet.addModule(l)),yield this._workletModules.get(u)})}workletsAreReady(){return __awaiter(this,void 0,void 0,function*(){const l=[];this._workletModules.forEach(u=>l.push(u)),yield Promise.all(l)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(l){this._ticker.updateInterval=l}get clockSource(){return this._ticker.type}set clockSource(l){this._ticker.type=l}get latencyHint(){return this._latencyHint}_setLatencyHint(l){let u=0;if(this._latencyHint=l,isString(l))switch(l){case"interactive":u=.1;break;case"playback":u=.5;break;case"balanced":u=.25;break}this.lookAhead=u,this.updateInterval=u/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return isAudioContext(this._context)?this._context.resume():Promise.resolve()}close(){return __awaiter(this,void 0,void 0,function*(){isAudioContext(this._context)&&(yield this._context.close()),this._initialized&&closeContext(this)})}getConstant(l){if(this._constants.has(l))return this._constants.get(l);{const u=this._context.createBuffer(1,128,this._context.sampleRate),c=u.getChannelData(0);for(let y=0;y<c.length;y++)c[y]=l;const g=this._context.createBufferSource();return g.channelCount=1,g.channelCountMode="explicit",g.buffer=u,g.loop=!0,g.start(0),this._constants.set(l,g),g}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(l=>this._constants[l].disconnect()),this}_timeoutLoop(){const l=this.now();let u=this._timeouts.peek();for(;this._timeouts.length&&u&&u.time<=l;)u.callback(),this._timeouts.shift(),u=this._timeouts.peek()}setTimeout(l,u){this._timeoutIds++;const c=this.now();return this._timeouts.add({callback:l,id:this._timeoutIds,time:c+u}),this._timeoutIds}clearTimeout(l){return this._timeouts.forEach(u=>{u.id===l&&this._timeouts.remove(u)}),this}clearInterval(l){return this.clearTimeout(l)}setInterval(l,u){const c=++this._timeoutIds,g=()=>{const y=this.now();this._timeouts.add({callback:()=>{l(),g()},id:c,time:y+u})};return g(),c}}class DummyContext extends BaseContext{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(l,u,c){return{}}createChannelMerger(l){return{}}createChannelSplitter(l){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(l){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(l,u){return{}}createPanner(){return{}}createPeriodicWave(l,u,c){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(l){return{}}createMediaElementSource(l){return{}}createMediaStreamDestination(){return{}}decodeAudioData(l){return Promise.resolve({})}createAudioWorkletNode(l,u){return{}}get rawContext(){return{}}addAudioWorkletModule(l,u){return __awaiter(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(l,u){return 0}clearTimeout(l){return this}setInterval(l,u){return 0}clearInterval(l){return this}getConstant(l){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(l){}get destination(){return{}}set destination(l){}now(){return 0}immediate(){return 0}}function readOnly(f,l){isArray(l)?l.forEach(u=>readOnly(f,u)):Object.defineProperty(f,l,{enumerable:!0,writable:!1})}function writable(f,l){isArray(l)?l.forEach(u=>writable(f,u)):Object.defineProperty(f,l,{writable:!0})}const noOp=()=>{};class ToneAudioBuffer extends Tone{constructor(){super(),this.name="ToneAudioBuffer",this.onload=noOp;const l=optionsFromArguments(ToneAudioBuffer.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=l.reverse,this.onload=l.onload,l.url&&isAudioBuffer(l.url)||l.url instanceof ToneAudioBuffer?this.set(l.url):isString(l.url)&&this.load(l.url).catch(l.onerror)}static getDefaults(){return{onerror:noOp,onload:noOp,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:getContext().sampleRate}set(l){return l instanceof ToneAudioBuffer?l.loaded?this._buffer=l.get():l.onload=()=>{this.set(l),this.onload(this)}:this._buffer=l,this._reversed&&this._reverse(),this}get(){return this._buffer}load(l){return __awaiter(this,void 0,void 0,function*(){const u=ToneAudioBuffer.load(l).then(c=>{this.set(c),this.onload(this)});ToneAudioBuffer.downloads.push(u);try{yield u}finally{const c=ToneAudioBuffer.downloads.indexOf(u);ToneAudioBuffer.downloads.splice(c,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(l){const u=isArray(l)&&l[0].length>0,c=u?l.length:1,g=u?l[0].length:l.length,y=getContext(),m=y.createBuffer(c,g,y.sampleRate),_=!u&&c===1?[l]:l;for(let p=0;p<c;p++)m.copyToChannel(_[p],p);return this._buffer=m,this}toMono(l){if(isNumber(l))this.fromArray(this.toArray(l));else{let u=new Float32Array(this.length);const c=this.numberOfChannels;for(let g=0;g<c;g++){const y=this.toArray(g);for(let m=0;m<y.length;m++)u[m]+=y[m]}u=u.map(g=>g/c),this.fromArray(u)}return this}toArray(l){if(isNumber(l))return this.getChannelData(l);if(this.numberOfChannels===1)return this.toArray(0);{const u=[];for(let c=0;c<this.numberOfChannels;c++)u[c]=this.getChannelData(c);return u}}getChannelData(l){return this._buffer?this._buffer.getChannelData(l):new Float32Array(0)}slice(l,u=this.duration){const c=Math.floor(l*this.sampleRate),g=Math.floor(u*this.sampleRate);assert(c<g,"The start time must be less than the end time");const y=g-c,m=getContext().createBuffer(this.numberOfChannels,y,this.sampleRate);for(let _=0;_<this.numberOfChannels;_++)m.copyToChannel(this.getChannelData(_).subarray(c,g),_);return new ToneAudioBuffer(m)}_reverse(){if(this.loaded)for(let l=0;l<this.numberOfChannels;l++)this.getChannelData(l).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(l){this._reversed!==l&&(this._reversed=l,this._reverse())}static fromArray(l){return new ToneAudioBuffer().fromArray(l)}static fromUrl(l){return __awaiter(this,void 0,void 0,function*(){return yield new ToneAudioBuffer().load(l)})}static load(l){return __awaiter(this,void 0,void 0,function*(){const u=l.match(/\[([^\]\[]+\|.+)\]$/);if(u){const _=u[1].split("|");let p=_[0];for(const x of _)if(ToneAudioBuffer.supportsType(x)){p=x;break}l=l.replace(u[0],p)}const c=ToneAudioBuffer.baseUrl===""||ToneAudioBuffer.baseUrl.endsWith("/")?ToneAudioBuffer.baseUrl:ToneAudioBuffer.baseUrl+"/",g=yield fetch(c+l);if(!g.ok)throw new Error(`could not load url: ${l}`);const y=yield g.arrayBuffer();return yield getContext().decodeAudioData(y)})}static supportsType(l){const u=l.split("."),c=u[u.length-1];return document.createElement("audio").canPlayType("audio/"+c)!==""}static loaded(){return __awaiter(this,void 0,void 0,function*(){for(yield Promise.resolve();ToneAudioBuffer.downloads.length;)yield ToneAudioBuffer.downloads[0]})}}ToneAudioBuffer.baseUrl="";ToneAudioBuffer.downloads=[];class OfflineContext extends Context{constructor(){super({clockSource:"offline",context:isOfflineAudioContext(arguments[0])?arguments[0]:createOfflineAudioContext(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:isOfflineAudioContext(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=isOfflineAudioContext(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(l){return __awaiter(this,void 0,void 0,function*(){let u=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,u++;const c=Math.floor(this.sampleRate/128);l&&u%c===0&&(yield new Promise(g=>setTimeout(g,1)))}})}render(l=!0){return __awaiter(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(l);const u=yield this._context.startRendering();return new ToneAudioBuffer(u)})}close(){return Promise.resolve()}}const dummyContext=new DummyContext;let globalContext=dummyContext;function getContext(){return globalContext===dummyContext&&hasAudioContext&&setContext(new Context),globalContext}function setContext(f){isAudioContext(f)?globalContext=new Context(f):isOfflineAudioContext(f)?globalContext=new OfflineContext(f):globalContext=f}function start(){return globalContext.resume()}if(theWindow&&!theWindow.TONE_SILENCE_LOGGING){const l=` * Tone.js v${version} * `;console.log(`%c${l}`,"background: #000; color: #fff")}function dbToGain(f){return Math.pow(10,f/20)}function gainToDb(f){return 20*(Math.log(f)/Math.LN10)}function intervalToFrequencyRatio(f){return Math.pow(2,f/12)}let A4=440;function getA4(){return A4}function setA4(f){A4=f}function ftom(f){return Math.round(ftomf(f))}function ftomf(f){return 69+12*Math.log2(f/A4)}function mtof(f){return A4*Math.pow(2,(f-69)/12)}class TimeBaseClass extends Tone{constructor(l,u,c){super(),this.defaultUnits="s",this._val=u,this._units=c,this.context=l,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:l=>this._frequencyToUnits(parseFloat(l)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:l=>this._ticksToUnits(parseInt(l,10)),regexp:/^(\d+)i$/i},m:{method:l=>this._beatsToUnits(parseInt(l,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(l,u)=>{const c=parseInt(l,10),g=u==="."?1.5:1;return c===1?this._beatsToUnits(this._getTimeSignature())*g:this._beatsToUnits(4/c)*g},regexp:/^(\d+)n(\.?)$/i},number:{method:l=>this._expressions[this.defaultUnits].method.call(this,l),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:l=>this._secondsToUnits(parseFloat(l)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:l=>parseInt(l,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:l=>{const u=parseInt(l,10);return this._beatsToUnits(8/(Math.floor(u)*3))},regexp:/^(\d+)t$/i},tr:{method:(l,u,c)=>{let g=0;return l&&l!=="0"&&(g+=this._beatsToUnits(this._getTimeSignature()*parseFloat(l))),u&&u!=="0"&&(g+=this._beatsToUnits(parseFloat(u))),c&&c!=="0"&&(g+=this._beatsToUnits(parseFloat(c)/4)),g},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof TimeBaseClass&&this.fromType(this._val),isUndef(this._val))return this._noArg();if(isString(this._val)&&isUndef(this._units)){for(const l in this._expressions)if(this._expressions[l].regexp.test(this._val.trim())){this._units=l;break}}else if(isObject(this._val)){let l=0;for(const u in this._val)if(isDefined(this._val[u])){const c=this._val[u],g=new this.constructor(this.context,u).valueOf()*c;l+=g}return l}if(isDefined(this._units)){const l=this._expressions[this._units],u=this._val.toString().trim().match(l.regexp);return u?l.method.apply(this,u.slice(1)):l.method.call(this,this._val)}else return isString(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(l){return 1/l}_beatsToUnits(l){return 60/this._getBpm()*l}_secondsToUnits(l){return l}_ticksToUnits(l){return l*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(l){switch(this._units=void 0,this.defaultUnits){case"s":this._val=l.toSeconds();break;case"i":this._val=l.toTicks();break;case"hz":this._val=l.toFrequency();break;case"midi":this._val=l.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class TimeClass extends TimeBaseClass{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:l=>this._now()+new this.constructor(this.context,l).valueOf(),regexp:/^\+(.+)/},quantize:{method:l=>{const u=new TimeClass(this.context,l).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(u))},regexp:/^@(.+)/}})}quantize(l,u=1){const c=new this.constructor(this.context,l).valueOf(),g=this.valueOf(),_=Math.round(g/c)*c-g;return g+_*u}toNotation(){const l=this.toSeconds(),u=["1m"];for(let y=1;y<9;y++){const m=Math.pow(2,y);u.push(m+"n."),u.push(m+"n"),u.push(m+"t")}u.push("0");let c=u[0],g=new TimeClass(this.context,u[0]).toSeconds();return u.forEach(y=>{const m=new TimeClass(this.context,y).toSeconds();Math.abs(m-l)<Math.abs(g-l)&&(c=y,g=m)}),c}toBarsBeatsSixteenths(){const l=this._beatsToUnits(1);let u=this.valueOf()/l;u=parseFloat(u.toFixed(4));const c=Math.floor(u/this._getTimeSignature());let g=u%1*4;u=Math.floor(u)%this._getTimeSignature();const y=g.toString();return y.length>3&&(g=parseFloat(parseFloat(y).toFixed(3))),[c,u,g].join(":")}toTicks(){const l=this._beatsToUnits(1),u=this.valueOf()/l;return Math.round(u*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return ftom(this.toFrequency())}_now(){return this.context.now()}}class FrequencyClass extends TimeClass{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return getA4()}static set A4(l){setA4(l)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(l){return this.defaultUnits==="midi"?l:FrequencyClass.mtof(l)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(l,u){const g=noteToScaleIndex[l.toLowerCase()]+(parseInt(u,10)+1)*12;return this.defaultUnits==="midi"?g:FrequencyClass.mtof(g)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(l,u,c){let g=1;return l&&l!=="0"&&(g*=this._beatsToUnits(this._getTimeSignature()*parseFloat(l))),u&&u!=="0"&&(g*=this._beatsToUnits(parseFloat(u))),c&&c!=="0"&&(g*=this._beatsToUnits(parseFloat(c)/4)),g}}})}transpose(l){return new FrequencyClass(this.context,this.valueOf()*intervalToFrequencyRatio(l))}harmonize(l){return l.map(u=>this.transpose(u))}toMidi(){return ftom(this.valueOf())}toNote(){const l=this.toFrequency(),u=Math.log2(l/FrequencyClass.A4);let c=Math.round(12*u)+57;const g=Math.floor(c/12);return g<0&&(c+=-12*g),scaleIndexToNote[c%12]+g.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const l=this._beatsToUnits(1),u=this.valueOf()/l;return Math.floor(u*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(l){return l}_ticksToUnits(l){return 1/(l*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(l){return 1/super._beatsToUnits(l)}_secondsToUnits(l){return 1/l}static mtof(l){return mtof(l)}static ftom(l){return ftom(l)}}const noteToScaleIndex={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class TransportTimeClass extends TimeClass{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ToneWithContext extends Tone{constructor(){super();const l=optionsFromArguments(ToneWithContext.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=l.context}static getDefaults(){return{context:getContext()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(l){return new TimeClass(this.context,l).toSeconds()}toFrequency(l){return new FrequencyClass(this.context,l).toFrequency()}toTicks(l){return new TransportTimeClass(this.context,l).toTicks()}_getPartialProperties(l){const u=this.get();return Object.keys(u).forEach(c=>{isUndef(l[c])&&delete u[c]}),u}get(){const l=getDefaultsFromInstance(this);return Object.keys(l).forEach(u=>{if(Reflect.has(this,u)){const c=this[u];isDefined(c)&&isDefined(c.value)&&isDefined(c.setValueAtTime)?l[u]=c.value:c instanceof ToneWithContext?l[u]=c._getPartialProperties(l[u]):isArray(c)||isNumber(c)||isString(c)||isBoolean(c)?l[u]=c:delete l[u]}}),l}set(l){return Object.keys(l).forEach(u=>{Reflect.has(this,u)&&isDefined(this[u])&&(this[u]&&isDefined(this[u].value)&&isDefined(this[u].setValueAtTime)?this[u].value!==l[u]&&(this[u].value=l[u]):this[u]instanceof ToneWithContext?this[u].set(l[u]):this[u]=l[u])}),this}}class StateTimeline extends Timeline{constructor(l="stopped"){super(),this.name="StateTimeline",this._initial=l,this.setStateAtTime(this._initial,0)}getValueAtTime(l){const u=this.get(l);return u!==null?u.state:this._initial}setStateAtTime(l,u,c){return assertRange(u,0),this.add(Object.assign({},c,{state:l,time:u})),this}getLastState(l,u){const c=this._search(u);for(let g=c;g>=0;g--){const y=this._timeline[g];if(y.state===l)return y}}getNextState(l,u){const c=this._search(u);if(c!==-1)for(let g=c;g<this._timeline.length;g++){const y=this._timeline[g];if(y.state===l)return y}}}class Param extends ToneWithContext{constructor(){super(optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const l=optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"]);for(assert(isDefined(l.param)&&(isAudioParam(l.param)||l.param instanceof Param),"param must be an AudioParam");!isAudioParam(l.param);)l.param=l.param._param;this._swappable=isDefined(l.swappable)?l.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=l.param,this.input.connect(this._param)):this._param=this.input=l.param,this._events=new Timeline(1e3),this._initialValue=this._param.defaultValue,this.units=l.units,this.convert=l.convert,this._minValue=l.minValue,this._maxValue=l.maxValue,isDefined(l.value)&&l.value!==this._toType(this._initialValue)&&this.setValueAtTime(l.value,0)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{convert:!0,units:"number"})}get value(){const l=this.now();return this.getValueAtTime(l)}set value(l){this.cancelScheduledValues(this.now()),this.setValueAtTime(l,this.now())}get minValue(){return isDefined(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return isDefined(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(l,u){return this.units===u}_assertRange(l){return isDefined(this.maxValue)&&isDefined(this.minValue)&&assertRange(l,this._fromType(this.minValue),this._fromType(this.maxValue)),l}_fromType(l){return this.convert&&!this.overridden?this._is(l,"time")?this.toSeconds(l):this._is(l,"decibels")?dbToGain(l):this._is(l,"frequency")?this.toFrequency(l):l:this.overridden?0:l}_toType(l){return this.convert&&this.units==="decibels"?gainToDb(l):l}setValueAtTime(l,u){const c=this.toSeconds(u),g=this._fromType(l);return assert(isFinite(g)&&isFinite(c),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(l)}, ${JSON.stringify(u)}`),this._assertRange(g),this.log(this.units,"setValueAtTime",l,c),this._events.add({time:c,type:"setValueAtTime",value:g}),this._param.setValueAtTime(g,c),this}getValueAtTime(l){const u=Math.max(this.toSeconds(l),0),c=this._events.getAfter(u),g=this._events.get(u);let y=this._initialValue;if(g===null)y=this._initialValue;else if(g.type==="setTargetAtTime"&&(c===null||c.type==="setValueAtTime")){const m=this._events.getBefore(g.time);let _;m===null?_=this._initialValue:_=m.value,g.type==="setTargetAtTime"&&(y=this._exponentialApproach(g.time,_,g.value,g.constant,u))}else if(c===null)y=g.value;else if(c.type==="linearRampToValueAtTime"||c.type==="exponentialRampToValueAtTime"){let m=g.value;if(g.type==="setTargetAtTime"){const _=this._events.getBefore(g.time);_===null?m=this._initialValue:m=_.value}c.type==="linearRampToValueAtTime"?y=this._linearInterpolate(g.time,m,c.time,c.value,u):y=this._exponentialInterpolate(g.time,m,c.time,c.value,u)}else y=g.value;return this._toType(y)}setRampPoint(l){l=this.toSeconds(l);let u=this.getValueAtTime(l);return this.cancelAndHoldAtTime(l),this._fromType(u)===0&&(u=this._toType(this._minOutput)),this.setValueAtTime(u,l),this}linearRampToValueAtTime(l,u){const c=this._fromType(l),g=this.toSeconds(u);return assert(isFinite(c)&&isFinite(g),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(l)}, ${JSON.stringify(u)}`),this._assertRange(c),this._events.add({time:g,type:"linearRampToValueAtTime",value:c}),this.log(this.units,"linearRampToValueAtTime",l,g),this._param.linearRampToValueAtTime(c,g),this}exponentialRampToValueAtTime(l,u){let c=this._fromType(l);c=EQ(c,0)?this._minOutput:c,this._assertRange(c);const g=this.toSeconds(u);return assert(isFinite(c)&&isFinite(g),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(l)}, ${JSON.stringify(u)}`),this._events.add({time:g,type:"exponentialRampToValueAtTime",value:c}),this.log(this.units,"exponentialRampToValueAtTime",l,g),this._param.exponentialRampToValueAtTime(c,g),this}exponentialRampTo(l,u,c){return c=this.toSeconds(c),this.setRampPoint(c),this.exponentialRampToValueAtTime(l,c+this.toSeconds(u)),this}linearRampTo(l,u,c){return c=this.toSeconds(c),this.setRampPoint(c),this.linearRampToValueAtTime(l,c+this.toSeconds(u)),this}targetRampTo(l,u,c){return c=this.toSeconds(c),this.setRampPoint(c),this.exponentialApproachValueAtTime(l,c,u),this}exponentialApproachValueAtTime(l,u,c){u=this.toSeconds(u),c=this.toSeconds(c);const g=Math.log(c+1)/Math.log(200);return this.setTargetAtTime(l,u,g),this.cancelAndHoldAtTime(u+c*.9),this.linearRampToValueAtTime(l,u+c),this}setTargetAtTime(l,u,c){const g=this._fromType(l);assert(isFinite(c)&&c>0,"timeConstant must be a number greater than 0");const y=this.toSeconds(u);return this._assertRange(g),assert(isFinite(g)&&isFinite(y),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(l)}, ${JSON.stringify(u)}`),this._events.add({constant:c,time:y,type:"setTargetAtTime",value:g}),this.log(this.units,"setTargetAtTime",l,y,c),this._param.setTargetAtTime(g,y,c),this}setValueCurveAtTime(l,u,c,g=1){c=this.toSeconds(c),u=this.toSeconds(u);const y=this._fromType(l[0])*g;this.setValueAtTime(this._toType(y),u);const m=c/(l.length-1);for(let _=1;_<l.length;_++){const p=this._fromType(l[_])*g;this.linearRampToValueAtTime(this._toType(p),u+_*m)}return this}cancelScheduledValues(l){const u=this.toSeconds(l);return assert(isFinite(u),`Invalid argument to cancelScheduledValues: ${JSON.stringify(l)}`),this._events.cancel(u),this._param.cancelScheduledValues(u),this.log(this.units,"cancelScheduledValues",u),this}cancelAndHoldAtTime(l){const u=this.toSeconds(l),c=this._fromType(this.getValueAtTime(u));assert(isFinite(u),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(l)}`),this.log(this.units,"cancelAndHoldAtTime",u,"value="+c);const g=this._events.get(u),y=this._events.getAfter(u);return g&&EQ(g.time,u)?y?(this._param.cancelScheduledValues(y.time),this._events.cancel(y.time)):(this._param.cancelAndHoldAtTime(u),this._events.cancel(u+this.sampleTime)):y&&(this._param.cancelScheduledValues(y.time),this._events.cancel(y.time),y.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(c),u):y.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(c),u)),this._events.add({time:u,type:"setValueAtTime",value:c}),this._param.setValueAtTime(c,u),this}rampTo(l,u=.1,c){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(l,u,c):this.linearRampTo(l,u,c),this}apply(l){const u=this.context.currentTime;l.setValueAtTime(this.getValueAtTime(u),u);const c=this._events.get(u);if(c&&c.type==="setTargetAtTime"){const g=this._events.getAfter(c.time),y=g?g.time:u+2,m=(y-u)/10;for(let _=u;_<y;_+=m)l.linearRampToValueAtTime(this.getValueAtTime(_),_)}return this._events.forEachAfter(this.context.currentTime,g=>{g.type==="cancelScheduledValues"?l.cancelScheduledValues(g.time):g.type==="setTargetAtTime"?l.setTargetAtTime(g.value,g.time,g.constant):l[g.type](g.value,g.time)}),this}setParam(l){assert(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const u=this.input;return u.disconnect(this._param),this.apply(l),this._param=l,u.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(l,u,c,g,y){return c+(u-c)*Math.exp(-(y-l)/g)}_linearInterpolate(l,u,c,g,y){return u+(g-u)*((y-l)/(c-l))}_exponentialInterpolate(l,u,c,g,y){return u*Math.pow(g/u,(y-l)/(c-l))}}class ToneAudioNode extends ToneWithContext{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return isDefined(this.input)?isAudioParam(this.input)||this.input instanceof Param?1:this.input.numberOfInputs:0}get numberOfOutputs(){return isDefined(this.output)?this.output.numberOfOutputs:0}_isAudioNode(l){return isDefined(l)&&(l instanceof ToneAudioNode||isAudioNode(l))}_getInternalNodes(){const l=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&l.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&l.push(this.output),l}_setChannelProperties(l){this._getInternalNodes().forEach(c=>{c.channelCount=l.channelCount,c.channelCountMode=l.channelCountMode,c.channelInterpretation=l.channelInterpretation})}_getChannelProperties(){const l=this._getInternalNodes();assert(l.length>0,"ToneAudioNode does not have any internal nodes");const u=l[0];return{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(l){const u=this._getChannelProperties();this._setChannelProperties(Object.assign(u,{channelCount:l}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(l){const u=this._getChannelProperties();this._setChannelProperties(Object.assign(u,{channelCountMode:l}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(l){const u=this._getChannelProperties();this._setChannelProperties(Object.assign(u,{channelInterpretation:l}))}connect(l,u=0,c=0){return connect(this,l,u,c),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return warn("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(l,u=0,c=0){return disconnect(this,l,u,c),this}chain(...l){return connectSeries(this,...l),this}fan(...l){return l.forEach(u=>this.connect(u)),this}dispose(){return super.dispose(),isDefined(this.input)&&(this.input instanceof ToneAudioNode?this.input.dispose():isAudioNode(this.input)&&this.input.disconnect()),isDefined(this.output)&&(this.output instanceof ToneAudioNode?this.output.dispose():isAudioNode(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function connectSeries(...f){const l=f.shift();f.reduce((u,c)=>(u instanceof ToneAudioNode?u.connect(c):isAudioNode(u)&&connect(u,c),c),l)}function connect(f,l,u=0,c=0){for(assert(isDefined(f),"Cannot connect from undefined node"),assert(isDefined(l),"Cannot connect to undefined node"),(l instanceof ToneAudioNode||isAudioNode(l))&&assert(l.numberOfInputs>0,"Cannot connect to node with no inputs"),assert(f.numberOfOutputs>0,"Cannot connect from node with no outputs");l instanceof ToneAudioNode||l instanceof Param;)isDefined(l.input)&&(l=l.input);for(;f instanceof ToneAudioNode;)isDefined(f.output)&&(f=f.output);isAudioParam(l)?f.connect(l,u):f.connect(l,u,c)}function disconnect(f,l,u=0,c=0){if(isDefined(l))for(;l instanceof ToneAudioNode;)l=l.input;for(;!isAudioNode(f);)isDefined(f.output)&&(f=f.output);isAudioParam(l)?f.disconnect(l,u):isAudioNode(l)?f.disconnect(l,u,c):f.disconnect()}class Gain extends ToneAudioNode{constructor(){super(optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const l=optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"]);this.gain=new Param({context:this.context,convert:l.convert,param:this._gainNode.gain,units:l.units,value:l.gain,minValue:l.minValue,maxValue:l.maxValue}),readOnly(this,"gain")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class OneShotSource extends ToneAudioNode{constructor(l){super(l),this.onended=noOp,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Gain({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(u){const c=this.toSeconds(u);return this._startTime!==-1&&c>=this._startTime&&(this._stopTime===-1||c<=this._stopTime)?"started":"stopped"},this._fadeIn=l.fadeIn,this._fadeOut=l.fadeOut,this._curve=l.curve,this.onended=l.onended}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:noOp})}_startGain(l,u=1){assert(this._startTime===-1,"Source cannot be started more than once");const c=this.toSeconds(this._fadeIn);return this._startTime=l+c,this._startTime=Math.max(this._startTime,this.context.currentTime),c>0?(this._gainNode.gain.setValueAtTime(0,l),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(u,l+c):this._gainNode.gain.exponentialApproachValueAtTime(u,l,c)):this._gainNode.gain.setValueAtTime(u,l),this}stop(l){return this.log("stop",l),this._stopGain(this.toSeconds(l)),this}_stopGain(l){assert(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const u=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(l)+u,this._stopTime=Math.max(this._stopTime,this.context.currentTime),u>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,u,l):this._gainNode.gain.targetRampTo(0,u,l):(this._gainNode.gain.cancelAndHoldAtTime(l),this._gainNode.gain.setValueAtTime(0,l)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const c=this._curve==="exponential"?u*2:0;this._stopSource(this.now()+c),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==noOp&&(this.onended(this),this.onended=noOp,!this.context.isOffline)){const l=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(l):setTimeout(l,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),assert(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class ToneConstantSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const l=optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"]);connect(this._source,this._gainNode),this.offset=new Param({context:this.context,convert:l.convert,param:this._source.offset,units:l.units,value:l.offset,minValue:l.minValue,maxValue:l.maxValue})}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{convert:!0,offset:1,units:"number"})}start(l){const u=this.toSeconds(l);return this.log("start",u),this._startGain(u),this._source.start(u),this}_stopSource(l){this._source.stop(l)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Signal extends ToneAudioNode{constructor(){super(optionsFromArguments(Signal.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const l=optionsFromArguments(Signal.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ToneConstantSource({context:this.context,convert:l.convert,offset:l.value,units:l.units,minValue:l.minValue,maxValue:l.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,units:"number",value:0})}connect(l,u=0,c=0){return connectSignal(this,l,u,c),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(l,u){return this._param.setValueAtTime(l,u),this}getValueAtTime(l){return this._param.getValueAtTime(l)}setRampPoint(l){return this._param.setRampPoint(l),this}linearRampToValueAtTime(l,u){return this._param.linearRampToValueAtTime(l,u),this}exponentialRampToValueAtTime(l,u){return this._param.exponentialRampToValueAtTime(l,u),this}exponentialRampTo(l,u,c){return this._param.exponentialRampTo(l,u,c),this}linearRampTo(l,u,c){return this._param.linearRampTo(l,u,c),this}targetRampTo(l,u,c){return this._param.targetRampTo(l,u,c),this}exponentialApproachValueAtTime(l,u,c){return this._param.exponentialApproachValueAtTime(l,u,c),this}setTargetAtTime(l,u,c){return this._param.setTargetAtTime(l,u,c),this}setValueCurveAtTime(l,u,c,g){return this._param.setValueCurveAtTime(l,u,c,g),this}cancelScheduledValues(l){return this._param.cancelScheduledValues(l),this}cancelAndHoldAtTime(l){return this._param.cancelAndHoldAtTime(l),this}rampTo(l,u,c){return this._param.rampTo(l,u,c),this}get value(){return this._param.value}set value(l){this._param.value=l}get convert(){return this._param.convert}set convert(l){this._param.convert=l}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(l){this._param.overridden=l}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(l){return this._param.apply(l),this}}function connectSignal(f,l,u,c){(l instanceof Param||isAudioParam(l)||l instanceof Signal&&l.override)&&(l.cancelScheduledValues(0),l.setValueAtTime(0,0),l instanceof Signal&&(l.overridden=!0)),connect(f,l,u,c)}class TickParam extends Param{constructor(){super(optionsFromArguments(TickParam.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Timeline(1/0),this._multiplier=1;const l=optionsFromArguments(TickParam.getDefaults(),arguments,["value"]);this._multiplier=l.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(l.value)}),this.setValueAtTime(l.value,0)}static getDefaults(){return Object.assign(Param.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(l,u,c){u=this.toSeconds(u),this.setRampPoint(u);const g=this._fromType(l),y=this._events.get(u),m=Math.round(Math.max(1/c,1));for(let _=0;_<=m;_++){const p=c*_+u,x=this._exponentialApproach(y.time,y.value,g,c,p);this.linearRampToValueAtTime(this._toType(x),p)}return this}setValueAtTime(l,u){const c=this.toSeconds(u);super.setValueAtTime(l,u);const g=this._events.get(c),y=this._events.previousEvent(g),m=this._getTicksUntilEvent(y,c);return g.ticks=Math.max(m,0),this}linearRampToValueAtTime(l,u){const c=this.toSeconds(u);super.linearRampToValueAtTime(l,u);const g=this._events.get(c),y=this._events.previousEvent(g),m=this._getTicksUntilEvent(y,c);return g.ticks=Math.max(m,0),this}exponentialRampToValueAtTime(l,u){u=this.toSeconds(u);const c=this._fromType(l),g=this._events.get(u),y=Math.round(Math.max((u-g.time)*10,1)),m=(u-g.time)/y;for(let _=0;_<=y;_++){const p=m*_+g.time,x=this._exponentialInterpolate(g.time,g.value,u,c,p);this.linearRampToValueAtTime(this._toType(x),p)}return this}_getTicksUntilEvent(l,u){if(l===null)l={ticks:0,time:0,type:"setValueAtTime",value:0};else if(isUndef(l.ticks)){const m=this._events.previousEvent(l);l.ticks=this._getTicksUntilEvent(m,l.time)}const c=this._fromType(this.getValueAtTime(l.time));let g=this._fromType(this.getValueAtTime(u));const y=this._events.get(u);return y&&y.time===u&&y.type==="setValueAtTime"&&(g=this._fromType(this.getValueAtTime(u-this.sampleTime))),.5*(u-l.time)*(c+g)+l.ticks}getTicksAtTime(l){const u=this.toSeconds(l),c=this._events.get(u);return Math.max(this._getTicksUntilEvent(c,u),0)}getDurationOfTicks(l,u){const c=this.toSeconds(u),g=this.getTicksAtTime(u);return this.getTimeOfTick(g+l)-c}getTimeOfTick(l){const u=this._events.get(l,"ticks"),c=this._events.getAfter(l,"ticks");if(u&&u.ticks===l)return u.time;if(u&&c&&c.type==="linearRampToValueAtTime"&&u.value!==c.value){const g=this._fromType(this.getValueAtTime(u.time)),m=(this._fromType(this.getValueAtTime(c.time))-g)/(c.time-u.time),_=Math.sqrt(Math.pow(g,2)-2*m*(u.ticks-l)),p=(-g+_)/m,x=(-g-_)/m;return(p>0?p:x)+u.time}else return u?u.value===0?1/0:u.time+(l-u.ticks)/u.value:l/this._initialValue}ticksToTime(l,u){return this.getDurationOfTicks(l,u)}timeToTicks(l,u){const c=this.toSeconds(u),g=this.toSeconds(l),y=this.getTicksAtTime(c);return this.getTicksAtTime(c+g)-y}_fromType(l){return this.units==="bpm"&&this.multiplier?1/(60/l/this.multiplier):super._fromType(l)}_toType(l){return this.units==="bpm"&&this.multiplier?l/this.multiplier*60:super._toType(l)}get multiplier(){return this._multiplier}set multiplier(l){const u=this.value;this._multiplier=l,this.cancelScheduledValues(0),this.setValueAtTime(u,0)}}class TickSignal extends Signal{constructor(){super(optionsFromArguments(TickSignal.getDefaults(),arguments,["value"])),this.name="TickSignal";const l=optionsFromArguments(TickSignal.getDefaults(),arguments,["value"]);this.input=this._param=new TickParam({context:this.context,convert:l.convert,multiplier:l.multiplier,param:this._constantSource.offset,units:l.units,value:l.value})}static getDefaults(){return Object.assign(Signal.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(l,u){return this._param.ticksToTime(l,u)}timeToTicks(l,u){return this._param.timeToTicks(l,u)}getTimeOfTick(l){return this._param.getTimeOfTick(l)}getDurationOfTicks(l,u){return this._param.getDurationOfTicks(l,u)}getTicksAtTime(l){return this._param.getTicksAtTime(l)}get multiplier(){return this._param.multiplier}set multiplier(l){this._param.multiplier=l}dispose(){return super.dispose(),this._param.dispose(),this}}class TickSource extends ToneWithContext{constructor(){super(optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new StateTimeline,this._tickOffset=new Timeline;const l=optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"]);this.frequency=new TickSignal({context:this.context,units:l.units,value:l.frequency}),readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ToneWithContext.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(l,u){const c=this.toSeconds(l);return this._state.getValueAtTime(c)!=="started"&&(this._state.setStateAtTime("started",c),isDefined(u)&&this.setTicksAtTime(u,c)),this}stop(l){const u=this.toSeconds(l);if(this._state.getValueAtTime(u)==="stopped"){const c=this._state.get(u);c&&c.time>0&&(this._tickOffset.cancel(c.time),this._state.cancel(c.time))}return this._state.cancel(u),this._state.setStateAtTime("stopped",u),this.setTicksAtTime(0,u),this}pause(l){const u=this.toSeconds(l);return this._state.getValueAtTime(u)==="started"&&this._state.setStateAtTime("paused",u),this}cancel(l){return l=this.toSeconds(l),this._state.cancel(l),this._tickOffset.cancel(l),this}getTicksAtTime(l){const u=this.toSeconds(l),c=this._state.getLastState("stopped",u),g={state:"paused",time:u};this._state.add(g);let y=c,m=0;return this._state.forEachBetween(c.time,u+this.sampleTime,_=>{let p=y.time;const x=this._tickOffset.get(_.time);x&&x.time>=y.time&&(m=x.ticks,p=x.time),y.state==="started"&&_.state!=="started"&&(m+=this.frequency.getTicksAtTime(_.time)-this.frequency.getTicksAtTime(p)),y=_}),this._state.remove(g),m}get ticks(){return this.getTicksAtTime(this.now())}set ticks(l){this.setTicksAtTime(l,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(l){const u=this.now(),c=this.frequency.timeToTicks(l,u);this.setTicksAtTime(c,u)}getSecondsAtTime(l){l=this.toSeconds(l);const u=this._state.getLastState("stopped",l),c={state:"paused",time:l};this._state.add(c);let g=u,y=0;return this._state.forEachBetween(u.time,l+this.sampleTime,m=>{let _=g.time;const p=this._tickOffset.get(m.time);p&&p.time>=g.time&&(y=p.seconds,_=p.time),g.state==="started"&&m.state!=="started"&&(y+=m.time-_),g=m}),this._state.remove(c),y}setTicksAtTime(l,u){return u=this.toSeconds(u),this._tickOffset.cancel(u),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(l,u),ticks:l,time:u}),this}getStateAtTime(l){return l=this.toSeconds(l),this._state.getValueAtTime(l)}getTimeOfTick(l,u=this.now()){const c=this._tickOffset.get(u),g=this._state.get(u),y=Math.max(c.time,g.time),m=this.frequency.getTicksAtTime(y)+l-c.ticks;return this.frequency.getTimeOfTick(m)}forEachTickBetween(l,u,c){let g=this._state.get(l);this._state.forEachBetween(l,u,m=>{g&&g.state==="started"&&m.state!=="started"&&this.forEachTickBetween(Math.max(g.time,l),m.time-this.sampleTime,c),g=m});let y=null;if(g&&g.state==="started"){const m=Math.max(g.time,l),_=this.frequency.getTicksAtTime(m),p=this.frequency.getTicksAtTime(g.time),x=_-p;let E=Math.ceil(x)-x;E=EQ(E,1)?0:E;let A=this.frequency.getTimeOfTick(_+E);for(;A<u;){try{c(A,Math.round(this.getTicksAtTime(A)))}catch(b){y=b;break}A+=this.frequency.getDurationOfTicks(1,A)}}if(y)throw y;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Clock extends ToneWithContext{constructor(){super(optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=noOp,this._lastUpdate=0,this._state=new StateTimeline("stopped"),this._boundLoop=this._loop.bind(this);const l=optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"]);this.callback=l.callback,this._tickSource=new TickSource({context:this.context,frequency:l.frequency,units:l.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{callback:noOp,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(l,u){assertContextRunning(this.context);const c=this.toSeconds(l);return this.log("start",c),this._state.getValueAtTime(c)!=="started"&&(this._state.setStateAtTime("started",c),this._tickSource.start(c,u),c<this._lastUpdate&&this.emit("start",c,u)),this}stop(l){const u=this.toSeconds(l);return this.log("stop",u),this._state.cancel(u),this._state.setStateAtTime("stopped",u),this._tickSource.stop(u),u<this._lastUpdate&&this.emit("stop",u),this}pause(l){const u=this.toSeconds(l);return this._state.getValueAtTime(u)==="started"&&(this._state.setStateAtTime("paused",u),this._tickSource.pause(u),u<this._lastUpdate&&this.emit("pause",u)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(l){this._tickSource.ticks=l}get seconds(){return this._tickSource.seconds}set seconds(l){this._tickSource.seconds=l}getSecondsAtTime(l){return this._tickSource.getSecondsAtTime(l)}setTicksAtTime(l,u){return this._tickSource.setTicksAtTime(l,u),this}getTimeOfTick(l,u=this.now()){return this._tickSource.getTimeOfTick(l,u)}getTicksAtTime(l){return this._tickSource.getTicksAtTime(l)}nextTickTime(l,u){const c=this.toSeconds(u),g=this.getTicksAtTime(c);return this._tickSource.getTimeOfTick(g+l,c)}_loop(){const l=this._lastUpdate,u=this.now();this._lastUpdate=u,this.log("loop",l,u),l!==u&&(this._state.forEachBetween(l,u,c=>{switch(c.state){case"started":const g=this._tickSource.getTicksAtTime(c.time);this.emit("start",c.time,g);break;case"stopped":c.time!==0&&this.emit("stop",c.time);break;case"paused":this.emit("pause",c.time);break}}),this._tickSource.forEachTickBetween(l,u,(c,g)=>{this.callback(c,g)}))}getStateAtTime(l){const u=this.toSeconds(l);return this._state.getValueAtTime(u)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Emitter.mixin(Clock);class ToneAudioBuffers extends Tone{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const l=optionsFromArguments(ToneAudioBuffers.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=l.baseUrl,Object.keys(l.urls).forEach(u=>{this._loadingCount++;const c=l.urls[u];this.add(u,c,this._bufferLoaded.bind(this,l.onload),l.onerror)})}static getDefaults(){return{baseUrl:"",onerror:noOp,onload:noOp,urls:{}}}has(l){return this._buffers.has(l.toString())}get(l){return assert(this.has(l),`ToneAudioBuffers has no buffer named: ${l}`),this._buffers.get(l.toString())}_bufferLoaded(l){this._loadingCount--,this._loadingCount===0&&l&&l()}get loaded(){return Array.from(this._buffers).every(([l,u])=>u.loaded)}add(l,u,c=noOp,g=noOp){return isString(u)?this._buffers.set(l.toString(),new ToneAudioBuffer(this.baseUrl+u,c,g)):this._buffers.set(l.toString(),new ToneAudioBuffer(u,c,g)),this}dispose(){return super.dispose(),this._buffers.forEach(l=>l.dispose()),this._buffers.clear(),this}}class TicksClass extends TransportTimeClass{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(l){return this._getPPQ()*l}_secondsToUnits(l){return Math.floor(l/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(l){return l}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Draw extends ToneWithContext{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Timeline,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(l,u){return this._events.add({callback:l,time:this.toSeconds(u)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(l){return this._events.cancel(this.toSeconds(l)),this}_drawLoop(){const l=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=l;){const u=this._events.shift();u&&l-u.time<=this.expiration&&u.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}onContextInit(f=>{f.draw=new Draw({context:f})});onContextClose(f=>{f.draw.dispose()});class IntervalTimeline extends Tone{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(l){assert(isDefined(l.time),"Events must have a time property"),assert(isDefined(l.duration),"Events must have a duration parameter"),l.time=l.time.valueOf();let u=new IntervalNode(l.time,l.time+l.duration,l);for(this._root===null?this._root=u:this._root.insert(u),this._length++;u!==null;)u.updateHeight(),u.updateMax(),this._rebalance(u),u=u.parent;return this}remove(l){if(this._root!==null){const u=[];this._root.search(l.time,u);for(const c of u)if(c.event===l){this._removeNode(c),this._length--;break}}return this}get length(){return this._length}cancel(l){return this.forEachFrom(l,u=>this.remove(u)),this}_setRoot(l){this._root=l,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(l,u){l.parent!==null?(l.isLeftChild()?l.parent.left=u:l.parent.right=u,this._rebalance(l.parent)):this._setRoot(u)}_removeNode(l){if(l.left===null&&l.right===null)this._replaceNodeInParent(l,null);else if(l.right===null)this._replaceNodeInParent(l,l.left);else if(l.left===null)this._replaceNodeInParent(l,l.right);else{const u=l.getBalance();let c,g=null;if(u>0)if(l.left.right===null)c=l.left,c.right=l.right,g=c;else{for(c=l.left.right;c.right!==null;)c=c.right;c.parent&&(c.parent.right=c.left,g=c.parent,c.left=l.left,c.right=l.right)}else if(l.right.left===null)c=l.right,c.left=l.left,g=c;else{for(c=l.right.left;c.left!==null;)c=c.left;c.parent&&(c.parent.left=c.right,g=c.parent,c.left=l.left,c.right=l.right)}l.parent!==null?l.isLeftChild()?l.parent.left=c:l.parent.right=c:this._setRoot(c),g&&this._rebalance(g)}l.dispose()}_rotateLeft(l){const u=l.parent,c=l.isLeftChild(),g=l.right;g&&(l.right=g.left,g.left=l),u!==null?c?u.left=g:u.right=g:this._setRoot(g)}_rotateRight(l){const u=l.parent,c=l.isLeftChild(),g=l.left;g&&(l.left=g.right,g.right=l),u!==null?c?u.left=g:u.right=g:this._setRoot(g)}_rebalance(l){const u=l.getBalance();u>1&&l.left?l.left.getBalance()<0?this._rotateLeft(l.left):this._rotateRight(l):u<-1&&l.right&&(l.right.getBalance()>0?this._rotateRight(l.right):this._rotateLeft(l))}get(l){if(this._root!==null){const u=[];if(this._root.search(l,u),u.length>0){let c=u[0];for(let g=1;g<u.length;g++)u[g].low>c.low&&(c=u[g]);return c.event}}return null}forEach(l){if(this._root!==null){const u=[];this._root.traverse(c=>u.push(c)),u.forEach(c=>{c.event&&l(c.event)})}return this}forEachAtTime(l,u){if(this._root!==null){const c=[];this._root.search(l,c),c.forEach(g=>{g.event&&u(g.event)})}return this}forEachFrom(l,u){if(this._root!==null){const c=[];this._root.searchAfter(l,c),c.forEach(g=>{g.event&&u(g.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(l=>l.dispose()),this._root=null,this}}class IntervalNode{constructor(l,u,c){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=c,this.low=l,this.high=u,this.max=this.high}insert(l){l.low<=this.low?this.left===null?this.left=l:this.left.insert(l):this.right===null?this.right=l:this.right.insert(l)}search(l,u){l>this.max||(this.left!==null&&this.left.search(l,u),this.low<=l&&this.high>l&&u.push(this),!(this.low>l)&&this.right!==null&&this.right.search(l,u))}searchAfter(l,u){this.low>=l&&(u.push(this),this.left!==null&&this.left.searchAfter(l,u)),this.right!==null&&this.right.searchAfter(l,u)}traverse(l){l(this),this.left!==null&&this.left.traverse(l),this.right!==null&&this.right.traverse(l)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let l=0;return this.left!==null&&this.right!==null?l=this.left.height-this.right.height:this.left!==null?l=this.left.height+1:this.right!==null&&(l=-(this.right.height+1)),l}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(l){this._left=l,l!==null&&(l.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(l){this._right=l,l!==null&&(l.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Volume extends ToneAudioNode{constructor(){super(optionsFromArguments(Volume.getDefaults(),arguments,["volume"])),this.name="Volume";const l=optionsFromArguments(Volume.getDefaults(),arguments,["volume"]);this.input=this.output=new Gain({context:this.context,gain:l.volume,units:"decibels"}),this.volume=this.output.gain,readOnly(this,"volume"),this._unmutedVolume=l.volume,this.mute=l.mute}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(l){!this.mute&&l?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!l&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Destination extends ToneAudioNode{constructor(){super(optionsFromArguments(Destination.getDefaults(),arguments)),this.name="Destination",this.input=new Volume({context:this.context}),this.output=new Gain({context:this.context}),this.volume=this.input.volume;const l=optionsFromArguments(Destination.getDefaults(),arguments);connectSeries(this.input,this.output,this.context.rawContext.destination),this.mute=l.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(l){this.input.mute=l}chain(...l){return this.input.disconnect(),l.unshift(this.input),l.push(this.output),connectSeries(...l),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}onContextInit(f=>{f.destination=new Destination({context:f})});onContextClose(f=>{f.destination.dispose()});class TimelineValue extends Tone{constructor(l){super(),this.name="TimelineValue",this._timeline=new Timeline({memory:10}),this._initialValue=l}set(l,u){return this._timeline.add({value:l,time:u}),this}get(l){const u=this._timeline.get(l);return u?u.value:this._initialValue}}class TransportEvent{constructor(l,u){this.id=TransportEvent._eventId++;const c=Object.assign(TransportEvent.getDefaults(),u);this.transport=l,this.callback=c.callback,this._once=c.once,this.time=c.time}static getDefaults(){return{callback:noOp,once:!1,time:0}}invoke(l){this.callback&&(this.callback(l),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}TransportEvent._eventId=0;class TransportRepeatEvent extends TransportEvent{constructor(l,u){super(l,u),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const c=Object.assign(TransportRepeatEvent.getDefaults(),u);this.duration=new TicksClass(l.context,c.duration).valueOf(),this._interval=new TicksClass(l.context,c.interval).valueOf(),this._nextTick=c.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},TransportEvent.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(l){this._createEvents(l),super.invoke(l)}_createEvents(l){const u=this.transport.getTicksAtTime(l);u>=this.time&&u>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()))}_restart(l){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const u=this.transport.getTicksAtTime(l);u>this.time&&(this._nextTick=this.time+Math.ceil((u-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Transport extends ToneWithContext{constructor(){super(optionsFromArguments(Transport.getDefaults(),arguments)),this.name="Transport",this._loop=new TimelineValue(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Timeline,this._repeatedEvents=new IntervalTimeline,this._syncedSignals=[],this._swingAmount=0;const l=optionsFromArguments(Transport.getDefaults(),arguments);this._ppq=l.ppq,this._clock=new Clock({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=l.ppq,this.bpm.setValueAtTime(l.bpm,0),readOnly(this,"bpm"),this._timeSignature=l.timeSignature,this._swingTicks=l.ppq/2}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(l,u){if(this._loop.get(l)&&u>=this._loopEnd&&(this.emit("loopEnd",l),this._clock.setTicksAtTime(this._loopStart,l),u=this._loopStart,this.emit("loopStart",l,this._clock.getSecondsAtTime(l)),this.emit("loop",l)),this._swingAmount>0&&u%this._ppq!==0&&u%(this._swingTicks*2)!==0){const c=u%(this._swingTicks*2)/(this._swingTicks*2),g=Math.sin(c*Math.PI)*this._swingAmount;l+=new TicksClass(this.context,this._swingTicks*2/3).toSeconds()*g}this._timeline.forEachAtTime(u,c=>c.invoke(l))}schedule(l,u){const c=new TransportEvent(this,{callback:l,time:new TransportTimeClass(this.context,u).toTicks()});return this._addEvent(c,this._timeline)}scheduleRepeat(l,u,c,g=1/0){const y=new TransportRepeatEvent(this,{callback:l,duration:new TimeClass(this.context,g).toTicks(),interval:new TimeClass(this.context,u).toTicks(),time:new TransportTimeClass(this.context,c).toTicks()});return this._addEvent(y,this._repeatedEvents)}scheduleOnce(l,u){const c=new TransportEvent(this,{callback:l,once:!0,time:new TransportTimeClass(this.context,u).toTicks()});return this._addEvent(c,this._timeline)}clear(l){if(this._scheduledEvents.hasOwnProperty(l)){const u=this._scheduledEvents[l.toString()];u.timeline.remove(u.event),u.event.dispose(),delete this._scheduledEvents[l.toString()]}return this}_addEvent(l,u){return this._scheduledEvents[l.id.toString()]={event:l,timeline:u},u.add(l),l.id}cancel(l=0){const u=this.toTicks(l);return this._timeline.forEachFrom(u,c=>this.clear(c.id)),this._repeatedEvents.forEachFrom(u,c=>this.clear(c.id)),this}_bindClockEvents(){this._clock.on("start",(l,u)=>{u=new TicksClass(this.context,u).toSeconds(),this.emit("start",l,u)}),this._clock.on("stop",l=>{this.emit("stop",l)}),this._clock.on("pause",l=>{this.emit("pause",l)})}get state(){return this._clock.getStateAtTime(this.now())}start(l,u){let c;return isDefined(u)&&(c=this.toTicks(u)),this._clock.start(l,c),this}stop(l){return this._clock.stop(l),this}pause(l){return this._clock.pause(l),this}toggle(l){return l=this.toSeconds(l),this._clock.getStateAtTime(l)!=="started"?this.start(l):this.stop(l),this}get timeSignature(){return this._timeSignature}set timeSignature(l){isArray(l)&&(l=l[0]/l[1]*4),this._timeSignature=l}get loopStart(){return new TimeClass(this.context,this._loopStart,"i").toSeconds()}set loopStart(l){this._loopStart=this.toTicks(l)}get loopEnd(){return new TimeClass(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(l){this._loopEnd=this.toTicks(l)}get loop(){return this._loop.get(this.now())}set loop(l){this._loop.set(l,this.now())}setLoopPoints(l,u){return this.loopStart=l,this.loopEnd=u,this}get swing(){return this._swingAmount}set swing(l){this._swingAmount=l}get swingSubdivision(){return new TicksClass(this.context,this._swingTicks).toNotation()}set swingSubdivision(l){this._swingTicks=this.toTicks(l)}get position(){const l=this.now(),u=this._clock.getTicksAtTime(l);return new TicksClass(this.context,u).toBarsBeatsSixteenths()}set position(l){const u=this.toTicks(l);this.ticks=u}get seconds(){return this._clock.seconds}set seconds(l){const u=this.now(),c=this._clock.frequency.timeToTicks(l,u);this.ticks=c}get progress(){if(this.loop){const l=this.now();return(this._clock.getTicksAtTime(l)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(l){if(this._clock.ticks!==l){const u=this.now();if(this.state==="started"){const c=this._clock.getTicksAtTime(u),g=this._clock.frequency.getDurationOfTicks(Math.ceil(c)-c,u),y=u+g;this.emit("stop",y),this._clock.setTicksAtTime(l,y),this.emit("start",y,this._clock.getSecondsAtTime(y))}else this._clock.setTicksAtTime(l,u)}}getTicksAtTime(l){return Math.round(this._clock.getTicksAtTime(l))}getSecondsAtTime(l){return this._clock.getSecondsAtTime(l)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(l){this._clock.frequency.multiplier=l}nextSubdivision(l){if(l=this.toTicks(l),this.state!=="started")return 0;{const u=this.now(),c=this.getTicksAtTime(u),g=l-c%l;return this._clock.nextTickTime(g,u)}}syncSignal(l,u){if(!u){const g=this.now();if(l.getValueAtTime(g)!==0){const m=1/(60/this.bpm.getValueAtTime(g)/this.PPQ);u=l.getValueAtTime(g)/m}else u=0}const c=new Gain(u);return this.bpm.connect(c),c.connect(l._param),this._syncedSignals.push({initial:l.value,ratio:c,signal:l}),l.value=0,this}unsyncSignal(l){for(let u=this._syncedSignals.length-1;u>=0;u--){const c=this._syncedSignals[u];c.signal===l&&(c.ratio.dispose(),c.signal.value=c.initial,this._syncedSignals.splice(u,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),writable(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Emitter.mixin(Transport);onContextInit(f=>{f.transport=new Transport({context:f})});onContextClose(f=>{f.transport.dispose()});class Source extends ToneAudioNode{constructor(l){super(l),this.input=void 0,this._state=new StateTimeline("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=noOp,this._syncedStop=noOp,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Volume({context:this.context,mute:l.mute,volume:l.volume}),this.volume=this._volume.volume,readOnly(this,"volume"),this.onstop=l.onstop}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,onstop:noOp,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(l){this._volume.mute=l}_clampToCurrentTime(l){return this._synced?l:Math.max(l,this.context.currentTime)}start(l,u,c){let g=isUndef(l)&&this._synced?this.context.transport.seconds:this.toSeconds(l);if(g=this._clampToCurrentTime(g),!this._synced&&this._state.getValueAtTime(g)==="started")assert(GT(g,this._state.get(g).time),"Start time must be strictly greater than previous start time"),this._state.cancel(g),this._state.setStateAtTime("started",g),this.log("restart",g),this.restart(g,u,c);else if(this.log("start",g),this._state.setStateAtTime("started",g),this._synced){const y=this._state.get(g);y&&(y.offset=this.toSeconds(defaultArg(u,0)),y.duration=c?this.toSeconds(c):void 0);const m=this.context.transport.schedule(_=>{this._start(_,u,c)},g);this._scheduled.push(m),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>g&&this._syncedStart(this.now(),this.context.transport.seconds)}else assertContextRunning(this.context),this._start(g,u,c);return this}stop(l){let u=isUndef(l)&&this._synced?this.context.transport.seconds:this.toSeconds(l);if(u=this._clampToCurrentTime(u),this._state.getValueAtTime(u)==="started"||isDefined(this._state.getNextState("started",u))){if(this.log("stop",u),!this._synced)this._stop(u);else{const c=this.context.transport.schedule(this._stop.bind(this),u);this._scheduled.push(c)}this._state.cancel(u),this._state.setStateAtTime("stopped",u)}return this}restart(l,u,c){return l=this.toSeconds(l),this._state.getValueAtTime(l)==="started"&&(this._state.cancel(l),this._restart(l,u,c)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(l,u)=>{if(u>0){const c=this._state.get(u);if(c&&c.state==="started"&&c.time!==u){const g=u-this.toSeconds(c.time);let y;c.duration&&(y=this.toSeconds(c.duration)-g),this._start(l,this.toSeconds(c.offset)+g,y)}}},this._syncedStop=l=>{const u=this.context.transport.getSecondsAtTime(Math.max(l-this.sampleTime,0));this._state.getValueAtTime(u)==="started"&&this._stop(l)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(l=>this.context.transport.clear(l)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=noOp,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ToneBufferSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const l=optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"]);connect(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Param({context:this.context,param:this._source.playbackRate,units:"positive",value:l.playbackRate}),this.loop=l.loop,this.loopStart=l.loopStart,this.loopEnd=l.loopEnd,this._buffer=new ToneAudioBuffer(l.url,l.onload,l.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{url:new ToneAudioBuffer,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(l){this._fadeIn=l}get fadeOut(){return this._fadeOut}set fadeOut(l){this._fadeOut=l}get curve(){return this._curve}set curve(l){this._curve=l}start(l,u,c,g=1){assert(this.buffer.loaded,"buffer is either not set or not loaded");const y=this.toSeconds(l);this._startGain(y,g),this.loop?u=defaultArg(u,this.loopStart):u=defaultArg(u,0);let m=Math.max(this.toSeconds(u),0);if(this.loop){const _=this.toSeconds(this.loopEnd)||this.buffer.duration,p=this.toSeconds(this.loopStart),x=_-p;GTE(m,_)&&(m=(m-p)%x+p),EQ(m,this.buffer.duration)&&(m=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,LT(m,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(y,m)),isDefined(c)){let _=this.toSeconds(c);_=Math.max(_,0),this.stop(y+_)}return this}_stopSource(l){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(l)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(l){this._source.loopStart=this.toSeconds(l)}get loopEnd(){return this._source.loopEnd}set loopEnd(l){this._source.loopEnd=this.toSeconds(l)}get buffer(){return this._buffer}set buffer(l){this._buffer.set(l)}get loop(){return this._source.loop}set loop(l){this._source.loop=l,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function generateWaveform(f,l){return __awaiter(this,void 0,void 0,function*(){const u=l/f.context.sampleRate,c=new OfflineContext(1,u,f.context.sampleRate);return new f.constructor(Object.assign(f.get(),{frequency:2/u,detune:0,context:c})).toDestination().start(0),(yield c.render()).getChannelData(0)})}class ToneOscillatorNode extends OneShotSource{constructor(){super(optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const l=optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"]);connect(this._oscillator,this._gainNode),this.type=l.type,this.frequency=new Param({context:this.context,param:this._oscillator.frequency,units:"frequency",value:l.frequency}),this.detune=new Param({context:this.context,param:this._oscillator.detune,units:"cents",value:l.detune}),readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(l){const u=this.toSeconds(l);return this.log("start",u),this._startGain(u),this._oscillator.start(u),this}_stopSource(l){this._oscillator.stop(l)}setPeriodicWave(l){return this._oscillator.setPeriodicWave(l),this}get type(){return this._oscillator.type}set type(l){this._oscillator.type=l}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Oscillator extends Source{constructor(){super(optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const l=optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:l.frequency}),readOnly(this,"frequency"),this.detune=new Signal({context:this.context,units:"cents",value:l.detune}),readOnly(this,"detune"),this._partials=l.partials,this._partialCount=l.partialCount,this._type=l.type,l.partialCount&&l.type!=="custom"&&(this._type=this.baseType+l.partialCount.toString()),this.phase=l.phase}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(l){const u=this.toSeconds(l),c=new ToneOscillatorNode({context:this.context,onended:()=>this.onstop(this)});this._oscillator=c,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(u)}_stop(l){const u=this.toSeconds(l);this._oscillator&&this._oscillator.stop(u)}_restart(l){const u=this.toSeconds(l);return this.log("restart",u),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(u),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Oscillator._periodicWaveCache.find(u=>u.phase===this._phase&&deepEquals(u.partials,this._partials));{const l=Oscillator._periodicWaveCache.find(u=>u.type===this._type&&u.phase===this._phase);return this._partialCount=l?l.partialCount:this._partialCount,l}}get type(){return this._type}set type(l){this._type=l;const u=["sine","square","sawtooth","triangle"].indexOf(l)!==-1;if(this._phase===0&&u)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=l);else{const c=this._getCachedPeriodicWave();if(isDefined(c)){const{partials:g,wave:y}=c;this._wave=y,this._partials=g,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[g,y]=this._getRealImaginary(l,this._phase),m=this.context.createPeriodicWave(g,y);this._wave=m,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Oscillator._periodicWaveCache.push({imag:y,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:g,type:this._type,wave:this._wave}),Oscillator._periodicWaveCache.length>100&&Oscillator._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(l){this.partialCount&&this._type!=="custom"&&l!=="custom"?this.type=l+this.partialCount:this.type=l}get partialCount(){return this._partialCount}set partialCount(l){assertRange(l,0);let u=this._type;const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(c&&(u=c[1]),this._type!=="custom")l===0?this.type=u:this.type=u+l.toString();else{const g=new Float32Array(l);this._partials.forEach((y,m)=>g[m]=y),this._partials=Array.from(g),this.type=this._type}}_getRealImaginary(l,u){let g=2048;const y=new Float32Array(g),m=new Float32Array(g);let _=1;if(l==="custom"){if(_=this._partials.length+1,this._partialCount=this._partials.length,g=_,this._partials.length===0)return[y,m]}else{const p=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(l);p?(_=parseInt(p[2],10)+1,this._partialCount=parseInt(p[2],10),l=p[1],_=Math.max(_,2),g=_):this._partialCount=0,this._partials=[]}for(let p=1;p<g;++p){const x=2/(p*Math.PI);let E;switch(l){case"sine":E=p<=_?1:0,this._partials[p-1]=E;break;case"square":E=p&1?2*x:0,this._partials[p-1]=E;break;case"sawtooth":E=x*(p&1?1:-1),this._partials[p-1]=E;break;case"triangle":p&1?E=2*(x*x)*(p-1>>1&1?-1:1):E=0,this._partials[p-1]=E;break;case"custom":E=this._partials[p-1];break;default:throw new TypeError("Oscillator: invalid type: "+l)}E!==0?(y[p]=-E*Math.sin(u*p),m[p]=E*Math.cos(u*p)):(y[p]=0,m[p]=0)}return[y,m]}_inverseFFT(l,u,c){let g=0;const y=l.length;for(let m=0;m<y;m++)g+=l[m]*Math.cos(m*c)+u[m]*Math.sin(m*c);return g}getInitialValue(){const[l,u]=this._getRealImaginary(this._type,0);let c=0;const g=Math.PI*2,y=32;for(let m=0;m<y;m++)c=Math.max(this._inverseFFT(l,u,m/y*g),c);return clamp(-this._inverseFFT(l,u,this._phase)/c,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(l){this._partials=l,this._partialCount=this._partials.length,l.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(l){this._phase=l*Math.PI/180,this.type=this._type}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Oscillator._periodicWaveCache=[];class SignalOperator extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(SignalOperator.getDefaults(),arguments,["context"])))}connect(l,u=0,c=0){return connectSignal(this,l,u,c),this}}class WaveShaper extends SignalOperator{constructor(){super(Object.assign(optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const l=optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]);isArray(l.mapping)||l.mapping instanceof Float32Array?this.curve=Float32Array.from(l.mapping):isFunction(l.mapping)&&this.setMap(l.mapping,l.length)}static getDefaults(){return Object.assign(Signal.getDefaults(),{length:1024})}setMap(l,u=1024){const c=new Float32Array(u);for(let g=0,y=u;g<y;g++){const m=g/(y-1)*2-1;c[g]=l(m,g)}return this.curve=c,this}get curve(){return this._shaper.curve}set curve(l){this._shaper.curve=l}get oversample(){return this._shaper.oversample}set oversample(l){const u=["none","2x","4x"].some(c=>c.includes(l));assert(u,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=l}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class AudioToGain extends SignalOperator{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new WaveShaper({context:this.context,mapping:l=>(l+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Multiply extends Signal{constructor(){super(Object.assign(optionsFromArguments(Multiply.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const l=optionsFromArguments(Multiply.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Gain({context:this.context,minValue:l.minValue,maxValue:l.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(l.value,0)}static getDefaults(){return Object.assign(Signal.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class AMOscillator extends Source{constructor(){super(optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new AudioToGain({context:this.context}),this._modulationNode=new Gain({context:this.context});const l=optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:l.detune,frequency:l.frequency,onstop:()=>this.onstop(this),phase:l.phase,type:l.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Oscillator({context:this.context,phase:l.phase,type:l.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:l.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),readOnly(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(l){this._modulator.start(l),this._carrier.start(l)}_stop(l){this._modulator.stop(l),this._carrier.stop(l)}_restart(l){this._modulator.restart(l),this._carrier.restart(l)}get type(){return this._carrier.type}set type(l){this._carrier.type=l}get baseType(){return this._carrier.baseType}set baseType(l){this._carrier.baseType=l}get partialCount(){return this._carrier.partialCount}set partialCount(l){this._carrier.partialCount=l}get modulationType(){return this._modulator.type}set modulationType(l){this._modulator.type=l}get phase(){return this._carrier.phase}set phase(l){this._carrier.phase=l,this._modulator.phase=l}get partials(){return this._carrier.partials}set partials(l){this._carrier.partials=l}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class FMOscillator extends Source{constructor(){super(optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Gain({context:this.context,gain:0});const l=optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:l.detune,frequency:0,onstop:()=>this.onstop(this),phase:l.phase,type:l.type}),this.detune=this._carrier.detune,this.frequency=new Signal({context:this.context,units:"frequency",value:l.frequency}),this._modulator=new Oscillator({context:this.context,phase:l.phase,type:l.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:l.harmonicity}),this.modulationIndex=new Multiply({context:this.context,units:"positive",value:l.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),readOnly(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(l){this._modulator.start(l),this._carrier.start(l)}_stop(l){this._modulator.stop(l),this._carrier.stop(l)}_restart(l){return this._modulator.restart(l),this._carrier.restart(l),this}get type(){return this._carrier.type}set type(l){this._carrier.type=l}get baseType(){return this._carrier.baseType}set baseType(l){this._carrier.baseType=l}get partialCount(){return this._carrier.partialCount}set partialCount(l){this._carrier.partialCount=l}get modulationType(){return this._modulator.type}set modulationType(l){this._modulator.type=l}get phase(){return this._carrier.phase}set phase(l){this._carrier.phase=l,this._modulator.phase=l}get partials(){return this._carrier.partials}set partials(l){this._carrier.partials=l}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class PulseOscillator extends Source{constructor(){super(optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Gain({context:this.context,gain:0}),this._thresh=new WaveShaper({context:this.context,mapping:u=>u<=0?-1:1});const l=optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"]);this.width=new Signal({context:this.context,units:"audioRange",value:l.width}),this._triangle=new Oscillator({context:this.context,detune:l.detune,frequency:l.frequency,onstop:()=>this.onstop(this),phase:l.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),readOnly(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(l){l=this.toSeconds(l),this._triangle.start(l),this._widthGate.gain.setValueAtTime(1,l)}_stop(l){l=this.toSeconds(l),this._triangle.stop(l),this._widthGate.gain.cancelScheduledValues(l),this._widthGate.gain.setValueAtTime(0,l)}_restart(l){this._triangle.restart(l),this._widthGate.gain.cancelScheduledValues(l),this._widthGate.gain.setValueAtTime(1,l)}get phase(){return this._triangle.phase}set phase(l){this._triangle.phase=l}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(l){this._triangle.type=l}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class FatOscillator extends Source{constructor(){super(optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const l=optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Signal({context:this.context,units:"frequency",value:l.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:l.detune}),this._spread=l.spread,this._type=l.type,this._phase=l.phase,this._partials=l.partials,this._partialCount=l.partialCount,this.count=l.count,readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(l){l=this.toSeconds(l),this._forEach(u=>u.start(l))}_stop(l){l=this.toSeconds(l),this._forEach(u=>u.stop(l))}_restart(l){this._forEach(u=>u.restart(l))}_forEach(l){for(let u=0;u<this._oscillators.length;u++)l(this._oscillators[u],u)}get type(){return this._type}set type(l){this._type=l,this._forEach(u=>u.type=l)}get spread(){return this._spread}set spread(l){if(this._spread=l,this._oscillators.length>1){const u=-l/2,c=l/(this._oscillators.length-1);this._forEach((g,y)=>g.detune.value=u+c*y)}}get count(){return this._oscillators.length}set count(l){if(assertRange(l,1),this._oscillators.length!==l){this._forEach(u=>u.dispose()),this._oscillators=[];for(let u=0;u<l;u++){const c=new Oscillator({context:this.context,volume:-6-l*1.1,type:this._type,phase:this._phase+u/l*360,partialCount:this._partialCount,onstop:u===0?()=>this.onstop(this):noOp});this.type==="custom"&&(c.partials=this._partials),this.frequency.connect(c.frequency),this.detune.connect(c.detune),c.detune.overridden=!1,c.connect(this.output),this._oscillators[u]=c}this.spread=this._spread,this.state==="started"&&this._forEach(u=>u.start())}}get phase(){return this._phase}set phase(l){this._phase=l,this._forEach((u,c)=>u.phase=this._phase+c/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(l){this._forEach(u=>u.baseType=l),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(l){this._partials=l,this._partialCount=this._partials.length,l.length&&(this._type="custom",this._forEach(u=>u.partials=l))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(l){this._partialCount=l,this._forEach(u=>u.partialCount=l),this._type=this._oscillators[0].type}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(l=>l.dispose()),this}}class PWMOscillator extends Source{constructor(){super(optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Multiply({context:this.context,value:2});const l=optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new PulseOscillator({context:this.context,frequency:l.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Oscillator({context:this.context,detune:l.detune,frequency:l.frequency,onstop:()=>this.onstop(this),phase:l.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),readOnly(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(l){l=this.toSeconds(l),this._modulator.start(l),this._pulse.start(l)}_stop(l){l=this.toSeconds(l),this._modulator.stop(l),this._pulse.stop(l)}_restart(l){this._modulator.restart(l),this._pulse.restart(l)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(l){this._modulator.phase=l}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const OmniOscillatorSourceMap={am:AMOscillator,fat:FatOscillator,fm:FMOscillator,oscillator:Oscillator,pulse:PulseOscillator,pwm:PWMOscillator};class OmniOscillator extends Source{constructor(){super(optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const l=optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:l.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:l.detune}),readOnly(this,["frequency","detune"]),this.set(l)}static getDefaults(){return Object.assign(Oscillator.getDefaults(),FMOscillator.getDefaults(),AMOscillator.getDefaults(),FatOscillator.getDefaults(),PulseOscillator.getDefaults(),PWMOscillator.getDefaults())}_start(l){this._oscillator.start(l)}_stop(l){this._oscillator.stop(l)}_restart(l){return this._oscillator.restart(l),this}get type(){let l="";return["am","fm","fat"].some(u=>this._sourceType===u)&&(l=this._sourceType),l+this._oscillator.type}set type(l){l.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=l.substr(2)):l.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=l.substr(2)):l.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=l.substr(3)):l==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):l==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=l)}get partials(){return this._oscillator.partials}set partials(l){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=l)}get partialCount(){return this._oscillator.partialCount}set partialCount(l){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=l)}set(l){return Reflect.has(l,"type")&&l.type&&(this.type=l.type),super.set(l),this}_createNewOscillator(l){if(l!==this._sourceType){this._sourceType=l;const u=OmniOscillatorSourceMap[l],c=this.now();if(this._oscillator){const g=this._oscillator;g.stop(c),this.context.setTimeout(()=>g.dispose(),this.blockTime)}this._oscillator=new u({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(c)}}get phase(){return this._oscillator.phase}set phase(l){this._oscillator.phase=l}get sourceType(){return this._sourceType}set sourceType(l){let u="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(u=this._oscillator.type),l==="fm"?this.type="fm"+u:l==="am"?this.type="am"+u:l==="fat"?this.type="fat"+u:l==="oscillator"?this.type=u:l==="pulse"?this.type="pulse":l==="pwm"&&(this.type="pwm")}_getOscType(l,u){return l instanceof OmniOscillatorSourceMap[u]}get baseType(){return this._oscillator.baseType}set baseType(l){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&l!=="pulse"&&l!=="pwm"&&(this._oscillator.baseType=l)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(l){this._getOscType(this._oscillator,"fat")&&isNumber(l)&&(this._oscillator.count=l)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(l){this._getOscType(this._oscillator,"fat")&&isNumber(l)&&(this._oscillator.spread=l)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(l){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&isString(l)&&(this._oscillator.modulationType=l)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function range(f,l=1/0){const u=new WeakMap;return function(c,g){Reflect.defineProperty(c,g,{configurable:!0,enumerable:!0,get:function(){return u.get(this)},set:function(y){assertRange(y,f,l),u.set(this,y)}})}}function timeRange(f,l=1/0){const u=new WeakMap;return function(c,g){Reflect.defineProperty(c,g,{configurable:!0,enumerable:!0,get:function(){return u.get(this)},set:function(y){assertRange(this.toSeconds(y),f,l),u.set(this,y)}})}}class Player extends Source{constructor(){super(optionsFromArguments(Player.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const l=optionsFromArguments(Player.getDefaults(),arguments,["url","onload"]);this._buffer=new ToneAudioBuffer({onload:this._onload.bind(this,l.onload),onerror:l.onerror,reverse:l.reverse,url:l.url}),this.autostart=l.autostart,this._loop=l.loop,this._loopStart=l.loopStart,this._loopEnd=l.loopEnd,this._playbackRate=l.playbackRate,this.fadeIn=l.fadeIn,this.fadeOut=l.fadeOut}static getDefaults(){return Object.assign(Source.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1,reverse:!1})}load(l){return __awaiter(this,void 0,void 0,function*(){return yield this._buffer.load(l),this._onload(),this})}_onload(l=noOp){l(),this.autostart&&this.start()}_onSourceEnd(l){this.onstop(this),this._activeSources.delete(l),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(l,u,c){return super.start(l,u,c),this}_start(l,u,c){this._loop?u=defaultArg(u,this._loopStart):u=defaultArg(u,0);const g=this.toSeconds(u),y=c;c=defaultArg(c,Math.max(this._buffer.duration-g,0));let m=this.toSeconds(c);m=m/this._playbackRate,l=this.toSeconds(l);const _=new ToneBufferSource({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(l+m),this._state.setStateAtTime("stopped",l+m,{implicitEnd:!0})),this._activeSources.add(_),this._loop&&isUndef(y)?_.start(l,g):_.start(l,g,m-this.toSeconds(this.fadeOut))}_stop(l){const u=this.toSeconds(l);this._activeSources.forEach(c=>c.stop(u))}restart(l,u,c){return super.restart(l,u,c),this}_restart(l,u,c){this._stop(l),this._start(l,u,c)}seek(l,u){const c=this.toSeconds(u);if(this._state.getValueAtTime(c)==="started"){const g=this.toSeconds(l);this._stop(c),this._start(c,g)}return this}setLoopPoints(l,u){return this.loopStart=l,this.loopEnd=u,this}get loopStart(){return this._loopStart}set loopStart(l){this._loopStart=l,this.buffer.loaded&&assertRange(this.toSeconds(l),0,this.buffer.duration),this._activeSources.forEach(u=>{u.loopStart=l})}get loopEnd(){return this._loopEnd}set loopEnd(l){this._loopEnd=l,this.buffer.loaded&&assertRange(this.toSeconds(l),0,this.buffer.duration),this._activeSources.forEach(u=>{u.loopEnd=l})}get buffer(){return this._buffer}set buffer(l){this._buffer.set(l)}get loop(){return this._loop}set loop(l){if(this._loop!==l&&(this._loop=l,this._activeSources.forEach(u=>{u.loop=l}),l)){const u=this._state.getNextState("stopped",this.now());u&&this._state.cancel(u.time)}}get playbackRate(){return this._playbackRate}set playbackRate(l){this._playbackRate=l;const u=this.now(),c=this._state.getNextState("stopped",u);c&&c.implicitEnd&&(this._state.cancel(c.time),this._activeSources.forEach(g=>g.cancelStop())),this._activeSources.forEach(g=>{g.playbackRate.setValueAtTime(l,u)})}get reverse(){return this._buffer.reverse}set reverse(l){this._buffer.reverse=l}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(l=>l.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}__decorate([timeRange(0)],Player.prototype,"fadeIn",void 0);__decorate([timeRange(0)],Player.prototype,"fadeOut",void 0);class GainToAudio extends SignalOperator{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new WaveShaper({context:this.context,mapping:l=>Math.abs(l)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Envelope extends ToneAudioNode{constructor(){super(optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Signal({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const l=optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=l.attack,this.decay=l.decay,this.sustain=l.sustain,this.release=l.release,this.attackCurve=l.attackCurve,this.releaseCurve=l.releaseCurve,this.decayCurve=l.decayCurve}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(l,u){if(isString(l))return l;{let c;for(c in EnvelopeCurves)if(EnvelopeCurves[c][u]===l)return c;return l}}_setCurve(l,u,c){if(isString(c)&&Reflect.has(EnvelopeCurves,c)){const g=EnvelopeCurves[c];isObject(g)?l!=="_decayCurve"&&(this[l]=g[u]):this[l]=g}else if(isArray(c)&&l!=="_decayCurve")this[l]=c;else throw new Error("Envelope: invalid curve: "+c)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(l){this._setCurve("_attackCurve","In",l)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(l){this._setCurve("_releaseCurve","Out",l)}get decayCurve(){return this._decayCurve}set decayCurve(l){assert(["linear","exponential"].some(u=>u===l),`Invalid envelope curve: ${l}`),this._decayCurve=l}triggerAttack(l,u=1){this.log("triggerAttack",l,u),l=this.toSeconds(l);let g=this.toSeconds(this.attack);const y=this.toSeconds(this.decay),m=this.getValueAtTime(l);if(m>0){const _=1/g;g=(1-m)/_}if(g<this.sampleTime)this._sig.cancelScheduledValues(l),this._sig.setValueAtTime(u,l);else if(this._attackCurve==="linear")this._sig.linearRampTo(u,g,l);else if(this._attackCurve==="exponential")this._sig.targetRampTo(u,g,l);else{this._sig.cancelAndHoldAtTime(l);let _=this._attackCurve;for(let p=1;p<_.length;p++)if(_[p-1]<=m&&m<=_[p]){_=this._attackCurve.slice(p),_[0]=m;break}this._sig.setValueCurveAtTime(_,l,g,u)}if(y&&this.sustain<1){const _=u*this.sustain,p=l+g;this.log("decay",p),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(_,y+p):this._sig.exponentialApproachValueAtTime(_,p,y)}return this}triggerRelease(l){this.log("triggerRelease",l),l=this.toSeconds(l);const u=this.getValueAtTime(l);if(u>0){const c=this.toSeconds(this.release);c<this.sampleTime?this._sig.setValueAtTime(0,l):this._releaseCurve==="linear"?this._sig.linearRampTo(0,c,l):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,c,l):(assert(isArray(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(l),this._sig.setValueCurveAtTime(this._releaseCurve,l,c,u))}return this}getValueAtTime(l){return this._sig.getValueAtTime(l)}triggerAttackRelease(l,u,c=1){return u=this.toSeconds(u),this.triggerAttack(u,c),this.triggerRelease(u+this.toSeconds(l)),this}cancel(l){return this._sig.cancelScheduledValues(this.toSeconds(l)),this}connect(l,u=0,c=0){return connectSignal(this,l,u,c),this}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){const u=l/this.context.sampleRate,c=new OfflineContext(1,u,this.context.sampleRate),g=this.toSeconds(this.attack)+this.toSeconds(this.decay),y=g+this.toSeconds(this.release),m=y*.1,_=y+m,p=new this.constructor(Object.assign(this.get(),{attack:u*this.toSeconds(this.attack)/_,decay:u*this.toSeconds(this.decay)/_,release:u*this.toSeconds(this.release)/_,context:c}));return p._sig.toDestination(),p.triggerAttackRelease(u*(g+m)/_,0),(yield c.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}__decorate([timeRange(0)],Envelope.prototype,"attack",void 0);__decorate([timeRange(0)],Envelope.prototype,"decay",void 0);__decorate([range(0,1)],Envelope.prototype,"sustain",void 0);__decorate([timeRange(0)],Envelope.prototype,"release",void 0);const EnvelopeCurves=(()=>{let l,u;const c=[];for(l=0;l<128;l++)c[l]=Math.sin(l/(128-1)*(Math.PI/2));const g=[],y=6.4;for(l=0;l<128-1;l++){u=l/(128-1);const b=Math.sin(u*(Math.PI*2)*y-Math.PI/2)+1;g[l]=b/10+u*.83}g[128-1]=1;const m=[],_=5;for(l=0;l<128;l++)m[l]=Math.ceil(l/(128-1)*_)/_;const p=[];for(l=0;l<128;l++)u=l/(128-1),p[l]=.5*(1-Math.cos(Math.PI*u));const x=[];for(l=0;l<128;l++){u=l/(128-1);const b=Math.pow(u,3)*4+.2,k=Math.cos(b*Math.PI*2*u);x[l]=Math.abs(k*(1-u))}function E(b){const k=new Array(b.length);for(let S=0;S<b.length;S++)k[S]=1-b[S];return k}function A(b){return b.slice(0).reverse()}return{bounce:{In:E(x),Out:x},cosine:{In:c,Out:A(c)},exponential:"exponential",linear:"linear",ripple:{In:g,Out:E(g)},sine:{In:p,Out:E(p)},step:{In:m,Out:E(m)}}})();class Instrument extends ToneAudioNode{constructor(){super(optionsFromArguments(Instrument.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const l=optionsFromArguments(Instrument.getDefaults(),arguments);this._volume=this.output=new Volume({context:this.context,volume:l.volume}),this.volume=this._volume.volume,readOnly(this,"volume")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let l=!1;return this._synced||(this._synced=!0,l=!0),l}_syncMethod(l,u){const c=this["_original_"+l]=this[l];this[l]=(...g)=>{const y=g[u],m=this.context.transport.schedule(_=>{g[u]=_,c.apply(this,g)},y);this._scheduledEvents.push(m)}}unsync(){return this._scheduledEvents.forEach(l=>this.context.transport.clear(l)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(l,u,c,g){const y=this.toSeconds(c),m=this.toSeconds(u);return this.triggerAttack(l,y,g),this.triggerRelease(y+m),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Monophonic extends Instrument{constructor(){super(optionsFromArguments(Monophonic.getDefaults(),arguments));const l=optionsFromArguments(Monophonic.getDefaults(),arguments);this.portamento=l.portamento,this.onsilence=l.onsilence}static getDefaults(){return Object.assign(Instrument.getDefaults(),{detune:0,onsilence:noOp,portamento:0})}triggerAttack(l,u,c=1){this.log("triggerAttack",l,u,c);const g=this.toSeconds(u);return this._triggerEnvelopeAttack(g,c),this.setNote(l,g),this}triggerRelease(l){this.log("triggerRelease",l);const u=this.toSeconds(l);return this._triggerEnvelopeRelease(u),this}setNote(l,u){const c=this.toSeconds(u),g=l instanceof FrequencyClass?l.toFrequency():l;if(this.portamento>0&&this.getLevelAtTime(c)>.05){const y=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(g,y,c)}else this.frequency.setValueAtTime(g,c);return this}}__decorate([timeRange(0)],Monophonic.prototype,"portamento",void 0);class AmplitudeEnvelope extends Envelope{constructor(){super(optionsFromArguments(AmplitudeEnvelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Gain({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}let Synth$1=class Br extends Monophonic{constructor(){super(optionsFromArguments(Br.getDefaults(),arguments)),this.name="Synth";const l=optionsFromArguments(Br.getDefaults(),arguments);this.oscillator=new OmniOscillator(Object.assign({context:this.context,detune:l.detune,onstop:()=>this.onsilence(this)},l.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new AmplitudeEnvelope(Object.assign({context:this.context},l.envelope)),this.oscillator.chain(this.envelope,this.output),readOnly(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Monophonic.getDefaults(),{envelope:Object.assign(omitFromObject(Envelope.getDefaults(),Object.keys(ToneAudioNode.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(omitFromObject(OmniOscillator.getDefaults(),[...Object.keys(Source.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(l,u){if(this.envelope.triggerAttack(l,u),this.oscillator.start(l),this.envelope.sustain===0){const c=this.toSeconds(this.envelope.attack),g=this.toSeconds(this.envelope.decay);this.oscillator.stop(l+c+g)}}_triggerEnvelopeRelease(l){this.envelope.triggerRelease(l),this.oscillator.stop(l+this.toSeconds(this.envelope.release))}getLevelAtTime(l){return l=this.toSeconds(l),this.envelope.getValueAtTime(l)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};class MembraneSynth extends Synth$1{constructor(){super(optionsFromArguments(MembraneSynth.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const l=optionsFromArguments(MembraneSynth.getDefaults(),arguments);this.pitchDecay=l.pitchDecay,this.octaves=l.octaves,readOnly(this,["oscillator","envelope"])}static getDefaults(){return deepMerge(Monophonic.getDefaults(),Synth$1.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(l,u){const c=this.toSeconds(u),g=this.toFrequency(l instanceof FrequencyClass?l.toFrequency():l),y=g*this.octaves;return this.oscillator.frequency.setValueAtTime(y,c),this.oscillator.frequency.exponentialRampToValueAtTime(g,c+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}__decorate([range(0)],MembraneSynth.prototype,"octaves",void 0);__decorate([timeRange(0)],MembraneSynth.prototype,"pitchDecay",void 0);const workletContext=new Set;function addToWorklet(f){workletContext.add(f)}function registerProcessor(f,l){const u=`registerProcessor("${f}", ${l})`;workletContext.add(u)}function getWorkletGlobalScope(){return Array.from(workletContext).join(`
`)}class ToneAudioWorklet extends ToneAudioNode{constructor(l){super(l),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=noOp;const u=URL.createObjectURL(new Blob([getWorkletGlobalScope()],{type:"text/javascript"})),c=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(u,c).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(c,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const toneAudioWorkletProcessor=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;addToWorklet(toneAudioWorkletProcessor);const singleIOProcess=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;addToWorklet(singleIOProcess);const delayLine=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;addToWorklet(delayLine);const workletName$1="feedback-comb-filter",feedbackCombFilter=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;registerProcessor(workletName$1,feedbackCombFilter);let Sampler$1=class Vr extends Instrument{constructor(){super(optionsFromArguments(Vr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const l=optionsFromArguments(Vr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),u={};Object.keys(l.urls).forEach(c=>{const g=parseInt(c,10);if(assert(isNote(c)||isNumber(g)&&isFinite(g),`url key is neither a note or midi pitch: ${c}`),isNote(c)){const y=new FrequencyClass(this.context,c).toMidi();u[y]=l.urls[c]}else isNumber(g)&&isFinite(g)&&(u[g]=l.urls[g])}),this._buffers=new ToneAudioBuffers({urls:u,onload:l.onload,baseUrl:l.baseUrl,onerror:l.onerror}),this.attack=l.attack,this.release=l.release,this.curve=l.curve,this._buffers.loaded&&Promise.resolve().then(l.onload)}static getDefaults(){return Object.assign(Instrument.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:noOp,onerror:noOp,release:.1,urls:{}})}_findClosest(l){let c=0;for(;c<96;){if(this._buffers.has(l+c))return-c;if(this._buffers.has(l-c))return c;c++}throw new Error(`No available buffers for note: ${l}`)}triggerAttack(l,u,c=1){return this.log("triggerAttack",l,u,c),Array.isArray(l)||(l=[l]),l.forEach(g=>{const y=ftomf(new FrequencyClass(this.context,g).toFrequency()),m=Math.round(y),_=y-m,p=this._findClosest(m),x=m-p,E=this._buffers.get(x),A=intervalToFrequencyRatio(p+_),b=new ToneBufferSource({url:E,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:A}).connect(this.output);b.start(u,0,E.duration/A,c),isArray(this._activeSources.get(m))||this._activeSources.set(m,[]),this._activeSources.get(m).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(m)){const k=this._activeSources.get(m),S=k.indexOf(b);S!==-1&&k.splice(S,1)}}}),this}triggerRelease(l,u){return this.log("triggerRelease",l,u),Array.isArray(l)||(l=[l]),l.forEach(c=>{const g=new FrequencyClass(this.context,c).toMidi();if(this._activeSources.has(g)&&this._activeSources.get(g).length){const y=this._activeSources.get(g);u=this.toSeconds(u),y.forEach(m=>{m.stop(u)}),this._activeSources.set(g,[])}}),this}releaseAll(l){const u=this.toSeconds(l);return this._activeSources.forEach(c=>{for(;c.length;)c.shift().stop(u)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(l,u,c,g=1){const y=this.toSeconds(c);return this.triggerAttack(l,y,g),isArray(u)?(assert(isArray(l),"notes must be an array when duration is array"),l.forEach((m,_)=>{const p=u[Math.min(_,u.length-1)];this.triggerRelease(m,y+this.toSeconds(p))})):this.triggerRelease(l,y+this.toSeconds(u)),this}add(l,u,c){if(assert(isNote(l)||isFinite(l),`note must be a pitch or midi: ${l}`),isNote(l)){const g=new FrequencyClass(this.context,l).toMidi();this._buffers.add(g,u,c)}else this._buffers.add(l,u,c);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(l=>{l.forEach(u=>u.dispose())}),this._activeSources.clear(),this}};__decorate([timeRange(0)],Sampler$1.prototype,"attack",void 0);__decorate([timeRange(0)],Sampler$1.prototype,"release",void 0);class CrossFade extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(CrossFade.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new GainToAudio({context:this.context}),this.a=new Gain({context:this.context,gain:0}),this.b=new Gain({context:this.context,gain:0}),this.output=new Gain({context:this.context}),this._internalChannels=[this.a,this.b];const l=optionsFromArguments(CrossFade.getDefaults(),arguments,["fade"]);this.fade=new Signal({context:this.context,units:"normalRange",value:l.fade}),readOnly(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",connect(this._split,this.a.gain,0),connect(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Effect extends ToneAudioNode{constructor(l){super(l),this.name="Effect",this._dryWet=new CrossFade({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Gain({context:this.context}),this.effectReturn=new Gain({context:this.context}),this.input=new Gain({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(l.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],readOnly(this,"wet")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{wet:1})}connectEffect(l){return this._internalChannels.push(l),this.effectSend.chain(l,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Panner extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(Panner.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const l=optionsFromArguments(Panner.getDefaults(),arguments,["pan"]);this.pan=new Param({context:this.context,param:this._panner.pan,value:l.pan,minValue:-1,maxValue:1}),this._panner.channelCount=l.channelCount,this._panner.channelCountMode="explicit",readOnly(this,"pan")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const workletName="bit-crusher",bitCrusherWorklet=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;registerProcessor(workletName,bitCrusherWorklet);class BitCrusher extends Effect{constructor(){super(optionsFromArguments(BitCrusher.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const l=optionsFromArguments(BitCrusher.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new BitCrusherWorklet({context:this.context,bits:l.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Effect.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class BitCrusherWorklet extends ToneAudioWorklet{constructor(){super(optionsFromArguments(BitCrusherWorklet.getDefaults(),arguments)),this.name="BitCrusherWorklet";const l=optionsFromArguments(BitCrusherWorklet.getDefaults(),arguments);this.input=new Gain({context:this.context}),this.output=new Gain({context:this.context}),this.bits=new Param({context:this.context,value:l.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(ToneAudioWorklet.getDefaults(),{bits:12})}_audioWorkletName(){return workletName}onReady(l){connectSeries(this.input,l,this.output);const u=l.parameters.get("bits");this.bits.setParam(u)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Solo extends ToneAudioNode{constructor(){super(optionsFromArguments(Solo.getDefaults(),arguments,["solo"])),this.name="Solo";const l=optionsFromArguments(Solo.getDefaults(),arguments,["solo"]);this.input=this.output=new Gain({context:this.context}),Solo._allSolos.has(this.context)||Solo._allSolos.set(this.context,new Set),Solo._allSolos.get(this.context).add(this),this.solo=l.solo}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(l){l?this._addSolo():this._removeSolo(),Solo._allSolos.get(this.context).forEach(u=>u._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Solo._soloed.has(this.context)||Solo._soloed.set(this.context,new Set),Solo._soloed.get(this.context).add(this)}_removeSolo(){Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).delete(this)}_isSoloed(){return Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).has(this)}_noSolos(){return!Solo._soloed.has(this.context)||Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Solo._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Solo._allSolos=new Map;Solo._soloed=new Map;class PanVol extends ToneAudioNode{constructor(){super(optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const l=optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Panner({context:this.context,pan:l.pan,channelCount:l.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Volume({context:this.context,volume:l.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=l.mute,readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(l){this._volume.mute=l}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Channel extends ToneAudioNode{constructor(){super(optionsFromArguments(Channel.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const l=optionsFromArguments(Channel.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Solo({solo:l.solo,context:this.context}),this._panVol=this.output=new PanVol({context:this.context,pan:l.pan,volume:l.volume,mute:l.mute,channelCount:l.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(l){this._solo.solo=l}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(l){this._panVol.mute=l}_getBus(l){return Channel.buses.has(l)||Channel.buses.set(l,new Gain({context:this.context})),Channel.buses.get(l)}send(l,u=0){const c=this._getBus(l),g=new Gain({context:this.context,units:"decibels",gain:u});return this.connect(g),g.connect(c),g}receive(l){return this._getBus(l).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Channel.buses=new Map;class Listener extends ToneAudioNode{constructor(){super(...arguments),this.name="Listener",this.positionX=new Param({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Param({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Param({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Param({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Param({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Param({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Param({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Param({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Param({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}onContextInit(f=>{f.listener=new Listener({context:f})});onContextClose(f=>{f.listener.dispose()});class Compressor extends ToneAudioNode{constructor(){super(optionsFromArguments(Compressor.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const l=optionsFromArguments(Compressor.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Param({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:l.threshold}),this.attack=new Param({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:l.attack}),this.release=new Param({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:l.release}),this.knee=new Param({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:l.knee}),this.ratio=new Param({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:l.ratio}),readOnly(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Limiter extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(Limiter.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const l=optionsFromArguments(Limiter.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new Compressor({context:this.context,ratio:20,attack:.003,release:.01,threshold:l.threshold}),this.threshold=this._compressor.threshold,readOnly(this,"threshold")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}function immediate(){return getContext().immediate()}getContext().transport;getContext().destination;getContext().destination;getContext().listener;getContext().draw;const context=getContext();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var rnbo_webaudio={exports:{}};/*!
 * 
 * Copyright (c) 2022 Cycling '74
 *
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * v1.2.5
 *
 */(function(module,exports){var factory;factory=function(){return(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{__webpack_require__(852).Float32Buffer,__webpack_require__(852).Float64Buffer,__webpack_require__(852).Float32MultiBuffer,__webpack_require__(852).Float64MultiBuffer,__webpack_require__(852).IntBuffer,__webpack_require__(852).UInt8Buffer,__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2;function nextpoweroftwo(f){return f===0?1:(f--,f|=f>>1,f|=f>>2,f|=f>>4,f|=f>>8,1+(f|=f>>16))}function TAG(f){let l=0;for(let u=0;u<f.length;u++)l=f.charCodeAt(u)+(l<<6)+(l<<16)-l;return 0|l}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}Xoshiro.reset,Xoshiro.next,module.exports={deserializeSrc:function(f){return _evalSrc(f)},deserializeJSON:function(f){var l=f;return typeof l=="string"&&(l={src:f}),_evalSrc(l.src)},extractOptionsFromJSON:function(f){var l=f;return typeof l=="string"&&(l=JSON.parse(f)),l.options?l.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:f=>{function l(){let Q=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,L=this.getChannels();return L?Q/L:0}function u(Q,L){let G=Q*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*L;this.requestedChannels=L,this.dataRef.requestSizeInBytes(G,!1)}function c(Q,L){return this[this.getChannels()*Math.floor(L)+Q]}function g(Q,L){const G=this.getChannels();return Q<0||Q>=G||L<0||L>=this.getSize()?0:this[G*Math.floor(L)+Q]}function y(Q,L,G){this[this.getChannels()*Math.floor(L)+Q]=G}function m(Q,L,G){const J=this.getChannels();Q<0||Q>=J||L<0||L>=this.getSize()||(this[J*Math.floor(L)+Q]=G)}function _(){return this.dataRef.channels}function p(){return this.dataRef.sampleRate}function x(Q){this.dataRef.sampleRate=Q}function E(){this.dataRef.clear()}function A(Q){if(Q!==this.dataRef.channels){let L=this.getSize();return this.clear(),this.dataRef.channels=Q,this.setSize(L)}return this}function b(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&this.requestedChannels!==0&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let Q;if(this.dataRef.isInternallyAllocated){let G=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);G/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,Q=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,G)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let L=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return Q?L.set(Q):this.dataRef.wantsFillFlag=!0,j(L,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&I(L),L}return this}function k(Q){let L=this.getChannels();return this.requestedChannels=L,this.dataRef.requestSizeInBytes(Q*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*L,!0),this.allocateIfNeeded()}function S(){this.fill&&this.fill(0)}function T(){return this.touched}function P(Q){this.touched=Q}function C(Q){this.dataRef.setWantsFill(Q)}function M(){return this.dataRef.getIndex()}function j(Q,L,G){Q.dataRef=L,Q.BASEARRAYVIEW=G,Q.getSize=l,Q.requestSize=u,Q.setSize=k,Q.allocateIfNeeded=b,Q.setZero=S,Q.clear=E,Q.getChannels=_,Q.getSampleRate=p,Q.setWantsFill=C,Q.getIndex=M,L.setZero=function(){Q.setZero()},Q.touched=!1,Q.getTouched=T,Q.setTouched=P}function I(Q){Q.getSample=c,Q.getSampleSafe=g,Q.setSample=y,Q.setSampleSafe=m,Q.setChannels=A,Q.setSampleRate=x,Q.isAudioBuffer=!0,Q.requestedChannels=0}let O=function(Q,L){let G;return G=Q.arrayBuffer?new L(Q.arrayBuffer):{},j(G,Q,L),G};(O.prototype=Object.create(null)).constructor=O;let R=function(Q,L){let G=O.call(this,Q,L);return I(G),G};(R.prototype=Object.create(O)).constructor=R;let D=function(Q){return R.call(this,Q,Float32Array)};(D.prototype=Object.create(R.prototype)).constructor=D;let N=function(Q){return R.call(this,Q,Float64Array)};(N.prototype=Object.create(R.prototype)).constructor=N;let U=function(Q,L){let G=new L(Q.dataRefs[Q.current]);return G.multiRef=Q,G.setCurrent=function(J){this.multiRef.setCurrent(Math.round(J))},G.getIndex=function(){return this.multiRef.getIndex()},G};U.prototype=Object.create(null),U.constructor=U;let X=function(Q){return U.call(this,Q,D)};(X.prototype=Object.create(U.prototype)).constructor=X;let V=function(Q){return U.call(this,Q,N)};(V.prototype=Object.create(U.prototype)).constructor=V;let K=function(Q){return O.call(this,Q,Int32Array)};(K.prototype=Object.create(O.prototype)).constructor=K;let W=function(Q){return O.call(this,Q,Uint8Array)};(W.prototype=Object.create(O.prototype)).constructor=W,f.exports={Float32Buffer:D,Float64Buffer:N,Float32MultiBuffer:X,Float64MultiBuffer:V,IntBuffer:K,UInt8Buffer:W}},126:f=>{var l=function(){};(l.prototype=Object.create(null)).constructor=l,l.prototype.setEngineAndPatcher=function(){},l.prototype.initialize=function(){},l.prototype.getNumParameters=function(){return 0},l.prototype.setParameterValue=function(){},l.prototype.prepareToProcess=function(){},l.prototype.process=function(){},f.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new l}}},925:f=>{function l(u,c,g,y){g[y]=u[c]+0x9e3779b97f4a7c15n,g[y]=0xbf58476d1ce4e5b9n*(g[y]^g[y]>>30n),g[y]=0x94d049bb133111ebn*(g[y]^g[y]>>27n),g[y]=g[y]^g[y]>>31n}f.exports={reset:function(u,c){let g=new BigUint64Array(1);g[0]=BigInt(Math.trunc(1e6*u)),l(g,0,c,0),l(c,0,c,1),l(c,1,c,2),l(c,2,c,3)},next:function(u){let c=new BigUint64Array(1),g=new BigUint64Array(1);return g[0]=u[0]+u[3],c[0]=u[1]<<17n,u[2]^=u[0],u[3]^=u[1],u[1]^=u[2],u[0]^=u[3],u[2]^=c[0],u[3]=u[3]<<45n|u[3]>>19n,g[0]=g[0]>>11n,2220446049250313e-31*Number(g[0])-1}}},766:(f,l)=>{l.byteLength=function(E){var A=p(E),b=A[0],k=A[1];return 3*(b+k)/4-k},l.toByteArray=function(E){var A,b,k=p(E),S=k[0],T=k[1],P=new g(function(j,I,O){return 3*(I+O)/4-O}(0,S,T)),C=0,M=T>0?S-4:S;for(b=0;b<M;b+=4)A=c[E.charCodeAt(b)]<<18|c[E.charCodeAt(b+1)]<<12|c[E.charCodeAt(b+2)]<<6|c[E.charCodeAt(b+3)],P[C++]=A>>16&255,P[C++]=A>>8&255,P[C++]=255&A;return T===2&&(A=c[E.charCodeAt(b)]<<2|c[E.charCodeAt(b+1)]>>4,P[C++]=255&A),T===1&&(A=c[E.charCodeAt(b)]<<10|c[E.charCodeAt(b+1)]<<4|c[E.charCodeAt(b+2)]>>2,P[C++]=A>>8&255,P[C++]=255&A),P},l.fromByteArray=function(E){for(var A,b=E.length,k=b%3,S=[],T=16383,P=0,C=b-k;P<C;P+=T)S.push(x(E,P,P+T>C?C:P+T));return k===1?(A=E[b-1],S.push(u[A>>2]+u[A<<4&63]+"==")):k===2&&(A=(E[b-2]<<8)+E[b-1],S.push(u[A>>10]+u[A>>4&63]+u[A<<2&63]+"=")),S.join("")};for(var u=[],c=[],g=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,_=y.length;m<_;++m)u[m]=y[m],c[y.charCodeAt(m)]=m;function p(E){var A=E.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=E.indexOf("=");return b===-1&&(b=A),[b,b===A?0:4-b%4]}function x(E,A,b){for(var k,S,T=[],P=A;P<b;P+=3)k=(E[P]<<16&16711680)+(E[P+1]<<8&65280)+(255&E[P+2]),T.push(u[(S=k)>>18&63]+u[S>>12&63]+u[S>>6&63]+u[63&S]);return T.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},834:(f,l,u)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const c=u(766),g=u(181),y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=p,l.SlowBuffer=function(re){return+re!=re&&(re=0),p.alloc(+re)},l.INSPECT_MAX_BYTES=50;const m=2147483647;function _(re){if(re>m)throw new RangeError('The value "'+re+'" is invalid for option "size"');const ae=new Uint8Array(re);return Object.setPrototypeOf(ae,p.prototype),ae}function p(re,ae,ce){if(typeof re=="number"){if(typeof ae=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(re)}return x(re,ae,ce)}function x(re,ae,ce){if(typeof re=="string")return function(Ie,Fe){if(typeof Fe=="string"&&Fe!==""||(Fe="utf8"),!p.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);const Xe=0|T(Ie,Fe);let Ze=_(Xe);const Je=Ze.write(Ie,Fe);return Je!==Xe&&(Ze=Ze.slice(0,Je)),Ze}(re,ae);if(ArrayBuffer.isView(re))return function(Ie){if(ve(Ie,Uint8Array)){const Fe=new Uint8Array(Ie);return k(Fe.buffer,Fe.byteOffset,Fe.byteLength)}return b(Ie)}(re);if(re==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re);if(ve(re,ArrayBuffer)||re&&ve(re.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(re,SharedArrayBuffer)||re&&ve(re.buffer,SharedArrayBuffer)))return k(re,ae,ce);if(typeof re=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ee=re.valueOf&&re.valueOf();if(Ee!=null&&Ee!==re)return p.from(Ee,ae,ce);const xe=function(Ie){if(p.isBuffer(Ie)){const Fe=0|S(Ie.length),Xe=_(Fe);return Xe.length===0||Ie.copy(Xe,0,0,Fe),Xe}return Ie.length!==void 0?typeof Ie.length!="number"||fe(Ie.length)?_(0):b(Ie):Ie.type==="Buffer"&&Array.isArray(Ie.data)?b(Ie.data):void 0}(re);if(xe)return xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof re[Symbol.toPrimitive]=="function")return p.from(re[Symbol.toPrimitive]("string"),ae,ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof re)}function E(re){if(typeof re!="number")throw new TypeError('"size" argument must be of type number');if(re<0)throw new RangeError('The value "'+re+'" is invalid for option "size"')}function A(re){return E(re),_(re<0?0:0|S(re))}function b(re){const ae=re.length<0?0:0|S(re.length),ce=_(ae);for(let Ee=0;Ee<ae;Ee+=1)ce[Ee]=255&re[Ee];return ce}function k(re,ae,ce){if(ae<0||re.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(re.byteLength<ae+(ce||0))throw new RangeError('"length" is outside of buffer bounds');let Ee;return Ee=ae===void 0&&ce===void 0?new Uint8Array(re):ce===void 0?new Uint8Array(re,ae):new Uint8Array(re,ae,ce),Object.setPrototypeOf(Ee,p.prototype),Ee}function S(re){if(re>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|re}function T(re,ae){if(p.isBuffer(re))return re.length;if(ArrayBuffer.isView(re)||ve(re,ArrayBuffer))return re.byteLength;if(typeof re!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof re);const ce=re.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&ce===0)return 0;let xe=!1;for(;;)switch(ae){case"ascii":case"latin1":case"binary":return ce;case"utf8":case"utf-8":return Te(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ce;case"hex":return ce>>>1;case"base64":return me(re).length;default:if(xe)return Ee?-1:Te(re).length;ae=(""+ae).toLowerCase(),xe=!0}}function P(re,ae,ce){let Ee=!1;if((ae===void 0||ae<0)&&(ae=0),ae>this.length||((ce===void 0||ce>this.length)&&(ce=this.length),ce<=0)||(ce>>>=0)<=(ae>>>=0))return"";for(re||(re="utf8");;)switch(re){case"hex":return Q(this,ae,ce);case"utf8":case"utf-8":return X(this,ae,ce);case"ascii":return K(this,ae,ce);case"latin1":case"binary":return W(this,ae,ce);case"base64":return U(this,ae,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,ae,ce);default:if(Ee)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),Ee=!0}}function C(re,ae,ce){const Ee=re[ae];re[ae]=re[ce],re[ce]=Ee}function M(re,ae,ce,Ee,xe){if(re.length===0)return-1;if(typeof ce=="string"?(Ee=ce,ce=0):ce>2147483647?ce=2147483647:ce<-2147483648&&(ce=-2147483648),fe(ce=+ce)&&(ce=xe?0:re.length-1),ce<0&&(ce=re.length+ce),ce>=re.length){if(xe)return-1;ce=re.length-1}else if(ce<0){if(!xe)return-1;ce=0}if(typeof ae=="string"&&(ae=p.from(ae,Ee)),p.isBuffer(ae))return ae.length===0?-1:j(re,ae,ce,Ee,xe);if(typeof ae=="number")return ae&=255,typeof Uint8Array.prototype.indexOf=="function"?xe?Uint8Array.prototype.indexOf.call(re,ae,ce):Uint8Array.prototype.lastIndexOf.call(re,ae,ce):j(re,[ae],ce,Ee,xe);throw new TypeError("val must be string, number or Buffer")}function j(re,ae,ce,Ee,xe){let Ie,Fe=1,Xe=re.length,Ze=ae.length;if(Ee!==void 0&&((Ee=String(Ee).toLowerCase())==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(re.length<2||ae.length<2)return-1;Fe=2,Xe/=2,Ze/=2,ce/=2}function Je(Oe,qe){return Fe===1?Oe[qe]:Oe.readUInt16BE(qe*Fe)}if(xe){let Oe=-1;for(Ie=ce;Ie<Xe;Ie++)if(Je(re,Ie)===Je(ae,Oe===-1?0:Ie-Oe)){if(Oe===-1&&(Oe=Ie),Ie-Oe+1===Ze)return Oe*Fe}else Oe!==-1&&(Ie-=Ie-Oe),Oe=-1}else for(ce+Ze>Xe&&(ce=Xe-Ze),Ie=ce;Ie>=0;Ie--){let Oe=!0;for(let qe=0;qe<Ze;qe++)if(Je(re,Ie+qe)!==Je(ae,qe)){Oe=!1;break}if(Oe)return Ie}return-1}function I(re,ae,ce,Ee){ce=Number(ce)||0;const xe=re.length-ce;Ee?(Ee=Number(Ee))>xe&&(Ee=xe):Ee=xe;const Ie=ae.length;let Fe;for(Ee>Ie/2&&(Ee=Ie/2),Fe=0;Fe<Ee;++Fe){const Xe=parseInt(ae.substr(2*Fe,2),16);if(fe(Xe))return Fe;re[ce+Fe]=Xe}return Fe}function O(re,ae,ce,Ee){return Se(Te(ae,re.length-ce),re,ce,Ee)}function R(re,ae,ce,Ee){return Se(function(xe){const Ie=[];for(let Fe=0;Fe<xe.length;++Fe)Ie.push(255&xe.charCodeAt(Fe));return Ie}(ae),re,ce,Ee)}function D(re,ae,ce,Ee){return Se(me(ae),re,ce,Ee)}function N(re,ae,ce,Ee){return Se(function(xe,Ie){let Fe,Xe,Ze;const Je=[];for(let Oe=0;Oe<xe.length&&!((Ie-=2)<0);++Oe)Fe=xe.charCodeAt(Oe),Xe=Fe>>8,Ze=Fe%256,Je.push(Ze),Je.push(Xe);return Je}(ae,re.length-ce),re,ce,Ee)}function U(re,ae,ce){return ae===0&&ce===re.length?c.fromByteArray(re):c.fromByteArray(re.slice(ae,ce))}function X(re,ae,ce){ce=Math.min(re.length,ce);const Ee=[];let xe=ae;for(;xe<ce;){const Ie=re[xe];let Fe=null,Xe=Ie>239?4:Ie>223?3:Ie>191?2:1;if(xe+Xe<=ce){let Ze,Je,Oe,qe;switch(Xe){case 1:Ie<128&&(Fe=Ie);break;case 2:Ze=re[xe+1],(192&Ze)==128&&(qe=(31&Ie)<<6|63&Ze,qe>127&&(Fe=qe));break;case 3:Ze=re[xe+1],Je=re[xe+2],(192&Ze)==128&&(192&Je)==128&&(qe=(15&Ie)<<12|(63&Ze)<<6|63&Je,qe>2047&&(qe<55296||qe>57343)&&(Fe=qe));break;case 4:Ze=re[xe+1],Je=re[xe+2],Oe=re[xe+3],(192&Ze)==128&&(192&Je)==128&&(192&Oe)==128&&(qe=(15&Ie)<<18|(63&Ze)<<12|(63&Je)<<6|63&Oe,qe>65535&&qe<1114112&&(Fe=qe))}}Fe===null?(Fe=65533,Xe=1):Fe>65535&&(Fe-=65536,Ee.push(Fe>>>10&1023|55296),Fe=56320|1023&Fe),Ee.push(Fe),xe+=Xe}return function(Ie){const Fe=Ie.length;if(Fe<=V)return String.fromCharCode.apply(String,Ie);let Xe="",Ze=0;for(;Ze<Fe;)Xe+=String.fromCharCode.apply(String,Ie.slice(Ze,Ze+=V));return Xe}(Ee)}l.kMaxLength=m,p.TYPED_ARRAY_SUPPORT=function(){try{const re=new Uint8Array(1),ae={foo:function(){return 42}};return Object.setPrototypeOf(ae,Uint8Array.prototype),Object.setPrototypeOf(re,ae),re.foo()===42}catch{return!1}}(),p.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(re,ae,ce){return x(re,ae,ce)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(re,ae,ce){return function(Ee,xe,Ie){return E(Ee),Ee<=0?_(Ee):xe!==void 0?typeof Ie=="string"?_(Ee).fill(xe,Ie):_(Ee).fill(xe):_(Ee)}(re,ae,ce)},p.allocUnsafe=function(re){return A(re)},p.allocUnsafeSlow=function(re){return A(re)},p.isBuffer=function(re){return re!=null&&re.t===!0&&re!==p.prototype},p.compare=function(re,ae){if(ve(re,Uint8Array)&&(re=p.from(re,re.offset,re.byteLength)),ve(ae,Uint8Array)&&(ae=p.from(ae,ae.offset,ae.byteLength)),!p.isBuffer(re)||!p.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(re===ae)return 0;let ce=re.length,Ee=ae.length;for(let xe=0,Ie=Math.min(ce,Ee);xe<Ie;++xe)if(re[xe]!==ae[xe]){ce=re[xe],Ee=ae[xe];break}return ce<Ee?-1:Ee<ce?1:0},p.isEncoding=function(re){switch(String(re).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(re,ae){if(!Array.isArray(re))throw new TypeError('"list" argument must be an Array of Buffers');if(re.length===0)return p.alloc(0);let ce;if(ae===void 0)for(ae=0,ce=0;ce<re.length;++ce)ae+=re[ce].length;const Ee=p.allocUnsafe(ae);let xe=0;for(ce=0;ce<re.length;++ce){let Ie=re[ce];if(ve(Ie,Uint8Array))xe+Ie.length>Ee.length?(p.isBuffer(Ie)||(Ie=p.from(Ie)),Ie.copy(Ee,xe)):Uint8Array.prototype.set.call(Ee,Ie,xe);else{if(!p.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(Ee,xe)}xe+=Ie.length}return Ee},p.byteLength=T,p.prototype.t=!0,p.prototype.swap16=function(){const re=this.length;if(re%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ae=0;ae<re;ae+=2)C(this,ae,ae+1);return this},p.prototype.swap32=function(){const re=this.length;if(re%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ae=0;ae<re;ae+=4)C(this,ae,ae+3),C(this,ae+1,ae+2);return this},p.prototype.swap64=function(){const re=this.length;if(re%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ae=0;ae<re;ae+=8)C(this,ae,ae+7),C(this,ae+1,ae+6),C(this,ae+2,ae+5),C(this,ae+3,ae+4);return this},p.prototype.toString=function(){const re=this.length;return re===0?"":arguments.length===0?X(this,0,re):P.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(re){if(!p.isBuffer(re))throw new TypeError("Argument must be a Buffer");return this===re||p.compare(this,re)===0},p.prototype.inspect=function(){let re="";const ae=l.INSPECT_MAX_BYTES;return re=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(re+=" ... "),"<Buffer "+re+">"},y&&(p.prototype[y]=p.prototype.inspect),p.prototype.compare=function(re,ae,ce,Ee,xe){if(ve(re,Uint8Array)&&(re=p.from(re,re.offset,re.byteLength)),!p.isBuffer(re))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof re);if(ae===void 0&&(ae=0),ce===void 0&&(ce=re?re.length:0),Ee===void 0&&(Ee=0),xe===void 0&&(xe=this.length),ae<0||ce>re.length||Ee<0||xe>this.length)throw new RangeError("out of range index");if(Ee>=xe&&ae>=ce)return 0;if(Ee>=xe)return-1;if(ae>=ce)return 1;if(this===re)return 0;let Ie=(xe>>>=0)-(Ee>>>=0),Fe=(ce>>>=0)-(ae>>>=0);const Xe=Math.min(Ie,Fe),Ze=this.slice(Ee,xe),Je=re.slice(ae,ce);for(let Oe=0;Oe<Xe;++Oe)if(Ze[Oe]!==Je[Oe]){Ie=Ze[Oe],Fe=Je[Oe];break}return Ie<Fe?-1:Fe<Ie?1:0},p.prototype.includes=function(re,ae,ce){return this.indexOf(re,ae,ce)!==-1},p.prototype.indexOf=function(re,ae,ce){return M(this,re,ae,ce,!0)},p.prototype.lastIndexOf=function(re,ae,ce){return M(this,re,ae,ce,!1)},p.prototype.write=function(re,ae,ce,Ee){if(ae===void 0)Ee="utf8",ce=this.length,ae=0;else if(ce===void 0&&typeof ae=="string")Ee=ae,ce=this.length,ae=0;else{if(!isFinite(ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ae>>>=0,isFinite(ce)?(ce>>>=0,Ee===void 0&&(Ee="utf8")):(Ee=ce,ce=void 0)}const xe=this.length-ae;if((ce===void 0||ce>xe)&&(ce=xe),re.length>0&&(ce<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let Ie=!1;for(;;)switch(Ee){case"hex":return I(this,re,ae,ce);case"utf8":case"utf-8":return O(this,re,ae,ce);case"ascii":case"latin1":case"binary":return R(this,re,ae,ce);case"base64":return D(this,re,ae,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,re,ae,ce);default:if(Ie)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Ie=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const V=4096;function K(re,ae,ce){let Ee="";ce=Math.min(re.length,ce);for(let xe=ae;xe<ce;++xe)Ee+=String.fromCharCode(127&re[xe]);return Ee}function W(re,ae,ce){let Ee="";ce=Math.min(re.length,ce);for(let xe=ae;xe<ce;++xe)Ee+=String.fromCharCode(re[xe]);return Ee}function Q(re,ae,ce){const Ee=re.length;(!ae||ae<0)&&(ae=0),(!ce||ce<0||ce>Ee)&&(ce=Ee);let xe="";for(let Ie=ae;Ie<ce;++Ie)xe+=ye[re[Ie]];return xe}function L(re,ae,ce){const Ee=re.slice(ae,ce);let xe="";for(let Ie=0;Ie<Ee.length-1;Ie+=2)xe+=String.fromCharCode(Ee[Ie]+256*Ee[Ie+1]);return xe}function G(re,ae,ce){if(re%1!=0||re<0)throw new RangeError("offset is not uint");if(re+ae>ce)throw new RangeError("Trying to access beyond buffer length")}function J(re,ae,ce,Ee,xe,Ie){if(!p.isBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>xe||ae<Ie)throw new RangeError('"value" argument is out of bounds');if(ce+Ee>re.length)throw new RangeError("Index out of range")}function B(re,ae,ce,Ee,xe){se(ae,Ee,xe,re,ce,7);let Ie=Number(ae&BigInt(4294967295));re[ce++]=Ie,Ie>>=8,re[ce++]=Ie,Ie>>=8,re[ce++]=Ie,Ie>>=8,re[ce++]=Ie;let Fe=Number(ae>>BigInt(32)&BigInt(4294967295));return re[ce++]=Fe,Fe>>=8,re[ce++]=Fe,Fe>>=8,re[ce++]=Fe,Fe>>=8,re[ce++]=Fe,ce}function Y(re,ae,ce,Ee,xe){se(ae,Ee,xe,re,ce,7);let Ie=Number(ae&BigInt(4294967295));re[ce+7]=Ie,Ie>>=8,re[ce+6]=Ie,Ie>>=8,re[ce+5]=Ie,Ie>>=8,re[ce+4]=Ie;let Fe=Number(ae>>BigInt(32)&BigInt(4294967295));return re[ce+3]=Fe,Fe>>=8,re[ce+2]=Fe,Fe>>=8,re[ce+1]=Fe,Fe>>=8,re[ce]=Fe,ce+8}function ie(re,ae,ce,Ee,xe,Ie){if(ce+Ee>re.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("Index out of range")}function ne(re,ae,ce,Ee,xe){return ae=+ae,ce>>>=0,xe||ie(re,0,ce,4),g.write(re,ae,ce,Ee,23,4),ce+4}function Z(re,ae,ce,Ee,xe){return ae=+ae,ce>>>=0,xe||ie(re,0,ce,8),g.write(re,ae,ce,Ee,52,8),ce+8}p.prototype.slice=function(re,ae){const ce=this.length;(re=~~re)<0?(re+=ce)<0&&(re=0):re>ce&&(re=ce),(ae=ae===void 0?ce:~~ae)<0?(ae+=ce)<0&&(ae=0):ae>ce&&(ae=ce),ae<re&&(ae=re);const Ee=this.subarray(re,ae);return Object.setPrototypeOf(Ee,p.prototype),Ee},p.prototype.readUintLE=p.prototype.readUIntLE=function(re,ae,ce){re>>>=0,ae>>>=0,ce||G(re,ae,this.length);let Ee=this[re],xe=1,Ie=0;for(;++Ie<ae&&(xe*=256);)Ee+=this[re+Ie]*xe;return Ee},p.prototype.readUintBE=p.prototype.readUIntBE=function(re,ae,ce){re>>>=0,ae>>>=0,ce||G(re,ae,this.length);let Ee=this[re+--ae],xe=1;for(;ae>0&&(xe*=256);)Ee+=this[re+--ae]*xe;return Ee},p.prototype.readUint8=p.prototype.readUInt8=function(re,ae){return re>>>=0,ae||G(re,1,this.length),this[re]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(re,ae){return re>>>=0,ae||G(re,2,this.length),this[re]|this[re+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(re,ae){return re>>>=0,ae||G(re,2,this.length),this[re]<<8|this[re+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(re,ae){return re>>>=0,ae||G(re,4,this.length),(this[re]|this[re+1]<<8|this[re+2]<<16)+16777216*this[re+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(re,ae){return re>>>=0,ae||G(re,4,this.length),16777216*this[re]+(this[re+1]<<16|this[re+2]<<8|this[re+3])},p.prototype.readBigUInt64LE=Ae(function(re){le(re>>>=0,"offset");const ae=this[re],ce=this[re+7];ae!==void 0&&ce!==void 0||ue(re,this.length-8);const Ee=ae+256*this[++re]+65536*this[++re]+this[++re]*2**24,xe=this[++re]+256*this[++re]+65536*this[++re]+ce*2**24;return BigInt(Ee)+(BigInt(xe)<<BigInt(32))}),p.prototype.readBigUInt64BE=Ae(function(re){le(re>>>=0,"offset");const ae=this[re],ce=this[re+7];ae!==void 0&&ce!==void 0||ue(re,this.length-8);const Ee=ae*2**24+65536*this[++re]+256*this[++re]+this[++re],xe=this[++re]*2**24+65536*this[++re]+256*this[++re]+ce;return(BigInt(Ee)<<BigInt(32))+BigInt(xe)}),p.prototype.readIntLE=function(re,ae,ce){re>>>=0,ae>>>=0,ce||G(re,ae,this.length);let Ee=this[re],xe=1,Ie=0;for(;++Ie<ae&&(xe*=256);)Ee+=this[re+Ie]*xe;return xe*=128,Ee>=xe&&(Ee-=Math.pow(2,8*ae)),Ee},p.prototype.readIntBE=function(re,ae,ce){re>>>=0,ae>>>=0,ce||G(re,ae,this.length);let Ee=ae,xe=1,Ie=this[re+--Ee];for(;Ee>0&&(xe*=256);)Ie+=this[re+--Ee]*xe;return xe*=128,Ie>=xe&&(Ie-=Math.pow(2,8*ae)),Ie},p.prototype.readInt8=function(re,ae){return re>>>=0,ae||G(re,1,this.length),128&this[re]?-1*(255-this[re]+1):this[re]},p.prototype.readInt16LE=function(re,ae){re>>>=0,ae||G(re,2,this.length);const ce=this[re]|this[re+1]<<8;return 32768&ce?4294901760|ce:ce},p.prototype.readInt16BE=function(re,ae){re>>>=0,ae||G(re,2,this.length);const ce=this[re+1]|this[re]<<8;return 32768&ce?4294901760|ce:ce},p.prototype.readInt32LE=function(re,ae){return re>>>=0,ae||G(re,4,this.length),this[re]|this[re+1]<<8|this[re+2]<<16|this[re+3]<<24},p.prototype.readInt32BE=function(re,ae){return re>>>=0,ae||G(re,4,this.length),this[re]<<24|this[re+1]<<16|this[re+2]<<8|this[re+3]},p.prototype.readBigInt64LE=Ae(function(re){le(re>>>=0,"offset");const ae=this[re],ce=this[re+7];ae!==void 0&&ce!==void 0||ue(re,this.length-8);const Ee=this[re+4]+256*this[re+5]+65536*this[re+6]+(ce<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(ae+256*this[++re]+65536*this[++re]+this[++re]*16777216)}),p.prototype.readBigInt64BE=Ae(function(re){le(re>>>=0,"offset");const ae=this[re],ce=this[re+7];ae!==void 0&&ce!==void 0||ue(re,this.length-8);const Ee=(ae<<24)+65536*this[++re]+256*this[++re]+this[++re];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++re]*16777216+65536*this[++re]+256*this[++re]+ce)}),p.prototype.readFloatLE=function(re,ae){return re>>>=0,ae||G(re,4,this.length),g.read(this,re,!0,23,4)},p.prototype.readFloatBE=function(re,ae){return re>>>=0,ae||G(re,4,this.length),g.read(this,re,!1,23,4)},p.prototype.readDoubleLE=function(re,ae){return re>>>=0,ae||G(re,8,this.length),g.read(this,re,!0,52,8)},p.prototype.readDoubleBE=function(re,ae){return re>>>=0,ae||G(re,8,this.length),g.read(this,re,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(re,ae,ce,Ee){re=+re,ae>>>=0,ce>>>=0,Ee||J(this,re,ae,ce,Math.pow(2,8*ce)-1,0);let xe=1,Ie=0;for(this[ae]=255&re;++Ie<ce&&(xe*=256);)this[ae+Ie]=re/xe&255;return ae+ce},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(re,ae,ce,Ee){re=+re,ae>>>=0,ce>>>=0,Ee||J(this,re,ae,ce,Math.pow(2,8*ce)-1,0);let xe=ce-1,Ie=1;for(this[ae+xe]=255&re;--xe>=0&&(Ie*=256);)this[ae+xe]=re/Ie&255;return ae+ce},p.prototype.writeUint8=p.prototype.writeUInt8=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,1,255,0),this[ae]=255&re,ae+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,2,65535,0),this[ae]=255&re,this[ae+1]=re>>>8,ae+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,2,65535,0),this[ae]=re>>>8,this[ae+1]=255&re,ae+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,4,4294967295,0),this[ae+3]=re>>>24,this[ae+2]=re>>>16,this[ae+1]=re>>>8,this[ae]=255&re,ae+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,4,4294967295,0),this[ae]=re>>>24,this[ae+1]=re>>>16,this[ae+2]=re>>>8,this[ae+3]=255&re,ae+4},p.prototype.writeBigUInt64LE=Ae(function(re,ae=0){return B(this,re,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Ae(function(re,ae=0){return Y(this,re,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(re,ae,ce,Ee){if(re=+re,ae>>>=0,!Ee){const Xe=Math.pow(2,8*ce-1);J(this,re,ae,ce,Xe-1,-Xe)}let xe=0,Ie=1,Fe=0;for(this[ae]=255&re;++xe<ce&&(Ie*=256);)re<0&&Fe===0&&this[ae+xe-1]!==0&&(Fe=1),this[ae+xe]=(re/Ie>>0)-Fe&255;return ae+ce},p.prototype.writeIntBE=function(re,ae,ce,Ee){if(re=+re,ae>>>=0,!Ee){const Xe=Math.pow(2,8*ce-1);J(this,re,ae,ce,Xe-1,-Xe)}let xe=ce-1,Ie=1,Fe=0;for(this[ae+xe]=255&re;--xe>=0&&(Ie*=256);)re<0&&Fe===0&&this[ae+xe+1]!==0&&(Fe=1),this[ae+xe]=(re/Ie>>0)-Fe&255;return ae+ce},p.prototype.writeInt8=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,1,127,-128),re<0&&(re=255+re+1),this[ae]=255&re,ae+1},p.prototype.writeInt16LE=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,2,32767,-32768),this[ae]=255&re,this[ae+1]=re>>>8,ae+2},p.prototype.writeInt16BE=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,2,32767,-32768),this[ae]=re>>>8,this[ae+1]=255&re,ae+2},p.prototype.writeInt32LE=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,4,2147483647,-2147483648),this[ae]=255&re,this[ae+1]=re>>>8,this[ae+2]=re>>>16,this[ae+3]=re>>>24,ae+4},p.prototype.writeInt32BE=function(re,ae,ce){return re=+re,ae>>>=0,ce||J(this,re,ae,4,2147483647,-2147483648),re<0&&(re=4294967295+re+1),this[ae]=re>>>24,this[ae+1]=re>>>16,this[ae+2]=re>>>8,this[ae+3]=255&re,ae+4},p.prototype.writeBigInt64LE=Ae(function(re,ae=0){return B(this,re,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Ae(function(re,ae=0){return Y(this,re,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeFloatLE=function(re,ae,ce){return ne(this,re,ae,!0,ce)},p.prototype.writeFloatBE=function(re,ae,ce){return ne(this,re,ae,!1,ce)},p.prototype.writeDoubleLE=function(re,ae,ce){return Z(this,re,ae,!0,ce)},p.prototype.writeDoubleBE=function(re,ae,ce){return Z(this,re,ae,!1,ce)},p.prototype.copy=function(re,ae,ce,Ee){if(!p.isBuffer(re))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),Ee||Ee===0||(Ee=this.length),ae>=re.length&&(ae=re.length),ae||(ae=0),Ee>0&&Ee<ce&&(Ee=ce),Ee===ce||re.length===0||this.length===0)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),re.length-ae<Ee-ce&&(Ee=re.length-ae+ce);const xe=Ee-ce;return this===re&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ae,ce,Ee):Uint8Array.prototype.set.call(re,this.subarray(ce,Ee),ae),xe},p.prototype.fill=function(re,ae,ce,Ee){if(typeof re=="string"){if(typeof ae=="string"?(Ee=ae,ae=0,ce=this.length):typeof ce=="string"&&(Ee=ce,ce=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!p.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(re.length===1){const Ie=re.charCodeAt(0);(Ee==="utf8"&&Ie<128||Ee==="latin1")&&(re=Ie)}}else typeof re=="number"?re&=255:typeof re=="boolean"&&(re=Number(re));if(ae<0||this.length<ae||this.length<ce)throw new RangeError("Out of range index");if(ce<=ae)return this;let xe;if(ae>>>=0,ce=ce===void 0?this.length:ce>>>0,re||(re=0),typeof re=="number")for(xe=ae;xe<ce;++xe)this[xe]=re;else{const Ie=p.isBuffer(re)?re:p.from(re,Ee),Fe=Ie.length;if(Fe===0)throw new TypeError('The value "'+re+'" is invalid for argument "value"');for(xe=0;xe<ce-ae;++xe)this[xe+ae]=Ie[xe%Fe]}return this};const H={};function z(re,ae,ce){H[re]=class extends ce{constructor(){super(),Object.defineProperty(this,"message",{value:ae.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${re}]`,this.stack,delete this.name}get code(){return re}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${re}]: ${this.message}`}}}function ee(re){let ae="",ce=re.length;const Ee=re[0]==="-"?1:0;for(;ce>=Ee+4;ce-=3)ae=`_${re.slice(ce-3,ce)}${ae}`;return`${re.slice(0,ce)}${ae}`}function se(re,ae,ce,Ee,xe,Ie){if(re>ce||re<ae){const Fe=typeof ae=="bigint"?"n":"";let Xe;throw Xe=Ie>3?ae===0||ae===BigInt(0)?`>= 0${Fe} and < 2${Fe} ** ${8*(Ie+1)}${Fe}`:`>= -(2${Fe} ** ${8*(Ie+1)-1}${Fe}) and < 2 ** ${8*(Ie+1)-1}${Fe}`:`>= ${ae}${Fe} and <= ${ce}${Fe}`,new H.ERR_OUT_OF_RANGE("value",Xe,re)}(function(Fe,Xe,Ze){le(Xe,"offset"),Fe[Xe]!==void 0&&Fe[Xe+Ze]!==void 0||ue(Xe,Fe.length-(Ze+1))})(Ee,xe,Ie)}function le(re,ae){if(typeof re!="number")throw new H.ERR_INVALID_ARG_TYPE(ae,"number",re)}function ue(re,ae,ce){throw Math.floor(re)!==re?(le(re,ce),new H.ERR_OUT_OF_RANGE(ce||"offset","an integer",re)):ae<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE(ce||"offset",`>= ${ce?1:0} and <= ${ae}`,re)}z("ERR_BUFFER_OUT_OF_BOUNDS",function(re){return re?`${re} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(re,ae){return`The "${re}" argument must be of type number. Received type ${typeof ae}`},TypeError),z("ERR_OUT_OF_RANGE",function(re,ae,ce){let Ee=`The value of "${re}" is out of range.`,xe=ce;return Number.isInteger(ce)&&Math.abs(ce)>4294967296?xe=ee(String(ce)):typeof ce=="bigint"&&(xe=String(ce),(ce>BigInt(2)**BigInt(32)||ce<-(BigInt(2)**BigInt(32)))&&(xe=ee(xe)),xe+="n"),Ee+=` It must be ${ae}. Received ${xe}`,Ee},RangeError);const _e=/[^+/0-9A-Za-z-_]/g;function Te(re,ae){let ce;ae=ae||1/0;const Ee=re.length;let xe=null;const Ie=[];for(let Fe=0;Fe<Ee;++Fe){if(ce=re.charCodeAt(Fe),ce>55295&&ce<57344){if(!xe){if(ce>56319){(ae-=3)>-1&&Ie.push(239,191,189);continue}if(Fe+1===Ee){(ae-=3)>-1&&Ie.push(239,191,189);continue}xe=ce;continue}if(ce<56320){(ae-=3)>-1&&Ie.push(239,191,189),xe=ce;continue}ce=65536+(xe-55296<<10|ce-56320)}else xe&&(ae-=3)>-1&&Ie.push(239,191,189);if(xe=null,ce<128){if((ae-=1)<0)break;Ie.push(ce)}else if(ce<2048){if((ae-=2)<0)break;Ie.push(ce>>6|192,63&ce|128)}else if(ce<65536){if((ae-=3)<0)break;Ie.push(ce>>12|224,ce>>6&63|128,63&ce|128)}else{if(!(ce<1114112))throw new Error("Invalid code point");if((ae-=4)<0)break;Ie.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,63&ce|128)}}return Ie}function me(re){return c.toByteArray(function(ae){if((ae=(ae=ae.split("=")[0]).trim().replace(_e,"")).length<2)return"";for(;ae.length%4!=0;)ae+="=";return ae}(re))}function Se(re,ae,ce,Ee){let xe;for(xe=0;xe<Ee&&!(xe+ce>=ae.length||xe>=re.length);++xe)ae[xe+ce]=re[xe];return xe}function ve(re,ae){return re instanceof ae||re!=null&&re.constructor!=null&&re.constructor.name!=null&&re.constructor.name===ae.name}function fe(re){return re!=re}const ye=function(){const re="0123456789abcdef",ae=new Array(256);for(let ce=0;ce<16;++ce){const Ee=16*ce;for(let xe=0;xe<16;++xe)ae[Ee+xe]=re[ce]+re[xe]}return ae}();function Ae(re){return typeof BigInt>"u"?Ne:re}function Ne(){throw new Error("BigInt not supported")}},181:(f,l)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(u,c,g,y,m){var _,p,x=8*m-y-1,E=(1<<x)-1,A=E>>1,b=-7,k=g?m-1:0,S=g?-1:1,T=u[c+k];for(k+=S,_=T&(1<<-b)-1,T>>=-b,b+=x;b>0;_=256*_+u[c+k],k+=S,b-=8);for(p=_&(1<<-b)-1,_>>=-b,b+=y;b>0;p=256*p+u[c+k],k+=S,b-=8);if(_===0)_=1-A;else{if(_===E)return p?NaN:1/0*(T?-1:1);p+=Math.pow(2,y),_-=A}return(T?-1:1)*p*Math.pow(2,_-y)},l.write=function(u,c,g,y,m,_){var p,x,E,A=8*_-m-1,b=(1<<A)-1,k=b>>1,S=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=y?0:_-1,P=y?1:-1,C=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(x=isNaN(c)?1:0,p=b):(p=Math.floor(Math.log(c)/Math.LN2),c*(E=Math.pow(2,-p))<1&&(p--,E*=2),(c+=p+k>=1?S/E:S*Math.pow(2,1-k))*E>=2&&(p++,E/=2),p+k>=b?(x=0,p=b):p+k>=1?(x=(c*E-1)*Math.pow(2,m),p+=k):(x=c*Math.pow(2,k-1)*Math.pow(2,m),p=0));m>=8;u[g+T]=255&x,T+=P,x/=256,m-=8);for(p=p<<m|x,A+=m;A>0;u[g+T]=255&p,T+=P,p/=256,A-=8);u[g+T-P]|=128*C}},845:(f,l,u)=>{var c={};(0,u(761).assign)(c,u(880),u(380),u(271)),f.exports=c},880:(f,l,u)=>{var c=u(789),g=u(761),y=u(944),m=u(950),_=u(744),p=Object.prototype.toString;function x(A){if(!(this instanceof x))return new x(A);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},A||{});var b=this.options;b.raw&&b.windowBits>0?b.windowBits=-b.windowBits:b.gzip&&b.windowBits>0&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var k=c.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(k!==0)throw new Error(m[k]);if(b.header&&c.deflateSetHeader(this.strm,b.header),b.dictionary){var S;if(S=typeof b.dictionary=="string"?y.string2buf(b.dictionary):p.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(k=c.deflateSetDictionary(this.strm,S))!==0)throw new Error(m[k]);this.u=!0}}function E(A,b){var k=new x(b);if(k.push(A,!0),k.err)throw k.msg||m[k.err];return k.result}x.prototype.push=function(A,b){var k,S,T=this.strm,P=this.options.chunkSize;if(this.ended)return!1;S=b===~~b?b:b===!0?4:0,typeof A=="string"?T.input=y.string2buf(A):p.call(A)==="[object ArrayBuffer]"?T.input=new Uint8Array(A):T.input=A,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new g.Buf8(P),T.next_out=0,T.avail_out=P),(k=c.deflate(T,S))!==1&&k!==0)return this.onEnd(k),this.ended=!0,!1;T.avail_out!==0&&(T.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(g.shrinkBuf(T.output,T.next_out))):this.onData(g.shrinkBuf(T.output,T.next_out)))}while((T.avail_in>0||T.avail_out===0)&&k!==1);return S===4?(k=c.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===0):S!==2||(this.onEnd(0),T.avail_out=0,!0)},x.prototype.onData=function(A){this.chunks.push(A)},x.prototype.onEnd=function(A){A===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},l.Deflate=x,l.deflate=E,l.deflateRaw=function(A,b){return(b=b||{}).raw=!0,E(A,b)},l.gzip=function(A,b){return(b=b||{}).gzip=!0,E(A,b)}},380:(f,l,u)=>{var c=u(20),g=u(761),y=u(944),m=u(271),_=u(950),p=u(744),x=u(357),E=Object.prototype.toString;function A(k){if(!(this instanceof A))return new A(k);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},k||{});var S=this.options;S.raw&&S.windowBits>=0&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(S.windowBits>=0&&S.windowBits<16)||k&&k.windowBits||(S.windowBits+=32),S.windowBits>15&&S.windowBits<48&&!(15&S.windowBits)&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var T=c.inflateInit2(this.strm,S.windowBits);if(T!==m.Z_OK)throw new Error(_[T]);if(this.header=new x,c.inflateGetHeader(this.strm,this.header),S.dictionary&&(typeof S.dictionary=="string"?S.dictionary=y.string2buf(S.dictionary):E.call(S.dictionary)==="[object ArrayBuffer]"&&(S.dictionary=new Uint8Array(S.dictionary)),S.raw&&(T=c.inflateSetDictionary(this.strm,S.dictionary))!==m.Z_OK))throw new Error(_[T])}function b(k,S){var T=new A(S);if(T.push(k,!0),T.err)throw T.msg||_[T.err];return T.result}A.prototype.push=function(k,S){var T,P,C,M,j,I=this.strm,O=this.options.chunkSize,R=this.options.dictionary,D=!1;if(this.ended)return!1;P=S===~~S?S:S===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof k=="string"?I.input=y.binstring2buf(k):E.call(k)==="[object ArrayBuffer]"?I.input=new Uint8Array(k):I.input=k,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new g.Buf8(O),I.next_out=0,I.avail_out=O),(T=c.inflate(I,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&R&&(T=c.inflateSetDictionary(this.strm,R)),T===m.Z_BUF_ERROR&&D===!0&&(T=m.Z_OK,D=!1),T!==m.Z_STREAM_END&&T!==m.Z_OK)return this.onEnd(T),this.ended=!0,!1;I.next_out&&(I.avail_out!==0&&T!==m.Z_STREAM_END&&(I.avail_in!==0||P!==m.Z_FINISH&&P!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=y.utf8border(I.output,I.next_out),M=I.next_out-C,j=y.buf2string(I.output,C),I.next_out=M,I.avail_out=O-M,M&&g.arraySet(I.output,I.output,C,M,0),this.onData(j)):this.onData(g.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(D=!0)}while((I.avail_in>0||I.avail_out===0)&&T!==m.Z_STREAM_END);return T===m.Z_STREAM_END&&(P=m.Z_FINISH),P===m.Z_FINISH?(T=c.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===m.Z_OK):P!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),I.avail_out=0,!0)},A.prototype.onData=function(k){this.chunks.push(k)},A.prototype.onEnd=function(k){k===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},l.Inflate=A,l.inflate=b,l.inflateRaw=function(k,S){return(S=S||{}).raw=!0,b(k,S)},l.ungzip=b},761:(f,l)=>{var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(m,_){return Object.prototype.hasOwnProperty.call(m,_)}l.assign=function(m){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var p=_.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var x in p)c(p,x)&&(m[x]=p[x])}}return m},l.shrinkBuf=function(m,_){return m.length===_?m:m.subarray?m.subarray(0,_):(m.length=_,m)};var g={arraySet:function(m,_,p,x,E){if(_.subarray&&m.subarray)m.set(_.subarray(p,p+x),E);else for(var A=0;A<x;A++)m[E+A]=_[p+A]},flattenChunks:function(m){var _,p,x,E,A,b;for(x=0,_=0,p=m.length;_<p;_++)x+=m[_].length;for(b=new Uint8Array(x),E=0,_=0,p=m.length;_<p;_++)A=m[_],b.set(A,E),E+=A.length;return b}},y={arraySet:function(m,_,p,x,E){for(var A=0;A<x;A++)m[E+A]=_[p+A]},flattenChunks:function(m){return[].concat.apply([],m)}};l.setTyped=function(m){m?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,g)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,y))},l.setTyped(u)},944:(f,l,u)=>{var c=u(761),g=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var m=new c.Buf8(256),_=0;_<256;_++)m[_]=_>=252?6:_>=248?5:_>=240?4:_>=224?3:_>=192?2:1;function p(x,E){if(E<65534&&(x.subarray&&y||!x.subarray&&g))return String.fromCharCode.apply(null,c.shrinkBuf(x,E));for(var A="",b=0;b<E;b++)A+=String.fromCharCode(x[b]);return A}m[254]=m[254]=1,l.string2buf=function(x){var E,A,b,k,S,T=x.length,P=0;for(k=0;k<T;k++)(64512&(A=x.charCodeAt(k)))==55296&&k+1<T&&(64512&(b=x.charCodeAt(k+1)))==56320&&(A=65536+(A-55296<<10)+(b-56320),k++),P+=A<128?1:A<2048?2:A<65536?3:4;for(E=new c.Buf8(P),S=0,k=0;S<P;k++)(64512&(A=x.charCodeAt(k)))==55296&&k+1<T&&(64512&(b=x.charCodeAt(k+1)))==56320&&(A=65536+(A-55296<<10)+(b-56320),k++),A<128?E[S++]=A:A<2048?(E[S++]=192|A>>>6,E[S++]=128|63&A):A<65536?(E[S++]=224|A>>>12,E[S++]=128|A>>>6&63,E[S++]=128|63&A):(E[S++]=240|A>>>18,E[S++]=128|A>>>12&63,E[S++]=128|A>>>6&63,E[S++]=128|63&A);return E},l.buf2binstring=function(x){return p(x,x.length)},l.binstring2buf=function(x){for(var E=new c.Buf8(x.length),A=0,b=E.length;A<b;A++)E[A]=x.charCodeAt(A);return E},l.buf2string=function(x,E){var A,b,k,S,T=E||x.length,P=new Array(2*T);for(b=0,A=0;A<T;)if((k=x[A++])<128)P[b++]=k;else if((S=m[k])>4)P[b++]=65533,A+=S-1;else{for(k&=S===2?31:S===3?15:7;S>1&&A<T;)k=k<<6|63&x[A++],S--;S>1?P[b++]=65533:k<65536?P[b++]=k:(k-=65536,P[b++]=55296|k>>10&1023,P[b++]=56320|1023&k)}return p(P,b)},l.utf8border=function(x,E){var A;for((E=E||x.length)>x.length&&(E=x.length),A=E-1;A>=0&&(192&x[A])==128;)A--;return A<0||A===0?E:A+m[x[A]]>E?A:E}},562:f=>{f.exports=function(l,u,c,g){for(var y=65535&l|0,m=l>>>16&65535|0,_=0;c!==0;){c-=_=c>2e3?2e3:c;do m=m+(y=y+u[g++]|0)|0;while(--_);y%=65521,m%=65521}return y|m<<16|0}},271:f=>{f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},299:f=>{var l=function(){for(var u,c=[],g=0;g<256;g++){u=g;for(var y=0;y<8;y++)u=1&u?3988292384^u>>>1:u>>>1;c[g]=u}return c}();f.exports=function(u,c,g,y){var m=l,_=y+g;u^=-1;for(var p=y;p<_;p++)u=u>>>8^m[255&(u^c[p])];return-1^u}},789:(f,l,u)=>{var c,g=u(761),y=u(564),m=u(562),_=u(299),p=u(950),x=-2,E=258,A=262,b=103,k=113,S=666;function T(L,G){return L.msg=p[G],G}function P(L){return(L<<1)-(L>4?9:0)}function C(L){for(var G=L.length;--G>=0;)L[G]=0}function M(L){var G=L.state,J=G.pending;J>L.avail_out&&(J=L.avail_out),J!==0&&(g.arraySet(L.output,G.pending_buf,G.pending_out,J,L.next_out),L.next_out+=J,G.pending_out+=J,L.total_out+=J,L.avail_out-=J,G.pending-=J,G.pending===0&&(G.pending_out=0))}function j(L,G){y.h(L,L.block_start>=0?L.block_start:-1,L.strstart-L.block_start,G),L.block_start=L.strstart,M(L.strm)}function I(L,G){L.pending_buf[L.pending++]=G}function O(L,G){L.pending_buf[L.pending++]=G>>>8&255,L.pending_buf[L.pending++]=255&G}function R(L,G){var J,B,Y=L.max_chain_length,ie=L.strstart,ne=L.prev_length,Z=L.nice_match,H=L.strstart>L.w_size-A?L.strstart-(L.w_size-A):0,z=L.window,ee=L.w_mask,se=L.prev,le=L.strstart+E,ue=z[ie+ne-1],_e=z[ie+ne];L.prev_length>=L.good_match&&(Y>>=2),Z>L.lookahead&&(Z=L.lookahead);do if(z[(J=G)+ne]===_e&&z[J+ne-1]===ue&&z[J]===z[ie]&&z[++J]===z[ie+1]){ie+=2,J++;do;while(z[++ie]===z[++J]&&z[++ie]===z[++J]&&z[++ie]===z[++J]&&z[++ie]===z[++J]&&z[++ie]===z[++J]&&z[++ie]===z[++J]&&z[++ie]===z[++J]&&z[++ie]===z[++J]&&ie<le);if(B=E-(le-ie),ie=le-E,B>ne){if(L.match_start=G,ne=B,B>=Z)break;ue=z[ie+ne-1],_e=z[ie+ne]}}while((G=se[G&ee])>H&&--Y!=0);return ne<=L.lookahead?ne:L.lookahead}function D(L){var G,J,B,Y,ie,ne,Z,H,z,ee,se=L.w_size;do{if(Y=L.window_size-L.lookahead-L.strstart,L.strstart>=se+(se-A)){g.arraySet(L.window,L.window,se,se,0),L.match_start-=se,L.strstart-=se,L.block_start-=se,G=J=L.hash_size;do B=L.head[--G],L.head[G]=B>=se?B-se:0;while(--J);G=J=se;do B=L.prev[--G],L.prev[G]=B>=se?B-se:0;while(--J);Y+=se}if(L.strm.avail_in===0)break;if(ne=L.strm,Z=L.window,H=L.strstart+L.lookahead,z=Y,ee=void 0,(ee=ne.avail_in)>z&&(ee=z),J=ee===0?0:(ne.avail_in-=ee,g.arraySet(Z,ne.input,ne.next_in,ee,H),ne.state.wrap===1?ne.adler=m(ne.adler,Z,ee,H):ne.state.wrap===2&&(ne.adler=_(ne.adler,Z,ee,H)),ne.next_in+=ee,ne.total_in+=ee,ee),L.lookahead+=J,L.lookahead+L.insert>=3)for(ie=L.strstart-L.insert,L.ins_h=L.window[ie],L.ins_h=(L.ins_h<<L.hash_shift^L.window[ie+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[ie+3-1])&L.hash_mask,L.prev[ie&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=ie,ie++,L.insert--,!(L.lookahead+L.insert<3)););}while(L.lookahead<A&&L.strm.avail_in!==0)}function N(L,G){for(var J,B;;){if(L.lookahead<A){if(D(L),L.lookahead<A&&G===0)return 1;if(L.lookahead===0)break}if(J=0,L.lookahead>=3&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,J=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),J!==0&&L.strstart-J<=L.w_size-A&&(L.match_length=R(L,J)),L.match_length>=3)if(B=y.l(L,L.strstart-L.match_start,L.match_length-3),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=3){L.match_length--;do L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,J=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart;while(--L.match_length!=0);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else B=y.l(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(B&&(j(L,!1),L.strm.avail_out===0))return 1}return L.insert=L.strstart<2?L.strstart:2,G===4?(j(L,!0),L.strm.avail_out===0?3:4):L.last_lit&&(j(L,!1),L.strm.avail_out===0)?1:2}function U(L,G){for(var J,B,Y;;){if(L.lookahead<A){if(D(L),L.lookahead<A&&G===0)return 1;if(L.lookahead===0)break}if(J=0,L.lookahead>=3&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,J=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=2,J!==0&&L.prev_length<L.max_lazy_match&&L.strstart-J<=L.w_size-A&&(L.match_length=R(L,J),L.match_length<=5&&(L.strategy===1||L.match_length===3&&L.strstart-L.match_start>4096)&&(L.match_length=2)),L.prev_length>=3&&L.match_length<=L.prev_length){Y=L.strstart+L.lookahead-3,B=y.l(L,L.strstart-1-L.prev_match,L.prev_length-3),L.lookahead-=L.prev_length-1,L.prev_length-=2;do++L.strstart<=Y&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+3-1])&L.hash_mask,J=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart);while(--L.prev_length!=0);if(L.match_available=0,L.match_length=2,L.strstart++,B&&(j(L,!1),L.strm.avail_out===0))return 1}else if(L.match_available){if((B=y.l(L,0,L.window[L.strstart-1]))&&j(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return 1}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(B=y.l(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<2?L.strstart:2,G===4?(j(L,!0),L.strm.avail_out===0?3:4):L.last_lit&&(j(L,!1),L.strm.avail_out===0)?1:2}function X(L,G,J,B,Y){this.good_length=L,this.max_lazy=G,this.nice_length=J,this.max_chain=B,this.func=Y}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),C(this.dyn_ltree),C(this.dyn_dtree),C(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),C(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),C(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(L){var G;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=2,(G=L.state).pending=0,G.pending_out=0,G.wrap<0&&(G.wrap=-G.wrap),G.status=G.wrap?42:k,L.adler=G.wrap===2?0:1,G.last_flush=0,y.p(G),0):T(L,x)}function W(L){var G,J=K(L);return J===0&&((G=L.state).window_size=2*G.w_size,C(G.head),G.max_lazy_match=c[G.level].max_lazy,G.good_match=c[G.level].good_length,G.nice_match=c[G.level].nice_length,G.max_chain_length=c[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=2,G.match_available=0,G.ins_h=0),J}function Q(L,G,J,B,Y,ie){if(!L)return x;var ne=1;if(G===-1&&(G=6),B<0?(ne=0,B=-B):B>15&&(ne=2,B-=16),Y<1||Y>9||J!==8||B<8||B>15||G<0||G>9||ie<0||ie>4)return T(L,x);B===8&&(B=9);var Z=new V;return L.state=Z,Z.strm=L,Z.wrap=ne,Z.gzhead=null,Z.w_bits=B,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=Y+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+3-1)/3),Z.window=new g.Buf8(2*Z.w_size),Z.head=new g.Buf16(Z.hash_size),Z.prev=new g.Buf16(Z.w_size),Z.lit_bufsize=1<<Y+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new g.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=G,Z.strategy=ie,Z.method=J,W(L)}c=[new X(0,0,0,0,function(L,G){var J=65535;for(J>L.pending_buf_size-5&&(J=L.pending_buf_size-5);;){if(L.lookahead<=1){if(D(L),L.lookahead===0&&G===0)return 1;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var B=L.block_start+J;if((L.strstart===0||L.strstart>=B)&&(L.lookahead=L.strstart-B,L.strstart=B,j(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-A&&(j(L,!1),L.strm.avail_out===0))return 1}return L.insert=0,G===4?(j(L,!0),L.strm.avail_out===0?3:4):(L.strstart>L.block_start&&(j(L,!1),L.strm.avail_out),1)}),new X(4,4,8,4,N),new X(4,5,16,8,N),new X(4,6,32,32,N),new X(4,4,16,16,U),new X(8,16,32,32,U),new X(8,16,128,128,U),new X(8,32,128,256,U),new X(32,128,258,1024,U),new X(32,258,258,4096,U)],l.deflateInit=function(L,G){return Q(L,G,8,15,8,0)},l.deflateInit2=Q,l.deflateReset=W,l.deflateResetKeep=K,l.deflateSetHeader=function(L,G){return L&&L.state?L.state.wrap!==2?x:(L.state.gzhead=G,0):x},l.deflate=function(L,G){var J,B,Y,ie;if(!L||!L.state||G>5||G<0)return L?T(L,x):x;if(B=L.state,!L.output||!L.input&&L.avail_in!==0||B.status===S&&G!==4)return T(L,L.avail_out===0?-5:x);if(B.strm=L,J=B.last_flush,B.last_flush=G,B.status===42)if(B.wrap===2)L.adler=0,I(B,31),I(B,139),I(B,8),B.gzhead?(I(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),I(B,255&B.gzhead.time),I(B,B.gzhead.time>>8&255),I(B,B.gzhead.time>>16&255),I(B,B.gzhead.time>>24&255),I(B,B.level===9?2:B.strategy>=2||B.level<2?4:0),I(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(I(B,255&B.gzhead.extra.length),I(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(L.adler=_(L.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(I(B,0),I(B,0),I(B,0),I(B,0),I(B,0),I(B,B.level===9?2:B.strategy>=2||B.level<2?4:0),I(B,3),B.status=k);else{var ne=8+(B.w_bits-8<<4)<<8;ne|=(B.strategy>=2||B.level<2?0:B.level<6?1:B.level===6?2:3)<<6,B.strstart!==0&&(ne|=32),ne+=31-ne%31,B.status=k,O(B,ne),B.strstart!==0&&(O(B,L.adler>>>16),O(B,65535&L.adler)),L.adler=1}if(B.status===69)if(B.gzhead.extra){for(Y=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>Y&&(L.adler=_(L.adler,B.pending_buf,B.pending-Y,Y)),M(L),Y=B.pending,B.pending!==B.pending_buf_size));)I(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>Y&&(L.adler=_(L.adler,B.pending_buf,B.pending-Y,Y)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(B.status===73)if(B.gzhead.name){Y=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>Y&&(L.adler=_(L.adler,B.pending_buf,B.pending-Y,Y)),M(L),Y=B.pending,B.pending===B.pending_buf_size)){ie=1;break}ie=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,I(B,ie)}while(ie!==0);B.gzhead.hcrc&&B.pending>Y&&(L.adler=_(L.adler,B.pending_buf,B.pending-Y,Y)),ie===0&&(B.gzindex=0,B.status=91)}else B.status=91;if(B.status===91)if(B.gzhead.comment){Y=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>Y&&(L.adler=_(L.adler,B.pending_buf,B.pending-Y,Y)),M(L),Y=B.pending,B.pending===B.pending_buf_size)){ie=1;break}ie=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,I(B,ie)}while(ie!==0);B.gzhead.hcrc&&B.pending>Y&&(L.adler=_(L.adler,B.pending_buf,B.pending-Y,Y)),ie===0&&(B.status=b)}else B.status=b;if(B.status===b&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&M(L),B.pending+2<=B.pending_buf_size&&(I(B,255&L.adler),I(B,L.adler>>8&255),L.adler=0,B.status=k)):B.status=k),B.pending!==0){if(M(L),L.avail_out===0)return B.last_flush=-1,0}else if(L.avail_in===0&&P(G)<=P(J)&&G!==4)return T(L,-5);if(B.status===S&&L.avail_in!==0)return T(L,-5);if(L.avail_in!==0||B.lookahead!==0||G!==0&&B.status!==S){var Z=B.strategy===2?function(H,z){for(var ee;;){if(H.lookahead===0&&(D(H),H.lookahead===0)){if(z===0)return 1;break}if(H.match_length=0,ee=y.l(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,ee&&(j(H,!1),H.strm.avail_out===0))return 1}return H.insert=0,z===4?(j(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(j(H,!1),H.strm.avail_out===0)?1:2}(B,G):B.strategy===3?function(H,z){for(var ee,se,le,ue,_e=H.window;;){if(H.lookahead<=E){if(D(H),H.lookahead<=E&&z===0)return 1;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=3&&H.strstart>0&&(se=_e[le=H.strstart-1])===_e[++le]&&se===_e[++le]&&se===_e[++le]){ue=H.strstart+E;do;while(se===_e[++le]&&se===_e[++le]&&se===_e[++le]&&se===_e[++le]&&se===_e[++le]&&se===_e[++le]&&se===_e[++le]&&se===_e[++le]&&le<ue);H.match_length=E-(ue-le),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=3?(ee=y.l(H,1,H.match_length-3),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(ee=y.l(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),ee&&(j(H,!1),H.strm.avail_out===0))return 1}return H.insert=0,z===4?(j(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(j(H,!1),H.strm.avail_out===0)?1:2}(B,G):c[B.level].func(B,G);if(Z!==3&&Z!==4||(B.status=S),Z===1||Z===3)return L.avail_out===0&&(B.last_flush=-1),0;if(Z===2&&(G===1?y.g(B):G!==5&&(y.m(B,0,0,!1),G===3&&(C(B.head),B.lookahead===0&&(B.strstart=0,B.block_start=0,B.insert=0))),M(L),L.avail_out===0))return B.last_flush=-1,0}return G!==4?0:B.wrap<=0?1:(B.wrap===2?(I(B,255&L.adler),I(B,L.adler>>8&255),I(B,L.adler>>16&255),I(B,L.adler>>24&255),I(B,255&L.total_in),I(B,L.total_in>>8&255),I(B,L.total_in>>16&255),I(B,L.total_in>>24&255)):(O(B,L.adler>>>16),O(B,65535&L.adler)),M(L),B.wrap>0&&(B.wrap=-B.wrap),B.pending!==0?0:1)},l.deflateEnd=function(L){var G;return L&&L.state?(G=L.state.status)!==42&&G!==69&&G!==73&&G!==91&&G!==b&&G!==k&&G!==S?T(L,x):(L.state=null,G===k?T(L,-3):0):x},l.deflateSetDictionary=function(L,G){var J,B,Y,ie,ne,Z,H,z,ee=G.length;if(!L||!L.state||(ie=(J=L.state).wrap)===2||ie===1&&J.status!==42||J.lookahead)return x;for(ie===1&&(L.adler=m(L.adler,G,ee,0)),J.wrap=0,ee>=J.w_size&&(ie===0&&(C(J.head),J.strstart=0,J.block_start=0,J.insert=0),z=new g.Buf8(J.w_size),g.arraySet(z,G,ee-J.w_size,J.w_size,0),G=z,ee=J.w_size),ne=L.avail_in,Z=L.next_in,H=L.input,L.avail_in=ee,L.next_in=0,L.input=G,D(J);J.lookahead>=3;){B=J.strstart,Y=J.lookahead-2;do J.ins_h=(J.ins_h<<J.hash_shift^J.window[B+3-1])&J.hash_mask,J.prev[B&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=B,B++;while(--Y);J.strstart=B,J.lookahead=2,D(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=2,J.match_available=0,L.next_in=Z,L.input=H,L.avail_in=ne,J.wrap=ie,0},l.deflateInfo="pako deflate (from Nodeca project)"},357:f=>{f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},980:f=>{f.exports=function(l,u){var c,g,y,m,_,p,x,E,A,b,k,S,T,P,C,M,j,I,O,R,D,N,U,X,V;c=l.state,g=l.next_in,X=l.input,y=g+(l.avail_in-5),m=l.next_out,V=l.output,_=m-(u-l.avail_out),p=m+(l.avail_out-257),x=c.dmax,E=c.wsize,A=c.whave,b=c.wnext,k=c.window,S=c.hold,T=c.bits,P=c.lencode,C=c.distcode,M=(1<<c.lenbits)-1,j=(1<<c.distbits)-1;e:do{T<15&&(S+=X[g++]<<T,T+=8,S+=X[g++]<<T,T+=8),I=P[S&M];t:for(;;){if(S>>>=O=I>>>24,T-=O,(O=I>>>16&255)==0)V[m++]=65535&I;else{if(!(16&O)){if(!(64&O)){I=P[(65535&I)+(S&(1<<O)-1)];continue t}if(32&O){c.mode=12;break e}l.msg="invalid literal/length code",c.mode=30;break e}R=65535&I,(O&=15)&&(T<O&&(S+=X[g++]<<T,T+=8),R+=S&(1<<O)-1,S>>>=O,T-=O),T<15&&(S+=X[g++]<<T,T+=8,S+=X[g++]<<T,T+=8),I=C[S&j];r:for(;;){if(S>>>=O=I>>>24,T-=O,!(16&(O=I>>>16&255))){if(!(64&O)){I=C[(65535&I)+(S&(1<<O)-1)];continue r}l.msg="invalid distance code",c.mode=30;break e}if(D=65535&I,T<(O&=15)&&(S+=X[g++]<<T,(T+=8)<O&&(S+=X[g++]<<T,T+=8)),(D+=S&(1<<O)-1)>x){l.msg="invalid distance too far back",c.mode=30;break e}if(S>>>=O,T-=O,D>(O=m-_)){if((O=D-O)>A&&c.sane){l.msg="invalid distance too far back",c.mode=30;break e}if(N=0,U=k,b===0){if(N+=E-O,O<R){R-=O;do V[m++]=k[N++];while(--O);N=m-D,U=V}}else if(b<O){if(N+=E+b-O,(O-=b)<R){R-=O;do V[m++]=k[N++];while(--O);if(N=0,b<R){R-=O=b;do V[m++]=k[N++];while(--O);N=m-D,U=V}}}else if(N+=b-O,O<R){R-=O;do V[m++]=k[N++];while(--O);N=m-D,U=V}for(;R>2;)V[m++]=U[N++],V[m++]=U[N++],V[m++]=U[N++],R-=3;R&&(V[m++]=U[N++],R>1&&(V[m++]=U[N++]))}else{N=m-D;do V[m++]=V[N++],V[m++]=V[N++],V[m++]=V[N++],R-=3;while(R>2);R&&(V[m++]=V[N++],R>1&&(V[m++]=V[N++]))}break}}break}}while(g<y&&m<p);g-=R=T>>3,S&=(1<<(T-=R<<3))-1,l.next_in=g,l.next_out=m,l.avail_in=g<y?y-g+5:5-(g-y),l.avail_out=m<p?p-m+257:257-(m-p),c.hold=S,c.bits=T}},20:(f,l,u)=>{var c=u(761),g=u(562),y=u(299),m=u(980),_=u(881),p=-2,x=12,E=30;function A(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(R){var D;return R&&R.state?(D=R.state,R.total_in=R.total_out=D.total=0,R.msg="",D.wrap&&(R.adler=1&D.wrap),D.mode=1,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new c.Buf32(852),D.distcode=D.distdyn=new c.Buf32(592),D.sane=1,D.back=-1,0):p}function S(R){var D;return R&&R.state?((D=R.state).wsize=0,D.whave=0,D.wnext=0,k(R)):p}function T(R,D){var N,U;return R&&R.state?(U=R.state,D<0?(N=0,D=-D):(N=1+(D>>4),D<48&&(D&=15)),D&&(D<8||D>15)?p:(U.window!==null&&U.wbits!==D&&(U.window=null),U.wrap=N,U.wbits=D,S(R))):p}function P(R,D){var N,U;return R?(U=new b,R.state=U,U.window=null,(N=T(R,D))!==0&&(R.state=null),N):p}var C,M,j=!0;function I(R){if(j){var D;for(C=new c.Buf32(512),M=new c.Buf32(32),D=0;D<144;)R.lens[D++]=8;for(;D<256;)R.lens[D++]=9;for(;D<280;)R.lens[D++]=7;for(;D<288;)R.lens[D++]=8;for(_(1,R.lens,0,288,C,0,R.work,{bits:9}),D=0;D<32;)R.lens[D++]=5;_(2,R.lens,0,32,M,0,R.work,{bits:5}),j=!1}R.lencode=C,R.lenbits=9,R.distcode=M,R.distbits=5}function O(R,D,N,U){var X,V=R.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new c.Buf8(V.wsize)),U>=V.wsize?(c.arraySet(V.window,D,N-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):((X=V.wsize-V.wnext)>U&&(X=U),c.arraySet(V.window,D,N-U,X,V.wnext),(U-=X)?(c.arraySet(V.window,D,N-U,U,0),V.wnext=U,V.whave=V.wsize):(V.wnext+=X,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=X))),0}l.inflateReset=S,l.inflateReset2=T,l.inflateResetKeep=k,l.inflateInit=function(R){return P(R,15)},l.inflateInit2=P,l.inflate=function(R,D){var N,U,X,V,K,W,Q,L,G,J,B,Y,ie,ne,Z,H,z,ee,se,le,ue,_e,Te,me,Se=0,ve=new c.Buf8(4),fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return p;(N=R.state).mode===x&&(N.mode=13),K=R.next_out,X=R.output,Q=R.avail_out,V=R.next_in,U=R.input,W=R.avail_in,L=N.hold,G=N.bits,J=W,B=Q,_e=0;e:for(;;)switch(N.mode){case 1:if(N.wrap===0){N.mode=13;break}for(;G<16;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if(2&N.wrap&&L===35615){N.check=0,ve[0]=255&L,ve[1]=L>>>8&255,N.check=y(N.check,ve,2,0),L=0,G=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&L)<<8)+(L>>8))%31){R.msg="incorrect header check",N.mode=E;break}if((15&L)!=8){R.msg="unknown compression method",N.mode=E;break}if(G-=4,ue=8+(15&(L>>>=4)),N.wbits===0)N.wbits=ue;else if(ue>N.wbits){R.msg="invalid window size",N.mode=E;break}N.dmax=1<<ue,R.adler=N.check=1,N.mode=512&L?10:x,L=0,G=0;break;case 2:for(;G<16;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if(N.flags=L,(255&N.flags)!=8){R.msg="unknown compression method",N.mode=E;break}if(57344&N.flags){R.msg="unknown header flags set",N.mode=E;break}N.head&&(N.head.text=L>>8&1),512&N.flags&&(ve[0]=255&L,ve[1]=L>>>8&255,N.check=y(N.check,ve,2,0)),L=0,G=0,N.mode=3;case 3:for(;G<32;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}N.head&&(N.head.time=L),512&N.flags&&(ve[0]=255&L,ve[1]=L>>>8&255,ve[2]=L>>>16&255,ve[3]=L>>>24&255,N.check=y(N.check,ve,4,0)),L=0,G=0,N.mode=4;case 4:for(;G<16;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}N.head&&(N.head.xflags=255&L,N.head.os=L>>8),512&N.flags&&(ve[0]=255&L,ve[1]=L>>>8&255,N.check=y(N.check,ve,2,0)),L=0,G=0,N.mode=5;case 5:if(1024&N.flags){for(;G<16;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}N.length=L,N.head&&(N.head.extra_len=L),512&N.flags&&(ve[0]=255&L,ve[1]=L>>>8&255,N.check=y(N.check,ve,2,0)),L=0,G=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&((Y=N.length)>W&&(Y=W),Y&&(N.head&&(ue=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),c.arraySet(N.head.extra,U,V,Y,ue)),512&N.flags&&(N.check=y(N.check,U,Y,V)),W-=Y,V+=Y,N.length-=Y),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(W===0)break e;Y=0;do ue=U[V+Y++],N.head&&ue&&N.length<65536&&(N.head.name+=String.fromCharCode(ue));while(ue&&Y<W);if(512&N.flags&&(N.check=y(N.check,U,Y,V)),W-=Y,V+=Y,ue)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(W===0)break e;Y=0;do ue=U[V+Y++],N.head&&ue&&N.length<65536&&(N.head.comment+=String.fromCharCode(ue));while(ue&&Y<W);if(512&N.flags&&(N.check=y(N.check,U,Y,V)),W-=Y,V+=Y,ue)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;G<16;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if(L!==(65535&N.check)){R.msg="header crc mismatch",N.mode=E;break}L=0,G=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),R.adler=N.check=0,N.mode=x;break;case 10:for(;G<32;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}R.adler=N.check=A(L),L=0,G=0,N.mode=11;case 11:if(N.havedict===0)return R.next_out=K,R.avail_out=Q,R.next_in=V,R.avail_in=W,N.hold=L,N.bits=G,2;R.adler=N.check=1,N.mode=x;case x:if(D===5||D===6)break e;case 13:if(N.last){L>>>=7&G,G-=7&G,N.mode=27;break}for(;G<3;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}switch(N.last=1&L,G-=1,3&(L>>>=1)){case 0:N.mode=14;break;case 1:if(I(N),N.mode=20,D===6){L>>>=2,G-=2;break e}break;case 2:N.mode=17;break;case 3:R.msg="invalid block type",N.mode=E}L>>>=2,G-=2;break;case 14:for(L>>>=7&G,G-=7&G;G<32;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if((65535&L)!=(L>>>16^65535)){R.msg="invalid stored block lengths",N.mode=E;break}if(N.length=65535&L,L=0,G=0,N.mode=15,D===6)break e;case 15:N.mode=16;case 16:if(Y=N.length){if(Y>W&&(Y=W),Y>Q&&(Y=Q),Y===0)break e;c.arraySet(X,U,V,Y,K),W-=Y,V+=Y,Q-=Y,K+=Y,N.length-=Y;break}N.mode=x;break;case 17:for(;G<14;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if(N.nlen=257+(31&L),L>>>=5,G-=5,N.ndist=1+(31&L),L>>>=5,G-=5,N.ncode=4+(15&L),L>>>=4,G-=4,N.nlen>286||N.ndist>30){R.msg="too many length or distance symbols",N.mode=E;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;G<3;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}N.lens[fe[N.have++]]=7&L,L>>>=3,G-=3}for(;N.have<19;)N.lens[fe[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,Te={bits:N.lenbits},_e=_(0,N.lens,0,19,N.lencode,0,N.work,Te),N.lenbits=Te.bits,_e){R.msg="invalid code lengths set",N.mode=E;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;H=(Se=N.lencode[L&(1<<N.lenbits)-1])>>>16&255,z=65535&Se,!((Z=Se>>>24)<=G);){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if(z<16)L>>>=Z,G-=Z,N.lens[N.have++]=z;else{if(z===16){for(me=Z+2;G<me;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if(L>>>=Z,G-=Z,N.have===0){R.msg="invalid bit length repeat",N.mode=E;break}ue=N.lens[N.have-1],Y=3+(3&L),L>>>=2,G-=2}else if(z===17){for(me=Z+3;G<me;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}G-=Z,ue=0,Y=3+(7&(L>>>=Z)),L>>>=3,G-=3}else{for(me=Z+7;G<me;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}G-=Z,ue=0,Y=11+(127&(L>>>=Z)),L>>>=7,G-=7}if(N.have+Y>N.nlen+N.ndist){R.msg="invalid bit length repeat",N.mode=E;break}for(;Y--;)N.lens[N.have++]=ue}}if(N.mode===E)break;if(N.lens[256]===0){R.msg="invalid code -- missing end-of-block",N.mode=E;break}if(N.lenbits=9,Te={bits:N.lenbits},_e=_(1,N.lens,0,N.nlen,N.lencode,0,N.work,Te),N.lenbits=Te.bits,_e){R.msg="invalid literal/lengths set",N.mode=E;break}if(N.distbits=6,N.distcode=N.distdyn,Te={bits:N.distbits},_e=_(2,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,Te),N.distbits=Te.bits,_e){R.msg="invalid distances set",N.mode=E;break}if(N.mode=20,D===6)break e;case 20:N.mode=21;case 21:if(W>=6&&Q>=258){R.next_out=K,R.avail_out=Q,R.next_in=V,R.avail_in=W,N.hold=L,N.bits=G,m(R,B),K=R.next_out,X=R.output,Q=R.avail_out,V=R.next_in,U=R.input,W=R.avail_in,L=N.hold,G=N.bits,N.mode===x&&(N.back=-1);break}for(N.back=0;H=(Se=N.lencode[L&(1<<N.lenbits)-1])>>>16&255,z=65535&Se,!((Z=Se>>>24)<=G);){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if(H&&!(240&H)){for(ee=Z,se=H,le=z;H=(Se=N.lencode[le+((L&(1<<ee+se)-1)>>ee)])>>>16&255,z=65535&Se,!(ee+(Z=Se>>>24)<=G);){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}L>>>=ee,G-=ee,N.back+=ee}if(L>>>=Z,G-=Z,N.back+=Z,N.length=z,H===0){N.mode=26;break}if(32&H){N.back=-1,N.mode=x;break}if(64&H){R.msg="invalid literal/length code",N.mode=E;break}N.extra=15&H,N.mode=22;case 22:if(N.extra){for(me=N.extra;G<me;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}N.length+=L&(1<<N.extra)-1,L>>>=N.extra,G-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;H=(Se=N.distcode[L&(1<<N.distbits)-1])>>>16&255,z=65535&Se,!((Z=Se>>>24)<=G);){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if(!(240&H)){for(ee=Z,se=H,le=z;H=(Se=N.distcode[le+((L&(1<<ee+se)-1)>>ee)])>>>16&255,z=65535&Se,!(ee+(Z=Se>>>24)<=G);){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}L>>>=ee,G-=ee,N.back+=ee}if(L>>>=Z,G-=Z,N.back+=Z,64&H){R.msg="invalid distance code",N.mode=E;break}N.offset=z,N.extra=15&H,N.mode=24;case 24:if(N.extra){for(me=N.extra;G<me;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}N.offset+=L&(1<<N.extra)-1,L>>>=N.extra,G-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){R.msg="invalid distance too far back",N.mode=E;break}N.mode=25;case 25:if(Q===0)break e;if(Y=B-Q,N.offset>Y){if((Y=N.offset-Y)>N.whave&&N.sane){R.msg="invalid distance too far back",N.mode=E;break}Y>N.wnext?(Y-=N.wnext,ie=N.wsize-Y):ie=N.wnext-Y,Y>N.length&&(Y=N.length),ne=N.window}else ne=X,ie=K-N.offset,Y=N.length;Y>Q&&(Y=Q),Q-=Y,N.length-=Y;do X[K++]=ne[ie++];while(--Y);N.length===0&&(N.mode=21);break;case 26:if(Q===0)break e;X[K++]=N.length,Q--,N.mode=21;break;case 27:if(N.wrap){for(;G<32;){if(W===0)break e;W--,L|=U[V++]<<G,G+=8}if(B-=Q,R.total_out+=B,N.total+=B,B&&(R.adler=N.check=N.flags?y(N.check,X,B,K-B):g(N.check,X,B,K-B)),B=Q,(N.flags?L:A(L))!==N.check){R.msg="incorrect data check",N.mode=E;break}L=0,G=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;G<32;){if(W===0)break e;W--,L+=U[V++]<<G,G+=8}if(L!==(4294967295&N.total)){R.msg="incorrect length check",N.mode=E;break}L=0,G=0}N.mode=29;case 29:_e=1;break e;case E:_e=-3;break e;case 31:return-4;default:return p}return R.next_out=K,R.avail_out=Q,R.next_in=V,R.avail_in=W,N.hold=L,N.bits=G,(N.wsize||B!==R.avail_out&&N.mode<E&&(N.mode<27||D!==4))&&O(R,R.output,R.next_out,B-R.avail_out)?(N.mode=31,-4):(J-=R.avail_in,B-=R.avail_out,R.total_in+=J,R.total_out+=B,N.total+=B,N.wrap&&B&&(R.adler=N.check=N.flags?y(N.check,X,B,R.next_out-B):g(N.check,X,B,R.next_out-B)),R.data_type=N.bits+(N.last?64:0)+(N.mode===x?128:0)+(N.mode===20||N.mode===15?256:0),(J===0&&B===0||D===4)&&_e===0&&(_e=-5),_e)},l.inflateEnd=function(R){if(!R||!R.state)return p;var D=R.state;return D.window&&(D.window=null),R.state=null,0},l.inflateGetHeader=function(R,D){var N;return R&&R.state&&2&(N=R.state).wrap?(N.head=D,D.done=!1,0):p},l.inflateSetDictionary=function(R,D){var N,U=D.length;return R&&R.state?(N=R.state).wrap!==0&&N.mode!==11?p:N.mode===11&&g(1,D,U,0)!==N.check?-3:O(R,D,U,U)?(N.mode=31,-4):(N.havedict=1,0):p},l.inflateInfo="pako inflate (from Nodeca project)"},881:(f,l,u)=>{var c=u(761),g=15,y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(x,E,A,b,k,S,T,P){var C,M,j,I,O,R,D,N,U,X=P.bits,V=0,K=0,W=0,Q=0,L=0,G=0,J=0,B=0,Y=0,ie=0,ne=null,Z=0,H=new c.Buf16(16),z=new c.Buf16(16),ee=null,se=0;for(V=0;V<=g;V++)H[V]=0;for(K=0;K<b;K++)H[E[A+K]]++;for(L=X,Q=g;Q>=1&&H[Q]===0;Q--);if(L>Q&&(L=Q),Q===0)return k[S++]=20971520,k[S++]=20971520,P.bits=1,0;for(W=1;W<Q&&H[W]===0;W++);for(L<W&&(L=W),B=1,V=1;V<=g;V++)if(B<<=1,(B-=H[V])<0)return-1;if(B>0&&(x===0||Q!==1))return-1;for(z[1]=0,V=1;V<g;V++)z[V+1]=z[V]+H[V];for(K=0;K<b;K++)E[A+K]!==0&&(T[z[E[A+K]]++]=K);if(x===0?(ne=ee=T,R=19):x===1?(ne=y,Z-=257,ee=m,se-=257,R=256):(ne=_,ee=p,R=-1),ie=0,K=0,V=W,O=S,G=L,J=0,j=-1,I=(Y=1<<L)-1,x===1&&Y>852||x===2&&Y>592)return 1;for(;;){D=V-J,T[K]<R?(N=0,U=T[K]):T[K]>R?(N=ee[se+T[K]],U=ne[Z+T[K]]):(N=96,U=0),C=1<<V-J,W=M=1<<G;do k[O+(ie>>J)+(M-=C)]=D<<24|N<<16|U|0;while(M!==0);for(C=1<<V-1;ie&C;)C>>=1;if(C!==0?(ie&=C-1,ie+=C):ie=0,K++,--H[V]==0){if(V===Q)break;V=E[A+T[K]]}if(V>L&&(ie&I)!==j){for(J===0&&(J=L),O+=W,B=1<<(G=V-J);G+J<Q&&!((B-=H[G+J])<=0);)G++,B<<=1;if(Y+=1<<G,x===1&&Y>852||x===2&&Y>592)return 1;k[j=ie&I]=L<<24|G<<16|O-S|0}}return ie!==0&&(k[O+ie]=V-J<<24|4194304|0),P.bits=L,0}},950:f=>{f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},564:(f,l,u)=>{var c=u(761);function g(z){for(var ee=z.length;--ee>=0;)z[ee]=0}var y=256,m=286,_=30,p=15,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(576);g(k);var S=new Array(60);g(S);var T=new Array(512);g(T);var P=new Array(256);g(P);var C=new Array(29);g(C);var M,j,I,O=new Array(_);function R(z,ee,se,le,ue){this.static_tree=z,this.extra_bits=ee,this.extra_base=se,this.elems=le,this.max_length=ue,this.has_stree=z&&z.length}function D(z,ee){this.dyn_tree=z,this.max_code=0,this.stat_desc=ee}function N(z){return z<256?T[z]:T[256+(z>>>7)]}function U(z,ee){z.pending_buf[z.pending++]=255&ee,z.pending_buf[z.pending++]=ee>>>8&255}function X(z,ee,se){z.bi_valid>16-se?(z.bi_buf|=ee<<z.bi_valid&65535,U(z,z.bi_buf),z.bi_buf=ee>>16-z.bi_valid,z.bi_valid+=se-16):(z.bi_buf|=ee<<z.bi_valid&65535,z.bi_valid+=se)}function V(z,ee,se){X(z,se[2*ee],se[2*ee+1])}function K(z,ee){var se=0;do se|=1&z,z>>>=1,se<<=1;while(--ee>0);return se>>>1}function W(z,ee,se){var le,ue,_e=new Array(16),Te=0;for(le=1;le<=p;le++)_e[le]=Te=Te+se[le-1]<<1;for(ue=0;ue<=ee;ue++){var me=z[2*ue+1];me!==0&&(z[2*ue]=K(_e[me]++,me))}}function Q(z){var ee;for(ee=0;ee<m;ee++)z.dyn_ltree[2*ee]=0;for(ee=0;ee<_;ee++)z.dyn_dtree[2*ee]=0;for(ee=0;ee<19;ee++)z.bl_tree[2*ee]=0;z.dyn_ltree[512]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function L(z){z.bi_valid>8?U(z,z.bi_buf):z.bi_valid>0&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function G(z,ee,se,le){var ue=2*ee,_e=2*se;return z[ue]<z[_e]||z[ue]===z[_e]&&le[ee]<=le[se]}function J(z,ee,se){for(var le=z.heap[se],ue=se<<1;ue<=z.heap_len&&(ue<z.heap_len&&G(ee,z.heap[ue+1],z.heap[ue],z.depth)&&ue++,!G(ee,le,z.heap[ue],z.depth));)z.heap[se]=z.heap[ue],se=ue,ue<<=1;z.heap[se]=le}function B(z,ee,se){var le,ue,_e,Te,me=0;if(z.last_lit!==0)do le=z.pending_buf[z.d_buf+2*me]<<8|z.pending_buf[z.d_buf+2*me+1],ue=z.pending_buf[z.l_buf+me],me++,le===0?V(z,ue,ee):(V(z,(_e=P[ue])+y+1,ee),(Te=x[_e])!==0&&X(z,ue-=C[_e],Te),V(z,_e=N(--le),se),(Te=E[_e])!==0&&X(z,le-=O[_e],Te));while(me<z.last_lit);V(z,256,ee)}function Y(z,ee){var se,le,ue,_e=ee.dyn_tree,Te=ee.stat_desc.static_tree,me=ee.stat_desc.has_stree,Se=ee.stat_desc.elems,ve=-1;for(z.heap_len=0,z.heap_max=573,se=0;se<Se;se++)_e[2*se]!==0?(z.heap[++z.heap_len]=ve=se,z.depth[se]=0):_e[2*se+1]=0;for(;z.heap_len<2;)_e[2*(ue=z.heap[++z.heap_len]=ve<2?++ve:0)]=1,z.depth[ue]=0,z.opt_len--,me&&(z.static_len-=Te[2*ue+1]);for(ee.max_code=ve,se=z.heap_len>>1;se>=1;se--)J(z,_e,se);ue=Se;do se=z.heap[1],z.heap[1]=z.heap[z.heap_len--],J(z,_e,1),le=z.heap[1],z.heap[--z.heap_max]=se,z.heap[--z.heap_max]=le,_e[2*ue]=_e[2*se]+_e[2*le],z.depth[ue]=(z.depth[se]>=z.depth[le]?z.depth[se]:z.depth[le])+1,_e[2*se+1]=_e[2*le+1]=ue,z.heap[1]=ue++,J(z,_e,1);while(z.heap_len>=2);z.heap[--z.heap_max]=z.heap[1],function(fe,ye){var Ae,Ne,re,ae,ce,Ee,xe=ye.dyn_tree,Ie=ye.max_code,Fe=ye.stat_desc.static_tree,Xe=ye.stat_desc.has_stree,Ze=ye.stat_desc.extra_bits,Je=ye.stat_desc.extra_base,Oe=ye.stat_desc.max_length,qe=0;for(ae=0;ae<=p;ae++)fe.bl_count[ae]=0;for(xe[2*fe.heap[fe.heap_max]+1]=0,Ae=fe.heap_max+1;Ae<573;Ae++)(ae=xe[2*xe[2*(Ne=fe.heap[Ae])+1]+1]+1)>Oe&&(ae=Oe,qe++),xe[2*Ne+1]=ae,Ne>Ie||(fe.bl_count[ae]++,ce=0,Ne>=Je&&(ce=Ze[Ne-Je]),Ee=xe[2*Ne],fe.opt_len+=Ee*(ae+ce),Xe&&(fe.static_len+=Ee*(Fe[2*Ne+1]+ce)));if(qe!==0){do{for(ae=Oe-1;fe.bl_count[ae]===0;)ae--;fe.bl_count[ae]--,fe.bl_count[ae+1]+=2,fe.bl_count[Oe]--,qe-=2}while(qe>0);for(ae=Oe;ae!==0;ae--)for(Ne=fe.bl_count[ae];Ne!==0;)(re=fe.heap[--Ae])>Ie||(xe[2*re+1]!==ae&&(fe.opt_len+=(ae-xe[2*re+1])*xe[2*re],xe[2*re+1]=ae),Ne--)}}(z,ee),W(_e,ve,z.bl_count)}function ie(z,ee,se){var le,ue,_e=-1,Te=ee[1],me=0,Se=7,ve=4;for(Te===0&&(Se=138,ve=3),ee[2*(se+1)+1]=65535,le=0;le<=se;le++)ue=Te,Te=ee[2*(le+1)+1],++me<Se&&ue===Te||(me<ve?z.bl_tree[2*ue]+=me:ue!==0?(ue!==_e&&z.bl_tree[2*ue]++,z.bl_tree[32]++):me<=10?z.bl_tree[34]++:z.bl_tree[36]++,me=0,_e=ue,Te===0?(Se=138,ve=3):ue===Te?(Se=6,ve=3):(Se=7,ve=4))}function ne(z,ee,se){var le,ue,_e=-1,Te=ee[1],me=0,Se=7,ve=4;for(Te===0&&(Se=138,ve=3),le=0;le<=se;le++)if(ue=Te,Te=ee[2*(le+1)+1],!(++me<Se&&ue===Te)){if(me<ve)do V(z,ue,z.bl_tree);while(--me!=0);else ue!==0?(ue!==_e&&(V(z,ue,z.bl_tree),me--),V(z,16,z.bl_tree),X(z,me-3,2)):me<=10?(V(z,17,z.bl_tree),X(z,me-3,3)):(V(z,18,z.bl_tree),X(z,me-11,7));me=0,_e=ue,Te===0?(Se=138,ve=3):ue===Te?(Se=6,ve=3):(Se=7,ve=4)}}g(O);var Z=!1;function H(z,ee,se,le){X(z,0+(le?1:0),3),function(ue,_e,Te,me){L(ue),me&&(U(ue,Te),U(ue,~Te)),c.arraySet(ue.pending_buf,ue.window,_e,Te,ue.pending),ue.pending+=Te}(z,ee,se,!0)}l.p=function(z){Z||(function(){var ee,se,le,ue,_e,Te=new Array(16);for(le=0,ue=0;ue<28;ue++)for(C[ue]=le,ee=0;ee<1<<x[ue];ee++)P[le++]=ue;for(P[le-1]=ue,_e=0,ue=0;ue<16;ue++)for(O[ue]=_e,ee=0;ee<1<<E[ue];ee++)T[_e++]=ue;for(_e>>=7;ue<_;ue++)for(O[ue]=_e<<7,ee=0;ee<1<<E[ue]-7;ee++)T[256+_e++]=ue;for(se=0;se<=p;se++)Te[se]=0;for(ee=0;ee<=143;)k[2*ee+1]=8,ee++,Te[8]++;for(;ee<=255;)k[2*ee+1]=9,ee++,Te[9]++;for(;ee<=279;)k[2*ee+1]=7,ee++,Te[7]++;for(;ee<=287;)k[2*ee+1]=8,ee++,Te[8]++;for(W(k,287,Te),ee=0;ee<_;ee++)S[2*ee+1]=5,S[2*ee]=K(ee,5);M=new R(k,x,257,m,p),j=new R(S,E,0,_,p),I=new R(new Array(0),A,0,19,7)}(),Z=!0),z.l_desc=new D(z.dyn_ltree,M),z.d_desc=new D(z.dyn_dtree,j),z.bl_desc=new D(z.bl_tree,I),z.bi_buf=0,z.bi_valid=0,Q(z)},l.m=H,l.h=function(z,ee,se,le){var ue,_e,Te=0;z.level>0?(z.strm.data_type===2&&(z.strm.data_type=function(me){var Se,ve=4093624447;for(Se=0;Se<=31;Se++,ve>>>=1)if(1&ve&&me.dyn_ltree[2*Se]!==0)return 0;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return 1;for(Se=32;Se<y;Se++)if(me.dyn_ltree[2*Se]!==0)return 1;return 0}(z)),Y(z,z.l_desc),Y(z,z.d_desc),Te=function(me){var Se;for(ie(me,me.dyn_ltree,me.l_desc.max_code),ie(me,me.dyn_dtree,me.d_desc.max_code),Y(me,me.bl_desc),Se=18;Se>=3&&me.bl_tree[2*b[Se]+1]===0;Se--);return me.opt_len+=3*(Se+1)+5+5+4,Se}(z),ue=z.opt_len+3+7>>>3,(_e=z.static_len+3+7>>>3)<=ue&&(ue=_e)):ue=_e=se+5,se+4<=ue&&ee!==-1?H(z,ee,se,le):z.strategy===4||_e===ue?(X(z,2+(le?1:0),3),B(z,k,S)):(X(z,4+(le?1:0),3),function(me,Se,ve,fe){var ye;for(X(me,Se-257,5),X(me,ve-1,5),X(me,fe-4,4),ye=0;ye<fe;ye++)X(me,me.bl_tree[2*b[ye]+1],3);ne(me,me.dyn_ltree,Se-1),ne(me,me.dyn_dtree,ve-1)}(z,z.l_desc.max_code+1,z.d_desc.max_code+1,Te+1),B(z,z.dyn_ltree,z.dyn_dtree)),Q(z),le&&L(z)},l.l=function(z,ee,se){return z.pending_buf[z.d_buf+2*z.last_lit]=ee>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&ee,z.pending_buf[z.l_buf+z.last_lit]=255&se,z.last_lit++,ee===0?z.dyn_ltree[2*se]++:(z.matches++,ee--,z.dyn_ltree[2*(P[se]+y+1)]++,z.dyn_dtree[2*N(ee)]++),z.last_lit===z.lit_bufsize-1},l.g=function(z){X(z,2,3),V(z,256,k),function(ee){ee.bi_valid===16?(U(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):ee.bi_valid>=8&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(z)}},744:f=>{f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},347:(f,l,u)=>{var c,g;u.d(l,{s:()=>c,S:()=>g}),function(y){y[y.Inport=0]="Inport",y[y.Outport=1]="Outport",y[y.Undefined=2]="Undefined"}(c||(c={})),function(y){y[y.STOPPED=0]="STOPPED",y[y.RUNNING=1]="RUNNING"}(g||(g={}))},676:(f,l,u)=>{u.d(l,{D:()=>c});const c=0},641:(f,l,u)=>{var c;u.d(l,{OM:()=>m,Le:()=>y,nc:()=>g,n_:()=>_}),function(p){p[p.Float32Audio=0]="Float32Audio",p[p.TypedArray=1]="TypedArray"}(c||(c={}));class g{constructor(){this.type=c.TypedArray}serialize(){return{type:this.type}}}class y{constructor(x,E){this.channels=0,this.sampleRate=0,this.type=c.Float32Audio,this.channels=x,this.sampleRate=E}static fromAudioBuffer(x){return new y(x.numberOfChannels,x.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}class m{constructor(x,E){this.buffer=x,this._=E}getAsAudioBuffer(x){if(this._ instanceof y&&this._.channels>0){const b=new Float32Array(this.buffer),k=b.length/this._.channels,S=x.createBuffer(this._.channels,k,this._.sampleRate);for(let T=0;T<this._.channels;T++){const P=S.getChannelData(T);for(let C=0,M=P.length;C<M;C++)P[C]=b[C*S.numberOfChannels+T]}return S}const E=new Float32Array(this.buffer),A=x.createBuffer(1,E.length,x.sampleRate);return A.copyToChannel(E,0),A}}const _=p=>{switch(p.type){case c.Float32Audio:return new y(p.channels,p.sampleRate);case c.TypedArray:return new g;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${p.type}`)}}},191:(f,l,u)=>{u.d(l,{v:()=>_});var c=u(163),g=u(347),y=u(389),m=u(133);class _{constructor(){this.I=0,this.M=44100,this.A=64,this.outgoingEvent=new y.BM,this.parameterChangeEvent=new y.BM,this.B=this.sampsToMs(this.A)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(x){return x},convertToNormalizedParameterValue:function(x){return x},convertFromNormalizedParameterValue:function(x){return x},getNumParameters:function(){return 0},constrainParameterValue:function(x){return x},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(x){if(x){const E={},A=Object.keys(x);for(let b=0;b<A.length;b++){const k=A[b];if(k==="subpatches"){const S=Object.keys(x.subpatches);for(let T=0;T<S.length;T++){const P=S[T],C=x.subpatches[P],M=_.deserializeConversion(C);C.isPolyphonic?E[P]=[M]:E[P]=M}}else E[k]=m.evalFunction(x[k])}return E}return this.getNonConversionObject()}getSampleRate(){return this.M}getSamplesPerBlock(){return this.A}sampsToMs(x){return x/this.M*1e3}getNumInputChannels(){return this.T?this.T.numInputChannels:0}getNumOutputChannels(){return this.T?this.T.numOutputChannels:0}getNumMIDIInputPorts(){return this.T?this.T.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.T?this.T.numMidiOutputPorts:0}getNumParameters(){return this.T?this.T.numParameters:0}getNumSignalInParameters(){return this.T?this.T.numSignalInParameters:0}getNumSignalOutParameters(){return this.T?this.T.numSignalOutParameters:0}getPatcherSerial(){return this.T!==void 0?this.T.patcherSerial:0}getParameterName(x){if(!this.T||x>=this.T.parameters.length)throw new Error(`Parameter index ${x} out of bounds.`);return this.T.parameters[x].name}getParameterId(x){if(!this.T||x>=this.T.parameters.length)throw new Error(`Parameter index ${x} out of bounds.`);return this.T.parameters[x].paramId}getParameterToNormalizedFunction(x){return E=>this.P.convertToNormalizedParameterValue(x,E)}getParameterFromNormalizedFunction(x){return E=>this.P.convertFromNormalizedParameterValue(x,E)}constrainParameterValue(x){return E=>this.P.constrainParameterValue(x,E)}getParameterInfo(x){if(!this.T||x>=this.T.parameters.length)throw new Error(`Parameter index ${x} out of bounds.`);const E=this.T.parameters[x];let A,b;switch(E.type){case"ParameterTypeBang":b=m.ParameterTypeBang;break;case"ParameterTypeCount":b=m.ParameterTypeCount;break;case"ParameterTypeList":b=m.ParameterTypeList;break;case"ParameterTypeNumber":b=m.ParameterTypeNumber;break;case"ParameterTypeSignal":b=m.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${E.type}`)}switch(E.ioType){case"IOTypeInput":A=m.IOTypeInput;break;case"IOTypeOutput":A=m.IOTypeOutput;break;case"IOTypeUndefined":A=m.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${E.type}`)}return{displayName:E.displayName,enumValues:E.enumValues,exponent:E.exponent,id:E.paramId,index:x,initialValue:E.initialValue,ioType:A,isEnum:E.isEnum,max:E.maximum,min:E.minimum,name:E.name,signalIndex:E.signalIndex,steps:E.steps,type:b,unit:E.unit,visible:E.visible}}getNumExternalDataRefs(){return this.T!==void 0?this.T.externalDataRefs.length:0}getExternalDataId(x){return this.T!==void 0?this.T.externalDataRefs[x].id:""}getExternalDataRefIds(){let x;return this.T&&(x=[],Object.keys(this.T.externalDataRefs).forEach(E=>{let A=this.T.externalDataRefs[E];x.push(A.id)})),x}getExternalDataRefInfos(){return this.T!==void 0?this.T.externalDataRefs:[]}getNumMessages(){return this.T!==void 0?this.T.inports.length+this.T.outports.length:0}getMessageInfos(){let x=[];return this.T!==void 0&&(Object.keys(this.T.outports).forEach(E=>{x.push({tag:this.T.outports[E].tag,type:g.s.Outport,meta:this.T.outports[E].meta})}),Object.keys(this.T.inports).forEach(E=>{x.push({tag:this.T.inports[E].tag,type:g.s.Inport,meta:this.T.inports[E].meta})})),x}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(x){return(0,c.mG)(this,void 0,void 0,function*(){this.T=x,this.P=_.deserializeConversion(this.T.paramConversion)})}}},916:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>WASMEngine});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(163),_baseEngine__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(191),_wasmHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(158),_event__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(555);class WASMEngine extends _baseEngine__WEBPACK_IMPORTED_MODULE_0__.v{getCurrentTime(){return this.R.getCurrentTime()}setCurrentTime(f){this.R.isReady()&&this.R.setCurrentTime(f)}prepareToProcess(f,l,u){(u||f!==this.M||l!==this.A)&&this.R.prepareToProcess(f,l)}process(f,l,u,c,g,y,m){this.R.process(f,l,u,c,g)}scheduleMidiEvent(f,l){this.scheduleEvent(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(this.I,f,l))}handleParameterEvent(f){this.parameterChangeEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.DB(f.time,f.index,f.value,f.source))}handleMidiEvent(f){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(f.time,f.port,[f.b1,f.b2,f.b3],void 0))}handleMessageEvent(f){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.f3(f.time,this.R.resolveTag(f.tag),f.type===0?f.numValue:f.type===1?this.R.retrieveArray(f.listValue):void 0,this.R.resolveTag(f.objectId)))}handlePresetEvent(f){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.bt(f.time,_event__WEBPACK_IMPORTED_MODULE_2__.l0.Touched))}getParameterValue(f){return this.R.getParameterValue(f)}get isSync(){return!0}scheduleEvent(f){this.R.scheduleEvent(f)}setPatcherCode(code){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return new Promise((resolve,reject)=>{let restoredRnboModule;const restoredWASM=code+"restoredRnboModule = rnbo_module;";eval(restoredWASM),restoredRnboModule().then(f=>(delete f.then,this.R=new _wasmHelper__WEBPACK_IMPORTED_MODULE_1__.z(this,f),resolve()))})})}setExternalData(f,l,u){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){this.R.setExternalData(f,l,u)})}releaseExternalData(f){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){const[l,u]=this.R.releaseExternalData(f);return{data:l,typeDesc:u}})}getPreset(){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return JSON.parse(this.R.getPreset())})}setPreset(f){this.R.setPreset(JSON.stringify(f))}}},158:(f,l,u)=>{u.d(l,{z:()=>m});var c=u(641),g=u(555),y=u(856);class m{constructor(p,x){this.O=0,this.C=0,this.N=!1,this.k=new y.aO,this.U=x;let E=new this.U.CoreObject;this.j=E;let A={handleParameterEvent:p.handleParameterEvent.bind(p),handleMidiEvent:p.handleMidiEvent.bind(p),handleMessageEvent:p.handleMessageEvent.bind(p),handlePresetEvent:p.handlePresetEvent.bind(p)},b=this.U.EventHandler.implement(A);this.F=E.createParameterInterface(b);for(let k=0;k<E.getNumParameters();k++){let S=E.getParameterInfo(k);this.k.addParam(S,E.getParameterName(k))}this.O=E.getNumInputChannels()+E.getNumSignalInParameters(),this.C=E.getNumOutputChannels(),this.N=!0}isReady(){return this.N}pushArray(p){let x=this.j.getArrayPassingHEAP(p.length);return this.U.HEAPF64.set(p,x>>3),x}retrieveArray(p){let x=[];for(let E=0;E<p.size();E++)x.push(p.get(E));return x}setExternalData(p,x,E){const A=new Uint8Array(x),b=this.j.getNewMemoryBuffer(A.byteLength);this.U.HEAPU8.set(A,b),E instanceof c.Le?this.j.setExternalAudioBuffer(p,b,A.byteLength,E.channels,E.sampleRate):E instanceof c.nc&&this.j.setExternalUntypedBuffer(p,b,A.byteLength)}releaseExternalData(p){let x,E=this.j.getDataRefIndex(p),A=this.j.getDataRefType(E),b=this.j.getDataRefData(E),k=new Uint8Array(b.sizeInBytes);return k.set(this.U.HEAPU8.subarray(b.data,b.data+b.sizeInBytes)),x=A.type==1?new c.Le(A.channels,A.sampleRate):new c.nc,this.j.releaseDataRef(E),[k.buffer,x]}getCurrentTime(){return this.j.getCurrentTime()}setCurrentTime(p){this.j.setCurrentTime(p)}prepareToProcess(p,x){this.j.prepareToProcess(p,x)}process(p,x,E,A,b,k){let S=0,T=0;for(let P=0;P<x&&S<this.O;P++){let C=p[P],M=this.j.getInputChannel(S);this.U.HEAPF64.set(C,M>>3),S++}if(k)for(let P=S;P<this.O;P++){let C=this.k.getParamName(P);if(C!==void 0){let M=this.j.getInputChannel(P);this.U.HEAPF64.set(this.k.getParamArray(P,k[C],b),M>>3),S++}}this.j.process(S,this.C,b);for(let P=0;P<A&&T<this.C;P++){let C=E[P],M=this.j.getOutputChannel(T)>>3;C.set(this.U.HEAPF64.subarray(M,M+C.length)),T++}}resolveTag(p){return this.j.resolveTag(p)}scheduleEvent(p){p.type===g.m5.MIDIEvent?this.j.scheduleMidiEvent(p.time,p.port,p.data[0],p.data[1],p.data[2]):p.type===g.m5.ParameterEvent?this.j.scheduleParameterEvent(p.target,p.time,p.value,p.source):p.type===g.m5.MessageEvent?Array.isArray(p.payload)?this.j.sendListMessage(p.tag,p.objectId,this.pushArray(p.payload),p.payload.length,p.time):typeof p.payload=="number"?this.j.sendNumMessage(p.tag,p.objectId,p.payload,p.time):p.payload===void 0&&this.j.sendBangMessage(p.tag,p.objectId,p.time):p.type===g.m5.TransportEvent?this.j.scheduleTransportEvent(p.time,p.state):p.type===g.m5.TempoEvent?this.j.scheduleTempoEvent(p.time,p.tempo):p.type===g.m5.BeatTimeEvent?this.j.scheduleBeatTimeEvent(p.time,p.beattime):p.type===g.m5.TimeSignatureEvent&&this.j.scheduleTimeSignatureEvent(p.time,p.numerator,p.denominator)}getNumParameters(){return this.j.getNumParameters()}getParameterValue(p){return this.j.getParameterValue(p)}numIns(){return this.O}numOuts(){return this.C}getPreset(){return this.j.getPreset()}setPreset(p){this.j.setPreset(p)}}},555:(f,l,u)=>{u.d(l,{j4:()=>p,J0:()=>C,J9:()=>x,Lk:()=>E,VH:()=>g,m5:()=>c,Ym:()=>b,f3:()=>A,DB:()=>k,bt:()=>S,l0:()=>y,j6:()=>j,gs:()=>P,QU:()=>M,cr:()=>T,gA:()=>m,f4:()=>I});var c,g,y,m,_=u(676);(function(O){O[O.BufferTransfer=0]="BufferTransfer",O[O.ClockEvent=1]="ClockEvent",O[O.DataRefEvent=2]="DataRefEvent",O[O.MessageEvent=3]="MessageEvent",O[O.MIDIEvent=4]="MIDIEvent",O[O.ParameterEvent=5]="ParameterEvent",O[O.PresetEvent=6]="PresetEvent",O[O.StartupEvent=7]="StartupEvent",O[O.TransportEvent=8]="TransportEvent",O[O.TempoEvent=9]="TempoEvent",O[O.BeatTimeEvent=10]="BeatTimeEvent",O[O.TimeSignatureEvent=11]="TimeSignatureEvent"})(c||(c={}));class p{constructor(R=_.D,D){this.invalid=!1,this.time=R,this.eventTarget=D}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class x extends p{constructor(R,D,N,U){super(R,U),this.type=c.ClockEvent,this.clockIndex=D,this.value=N}get hasValue(){return this.value!==void 0}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}(function(O){O[O.Update=1]="Update"})(g||(g={}));class E extends p{constructor(R,D,N,U){super(R,U),this.type=c.DataRefEvent,this.dataRefIndex=D,this.action=N}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class A extends p{constructor(R,D,N,U="",X){super(R,X),this.type=c.MessageEvent,this.objectId=U,this.tag=D,this.payload=N}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class b extends p{constructor(R,D,N,U){if(super(R,U),this.type=c.MIDIEvent,N.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${N.length}`);if(this.data=N,this.data.length<3){const V=N.length;this.data.length=3,this.data=this.data.fill(void 0,V,3)}let X=0;for(let V=0;V<3;V++)N[V]!==void 0&&X++;if(X<1)throw new Error("MIDIData must at least have the first byte set.");this.length=X,this.status=240&N[0],this.channel=15&N[0],this.port=D}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class k extends p{constructor(R,D,N,U,X){super(R,X),this.type=c.ParameterEvent,this.target=D,this.value=N,this.source=U}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}(function(O){O[O.Set=1]="Set",O[O.Touched=2]="Touched"})(y||(y={}));class S extends p{constructor(R,D,N){super(R,void 0),this.type=c.PresetEvent,this.action=D,this.preset=N}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class T extends p{constructor(R,D){super(R,void 0),this.type=c.TransportEvent,this.state=D}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class P extends p{constructor(R,D){super(R,void 0),this.type=c.TempoEvent,this.tempo=D}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class C extends p{constructor(R,D){super(R,void 0),this.type=c.BeatTimeEvent,this.beattime=D}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class M extends p{constructor(R,D,N){super(R,void 0),this.type=c.TimeSignatureEvent,this.numerator=D,this.denominator=N}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}(function(O){O[O.BEGIN=0]="BEGIN",O[O.END=1]="END"})(m||(m={}));class j extends p{constructor(R,D){super(R,void 0),this.type=c.StartupEvent,this.phase=D}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const I=O=>{switch(O.type){case c.ClockEvent:return new x(O.time,O.clockIndex,O.value,O.eventTarget);case c.DataRefEvent:return new E(O.time,O.dataRefIndex,O.action,O.eventTarget);case c.MessageEvent:return new A(O.time,O.tag,O.payload,O.objectId,O.eventTarget);case c.MIDIEvent:return new b(O.time,O.port,O.data,O.eventTarget);case c.ParameterEvent:return new k(O.time,O.target,O.value,O.source,O.eventTarget);case c.PresetEvent:return new S(O.time,O.action,O.preset);case c.TransportEvent:return new T(O.time,O.state);case c.TempoEvent:return new P(O.time,O.tempo);case c.BeatTimeEvent:return new C(O.time,O.beattime);case c.TimeSignatureEvent:return new M(O.time,O.numerator,O.denominator);case c.StartupEvent:return new j(O.time,O.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${O.type}`)}}},400:(f,l,u)=>{var c,g;u.d(l,{r:()=>c,E:()=>g}),function(y){y[y.Number=0]="Number",y[y.Bang=1]="Bang",y[y.List=2]="List",y[y.Signal=3]="Signal",y[y.Count=4]="Count",y[y.Enum=5]="Enum"}(c||(c={})),function(y){y[y.All=0]="All",y[y.Internal=1]="Internal"}(g||(g={}))},856:(f,l,u)=>{u.d(l,{jN:()=>p,IR:()=>y,V2:()=>_,BX:()=>m,EX:()=>c.E,rH:()=>c.r,aO:()=>A,zT:()=>E});var c=u(400),g=u(389);function y(b){return class extends b{constructor(...k){super(),this.changeEvent=new g.BM,this.L=new g.BM;const S=k[0];this.X=S.notificationSetting,this.convertFromNormalizedValue=S.scaling.convertFromNormalized,this.convertToNormalizedValue=S.scaling.convertToNormalized,this.constrainParameterValue=S.scaling.constrainParameterValue,this.initialValue=S.initialValue,this.V=S.initialValue,this.displayName=S.displayName||S.name,this.exponent=S.exponent,this.id=S.id,this.index=S.index,this.min=S.min,this.max=S.max,this.name=S.name,this.steps=S.steps,this.unit=S.unit||""}get notificationSetting(){return this.X}get normalizedValue(){return this.convertToNormalizedValue(this.V)}set normalizedValue(k){this.q(this.convertFromNormalizedValue(k))}$(k){this.X=k}q(k){k=this.constrainParameterValue(k),this.V!==k&&(this.V=k,this.L.emit(this),this.notificationSetting===c.E.All&&this.changeEvent.emit(k))}W(k){this.V=k,this.changeEvent.emit(k)}}}class m extends y(Object){constructor(k){super(k),this.type=c.r.Number}get value(){return this.V}set value(k){this.q(k)}}class _ extends y(Object){constructor(k){super(k),this.type=c.r.Enum,this.G=k.enumValues}get enumValues(){return this.G.slice()}get enumValue(){return this.G[this.value]}set enumValue(k){const S=this.G.indexOf(k);if(S<0)throw new Error(`Invalid EnumValue. ${k} is not an available value on the enum parameter ${this.name}`);this.value=S}get value(){return this.V}set value(k){this.q(k)}}class p extends y(Object){constructor(){super(...arguments),this.type=c.r.Bang}get isActive(){return this.V===1}bang(){this.q(1)}}var x=u(133);const E=(b,k,S,T)=>b.type===c.r.Number&&b.enumValues.length?new _(Object.assign(Object.assign({},b),{scaling:T,index:k,notificationSetting:S})):b.type===c.r.Bang?new p(Object.assign(Object.assign({},b),{scaling:T,index:k,notificationSetting:S})):(b.type,c.r.Number,new m(Object.assign(Object.assign({},b),{scaling:T,index:k,notificationSetting:S})));class A{constructor(){this.K={},this.Y=new Float32Array(128)}addParam(k,S){k.type==x.ParameterTypeSignal&&k.ioType===x.IOTypeInput&&(this.K[k.signalIndex]={name:S,param:new Float32Array(128)})}getParamName(k){let S=this.K[k];return S!==void 0?S.name:void 0}getParamArray(k,S,T){if(S.length==T)return S;{let P=this.K[k];return P.param.length!=T&&(P.param=new Float32Array(T)),P.param.fill(S[0])}}}},389:(f,l,u)=>{u.d(l,{f8:()=>c,e1:()=>g,I7:()=>y,EL:()=>_,BM:()=>x});const c=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const E=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(E instanceof WebAssembly.Module)return new WebAssembly.Instance(E)instanceof WebAssembly.Instance}}catch{}return!1})();class g{fromRNBOtime(A){return .001*A}toRNBOtime(A){return 1e3*A}}const y=typeof isSecureContext<"u"&&isSecureContext&&typeof AudioWorkletNode<"u";let m=Math.pow(10,4);const _=()=>(m>=Number.MAX_SAFE_INTEGER&&(m=Math.pow(10,4)),parseInt(`${Date.now().toString(10).slice(-3)}${(m++).toString(10).slice(-4)}`,10)),p=E=>E.slice();class x{constructor(){this.Z=[],this.H=[]}get listenerCount(){return this.Z.length+this.H.length}emit(A){if(this.Z.length){const b=p(this.Z);for(let k=0,S=b.length;k<S;k++)b[k](A)}if(this.H.length){const b=p(this.H);for(let k=0,S=b.length;k<S;k++)b[k](A);b.forEach(k=>this.unsubscribe(k))}}once(A){return this.H.push(A),{unsubscribe:()=>this.unsubscribe(A)}}subscribe(A){return this.Z.push(A),{unsubscribe:()=>this.unsubscribe(A)}}unsubscribe(A){const b=this.Z.indexOf(A);b>=0&&this.Z.splice(b,1);const k=this.H.indexOf(A);k>=0&&this.H.splice(k,1)}removeAllSubscriptions(){this.Z=[],this.H=[]}}},163:(f,l,u)=>{function c(g,y,m,_){return new(m||(m=Promise))(function(p,x){function E(k){try{b(_.next(k))}catch(S){x(S)}}function A(k){try{b(_.throw(k))}catch(S){x(S)}}function b(k){var S;k.done?p(k.value):(S=k.value,S instanceof m?S:new m(function(T){T(S)})).then(E,A)}b((_=_.apply(g,y||[])).next())})}u.d(l,{mG:()=>c})},264:f=>{f.exports={src:[{code:'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(f){var l=__webpack_module_cache__[f];if(l!==void 0)return l.exports;var u=__webpack_module_cache__[f]={exports:{}};return __webpack_modules__[f](u,u.exports,__webpack_require__),u.exports}__webpack_require__.n=f=>{var l=f&&f.J?()=>f.default:()=>f;return __webpack_require__.d(l,{a:l}),l},__webpack_require__.d=(f,l)=>{for(var u in l)__webpack_require__.o(l,u)&&!__webpack_require__.o(f,u)&&Object.defineProperty(f,u,{enumerable:!0,get:l[u]})},__webpack_require__.o=(f,l)=>Object.prototype.hasOwnProperty.call(f,l),__webpack_require__.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"J",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BangParameter:()=>m.jN,BaseDevice:()=>P,BaseEvent:()=>p.j4,BeatTimeEvent:()=>p.J0,CommonParameterMixin:()=>m.IR,DataBuffer:()=>g.OM,DeviceType:()=>S,EnumParameter:()=>m.V2,EventSubject:()=>y.BM,EventType:()=>p.m5,MIDIEvent:()=>p.Ym,MessageEvent:()=>p.f3,MessagePortType:()=>c.s,NumberParameter:()=>m.BX,ParameterNotificationSetting:()=>m.EX,ParameterType:()=>m.rH,PresetEvent:()=>p.bt,RNBOPresetEventAction:()=>p.l0,ScriptDevice:()=>X,TempoEvent:()=>p.gs,TimeNow:()=>J.D,TimeSignatureEvent:()=>p.QU,TransportEvent:()=>p.cr,TransportState:()=>c.S,WorkletDevice:()=>G,createDevice:()=>ie,version:()=>B});var f=__webpack_require__(163),l=__webpack_require__(845),u=__webpack_require__.n(l),c=__webpack_require__(347),g=__webpack_require__(641),y=__webpack_require__(389),m=__webpack_require__(856),_=__webpack_require__(400),p=__webpack_require__(555);const x={notificationSetting:_.E.All};class E{constructor(Z){this.tt=new Map,this.et=new Map,this.id=(0,y.EL)(),this.parameterChangeEvent=new y.BM,this.rt=z=>{const ee=this.tt.get(z.target);if(!ee)return;const se=z.value;ee.type!==_.r.Bang&&se===ee.value||(ee.W(se),this.parameterChangeEvent.emit(ee))},this.nt=z=>{const ee=z.index,se=z.type===_.r.Bang?1:z.value,le=new p.DB(0,ee,se,this.id,void 0);this.it&&this.it.scheduleEvent(le),this.notificationSetting===_.E.All&&this.parameterChangeEvent.emit(z)};const H=Object.assign({},x,Z);this.X=H.notificationSetting}st(Z){return this.tt.get(Z)||void 0}ot(){for(const Z of this.tt.values())Z.L.removeAllSubscriptions(),Z.changeEvent.removeAllSubscriptions();this.tt.clear(),this.et.clear()}ut(){if(!this.it)throw new Error("Cannot populate ParameterInterface without setting engine first.");this.ot();for(let Z=0,H=this.it.getNumParameters();Z<H;Z++){const z=this.it.getParameterInfo(Z);if(!z||!z.visible)continue;const ee=(0,m.zT)(z,Z,this.notificationSetting,{convertFromNormalized:this.it.getParameterFromNormalizedFunction(Z),convertToNormalized:this.it.getParameterToNormalizedFunction(Z),constrainParameterValue:this.it.constrainParameterValue(Z)});ee.L.subscribe(this.nt),this.tt.set(Z,ee),this.et.set(z.id,ee)}}setEngine(Z){if(this.it)throw new Error("ParamInterface already has an engine, which can't be overridden.");this.it=Z,this.it.parameterChangeEvent.subscribe(this.rt),this.ut()}get notificationSetting(){return this.X}set notificationSetting(Z){for(const H of this.tt.values())H.$(Z);this.X=Z}get numParameters(){return this.tt.size}get parameters(){return Array.from(this.tt.values())}get parametersById(){return this.et}getParameterName(Z){const H=this.st(Z);return H?H.name:void 0}destroy(){this.it.parameterChangeEvent.unsubscribe(this.rt),this.it=void 0,this.ot(),this.parameterChangeEvent.removeAllSubscriptions()}}var A;function b(ne){return ne.file!==void 0}function k(ne){return ne.url!==void 0}(function(ne){ne[ne.AudioBuffer=1]="AudioBuffer",ne[ne.DataBuffer=2]="DataBuffer",ne[ne.ReferenceBuffer=3]="ReferenceBuffer"})(A||(A={}));var S,T=__webpack_require__(834).Buffer;(function(ne){ne.Script="script",ne.Worklet="worklet",ne.Invalid="invalid"})(S||(S={}));class P{constructor({context:Z,parameterNotificationSetting:H,type:z}){this.ht=!1,this.ft="wasm",this.ct=new y.e1,this.lt=!0,this.midiEvent=new y.BM,this.messageEvent=new y.BM,this.parameterChangeEvent=new y.BM,this.invalidateEvent=new y.BM,this.presetTouchedEvent=new y.BM,this.dt=ee=>{switch(ee.type){case p.m5.ClockEvent:case p.m5.DataRefEvent:case p.m5.StartupEvent:break;case p.m5.MIDIEvent:return void this.midiEvent.emit(ee);case p.m5.MessageEvent:return void this.messageEvent.emit(ee);case p.m5.PresetEvent:if(ee.action==p.l0.Touched)return void this.presetTouchedEvent.emit();default:throw console.error(ee),new Error(`Unknown or unsupported RNBOEvent type "${ee.type}"`)}},this.gt=ee=>{this.parameterChangeEvent.emit(ee)},this._t=Z,this.yt=z,this.F=new E({notificationSetting:H})}vt(){if(this.ht)throw new Error("Error while trying to overwrite immutable patcher of an existing device. Please create a new Device using RNBO.createDevice instead.")}It(Z,H,z){this.it&&this.it.prepareToProcess(Z,H,z)}wt(){if(this.isInvalid)throw new Error("Error: This device has become invalid due to creating a new device from it and is therefore unusable.")}Et(Z){const H=T.from(Z.code,Z.encoding);return Z.compression==="zlib"?u().inflate(H.toString("binary"),{to:"string"}):H.toString("utf-8")}get context(){return this.wt(),this._t}get inports(){return this.wt(),this.it.getMessageInfos().filter(Z=>Z.type===c.s.Inport)}get isValid(){return this.lt}get isInvalid(){return!this.lt}get numInputChannels(){return this.wt(),this.it?this.it.getNumInputChannels():0}get numOutputChannels(){return this.wt(),this.it?this.it.getNumOutputChannels():0}get numMIDIInputPorts(){return this.wt(),this.it?this.it.getNumMIDIInputPorts():0}get numMIDIOutputPorts(){return this.wt(),this.it?this.it.getNumMIDIOutputPorts():0}get numParameters(){return this.wt(),this.F.numParameters}get outports(){return this.wt(),this.it.getMessageInfos().filter(Z=>Z.type===c.s.Outport)}get parameters(){return this.wt(),this.F.parameters}get messages(){return this.wt(),this.it.getMessageInfos()}get parametersById(){return this.wt(),this.F.parametersById}get parameterNotificationSetting(){return this.wt(),this.F.notificationSetting}set parameterNotificationSetting(Z){this.wt(),this.F.notificationSetting=Z}get sourceType(){return this.ft}get type(){return this.isInvalid?S.Invalid:this.yt}get dataBufferIds(){return this.it.getExternalDataRefIds()}get dataBufferDescriptions(){return this.it.getExternalDataRefInfos()}setDataBuffer(Z,H,z,ee){return(0,f.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(ue=>ue.id===Z))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${Z}" does not exist within the device.`);let se,le;if(H instanceof AudioBuffer){le=g.Le.fromAudioBuffer(H);const ue=H.numberOfChannels,_e=new Float32Array(H.length*H.numberOfChannels),Te=[];for(let me=0;me<ue;me++){const Se=new Float32Array(H.length);H.copyFromChannel(Se,me,0),Te.push(Se)}for(let me=0;me<ue;me++)for(let Se=0,ve=H.length;Se<ve;Se++)_e[Se*ue+me]=Te[me][Se];se=_e.buffer}else{if(!z||z<0||isNaN(z))throw new Error("Invalid channel count. Expecting a numeric value >= 1");if(!ee||ee<0||isNaN(ee))throw new Error("Invalid sample rate. Expecting a numeric value >= 1");se=ArrayBuffer.isView(H)?H.buffer.slice(0):H.slice(0),le=new g.Le(z,ee)}yield this.it.setExternalData(Z,se,le)})}releaseDataBuffer(Z){return(0,f.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(ee=>ee.id===Z))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${Z}" does not exist within the device.`);const{data:H,typeDesc:z}=yield this.it.releaseExternalData(Z);return new g.OM(H,z)})}static fetchAudioData(Z,H){return(0,f.mG)(this,void 0,void 0,function*(){let z=yield fetch(Z),ee=yield z.arrayBuffer();return new Promise((se,le)=>{H.decodeAudioData(ee,se,le)})})}static bufferDescriptionHasRemoteURL(Z){return!!k(Z)||!(!b(Z)||!Z.file.startsWith("http:")&&!Z.file.startsWith("https:"))}loadDataBufferDependencies(Z){return(0,f.mG)(this,void 0,void 0,function*(){return Promise.all(Z.map(H=>(0,f.mG)(this,void 0,void 0,function*(){try{let z;if(k(H)?z=H.url:b(H)&&(z=H.file),z){const ee=yield P.fetchAudioData(z,this.context);return this.setDataBuffer(H.id,ee),{type:"success",id:H.id}}throw new Error(`Skipping invalid buffer info id: ${H.id}, type: ${H.type}`)}catch(z){return{type:"fail",error:z,id:H.id}}})))})}scheduleEvent(Z){this.wt(),this.it&&this.it.scheduleEvent(Z)}destroy(){this.wt(),this.F.destroy(),this.it&&this.it.removeAllSubscriptions(),this.it=void 0,this.Mt&&this.Mt.disconnect(),this.Mt=void 0,delete this.F,delete this.ct,delete this._t,this.lt=!1,this.invalidateEvent.emit(),this.invalidateEvent.removeAllSubscriptions(),this.messageEvent.removeAllSubscriptions(),this.midiEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}getPreset(){return(0,f.mG)(this,void 0,void 0,function*(){return this.it.getPreset()})}setPreset(Z){return this.it.setPreset(Z)}}var C=__webpack_require__(191),M=__webpack_require__(133);const j=__webpack_require__(264);function I(ne,Z){return ne.time-Z.time}function O(ne){ne.sort(I)}class R extends C.v{constructor(){super(),this.At=!1,this.Bt=!1,this.Tt=void 0,this.St=-1,this.Pt=[],this.At=!1,this.setPatcherDesc(j.desc),this.setPatcherCode(j.src[0].code)}Rt(Z){const H=Z.eventTarget||this.Dt;if(Z.time=Math.max(Z.time,this.I),this.Tt=Z,Z.type===p.m5.ParameterEvent){const z=Z;H.setParameterValue(z.target,z.value,Z.time)}else if(Z.type===p.m5.MIDIEvent){const z=Z;H.processMidiEvent(z.time,z.port,z.data,z.length)}else if(Z.type===p.m5.ClockEvent){const z=Z;H.processClockEvent(z.time,z.clockIndex,z.hasValue,z.value)}else if(Z.type===p.m5.DataRefEvent){const z=Z;z.action===p.VH.Update&&H.processDataViewUpdate(z.dataRefIndex,z.time)}else if(Z.type===p.m5.MessageEvent){const z=Z;Array.isArray(z.payload)?H.processListMessage(M.TAG(z.tag),M.TAG(z.objectId),z.time,z.payload):z.payload===void 0?H.processBangMessage(M.TAG(z.tag),M.TAG(z.objectId),z.time):H.processNumMessage(M.TAG(z.tag),M.TAG(z.objectId),z.time,z.payload)}else if(Z.type===p.m5.PresetEvent){const z=Z;z.action===p.l0.Set&&(this.Bt=!0,this.Dt.setPreset(z.time,z.preset),this.Bt=!1)}else if(Z.type===p.m5.TransportEvent){const z=Z;this.Dt.processTransportEvent(z.time,z.state)}else if(Z.type===p.m5.TempoEvent){const z=Z;this.Dt.processTempoEvent(z.time,z.tempo)}else if(Z.type===p.m5.BeatTimeEvent){const z=Z;this.Dt.processBeatTimeEvent(z.time,z.beattime)}else if(Z.type===p.m5.TimeSignatureEvent){const z=Z;this.Dt.processTimeSignatureEvent(z.time,z.numerator,z.denominator)}else if(Z.type===p.m5.StartupEvent){const z=Z;this.Bt=z.phase===p.gA.BEGIN}this.Tt=void 0}getCurrentTime(){return this.I}setCurrentTime(Z){this.I=Z}prepareToProcess(Z,H,z){(z||Z!==this.M||H!==this.A)&&(this.M=Z,this.A=H,this.B=this.sampsToMs(this.A),this.isSync&&this.Dt.prepareToProcess(this.M,this.A))}process(Z,H,z,ee,se,le,ue){const _e=Math.min(H,this.getNumInputChannels()+this.getNumSignalInParameters()),Te=Math.min(ee,this.getNumOutputChannels()),me=Math.min(se,this.A);for(this.St=this.I+this.B,this.midiInput!==void 0&&(this.Pt.push.apply(this.Pt,le),this.At=!0),this.At&&(O(this.Pt),this.At=!1);this.Pt.length>0&&this.Pt[0].time<this.St;)this.Rt(this.Pt.shift());this.Dt.process(Z,_e,z,Te,me),this.I=this.St,this.St=-1}scheduleMidiEvent(Z,H){this.scheduleEvent(new p.Ym(this.I,Z,H,this.Dt))}notifyParameterValueChanged(Z,H){let z=this.Tt?this.Tt.source:void 0;this.parameterChangeEvent.emit(new p.DB(this.getCurrentTime(),Z,H,z))}scheduleParameterChange(Z,H,z){this.scheduleEvent(new p.DB(this.getCurrentTime(),Z,H,void 0))}sendNumMessage(Z,H,z){const ee=new p.f3(this.I,this.Dt.resolveTag(Z),z,this.Dt.resolveTag(H));this.outgoingEvent.emit(ee)}sendBangMessage(Z,H){const z=new p.f3(this.I,this.Dt.resolveTag(Z),void 0,this.Dt.resolveTag(H));this.outgoingEvent.emit(z)}sendListMessage(Z,H,z){const ee=new p.f3(this.I,this.Dt.resolveTag(Z),z,this.Dt.resolveTag(H));this.outgoingEvent.emit(ee)}getParameterValue(Z){return this.Dt.getParameterValue(Z)}flushClockEvents(Z,H,z){this.flushClockEventsWithValue(Z,H,void 0,z)}flushClockEventsWithValue(Z,H,z,ee){for(let se=0;se<this.Pt.length;se++)if(this.Pt[se]instanceof p.J9){const le=this.Pt[se];le.eventTarget!==Z||le.clockIndex!==H&&le.clockIndex!==void 0||z!==void 0&&le.value!==z||(this.Pt.splice(se,1),ee&&this.Rt(le),se--)}}deleteClockEvents(Z){this.flushClockEvents(Z,void 0,!1)}scheduleClockEvent(Z,H,z){this.scheduleClockEventWithValue(Z,H,z,void 0)}scheduleClockEventWithValue(Z,H,z,ee){this.scheduleEvent(new p.J9(z,H,ee,Z))}sendMidiEvent(Z,H,z,ee){const se=new p.Ym(this.getCurrentTime(),Z,[H,z,ee],void 0);this.outgoingEvent.emit(se)}sendMidiEventList(Z,H){let z;for(z=2;z<H.length;z+=3)this.sendMidiEvent(Z,H[z-2],H[z-1],H[z]);if(z-=3,z<H.length){var ee=z-H.length;this.sendMidiEvent(Z,H[z],ee>1?H[z+1]:void 0,ee>2?H[z+2]:void 0)}}sendOutlet(Z,H,z){console.log("sendOutlet",Z,H,z)}updatePatcherEventTarget(Z,H){for(let z=0;z<this.Pt.length;z++)this.Pt[z].eventTarget===Z&&(this.Pt[z].eventTarget=H,this.Pt[z].invalid=!1)}rescheduleEventTarget(Z){for(let H=0;H<this.Pt.length;H++)this.Pt[H].eventTarget===Z&&(this.Pt[H].invalid=!1)}isInProcess(){return this.St>-1}sendDataRefUpdated(Z){this.scheduleEvent(new p.Lk(this.getCurrentTime(),Z,p.VH.Update,this.Dt))}get isSync(){return!0}scheduleEvent(Z){this.Pt.push(Z),this.isInProcess()?O(this.Pt):this.At=!0}setPatcherCode(Z){return(0,f.mG)(this,void 0,void 0,function*(){const H={};this.Dt&&this.Dt.getState(H),this.Dt=M.deserializeSrc(Z);for(let z=0;z<this.Pt.length;z++)this.Pt[z].eventTarget&&(this.Pt[z].invalid=!0);this.Dt.setEngineAndPatcher(this,null),this.scheduleEvent(new p.j6(this.I,p.gA.BEGIN)),this.Dt.initialize(H),this.scheduleEvent(new p.j6(this.I,p.gA.END)),this.Dt.prepareToProcess(this.M,this.A,!0);for(let z=this.Pt.length-1;z>=0;z--)this.Pt[z].invalid&&this.Pt.splice(z,1)})}setExternalData(Z,H,z){return(0,f.mG)(this,void 0,void 0,function*(){const ee=this.Dt.getNumDataRefs();for(let se=0;se<ee;se++){const le=this.Dt.getDataRef(se);if(le.name==Z){le.arrayBuffer=H,z instanceof g.Le&&(le.channels=z.channels,le.sampleRate=z.sampleRate),this.sendDataRefUpdated(se);break}}})}releaseExternalData(Z){return(0,f.mG)(this,void 0,void 0,function*(){const H=this.Dt.getNumDataRefs();let z,ee;for(let se=0;se<H;se++){const le=this.Dt.getDataRef(se);if(le.name==Z){z=le.arrayBuffer,le.arrayBuffer=new ArrayBuffer(0),le.channels?(ee=new g.Le(le.channels,le.sampleRate),le.channels=0,le.sampleRate=0):ee=new g.nc,this.sendDataRefUpdated(se);break}}if(!z)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${Z} found.`);return{data:z,typeDesc:ee}})}getPreset(){return(0,f.mG)(this,void 0,void 0,function*(){let Z={};return this.Dt.getPreset(Z),Z})}setPreset(Z){this.scheduleEvent(new p.bt(this.I,p.l0.Set,Z))}presetTouched(){this.Bt||this.outgoingEvent.emit(new p.bt(this.I,p.l0.Touched,void 0))}}var D,N,U=__webpack_require__(916);class X extends P{constructor({bufferSize:Z=1024,context:H,parameterNotificationSetting:z},ee){super({context:H,parameterNotificationSetting:z,type:S.Script}),this.bufferSize=Z,this.it=ee&&ee.sourceType!=="wasm"?ee.it:void 0}Ot(Z){const H=[],z=[],ee=Z.inputBuffer,se=Z.outputBuffer,le=ee?ee.numberOfChannels:0,ue=se?se.numberOfChannels:0;for(let _e=0;_e<Math.max(le,ue);_e++)_e<le&&(H[_e]=ee.getChannelData(_e)),_e<ue&&(z[_e]=se.getChannelData(_e));this.Ct(1e3*Z.playbackTime),this.It(Z.outputBuffer.sampleRate,this.bufferSize,!1),this.Nt(H,le,z,ue,this.bufferSize,null,null)}Nt(Z,H,z,ee,se,le,ue){this.it&&this.it.process(Z,H,z,ee,se,le||void 0,ue||void 0)}Ct(Z){this.it&&this.it.setCurrentTime(Z)}get node(){return this.wt(),this.Mt}setPatcher(Z,H){return(0,f.mG)(this,void 0,void 0,function*(){this.vt(),this.it||(this.it=H.type==="wasm"?new U.s:new R),this.ft=H.type,yield this.it.setPatcherDesc(Z),yield this.it.setPatcherCode(this.Et(H)),this.F.setEngine(this.it),this.F.parameterChangeEvent.subscribe(this.gt),this.it.outgoingEvent.subscribe(this.dt),this.Mt=this.context.createScriptProcessor(this.bufferSize,this.numInputChannels,Math.max(this.numOutputChannels,1)),this.node.onaudioprocess=this.Ot.bind(this)})}}(function(ne){ne[ne.LoadPatcher=0]="LoadPatcher",ne[ne.ScheduleEvent=1]="ScheduleEvent",ne[ne.TransferBuffer=2]="TransferBuffer",ne[ne.ReleaseBuffer=3]="ReleaseBuffer",ne[ne.SetPreset=4]="SetPreset",ne[ne.GetPreset=5]="GetPreset"})(D||(D={})),function(ne){ne[ne.LoadPatcherFinished=1e3]="LoadPatcherFinished",ne[ne.OutgoingEvent=1002]="OutgoingEvent",ne[ne.ReleasedBuffer=1003]="ReleasedBuffer",ne[ne.TransferBufferFinished=1004]="TransferBufferFinished",ne[ne.GetPresetResponse=1005]="GetPresetResponse"}(N||(N={}));class V extends C.v{constructor(){super(),this.kt=new y.BM,this.xt=new y.BM,this.Ut=Z=>{if(Z.id!==N.OutgoingEvent||Z.payload.type!==p.m5.ParameterEvent)if(Z.id!==N.OutgoingEvent){if(Z.id!==N.LoadPatcherFinished&&Z.id!==N.TransferBufferFinished&&Z.id!==N.ReleasedBuffer&&Z.id!==N.GetPresetResponse)throw new Error(`Unhandled RNBOProcessor event with type ${Z.id}`)}else this.outgoingEvent.emit(Z.payload);else this.parameterChangeEvent.emit(Z.payload)},this.kt.subscribe(this.Ut)}get eventSubjects(){return{fromProcessorEvent:this.kt,toProcessorEvent:this.xt}}notifyParameterValueChanged(Z,H,z,ee){this.parameterChangeEvent.emit(new p.DB(Z,H,z,ee,void 0))}prepareToProcess(Z,H,z){}process(Z,H,z,ee,se,le,ue){throw new Error}get isSync(){return!1}scheduleEvent(Z){this.xt.emit({id:D.ScheduleEvent,payload:Z})}setExternalData(Z,H,z){return new Promise((ee,se)=>{const le=this.kt.subscribe(ue=>{ue.id===N.TransferBufferFinished&&ue.payload.memoryId===Z&&(le.unsubscribe(),ee())});this.xt.emit({id:D.TransferBuffer,payload:{memoryId:Z,data:H,typeDesc:z}})})}releaseExternalData(Z){return new Promise((H,z)=>{const ee=this.kt.subscribe(se=>{se.id===N.ReleasedBuffer&&se.payload.memoryId===Z&&(ee.unsubscribe(),H({data:se.payload.data,typeDesc:(0,g.n_)(se.payload.typeDesc)}))});this.xt.emit({id:D.ReleaseBuffer,payload:{memoryId:Z}})})}getPreset(){return(0,f.mG)(this,void 0,void 0,function*(){return new Promise((Z,H)=>{const z=this.kt.subscribe(ee=>{ee.id===N.GetPresetResponse&&(z.unsubscribe(),Z(ee.payload.preset))});this.xt.emit({id:D.GetPreset})})})}setPreset(Z){this.xt.emit({id:D.SetPreset,payload:{preset:Z}})}setPatcherCode(Z){return(0,f.mG)(this,void 0,void 0,function*(){})}}const K=()=>{if(!y.I7)throw new Error("Missing AudioWorklet Support");return class extends AudioWorkletNode{constructor(ne,Z,H,z){super(ne,Z,z),this.jt=ee=>{const[se,le]=ee.data;if(se!==N.OutgoingEvent)if(se!==N.LoadPatcherFinished)if(se!==N.TransferBufferFinished)if(se!==N.ReleasedBuffer){if(se!==N.GetPresetResponse)throw new Error(`Unable to handle received processor message of type ${se}`);this.zt.fromProcessorEvent.emit({id:se,payload:le})}else this.zt.fromProcessorEvent.emit({id:se,payload:le});else this.zt.fromProcessorEvent.emit({id:se,payload:le});else this.zt.fromProcessorEvent.emit({id:se,payload:le});else this.zt.fromProcessorEvent.emit({id:se,payload:(0,p.f4)(le)})},this.Ft=ee=>{ee.id!==D.ScheduleEvent?ee.id!==D.TransferBuffer?ee.id!==D.ReleaseBuffer?ee.id!==D.GetPreset?ee.id!==D.SetPreset||this.port.postMessage([ee.id,{preset:ee.payload.preset}]):this.port.postMessage([ee.id]):this.port.postMessage([ee.id,{memoryId:ee.payload.memoryId}]):this.port.postMessage([ee.id,{data:ee.payload.data,memoryId:ee.payload.memoryId,typeDesc:ee.payload.typeDesc.serialize()}],[ee.payload.data]):this.port.postMessage([ee.id,ee.payload.serialize()])},this.zt=H,this.zt.toProcessorEvent.subscribe(this.Ft),this.port.onmessage=this.jt,this.port.start()}loadPatcher(){return(0,f.mG)(this,void 0,void 0,function*(){return new Promise(ne=>{const Z=this.zt.fromProcessorEvent.subscribe(H=>{H.id===N.LoadPatcherFinished&&(Z.unsubscribe(),ne())});this.port.postMessage([D.LoadPatcher])})})}}};var W=__webpack_require__(834).Buffer;const Q=__webpack_require__(264),L={js:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,trunc=Math.trunc,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var r=t+e;return r>=MAX_32BIT_INT&&(r-=MAX_32BIT_INT),Math.trunc(r)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function imod(t,e){return(0|t)%(0|e)}function imod_nocast(t,e){return t%e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let r=arguments[e];if(Array.isArray(r))for(let e=0;e<r.length;e++)t.push(r[e]);else t.push(r)}return t}function resizeSignal(t,e,r){for(var n=t||[],i=e;i<r;i++)n[i]=0;return n}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,r,n){t&&t.fill(r,n)}function copySignal(t,e,r){for(let n=0;n<r;n++)t[n]=e[n]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,r){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var n=240&r;return t==MIDI_StatusByteReceived?n==MIDI_ProgramChangeMask?MIDI_ProgramChange:n==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?n==MIDI_NoteOffMask||n==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:n==MIDI_NoteOnMask?MIDI_NoteOn:n==MIDI_AfterTouchMask?MIDI_Aftertouch:n==MIDI_CCMask?MIDI_CC:n==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var r={};return r.name=t,r.isValid=!1,r.wantsFillFlag=!1,r.bytesToAllocate=0,r.channels=0,r.sampleRate=0,r.internal=e,r.index=-1,r.wantsFill=function(){return this.wantsFillFlag},r.setWantsFill=function(t){this.wantsFillFlag=t},r.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},r.getRequestedSizeInBytes=function(){return this.bytesToAllocate},r.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},r.getSizeInBytes=function(){return this.arrayBuffer.byteLength},r.hasRequestedSize=function(){return this.bytesToAllocate>0},r.isInternal=function(){return this.internal},r.getIndex=function(){return this.index},r.setIndex=function(t){this.index=t},r.clear=function(){r.arrayBuffer=new ArrayBuffer(0)},r.clear(),r}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,r){e.setCurrent&&e.getIndex&&(e.setCurrent(r),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let r=Array.from(arguments);r.splice(0,1);for(let n=0;n<t;n++)e[n]=FIXEDSIZEARRAYINIT.apply(null,r)}return e}return new Array}function TAG(t){let e=0;for(let r=0;r<t.length;r++){e=t.charCodeAt(r)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,r){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,r){return void 0===t[e]&&(t[e]=[]),void 0===t[e][r]&&(t[e][r]={}),t[e][r]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function r(t,e){let r=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(r,!1)}function n(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const r=this.getChannels();return t<0||t>=r||e<0||e>=this.getSize()?0:this[r*Math.floor(e)+t]}function s(t,e,r){this[this.getChannels()*Math.floor(e)+t]=r}function o(t,e,r){const n=this.getChannels();t<0||t>=n||e<0||e>=this.getSize()||(this[n*Math.floor(e)+t]=r)}function u(){return this.dataRef.channels}function a(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function f(){this.dataRef.clear()}function c(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function l(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,b(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&I(e),e}return this}function d(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function p(){this.fill&&this.fill(0)}function m(){return this.touched}function g(t){this.touched=t}function _(t){this.dataRef.setWantsFill(t)}function y(){return this.dataRef.getIndex()}function b(t,n,i){t.dataRef=n,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=r,t.setSize=d,t.allocateIfNeeded=l,t.setZero=p,t.clear=f,t.getChannels=u,t.getSampleRate=a,t.setWantsFill=_,t.getIndex=y,n.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=m,t.setTouched=g}function I(t){t.getSample=n,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=o,t.setChannels=c,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let w=function(t,e){let r;return r=t.arrayBuffer?new e(t.arrayBuffer):{},b(r,t,e),r};(w.prototype=Object.create(null)).constructor=w;let v=function(t,e){let r=w.call(this,t,e);return I(r),r};(v.prototype=Object.create(w)).constructor=v;let M=function(t){return v.call(this,t,Float32Array)};(M.prototype=Object.create(v.prototype)).constructor=M;let E=function(t){return v.call(this,t,Float64Array)};(E.prototype=Object.create(v.prototype)).constructor=E;let T=function(t,e){let r=new e(t.dataRefs[t.current]);return r.multiRef=t,r.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},r.getIndex=function(){return this.multiRef.getIndex()},r};T.prototype=Object.create(null),T.constructor=T;let B=function(t){return T.call(this,t,M)};(B.prototype=Object.create(T.prototype)).constructor=B;let S=function(t){return T.call(this,t,E)};(S.prototype=Object.create(T.prototype)).constructor=S;let A=function(t){return w.call(this,t,Int32Array)};(A.prototype=Object.create(w.prototype)).constructor=A;let P=function(t){return w.call(this,t,Uint8Array)};(P.prototype=Object.create(w.prototype)).constructor=P,t.exports={Float32Buffer:M,Float64Buffer:E,Float32MultiBuffer:B,Float64MultiBuffer:S,IntBuffer:A,UInt8Buffer:P}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,r,n){r[n]=t[e]+0x9e3779b97f4a7c15n,r[n]=0xbf58476d1ce4e5b9n*(r[n]^r[n]>>30n),r[n]=0x94d049bb133111ebn*(r[n]^r[n]>>27n),r[n]=r[n]^r[n]>>31n}t.exports={reset:function(t,r){let n=new BigUint64Array(1);n[0]=BigInt(Math.trunc(1e6*t)),e(n,0,r,0),e(r,0,r,1),e(r,1,r,2),e(r,2,r,3)},next:function(t){let e=new BigUint64Array(1),r=new BigUint64Array(1);return r[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,r[0]=r[0]>>11n,2220446049250313e-31*Number(r[0])-1}}},766:(t,e)=>{e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],h=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),f=0,c=u>0?o-4:o;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,h[f++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,h[f++]=e>>8&255,h[f++]=255&e);return h},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,u=0,a=n-i;u<a;u+=o)s.push(h(t,u,u+o>a?a:u+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,n){for(var i,s,o=[],u=e;u<n;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},834:(t,e,r)=>{\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\nconst n=r(766),i=r(181),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function u(t){if(t>o)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\');const e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return c(t)}return h(t,e,r)}function h(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=u(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return a.from(n,e,r);const i=function(t){if(a.isBuffer(t)){const e=0|p(t.length),r=u(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Y(t.length)?u(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be of type number\');if(t<0)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\')}function c(t){return f(t),u(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=u(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError(\'"offset" is outside of buffer bounds\');if(t.byteLength<e+(r||0))throw new RangeError(\'"length" is outside of buffer bounds\');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,a.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return B(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let s,o=1,u=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,a/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<u;s++)if(h(t,s)===h(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===a)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+a>u&&(r=u-a),s=r;s>=0;s--){let r=!0;for(let n=0;n<a;n++)if(h(t,s+n)!==h(e,n)){r=!1;break}if(r)return s}return-1}function I(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Y(n))return o;t[r+o]=n}return o}function w(t,e,r,n){return K(W(e,t.length-r),t,r,n)}function v(t,e,r,n){return K(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function M(t,e,r,n){return K(G(e),t,r,n)}function E(t,e,r,n){return K(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function B(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,u,a;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(a=(31&e)<<6|63&r,a>127&&(s=a));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(a=(15&e)<<12|(63&r)<<6|63&n,a>2047&&(a<55296||a>57343)&&(s=a));break;case 4:r=t[i+1],n=t[i+2],u=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&u)&&(a=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&u,a>65535&&a<1114112&&(s=a))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?u(t):void 0!==e?"string"==typeof r?u(t).fill(e,r):u(t).fill(e):u(t)}(t,e,r)},a.allocUnsafe=function(t){return c(t)},a.allocUnsafeSlow=function(t){return c(t)},a.isBuffer=function(t){return null!=t&&!0===t.t&&t!==a.prototype},a.compare=function(t,e){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return a.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=a.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(J(e,Uint8Array))i+e.length>n.length?(a.isBuffer(e)||(e=a.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!a.isBuffer(e))throw new TypeError(\'"list" argument must be an Array of Buffers\');e.copy(n,i)}i+=e.length}return n},a.byteLength=m,a.prototype.t=!0,a.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(t,e,r,n,i){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const u=Math.min(s,o),h=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<u;++t)if(h[t]!==f[t]){s=h[t],o=f[t];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return v(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const S=4096;function A(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Z[t[n]];return i}function D(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,s){if(!a.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<s)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function x(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function C(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function k(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),a.prototype.readBigInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=H((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=H((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=H((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=H((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=a.isBuffer(t)?t:a.from(t,n),o=s.length;if(0===o)throw new TypeError(\'The value "\'+t+\'" is invalid for argument "value"\');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const X={};function z(t,e,r){X[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new X.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||L(e,t.length-(r+1))}(n,i,s)}function V(t,e){if("number"!=typeof t)throw new X.ERR_INVALID_ARG_TYPE(e,"number",t)}function L(t,e,r){if(Math.floor(t)!==t)throw V(t,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function H(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},181:(t,e)=>{\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\ne.read=function(t,e,r,n,i){var s,o,u=8*i-n-1,a=(1<<u)-1,h=a>>1,f=-7,c=r?i-1:0,l=r?-1:1,d=t[e+c];for(c+=l,s=d&(1<<-f)-1,d>>=-f,f+=u;f>0;s=256*s+t[e+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=256*o+t[e+c],c+=l,f-=8);if(0===s)s=1-h;else{if(s===a)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=h}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,u,a,h=8*s-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),(e+=o+c>=1?l/a:l*Math.pow(2,1-c))*a>=2&&(o++,a/=2),o+c>=f?(u=0,o=f):o+c>=1?(u=(e*a-1)*Math.pow(2,i),o+=c):(u=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&u,d+=p,u/=256,i-=8);for(o=o<<i|u,h+=i;h>0;t[r+d]=255&o,d+=p,o/=256,h-=8);t[r+d-p]|=128*m}},264:t=>{t.exports={src:[{code:\'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;\',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__webpack_require__),r.exports}var __webpack_exports__={};(()=>{var t;function e(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{a(n.next(t))}catch(t){s(t)}}function u(t){try{a(n.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,u)}a((n=n.apply(t,e||[])).next())}))}!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class r{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,r){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=r}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var i,s;!function(t){t[t.Inport=0]="Inport",t[t.Outport=1]="Outport",t[t.Undefined=2]="Undefined"}(i||(i={})),function(t){t[t.STOPPED=0]="STOPPED",t[t.RUNNING=1]="RUNNING"}(s||(s={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const o=t=>t.slice();class u{constructor(){this.o=[],this.u=[]}get listenerCount(){return this.o.length+this.u.length}emit(t){if(this.o.length){const e=o(this.o);for(let r=0,n=e.length;r<n;r++)e[r](t)}if(this.u.length){const e=o(this.u);for(let r=0,n=e.length;r<n;r++)e[r](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.u.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.o.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.o.indexOf(t);e>=0&&this.o.splice(e,1);const r=this.u.indexOf(t);r>=0&&this.u.splice(r,1)}removeAllSubscriptions(){this.o=[],this.u=[]}}var a=__webpack_require__(133);class h{constructor(){this.h=0,this.l=44100,this.p=64,this.outgoingEvent=new u,this.parameterChangeEvent=new u,this.m=this.sampsToMs(this.p)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(t){return t},convertToNormalizedParameterValue:function(t){return t},convertFromNormalizedParameterValue:function(t){return t},getNumParameters:function(){return 0},constrainParameterValue:function(t){return t},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(t){if(t){const e={},r=Object.keys(t);for(let n=0;n<r.length;n++){const i=r[n];if("subpatches"===i){const r=Object.keys(t.subpatches);for(let n=0;n<r.length;n++){const i=r[n],s=t.subpatches[i],o=h.deserializeConversion(s);s.isPolyphonic?e[i]=[o]:e[i]=o}}else e[i]=a.evalFunction(t[i])}return e}return this.getNonConversionObject()}getSampleRate(){return this.l}getSamplesPerBlock(){return this.p}sampsToMs(t){return t/this.l*1e3}getNumInputChannels(){return this.g?this.g.numInputChannels:0}getNumOutputChannels(){return this.g?this.g.numOutputChannels:0}getNumMIDIInputPorts(){return this.g?this.g.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.g?this.g.numMidiOutputPorts:0}getNumParameters(){return this.g?this.g.numParameters:0}getNumSignalInParameters(){return this.g?this.g.numSignalInParameters:0}getNumSignalOutParameters(){return this.g?this.g.numSignalOutParameters:0}getPatcherSerial(){return void 0!==this.g?this.g.patcherSerial:0}getParameterName(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].name}getParameterId(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].paramId}getParameterToNormalizedFunction(t){return e=>this._.convertToNormalizedParameterValue(t,e)}getParameterFromNormalizedFunction(t){return e=>this._.convertFromNormalizedParameterValue(t,e)}constrainParameterValue(t){return e=>this._.constrainParameterValue(t,e)}getParameterInfo(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);const e=this.g.parameters[t];let r,n;switch(e.type){case"ParameterTypeBang":n=a.ParameterTypeBang;break;case"ParameterTypeCount":n=a.ParameterTypeCount;break;case"ParameterTypeList":n=a.ParameterTypeList;break;case"ParameterTypeNumber":n=a.ParameterTypeNumber;break;case"ParameterTypeSignal":n=a.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${e.type}`)}switch(e.ioType){case"IOTypeInput":r=a.IOTypeInput;break;case"IOTypeOutput":r=a.IOTypeOutput;break;case"IOTypeUndefined":r=a.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${e.type}`)}return{displayName:e.displayName,enumValues:e.enumValues,exponent:e.exponent,id:e.paramId,index:t,initialValue:e.initialValue,ioType:r,isEnum:e.isEnum,max:e.maximum,min:e.minimum,name:e.name,signalIndex:e.signalIndex,steps:e.steps,type:n,unit:e.unit,visible:e.visible}}getNumExternalDataRefs(){return void 0!==this.g?this.g.externalDataRefs.length:0}getExternalDataId(t){return void 0!==this.g?this.g.externalDataRefs[t].id:""}getExternalDataRefIds(){let t;return this.g&&(t=[],Object.keys(this.g.externalDataRefs).forEach((e=>{let r=this.g.externalDataRefs[e];t.push(r.id)}))),t}getExternalDataRefInfos(){return void 0!==this.g?this.g.externalDataRefs:[]}getNumMessages(){return void 0!==this.g?this.g.inports.length+this.g.outports.length:0}getMessageInfos(){let t=[];return void 0!==this.g&&(Object.keys(this.g.outports).forEach((e=>{t.push({tag:this.g.outports[e].tag,type:i.Outport,meta:this.g.outports[e].meta})})),Object.keys(this.g.inports).forEach((e=>{t.push({tag:this.g.inports[e].tag,type:i.Inport,meta:this.g.inports[e].meta})}))),t}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(t){return e(this,void 0,void 0,(function*(){this.g=t,this._=h.deserializeConversion(this.g.paramConversion)}))}}var f,c,l,d;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(f||(f={}));class p{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class m extends p{constructor(t,e,r,n){super(t,n),this.type=f.ClockEvent,this.clockIndex=e,this.value=r}get hasValue(){return void 0!==this.value}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}!function(t){t[t.Update=1]="Update"}(c||(c={}));class g extends p{constructor(t,e,r,n){super(t,n),this.type=f.DataRefEvent,this.dataRefIndex=e,this.action=r}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class _ extends p{constructor(t,e,r,n="",i){super(t,i),this.type=f.MessageEvent,this.objectId=n,this.tag=e,this.payload=r}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class y extends p{constructor(t,e,r,n){if(super(t,n),this.type=f.MIDIEvent,r.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${r.length}`);if(this.data=r,this.data.length<3){const t=r.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let i=0;for(let t=0;t<3;t++)void 0!==r[t]&&i++;if(i<1)throw new Error("MIDIData must at least have the first byte set.");this.length=i,this.status=240&r[0],this.channel=15&r[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class b extends p{constructor(t,e,r,n,i){super(t,i),this.type=f.ParameterEvent,this.target=e,this.value=r,this.source=n}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(l||(l={}));class I extends p{constructor(t,e,r){super(t,void 0),this.type=f.PresetEvent,this.action=e,this.preset=r}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class w extends p{constructor(t,e){super(t,void 0),this.type=f.TransportEvent,this.state=e}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class v extends p{constructor(t,e){super(t,void 0),this.type=f.TempoEvent,this.tempo=e}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class M extends p{constructor(t,e){super(t,void 0),this.type=f.BeatTimeEvent,this.beattime=e}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class E extends p{constructor(t,e,r){super(t,void 0),this.type=f.TimeSignatureEvent,this.numerator=e,this.denominator=r}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(d||(d={}));class T extends p{constructor(t,e){super(t,void 0),this.type=f.StartupEvent,this.phase=e}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const B=__webpack_require__(264);function S(t,e){return t.time-e.time}function A(t){t.sort(S)}class P extends h{constructor(){super(),this.I=!1,this.v=!1,this.M=void 0,this.T=-1,this.B=[],this.I=!1,this.setPatcherDesc(B.desc),this.setPatcherCode(B.src[0].code)}S(t){const e=t.eventTarget||this.A;if(t.time=Math.max(t.time,this.h),this.M=t,t.type===f.ParameterEvent){const r=t;e.setParameterValue(r.target,r.value,t.time)}else if(t.type===f.MIDIEvent){const r=t;e.processMidiEvent(r.time,r.port,r.data,r.length)}else if(t.type===f.ClockEvent){const r=t;e.processClockEvent(r.time,r.clockIndex,r.hasValue,r.value)}else if(t.type===f.DataRefEvent){const r=t;r.action===c.Update&&e.processDataViewUpdate(r.dataRefIndex,r.time)}else if(t.type===f.MessageEvent){const r=t;Array.isArray(r.payload)?e.processListMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload):void 0===r.payload?e.processBangMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time):e.processNumMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload)}else if(t.type===f.PresetEvent){const e=t;e.action===l.Set&&(this.v=!0,this.A.setPreset(e.time,e.preset),this.v=!1)}else if(t.type===f.TransportEvent){const e=t;this.A.processTransportEvent(e.time,e.state)}else if(t.type===f.TempoEvent){const e=t;this.A.processTempoEvent(e.time,e.tempo)}else if(t.type===f.BeatTimeEvent){const e=t;this.A.processBeatTimeEvent(e.time,e.beattime)}else if(t.type===f.TimeSignatureEvent){const e=t;this.A.processTimeSignatureEvent(e.time,e.numerator,e.denominator)}else if(t.type===f.StartupEvent){const e=t;this.v=e.phase===d.BEGIN}this.M=void 0}getCurrentTime(){return this.h}setCurrentTime(t){this.h=t}prepareToProcess(t,e,r){(r||t!==this.l||e!==this.p)&&(this.l=t,this.p=e,this.m=this.sampsToMs(this.p),this.isSync&&this.A.prepareToProcess(this.l,this.p))}process(t,e,r,n,i,s,o){const u=Math.min(e,this.getNumInputChannels()+this.getNumSignalInParameters()),a=Math.min(n,this.getNumOutputChannels()),h=Math.min(i,this.p);for(this.T=this.h+this.m,void 0!==this.midiInput&&(this.B.push.apply(this.B,s),this.I=!0),this.I&&(A(this.B),this.I=!1);this.B.length>0&&this.B[0].time<this.T;)this.S(this.B.shift());this.A.process(t,u,r,a,h),this.h=this.T,this.T=-1}scheduleMidiEvent(t,e){this.scheduleEvent(new y(this.h,t,e,this.A))}notifyParameterValueChanged(t,e){let r=this.M?this.M.source:void 0;this.parameterChangeEvent.emit(new b(this.getCurrentTime(),t,e,r))}scheduleParameterChange(t,e,r){this.scheduleEvent(new b(this.getCurrentTime(),t,e,void 0))}sendNumMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}sendBangMessage(t,e){const r=new _(this.h,this.A.resolveTag(t),void 0,this.A.resolveTag(e));this.outgoingEvent.emit(r)}sendListMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}getParameterValue(t){return this.A.getParameterValue(t)}flushClockEvents(t,e,r){this.flushClockEventsWithValue(t,e,void 0,r)}flushClockEventsWithValue(t,e,r,n){for(let i=0;i<this.B.length;i++)if(this.B[i]instanceof m){const s=this.B[i];s.eventTarget!==t||s.clockIndex!==e&&void 0!==s.clockIndex||void 0!==r&&s.value!==r||(this.B.splice(i,1),n&&this.S(s),i--)}}deleteClockEvents(t){this.flushClockEvents(t,void 0,!1)}scheduleClockEvent(t,e,r){this.scheduleClockEventWithValue(t,e,r,void 0)}scheduleClockEventWithValue(t,e,r,n){this.scheduleEvent(new m(r,e,n,t))}sendMidiEvent(t,e,r,n){const i=new y(this.getCurrentTime(),t,[e,r,n],void 0);this.outgoingEvent.emit(i)}sendMidiEventList(t,e){let r;for(r=2;r<e.length;r+=3)this.sendMidiEvent(t,e[r-2],e[r-1],e[r]);if(r-=3,r<e.length){var n=r-e.length;this.sendMidiEvent(t,e[r],n>1?e[r+1]:void 0,n>2?e[r+2]:void 0)}}sendOutlet(t,e,r){console.log("sendOutlet",t,e,r)}updatePatcherEventTarget(t,e){for(let r=0;r<this.B.length;r++)this.B[r].eventTarget===t&&(this.B[r].eventTarget=e,this.B[r].invalid=!1)}rescheduleEventTarget(t){for(let e=0;e<this.B.length;e++)this.B[e].eventTarget===t&&(this.B[e].invalid=!1)}isInProcess(){return this.T>-1}sendDataRefUpdated(t){this.scheduleEvent(new g(this.getCurrentTime(),t,c.Update,this.A))}get isSync(){return!0}scheduleEvent(t){this.B.push(t),this.isInProcess()?A(this.B):this.I=!0}setPatcherCode(t){return e(this,void 0,void 0,(function*(){const e={};this.A&&this.A.getState(e),this.A=a.deserializeSrc(t);for(let t=0;t<this.B.length;t++)this.B[t].eventTarget&&(this.B[t].invalid=!0);this.A.setEngineAndPatcher(this,null),this.scheduleEvent(new T(this.h,d.BEGIN)),this.A.initialize(e),this.scheduleEvent(new T(this.h,d.END)),this.A.prepareToProcess(this.l,this.p,!0);for(let t=this.B.length-1;t>=0;t--)this.B[t].invalid&&this.B.splice(t,1)}))}setExternalData(t,r,i){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();for(let s=0;s<e;s++){const e=this.A.getDataRef(s);if(e.name==t){e.arrayBuffer=r,i instanceof n&&(e.channels=i.channels,e.sampleRate=i.sampleRate),this.sendDataRefUpdated(s);break}}}))}releaseExternalData(t){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();let i,s;for(let o=0;o<e;o++){const e=this.A.getDataRef(o);if(e.name==t){i=e.arrayBuffer,e.arrayBuffer=new ArrayBuffer(0),e.channels?(s=new n(e.channels,e.sampleRate),e.channels=0,e.sampleRate=0):s=new r,this.sendDataRefUpdated(o);break}}if(!i)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${t} found.`);return{data:i,typeDesc:s}}))}getPreset(){return e(this,void 0,void 0,(function*(){let t={};return this.A.getPreset(t),t}))}setPreset(t){this.scheduleEvent(new I(this.h,l.Set,t))}presetTouched(){this.v||this.outgoingEvent.emit(new I(this.h,l.Touched,void 0))}}var O,D;function N(t){return class extends t{constructor(...t){super(),this.changeEvent=new u,this.P=new u;const e=t[0];this.O=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.D=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.O}get normalizedValue(){return this.convertToNormalizedValue(this.D)}set normalizedValue(t){this.N(this.convertFromNormalizedValue(t))}R(t){this.O=t}N(t){t=this.constrainParameterValue(t),this.D!==t&&(this.D=t,this.P.emit(this),this.notificationSetting===D.All&&this.changeEvent.emit(t))}C(t){this.D=t,this.changeEvent.emit(t)}}}!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(O||(O={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(D||(D={}));N(Object);N(Object);N(Object);class R{constructor(){this.k={},this.U=new Float32Array(128)}addParam(t,e){t.type==a.ParameterTypeSignal&&t.ioType===a.IOTypeInput&&(this.k[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.k[t];return void 0!==e?e.name:void 0}getParamArray(t,e,r){if(e.length==r)return e;{let n=this.k[t];return n.param.length!=r&&(n.param=new Float32Array(r)),n.param.fill(e[0])}}}var x,C;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(x||(x={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(C||(C={}));var k=__webpack_require__(834).Buffer;const U=JSON.parse(k.from("XXXX___RNBOPATCHERDESC_REPLACE___XXXX","base64").toString("utf-8")),j=k.from("XXXX___RNBOPATCHERSRC_REPLACE___XXXX","base64").toString("utf-8");class X extends AudioWorkletProcessor{constructor(i){super(i),this.j=new P,this.X=[],this.F=[],this.$=new R,this.V=i=>e(this,void 0,void 0,(function*(){switch(i.data[0]){case x.LoadPatcher:yield this.j.setPatcherDesc(U),yield this.j.setPatcherCode(j);for(let t=0;t<this.j.getNumParameters();t++){const e=this.j.getParameterInfo(t);this.$.addParam(e,this.j.getParameterName(t))}this.X=new Array(this.j.getNumInputChannels()+this.j.getNumSignalInParameters()),this.F=new Array(this.j.getNumOutputChannels()+this.j.getNumSignalOutParameters()),this.j.process([],0,[[]],1,0),this.port.postMessage([C.LoadPatcherFinished]);break;case x.ScheduleEvent:this.j.scheduleEvent((t=>{switch(t.type){case f.ClockEvent:return new m(t.time,t.clockIndex,t.value,t.eventTarget);case f.DataRefEvent:return new g(t.time,t.dataRefIndex,t.action,t.eventTarget);case f.MessageEvent:return new _(t.time,t.tag,t.payload,t.objectId,t.eventTarget);case f.MIDIEvent:return new y(t.time,t.port,t.data,t.eventTarget);case f.ParameterEvent:return new b(t.time,t.target,t.value,t.source,t.eventTarget);case f.PresetEvent:return new I(t.time,t.action,t.preset);case f.TransportEvent:return new w(t.time,t.state);case f.TempoEvent:return new v(t.time,t.tempo);case f.BeatTimeEvent:return new M(t.time,t.beattime);case f.TimeSignatureEvent:return new E(t.time,t.numerator,t.denominator);case f.StartupEvent:return new T(t.time,t.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${t.type}`)}})(i.data[1]));break;case x.TransferBuffer:{const e=i.data[1];this.j.setExternalData(e.memoryId,e.data,(e=>{switch(e.type){case t.Float32Audio:return new n(e.channels,e.sampleRate);case t.TypedArray:return new r;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${e.type}`)}})(e.typeDesc)),this.port.postMessage([C.TransferBufferFinished,{memoryId:e.memoryId}]);break}case x.ReleaseBuffer:{const t=i.data[1],{data:e,typeDesc:r}=yield this.j.releaseExternalData(t.memoryId);this.port.postMessage([C.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:r.serialize()}],[e]);break}case x.GetPreset:{const t=yield this.j.getPreset();this.port.postMessage([C.GetPresetResponse,{preset:t}]);break}case x.SetPreset:{const t=i.data[1];this.j.setPreset(t.preset)}}})),this.L=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.q=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.j.outgoingEvent.subscribe(this.L),this.j.parameterChangeEvent.subscribe(this.q),this.port.onmessage=this.V,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}process(t,e,r){let n,i,s=0,o=0;for(n=0;n<t.length;n++){const e=t[n];for(i=0;i<e.length&&(s<this.X.length&&e[i].length);i++)this.X[s]=e[i],s++}for(n=0;n<e.length;n++){const t=e[n];for(i=0;i<t.length&&o<this.F.length;i++)this.F[o]=t[i],o++}let u=0;o>0&&this.F.length&&this.F[0]?u=this.F[0].length:e.length&&e[0]&&e[0].length&&e[0][0]?u=e[0][0].length:s>0&&this.X.length&&this.X[0]?u=this.X[0].length:t.length&&t[0]&&t[0].length&&t[0][0]&&(u=t[0][0].length),u||(u=128);for(let t=s;t<this.X.length;t++){const e=this.$.getParamName(t);void 0!==e&&(this.X[t]=this.$.getParamArray(t,r[e],u),s++)}return this.j.setCurrentTime(1e3*currentTime),this.j.prepareToProcess(sampleRate,u),this.j.process(this.X,s,this.F,o,u),!0}}let z="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";z.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(z="RNBOProcessor"),registerProcessor(z,X)})()})();',wasm:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,trunc=Math.trunc,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var n=t+e;return n>=MAX_32BIT_INT&&(n-=MAX_32BIT_INT),Math.trunc(n)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function imod(t,e){return(0|t)%(0|e)}function imod_nocast(t,e){return t%e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let n=arguments[e];if(Array.isArray(n))for(let e=0;e<n.length;e++)t.push(n[e]);else t.push(n)}return t}function resizeSignal(t,e,n){for(var r=t||[],i=e;i<n;i++)r[i]=0;return r}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,n,r){t&&t.fill(n,r)}function copySignal(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,n){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var r=240&n;return t==MIDI_StatusByteReceived?r==MIDI_ProgramChangeMask?MIDI_ProgramChange:r==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?r==MIDI_NoteOffMask||r==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:r==MIDI_NoteOnMask?MIDI_NoteOn:r==MIDI_AfterTouchMask?MIDI_Aftertouch:r==MIDI_CCMask?MIDI_CC:r==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var n={};return n.name=t,n.isValid=!1,n.wantsFillFlag=!1,n.bytesToAllocate=0,n.channels=0,n.sampleRate=0,n.internal=e,n.index=-1,n.wantsFill=function(){return this.wantsFillFlag},n.setWantsFill=function(t){this.wantsFillFlag=t},n.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},n.getRequestedSizeInBytes=function(){return this.bytesToAllocate},n.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},n.getSizeInBytes=function(){return this.arrayBuffer.byteLength},n.hasRequestedSize=function(){return this.bytesToAllocate>0},n.isInternal=function(){return this.internal},n.getIndex=function(){return this.index},n.setIndex=function(t){this.index=t},n.clear=function(){n.arrayBuffer=new ArrayBuffer(0)},n.clear(),n}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,n){e.setCurrent&&e.getIndex&&(e.setCurrent(n),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let n=Array.from(arguments);n.splice(0,1);for(let r=0;r<t;r++)e[r]=FIXEDSIZEARRAYINIT.apply(null,n)}return e}return new Array}function TAG(t){let e=0;for(let n=0;n<t.length;n++){e=t.charCodeAt(n)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,n){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,n){return void 0===t[e]&&(t[e]=[]),void 0===t[e][n]&&(t[e][n]={}),t[e][n]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function n(t,e){let n=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(n,!1)}function r(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const n=this.getChannels();return t<0||t>=n||e<0||e>=this.getSize()?0:this[n*Math.floor(e)+t]}function s(t,e,n){this[this.getChannels()*Math.floor(e)+t]=n}function a(t,e,n){const r=this.getChannels();t<0||t>=r||e<0||e>=this.getSize()||(this[r*Math.floor(e)+t]=n)}function o(){return this.dataRef.channels}function u(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function c(){this.dataRef.clear()}function f(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function _(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,y(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&m(e),e}return this}function l(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function I(){this.fill&&this.fill(0)}function M(){return this.touched}function b(t){this.touched=t}function p(t){this.dataRef.setWantsFill(t)}function d(){return this.dataRef.getIndex()}function y(t,r,i){t.dataRef=r,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=n,t.setSize=l,t.allocateIfNeeded=_,t.setZero=I,t.clear=c,t.getChannels=o,t.getSampleRate=u,t.setWantsFill=p,t.getIndex=d,r.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=M,t.setTouched=b}function m(t){t.getSample=r,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=a,t.setChannels=f,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let v=function(t,e){let n;return n=t.arrayBuffer?new e(t.arrayBuffer):{},y(n,t,e),n};(v.prototype=Object.create(null)).constructor=v;let D=function(t,e){let n=v.call(this,t,e);return m(n),n};(D.prototype=Object.create(v)).constructor=D;let S=function(t){return D.call(this,t,Float32Array)};(S.prototype=Object.create(D.prototype)).constructor=S;let w=function(t){return D.call(this,t,Float64Array)};(w.prototype=Object.create(D.prototype)).constructor=w;let A=function(t,e){let n=new e(t.dataRefs[t.current]);return n.multiRef=t,n.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},n.getIndex=function(){return this.multiRef.getIndex()},n};A.prototype=Object.create(null),A.constructor=A;let g=function(t){return A.call(this,t,S)};(g.prototype=Object.create(A.prototype)).constructor=g;let O=function(t){return A.call(this,t,w)};(O.prototype=Object.create(A.prototype)).constructor=O;let P=function(t){return v.call(this,t,Int32Array)};(P.prototype=Object.create(v.prototype)).constructor=P;let T=function(t){return v.call(this,t,Uint8Array)};(T.prototype=Object.create(v.prototype)).constructor=T,t.exports={Float32Buffer:S,Float64Buffer:w,Float32MultiBuffer:g,Float64MultiBuffer:O,IntBuffer:P,UInt8Buffer:T}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,n,r){n[r]=t[e]+0x9e3779b97f4a7c15n,n[r]=0xbf58476d1ce4e5b9n*(n[r]^n[r]>>30n),n[r]=0x94d049bb133111ebn*(n[r]^n[r]>>27n),n[r]=n[r]^n[r]>>31n}t.exports={reset:function(t,n){let r=new BigUint64Array(1);r[0]=BigInt(Math.trunc(1e6*t)),e(r,0,n,0),e(n,0,n,1),e(n,1,n,2),e(n,2,n,3)},next:function(t){let e=new BigUint64Array(1),n=new BigUint64Array(1);return n[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,n[0]=n[0]>>11n,2220446049250313e-31*Number(n[0])-1}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}var __webpack_exports__={};(()=>{var t;!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class e{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,n){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=n}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var r,i,s,a;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(r||(r={}));class o{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}!function(t){t[t.Update=1]="Update"}(i||(i={}));class u extends o{constructor(t,e,n,i="",s){super(t,s),this.type=r.MessageEvent,this.objectId=i,this.tag=e,this.payload=n}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class h extends o{constructor(t,e,n,i){if(super(t,i),this.type=r.MIDIEvent,n.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${n.length}`);if(this.data=n,this.data.length<3){const t=n.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let s=0;for(let t=0;t<3;t++)void 0!==n[t]&&s++;if(s<1)throw new Error("MIDIData must at least have the first byte set.");this.length=s,this.status=240&n[0],this.channel=15&n[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class c extends o{constructor(t,e,n,i,s){super(t,s),this.type=r.ParameterEvent,this.target=e,this.value=n,this.source=i}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(s||(s={}));class f extends o{constructor(t,e,n){super(t,void 0),this.type=r.PresetEvent,this.action=e,this.preset=n}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(a||(a={}));var _,l;!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(_||(_={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(l||(l={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const I=t=>t.slice();class M{constructor(){this.t=[],this.i=[]}get listenerCount(){return this.t.length+this.i.length}emit(t){if(this.t.length){const e=I(this.t);for(let n=0,r=e.length;n<r;n++)e[n](t)}if(this.i.length){const e=I(this.i);for(let n=0,r=e.length;n<r;n++)e[n](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.i.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.t.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.t.indexOf(t);e>=0&&this.t.splice(e,1);const n=this.i.indexOf(t);n>=0&&this.i.splice(n,1)}removeAllSubscriptions(){this.t=[],this.i=[]}}function b(t){return class extends t{constructor(...t){super(),this.changeEvent=new M,this.o=new M;const e=t[0];this.u=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.h=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.u}get normalizedValue(){return this.convertToNormalizedValue(this.h)}set normalizedValue(t){this._(this.convertFromNormalizedValue(t))}l(t){this.u=t}_(t){t=this.constrainParameterValue(t),this.h!==t&&(this.h=t,this.o.emit(this),this.notificationSetting===l.All&&this.changeEvent.emit(t))}I(t){this.h=t,this.changeEvent.emit(t)}}}b(Object);b(Object);b(Object);var p=__webpack_require__(133);class d{constructor(){this.M={},this.p=new Float32Array(128)}addParam(t,e){t.type==p.ParameterTypeSignal&&t.ioType===p.IOTypeInput&&(this.M[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.M[t];return void 0!==e?e.name:void 0}getParamArray(t,e,n){if(e.length==n)return e;{let r=this.M[t];return r.param.length!=n&&(r.param=new Float32Array(n)),r.param.fill(e[0])}}}class y{constructor(t,e){this.m=0,this.v=0,this.D=!1,this.S=new d,this.A=e;let n=new this.A.CoreObject;this.g=n;let r={handleParameterEvent:t.handleParameterEvent.bind(t),handleMidiEvent:t.handleMidiEvent.bind(t),handleMessageEvent:t.handleMessageEvent.bind(t),handlePresetEvent:t.handlePresetEvent.bind(t)},i=this.A.EventHandler.implement(r);this.O=n.createParameterInterface(i);for(let t=0;t<n.getNumParameters();t++){let e=n.getParameterInfo(t);this.S.addParam(e,n.getParameterName(t))}this.m=n.getNumInputChannels()+n.getNumSignalInParameters(),this.v=n.getNumOutputChannels(),this.D=!0}isReady(){return this.D}pushArray(t){let e=this.g.getArrayPassingHEAP(t.length);return this.A.HEAPF64.set(t,e>>3),e}retrieveArray(t){let e=[];for(let n=0;n<t.size();n++)e.push(t.get(n));return e}setExternalData(t,r,i){const s=new Uint8Array(r),a=this.g.getNewMemoryBuffer(s.byteLength);this.A.HEAPU8.set(s,a),i instanceof n?this.g.setExternalAudioBuffer(t,a,s.byteLength,i.channels,i.sampleRate):i instanceof e&&this.g.setExternalUntypedBuffer(t,a,s.byteLength)}releaseExternalData(t){let r,i=this.g.getDataRefIndex(t),s=this.g.getDataRefType(i),a=this.g.getDataRefData(i),o=new Uint8Array(a.sizeInBytes);return o.set(this.A.HEAPU8.subarray(a.data,a.data+a.sizeInBytes)),r=1==s.type?new n(s.channels,s.sampleRate):new e,this.g.releaseDataRef(i),[o.buffer,r]}getCurrentTime(){return this.g.getCurrentTime()}setCurrentTime(t){this.g.setCurrentTime(t)}prepareToProcess(t,e){this.g.prepareToProcess(t,e)}process(t,e,n,r,i,s){let a=0,o=0;for(let n=0;n<e&&a<this.m;n++){let e=t[n],r=this.g.getInputChannel(a);this.A.HEAPF64.set(e,r>>3),a++}if(s)for(let t=a;t<this.m;t++){let e=this.S.getParamName(t);if(void 0!==e){let n=this.g.getInputChannel(t);this.A.HEAPF64.set(this.S.getParamArray(t,s[e],i),n>>3),a++}}this.g.process(a,this.v,i);for(let t=0;t<r&&o<this.v;t++){let e=n[t],r=this.g.getOutputChannel(o)>>3;e.set(this.A.HEAPF64.subarray(r,r+e.length)),o++}}resolveTag(t){return this.g.resolveTag(t)}scheduleEvent(t){t.type===r.MIDIEvent?this.g.scheduleMidiEvent(t.time,t.port,t.data[0],t.data[1],t.data[2]):t.type===r.ParameterEvent?this.g.scheduleParameterEvent(t.target,t.time,t.value,t.source):t.type===r.MessageEvent?Array.isArray(t.payload)?this.g.sendListMessage(t.tag,t.objectId,this.pushArray(t.payload),t.payload.length,t.time):"number"==typeof t.payload?this.g.sendNumMessage(t.tag,t.objectId,t.payload,t.time):void 0===t.payload&&this.g.sendBangMessage(t.tag,t.objectId,t.time):t.type===r.TransportEvent?this.g.scheduleTransportEvent(t.time,t.state):t.type===r.TempoEvent?this.g.scheduleTempoEvent(t.time,t.tempo):t.type===r.BeatTimeEvent?this.g.scheduleBeatTimeEvent(t.time,t.beattime):t.type===r.TimeSignatureEvent&&this.g.scheduleTimeSignatureEvent(t.time,t.numerator,t.denominator)}getNumParameters(){return this.g.getNumParameters()}getParameterValue(t){return this.g.getParameterValue(t)}numIns(){return this.m}numOuts(){return this.v}getPreset(){return this.g.getPreset()}setPreset(t){this.g.setPreset(t)}}var m,v;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(m||(m={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(v||(v={}));class D extends AudioWorkletProcessor{constructor(r){super(r),this.P=128,this.T=r=>{switch(r.data[0]){case m.LoadPatcher:rnbo_module().then((t=>{this.C=new y(this,t),this.port.postMessage([v.LoadPatcherFinished])}));break;case m.ScheduleEvent:const i=r.data[1];this.C.scheduleEvent(i);break;case m.TransferBuffer:{const i=r.data[1],s=(r=>{switch(r.type){case t.Float32Audio:return new n(r.channels,r.sampleRate);case t.TypedArray:return new e;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${r.type}`)}})(i.typeDesc);this.C.setExternalData(i.memoryId,i.data,s),this.port.postMessage([v.TransferBufferFinished,{memoryId:i.memoryId}]);break}case m.ReleaseBuffer:{const t=r.data[1],[e,n]=this.C.releaseExternalData(t.memoryId);this.port.postMessage([v.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:n.serialize()}],[e]);break}case m.GetPreset:{const t=JSON.parse(this.C.getPreset());this.port.postMessage([v.GetPresetResponse,{preset:t}]);break}case m.SetPreset:{const t=r.data[1];this.C.setPreset(JSON.stringify(t.preset))}}},this.port.onmessage=this.T,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}handleParameterEvent(t){this.port.postMessage([v.OutgoingEvent,new c(t.time,t.index,t.value,t.source,void 0).serialize()])}handleMidiEvent(t){const e=new h(t.time,t.port,[t.b1,t.b2,t.b3],void 0);this.port.postMessage([v.OutgoingEvent,e.serialize()])}handleMessageEvent(t){const e=new u(t.time,this.C.resolveTag(t.tag),0==t.type?t.numValue:1===t.type?this.C.retrieveArray(t.listValue):void 0,this.C.resolveTag(t.objectId));this.port.postMessage([v.OutgoingEvent,e.serialize()])}handlePresetEvent(t){const e=new f(t.time,s.Touched);this.port.postMessage([v.OutgoingEvent,e.serialize()])}process(t,e,n){let r=0,i=0;if(!this.C||!this.C.isReady())return!0;let s=0;e.length&&e[0]&&e[0].length&&e[0][0]?s=e[0][0].length:t.length&&t[0]&&t[0].length&&t[0][0]&&(s=t[0][0].length),s||(s=this.P),this.P<s&&(this.P=s),this.C.setCurrentTime(1e3*currentTime),this.C.prepareToProcess(sampleRate,s);const a=[];for(let e=0;e<t.length&&r<this.C.numIns();e++){const n=t[e];for(let t=0;t<n.length&&r<this.C.numIns()&&n[t].length>0;t++)a.push(n[t]),r++}const o=[];for(let t=0;t<e.length&&i<this.C.numOuts();t++){const n=e[t];for(let t=0;t<n.length&&i<this.C.numOuts();t++)o.push(n[t]),i++}return this.C.process(a,r,o,i,s,n),!0}}let S="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";S.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(S="RNBOProcessor"),registerProcessor(S,D)})()})();'};class G extends P{constructor({context:Z,parameterNotificationSetting:H},z){super({context:Z,parameterNotificationSetting:H,type:S.Worklet}),z?this.it=z.it:(this.it=new V,this.it.setPatcherDesc(Q.desc),this.it.setPatcherCode(Q.src[0].code)),this.Mt=z?z.node:void 0}Lt(){let Z="[";const H=this.it.getNumParameters();let z=!0;for(let ee=0;ee<H;ee++){const se=this.it.getParameterInfo(ee);if(se&&se.type!==void 0&&se.type===M.ParameterTypeSignal&&se.ioType!==void 0&&se.ioType===M.IOTypeInput){const le=se.min===void 0?0:se.min,ue=se.max===void 0?1:se.max;z||(Z+=", "),Z+="{ name: '"+se.name+"', automationRate: 'a-rate', minValue: "+le+", maxValue: "+ue+"}",z=!1}}return Z+="]",Z}get node(){return this.wt(),this.Mt}setPatcher(Z,H){return(0,f.mG)(this,void 0,void 0,function*(){if(!this.it)throw new Error("Attempt to set patcher on a WorkletDevice without assigning engine first.");this.vt(),yield this.it.setPatcherDesc(Z),this.F.setEngine(this.it),this.it.outgoingEvent.subscribe(this.dt),this.it.prepareToProcess(this.context.sampleRate,128,!1),this.ft=H.type;const z=L[H.type];let ee=this.numInputChannels,se=this.numOutputChannels;ee<1&&(ee=1),se<1&&(se=1);const le=`RNBOProcessor-${(0,y.EL)()}`;let ue=z.replace("XXXX---RNBOPROCESSORNAME_REPLACE---XXXX",le).replace("XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX",this.Lt());switch(H.type){case"js":ue=ue.replace("XXXX___RNBOPATCHERDESC_REPLACE___XXXX",W.from(JSON.stringify(Z),"utf-8").toString("base64")).replace("XXXX___RNBOPATCHERSRC_REPLACE___XXXX",W.from(this.Et(H),"utf-8").toString("base64"));break;case"wasm":ue=this.Et(H)+`

`+ue}const _e=URL.createObjectURL(new Blob([ue],{type:"text/javascript"}));yield this.context.audioWorklet.addModule(_e),this.Mt=new(K())(this.context,le,this.it.eventSubjects,{numberOfInputs:ee,numberOfOutputs:1,outputChannelCount:[se]}),yield this.Mt.loadPatcher(),this.F.parameterChangeEvent.subscribe(this.gt)})}}var J=__webpack_require__(676);const B="1.2.5",Y={bufferSize:1024,parameterNotificationSetting:m.EX.All};function ie(ne,Z){var H,z,ee,se;return(0,f.mG)(this,void 0,void 0,function*(){const{context:le,patcher:ue,type:_e="auto"}=ne,Te=((z=(H=ue.desc)===null||H===void 0?void 0:H.meta)===null||z===void 0?void 0:z.rnboversion)||ue.desc.rnboVersion;if(Te!==B&&(console.error||console.log)(`
Warning: The patcher was exported with a RNBO version does not match the version of @rnbo/js:
@rnbo/js	v${B}
patcher		v${Te}
In order to have full compatibility and avoid unexpected behavior please ensure that you use the version of @rnbo/js that matches the version of RNBO you used to export your patcher.`.trim()),!(!((ee=ue.src)===null||ee===void 0)&&ee.length)||!Array.isArray(ue.src))throw new Error("Incompatible patcher. Please export you patch with a newer, matching version of RNBO or adjust the version of @rnbo/js you are using.");if(!new Set((se=ue.src)===null||se===void 0?void 0:se.map(ye=>ye.type)).has("js")&&!y.f8)throw new Error("Incompatible browser. RNBO requires WASM support in order to run your exported patch as a Device.");const me=ue.src.find(ye=>y.f8&&ye.type==="wasm")||ue.src.find(ye=>ye.type==="js"),Se=Object.assign({},Y,ne.options);if(!le)throw new Error("Missing argument context");if(_e===S.Worklet&&!y.I7)throw new Error("Failed to create WorkletDevice due to missing AudioWorklet support. Please use the Device.Script or 'auto' option instead");const ve=_e==="auto"?y.I7?S.Worklet:S.Script:_e;if(ve!==S.Script&&ve!==S.Worklet)throw new Error(`Unknown Device type ${ve}. Please make sure to use either 'auto' or a valid DeviceType`);let fe;if(ve===S.Script){if(Z&&!(Z instanceof X))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");fe=new X({bufferSize:Se.bufferSize,parameterNotificationSetting:Se.parameterNotificationSetting,context:le},(Z==null?void 0:Z.sourceType)===me.type?Z:void 0)}else if(ve===S.Worklet){if(Z&&!(Z instanceof G))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");fe=new G({context:le,parameterNotificationSetting:Se.parameterNotificationSetting},Z)}return Z&&Z.destroy(),fe=fe,yield fe.setPatcher(ue.desc,me),fe})}})(),__webpack_exports__})()},module.exports=factory()})(rnbo_webaudio);var rnbo_webaudioExports=rnbo_webaudio.exports;const dummy=new Oscillator({volume:-1/0,frequency:0,type:"sine1"}).start();class RNBODevice{constructor(){Jt(this,"defaults",{});Jt(this,"input");Jt(this,"output");Jt(this,"device");Jt(this,"ready",!1);Jt(this,"context",context.rawContext._nativeAudioContext||context.rawContext._context);Jt(this,"params");Jt(this,"patcher",null);Jt(this,"state",{last:60});this.input=new Gain(1),this.output=new Gain(1),dummy.connect(this.output),dummy.connect(this.input)}async initDevice(){var l;return(l=this.patcher)==null?void 0:l.then(u=>rnbo_webaudioExports.createDevice({context:this.context,patcher:u}).then(c=>{this.device=c,c.node.connect(this.output._gainNode._nativeAudioNode),this.input._gainNode._nativeAudioNode.connect(c.node),this.ready=!0}))}messageDevice(l,u,c){const g=new rnbo_webaudioExports.MessageEvent(c*1e3-10,l,[u]);this.device.scheduleEvent(g)}connect(l){this.output.connect(l)}disconnect(){this.output.disconnect()}setParams(l,u){Object.entries(l).filter(([c,g])=>this.params.includes(c)).forEach(([c,g])=>{c!=="i"&&this.state[c]===g||(this.state[c]=g,this[c]&&this[c](g,u))})}mutate(l={},u,c=100){if(!this.ready)return;const{nudge:g}=l,y=Object.entries(l).reduce((m,[_,p])=>({...m,[`_${_}`]:p}),{});this.setParams(y,u),this.messageDevice("mutate",c,u+(g||0)/1e3)}}class BaseSynth extends RNBODevice{constructor(){super();Jt(this,"defaults",{dur:1e3,n:60,pan:.5,vol:1,amp:1,hold:0,a:10,d:100,s:.8,r:500,moda:10,modd:100,mods:.8,modr:500,fila:10,fild:100,fils:.8,filr:500,res:0,cutoff:2e4,detune:0});this.dur=this.dur.bind(this),this.n=this.n.bind(this),this._n=this._n.bind(this),this.pan=this.pan.bind(this),this._pan=this._pan.bind(this),this.vol=this.vol.bind(this),this._vol=this._vol.bind(this),this.amp=this.amp.bind(this),this._amp=this._amp.bind(this),this.hold=this.hold.bind(this),this.a=this.a.bind(this),this.acurve=this.acurve.bind(this),this.d=this.d.bind(this),this.dcurve=this.dcurve.bind(this),this.s=this.s.bind(this),this.r=this.r.bind(this),this.rcurve=this.rcurve.bind(this),this.moda=this.moda.bind(this),this.modacurve=this.modacurve.bind(this),this.modd=this.modd.bind(this),this.moddcurve=this.moddcurve.bind(this),this.mods=this.mods.bind(this),this.modr=this.modr.bind(this),this.modrcurve=this.modrcurve.bind(this),this.fila=this.fila.bind(this),this.filacurve=this.filacurve.bind(this),this.fild=this.fild.bind(this),this.fildcurve=this.fildcurve.bind(this),this.fils=this.fils.bind(this),this.filr=this.filr.bind(this),this.filrcurve=this.filrcurve.bind(this),this.res=this.res.bind(this),this._res=this._res.bind(this),this.cutoff=this.cutoff.bind(this),this._cutoff=this._cutoff.bind(this),this.detune=this.detune.bind(this),this._detune=this._detune.bind(this)}play(u={},c){if(!this.ready)return;const g={...this.defaults,...u},{n:y,amp:m,nudge:_}=g;this.setParams(g,c);const p=new rnbo_webaudioExports.MIDIEvent(c*1e3+(_||0),0,[144,y||60,m*127]);this.device.scheduleEvent(p)}release(u,c){if(!this.ready)return;const g=new rnbo_webaudioExports.MIDIEvent(c*1e3+10,0,[128,u,0]);this.device.scheduleEvent(g)}cut(u,c=5){this.ready&&this.messageDevice("cut",c,u)}dur(u=1e3,c){this.messageDevice("dur",u,c)}n(u=60,c){this.messageDevice("n",u,c)}_n(u=60,c){this.messageDevice("_n",u,c)}nudge(u=0,c){}pan(u=.5,c){this.messageDevice("pan",u,c)}_pan(u=.5,c){this.messageDevice("_pan",u,c)}amp(u=1,c){this.messageDevice("amp",u,c)}_amp(u=1,c){this.messageDevice("_amp",u,c)}vol(u=1,c){this.messageDevice("vol",u,c)}_vol(u=1,c){this.messageDevice("_vol",u,c)}hold(u,c){this.messageDevice("hold",u,c)}a(u=10,c){this.messageDevice("a",u,c)}d(u=100,c){this.messageDevice("d",u,c)}s(u=.5,c){this.messageDevice("s",u,c)}r(u=1e3,c){this.messageDevice("r",u,c)}acurve(u,c){this.messageDevice("acurve",u,c)}dcurve(u,c){this.messageDevice("dcurve",u,c)}rcurve(u,c){this.messageDevice("rcurve",u,c)}moda(u=10,c){this.messageDevice("moda",u,c)}modd(u=100,c){this.messageDevice("modd",u,c)}mods(u=.8,c){this.messageDevice("mods",u,c)}modr(u=1e3,c){this.messageDevice("modr",u,c)}modacurve(u,c){this.messageDevice("modacurve",u,c)}moddcurve(u,c){this.messageDevice("moddcurve",u,c)}modrcurve(u,c){this.messageDevice("modrcurve",u,c)}fila(u=10,c){this.messageDevice("fila",u,c)}fild(u=100,c){this.messageDevice("fild",u,c)}fils(u=.8,c){this.messageDevice("fils",u,c)}filr(u=1e3,c){this.messageDevice("filr",u,c)}filacurve(u,c){this.messageDevice("filacurve",u,c)}fildcurve(u,c){this.messageDevice("fildcurve",u,c)}filrcurve(u,c){this.messageDevice("filrcurve",u,c)}res(u=0,c){this.messageDevice("res",u,c)}_res(u=0,c){this.messageDevice("_res",u,c)}cutoff(u=2e4,c){this.messageDevice("cutoff",u,c)}_cutoff(u=2e4,c){this.messageDevice("_cutoff",u,c)}detune(u=0,c){this.messageDevice("detune",u,c)}_detune(u=0,c){this.messageDevice("_detune",u,c)}}fetch(new URL(""+new URL("../assets/synth.export.bf528032.json",import.meta.url).href,self.location)).then(f=>f.json());fetch(new URL(""+new URL("../assets/synth-lite.export.29519492.json",import.meta.url).href,self.location)).then(f=>f.json());fetch(new URL(""+new URL("../assets/synth-gen.export.562f0fb5.json",import.meta.url).href,self.location)).then(f=>f.json());const patcher$4=fetch(new URL(""+new URL("../assets/superfm.export.27e59195.json",import.meta.url).href,self.location)).then(f=>f.json());class Synth extends BaseSynth{constructor(){super(),this.defaults={...this.defaults,a:10,d:100,s:.8,r:125,op1ratio:1,op1gain:1,op1fb:0,op2a:10,op2d:100,op2s:.8,op2r:1e3,op2ratio:1,op2gain:1,op2fb:0,op3a:10,op3d:100,op3s:.8,op3r:1e3,op3ratio:1,op3gain:1,op3fb:0},this.patcher=patcher$4,this.initDevice(),this.op1ratio=this.op1ratio.bind(this),this._op1ratio=this._op1ratio.bind(this),this.op1gain=this.op1gain.bind(this),this._op1gain=this._op1gain.bind(this),this.op1fb=this.op1fb.bind(this),this._op1fb=this._op1fb.bind(this),this.op2a=this.op2a.bind(this),this.op2d=this.op2d.bind(this),this.op2s=this.op2s.bind(this),this.op2r=this.op2r.bind(this),this.op2ratio=this.op2ratio.bind(this),this._op2ratio=this._op2ratio.bind(this),this.op2gain=this.op2gain.bind(this),this._op2gain=this._op2gain.bind(this),this.op2fb=this.op2fb.bind(this),this._op2fb=this._op2fb.bind(this),this.op3a=this.op3a.bind(this),this.op3d=this.op3d.bind(this),this.op3s=this.op3s.bind(this),this.op3r=this.op3r.bind(this),this.op3ratio=this.op3ratio.bind(this),this._op3ratio=this._op3ratio.bind(this),this.op3gain=this.op3gain.bind(this),this._op3gain=this._op3gain.bind(this),this.op3fb=this.op3fb.bind(this),this._op3fb=this._op3fb.bind(this),this.params=Object.getOwnPropertyNames(this)}op1ratio(l=0,u){this.messageDevice("op1ratio",l,u)}_op1ratio(l=0,u){this.messageDevice("_op1ratio",l,u)}op1gain(l=0,u){this.messageDevice("op1gain",l,u)}_op1gain(l=0,u){this.messageDevice("_op1gain",l,u)}op1fb(l=0,u){this.messageDevice("op1fb",l,u)}_op1fb(l=0,u){this.messageDevice("_op1fb",l,u)}op2a(l=0,u){this.messageDevice("op2a",l,u)}op2d(l=0,u){this.messageDevice("op2d",l,u)}op2s(l=0,u){this.messageDevice("op2s",l,u)}op2r(l=0,u){this.messageDevice("op2r",l,u)}op2ratio(l=0,u){this.messageDevice("op2ratio",l,u)}_op2ratio(l=0,u){this.messageDevice("_op2ratio",l,u)}op2gain(l=0,u){this.messageDevice("op2gain",l,u)}_op2gain(l=0,u){this.messageDevice("_op2gain",l,u)}op2fb(l=0,u){this.messageDevice("op2fb",l,u)}_op2fb(l=0,u){this.messageDevice("_op2fb",l,u)}op3a(l=0,u){this.messageDevice("op3a",l,u)}op3d(l=0,u){this.messageDevice("op3d",l,u)}op3s(l=0,u){this.messageDevice("op3s",l,u)}op3r(l=0,u){this.messageDevice("op3r",l,u)}op3ratio(l=0,u){this.messageDevice("op3ratio",l,u)}_op3ratio(l=0,u){this.messageDevice("_op3ratio",l,u)}op3gain(l=0,u){this.messageDevice("op3gain",l,u)}_op3gain(l=0,u){this.messageDevice("_op3gain",l,u)}op3fb(l=0,u){this.messageDevice("op3fb",l,u)}_op3fb(l=0,u){this.messageDevice("_op3fb",l,u)}}const samples={};class BaseSamplingDevice extends BaseSynth{constructor(){super();Jt(this,"nextBuffer",0);Jt(this,"banks",{});Jt(this,"currentBank","");Jt(this,"buffers",{});this.bank=this.bank.bind(this),this.i=this.i.bind(this)}async bank(u){this.currentBank=u}async loadSample(u,c){const g=this.banks[u][c],y=Object.values(this.buffers).indexOf(g);if(y<0){const m=`${u}-${c}`,_=samples[m]||await fetch(g).then(x=>x.arrayBuffer()).then(x=>this.context.decodeAudioData(x)).catch(x=>console.log(x)),p=`b${this.nextBuffer}`;this.device.setDataBuffer(p,_),this.buffers[p]=g,samples[m]=_,this.nextBuffer=(this.nextBuffer+1)%32}return y}async i(u,c){if(!this.currentBank)return;const g=u%this.banks[this.currentBank].length,y=await this.loadSample(this.currentBank,g);this.messageDevice("i",y,c)}}const patcher$3=fetch(new URL(""+new URL("../assets/sampler.export.595d99a2.json",import.meta.url).href,self.location)).then(f=>f.json());class Sampler extends BaseSamplingDevice{constructor(){super(),this.defaults={...this.defaults,i:0,snap:0,rate:1,a:5,d:10,s:1,r:100,bpm:120,begin:0,end:1,loop:0,oneshot:0,loopsize:1},this.patcher=patcher$3,this.initDevice(),this.snap=this.snap.bind(this),this.rate=this.rate.bind(this),this._rate=this._rate.bind(this),this.begin=this.begin.bind(this),this.end=this.end.bind(this),this.loop=this.loop.bind(this),this.loopsize=this.loopsize.bind(this),this._loopsize=this._loopsize.bind(this),this.oneshot=this.oneshot.bind(this),this.bpm=this.bpm.bind(this),this.params=Object.getOwnPropertyNames(this)}snap(l=0,u){this.messageDevice("snap",l,u)}rate(l=1,u){this.messageDevice("rate",l,u)}_rate(l=1,u){this.messageDevice("_rate",l,u)}begin(l=0,u){this.messageDevice("begin",l,u)}end(l=1,u){this.messageDevice("end",l,u)}loop(l=0,u){this.messageDevice("loop",l,u)}loopsize(l=1,u){this.messageDevice("loopsize",l,u)}_loopsize(l=1,u){this.messageDevice("_loopsize",l,u)}oneshot(l=0,u){this.messageDevice("oneshot",l,u)}bpm(l=120,u){this.messageDevice("bpm",l,u)}}const patcher$2=fetch(new URL(""+new URL("../assets/granular.export.22794cb4.json",import.meta.url).href,self.location)).then(f=>f.json());class Granular extends BaseSamplingDevice{constructor(){super(),this.defaults={...this.defaults,i:0,snap:0,rate:1,a:0,d:10,s:1,r:100,bpm:60,grainrate:16,grainsize:.125,grainslope:.01,grainpan:.2,direction:1,begin:0,end:1},this.patcher=patcher$2,this.initDevice(),this.snap=this.snap.bind(this),this.rate=this.rate.bind(this),this._rate=this._rate.bind(this),this.grainrate=this.grainrate.bind(this),this._grainrate=this._grainrate.bind(this),this.grainsize=this.grainsize.bind(this),this._grainsize=this._grainsize.bind(this),this.grainslope=this.grainslope.bind(this),this._grainslope=this._grainslope.bind(this),this.grainpan=this.grainpan.bind(this),this._grainpan=this._grainpan.bind(this),this.direction=this.direction.bind(this),this._direction=this._direction.bind(this),this.begin=this.begin.bind(this),this.end=this.end.bind(this),this.loop=this.loop.bind(this),this.bpm=this.bpm.bind(this),this.params=Object.getOwnPropertyNames(this)}snap(l=0,u){this.messageDevice("snap",l,u)}rate(l=1,u){this.messageDevice("rate",l,u)}_rate(l=1,u){this.messageDevice("_rate",l,u)}grainrate(l=16,u){this.messageDevice("grainrate",l,u)}_grainrate(l=16,u){this.messageDevice("_grainrate",l,u)}grainsize(l=.125,u){this.messageDevice("grainsize",l,u)}_grainsize(l=.125,u){this.messageDevice("_grainsize",l,u)}grainslope(l=.01,u){this.messageDevice("grainslope",l,u)}_grainslope(l=.01,u){this.messageDevice("_grainslope",l,u)}grainpan(l=.2,u){this.messageDevice("grainpan",l,u)}_grainpan(l=.2,u){this.messageDevice("_grainpan",l,u)}direction(l=1,u){this.messageDevice("direction",l,u)}_direction(l=1,u){this.messageDevice("_direction",l,u)}begin(l=0,u){this.messageDevice("begin",l,u)}end(l=1,u){this.messageDevice("end",l,u)}loop(l=0,u){this.messageDevice("loop",l,u)}bpm(l=120,u){this.messageDevice("bpm",l,u)}}fetch(new URL(""+new URL("../assets/additive.export.a0581da3.json",import.meta.url).href,self.location)).then(f=>f.json());fetch(new URL(""+new URL("../assets/acid.export.a0c8e199.json",import.meta.url).href,self.location)).then(f=>f.json());fetch(new URL(""+new URL("../assets/drone.export.6a7fa125.json",import.meta.url).href,self.location)).then(f=>f.json());fetch(new URL(""+new URL("../assets/sub.export.6fba58bd.json",import.meta.url).href,self.location)).then(f=>f.json());const patcher$1=fetch(new URL(""+new URL("../assets/wavetable.export.4e74a402.json",import.meta.url).href,self.location)).then(f=>f.json());class Wavetable extends BaseSamplingDevice{constructor(){super(),this.defaults={...this.defaults,dur:1e3,tablesize:256,rows:16,xlfo:.02,ylfo:.3},this.patcher=patcher$1,this.initDevice(),this.tablesize=this.tablesize.bind(this),this.rows=this.rows.bind(this),this.xlfo=this.xlfo.bind(this),this._xlfo=this._xlfo.bind(this),this.ylfo=this.ylfo.bind(this),this._ylfo=this._ylfo.bind(this),this.params=Object.getOwnPropertyNames(this)}tablesize(l=256,u){this.messageDevice("tablesize",l,u)}rows(l=16,u){this.messageDevice("rows",l,u)}xlfo(l=0,u){this.messageDevice("xlfo",l,u)}_xlfo(l=0,u){this.messageDevice("_xlfo",l,u)}ylfo(l=0,u){this.messageDevice("ylfo",l,u)}_ylfo(l=0,u){this.messageDevice("_ylfo",l,u)}}const patcher=fetch(new URL(""+new URL("../assets/fx.export.7977c06e.json",import.meta.url).href,self.location)).then(f=>f.json());class FXChain extends RNBODevice{constructor(){super(),this.defaults={dist:0,drive:.25,ring:0,ringf:.25,ringspread:0,ringmode:0,hicut:0,locut:0,chorus:0,chdepth:.25,chlfo:.25,chspread:.25,delay:0,dtime:500,dfb:.5,dspread:0,dcolour:.25,dfilter:0,reverb:0,rsize:.25,rdamp:.25,rdiff:.25,rjitter:0,rdecay:.25,gain:1,lthresh:1},this.patcher=patcher,this.initDevice(),this.dist=this.dist.bind(this),this._dist=this._dist.bind(this),this.drive=this.drive.bind(this),this._drive=this._drive.bind(this),this.ring=this.ring.bind(this),this._ring=this._ring.bind(this),this.ringf=this.ringf.bind(this),this._ringf=this._ringf.bind(this),this.ringspread=this.ringspread.bind(this),this._ringspread=this._ringspread.bind(this),this.ringmode=this.ringmode.bind(this),this._ringmode=this._ringmode.bind(this),this.hicut=this.hicut.bind(this),this._hicut=this._hicut.bind(this),this.locut=this.locut.bind(this),this._locut=this._locut.bind(this),this.chorus=this.chorus.bind(this),this._chorus=this._chorus.bind(this),this.chdepth=this.chdepth.bind(this),this._chdepth=this._chdepth.bind(this),this.chlfo=this.chlfo.bind(this),this._chlfo=this._chlfo.bind(this),this.chspread=this.chspread.bind(this),this._chspread=this._chspread.bind(this),this.delay=this.delay.bind(this),this._delay=this._delay.bind(this),this.dtime=this.dtime.bind(this),this._dtime=this._dtime.bind(this),this.dfb=this.dfb.bind(this),this._dfb=this._dfb.bind(this),this.dspread=this.dspread.bind(this),this._dspread=this._dspread.bind(this),this.dcolour=this.dcolour.bind(this),this._dcolour=this._dcolour.bind(this),this.dfilter=this.dfilter.bind(this),this._dfilter=this._dfilter.bind(this),this.reverb=this.reverb.bind(this),this._reverb=this._reverb.bind(this),this.rsize=this.rsize.bind(this),this._rsize=this._rsize.bind(this),this.rdamp=this.rdamp.bind(this),this._rdamp=this._rdamp.bind(this),this.rdiff=this.rdiff.bind(this),this._rdiff=this._rdiff.bind(this),this.rjitter=this.rjitter.bind(this),this._rjitter=this._rjitter.bind(this),this.rdecay=this.rdecay.bind(this),this._rdecay=this._rdecay.bind(this),this.gain=this.gain.bind(this),this._gain=this._gain.bind(this),this.lthresh=this.lthresh.bind(this),this._lthresh=this._lthresh.bind(this),this.params=Object.getOwnPropertyNames(this)}set(l={},u){if(!this.ready)return;const c={...this.defaults,...l};this.setParams(c,u);const g=new rnbo_webaudioExports.MIDIEvent(u*1e3,0,[144,60,127]);this.device.scheduleEvent(g)}dist(l=0,u){this.messageDevice("dist",l,u)}_dist(l=0,u){this.messageDevice("_dist",l,u)}drive(l=.5,u){this.messageDevice("drive",l,u)}_drive(l=.5,u){this.messageDevice("_drive",l,u)}ring(l=0,u){this.messageDevice("ring",l,u)}_ring(l=0,u){this.messageDevice("_ring",l,u)}ringf(l=.25,u){this.messageDevice("ringf",l,u)}_ringf(l=.25,u){this.messageDevice("_ringf",l,u)}ringspread(l=0,u){this.messageDevice("ringspread",l,u)}_ringspread(l=0,u){this.messageDevice("_ringspread",l,u)}ringmode(l=0,u){this.messageDevice("ringmode",l,u)}_ringmode(l=0,u){this.messageDevice("_ringmode",l,u)}chorus(l=0,u){this.messageDevice("chorus",l,u)}_chorus(l=0,u){this.messageDevice("_chorus",l,u)}chdepth(l=.25,u){this.messageDevice("chdepth",l,u)}_chdepth(l=.25,u){this.messageDevice("_chdepth",l,u)}chlfo(l=.25,u){this.messageDevice("chlfo",l,u)}_chlfo(l=.25,u){this.messageDevice("_chlfo",l,u)}chspread(l=.25,u){this.messageDevice("chspread",l,u)}_chspread(l=.25,u){this.messageDevice("_chspread",l,u)}hicut(l=0,u){this.messageDevice("hicut",l,u)}_hicut(l=0,u){this.messageDevice("_hicut",l,u)}locut(l=0,u){this.messageDevice("locut",l,u)}_locut(l=0,u){this.messageDevice("_locut",l,u)}delay(l=0,u){this.messageDevice("delay",l,u)}_delay(l=0,u){this.messageDevice("_delay",l,u)}dtime(l=500,u){this.messageDevice("dtime",l,u)}_dtime(l=500,u){this.messageDevice("_dtime",l,u)}dfb(l=.5,u){this.messageDevice("dfb",l,u)}_dfb(l=.5,u){this.messageDevice("_dfb",l,u)}dspread(l=0,u){this.messageDevice("dspread",l,u)}_dspread(l=0,u){this.messageDevice("_dspread",l,u)}dcolour(l=.25,u){this.messageDevice("dcolour",l,u)}_dcolour(l=.25,u){this.messageDevice("_dcolour",l,u)}dfilter(l=0,u){this.messageDevice("dfilter",l,u)}_dfilter(l=0,u){this.messageDevice("_dfilter",l,u)}reverb(l=0,u){this.messageDevice("reverb",l,u)}_reverb(l=0,u){this.messageDevice("_reverb",l,u)}rsize(l=.25,u){this.messageDevice("rsize",l,u)}_rsize(l=.25,u){this.messageDevice("_rsize",l,u)}rdamp(l=.25,u){this.messageDevice("rdamp",l,u)}_rdamp(l=.25,u){this.messageDevice("_rdamp",l,u)}rdiff(l=.25,u){this.messageDevice("rdiff",l,u)}_rdiff(l=.25,u){this.messageDevice("_rdiff",l,u)}rjitter(l=0,u){this.messageDevice("rjitter",l,u)}_rjitter(l=0,u){this.messageDevice("_rjitter",l,u)}rdecay(l=.25,u){this.messageDevice("rdecay",l,u)}_rdecay(l=.25,u){this.messageDevice("_rdecay",l,u)}gain(l=1,u){this.messageDevice("gain",l,u)}_gain(l=1,u){this.messageDevice("_gain",l,u)}lthresh(l=1,u){this.messageDevice("lthresh",l,u)}_lthresh(l=1,u){this.messageDevice("_lthresh",l,u)}}fetch(new URL(""+new URL("../assets/fx-channel.export.ba7289dd.json",import.meta.url).href,self.location)).then(f=>f.json());fetch(new URL(""+new URL("../assets/fx-reverb.export.799a4f40.json",import.meta.url).href,self.location)).then(f=>f.json());fetch(new URL(""+new URL("../assets/fx-delay.export.9ce6e69c.json",import.meta.url).href,self.location)).then(f=>f.json());fetch(new URL(""+new URL("../assets/reverb-gen.export.83d0610a.json",import.meta.url).href,self.location)).then(f=>f.json());const CtSuperFM=Synth,CtSampler=Sampler,CtGranulator=Granular,CtFXChain=FXChain,CtWavetable=Wavetable;async function startAudio(){await start(),console.log("started audio"),window.removeEventListener("keydown",startAudio),window.removeEventListener("click",startAudio),window.removeEventListener("touchstart",startAudio)}const output=new Gain(1).toDestination();volume.subscribe(f=>{output.gain.value=f});const limiter=new Limiter(-10).connect(output),fx=new CtFXChain;fx.connect(limiter);const crush=new BitCrusher({bits:4,wet:0}).connect(fx.input),synth=new CtSuperFM;synth.connect(crush);const sampler=new CtSampler;sampler.banks={default:get_store_value(samples$1)};sampler.bank("default");sampler.connect(crush);const granular=new CtGranulator;granular.banks={default:get_store_value(samples$1)};granular.bank("default");granular.connect(crush);const wavetable=new CtWavetable;wavetable.banks={default:get_store_value(samples$1)};wavetable.bank("default");wavetable.connect(crush);samples$1.subscribe(f=>[sampler,granular,wavetable].forEach(l=>{l.banks={default:f}}));const instruments={synth,sampler,granular,wavetable},handleEvent=f=>{var m,_;if(get_store_value(mute))return;const{inst:l,n:u,semitone:c,octave:g}=f,y=c+g*12;get_store_value(drone)&&l==="synth"&&((m=instruments[l])==null||m.cut(immediate())),(_=instruments[l])==null||_.play({...f,n:u,detune:y},immediate()+.01),fx.set(f,immediate()),crush.wet.value=f.crush,crush.set({bits:mapToStepRange(f.crush,0,1,16,4,1)})},handleNoteOff=(f,l)=>{var u;!get_store_value(drone)&&((u=instruments[f])==null||u.release(l,immediate()))},cut=()=>{var l,u,c,g;const f=get_store_value(envelopeValues).r;(l=instruments.synth)==null||l.cut(immediate(),f),(u=instruments.sampler)==null||u.cut(immediate(),f),(c=instruments.granular)==null||c.cut(immediate(),f),(g=instruments.wavetable)==null||g.cut(immediate(),f)},handleMutation=f=>{var y;const{inst:l,semitone:u,octave:c}=f,g=u+c*12;(y=instruments[l])==null||y.mutate({...f,detune:g},immediate()),fx.mutate(f,immediate()),crush.wet.value=f.crush,crush.set({bits:mapToStepRange(f.crush,0,1,16,4,1)})},loadSample=f=>{Object.values(instruments).map(l=>l.loadSample&&l.loadSample("default",f))};synthValues.subscribe(f=>handleMutation(f));drone.subscribe(f=>(!f&&cut(),f));const Dialog_svelte_svelte_type_style_lang="";function create_fragment$w(f){let l,u,c,g,y;const m=f[2].default,_=create_slot(m,f,f[1],null);return{c(){l=element("dialog"),u=element("div"),_&&_.c(),this.h()},l(p){l=claim_element(p,"DIALOG",{class:!0});var x=children(l);u=claim_element(x,"DIV",{});var E=children(u);_&&_.l(E),E.forEach(detach),x.forEach(detach),this.h()},h(){attr(l,"class","svelte-h3v73y")},m(p,x){insert_hydration(p,l,x),append_hydration(l,u),_&&_.m(u,null),f[5](l),c=!0,g||(y=[listen(u,"click",stop_propagation(f[4])),listen(l,"click",f[6]),listen(l,"keydown",f[7]),listen(l,"close",f[3])],g=!0)},p(p,[x]){_&&_.p&&(!c||x&2)&&update_slot_base(_,m,p,p[1],c?get_slot_changes(m,p[1],x,null):get_all_dirty_from_scope(p[1]),null)},i(p){c||(transition_in(_,p),c=!0)},o(p){transition_out(_,p),c=!1},d(p){p&&detach(l),_&&_.d(p),f[5](null),g=!1,run_all(y)}}}function instance$u(f,l,u){let{$$slots:c={},$$scope:g}=l,{dialog:y}=l;function m(A){bubble.call(this,f,A)}function _(A){bubble.call(this,f,A)}function p(A){binding_callbacks[A?"unshift":"push"](()=>{y=A,u(0,y)})}const x=()=>y==null?void 0:y.close(),E=A=>{A.key==="Enter"&&A.preventDefault(),A.key==="Escape"&&(y==null||y.close())};return f.$$set=A=>{"dialog"in A&&u(0,y=A.dialog),"$$scope"in A&&u(1,g=A.$$scope)},[y,g,c,m,_,p,x,E]}class Dialog extends SvelteComponent{constructor(l){super(),init(this,l,instance$u,create_fragment$w,safe_not_equal,{dialog:0})}}const Save_svelte_svelte_type_style_lang="";function create_fragment$v(f){let l,u,c,g,y;return g=new Input({props:{id:"save",placeholder:"name"}}),g.$on("enter",f[1]),{c(){l=element("label"),u=text("Save as"),c=space(),create_component(g.$$.fragment),this.h()},l(m){l=claim_element(m,"LABEL",{class:!0});var _=children(l);u=claim_text(_,"Save as"),_.forEach(detach),c=claim_space(m),claim_component(g.$$.fragment,m),this.h()},h(){attr(l,"class","svelte-eh7p64")},m(m,_){insert_hydration(m,l,_),append_hydration(l,u),insert_hydration(m,c,_),mount_component(g,m,_),y=!0},p:noop,i(m){y||(transition_in(g.$$.fragment,m),y=!0)},o(m){transition_out(g.$$.fragment,m),y=!1},d(m){m&&detach(l),m&&detach(c),destroy_component(g,m)}}}function instance$t(f){const l=createEventDispatcher();return[l,({detail:c})=>{l("save"),savePreset(c)}]}class Save extends SvelteComponent{constructor(l){super(),init(this,l,instance$t,create_fragment$v,safe_not_equal,{})}}const Presets_svelte_svelte_type_style_lang="";function create_if_block_4$3(f){let l,u;return l=new Select({props:{id:"load-preset",background:"transparent",options:[{name:"Load preset",value:"load",active:!1},...f[7].map(func$1)],disabled:!f[7].length,selected:f[6],onChange:f[13]}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g&128&&(y.options=[{name:"Load preset",value:"load",active:!1},...c[7].map(func$1)]),g&128&&(y.disabled=!c[7].length),g&64&&(y.selected=c[6]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_if_block_3$4(f){let l,u,c;function g(m){f[14](m)}let y={id:"preset-name",placeholder:"TYPE A NAME...",showLabel:!1,border:"1px solid white",classes:"ml-2",uppercase:!0};return f[5]!==void 0&&(y.value=f[5]),l=new Input({props:y}),binding_callbacks.push(()=>bind(l,"value",g)),l.$on("enter",f[8]),{c(){create_component(l.$$.fragment)},l(m){claim_component(l.$$.fragment,m)},m(m,_){mount_component(l,m,_),c=!0},p(m,_){const p={};!u&&_&32&&(u=!0,p.value=m[5],add_flush_callback(()=>u=!1)),l.$set(p)},i(m){c||(transition_in(l.$$.fragment,m),c=!0)},o(m){transition_out(l.$$.fragment,m),c=!1},d(m){destroy_component(l,m)}}}function create_if_block_2$6(f){let l,u;return l=new Button({props:{icon:faFloppyDisk,colour:"yellow",onClick:f[8],classes:"ml-2",narrow:!0}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p:noop,i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_if_block_1$8(f){let l,u,c,g;return l=new Button({props:{icon:faPen,colour:"yellow",onClick:f[9],classes:"ml-2",narrow:!0}}),c=new Button({props:{icon:faTrash,colour:"yellow",onClick:f[10],classes:"ml-2",narrow:!0}}),{c(){create_component(l.$$.fragment),u=space(),create_component(c.$$.fragment)},l(y){claim_component(l.$$.fragment,y),u=claim_space(y),claim_component(c.$$.fragment,y)},m(y,m){mount_component(l,y,m),insert_hydration(y,u,m),mount_component(c,y,m),g=!0},p:noop,i(y){g||(transition_in(l.$$.fragment,y),transition_in(c.$$.fragment,y),g=!0)},o(y){transition_out(l.$$.fragment,y),transition_out(c.$$.fragment,y),g=!1},d(y){destroy_component(l,y),y&&detach(u),destroy_component(c,y)}}}function create_if_block$c(f){let l,u;return l=new Button({props:{icon:faAdd,colour:"yellow",onClick:f[11],classes:"ml-2",narrow:!0}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p:noop,i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_default_slot$4(f){let l,u;return l=new Save({}),l.$on("save",f[15]),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p:noop,i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_fragment$u(f){let l,u,c,g,y,m,_,p,x,E,A,b=!f[4]&&!f[3]&&create_if_block_4$3(f),k=(f[4]||f[3])&&create_if_block_3$4(f),S=(f[4]||f[3])&&create_if_block_2$6(f),T=f[1]!=="load"&&!f[3]&&create_if_block_1$8(f),P=!f[4]&&!f[3]&&create_if_block$c(f);function C(j){f[16](j)}let M={$$slots:{default:[create_default_slot$4]},$$scope:{ctx:f}};return f[2]!==void 0&&(M.dialog=f[2]),_=new Dialog({props:M}),binding_callbacks.push(()=>bind(_,"dialog",C)),_.$on("close",f[17]),{c(){l=element("div"),b&&b.c(),u=space(),k&&k.c(),c=space(),S&&S.c(),g=space(),T&&T.c(),y=space(),P&&P.c(),m=space(),create_component(_.$$.fragment),this.h()},l(j){l=claim_element(j,"DIV",{class:!0});var I=children(l);b&&b.l(I),u=claim_space(I),k&&k.l(I),c=claim_space(I),S&&S.l(I),g=claim_space(I),T&&T.l(I),y=claim_space(I),P&&P.l(I),I.forEach(detach),m=claim_space(j),claim_component(_.$$.fragment,j),this.h()},h(){attr(l,"class","presets svelte-1raz1c0"),toggle_class(l,"presets--hidden",f[0])},m(j,I){insert_hydration(j,l,I),b&&b.m(l,null),append_hydration(l,u),k&&k.m(l,null),append_hydration(l,c),S&&S.m(l,null),append_hydration(l,g),T&&T.m(l,null),append_hydration(l,y),P&&P.m(l,null),insert_hydration(j,m,I),mount_component(_,j,I),x=!0,E||(A=listen(window,"keydown",f[12]),E=!0)},p(j,[I]){!j[4]&&!j[3]?b?(b.p(j,I),I&24&&transition_in(b,1)):(b=create_if_block_4$3(j),b.c(),transition_in(b,1),b.m(l,u)):b&&(group_outros(),transition_out(b,1,1,()=>{b=null}),check_outros()),j[4]||j[3]?k?(k.p(j,I),I&24&&transition_in(k,1)):(k=create_if_block_3$4(j),k.c(),transition_in(k,1),k.m(l,c)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros()),j[4]||j[3]?S?(S.p(j,I),I&24&&transition_in(S,1)):(S=create_if_block_2$6(j),S.c(),transition_in(S,1),S.m(l,g)):S&&(group_outros(),transition_out(S,1,1,()=>{S=null}),check_outros()),j[1]!=="load"&&!j[3]?T?(T.p(j,I),I&10&&transition_in(T,1)):(T=create_if_block_1$8(j),T.c(),transition_in(T,1),T.m(l,y)):T&&(group_outros(),transition_out(T,1,1,()=>{T=null}),check_outros()),!j[4]&&!j[3]?P?(P.p(j,I),I&24&&transition_in(P,1)):(P=create_if_block$c(j),P.c(),transition_in(P,1),P.m(l,null)):P&&(group_outros(),transition_out(P,1,1,()=>{P=null}),check_outros()),(!x||I&1)&&toggle_class(l,"presets--hidden",j[0]);const O={};I&524292&&(O.$$scope={dirty:I,ctx:j}),!p&&I&4&&(p=!0,O.dialog=j[2],add_flush_callback(()=>p=!1)),_.$set(O)},i(j){x||(transition_in(b),transition_in(k),transition_in(S),transition_in(T),transition_in(P),transition_in(_.$$.fragment,j),x=!0)},o(j){transition_out(b),transition_out(k),transition_out(S),transition_out(T),transition_out(P),transition_out(_.$$.fragment,j),x=!1},d(j){j&&detach(l),b&&b.d(),k&&k.d(),S&&S.d(),T&&T.d(),P&&P.d(),j&&detach(m),destroy_component(_,j),E=!1,A()}}}const func$1=f=>({name:f,value:f,active:!0});function instance$s(f,l,u){let c,g,y;component_subscribe(f,activePreset,R=>u(1,g=R)),component_subscribe(f,presetKeys,R=>u(7,y=R)),library$1.add(faChevronLeft,faChevronRight,faFloppyDisk,faTrash,faPen,faAdd);let{hidden:m=!1}=l,_,p=!1,x=!1,E="";const A=()=>_==null?void 0:_.showModal();onMount(()=>document.addEventListener("isSaving",A)),onDestroy(()=>document.removeEventListener("isSaving",A));const b=()=>{x?editPreset(E):savePreset(E),u(3,p=!1),u(4,x=!1)},k=()=>{u(5,E=c),u(4,x=!0),u(3,p=!0)},S=()=>{deletePreset(c)},T=()=>{u(5,E=""),u(3,p=!0)},P=R=>{(R.key==="Escape"||R.key==="Enter")&&(u(3,p=!1),u(4,x=!1),mute.set(!1))},C=R=>activePreset.set(R.target.value);function M(R){E=R,u(5,E)}const j=()=>_.close();function I(R){_=R,u(2,_)}const O=()=>_.close();return f.$$set=R=>{"hidden"in R&&u(0,m=R.hidden)},f.$$.update=()=>{f.$$.dirty&2&&u(6,c=g||"load")},[m,g,_,p,x,E,c,y,b,k,S,T,P,C,M,j,I,O]}class Presets extends SvelteComponent{constructor(l){super(),init(this,l,instance$s,create_fragment$u,safe_not_equal,{hidden:0})}}const RangeSlider_svelte_svelte_type_style_lang="";function create_fragment$t(f){let l,u,c=f[0].toLocaleString("fullwide",{maximumFractionDigits:2})+"",g,y,m,_,p,x,E,A,b,k,S,T=f[1].toLocaleString("fullwide",{maximumFractionDigits:2})+"",P,C,M,j;return{c(){l=element("div"),u=element("span"),g=text(c),y=text(f[5]),m=space(),_=element("div"),p=element("input"),x=space(),E=element("input"),A=space(),b=element("input"),k=space(),S=element("span"),P=text(T),C=text(f[5]),this.h()},l(I){l=claim_element(I,"DIV",{class:!0});var O=children(l);u=claim_element(O,"SPAN",{class:!0});var R=children(u);g=claim_text(R,c),y=claim_text(R,f[5]),R.forEach(detach),m=claim_space(O),_=claim_element(O,"DIV",{class:!0});var D=children(_);p=claim_element(D,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),x=claim_space(D),E=claim_element(D,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),A=claim_space(D),b=claim_element(D,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),D.forEach(detach),k=claim_space(O),S=claim_element(O,"SPAN",{class:!0});var N=children(S);P=claim_text(N,T),C=claim_text(N,f[5]),N.forEach(detach),O.forEach(detach),this.h()},h(){attr(u,"class"," svelte-1sqoubi"),attr(p,"class","min svelte-1sqoubi"),attr(p,"type","range"),attr(p,"min",f[2]),attr(p,"max",f[3]),attr(p,"step",f[4]),attr(E,"class","track svelte-1sqoubi"),attr(E,"type","range"),attr(E,"min",f[2]),attr(E,"max",f[3]),attr(E,"step",f[4]),E.value=f[6],E.disabled=!0,attr(b,"class","max svelte-1sqoubi"),attr(b,"type","range"),attr(b,"min",f[2]),attr(b,"max",f[3]),attr(b,"step",f[4]),attr(_,"class","slider svelte-1sqoubi"),attr(S,"class"," svelte-1sqoubi"),attr(l,"class","range-slider svelte-1sqoubi")},m(I,O){insert_hydration(I,l,O),append_hydration(l,u),append_hydration(u,g),append_hydration(u,y),append_hydration(l,m),append_hydration(l,_),append_hydration(_,p),set_input_value(p,f[0]),append_hydration(_,x),append_hydration(_,E),append_hydration(_,A),append_hydration(_,b),set_input_value(b,f[1]),append_hydration(l,k),append_hydration(l,S),append_hydration(S,P),append_hydration(S,C),M||(j=[listen(p,"change",f[7]),listen(p,"input",f[7]),listen(b,"change",f[8]),listen(b,"input",f[8])],M=!0)},p(I,[O]){O&1&&c!==(c=I[0].toLocaleString("fullwide",{maximumFractionDigits:2})+"")&&set_data(g,c),O&32&&set_data(y,I[5]),O&4&&attr(p,"min",I[2]),O&8&&attr(p,"max",I[3]),O&16&&attr(p,"step",I[4]),O&1&&set_input_value(p,I[0]),O&4&&attr(E,"min",I[2]),O&8&&attr(E,"max",I[3]),O&16&&attr(E,"step",I[4]),O&64&&(E.value=I[6]),O&4&&attr(b,"min",I[2]),O&8&&attr(b,"max",I[3]),O&16&&attr(b,"step",I[4]),O&2&&set_input_value(b,I[1]),O&2&&T!==(T=I[1].toLocaleString("fullwide",{maximumFractionDigits:2})+"")&&set_data(P,T),O&32&&set_data(C,I[5])},i:noop,o:noop,d(I){I&&detach(l),M=!1,run_all(j)}}}function instance$r(f,l,u){let{min:c=0}=l,{max:g=1}=l,{step:y=.01}=l,{units:m="%"}=l,{rangeA:_=0}=l,{rangeB:p=1}=l,{value:x=.5}=l;function E(){_=to_number(this.value),u(0,_)}function A(){p=to_number(this.value),u(1,p)}return f.$$set=b=>{"min"in b&&u(2,c=b.min),"max"in b&&u(3,g=b.max),"step"in b&&u(4,y=b.step),"units"in b&&u(5,m=b.units),"rangeA"in b&&u(0,_=b.rangeA),"rangeB"in b&&u(1,p=b.rangeB),"value"in b&&u(6,x=b.value)},[_,p,c,g,y,m,x,E,A]}class RangeSlider extends SvelteComponent{constructor(l){super(),init(this,l,instance$r,create_fragment$t,safe_not_equal,{min:2,max:3,step:4,units:5,rangeA:0,rangeB:1,value:6})}}var t={dragStart:!0},e$1=(f,l,u)=>Math.min(Math.max(f,l),u),n=f=>typeof f=="string",r=([f,l],u,c)=>{const g=(y,m)=>m===0?0:Math.ceil(y/m)*m;return[g(u,f),g(c,l)]},o=(f,l)=>f.some(u=>l.some(c=>u.contains(c)));function i(f,l){if(f===void 0)return;if(s(f))return f.getBoundingClientRect();if(typeof f=="object"){const{top:c=0,left:g=0,right:y=0,bottom:m=0}=f;return{top:c,right:window.innerWidth-y,bottom:window.innerHeight-m,left:g}}if(f==="parent")return l.parentNode.getBoundingClientRect();const u=document.querySelector(f);if(u===null)throw new Error("The selector provided for bound doesn't exists in the document.");return u.getBoundingClientRect()}var a=(f,l,u)=>f.style.setProperty(l,u),s=f=>f instanceof HTMLElement,d=(f,l={})=>{let u,c,{bounds:g,axis:y="both",gpuAcceleration:m=!0,legacyTranslate:_=!0,transform:p,applyUserSelectHack:x=!0,disabled:E=!1,ignoreMultitouch:A=!1,recomputeBounds:b=t,grid:k,position:S,cancel:T,handle:P,defaultClass:C="neodrag",defaultClassDragging:M="neodrag-dragging",defaultClassDragged:j="neodrag-dragged",defaultPosition:I={x:0,y:0},onDragStart:O,onDrag:R,onDragEnd:D}=l,N=!1,U=0,X=0,V=0,K=0,W=0,Q=0,{x:L,y:G}=S?{x:(S==null?void 0:S.x)??0,y:(S==null?void 0:S.y)??0}:I;se(L,G);let J,B,Y,ie,ne,Z="",H=!!S;b={...t,...b};const z=document.body.style,ee=f.classList;function se(ve=U,fe=X){if(!p){if(_){let Ae=`${+ve}px, ${+fe}px`;return a(f,"transform",m?`translate3d(${Ae}, 0)`:`translate(${Ae})`)}return a(f,"translate",`${+ve}px ${+fe}px ${m?"1px":""}`)}const ye=p({offsetX:ve,offsetY:fe,rootNode:f});n(ye)&&a(f,"transform",ye)}const le=(ve,fe)=>{const ye={offsetX:U,offsetY:X,rootNode:f,currentNode:ne};f.dispatchEvent(new CustomEvent(ve,{detail:ye})),fe==null||fe(ye)},ue=addEventListener;ue("pointerdown",Te,!1),ue("pointerup",me,!1),ue("pointermove",Se,!1),a(f,"touch-action","none");const _e=()=>{let ve=f.offsetWidth/B.width;return isNaN(ve)&&(ve=1),ve};function Te(ve){if(E||ve.button===2||A&&!ve.isPrimary)return;if(b.dragStart&&(J=i(g,f)),n(P)&&n(T)&&P===T)throw new Error("`handle` selector can't be same as `cancel` selector");if(ee.add(C),Y=function(re,ae){if(!re)return[ae];if(s(re))return[re];if(Array.isArray(re))return re;const ce=ae.querySelectorAll(re);if(ce===null)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(ce.values())}(P,f),ie=function(re,ae){if(!re)return[];if(s(re))return[re];if(Array.isArray(re))return re;const ce=ae.querySelectorAll(re);if(ce===null)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(ce.values())}(T,f),u=/(both|x)/.test(y),c=/(both|y)/.test(y),o(ie,Y))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");const fe=ve.composedPath()[0];if(!Y.some(re=>{var ae;return re.contains(fe)||((ae=re.shadowRoot)==null?void 0:ae.contains(fe))})||o(ie,[fe]))return;ne=Y.length===1?f:Y.find(re=>re.contains(fe)),N=!0,B=f.getBoundingClientRect(),x&&(Z=z.userSelect,z.userSelect="none"),le("neodrag:start",O);const{clientX:ye,clientY:Ae}=ve,Ne=_e();u&&(V=ye-L/Ne),c&&(K=Ae-G/Ne),J&&(W=ye-B.left,Q=Ae-B.top)}function me(){N&&(b.dragEnd&&(J=i(g,f)),ee.remove(M),ee.add(j),x&&(z.userSelect=Z),le("neodrag:end",D),u&&(V=U),c&&(K=X),N=!1)}function Se(ve){if(!N)return;b.drag&&(J=i(g,f)),ee.add(M),ve.preventDefault(),B=f.getBoundingClientRect();let fe=ve.clientX,ye=ve.clientY;const Ae=_e();if(J){const Ne={left:J.left+W,top:J.top+Q,right:J.right+W-B.width,bottom:J.bottom+Q-B.height};fe=e$1(fe,Ne.left,Ne.right),ye=e$1(ye,Ne.top,Ne.bottom)}if(Array.isArray(k)){let[Ne,re]=k;if(isNaN(+Ne)||Ne<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+re)||re<0)throw new Error("2nd argument of `grid` must be a valid positive number");let ae=fe-V,ce=ye-K;[ae,ce]=r([Ne/Ae,re/Ae],ae,ce),fe=V+ae,ye=K+ce}u&&(U=Math.round((fe-V)*Ae)),c&&(X=Math.round((ye-K)*Ae)),L=U,G=X,le("neodrag",R),se()}return{destroy:()=>{const ve=removeEventListener;ve("pointerdown",Te,!1),ve("pointerup",me,!1),ve("pointermove",Se,!1)},update:ve=>{var ye,Ae;y=ve.axis||"both",E=ve.disabled??!1,A=ve.ignoreMultitouch??!1,P=ve.handle,g=ve.bounds,b=ve.recomputeBounds??t,T=ve.cancel,x=ve.applyUserSelectHack??!0,k=ve.grid,m=ve.gpuAcceleration??!0,_=ve.legacyTranslate??!0,p=ve.transform;const fe=ee.contains(j);ee.remove(C,j),C=ve.defaultClass??"neodrag",M=ve.defaultClassDragging??"neodrag-dragging",j=ve.defaultClassDragged??"neodrag-dragged",ee.add(C),fe&&ee.add(j),H&&(L=U=((ye=ve.position)==null?void 0:ye.x)??U,G=X=((Ae=ve.position)==null?void 0:Ae.y)??X,se())}}};const Cable_svelte_svelte_type_style_lang="";function get_each_context$a(f,l,u){const c=f.slice();return c[12]=l[u].x1,c[13]=l[u].y1,c[14]=l[u].x2,c[15]=l[u].y2,c}function create_each_block$a(f){let l,u,c,g,y;return{c(){l=svg_element("line"),this.h()},l(m){l=claim_svg_element(m,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),children(l).forEach(detach),this.h()},h(){attr(l,"class","cable svelte-rvp61"),attr(l,"x1",u=f[12]),attr(l,"x2",c=f[14]),attr(l,"y1",g=f[13]),attr(l,"y2",y=f[15]),attr(l,"stroke",f[2]),attr(l,"stroke-width","2")},m(m,_){insert_hydration(m,l,_)},p(m,_){_&32&&u!==(u=m[12])&&attr(l,"x1",u),_&32&&c!==(c=m[14])&&attr(l,"x2",c),_&32&&g!==(g=m[13])&&attr(l,"y1",g),_&32&&y!==(y=m[15])&&attr(l,"y2",y),_&4&&attr(l,"stroke",m[2])},d(m){m&&detach(l)}}}function create_fragment$s(f){let l,u,c,g,y,m,_,p,x=f[5],E=[];for(let A=0;A<x.length;A+=1)E[A]=create_each_block$a(get_each_context$a(f,x,A));return{c(){l=svg_element("svg"),u=svg_element("circle");for(let A=0;A<E.length;A+=1)E[A].c();y=svg_element("circle"),this.h()},l(A){l=claim_svg_element(A,"svg",{viewBox:!0,xmlns:!0,class:!0});var b=children(l);u=claim_svg_element(b,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),children(u).forEach(detach);for(let k=0;k<E.length;k+=1)E[k].l(b);y=claim_svg_element(b,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),children(y).forEach(detach),b.forEach(detach),this.h()},h(){attr(u,"class","socket svelte-rvp61"),attr(u,"cx",c=f[0].x),attr(u,"cy",g=f[0].y),attr(u,"r","3"),attr(u,"stroke",f[2]),attr(u,"stroke-width","1.5"),attr(u,"fill","white"),attr(y,"class","socket svelte-rvp61"),attr(y,"cx",m=f[1].x),attr(y,"cy",_=f[1].y),attr(y,"r","3"),attr(y,"stroke",f[2]),attr(y,"stroke-width","1.5"),attr(y,"fill","white"),attr(l,"viewBox",p=`0 0 ${f[3]} ${f[4]}`),attr(l,"xmlns","http://www.w3.org/2000/svg"),attr(l,"class","svg svelte-rvp61")},m(A,b){insert_hydration(A,l,b),append_hydration(l,u);for(let k=0;k<E.length;k+=1)E[k]&&E[k].m(l,null);append_hydration(l,y)},p(A,[b]){if(b&1&&c!==(c=A[0].x)&&attr(u,"cx",c),b&1&&g!==(g=A[0].y)&&attr(u,"cy",g),b&4&&attr(u,"stroke",A[2]),b&36){x=A[5];let k;for(k=0;k<x.length;k+=1){const S=get_each_context$a(A,x,k);E[k]?E[k].p(S,b):(E[k]=create_each_block$a(S),E[k].c(),E[k].m(l,y))}for(;k<E.length;k+=1)E[k].d(1);E.length=x.length}b&2&&m!==(m=A[1].x)&&attr(y,"cx",m),b&2&&_!==(_=A[1].y)&&attr(y,"cy",_),b&4&&attr(y,"stroke",A[2]),b&24&&p!==(p=`0 0 ${A[3]} ${A[4]}`)&&attr(l,"viewBox",p)},i:noop,o:noop,d(A){A&&detach(l),destroy_each(E,A)}}}function instance$q(f,l,u){let c,g,y,m,_,{from:p={}}=l,{to:x={}}=l,{offset:E=2}=l,{colour:A="blue"}=l,b,k,S;return onMount(()=>{function T(){u(3,b=window.innerWidth),u(4,k=document.body.scrollHeight)}S=new ResizeObserver(T),S.observe(document.body),T()}),onDestroy(()=>S.disconnect()),f.$$set=T=>{"from"in T&&u(0,p=T.from),"to"in T&&u(1,x=T.to),"offset"in T&&u(6,E=T.offset),"colour"in T&&u(2,A=T.colour)},f.$$.update=()=>{f.$$.dirty&65&&u(10,c={x1:p.x+3,y1:p.y,x2:p.x+43+E,y2:p.y}),f.$$.dirty&1091&&u(9,g={x1:c.x2,y1:p.y,x2:c.x2,y2:x.y+23-E}),f.$$.dirty&514&&u(8,y={x1:g.x1,y1:g.y2,x2:x.x,y2:g.y2}),f.$$.dirty&258&&u(7,m={x1:y.x2,y1:y.y2,x2:x.x,y2:x.y}),f.$$.dirty&1920&&u(5,_=[c,g,y,m])},[p,x,A,b,k,_,E,m,y,g,c]}class Cable extends SvelteComponent{constructor(l){super(),init(this,l,instance$q,create_fragment$s,safe_not_equal,{from:0,to:1,offset:6,colour:2})}}const Socket_svelte_svelte_type_style_lang="",{window:window_1$4}=globals;function get_each_context$9(f,l,u){const c=f.slice();return c[17]=l[u],c}function create_each_block$9(f,l){let u,c,g;return c=new Cable({props:{colour:l[7][l[17]].colour,offset:l[7][l[17]].offset,from:{x:l[7][l[1]].x+l[7][l[1]].width/2,y:l[7][l[1]].y+l[7][l[1]].width/2},to:{x:l[7][l[17]].x+l[7][l[17]].width/2-.5,y:l[7][l[17]].y+l[7][l[17]].width/2}}}),{key:f,first:null,c(){u=empty(),create_component(c.$$.fragment),this.h()},l(y){u=empty(),claim_component(c.$$.fragment,y),this.h()},h(){this.first=u},m(y,m){insert_hydration(y,u,m),mount_component(c,y,m),g=!0},p(y,m){l=y;const _={};m&160&&(_.colour=l[7][l[17]].colour),m&160&&(_.offset=l[7][l[17]].offset),m&130&&(_.from={x:l[7][l[1]].x+l[7][l[1]].width/2,y:l[7][l[1]].y+l[7][l[1]].width/2}),m&160&&(_.to={x:l[7][l[17]].x+l[7][l[17]].width/2-.5,y:l[7][l[17]].y+l[7][l[17]].width/2}),c.$set(_)},i(y){g||(transition_in(c.$$.fragment,y),g=!0)},o(y){transition_out(c.$$.fragment,y),g=!1},d(y){y&&detach(u),destroy_component(c,y)}}}function create_fragment$r(f){let l,u,c,g,y,m=[],_=new Map,p,x,E,A,b=f[5];const k=S=>S[17];for(let S=0;S<b.length;S+=1){let T=get_each_context$9(f,b,S),P=k(T);_.set(P,m[S]=create_each_block$9(P,T))}return{c(){l=element("div"),u=element("div"),y=space();for(let S=0;S<m.length;S+=1)m[S].c();this.h()},l(S){l=claim_element(S,"DIV",{class:!0});var T=children(l);u=claim_element(T,"DIV",{class:!0}),children(u).forEach(detach),y=claim_space(T);for(let P=0;P<m.length;P+=1)m[P].l(T);T.forEach(detach),this.h()},h(){attr(u,"class",c=null_to_empty(`socket socket--${f[2]} socket--${f[1]} ${f[0]?" active":""}`)+" svelte-1qmt5cq"),attr(l,"class",p=null_to_empty(`socket__container socket__container--${f[3]}`)+" svelte-1qmt5cq")},m(S,T){insert_hydration(S,l,T),append_hydration(l,u),f[15](u),append_hydration(l,y);for(let P=0;P<m.length;P+=1)m[P]&&m[P].m(l,null);x=!0,E||(A=[listen(window_1$4,"resize",f[12]),listen(window_1$4,"keydown",f[11]),action_destroyer(g=d.call(null,u,{bounds:"body",position:f[6]})),listen(u,"neodrag",f[8]),listen(u,"neodrag:end",f[9]),listen(u,"click",f[10])],E=!0)},p(S,[T]){(!x||T&7&&c!==(c=null_to_empty(`socket socket--${S[2]} socket--${S[1]} ${S[0]?" active":""}`)+" svelte-1qmt5cq"))&&attr(u,"class",c),g&&is_function(g.update)&&T&64&&g.update.call(null,{bounds:"body",position:S[6]}),T&162&&(b=S[5],group_outros(),m=update_keyed_each(m,T,k,1,S,b,_,l,outro_and_destroy_block,create_each_block$9,null,get_each_context$9),check_outros()),(!x||T&8&&p!==(p=null_to_empty(`socket__container socket__container--${S[3]}`)+" svelte-1qmt5cq"))&&attr(l,"class",p)},i(S){if(!x){for(let T=0;T<b.length;T+=1)transition_in(m[T]);x=!0}},o(S){for(let T=0;T<m.length;T+=1)transition_out(m[T]);x=!1},d(S){S&&detach(l),f[15](null);for(let T=0;T<m.length;T+=1)m[T].d();E=!1,run_all(A)}}}function instance$p(f,l,u){let c;component_subscribe(f,sockets,I=>u(7,c=I));let{id:g}=l,{type:y}=l,{active:m=!1}=l,{align:_="center"}=l,{colour:p="blue"}=l,{offset:x=0}=l,E,A=[],b={x:0,y:0};function k({offsetX:I,offsetY:O}){u(6,b={x:I,y:O}),u(4,E.style.zIndex=1002,E)}function S(I){var U;const O=(U=I.target)==null?void 0:U.getBoundingClientRect(),R=O.x+window.scrollX,D=O.y+window.scrollY,N=Object.keys(c).find(X=>{const{x:V,y:K,width:W}=c[X];return R>V-W&&R<V+W&&D>K-W&&D<K+W});N&&connectSockets(c[g],c[N]),u(6,b={x:0,y:0}),u(4,E.style.zIndex=10,E)}function T(){activateSocket(g)}function P(I){I.key==="Escape"&&deactivateSockets(),I.key==="Backspace"&&m&&disconnectSocket(g)}function C(){const I=E.getBoundingClientRect(),O=I.x+window.scrollX,R=I.y+window.scrollY,D=I.width;sockets.update(N=>({...N,[g]:{...N[g],id:g,x:O,y:R,width:D,active:m,type:y,colour:p,offset:x}}))}const M=instrumentParameters.subscribe(async()=>{await tick(),E&&C()});onMount(()=>{C(),document.addEventListener("redrawCables",C);const I=sockets.subscribe(R=>{var D;u(0,m=(D=R[g])==null?void 0:D.active)}),O=connections.subscribe(R=>{var D;u(5,A=((D=R.filter(N=>N[0]===g))==null?void 0:D.map(N=>N[1]))||[])});return()=>{document.removeEventListener("redrawCables",C),I(),O(),M()}});function j(I){binding_callbacks[I?"unshift":"push"](()=>{E=I,u(4,E)})}return f.$$set=I=>{"id"in I&&u(1,g=I.id),"type"in I&&u(2,y=I.type),"active"in I&&u(0,m=I.active),"align"in I&&u(3,_=I.align),"colour"in I&&u(13,p=I.colour),"offset"in I&&u(14,x=I.offset)},[m,g,y,_,E,A,b,c,k,S,T,P,C,p,x,j]}class Socket extends SvelteComponent{constructor(l){super(),init(this,l,instance$p,create_fragment$r,safe_not_equal,{id:1,type:2,active:0,align:3,colour:13,offset:14})}}const Buttons_svelte_svelte_type_style_lang="";function get_each_context$8(f,l,u){const c=f.slice();return c[7]=l[u],c[9]=u,c}function create_each_block$8(f,l){let u,c=".",g,y,m;function _(){return l[5](l[7])}function p(...x){return l[6](l[7],...x)}return{key:f,first:null,c(){u=element("button"),g=text(c),this.h()},l(x){u=claim_element(x,"BUTTON",{style:!0,class:!0});var E=children(u);g=claim_text(E,c),E.forEach(detach),this.h()},h(){set_style(u,"background-color",l[4][l[9]%3]),attr(u,"class","svelte-12zydf2"),toggle_class(u,"active",l[3].some(p)),this.first=u},m(x,E){insert_hydration(x,u,E),append_hydration(u,g),y||(m=listen(u,"click",_),y=!0)},p(x,E){l=x,E&2&&set_style(u,"background-color",l[4][l[9]%3]),E&11&&toggle_class(u,"active",l[3].some(p))},d(x){x&&detach(u),y=!1,m()}}}function create_fragment$q(f){let l,u=[],c=new Map,g=f[1];const y=m=>m[7];for(let m=0;m<g.length;m+=1){let _=get_each_context$8(f,g,m),p=y(_);c.set(p,u[m]=create_each_block$8(p,_))}return{c(){l=element("div");for(let m=0;m<u.length;m+=1)u[m].c();this.h()},l(m){l=claim_element(m,"DIV",{class:!0});var _=children(l);for(let p=0;p<u.length;p+=1)u[p].l(_);_.forEach(detach),this.h()},h(){attr(l,"class","buttons svelte-12zydf2")},m(m,_){insert_hydration(m,l,_);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(l,null)},p(m,[_]){_&31&&(g=m[1],u=update_keyed_each(u,_,y,1,m,g,c,l,destroy_block,create_each_block$8,null,get_each_context$8))},i:noop,o:noop,d(m){m&&detach(l);for(let _=0;_<u.length;_+=1)u[_].d()}}}function instance$o(f,l,u){let c,g;component_subscribe(f,sockets,E=>u(2,c=E)),component_subscribe(f,connections,E=>u(3,g=E));let{id:y}=l,{options:m}=l;const _=["#00A399","#E5007F","#FF695A"],p=E=>connectSockets(c[E],c[y]),x=(E,A)=>A.includes(y)&&A.includes(E);return f.$$set=E=>{"id"in E&&u(0,y=E.id),"options"in E&&u(1,m=E.options)},[y,m,c,g,_,p,x]}class Buttons extends SvelteComponent{constructor(l){super(),init(this,l,instance$o,create_fragment$q,safe_not_equal,{id:0,options:1})}}const Parameters_svelte_svelte_type_style_lang="";function get_each_context$7(f,l,u){const c=f.slice();return c[20]=l[u].name,c[21]=l[u].min,c[22]=l[u].max,c[23]=l[u].step,c[24]=l[u].units,c[25]=l[u].key,c[26]=l[u].rangeA,c[27]=l[u].rangeB,c[28]=l,c[29]=u,c}function get_each_context_1$1(f,l,u){const c=f.slice();return c[20]=l[u].name,c[21]=l[u].min,c[22]=l[u].max,c[23]=l[u].step,c[24]=l[u].units,c[25]=l[u].key,c[26]=l[u].rangeA,c[27]=l[u].rangeB,c[30]=l,c[31]=u,c}function get_each_context_2(f,l,u){const c=f.slice();return c[32]=l[u].type,c[20]=l[u].name,c[21]=l[u].min,c[22]=l[u].max,c[23]=l[u].step,c[24]=l[u].units,c[25]=l[u].key,c[26]=l[u].rangeA,c[27]=l[u].rangeB,c[33]=l,c[34]=u,c}function create_if_block_4$2(f){let l,u,c;function g(...y){return f[10](f[26],f[27],f[33],f[34],...y)}return u=new Select({props:{id:f[25],options:f[1],selected:f[4][f[25]],onChange:g}}),{c(){l=element("div"),create_component(u.$$.fragment),this.h()},l(y){l=claim_element(y,"DIV",{class:!0});var m=children(l);claim_component(u.$$.fragment,m),m.forEach(detach),this.h()},h(){attr(l,"class","samples svelte-9kp0wl")},m(y,m){insert_hydration(y,l,m),mount_component(u,l,null),c=!0},p(y,m){f=y;const _={};m[0]&12&&(_.id=f[25]),m[0]&2&&(_.options=f[1]),m[0]&28&&(_.selected=f[4][f[25]]),m[0]&12&&(_.onChange=g),u.$set(_)},i(y){c||(transition_in(u.$$.fragment,y),c=!0)},o(y){transition_out(u.$$.fragment,y),c=!1},d(y){y&&detach(l),destroy_component(u)}}}function create_if_block_2$5(f){let l,u=f[20]+"",c,g,y,m,_,p,x,E,A,b;function k(j){f[11](j,f[26],f[33],f[34])}function S(j){f[12](j,f[27],f[33],f[34])}let T={min:f[21],max:f[22],step:f[23],units:f[24],value:f[4][f[25]]};f[26]!==void 0&&(T.rangeA=f[26]),f[27]!==void 0&&(T.rangeB=f[27]),y=new RangeSlider({props:T}),binding_callbacks.push(()=>bind(y,"rangeA",k)),binding_callbacks.push(()=>bind(y,"rangeB",S));const P=[create_if_block_3$3,create_else_block_2],C=[];function M(j,I){return j[0]?0:1}return x=M(f),E=C[x]=P[x](f),{c(){l=element("h3"),c=text(u),g=space(),create_component(y.$$.fragment),p=space(),E.c(),A=empty(),this.h()},l(j){l=claim_element(j,"H3",{class:!0});var I=children(l);c=claim_text(I,u),I.forEach(detach),g=claim_space(j),claim_component(y.$$.fragment,j),p=claim_space(j),E.l(j),A=empty(),this.h()},h(){attr(l,"class","svelte-9kp0wl")},m(j,I){insert_hydration(j,l,I),append_hydration(l,c),insert_hydration(j,g,I),mount_component(y,j,I),insert_hydration(j,p,I),C[x].m(j,I),insert_hydration(j,A,I),b=!0},p(j,I){f=j,(!b||I[0]&12)&&u!==(u=f[20]+"")&&set_data(c,u);const O={};I[0]&12&&(O.min=f[21]),I[0]&12&&(O.max=f[22]),I[0]&12&&(O.step=f[23]),I[0]&12&&(O.units=f[24]),I[0]&28&&(O.value=f[4][f[25]]),!m&&I[0]&12&&(m=!0,O.rangeA=f[26],add_flush_callback(()=>m=!1)),!_&&I[0]&12&&(_=!0,O.rangeB=f[27],add_flush_callback(()=>_=!1)),y.$set(O);let R=x;x=M(f),x===R?C[x].p(f,I):(group_outros(),transition_out(C[R],1,1,()=>{C[R]=null}),check_outros(),E=C[x],E?E.p(f,I):(E=C[x]=P[x](f),E.c()),transition_in(E,1),E.m(A.parentNode,A))},i(j){b||(transition_in(y.$$.fragment,j),transition_in(E),b=!0)},o(j){transition_out(y.$$.fragment,j),transition_out(E),b=!1},d(j){j&&detach(l),j&&detach(g),destroy_component(y,j),j&&detach(p),C[x].d(j),j&&detach(A)}}}function create_else_block_2(f){let l,u;return l=new Buttons({props:{id:f[25],options:f[7]}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g[0]&12&&(y.id=c[25]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_if_block_3$3(f){let l,u;return l=new Socket({props:{id:f[25],type:"origin",align:"right"}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g[0]&12&&(y.id=c[25]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_each_block_2(f,l){let u,c,g,y,m,_=l[32]==="select"&&create_if_block_4$2(l),p=l[32]==="range"&&create_if_block_2$5(l);return{key:f,first:null,c(){u=element("div"),_&&_.c(),c=space(),p&&p.c(),g=space(),this.h()},l(x){u=claim_element(x,"DIV",{class:!0});var E=children(u);_&&_.l(E),c=claim_space(E),p&&p.l(E),g=claim_space(E),E.forEach(detach),this.h()},h(){attr(u,"class",y="parameter parameter--"+l[32]+" svelte-9kp0wl"),this.first=u},m(x,E){insert_hydration(x,u,E),_&&_.m(u,null),append_hydration(u,c),p&&p.m(u,null),append_hydration(u,g),m=!0},p(x,E){l=x,l[32]==="select"?_?(_.p(l,E),E[0]&12&&transition_in(_,1)):(_=create_if_block_4$2(l),_.c(),transition_in(_,1),_.m(u,c)):_&&(group_outros(),transition_out(_,1,1,()=>{_=null}),check_outros()),l[32]==="range"?p?(p.p(l,E),E[0]&12&&transition_in(p,1)):(p=create_if_block_2$5(l),p.c(),transition_in(p,1),p.m(u,g)):p&&(group_outros(),transition_out(p,1,1,()=>{p=null}),check_outros()),(!m||E[0]&12&&y!==(y="parameter parameter--"+l[32]+" svelte-9kp0wl"))&&attr(u,"class",y)},i(x){m||(transition_in(_),transition_in(p),m=!0)},o(x){transition_out(_),transition_out(p),m=!1},d(x){x&&detach(u),_&&_.d(),p&&p.d()}}}function create_else_block_1$1(f){let l,u;return l=new Buttons({props:{id:f[25],options:f[7]}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g[0]&32&&(y.id=c[25]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_if_block_1$7(f){let l,u;return l=new Socket({props:{id:f[25],type:"origin",align:"right"}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g[0]&32&&(y.id=c[25]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_each_block_1$1(f,l){let u,c,g=l[20]+"",y,m,_,p,x,E,A,b,k,S;function T(O){l[14](O,l[26],l[30],l[31])}function P(O){l[15](O,l[27],l[30],l[31])}let C={min:l[21],max:l[22],step:l[23],units:l[24],value:l[4][l[25]]};l[26]!==void 0&&(C.rangeA=l[26]),l[27]!==void 0&&(C.rangeB=l[27]),_=new RangeSlider({props:C}),binding_callbacks.push(()=>bind(_,"rangeA",T)),binding_callbacks.push(()=>bind(_,"rangeB",P));const M=[create_if_block_1$7,create_else_block_1$1],j=[];function I(O,R){return O[0]?0:1}return A=I(l),b=j[A]=M[A](l),{key:f,first:null,c(){u=element("div"),c=element("h3"),y=text(g),m=space(),create_component(_.$$.fragment),E=space(),b.c(),k=space(),this.h()},l(O){u=claim_element(O,"DIV",{class:!0});var R=children(u);c=claim_element(R,"H3",{class:!0});var D=children(c);y=claim_text(D,g),D.forEach(detach),m=claim_space(R),claim_component(_.$$.fragment,R),E=claim_space(R),b.l(R),k=claim_space(R),R.forEach(detach),this.h()},h(){attr(c,"class","svelte-9kp0wl"),attr(u,"class","parameter svelte-9kp0wl"),this.first=u},m(O,R){insert_hydration(O,u,R),append_hydration(u,c),append_hydration(c,y),append_hydration(u,m),mount_component(_,u,null),append_hydration(u,E),j[A].m(u,null),append_hydration(u,k),S=!0},p(O,R){l=O,(!S||R[0]&32)&&g!==(g=l[20]+"")&&set_data(y,g);const D={};R[0]&32&&(D.min=l[21]),R[0]&32&&(D.max=l[22]),R[0]&32&&(D.step=l[23]),R[0]&32&&(D.units=l[24]),R[0]&48&&(D.value=l[4][l[25]]),!p&&R[0]&32&&(p=!0,D.rangeA=l[26],add_flush_callback(()=>p=!1)),!x&&R[0]&32&&(x=!0,D.rangeB=l[27],add_flush_callback(()=>x=!1)),_.$set(D);let N=A;A=I(l),A===N?j[A].p(l,R):(group_outros(),transition_out(j[N],1,1,()=>{j[N]=null}),check_outros(),b=j[A],b?b.p(l,R):(b=j[A]=M[A](l),b.c()),transition_in(b,1),b.m(u,k))},i(O){S||(transition_in(_.$$.fragment,O),transition_in(b),S=!0)},o(O){transition_out(_.$$.fragment,O),transition_out(b),S=!1},d(O){O&&detach(u),destroy_component(_),j[A].d()}}}function create_else_block$4(f){let l,u;return l=new Buttons({props:{id:f[25],options:f[7]}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g[0]&64&&(y.id=c[25]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_if_block$b(f){let l,u;return l=new Socket({props:{id:f[25],type:"origin",align:"right"}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g[0]&64&&(y.id=c[25]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_each_block$7(f,l){let u,c,g=l[20]+"",y,m,_,p,x,E,A,b,k,S;function T(O){l[17](O,l[26],l[28],l[29])}function P(O){l[18](O,l[27],l[28],l[29])}let C={min:l[21],max:l[22],step:l[23],units:l[24],value:l[4][l[25]]};l[26]!==void 0&&(C.rangeA=l[26]),l[27]!==void 0&&(C.rangeB=l[27]),_=new RangeSlider({props:C}),binding_callbacks.push(()=>bind(_,"rangeA",T)),binding_callbacks.push(()=>bind(_,"rangeB",P));const M=[create_if_block$b,create_else_block$4],j=[];function I(O,R){return O[0]?0:1}return A=I(l),b=j[A]=M[A](l),{key:f,first:null,c(){u=element("div"),c=element("h3"),y=text(g),m=space(),create_component(_.$$.fragment),E=space(),b.c(),k=space(),this.h()},l(O){u=claim_element(O,"DIV",{class:!0});var R=children(u);c=claim_element(R,"H3",{class:!0});var D=children(c);y=claim_text(D,g),D.forEach(detach),m=claim_space(R),claim_component(_.$$.fragment,R),E=claim_space(R),b.l(R),k=claim_space(R),R.forEach(detach),this.h()},h(){attr(c,"class","svelte-9kp0wl"),attr(u,"class","parameter svelte-9kp0wl"),this.first=u},m(O,R){insert_hydration(O,u,R),append_hydration(u,c),append_hydration(c,y),append_hydration(u,m),mount_component(_,u,null),append_hydration(u,E),j[A].m(u,null),append_hydration(u,k),S=!0},p(O,R){l=O,(!S||R[0]&64)&&g!==(g=l[20]+"")&&set_data(y,g);const D={};R[0]&64&&(D.min=l[21]),R[0]&64&&(D.max=l[22]),R[0]&64&&(D.step=l[23]),R[0]&64&&(D.units=l[24]),R[0]&80&&(D.value=l[4][l[25]]),!p&&R[0]&64&&(p=!0,D.rangeA=l[26],add_flush_callback(()=>p=!1)),!x&&R[0]&64&&(x=!0,D.rangeB=l[27],add_flush_callback(()=>x=!1)),_.$set(D);let N=A;A=I(l),A===N?j[A].p(l,R):(group_outros(),transition_out(j[N],1,1,()=>{j[N]=null}),check_outros(),b=j[A],b?b.p(l,R):(b=j[A]=M[A](l),b.c()),transition_in(b,1),b.m(u,k))},i(O){S||(transition_in(_.$$.fragment,O),transition_in(b),S=!0)},o(O){transition_out(_.$$.fragment,O),transition_out(b),S=!1},d(O){O&&detach(u),destroy_component(_),j[A].d()}}}function create_fragment$p(f){let l,u,c,g,y,m=[],_=new Map,p,x,E,A,b,k,S=[],T=new Map,P,C,M,j,I,O,R=[],D=new Map,N,U,X,V=f[2].filter(f[9]);const K=J=>J[25];for(let J=0;J<V.length;J+=1){let B=get_each_context_2(f,V,J),Y=K(B);_.set(Y,m[J]=create_each_block_2(Y,B))}let W=f[5];const Q=J=>J[25];for(let J=0;J<W.length;J+=1){let B=get_each_context_1$1(f,W,J),Y=Q(B);T.set(Y,S[J]=create_each_block_1$1(Y,B))}let L=f[6];const G=J=>J[25];for(let J=0;J<L.length;J+=1){let B=get_each_context$7(f,L,J),Y=G(B);D.set(Y,R[J]=create_each_block$7(Y,B))}return{c(){l=element("div"),u=element("button"),c=element("h2"),g=text("Instrument"),y=space();for(let J=0;J<m.length;J+=1)m[J].c();p=space(),x=element("div"),E=element("button"),A=element("h2"),b=text("Global"),k=space();for(let J=0;J<S.length;J+=1)S[J].c();P=space(),C=element("div"),M=element("button"),j=element("h2"),I=text("Effects"),O=space();for(let J=0;J<R.length;J+=1)R[J].c();this.h()},l(J){l=claim_element(J,"DIV",{class:!0});var B=children(l);u=claim_element(B,"BUTTON",{class:!0});var Y=children(u);c=claim_element(Y,"H2",{class:!0});var ie=children(c);g=claim_text(ie,"Instrument"),ie.forEach(detach),Y.forEach(detach),y=claim_space(B);for(let le=0;le<m.length;le+=1)m[le].l(B);B.forEach(detach),p=claim_space(J),x=claim_element(J,"DIV",{class:!0});var ne=children(x);E=claim_element(ne,"BUTTON",{class:!0});var Z=children(E);A=claim_element(Z,"H2",{class:!0});var H=children(A);b=claim_text(H,"Global"),H.forEach(detach),Z.forEach(detach),k=claim_space(ne);for(let le=0;le<S.length;le+=1)S[le].l(ne);ne.forEach(detach),P=claim_space(J),C=claim_element(J,"DIV",{class:!0});var z=children(C);M=claim_element(z,"BUTTON",{class:!0});var ee=children(M);j=claim_element(ee,"H2",{class:!0});var se=children(j);I=claim_text(se,"Effects"),se.forEach(detach),ee.forEach(detach),O=claim_space(z);for(let le=0;le<R.length;le+=1)R[le].l(z);z.forEach(detach),this.h()},h(){attr(c,"class","svelte-9kp0wl"),attr(u,"class","svelte-9kp0wl"),attr(l,"class","group svelte-9kp0wl"),attr(A,"class","svelte-9kp0wl"),attr(E,"class","svelte-9kp0wl"),attr(x,"class","group svelte-9kp0wl"),attr(j,"class","svelte-9kp0wl"),attr(M,"class","svelte-9kp0wl"),attr(C,"class","group svelte-9kp0wl")},m(J,B){insert_hydration(J,l,B),append_hydration(l,u),append_hydration(u,c),append_hydration(c,g),append_hydration(l,y);for(let Y=0;Y<m.length;Y+=1)m[Y]&&m[Y].m(l,null);insert_hydration(J,p,B),insert_hydration(J,x,B),append_hydration(x,E),append_hydration(E,A),append_hydration(A,b),append_hydration(x,k);for(let Y=0;Y<S.length;Y+=1)S[Y]&&S[Y].m(x,null);insert_hydration(J,P,B),insert_hydration(J,C,B),append_hydration(C,M),append_hydration(M,j),append_hydration(j,I),append_hydration(C,O);for(let Y=0;Y<R.length;Y+=1)R[Y]&&R[Y].m(C,null);N=!0,U||(X=[listen(u,"click",f[8]),listen(E,"click",f[13]),listen(M,"click",f[16])],U=!0)},p(J,B){B[0]&159&&(V=J[2].filter(J[9]),group_outros(),m=update_keyed_each(m,B,K,1,J,V,_,l,outro_and_destroy_block,create_each_block_2,null,get_each_context_2),check_outros()),B[0]&177&&(W=J[5],group_outros(),S=update_keyed_each(S,B,Q,1,J,W,T,x,outro_and_destroy_block,create_each_block_1$1,null,get_each_context_1$1),check_outros()),B[0]&209&&(L=J[6],group_outros(),R=update_keyed_each(R,B,G,1,J,L,D,C,outro_and_destroy_block,create_each_block$7,null,get_each_context$7),check_outros())},i(J){if(!N){for(let B=0;B<V.length;B+=1)transition_in(m[B]);for(let B=0;B<W.length;B+=1)transition_in(S[B]);for(let B=0;B<L.length;B+=1)transition_in(R[B]);N=!0}},o(J){for(let B=0;B<m.length;B+=1)transition_out(m[B]);for(let B=0;B<S.length;B+=1)transition_out(S[B]);for(let B=0;B<R.length;B+=1)transition_out(R[B]);N=!1},d(J){J&&detach(l);for(let B=0;B<m.length;B+=1)m[B].d();J&&detach(p),J&&detach(x);for(let B=0;B<S.length;B+=1)S[B].d();J&&detach(P),J&&detach(C);for(let B=0;B<R.length;B+=1)R[B].d();U=!1,run_all(X)}}}function instance$n(f,l,u){let c,g,y,m,_,p;component_subscribe(f,qubits,D=>u(19,c=D)),component_subscribe(f,instrumentParameters,D=>u(2,g=D)),component_subscribe(f,keys,D=>u(3,y=D)),component_subscribe(f,paramValues,D=>u(4,m=D)),component_subscribe(f,globalParameters,D=>u(5,_=D)),component_subscribe(f,fxParameters,D=>u(6,p=D));let{showSockets:x=!0}=l,E=c[0].axes.map(({key:D})=>D),A=[];onMount(()=>{samples$1.subscribe(D=>{u(1,A=D.map((N,U)=>({name:N.split("/").pop()||"",value:U,active:!0})))})});const b=()=>randomise("inst"),k=({key:D})=>y.includes(D),S=(D,N,U,X,V)=>{var W;const K=+((W=V.target)==null?void 0:W.value);set_store_value(instrumentParameters,U[X].rangeA=set_store_value(instrumentParameters,U[X].rangeB=K||0,g,keys.set(y)),g,keys.set(y)),loadSample(K)};function T(D,N,U,X){U[X].rangeA=D,instrumentParameters.set(g)}function P(D,N,U,X){U[X].rangeB=D,instrumentParameters.set(g)}const C=()=>randomise("global");function M(D,N,U,X){U[X].rangeA=D,globalParameters.set(_)}function j(D,N,U,X){U[X].rangeB=D,globalParameters.set(_)}const I=()=>randomise("fx");function O(D,N,U,X){U[X].rangeA=D,fxParameters.set(p)}function R(D,N,U,X){U[X].rangeB=D,fxParameters.set(p)}return f.$$set=D=>{"showSockets"in D&&u(0,x=D.showSockets)},[x,A,g,y,m,_,p,E,b,k,S,T,P,C,M,j,I,O,R]}class Parameters extends SvelteComponent{constructor(l){super(),init(this,l,instance$n,create_fragment$p,safe_not_equal,{showSockets:0},null,[-1,-1])}}const Knob_svelte_svelte_type_style_lang="";function create_fragment$o(f){let l,u,c,g,y,m,_,p,x,E,A,b,k,S;return{c(){l=element("div"),u=element("div"),c=space(),g=svg_element("svg"),y=svg_element("circle"),m=space(),_=element("div"),p=element("div"),x=element("div"),E=space(),A=element("div"),b=text(f[0]),this.h()},l(T){l=claim_element(T,"DIV",{class:!0});var P=children(l);u=claim_element(P,"DIV",{class:!0,style:!0}),children(u).forEach(detach),c=claim_space(P),g=claim_svg_element(P,"svg",{viewBox:!0,class:!0});var C=children(g);y=claim_svg_element(C,"circle",{r:!0,stroke:!0,"stroke-width":!0,fill:!0}),children(y).forEach(detach),C.forEach(detach),m=claim_space(P),_=claim_element(P,"DIV",{class:!0});var M=children(_);p=claim_element(M,"DIV",{class:!0,style:!0});var j=children(p);x=claim_element(j,"DIV",{class:!0}),children(x).forEach(detach),j.forEach(detach),M.forEach(detach),E=claim_space(P),A=claim_element(P,"DIV",{class:!0});var I=children(A);b=claim_text(I,f[0]),I.forEach(detach),P.forEach(detach),this.h()},h(){attr(u,"class","knob__gradient svelte-14c90ps"),set_style(u,"--rotation",f[1]),attr(y,"r","9"),attr(y,"stroke","none"),attr(y,"stroke-width","0.5"),attr(y,"fill","var(--color-grey-dark)"),attr(g,"viewBox","-10 -10 20 20"),attr(g,"class","svelte-14c90ps"),attr(x,"class","knob__indicator svelte-14c90ps"),attr(p,"class","knob__inner svelte-14c90ps"),set_style(p,"--rotation",f[1]),attr(_,"class","knob svelte-14c90ps"),attr(A,"class","knob__label svelte-14c90ps"),attr(l,"class","knob__container svelte-14c90ps")},m(T,P){insert_hydration(T,l,P),append_hydration(l,u),append_hydration(l,c),append_hydration(l,g),append_hydration(g,y),append_hydration(l,m),append_hydration(l,_),append_hydration(_,p),append_hydration(p,x),append_hydration(l,E),append_hydration(l,A),append_hydration(A,b),k||(S=listen(p,"pointerdown",f[2]),k=!0)},p(T,[P]){P&2&&set_style(u,"--rotation",T[1]),P&2&&set_style(p,"--rotation",T[1]),P&1&&set_data(b,T[0])},i:noop,o:noop,d(T){T&&detach(l),k=!1,S()}}}function instance$m(f,l,u){let c,g,{name:y}=l,{value:m}=l,{min:_=0}=l,{max:p=1}=l,{rotRange:x=2*Math.PI*.8}=l,{pixelRange:E=200}=l,{startRotation:A=-Math.PI*.8}=l,b,k;function S({clientY:C}){const M=c*(C-b)/E;u(3,m=clamp$1(k-M,_,p))}function T({clientY:C}){b=C,k=m,window.addEventListener("pointermove",S),window.addEventListener("pointerup",P)}function P(){window.removeEventListener("pointermove",S),window.removeEventListener("pointerup",P)}return f.$$set=C=>{"name"in C&&u(0,y=C.name),"value"in C&&u(3,m=C.value),"min"in C&&u(4,_=C.min),"max"in C&&u(5,p=C.max),"rotRange"in C&&u(6,x=C.rotRange),"pixelRange"in C&&u(7,E=C.pixelRange),"startRotation"in C&&u(8,A=C.startRotation)},f.$$.update=()=>{f.$$.dirty&48&&u(9,c=p-_),f.$$.dirty&856&&u(1,g=A+(m-_)/c*x)},[y,g,T,m,_,p,x,E,A,c]}class Knob extends SvelteComponent{constructor(l){super(),init(this,l,instance$m,create_fragment$o,safe_not_equal,{name:0,value:3,min:4,max:5,rotRange:6,pixelRange:7,startRotation:8})}}var AudioKeys_state={_setState:function(f){var l=this;f||(f={}),l._state={},l._extendState({polyphony:4,rows:1,priority:"last",rootNote:60,octaveControls:!0,octave:0,velocityControls:!0,velocity:127,keys:[],buffer:[]}),l._extendState(f)},_extendState:function(f){var l=this;for(var u in f)l._state[u]=f[u]},set:function(){var f=this;return arguments.length===1?f._extendState(arguments[0]):f._state[arguments[0]]=arguments[1],this},get:function(f){var l=this;return l._state[f]}},AudioKeys_events={down:function(f){var l=this;l._listeners.down=(l._listeners.down||[]).concat(f)},up:function(f){var l=this;l._listeners.up=(l._listeners.up||[]).concat(f)},_trigger:function(f){var l=this;if(l._listeners[f]&&l._listeners[f].length){var u=Array.prototype.slice.call(arguments);u.splice(0,1),l._listeners[f].forEach(function(c){c.apply(l,u)})}},_bind:function(){var f=this;if(typeof window<"u"&&window.document){window.document.addEventListener("keydown",function(u){f._addKey(u)}),window.document.addEventListener("keyup",function(u){f._removeKey(u)});var l=!0;setInterval(function(){window.document.hasFocus()!==l&&(l=!l,l||f.clear())},100)}}},AudioKeys_mapping={_map:function(f){return this._keyMap[this._state.rows][f]+this._offset()},_offset:function(){return this._state.rootNote-this._keyMap[this._state.rows].root+this._state.octave*12},_isNote:function(f){return!!this._keyMap[this._state.rows][f]},_toFrequency:function(f){return Math.pow(2,(f-69)/12)*440},_keyMap:{1:{root:60,65:60,87:61,83:62,69:63,68:64,70:65,84:66,71:67,89:68,72:69,85:70,74:71,75:72,79:73,76:74,80:75,186:76,222:77},2:{root:60,90:60,83:61,88:62,68:63,67:64,86:65,71:66,66:67,72:68,78:69,74:70,77:71,188:72,76:73,190:74,186:75,191:76,81:72,50:73,87:74,51:75,69:76,82:77,53:78,84:79,54:80,89:81,55:82,85:83,73:84,57:85,79:86,48:87,80:88,219:89,187:90,221:91}}},AudioKeys_buffer={_addKey:function(f){var l=this;if(l._isNote(f.keyCode)&&!l._isPressed(f.keyCode)){var u=l._makeNote(f.keyCode);l._state.keys=(l._state.keys||[]).concat(u),l._update()}else l._isSpecialKey(f.keyCode)&&l._specialKey(f.keyCode)},_removeKey:function(f){var l=this;if(l._isPressed(f.keyCode)){for(var u,c=0;c<l._state.keys.length;c++)if(l._state.keys[c].keyCode===f.keyCode){u=l._state.keys[c];break}l._state.keys.splice(l._state.keys.indexOf(u),1),l._update()}},_isPressed:function(f){var l=this;if(!l._state.keys||!l._state.keys.length)return!1;for(var u=0;u<l._state.keys.length;u++)if(l._state.keys[u].keyCode===f)return!0;return!1},_makeNote:function(f){var l=this;return{keyCode:f,note:l._map(f),frequency:l._toFrequency(l._map(f)),velocity:l._state.velocity}},clear:function(){var f=this;f._state.buffer.forEach(function(l){l.velocity=0,f._trigger("up",l)}),f._state.keys=[],f._state.buffer=[]},_update:function(){var f=this,l=f._state.buffer;f._prioritize(),f._diff(l)},_diff:function(f){var l=this,u=f.map(function(m){return m.keyCode}),c=l._state.buffer.map(function(m){return m.keyCode}),g=[];u.forEach(function(m){c.indexOf(m)===-1&&g.push(m)});var y=[];c.forEach(function(m){u.indexOf(m)===-1&&y.push(m)}),y.forEach(function(m){for(var _=0;_<l._state.buffer.length;_++)if(l._state.buffer[_].keyCode===m){l._trigger("down",l._state.buffer[_]);break}}),g.forEach(function(m){for(var _=0;_<f.length;_++)if(f[_].keyCode===m){f[_].velocity=0,l._trigger("up",f[_]);break}})}},AudioKeys_priority={_prioritize:function(){var f=this;if(!f._state.keys.length){f._state.buffer=[];return}f._state.polyphony>=f._state.keys.length?f._state.keys=f._state.keys.map(function(l){return l.isActive=!0,l}):(f._state.keys=f._state.keys.map(function(l){return l.isActive=!1,l}),f["_"+f._state.priority]()),f._state.buffer=[],f._state.keys.forEach(function(l){l.isActive&&f._state.buffer.push(l)})},_last:function(){for(var f=this,l=f._state.keys.length-f._state.polyphony;l<f._state.keys.length;l++)f._state.keys[l].isActive=!0},_first:function(){for(var f=this,l=0;l<f._state.polyphony;l++)f._state.keys[l].isActive=!0},_highest:function(){var f=this,l=f._state.keys.map(function(u){return u.note});l.sort(function(u,c){return c===u?0:c<u?-1:1}),l.splice(f._state.polyphony,Number.MAX_VALUE),f._state.keys.forEach(function(u){l.indexOf(u.note)!==-1&&(u.isActive=!0)})},_lowest:function(){var f=this,l=f._state.keys.map(function(u){return u.note});l.sort(function(u,c){return u===c?0:u<c?-1:1}),l.splice(f._state.polyphony,Number.MAX_VALUE),f._state.keys.forEach(function(u){l.indexOf(u.note)!==-1&&(u.isActive=!0)})}},AudioKeys_special={_isSpecialKey:function(f){return this._state.rows===1&&this._specialKeyMap[f]},_specialKey:function(f){var l=this;l._specialKeyMap[f].type==="octave"&&l._state.octaveControls?l._state.octave+=l._specialKeyMap[f].value:l._specialKeyMap[f].type==="velocity"&&l._state.velocityControls&&(l._state.velocity=l._specialKeyMap[f].value)},_specialKeyMap:{90:{type:"octave",value:-1},88:{type:"octave",value:1},49:{type:"velocity",value:1},50:{type:"velocity",value:14},51:{type:"velocity",value:28},52:{type:"velocity",value:42},53:{type:"velocity",value:56},54:{type:"velocity",value:70},55:{type:"velocity",value:84},56:{type:"velocity",value:98},57:{type:"velocity",value:112},48:{type:"velocity",value:127}}},state=AudioKeys_state,events=AudioKeys_events,mapping=AudioKeys_mapping,buffer=AudioKeys_buffer,priority=AudioKeys_priority,special=AudioKeys_special;function AudioKeys(f){var l=this;l._setState(f),l._listeners={},l._bind()}AudioKeys.prototype._setState=state._setState;AudioKeys.prototype._extendState=state._extendState;AudioKeys.prototype.set=state.set;AudioKeys.prototype.get=state.get;AudioKeys.prototype.down=events.down;AudioKeys.prototype.up=events.up;AudioKeys.prototype._trigger=events._trigger;AudioKeys.prototype._bind=events._bind;AudioKeys.prototype._map=mapping._map;AudioKeys.prototype._offset=mapping._offset;AudioKeys.prototype._isNote=mapping._isNote;AudioKeys.prototype._toFrequency=mapping._toFrequency;AudioKeys.prototype._keyMap=mapping._keyMap;AudioKeys.prototype._addKey=buffer._addKey;AudioKeys.prototype._removeKey=buffer._removeKey;AudioKeys.prototype._isPressed=buffer._isPressed;AudioKeys.prototype._makeNote=buffer._makeNote;AudioKeys.prototype.clear=buffer.clear;AudioKeys.prototype._update=buffer._update;AudioKeys.prototype._diff=buffer._diff;AudioKeys.prototype._prioritize=priority._prioritize;AudioKeys.prototype._last=priority._last;AudioKeys.prototype._first=priority._first;AudioKeys.prototype._highest=priority._highest;AudioKeys.prototype._lowest=priority._lowest;AudioKeys.prototype._isSpecialKey=special._isSpecialKey;AudioKeys.prototype._specialKey=special._specialKey;AudioKeys.prototype._specialKeyMap=special._specialKeyMap;var AudioKeys_1=AudioKeys;const AudioKeys$1=getDefaultExportFromCjs(AudioKeys_1),map={60:"Z",61:"S",62:"X",63:"D",64:"C",65:"V",66:"G",67:"B",68:"H",69:"N",70:"J",71:"M",72:"Q",73:"2",74:"W",75:"3",76:"E",77:"R",78:"5",79:"T",80:"6",81:"Y",82:"7",83:"U"},noteToKey=f=>map[f],Key_svelte_svelte_type_style_lang="";function create_fragment$n(f){let l,u,c,g=noteToKey(f[1])+"",y,m,_,p,x;return{c(){l=element("div"),u=element("div"),c=element("span"),y=text(g),this.h()},l(E){l=claim_element(E,"DIV",{class:!0});var A=children(l);u=claim_element(A,"DIV",{class:!0});var b=children(u);c=claim_element(b,"SPAN",{class:!0});var k=children(c);y=claim_text(k,g),k.forEach(detach),b.forEach(detach),A.forEach(detach),this.h()},h(){attr(c,"class","label svelte-s3txvo"),attr(u,"class",m="inner piano-"+f[2]+" note-"+f[1]+" "+(f[0]?"active":"")+" svelte-s3txvo"),attr(l,"class",_="key key--"+f[2]+" svelte-s3txvo")},m(E,A){insert_hydration(E,l,A),append_hydration(l,u),append_hydration(u,c),append_hydration(c,y),p||(x=[listen(u,"mousedown",f[4]),listen(u,"mouseup",f[5]),listen(u,"mouseleave",f[6]),listen(u,"mouseenter",f[7]),listen(u,"touchstart",f[8],{passive:!0}),listen(u,"touchend",f[9],{passive:!0})],p=!0)},p(E,[A]){A&2&&g!==(g=noteToKey(E[1])+"")&&set_data(y,g),A&7&&m!==(m="inner piano-"+E[2]+" note-"+E[1]+" "+(E[0]?"active":"")+" svelte-s3txvo")&&attr(u,"class",m),A&4&&_!==(_="key key--"+E[2]+" svelte-s3txvo")&&attr(l,"class",_)},i:noop,o:noop,d(E){E&&detach(l),p=!1,run_all(x)}}}function instance$l(f,l,u){const c=createEventDispatcher();let{isActive:g=!1}=l,{note:y}=l,{colour:m}=l;const _=()=>c("down",y),p=()=>c("up",y),x=()=>c("leave",y),E=()=>c("enter",y),A=()=>c("touchstart",y),b=()=>c("touchend",y);return f.$$set=k=>{"isActive"in k&&u(0,g=k.isActive),"note"in k&&u(1,y=k.note),"colour"in k&&u(2,m=k.colour)},[g,y,m,c,_,p,x,E,A,b]}class Key extends SvelteComponent{constructor(l){super(),init(this,l,instance$l,create_fragment$n,safe_not_equal,{isActive:0,note:1,colour:2})}}const Keyboard_svelte_svelte_type_style_lang="",{window:window_1$3}=globals;function get_each_context$6(f,l,u){const c=f.slice();return c[20]=l[u],c[22]=u,c}function create_each_block$6(f){let l,u;return l=new Key({props:{note:f[20],colour:[1,3,6,8,10].includes(f[22]%12)?"black":"white",isActive:f[2].includes(f[20])}}),l.$on("down",f[3]),l.$on("up",f[4]),l.$on("leave",f[5]),l.$on("enter",f[6]),l.$on("touchstart",f[7]),l.$on("touchend",f[8]),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g&2&&(y.note=c[20]),g&6&&(y.isActive=c[2].includes(c[20])),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_fragment$m(f){let l,u,c,g,y,m=f[1],_=[];for(let x=0;x<m.length;x+=1)_[x]=create_each_block$6(get_each_context$6(f,m,x));const p=x=>transition_out(_[x],1,1,()=>{_[x]=null});return{c(){l=element("div"),u=element("div");for(let x=0;x<_.length;x+=1)_[x].c();this.h()},l(x){l=claim_element(x,"DIV",{class:!0});var E=children(l);u=claim_element(E,"DIV",{class:!0});var A=children(u);for(let b=0;b<_.length;b+=1)_[b].l(A);A.forEach(detach),E.forEach(detach),this.h()},h(){attr(u,"class","piano-keys svelte-12oh2o8"),attr(l,"class","piano svelte-12oh2o8")},m(x,E){insert_hydration(x,l,E),append_hydration(l,u);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(u,null);c=!0,g||(y=listen(window_1$3,"resize",f[9]),g=!0)},p(x,[E]){if(E&510){m=x[1];let A;for(A=0;A<m.length;A+=1){const b=get_each_context$6(x,m,A);_[A]?(_[A].p(b,E),transition_in(_[A],1)):(_[A]=create_each_block$6(b),_[A].c(),transition_in(_[A],1),_[A].m(u,null))}for(group_outros(),A=m.length;A<_.length;A+=1)p(A);check_outros()}},i(x){if(!c){for(let E=0;E<m.length;E+=1)transition_in(_[E]);c=!0}},o(x){_=_.filter(Boolean);for(let E=0;E<_.length;E+=1)transition_out(_[E]);c=!1},d(x){x&&detach(l),destroy_each(_,x),g=!1,y()}}}function instance$k(f,l,u){const c=new AudioKeys$1({polyphony:6,rows:2,priority:"last"});let g=!1,y=[60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83],m=y,_=[],p=!1,x=!1;drone.subscribe(D=>!D&&u(2,_=[]));function E(D,N=.5){u(2,_=get_store_value(drone)?[D]:[..._,D]),handleEvent({...get_store_value(synthValues),n:D,amp:N})}function A(D){_.includes(D)&&(!get_store_value(drone)&&u(2,_=_.filter(N=>N!==D)),handleNoteOff(get_store_value(synthValues).inst,D))}c.down(({note:D})=>{E(D)}),c.up(({note:D})=>{A(D)});function b(D){x||(g=!0,E(D.detail))}function k(D){x||(g=!1,A(D.detail))}function S(D){x||A(D.detail)}function T(D){x||!g||E(D.detail)}function P(D){x=!0,E(D.detail)}function C(D){A(D.detail)}function M(D){E(D.note.number,D.velocity)}function j(D){A(D.note.number)}function I(D){const N=wm.getInputByName(D);N!=null&&N.hasListener("noteon",M)&&(N!=null&&N.hasListener("noteoff",j))||(N==null||N.addListener("noteon",M),N==null||N.addListener("noteoff",j))}function O(D){const N=wm.getInputByName(D);N==null||N.removeListener("noteon",M),N==null||N.removeListener("noteoff",j)}onMount(()=>{u(0,p=window.innerWidth<650),inputs.subscribe(D=>{D.forEach(({name:N,active:U})=>U?I(N):O(N))})});const R=()=>u(0,p=window.innerWidth<650);return f.$$.update=()=>{f.$$.dirty&1&&u(1,m=p?y.slice(0,12):y)},[p,m,_,b,k,S,T,P,C,R]}class Keyboard extends SvelteComponent{constructor(l){super(),init(this,l,instance$k,create_fragment$m,safe_not_equal,{})}}const Controls_svelte_svelte_type_style_lang$1="";function get_each_context$5(f,l,u){const c=f.slice();return c[9]=l[u].name,c[10]=l[u].a,c[11]=l[u].d,c[12]=l[u].s,c[13]=l[u].r,c[14]=l,c[15]=u,c}function create_each_block$5(f,l){let u,c,g=l[9]+"",y,m,_,p,x,E,A,b,k,S,T,P,C,M,j,I,O,R,D,N,U,X,V,K;function W(ne){l[5](ne,l[10],l[14],l[15])}let Q={pixelRange:200,min:.01,name:"a"};l[10]!==void 0&&(Q.value=l[10]),x=new Knob({props:Q}),binding_callbacks.push(()=>bind(x,"value",W));function L(ne){l[6](ne,l[11],l[14],l[15])}let G={pixelRange:200,min:.01,name:"d"};l[11]!==void 0&&(G.value=l[11]),S=new Knob({props:G}),binding_callbacks.push(()=>bind(S,"value",L));function J(ne){l[7](ne,l[12],l[14],l[15])}let B={pixelRange:200,min:.01,name:"s"};l[12]!==void 0&&(B.value=l[12]),j=new Knob({props:B}),binding_callbacks.push(()=>bind(j,"value",J));function Y(ne){l[8](ne,l[13],l[14],l[15])}let ie={pixelRange:200,min:.01,name:"r"};return l[13]!==void 0&&(ie.value=l[13]),N=new Knob({props:ie}),binding_callbacks.push(()=>bind(N,"value",Y)),{key:f,first:null,c(){u=element("div"),c=element("h3"),y=text(g),_=space(),p=element("div"),create_component(x.$$.fragment),b=space(),k=element("div"),create_component(S.$$.fragment),C=space(),M=element("div"),create_component(j.$$.fragment),R=space(),D=element("div"),create_component(N.$$.fragment),X=space(),this.h()},l(ne){u=claim_element(ne,"DIV",{class:!0});var Z=children(u);c=claim_element(Z,"H3",{class:!0});var H=children(c);y=claim_text(H,g),H.forEach(detach),Z.forEach(detach),_=claim_space(ne),p=claim_element(ne,"DIV",{class:!0});var z=children(p);claim_component(x.$$.fragment,z),z.forEach(detach),b=claim_space(ne),k=claim_element(ne,"DIV",{class:!0});var ee=children(k);claim_component(S.$$.fragment,ee),ee.forEach(detach),C=claim_space(ne),M=claim_element(ne,"DIV",{class:!0});var se=children(M);claim_component(j.$$.fragment,se),se.forEach(detach),R=claim_space(ne),D=claim_element(ne,"DIV",{class:!0});var le=children(D);claim_component(N.$$.fragment,le),X=claim_space(le),le.forEach(detach),this.h()},h(){attr(c,"class","svelte-13pmh6r"),attr(u,"class",m="knobs__title knobs__title--envelope__"+l[15]+" svelte-13pmh6r"),attr(p,"class",A=`knobs__knob knobs__knob--${l[9]}_a svelte-13pmh6r`),attr(k,"class",P=`knobs__knob knobs__knob--${l[9]}_d svelte-13pmh6r`),attr(M,"class",O=`knobs__knob knobs__knob--${l[9]}_s svelte-13pmh6r`),attr(D,"class",V=`knobs__knob knobs__knob--${l[9]}_r svelte-13pmh6r`),this.first=u},m(ne,Z){insert_hydration(ne,u,Z),append_hydration(u,c),append_hydration(c,y),insert_hydration(ne,_,Z),insert_hydration(ne,p,Z),mount_component(x,p,null),insert_hydration(ne,b,Z),insert_hydration(ne,k,Z),mount_component(S,k,null),insert_hydration(ne,C,Z),insert_hydration(ne,M,Z),mount_component(j,M,null),insert_hydration(ne,R,Z),insert_hydration(ne,D,Z),mount_component(N,D,null),append_hydration(D,X),K=!0},p(ne,Z){l=ne,(!K||Z&4)&&g!==(g=l[9]+"")&&set_data(y,g),(!K||Z&4&&m!==(m="knobs__title knobs__title--envelope__"+l[15]+" svelte-13pmh6r"))&&attr(u,"class",m);const H={};!E&&Z&4&&(E=!0,H.value=l[10],add_flush_callback(()=>E=!1)),x.$set(H),(!K||Z&4&&A!==(A=`knobs__knob knobs__knob--${l[9]}_a svelte-13pmh6r`))&&attr(p,"class",A);const z={};!T&&Z&4&&(T=!0,z.value=l[11],add_flush_callback(()=>T=!1)),S.$set(z),(!K||Z&4&&P!==(P=`knobs__knob knobs__knob--${l[9]}_d svelte-13pmh6r`))&&attr(k,"class",P);const ee={};!I&&Z&4&&(I=!0,ee.value=l[12],add_flush_callback(()=>I=!1)),j.$set(ee),(!K||Z&4&&O!==(O=`knobs__knob knobs__knob--${l[9]}_s svelte-13pmh6r`))&&attr(M,"class",O);const se={};!U&&Z&4&&(U=!0,se.value=l[13],add_flush_callback(()=>U=!1)),N.$set(se),(!K||Z&4&&V!==(V=`knobs__knob knobs__knob--${l[9]}_r svelte-13pmh6r`))&&attr(D,"class",V)},i(ne){K||(transition_in(x.$$.fragment,ne),transition_in(S.$$.fragment,ne),transition_in(j.$$.fragment,ne),transition_in(N.$$.fragment,ne),K=!0)},o(ne){transition_out(x.$$.fragment,ne),transition_out(S.$$.fragment,ne),transition_out(j.$$.fragment,ne),transition_out(N.$$.fragment,ne),K=!1},d(ne){ne&&detach(u),ne&&detach(_),ne&&detach(p),destroy_component(x),ne&&detach(b),ne&&detach(k),destroy_component(S),ne&&detach(C),ne&&detach(M),destroy_component(j),ne&&detach(R),ne&&detach(D),destroy_component(N)}}}function create_fragment$l(f){let l,u,c,g,y,m,_,p,x,E,A,b,k,S,T,P,C,M,j,I,O=[],R=new Map,D;m=new Button({props:{orientation:"vertical",text:"Drone",colour:"grey",active:f[0],onClick:f[3],icon:faSignal}}),E=new Keyboard({});function N(K){f[4](K)}let U={name:"Vol",pixelRange:200};f[1]!==void 0&&(U.value=f[1]),M=new Knob({props:U}),binding_callbacks.push(()=>bind(M,"value",N));let X=f[2];const V=K=>K[9];for(let K=0;K<X.length;K+=1){let W=get_each_context$5(f,X,K),Q=V(W);R.set(Q,O[K]=create_each_block$5(Q,W))}return{c(){l=element("div"),u=element("h2"),c=text("Controls"),g=space(),y=element("div"),create_component(m.$$.fragment),_=space(),p=element("div"),x=element("div"),create_component(E.$$.fragment),A=space(),b=element("div"),k=element("div"),S=element("h3"),T=text("Vol"),P=space(),C=element("div"),create_component(M.$$.fragment),I=space();for(let K=0;K<O.length;K+=1)O[K].c();this.h()},l(K){l=claim_element(K,"DIV",{class:!0});var W=children(l);u=claim_element(W,"H2",{class:!0});var Q=children(u);c=claim_text(Q,"Controls"),Q.forEach(detach),g=claim_space(W),y=claim_element(W,"DIV",{class:!0});var L=children(y);claim_component(m.$$.fragment,L),L.forEach(detach),_=claim_space(W),p=claim_element(W,"DIV",{class:!0});var G=children(p);x=claim_element(G,"DIV",{class:!0});var J=children(x);claim_component(E.$$.fragment,J),J.forEach(detach),A=claim_space(G),b=claim_element(G,"DIV",{class:!0});var B=children(b);k=claim_element(B,"DIV",{class:!0});var Y=children(k);S=claim_element(Y,"H3",{class:!0});var ie=children(S);T=claim_text(ie,"Vol"),ie.forEach(detach),Y.forEach(detach),P=claim_space(B),C=claim_element(B,"DIV",{class:!0});var ne=children(C);claim_component(M.$$.fragment,ne),ne.forEach(detach),I=claim_space(B);for(let Z=0;Z<O.length;Z+=1)O[Z].l(B);B.forEach(detach),G.forEach(detach),W.forEach(detach),this.h()},h(){attr(u,"class","visually-hidden"),attr(y,"class","buttons svelte-13pmh6r"),attr(x,"class","keys svelte-13pmh6r"),attr(S,"class","svelte-13pmh6r"),attr(k,"class","knobs__title knobs__title--volume svelte-13pmh6r"),attr(C,"class","knobs__knob knobs__knob--vol svelte-13pmh6r"),attr(b,"class","knobs svelte-13pmh6r"),attr(p,"class","controller svelte-13pmh6r"),attr(l,"class","controls svelte-13pmh6r")},m(K,W){insert_hydration(K,l,W),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),mount_component(m,y,null),append_hydration(l,_),append_hydration(l,p),append_hydration(p,x),mount_component(E,x,null),append_hydration(p,A),append_hydration(p,b),append_hydration(b,k),append_hydration(k,S),append_hydration(S,T),append_hydration(b,P),append_hydration(b,C),mount_component(M,C,null),append_hydration(b,I);for(let Q=0;Q<O.length;Q+=1)O[Q]&&O[Q].m(b,null);D=!0},p(K,[W]){const Q={};W&1&&(Q.active=K[0]),m.$set(Q);const L={};!j&&W&2&&(j=!0,L.value=K[1],add_flush_callback(()=>j=!1)),M.$set(L),W&4&&(X=K[2],group_outros(),O=update_keyed_each(O,W,V,1,K,X,R,b,outro_and_destroy_block,create_each_block$5,null,get_each_context$5),check_outros())},i(K){if(!D){transition_in(m.$$.fragment,K),transition_in(E.$$.fragment,K),transition_in(M.$$.fragment,K);for(let W=0;W<X.length;W+=1)transition_in(O[W]);D=!0}},o(K){transition_out(m.$$.fragment,K),transition_out(E.$$.fragment,K),transition_out(M.$$.fragment,K);for(let W=0;W<O.length;W+=1)transition_out(O[W]);D=!1},d(K){K&&detach(l),destroy_component(m),destroy_component(E),destroy_component(M);for(let W=0;W<O.length;W+=1)O[W].d()}}}function instance$j(f,l,u){let c,g,y;component_subscribe(f,drone,b=>u(0,c=b)),component_subscribe(f,volume,b=>u(1,g=b)),component_subscribe(f,envelopes,b=>u(2,y=b)),library$1.add(faSignal,faCircle);const m=()=>drone.update(b=>!b);function _(b){g=b,volume.set(g)}function p(b,k,S,T){S[T].a=b,envelopes.set(y)}function x(b,k,S,T){S[T].d=b,envelopes.set(y)}function E(b,k,S,T){S[T].s=b,envelopes.set(y)}function A(b,k,S,T){S[T].r=b,envelopes.set(y)}return[c,g,y,m,_,p,x,E,A]}let Controls$1=class extends SvelteComponent{constructor(l){super(),init(this,l,instance$j,create_fragment$l,safe_not_equal,{})}};var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(f,l){module.exports=l()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(l){_useWebWorker=!!l},getWebWorker=function(){return _useWebWorker},setLocationHref=function(l){locationHref=l},getLocationHref=function(){return locationHref};function createTag(f){return document.createElement(f)}function extendPrototype(f,l){var u,c=f.length,g;for(u=0;u<c;u+=1){g=f[u].prototype;for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(l.prototype[y]=g[y])}}function getDescriptor(f,l){return Object.getOwnPropertyDescriptor(f,l)}function createProxyFunction(f){function l(){}return l.prototype=f,l}var audioControllerFactory=function(){function f(l){this.audios=[],this.audioFactory=l,this._volume=1,this._isMuted=!1}return f.prototype={addAudio:function(u){this.audios.push(u)},pause:function(){var u,c=this.audios.length;for(u=0;u<c;u+=1)this.audios[u].pause()},resume:function(){var u,c=this.audios.length;for(u=0;u<c;u+=1)this.audios[u].resume()},setRate:function(u){var c,g=this.audios.length;for(c=0;c<g;c+=1)this.audios[c].setRate(u)},createAudio:function(u){return this.audioFactory?this.audioFactory(u):window.Howl?new window.Howl({src:[u]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(u){this.audioFactory=u},setVolume:function(u){this._volume=u,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var u,c=this.audios.length;for(u=0;u<c;u+=1)this.audios[u].volume(this._volume*(this._isMuted?0:1))}},function(){return new f}}(),createTypedArray=function(){function f(u,c){var g=0,y=[],m;switch(u){case"int16":case"uint8c":m=1;break;default:m=1.1;break}for(g=0;g<c;g+=1)y.push(m);return y}function l(u,c){return u==="float32"?new Float32Array(c):u==="int16"?new Int16Array(c):u==="uint8c"?new Uint8ClampedArray(c):f(u,c)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?l:f}();function createSizedArray(f){return Array.apply(null,{length:f})}function _typeof$6(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(u){return typeof u}:_typeof$6=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$6(f)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var f=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],l,u=f.length;for(l=0;l<u;l+=1)BMMath[f[l]]=Math[f[l]]})(),BMMath.random=Math.random,BMMath.abs=function(f){var l=_typeof$6(f);if(l==="object"&&f.length){var u=createSizedArray(f.length),c,g=f.length;for(c=0;c<g;c+=1)u[c]=Math.abs(f[c]);return u}return Math.abs(f)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(f){f.style.position="absolute",f.style.top=0,f.style.left=0,f.style.display="block",f.style.transformOrigin="0 0",f.style.webkitTransformOrigin="0 0",f.style.backfaceVisibility="visible",f.style.webkitBackfaceVisibility="visible",f.style.transformStyle="preserve-3d",f.style.webkitTransformStyle="preserve-3d",f.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(f,l,u,c){this.type=f,this.currentTime=l,this.totalTime=u,this.direction=c<0?-1:1}function BMCompleteEvent(f,l){this.type=f,this.direction=l<0?-1:1}function BMCompleteLoopEvent(f,l,u,c){this.type=f,this.currentLoop=u,this.totalLoops=l,this.direction=c<0?-1:1}function BMSegmentStartEvent(f,l,u){this.type=f,this.firstFrame=l,this.totalFrames=u}function BMDestroyEvent(f,l){this.type=f,this.target=l}function BMRenderFrameErrorEvent(f,l){this.type="renderFrameError",this.nativeError=f,this.currentTime=l}function BMConfigErrorEvent(f){this.type="configError",this.nativeError=f}var createElementID=function(){var f=0;return function(){return f+=1,idPrefix$1+"__lottie_element_"+f}}();function HSVtoRGB(f,l,u){var c,g,y,m,_,p,x,E;switch(m=Math.floor(f*6),_=f*6-m,p=u*(1-l),x=u*(1-_*l),E=u*(1-(1-_)*l),m%6){case 0:c=u,g=E,y=p;break;case 1:c=x,g=u,y=p;break;case 2:c=p,g=u,y=E;break;case 3:c=p,g=x,y=u;break;case 4:c=E,g=p,y=u;break;case 5:c=u,g=p,y=x;break}return[c,g,y]}function RGBtoHSV(f,l,u){var c=Math.max(f,l,u),g=Math.min(f,l,u),y=c-g,m,_=c===0?0:y/c,p=c/255;switch(c){case g:m=0;break;case f:m=l-u+y*(l<u?6:0),m/=6*y;break;case l:m=u-f+y*2,m/=6*y;break;case u:m=f-l+y*4,m/=6*y;break}return[m,_,p]}function addSaturationToRGB(f,l){var u=RGBtoHSV(f[0]*255,f[1]*255,f[2]*255);return u[1]+=l,u[1]>1?u[1]=1:u[1]<=0&&(u[1]=0),HSVtoRGB(u[0],u[1],u[2])}function addBrightnessToRGB(f,l){var u=RGBtoHSV(f[0]*255,f[1]*255,f[2]*255);return u[2]+=l,u[2]>1?u[2]=1:u[2]<0&&(u[2]=0),HSVtoRGB(u[0],u[1],u[2])}function addHueToRGB(f,l){var u=RGBtoHSV(f[0]*255,f[1]*255,f[2]*255);return u[0]+=l/360,u[0]>1?u[0]-=1:u[0]<0&&(u[0]+=1),HSVtoRGB(u[0],u[1],u[2])}var rgbToHex=function(){var f=[],l,u;for(l=0;l<256;l+=1)u=l.toString(16),f[l]=u.length===1?"0"+u:u;return function(c,g,y){return c<0&&(c=0),g<0&&(g=0),y<0&&(y=0),"#"+f[c]+f[g]+f[y]}}(),setSubframeEnabled=function(l){subframeEnabled=!!l},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(l){expressionsPlugin=l},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(l){expressionsInterfaces=l},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(l){defaultCurveSegments=l},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(l){idPrefix$1=l};function createNS(f){return document.createElementNS(svgNS,f)}function _typeof$5(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(u){return typeof u}:_typeof$5=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$5(f)}var dataManager=function(){var f=1,l=[],u,c,g={onmessage:function(){},postMessage:function(k){u({data:k})}},y={postMessage:function(k){g.onmessage({data:k})}};function m(b){if(window.Worker&&window.Blob&&getWebWorker()){var k=new Blob(["var _workerSelf = self; self.onmessage = ",b.toString()],{type:"text/javascript"}),S=URL.createObjectURL(k);return new Worker(S)}return u=b,g}function _(){c||(c=m(function(k){function S(){function P(L,G){var J,B,Y=L.length,ie,ne,Z,H;for(B=0;B<Y;B+=1)if(J=L[B],"ks"in J&&!J.completed){if(J.completed=!0,J.hasMask){var z=J.masksProperties;for(ne=z.length,ie=0;ie<ne;ie+=1)if(z[ie].pt.k.i)O(z[ie].pt.k);else for(H=z[ie].pt.k.length,Z=0;Z<H;Z+=1)z[ie].pt.k[Z].s&&O(z[ie].pt.k[Z].s[0]),z[ie].pt.k[Z].e&&O(z[ie].pt.k[Z].e[0])}J.ty===0?(J.layers=j(J.refId,G),P(J.layers,G)):J.ty===4?I(J.shapes):J.ty===5&&W(J)}}function C(L,G){if(L){var J=0,B=L.length;for(J=0;J<B;J+=1)L[J].t===1&&(L[J].data.layers=j(L[J].data.refId,G),P(L[J].data.layers,G))}}function M(L,G){for(var J=0,B=G.length;J<B;){if(G[J].id===L)return G[J];J+=1}return null}function j(L,G){var J=M(L,G);return J?J.layers.__used?JSON.parse(JSON.stringify(J.layers)):(J.layers.__used=!0,J.layers):null}function I(L){var G,J=L.length,B,Y;for(G=J-1;G>=0;G-=1)if(L[G].ty==="sh")if(L[G].ks.k.i)O(L[G].ks.k);else for(Y=L[G].ks.k.length,B=0;B<Y;B+=1)L[G].ks.k[B].s&&O(L[G].ks.k[B].s[0]),L[G].ks.k[B].e&&O(L[G].ks.k[B].e[0]);else L[G].ty==="gr"&&I(L[G].it)}function O(L){var G,J=L.i.length;for(G=0;G<J;G+=1)L.i[G][0]+=L.v[G][0],L.i[G][1]+=L.v[G][1],L.o[G][0]+=L.v[G][0],L.o[G][1]+=L.v[G][1]}function R(L,G){var J=G?G.split("."):[100,100,100];return L[0]>J[0]?!0:J[0]>L[0]?!1:L[1]>J[1]?!0:J[1]>L[1]?!1:L[2]>J[2]?!0:J[2]>L[2]?!1:null}var D=function(){var L=[4,4,14];function G(B){var Y=B.t.d;B.t.d={k:[{s:Y,t:0}]}}function J(B){var Y,ie=B.length;for(Y=0;Y<ie;Y+=1)B[Y].ty===5&&G(B[Y])}return function(B){if(R(L,B.v)&&(J(B.layers),B.assets)){var Y,ie=B.assets.length;for(Y=0;Y<ie;Y+=1)B.assets[Y].layers&&J(B.assets[Y].layers)}}}(),N=function(){var L=[4,7,99];return function(G){if(G.chars&&!R(L,G.v)){var J,B=G.chars.length;for(J=0;J<B;J+=1){var Y=G.chars[J];Y.data&&Y.data.shapes&&(I(Y.data.shapes),Y.data.ip=0,Y.data.op=99999,Y.data.st=0,Y.data.sr=1,Y.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},G.chars[J].t||(Y.data.shapes.push({ty:"no"}),Y.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),U=function(){var L=[5,7,15];function G(B){var Y=B.t.p;typeof Y.a=="number"&&(Y.a={a:0,k:Y.a}),typeof Y.p=="number"&&(Y.p={a:0,k:Y.p}),typeof Y.r=="number"&&(Y.r={a:0,k:Y.r})}function J(B){var Y,ie=B.length;for(Y=0;Y<ie;Y+=1)B[Y].ty===5&&G(B[Y])}return function(B){if(R(L,B.v)&&(J(B.layers),B.assets)){var Y,ie=B.assets.length;for(Y=0;Y<ie;Y+=1)B.assets[Y].layers&&J(B.assets[Y].layers)}}}(),X=function(){var L=[4,1,9];function G(B){var Y,ie=B.length,ne,Z;for(Y=0;Y<ie;Y+=1)if(B[Y].ty==="gr")G(B[Y].it);else if(B[Y].ty==="fl"||B[Y].ty==="st")if(B[Y].c.k&&B[Y].c.k[0].i)for(Z=B[Y].c.k.length,ne=0;ne<Z;ne+=1)B[Y].c.k[ne].s&&(B[Y].c.k[ne].s[0]/=255,B[Y].c.k[ne].s[1]/=255,B[Y].c.k[ne].s[2]/=255,B[Y].c.k[ne].s[3]/=255),B[Y].c.k[ne].e&&(B[Y].c.k[ne].e[0]/=255,B[Y].c.k[ne].e[1]/=255,B[Y].c.k[ne].e[2]/=255,B[Y].c.k[ne].e[3]/=255);else B[Y].c.k[0]/=255,B[Y].c.k[1]/=255,B[Y].c.k[2]/=255,B[Y].c.k[3]/=255}function J(B){var Y,ie=B.length;for(Y=0;Y<ie;Y+=1)B[Y].ty===4&&G(B[Y].shapes)}return function(B){if(R(L,B.v)&&(J(B.layers),B.assets)){var Y,ie=B.assets.length;for(Y=0;Y<ie;Y+=1)B.assets[Y].layers&&J(B.assets[Y].layers)}}}(),V=function(){var L=[4,4,18];function G(B){var Y,ie=B.length,ne,Z;for(Y=ie-1;Y>=0;Y-=1)if(B[Y].ty==="sh")if(B[Y].ks.k.i)B[Y].ks.k.c=B[Y].closed;else for(Z=B[Y].ks.k.length,ne=0;ne<Z;ne+=1)B[Y].ks.k[ne].s&&(B[Y].ks.k[ne].s[0].c=B[Y].closed),B[Y].ks.k[ne].e&&(B[Y].ks.k[ne].e[0].c=B[Y].closed);else B[Y].ty==="gr"&&G(B[Y].it)}function J(B){var Y,ie,ne=B.length,Z,H,z,ee;for(ie=0;ie<ne;ie+=1){if(Y=B[ie],Y.hasMask){var se=Y.masksProperties;for(H=se.length,Z=0;Z<H;Z+=1)if(se[Z].pt.k.i)se[Z].pt.k.c=se[Z].cl;else for(ee=se[Z].pt.k.length,z=0;z<ee;z+=1)se[Z].pt.k[z].s&&(se[Z].pt.k[z].s[0].c=se[Z].cl),se[Z].pt.k[z].e&&(se[Z].pt.k[z].e[0].c=se[Z].cl)}Y.ty===4&&G(Y.shapes)}}return function(B){if(R(L,B.v)&&(J(B.layers),B.assets)){var Y,ie=B.assets.length;for(Y=0;Y<ie;Y+=1)B.assets[Y].layers&&J(B.assets[Y].layers)}}}();function K(L){L.__complete||(X(L),D(L),N(L),U(L),V(L),P(L.layers,L.assets),C(L.chars,L.assets),L.__complete=!0)}function W(L){L.t.a.length===0&&"m"in L.t.p}var Q={};return Q.completeData=K,Q.checkColors=X,Q.checkChars=N,Q.checkPathProperties=U,Q.checkShapes=V,Q.completeLayers=P,Q}if(y.dataManager||(y.dataManager=S()),y.assetLoader||(y.assetLoader=function(){function P(M){var j=M.getResponseHeader("content-type");return j&&M.responseType==="json"&&j.indexOf("json")!==-1||M.response&&_typeof$5(M.response)==="object"?M.response:M.response&&typeof M.response=="string"?JSON.parse(M.response):M.responseText?JSON.parse(M.responseText):null}function C(M,j,I,O){var R,D=new XMLHttpRequest;try{D.responseType="json"}catch{}D.onreadystatechange=function(){if(D.readyState===4)if(D.status===200)R=P(D),I(R);else try{R=P(D),I(R)}catch(N){O&&O(N)}};try{D.open(["G","E","T"].join(""),M,!0)}catch{D.open(["G","E","T"].join(""),j+"/"+M,!0)}D.send()}return{load:C}}()),k.data.type==="loadAnimation")y.assetLoader.load(k.data.path,k.data.fullPath,function(P){y.dataManager.completeData(P),y.postMessage({id:k.data.id,payload:P,status:"success"})},function(){y.postMessage({id:k.data.id,status:"error"})});else if(k.data.type==="complete"){var T=k.data.animation;y.dataManager.completeData(T),y.postMessage({id:k.data.id,payload:T,status:"success"})}else k.data.type==="loadData"&&y.assetLoader.load(k.data.path,k.data.fullPath,function(P){y.postMessage({id:k.data.id,payload:P,status:"success"})},function(){y.postMessage({id:k.data.id,status:"error"})})}),c.onmessage=function(b){var k=b.data,S=k.id,T=l[S];l[S]=null,k.status==="success"?T.onComplete(k.payload):T.onError&&T.onError()})}function p(b,k){f+=1;var S="processId_"+f;return l[S]={onComplete:b,onError:k},S}function x(b,k,S){_();var T=p(k,S);c.postMessage({type:"loadAnimation",path:b,fullPath:window.location.origin+window.location.pathname,id:T})}function E(b,k,S){_();var T=p(k,S);c.postMessage({type:"loadData",path:b,fullPath:window.location.origin+window.location.pathname,id:T})}function A(b,k,S){_();var T=p(k,S);c.postMessage({type:"complete",animation:b,id:T})}return{loadAnimation:x,loadData:E,completeAnimation:A}}(),ImagePreloader=function(){var f=function(){var C=createTag("canvas");C.width=1,C.height=1;var M=C.getContext("2d");return M.fillStyle="rgba(0,0,0,0)",M.fillRect(0,0,1,1),C}();function l(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function u(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function c(C,M,j){var I="";if(C.e)I=C.p;else if(M){var O=C.p;O.indexOf("images/")!==-1&&(O=O.split("/")[1]),I=M+O}else I=j,I+=C.u?C.u:"",I+=C.p;return I}function g(C){var M=0,j=setInterval((function(){var I=C.getBBox();(I.width||M>500)&&(this._imageLoaded(),clearInterval(j)),M+=1}).bind(this),50)}function y(C){var M=c(C,this.assetsPath,this.path),j=createNS("image");isSafari?this.testImageLoaded(j):j.addEventListener("load",this._imageLoaded,!1),j.addEventListener("error",(function(){I.img=f,this._imageLoaded()}).bind(this),!1),j.setAttributeNS("http://www.w3.org/1999/xlink","href",M),this._elementHelper.append?this._elementHelper.append(j):this._elementHelper.appendChild(j);var I={img:j,assetData:C};return I}function m(C){var M=c(C,this.assetsPath,this.path),j=createTag("img");j.crossOrigin="anonymous",j.addEventListener("load",this._imageLoaded,!1),j.addEventListener("error",(function(){I.img=f,this._imageLoaded()}).bind(this),!1),j.src=M;var I={img:j,assetData:C};return I}function _(C){var M={assetData:C},j=c(C,this.assetsPath,this.path);return dataManager.loadData(j,(function(I){M.img=I,this._footageLoaded()}).bind(this),(function(){M.img={},this._footageLoaded()}).bind(this)),M}function p(C,M){this.imagesLoadedCb=M;var j,I=C.length;for(j=0;j<I;j+=1)C[j].layers||(!C[j].t||C[j].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(C[j]))):C[j].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(C[j]))))}function x(C){this.path=C||""}function E(C){this.assetsPath=C||""}function A(C){for(var M=0,j=this.images.length;M<j;){if(this.images[M].assetData===C)return this.images[M].img;M+=1}return null}function b(){this.imagesLoadedCb=null,this.images.length=0}function k(){return this.totalImages===this.loadedAssets}function S(){return this.totalFootages===this.loadedFootagesCount}function T(C,M){C==="svg"?(this._elementHelper=M,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function P(){this._imageLoaded=l.bind(this),this._footageLoaded=u.bind(this),this.testImageLoaded=g.bind(this),this.createFootageData=_.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return P.prototype={loadAssets:p,setAssetsPath:E,setPath:x,loadedImages:k,loadedFootages:S,destroy:b,getAsset:A,createImgData:m,createImageData:y,imageLoaded:l,footageLoaded:u,setCacheType:T},P}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(l,u){if(this._cbs[l])for(var c=this._cbs[l],g=0;g<c.length;g+=1)c[g](u)},addEventListener:function(l,u){return this._cbs[l]||(this._cbs[l]=[]),this._cbs[l].push(u),(function(){this.removeEventListener(l,u)}).bind(this)},removeEventListener:function(l,u){if(!u)this._cbs[l]=null;else if(this._cbs[l]){for(var c=0,g=this._cbs[l].length;c<g;)this._cbs[l][c]===u&&(this._cbs[l].splice(c,1),c-=1,g-=1),c+=1;this._cbs[l].length||(this._cbs[l]=null)}}};var markerParser=function(){function f(l){for(var u=l.split(`\r
`),c={},g,y=0,m=0;m<u.length;m+=1)g=u[m].split(":"),g.length===2&&(c[g[0]]=g[1].trim(),y+=1);if(y===0)throw new Error;return c}return function(l){for(var u=[],c=0;c<l.length;c+=1){var g=l[c],y={time:g.tm,duration:g.dr};try{y.payload=JSON.parse(l[c].cm)}catch{try{y.payload=f(l[c].cm)}catch{y.payload={name:l[c].cm}}}u.push(y)}return u}}(),ProjectInterface=function(){function f(l){this.compositions.push(l)}return function(){function l(u){for(var c=0,g=this.compositions.length;c<g;){if(this.compositions[c].data&&this.compositions[c].data.nm===u)return this.compositions[c].prepareFrame&&this.compositions[c].data.xt&&this.compositions[c].prepareFrame(this.currentFrame),this.compositions[c].compInterface;c+=1}return null}return l.compositions=[],l.currentFrame=0,l.registerComposition=f,l}}(),renderers={},registerRenderer=function(l,u){renderers[l]=u};function getRenderer(f){return renderers[f]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var f in renderers)if(renderers[f])return f;return""}function _typeof$4(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(u){return typeof u}:_typeof$4=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$4(f)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(f){(f.wrapper||f.container)&&(this.wrapper=f.wrapper||f.container);var l="svg";f.animType?l=f.animType:f.renderer&&(l=f.renderer);var u=getRenderer(l);this.renderer=new u(this,f.rendererSettings),this.imagePreloader.setCacheType(l,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=l,f.loop===""||f.loop===null||f.loop===void 0||f.loop===!0?this.loop=!0:f.loop===!1?this.loop=!1:this.loop=parseInt(f.loop,10),this.autoplay="autoplay"in f?f.autoplay:!0,this.name=f.name?f.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(f,"autoloadSegments")?f.autoloadSegments:!0,this.assetsPath=f.assetsPath,this.initialSegment=f.initialSegment,f.audioFactory&&this.audioController.setAudioFactory(f.audioFactory),f.animationData?this.setupAnimation(f.animationData):f.path&&(f.path.lastIndexOf("\\")!==-1?this.path=f.path.substr(0,f.path.lastIndexOf("\\")+1):this.path=f.path.substr(0,f.path.lastIndexOf("/")+1),this.fileName=f.path.substr(f.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(f.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(f){dataManager.completeAnimation(f,this.configAnimation)},AnimationItem.prototype.setData=function(f,l){l&&_typeof$4(l)!=="object"&&(l=JSON.parse(l));var u={wrapper:f,animationData:l},c=f.attributes;u.path=c.getNamedItem("data-animation-path")?c.getNamedItem("data-animation-path").value:c.getNamedItem("data-bm-path")?c.getNamedItem("data-bm-path").value:c.getNamedItem("bm-path")?c.getNamedItem("bm-path").value:"",u.animType=c.getNamedItem("data-anim-type")?c.getNamedItem("data-anim-type").value:c.getNamedItem("data-bm-type")?c.getNamedItem("data-bm-type").value:c.getNamedItem("bm-type")?c.getNamedItem("bm-type").value:c.getNamedItem("data-bm-renderer")?c.getNamedItem("data-bm-renderer").value:c.getNamedItem("bm-renderer")?c.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var g=c.getNamedItem("data-anim-loop")?c.getNamedItem("data-anim-loop").value:c.getNamedItem("data-bm-loop")?c.getNamedItem("data-bm-loop").value:c.getNamedItem("bm-loop")?c.getNamedItem("bm-loop").value:"";g==="false"?u.loop=!1:g==="true"?u.loop=!0:g!==""&&(u.loop=parseInt(g,10));var y=c.getNamedItem("data-anim-autoplay")?c.getNamedItem("data-anim-autoplay").value:c.getNamedItem("data-bm-autoplay")?c.getNamedItem("data-bm-autoplay").value:c.getNamedItem("bm-autoplay")?c.getNamedItem("bm-autoplay").value:!0;u.autoplay=y!=="false",u.name=c.getNamedItem("data-name")?c.getNamedItem("data-name").value:c.getNamedItem("data-bm-name")?c.getNamedItem("data-bm-name").value:c.getNamedItem("bm-name")?c.getNamedItem("bm-name").value:"";var m=c.getNamedItem("data-anim-prerender")?c.getNamedItem("data-anim-prerender").value:c.getNamedItem("data-bm-prerender")?c.getNamedItem("data-bm-prerender").value:c.getNamedItem("bm-prerender")?c.getNamedItem("bm-prerender").value:"";m==="false"&&(u.prerender=!1),u.path?this.setParams(u):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(f){f.op>this.animationData.op&&(this.animationData.op=f.op,this.totalFrames=Math.floor(f.op-this.animationData.ip));var l=this.animationData.layers,u,c=l.length,g=f.layers,y,m=g.length;for(y=0;y<m;y+=1)for(u=0;u<c;){if(l[u].id===g[y].id){l[u]=g[y];break}u+=1}if((f.chars||f.fonts)&&(this.renderer.globalData.fontManager.addChars(f.chars),this.renderer.globalData.fontManager.addFonts(f.fonts,this.renderer.globalData.defs)),f.assets)for(c=f.assets.length,u=0;u<c;u+=1)this.animationData.assets.push(f.assets[u]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(f){this.animationData=f;var l=getExpressionsPlugin();l&&l.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var f=this.animationData.segments;if(!f||f.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var l=f.shift();this.timeCompleted=l.time*this.frameRate;var u=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(u,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var f=this.animationData.segments;f||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(f){if(this.renderer)try{this.animationData=f,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(f),f.assets||(f.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(f.assets),this.markers=markerParser(f.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(l){this.triggerConfigError(l)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var f=getExpressionsPlugin();f&&f.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(f,l){var u=typeof f=="number"?f:void 0,c=typeof l=="number"?l:void 0;this.renderer.updateContainerSize(u,c)},AnimationItem.prototype.setSubframe=function(f){this.isSubframeEnabled=!!f},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(f){this.triggerRenderFrameError(f)}},AnimationItem.prototype.play=function(f){f&&this.name!==f||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(f){f&&this.name!==f||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(f){f&&this.name!==f||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(f){f&&this.name!==f||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(f){for(var l,u=0;u<this.markers.length;u+=1)if(l=this.markers[u],l.payload&&l.payload.name===f)return l;return null},AnimationItem.prototype.goToAndStop=function(f,l,u){if(!(u&&this.name!==u)){var c=Number(f);if(isNaN(c)){var g=this.getMarkerData(f);g&&this.goToAndStop(g.time,!0)}else l?this.setCurrentRawFrameValue(f):this.setCurrentRawFrameValue(f*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(f,l,u){if(!(u&&this.name!==u)){var c=Number(f);if(isNaN(c)){var g=this.getMarkerData(f);g&&(g.duration?this.playSegments([g.time,g.time+g.duration],!0):this.goToAndStop(g.time,!0))}else this.goToAndStop(c,l,u);this.play()}},AnimationItem.prototype.advanceTime=function(f){if(!(this.isPaused===!0||this.isLoaded===!1)){var l=this.currentRawFrame+f*this.frameModifier,u=!1;l>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(l>this.totalFrames?l%this.totalFrames:0)||(u=!0,l=this.totalFrames-1):l>=this.totalFrames?(this.playCount+=1,this.checkSegments(l%this.totalFrames)||(this.setCurrentRawFrameValue(l%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(l):l<0?this.checkSegments(l%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+l%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(u=!0,l=0)):this.setCurrentRawFrameValue(l),u&&(this.setCurrentRawFrameValue(l),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(f,l){this.playCount=0,f[1]<f[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=f[0]-f[1],this.timeCompleted=this.totalFrames,this.firstFrame=f[1],this.setCurrentRawFrameValue(this.totalFrames-.001-l)):f[1]>f[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=f[1]-f[0],this.timeCompleted=this.totalFrames,this.firstFrame=f[0],this.setCurrentRawFrameValue(.001+l)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(f,l){var u=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<f?u=f:this.currentRawFrame+this.firstFrame>l&&(u=l-f)),this.firstFrame=f,this.totalFrames=l-f,this.timeCompleted=this.totalFrames,u!==-1&&this.goToAndStop(u,!0)},AnimationItem.prototype.playSegments=function(f,l){if(l&&(this.segments.length=0),_typeof$4(f[0])==="object"){var u,c=f.length;for(u=0;u<c;u+=1)this.segments.push(f[u])}else this.segments.push(f);this.segments.length&&l&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(f){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),f&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(f){return this.segments.length?(this.adjustSegment(this.segments.shift(),f),!0):!1},AnimationItem.prototype.destroy=function(f){f&&this.name!==f||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(f){this.currentRawFrame=f,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(f){this.playSpeed=f,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(f){this.playDirection=f<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(f){this.loop=f},AnimationItem.prototype.setVolume=function(f,l){l&&this.name!==l||this.audioController.setVolume(f)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(f){f&&this.name!==f||this.audioController.mute()},AnimationItem.prototype.unmute=function(f){f&&this.name!==f||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(f){var l="";if(f.e)l=f.p;else if(this.assetsPath){var u=f.p;u.indexOf("images/")!==-1&&(u=u.split("/")[1]),l=this.assetsPath+u}else l=this.path,l+=f.u?f.u:"",l+=f.p;return l},AnimationItem.prototype.getAssetData=function(f){for(var l=0,u=this.assets.length;l<u;){if(f===this.assets[l].id)return this.assets[l];l+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(f){return f?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(f,l,u){try{var c=this.renderer.getElementByPath(f);c.updateDocumentData(l,u)}catch{}},AnimationItem.prototype.trigger=function(f){if(this._cbs&&this._cbs[f])switch(f){case"enterFrame":this.triggerEvent(f,new BMEnterFrameEvent(f,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(f,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(f,new BMCompleteLoopEvent(f,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(f,new BMCompleteEvent(f,this.frameMult));break;case"segmentStart":this.triggerEvent(f,new BMSegmentStartEvent(f,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(f,new BMDestroyEvent(f,this));break;default:this.triggerEvent(f)}f==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(f,this.currentFrame,this.totalFrames,this.frameMult)),f==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(f,this.loop,this.playCount,this.frameMult)),f==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(f,this.frameMult)),f==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(f,this.firstFrame,this.totalFrames)),f==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(f,this))},AnimationItem.prototype.triggerRenderFrameError=function(f){var l=new BMRenderFrameErrorEvent(f,this.currentFrame);this.triggerEvent("error",l),this.onError&&this.onError.call(this,l)},AnimationItem.prototype.triggerConfigError=function(f){var l=new BMConfigErrorEvent(f,this.currentFrame);this.triggerEvent("error",l),this.onError&&this.onError.call(this,l)};var animationManager=function(){var f={},l=[],u=0,c=0,g=0,y=!0,m=!1;function _(G){for(var J=0,B=G.target;J<c;)l[J].animation===B&&(l.splice(J,1),J-=1,c-=1,B.isPaused||A()),J+=1}function p(G,J){if(!G)return null;for(var B=0;B<c;){if(l[B].elem===G&&l[B].elem!==null)return l[B].animation;B+=1}var Y=new AnimationItem;return b(Y,G),Y.setData(G,J),Y}function x(){var G,J=l.length,B=[];for(G=0;G<J;G+=1)B.push(l[G].animation);return B}function E(){g+=1,X()}function A(){g-=1}function b(G,J){G.addEventListener("destroy",_),G.addEventListener("_active",E),G.addEventListener("_idle",A),l.push({elem:J,animation:G}),c+=1}function k(G){var J=new AnimationItem;return b(J,null),J.setParams(G),J}function S(G,J){var B;for(B=0;B<c;B+=1)l[B].animation.setSpeed(G,J)}function T(G,J){var B;for(B=0;B<c;B+=1)l[B].animation.setDirection(G,J)}function P(G){var J;for(J=0;J<c;J+=1)l[J].animation.play(G)}function C(G){var J=G-u,B;for(B=0;B<c;B+=1)l[B].animation.advanceTime(J);u=G,g&&!m?window.requestAnimationFrame(C):y=!0}function M(G){u=G,window.requestAnimationFrame(C)}function j(G){var J;for(J=0;J<c;J+=1)l[J].animation.pause(G)}function I(G,J,B){var Y;for(Y=0;Y<c;Y+=1)l[Y].animation.goToAndStop(G,J,B)}function O(G){var J;for(J=0;J<c;J+=1)l[J].animation.stop(G)}function R(G){var J;for(J=0;J<c;J+=1)l[J].animation.togglePause(G)}function D(G){var J;for(J=c-1;J>=0;J-=1)l[J].animation.destroy(G)}function N(G,J,B){var Y=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),ie,ne=Y.length;for(ie=0;ie<ne;ie+=1)B&&Y[ie].setAttribute("data-bm-type",B),p(Y[ie],G);if(J&&ne===0){B||(B="svg");var Z=document.getElementsByTagName("body")[0];Z.innerText="";var H=createTag("div");H.style.width="100%",H.style.height="100%",H.setAttribute("data-bm-type",B),Z.appendChild(H),p(H,G)}}function U(){var G;for(G=0;G<c;G+=1)l[G].animation.resize()}function X(){!m&&g&&y&&(window.requestAnimationFrame(M),y=!1)}function V(){m=!0}function K(){m=!1,X()}function W(G,J){var B;for(B=0;B<c;B+=1)l[B].animation.setVolume(G,J)}function Q(G){var J;for(J=0;J<c;J+=1)l[J].animation.mute(G)}function L(G){var J;for(J=0;J<c;J+=1)l[J].animation.unmute(G)}return f.registerAnimation=p,f.loadAnimation=k,f.setSpeed=S,f.setDirection=T,f.play=P,f.pause=j,f.stop=O,f.togglePause=R,f.searchAnimations=N,f.resize=U,f.goToAndStop=I,f.destroy=D,f.freeze=V,f.unfreeze=K,f.setVolume=W,f.mute=Q,f.unmute=L,f.getRegisteredAnimations=x,f}(),BezierFactory=function(){var f={};f.getBezierEasing=u;var l={};function u(M,j,I,O,R){var D=R||("bez_"+M+"_"+j+"_"+I+"_"+O).replace(/\./g,"p");if(l[D])return l[D];var N=new C([M,j,I,O]);return l[D]=N,N}var c=4,g=.001,y=1e-7,m=10,_=11,p=1/(_-1),x=typeof Float32Array=="function";function E(M,j){return 1-3*j+3*M}function A(M,j){return 3*j-6*M}function b(M){return 3*M}function k(M,j,I){return((E(j,I)*M+A(j,I))*M+b(j))*M}function S(M,j,I){return 3*E(j,I)*M*M+2*A(j,I)*M+b(j)}function T(M,j,I,O,R){var D,N,U=0;do N=j+(I-j)/2,D=k(N,O,R)-M,D>0?I=N:j=N;while(Math.abs(D)>y&&++U<m);return N}function P(M,j,I,O){for(var R=0;R<c;++R){var D=S(j,I,O);if(D===0)return j;var N=k(j,I,O)-M;j-=N/D}return j}function C(M){this._p=M,this._mSampleValues=x?new Float32Array(_):new Array(_),this._precomputed=!1,this.get=this.get.bind(this)}return C.prototype={get:function(j){var I=this._p[0],O=this._p[1],R=this._p[2],D=this._p[3];return this._precomputed||this._precompute(),I===O&&R===D?j:j===0?0:j===1?1:k(this._getTForX(j),O,D)},_precompute:function(){var j=this._p[0],I=this._p[1],O=this._p[2],R=this._p[3];this._precomputed=!0,(j!==I||O!==R)&&this._calcSampleValues()},_calcSampleValues:function(){for(var j=this._p[0],I=this._p[2],O=0;O<_;++O)this._mSampleValues[O]=k(O*p,j,I)},_getTForX:function(j){for(var I=this._p[0],O=this._p[2],R=this._mSampleValues,D=0,N=1,U=_-1;N!==U&&R[N]<=j;++N)D+=p;--N;var X=(j-R[N])/(R[N+1]-R[N]),V=D+X*p,K=S(V,I,O);return K>=g?P(j,V,I,O):K===0?V:T(j,D,D+p,I,O)}},f}(),pooling=function(){function f(l){return l.concat(createSizedArray(l.length))}return{double:f}}(),poolFactory=function(){return function(f,l,u){var c=0,g=f,y=createSizedArray(g),m={newElement:_,release:p};function _(){var x;return c?(c-=1,x=y[c]):x=l(),x}function p(x){c===g&&(y=pooling.double(y),g*=2),u&&u(x),y[c]=x,c+=1}return m}}(),bezierLengthPool=function(){function f(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,f)}(),segmentsLengthPool=function(){function f(){return{lengths:[],totalLength:0}}function l(u){var c,g=u.lengths.length;for(c=0;c<g;c+=1)bezierLengthPool.release(u.lengths[c]);u.lengths.length=0}return poolFactory(8,f,l)}();function bezFunction(){var f=Math;function l(b,k,S,T,P,C){var M=b*T+k*P+S*C-P*T-C*b-S*k;return M>-.001&&M<.001}function u(b,k,S,T,P,C,M,j,I){if(S===0&&C===0&&I===0)return l(b,k,T,P,M,j);var O=f.sqrt(f.pow(T-b,2)+f.pow(P-k,2)+f.pow(C-S,2)),R=f.sqrt(f.pow(M-b,2)+f.pow(j-k,2)+f.pow(I-S,2)),D=f.sqrt(f.pow(M-T,2)+f.pow(j-P,2)+f.pow(I-C,2)),N;return O>R?O>D?N=O-R-D:N=D-R-O:D>R?N=D-R-O:N=R-O-D,N>-1e-4&&N<1e-4}var c=function(){return function(b,k,S,T){var P=getDefaultCurveSegments(),C,M,j,I,O,R=0,D,N=[],U=[],X=bezierLengthPool.newElement();for(j=S.length,C=0;C<P;C+=1){for(O=C/(P-1),D=0,M=0;M<j;M+=1)I=bmPow(1-O,3)*b[M]+3*bmPow(1-O,2)*O*S[M]+3*(1-O)*bmPow(O,2)*T[M]+bmPow(O,3)*k[M],N[M]=I,U[M]!==null&&(D+=bmPow(N[M]-U[M],2)),U[M]=N[M];D&&(D=bmSqrt(D),R+=D),X.percents[C]=O,X.lengths[C]=R}return X.addedLength=R,X}}();function g(b){var k=segmentsLengthPool.newElement(),S=b.c,T=b.v,P=b.o,C=b.i,M,j=b._length,I=k.lengths,O=0;for(M=0;M<j-1;M+=1)I[M]=c(T[M],T[M+1],P[M],C[M+1]),O+=I[M].addedLength;return S&&j&&(I[M]=c(T[M],T[0],P[M],C[0]),O+=I[M].addedLength),k.totalLength=O,k}function y(b){this.segmentLength=0,this.points=new Array(b)}function m(b,k){this.partialLength=b,this.point=k}var _=function(){var b={};return function(k,S,T,P){var C=(k[0]+"_"+k[1]+"_"+S[0]+"_"+S[1]+"_"+T[0]+"_"+T[1]+"_"+P[0]+"_"+P[1]).replace(/\./g,"p");if(!b[C]){var M=getDefaultCurveSegments(),j,I,O,R,D,N=0,U,X,V=null;k.length===2&&(k[0]!==S[0]||k[1]!==S[1])&&l(k[0],k[1],S[0],S[1],k[0]+T[0],k[1]+T[1])&&l(k[0],k[1],S[0],S[1],S[0]+P[0],S[1]+P[1])&&(M=2);var K=new y(M);for(O=T.length,j=0;j<M;j+=1){for(X=createSizedArray(O),D=j/(M-1),U=0,I=0;I<O;I+=1)R=bmPow(1-D,3)*k[I]+3*bmPow(1-D,2)*D*(k[I]+T[I])+3*(1-D)*bmPow(D,2)*(S[I]+P[I])+bmPow(D,3)*S[I],X[I]=R,V!==null&&(U+=bmPow(X[I]-V[I],2));U=bmSqrt(U),N+=U,K.points[j]=new m(U,X),V=X}K.segmentLength=N,b[C]=K}return b[C]}}();function p(b,k){var S=k.percents,T=k.lengths,P=S.length,C=bmFloor((P-1)*b),M=b*k.addedLength,j=0;if(C===P-1||C===0||M===T[C])return S[C];for(var I=T[C]>M?-1:1,O=!0;O;)if(T[C]<=M&&T[C+1]>M?(j=(M-T[C])/(T[C+1]-T[C]),O=!1):C+=I,C<0||C>=P-1){if(C===P-1)return S[C];O=!1}return S[C]+(S[C+1]-S[C])*j}function x(b,k,S,T,P,C){var M=p(P,C),j=1-M,I=f.round((j*j*j*b[0]+(M*j*j+j*M*j+j*j*M)*S[0]+(M*M*j+j*M*M+M*j*M)*T[0]+M*M*M*k[0])*1e3)/1e3,O=f.round((j*j*j*b[1]+(M*j*j+j*M*j+j*j*M)*S[1]+(M*M*j+j*M*M+M*j*M)*T[1]+M*M*M*k[1])*1e3)/1e3;return[I,O]}var E=createTypedArray("float32",8);function A(b,k,S,T,P,C,M){P<0?P=0:P>1&&(P=1);var j=p(P,M);C=C>1?1:C;var I=p(C,M),O,R=b.length,D=1-j,N=1-I,U=D*D*D,X=j*D*D*3,V=j*j*D*3,K=j*j*j,W=D*D*N,Q=j*D*N+D*j*N+D*D*I,L=j*j*N+D*j*I+j*D*I,G=j*j*I,J=D*N*N,B=j*N*N+D*I*N+D*N*I,Y=j*I*N+D*I*I+j*N*I,ie=j*I*I,ne=N*N*N,Z=I*N*N+N*I*N+N*N*I,H=I*I*N+N*I*I+I*N*I,z=I*I*I;for(O=0;O<R;O+=1)E[O*4]=f.round((U*b[O]+X*S[O]+V*T[O]+K*k[O])*1e3)/1e3,E[O*4+1]=f.round((W*b[O]+Q*S[O]+L*T[O]+G*k[O])*1e3)/1e3,E[O*4+2]=f.round((J*b[O]+B*S[O]+Y*T[O]+ie*k[O])*1e3)/1e3,E[O*4+3]=f.round((ne*b[O]+Z*S[O]+H*T[O]+z*k[O])*1e3)/1e3;return E}return{getSegmentsLength:g,getNewSegment:A,getPointInSegment:x,buildBezierData:_,pointOnLine2D:l,pointOnLine3D:u}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(f,l){var u=this.offsetTime,c;this.propType==="multidimensional"&&(c=createTypedArray("float32",this.pv.length));for(var g=l.lastIndex,y=g,m=this.keyframes.length-1,_=!0,p,x,E;_;){if(p=this.keyframes[y],x=this.keyframes[y+1],y===m-1&&f>=x.t-u){p.h&&(p=x),g=0;break}if(x.t-u>f){g=y;break}y<m-1?y+=1:(g=0,_=!1)}E=this.keyframesMetadata[y]||{};var A,b,k,S,T,P,C=x.t-u,M=p.t-u,j;if(p.to){E.bezierData||(E.bezierData=bez.buildBezierData(p.s,x.s||p.e,p.to,p.ti));var I=E.bezierData;if(f>=C||f<M){var O=f>=C?I.points.length-1:0;for(b=I.points[O].point.length,A=0;A<b;A+=1)c[A]=I.points[O].point[A]}else{E.__fnct?P=E.__fnct:(P=BezierFactory.getBezierEasing(p.o.x,p.o.y,p.i.x,p.i.y,p.n).get,E.__fnct=P),k=P((f-M)/(C-M));var R=I.segmentLength*k,D,N=l.lastFrame<f&&l._lastKeyframeIndex===y?l._lastAddedLength:0;for(T=l.lastFrame<f&&l._lastKeyframeIndex===y?l._lastPoint:0,_=!0,S=I.points.length;_;){if(N+=I.points[T].partialLength,R===0||k===0||T===I.points.length-1){for(b=I.points[T].point.length,A=0;A<b;A+=1)c[A]=I.points[T].point[A];break}else if(R>=N&&R<N+I.points[T+1].partialLength){for(D=(R-N)/I.points[T+1].partialLength,b=I.points[T].point.length,A=0;A<b;A+=1)c[A]=I.points[T].point[A]+(I.points[T+1].point[A]-I.points[T].point[A])*D;break}T<S-1?T+=1:_=!1}l._lastPoint=T,l._lastAddedLength=N-I.points[T].partialLength,l._lastKeyframeIndex=y}}else{var U,X,V,K,W;if(m=p.s.length,j=x.s||p.e,this.sh&&p.h!==1)if(f>=C)c[0]=j[0],c[1]=j[1],c[2]=j[2];else if(f<=M)c[0]=p.s[0],c[1]=p.s[1],c[2]=p.s[2];else{var Q=createQuaternion(p.s),L=createQuaternion(j),G=(f-M)/(C-M);quaternionToEuler(c,slerp(Q,L,G))}else for(y=0;y<m;y+=1)p.h!==1&&(f>=C?k=1:f<M?k=0:(p.o.x.constructor===Array?(E.__fnct||(E.__fnct=[]),E.__fnct[y]?P=E.__fnct[y]:(U=p.o.x[y]===void 0?p.o.x[0]:p.o.x[y],X=p.o.y[y]===void 0?p.o.y[0]:p.o.y[y],V=p.i.x[y]===void 0?p.i.x[0]:p.i.x[y],K=p.i.y[y]===void 0?p.i.y[0]:p.i.y[y],P=BezierFactory.getBezierEasing(U,X,V,K).get,E.__fnct[y]=P)):E.__fnct?P=E.__fnct:(U=p.o.x,X=p.o.y,V=p.i.x,K=p.i.y,P=BezierFactory.getBezierEasing(U,X,V,K).get,p.keyframeMetadata=P),k=P((f-M)/(C-M)))),j=x.s||p.e,W=p.h===1?p.s[y]:p.s[y]+(j[y]-p.s[y])*k,this.propType==="multidimensional"?c[y]=W:c=W}return l.lastIndex=g,c}function slerp(f,l,u){var c=[],g=f[0],y=f[1],m=f[2],_=f[3],p=l[0],x=l[1],E=l[2],A=l[3],b,k,S,T,P;return k=g*p+y*x+m*E+_*A,k<0&&(k=-k,p=-p,x=-x,E=-E,A=-A),1-k>1e-6?(b=Math.acos(k),S=Math.sin(b),T=Math.sin((1-u)*b)/S,P=Math.sin(u*b)/S):(T=1-u,P=u),c[0]=T*g+P*p,c[1]=T*y+P*x,c[2]=T*m+P*E,c[3]=T*_+P*A,c}function quaternionToEuler(f,l){var u=l[0],c=l[1],g=l[2],y=l[3],m=Math.atan2(2*c*y-2*u*g,1-2*c*c-2*g*g),_=Math.asin(2*u*c+2*g*y),p=Math.atan2(2*u*y-2*c*g,1-2*u*u-2*g*g);f[0]=m/degToRads,f[1]=_/degToRads,f[2]=p/degToRads}function createQuaternion(f){var l=f[0]*degToRads,u=f[1]*degToRads,c=f[2]*degToRads,g=Math.cos(l/2),y=Math.cos(u/2),m=Math.cos(c/2),_=Math.sin(l/2),p=Math.sin(u/2),x=Math.sin(c/2),E=g*y*m-_*p*x,A=_*p*m+g*y*x,b=_*y*m+g*p*x,k=g*p*m-_*y*x;return[A,b,k,E]}function getValueAtCurrentTime(){var f=this.comp.renderedFrame-this.offsetTime,l=this.keyframes[0].t-this.offsetTime,u=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(f===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=u&&f>=u||this._caching.lastFrame<l&&f<l))){this._caching.lastFrame>=f&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var c=this.interpolateValue(f,this._caching);this.pv=c}return this._caching.lastFrame=f,this.pv}function setVValue(f){var l;if(this.propType==="unidimensional")l=f*this.mult,mathAbs(this.v-l)>1e-5&&(this.v=l,this._mdf=!0);else for(var u=0,c=this.v.length;u<c;)l=f[u]*this.mult,mathAbs(this.v[u]-l)>1e-5&&(this.v[u]=l,this._mdf=!0),u+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var f,l=this.effectsSequence.length,u=this.kf?this.pv:this.data.k;for(f=0;f<l;f+=1)u=this.effectsSequence[f](u);this.setVValue(u),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(f){this.effectsSequence.push(f),this.container.addDynamicProperty(this)}function ValueProperty(f,l,u,c){this.propType="unidimensional",this.mult=u||1,this.data=l,this.v=u?l.k*u:l.k,this.pv=l.k,this._mdf=!1,this.elem=f,this.container=c,this.comp=f.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(f,l,u,c){this.propType="multidimensional",this.mult=u||1,this.data=l,this._mdf=!1,this.elem=f,this.container=c,this.comp=f.comp,this.k=!1,this.kf=!1,this.frameId=-1;var g,y=l.k.length;for(this.v=createTypedArray("float32",y),this.pv=createTypedArray("float32",y),this.vel=createTypedArray("float32",y),g=0;g<y;g+=1)this.v[g]=l.k[g]*this.mult,this.pv[g]=l.k[g];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(f,l,u,c){this.propType="unidimensional",this.keyframes=l.k,this.keyframesMetadata=[],this.offsetTime=f.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=l,this.mult=u||1,this.elem=f,this.container=c,this.comp=f.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(f,l,u,c){this.propType="multidimensional";var g,y=l.k.length,m,_,p,x;for(g=0;g<y-1;g+=1)l.k[g].to&&l.k[g].s&&l.k[g+1]&&l.k[g+1].s&&(m=l.k[g].s,_=l.k[g+1].s,p=l.k[g].to,x=l.k[g].ti,(m.length===2&&!(m[0]===_[0]&&m[1]===_[1])&&bez.pointOnLine2D(m[0],m[1],_[0],_[1],m[0]+p[0],m[1]+p[1])&&bez.pointOnLine2D(m[0],m[1],_[0],_[1],_[0]+x[0],_[1]+x[1])||m.length===3&&!(m[0]===_[0]&&m[1]===_[1]&&m[2]===_[2])&&bez.pointOnLine3D(m[0],m[1],m[2],_[0],_[1],_[2],m[0]+p[0],m[1]+p[1],m[2]+p[2])&&bez.pointOnLine3D(m[0],m[1],m[2],_[0],_[1],_[2],_[0]+x[0],_[1]+x[1],_[2]+x[2]))&&(l.k[g].to=null,l.k[g].ti=null),m[0]===_[0]&&m[1]===_[1]&&p[0]===0&&p[1]===0&&x[0]===0&&x[1]===0&&(m.length===2||m[2]===_[2]&&p[2]===0&&x[2]===0)&&(l.k[g].to=null,l.k[g].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=l,this.keyframes=l.k,this.keyframesMetadata=[],this.offsetTime=f.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=u||1,this.elem=f,this.container=c,this.comp=f.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var E=l.k[0].s.length;for(this.v=createTypedArray("float32",E),this.pv=createTypedArray("float32",E),g=0;g<E;g+=1)this.v[g]=initFrame,this.pv[g]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",E)},this.addEffect=addEffect}var PropertyFactory=function(){function f(u,c,g,y,m){c.sid&&(c=u.globalData.slotManager.getProp(c));var _;if(!c.k.length)_=new ValueProperty(u,c,y,m);else if(typeof c.k[0]=="number")_=new MultiDimensionalProperty(u,c,y,m);else switch(g){case 0:_=new KeyframedValueProperty(u,c,y,m);break;case 1:_=new KeyframedMultidimensionalProperty(u,c,y,m);break}return _.effectsSequence.length&&m.addDynamicProperty(_),_}var l={getProp:f};return l}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(l){this.dynamicProperties.indexOf(l)===-1&&(this.dynamicProperties.push(l),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var l,u=this.dynamicProperties.length;for(l=0;l<u;l+=1)this.dynamicProperties[l].getValue(),this.dynamicProperties[l]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(l){this.container=l,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function f(){return createTypedArray("float32",2)}return poolFactory(8,f)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(f,l){this.c=f,this.setLength(l);for(var u=0;u<l;)this.v[u]=pointPool.newElement(),this.o[u]=pointPool.newElement(),this.i[u]=pointPool.newElement(),u+=1},ShapePath.prototype.setLength=function(f){for(;this._maxLength<f;)this.doubleArrayLength();this._length=f},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(f,l,u,c,g){var y;switch(this._length=Math.max(this._length,c+1),this._length>=this._maxLength&&this.doubleArrayLength(),u){case"v":y=this.v;break;case"i":y=this.i;break;case"o":y=this.o;break;default:y=[];break}(!y[c]||y[c]&&!g)&&(y[c]=pointPool.newElement()),y[c][0]=f,y[c][1]=l},ShapePath.prototype.setTripleAt=function(f,l,u,c,g,y,m,_){this.setXYAt(f,l,"v",m,_),this.setXYAt(u,c,"o",m,_),this.setXYAt(g,y,"i",m,_)},ShapePath.prototype.reverse=function(){var f=new ShapePath;f.setPathData(this.c,this._length);var l=this.v,u=this.o,c=this.i,g=0;this.c&&(f.setTripleAt(l[0][0],l[0][1],c[0][0],c[0][1],u[0][0],u[0][1],0,!1),g=1);var y=this._length-1,m=this._length,_;for(_=g;_<m;_+=1)f.setTripleAt(l[y][0],l[y][1],c[y][0],c[y][1],u[y][0],u[y][1],_,!1),y-=1;return f},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function f(){return new ShapePath}function l(g){var y=g._length,m;for(m=0;m<y;m+=1)pointPool.release(g.v[m]),pointPool.release(g.i[m]),pointPool.release(g.o[m]),g.v[m]=null,g.i[m]=null,g.o[m]=null;g._length=0,g.c=!1}function u(g){var y=c.newElement(),m,_=g._length===void 0?g.v.length:g._length;for(y.setLength(_),y.c=g.c,m=0;m<_;m+=1)y.setTripleAt(g.v[m][0],g.v[m][1],g.o[m][0],g.o[m][1],g.i[m][0],g.i[m][1],m);return y}var c=poolFactory(4,f,l);return c.clone=u,c}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(f){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=f,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var f;for(f=0;f<this._length;f+=1)shapePool.release(this.shapes[f]);this._length=0};var shapeCollectionPool=function(){var f={newShapeCollection:g,release:y},l=0,u=4,c=createSizedArray(u);function g(){var m;return l?(l-=1,m=c[l]):m=new ShapeCollection,m}function y(m){var _,p=m._length;for(_=0;_<p;_+=1)shapePool.release(m.shapes[_]);m._length=0,l===u&&(c=pooling.double(c),u*=2),c[l]=m,l+=1}return f}(),ShapePropertyFactory=function(){var f=-999999;function l(C,M,j){var I=j.lastIndex,O,R,D,N,U,X,V,K,W,Q=this.keyframes;if(C<Q[0].t-this.offsetTime)O=Q[0].s[0],D=!0,I=0;else if(C>=Q[Q.length-1].t-this.offsetTime)O=Q[Q.length-1].s?Q[Q.length-1].s[0]:Q[Q.length-2].e[0],D=!0;else{for(var L=I,G=Q.length-1,J=!0,B,Y,ie;J&&(B=Q[L],Y=Q[L+1],!(Y.t-this.offsetTime>C));)L<G-1?L+=1:J=!1;if(ie=this.keyframesMetadata[L]||{},D=B.h===1,I=L,!D){if(C>=Y.t-this.offsetTime)K=1;else if(C<B.t-this.offsetTime)K=0;else{var ne;ie.__fnct?ne=ie.__fnct:(ne=BezierFactory.getBezierEasing(B.o.x,B.o.y,B.i.x,B.i.y).get,ie.__fnct=ne),K=ne((C-(B.t-this.offsetTime))/(Y.t-this.offsetTime-(B.t-this.offsetTime)))}R=Y.s?Y.s[0]:B.e[0]}O=B.s[0]}for(X=M._length,V=O.i[0].length,j.lastIndex=I,N=0;N<X;N+=1)for(U=0;U<V;U+=1)W=D?O.i[N][U]:O.i[N][U]+(R.i[N][U]-O.i[N][U])*K,M.i[N][U]=W,W=D?O.o[N][U]:O.o[N][U]+(R.o[N][U]-O.o[N][U])*K,M.o[N][U]=W,W=D?O.v[N][U]:O.v[N][U]+(R.v[N][U]-O.v[N][U])*K,M.v[N][U]=W}function u(){var C=this.comp.renderedFrame-this.offsetTime,M=this.keyframes[0].t-this.offsetTime,j=this.keyframes[this.keyframes.length-1].t-this.offsetTime,I=this._caching.lastFrame;return I!==f&&(I<M&&C<M||I>j&&C>j)||(this._caching.lastIndex=I<C?this._caching.lastIndex:0,this.interpolateShape(C,this.pv,this._caching)),this._caching.lastFrame=C,this.pv}function c(){this.paths=this.localShapeCollection}function g(C,M){if(C._length!==M._length||C.c!==M.c)return!1;var j,I=C._length;for(j=0;j<I;j+=1)if(C.v[j][0]!==M.v[j][0]||C.v[j][1]!==M.v[j][1]||C.o[j][0]!==M.o[j][0]||C.o[j][1]!==M.o[j][1]||C.i[j][0]!==M.i[j][0]||C.i[j][1]!==M.i[j][1])return!1;return!0}function y(C){g(this.v,C)||(this.v=shapePool.clone(C),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function m(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var C;this.kf?C=this.pv:this.data.ks?C=this.data.ks.k:C=this.data.pt.k;var M,j=this.effectsSequence.length;for(M=0;M<j;M+=1)C=this.effectsSequence[M](C);this.setVValue(C),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function _(C,M,j){this.propType="shape",this.comp=C.comp,this.container=C,this.elem=C,this.data=M,this.k=!1,this.kf=!1,this._mdf=!1;var I=j===3?M.pt.k:M.ks.k;this.v=shapePool.clone(I),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=c,this.effectsSequence=[]}function p(C){this.effectsSequence.push(C),this.container.addDynamicProperty(this)}_.prototype.interpolateShape=l,_.prototype.getValue=m,_.prototype.setVValue=y,_.prototype.addEffect=p;function x(C,M,j){this.propType="shape",this.comp=C.comp,this.elem=C,this.container=C,this.offsetTime=C.data.st,this.keyframes=j===3?M.pt.k:M.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var I=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,I),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=f,this.reset=c,this._caching={lastFrame:f,lastIndex:0},this.effectsSequence=[u.bind(this)]}x.prototype.getValue=m,x.prototype.interpolateShape=l,x.prototype.setVValue=y,x.prototype.addEffect=p;var E=function(){var C=roundCorner;function M(j,I){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=I.d,this.elem=j,this.comp=j.comp,this.frameId=-1,this.initDynamicPropertyContainer(j),this.p=PropertyFactory.getProp(j,I.p,1,0,this),this.s=PropertyFactory.getProp(j,I.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return M.prototype={reset:c,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var I=this.p.v[0],O=this.p.v[1],R=this.s.v[0]/2,D=this.s.v[1]/2,N=this.d!==3,U=this.v;U.v[0][0]=I,U.v[0][1]=O-D,U.v[1][0]=N?I+R:I-R,U.v[1][1]=O,U.v[2][0]=I,U.v[2][1]=O+D,U.v[3][0]=N?I-R:I+R,U.v[3][1]=O,U.i[0][0]=N?I-R*C:I+R*C,U.i[0][1]=O-D,U.i[1][0]=N?I+R:I-R,U.i[1][1]=O-D*C,U.i[2][0]=N?I+R*C:I-R*C,U.i[2][1]=O+D,U.i[3][0]=N?I-R:I+R,U.i[3][1]=O+D*C,U.o[0][0]=N?I+R*C:I-R*C,U.o[0][1]=O-D,U.o[1][0]=N?I+R:I-R,U.o[1][1]=O+D*C,U.o[2][0]=N?I-R*C:I+R*C,U.o[2][1]=O+D,U.o[3][0]=N?I-R:I+R,U.o[3][1]=O-D*C}},extendPrototype([DynamicPropertyContainer],M),M}(),A=function(){function C(M,j){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=M,this.comp=M.comp,this.data=j,this.frameId=-1,this.d=j.d,this.initDynamicPropertyContainer(M),j.sy===1?(this.ir=PropertyFactory.getProp(M,j.ir,0,0,this),this.is=PropertyFactory.getProp(M,j.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(M,j.pt,0,0,this),this.p=PropertyFactory.getProp(M,j.p,1,0,this),this.r=PropertyFactory.getProp(M,j.r,0,degToRads,this),this.or=PropertyFactory.getProp(M,j.or,0,0,this),this.os=PropertyFactory.getProp(M,j.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return C.prototype={reset:c,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var j=Math.floor(this.pt.v)*2,I=Math.PI*2/j,O=!0,R=this.or.v,D=this.ir.v,N=this.os.v,U=this.is.v,X=2*Math.PI*R/(j*2),V=2*Math.PI*D/(j*2),K,W,Q,L,G=-Math.PI/2;G+=this.r.v;var J=this.data.d===3?-1:1;for(this.v._length=0,K=0;K<j;K+=1){W=O?R:D,Q=O?N:U,L=O?X:V;var B=W*Math.cos(G),Y=W*Math.sin(G),ie=B===0&&Y===0?0:Y/Math.sqrt(B*B+Y*Y),ne=B===0&&Y===0?0:-B/Math.sqrt(B*B+Y*Y);B+=+this.p.v[0],Y+=+this.p.v[1],this.v.setTripleAt(B,Y,B-ie*L*Q*J,Y-ne*L*Q*J,B+ie*L*Q*J,Y+ne*L*Q*J,K,!0),O=!O,G+=I*J}},convertPolygonToPath:function(){var j=Math.floor(this.pt.v),I=Math.PI*2/j,O=this.or.v,R=this.os.v,D=2*Math.PI*O/(j*4),N,U=-Math.PI*.5,X=this.data.d===3?-1:1;for(U+=this.r.v,this.v._length=0,N=0;N<j;N+=1){var V=O*Math.cos(U),K=O*Math.sin(U),W=V===0&&K===0?0:K/Math.sqrt(V*V+K*K),Q=V===0&&K===0?0:-V/Math.sqrt(V*V+K*K);V+=+this.p.v[0],K+=+this.p.v[1],this.v.setTripleAt(V,K,V-W*D*R*X,K-Q*D*R*X,V+W*D*R*X,K+Q*D*R*X,N,!0),U+=I*X}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],C),C}(),b=function(){function C(M,j){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=M,this.comp=M.comp,this.frameId=-1,this.d=j.d,this.initDynamicPropertyContainer(M),this.p=PropertyFactory.getProp(M,j.p,1,0,this),this.s=PropertyFactory.getProp(M,j.s,1,0,this),this.r=PropertyFactory.getProp(M,j.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return C.prototype={convertRectToPath:function(){var j=this.p.v[0],I=this.p.v[1],O=this.s.v[0]/2,R=this.s.v[1]/2,D=bmMin(O,R,this.r.v),N=D*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(j+O,I-R+D,j+O,I-R+D,j+O,I-R+N,0,!0),this.v.setTripleAt(j+O,I+R-D,j+O,I+R-N,j+O,I+R-D,1,!0),D!==0?(this.v.setTripleAt(j+O-D,I+R,j+O-D,I+R,j+O-N,I+R,2,!0),this.v.setTripleAt(j-O+D,I+R,j-O+N,I+R,j-O+D,I+R,3,!0),this.v.setTripleAt(j-O,I+R-D,j-O,I+R-D,j-O,I+R-N,4,!0),this.v.setTripleAt(j-O,I-R+D,j-O,I-R+N,j-O,I-R+D,5,!0),this.v.setTripleAt(j-O+D,I-R,j-O+D,I-R,j-O+N,I-R,6,!0),this.v.setTripleAt(j+O-D,I-R,j+O-N,I-R,j+O-D,I-R,7,!0)):(this.v.setTripleAt(j-O,I+R,j-O+N,I+R,j-O,I+R,2),this.v.setTripleAt(j-O,I-R,j-O,I-R+N,j-O,I-R,3))):(this.v.setTripleAt(j+O,I-R+D,j+O,I-R+N,j+O,I-R+D,0,!0),D!==0?(this.v.setTripleAt(j+O-D,I-R,j+O-D,I-R,j+O-N,I-R,1,!0),this.v.setTripleAt(j-O+D,I-R,j-O+N,I-R,j-O+D,I-R,2,!0),this.v.setTripleAt(j-O,I-R+D,j-O,I-R+D,j-O,I-R+N,3,!0),this.v.setTripleAt(j-O,I+R-D,j-O,I+R-N,j-O,I+R-D,4,!0),this.v.setTripleAt(j-O+D,I+R,j-O+D,I+R,j-O+N,I+R,5,!0),this.v.setTripleAt(j+O-D,I+R,j+O-N,I+R,j+O-D,I+R,6,!0),this.v.setTripleAt(j+O,I+R-D,j+O,I+R-D,j+O,I+R-N,7,!0)):(this.v.setTripleAt(j-O,I-R,j-O+N,I-R,j-O,I-R,1,!0),this.v.setTripleAt(j-O,I+R,j-O,I+R-N,j-O,I+R,2,!0),this.v.setTripleAt(j+O,I+R,j+O-N,I+R,j+O,I+R,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:c},extendPrototype([DynamicPropertyContainer],C),C}();function k(C,M,j){var I;if(j===3||j===4){var O=j===3?M.pt:M.ks,R=O.k;R.length?I=new x(C,M,j):I=new _(C,M,j)}else j===5?I=new b(C,M):j===6?I=new E(C,M):j===7&&(I=new A(C,M));return I.k&&C.addDynamicProperty(I),I}function S(){return _}function T(){return x}var P={};return P.getShapeProp=k,P.getConstructorFunction=S,P.getKeyframedConstructorFunction=T,P}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var f=Math.cos,l=Math.sin,u=Math.tan,c=Math.round;function g(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function y(B){if(B===0)return this;var Y=f(B),ie=l(B);return this._t(Y,-ie,0,0,ie,Y,0,0,0,0,1,0,0,0,0,1)}function m(B){if(B===0)return this;var Y=f(B),ie=l(B);return this._t(1,0,0,0,0,Y,-ie,0,0,ie,Y,0,0,0,0,1)}function _(B){if(B===0)return this;var Y=f(B),ie=l(B);return this._t(Y,0,ie,0,0,1,0,0,-ie,0,Y,0,0,0,0,1)}function p(B){if(B===0)return this;var Y=f(B),ie=l(B);return this._t(Y,-ie,0,0,ie,Y,0,0,0,0,1,0,0,0,0,1)}function x(B,Y){return this._t(1,Y,B,1,0,0)}function E(B,Y){return this.shear(u(B),u(Y))}function A(B,Y){var ie=f(Y),ne=l(Y);return this._t(ie,ne,0,0,-ne,ie,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,u(B),1,0,0,0,0,1,0,0,0,0,1)._t(ie,-ne,0,0,ne,ie,0,0,0,0,1,0,0,0,0,1)}function b(B,Y,ie){return!ie&&ie!==0&&(ie=1),B===1&&Y===1&&ie===1?this:this._t(B,0,0,0,0,Y,0,0,0,0,ie,0,0,0,0,1)}function k(B,Y,ie,ne,Z,H,z,ee,se,le,ue,_e,Te,me,Se,ve){return this.props[0]=B,this.props[1]=Y,this.props[2]=ie,this.props[3]=ne,this.props[4]=Z,this.props[5]=H,this.props[6]=z,this.props[7]=ee,this.props[8]=se,this.props[9]=le,this.props[10]=ue,this.props[11]=_e,this.props[12]=Te,this.props[13]=me,this.props[14]=Se,this.props[15]=ve,this}function S(B,Y,ie){return ie=ie||0,B!==0||Y!==0||ie!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,B,Y,ie,1):this}function T(B,Y,ie,ne,Z,H,z,ee,se,le,ue,_e,Te,me,Se,ve){var fe=this.props;if(B===1&&Y===0&&ie===0&&ne===0&&Z===0&&H===1&&z===0&&ee===0&&se===0&&le===0&&ue===1&&_e===0)return fe[12]=fe[12]*B+fe[15]*Te,fe[13]=fe[13]*H+fe[15]*me,fe[14]=fe[14]*ue+fe[15]*Se,fe[15]*=ve,this._identityCalculated=!1,this;var ye=fe[0],Ae=fe[1],Ne=fe[2],re=fe[3],ae=fe[4],ce=fe[5],Ee=fe[6],xe=fe[7],Ie=fe[8],Fe=fe[9],Xe=fe[10],Ze=fe[11],Je=fe[12],Oe=fe[13],qe=fe[14],Ve=fe[15];return fe[0]=ye*B+Ae*Z+Ne*se+re*Te,fe[1]=ye*Y+Ae*H+Ne*le+re*me,fe[2]=ye*ie+Ae*z+Ne*ue+re*Se,fe[3]=ye*ne+Ae*ee+Ne*_e+re*ve,fe[4]=ae*B+ce*Z+Ee*se+xe*Te,fe[5]=ae*Y+ce*H+Ee*le+xe*me,fe[6]=ae*ie+ce*z+Ee*ue+xe*Se,fe[7]=ae*ne+ce*ee+Ee*_e+xe*ve,fe[8]=Ie*B+Fe*Z+Xe*se+Ze*Te,fe[9]=Ie*Y+Fe*H+Xe*le+Ze*me,fe[10]=Ie*ie+Fe*z+Xe*ue+Ze*Se,fe[11]=Ie*ne+Fe*ee+Xe*_e+Ze*ve,fe[12]=Je*B+Oe*Z+qe*se+Ve*Te,fe[13]=Je*Y+Oe*H+qe*le+Ve*me,fe[14]=Je*ie+Oe*z+qe*ue+Ve*Se,fe[15]=Je*ne+Oe*ee+qe*_e+Ve*ve,this._identityCalculated=!1,this}function P(B){var Y=B.props;return this.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],Y[8],Y[9],Y[10],Y[11],Y[12],Y[13],Y[14],Y[15])}function C(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function M(B){for(var Y=0;Y<16;){if(B.props[Y]!==this.props[Y])return!1;Y+=1}return!0}function j(B){var Y;for(Y=0;Y<16;Y+=1)B.props[Y]=this.props[Y];return B}function I(B){var Y;for(Y=0;Y<16;Y+=1)this.props[Y]=B[Y]}function O(B,Y,ie){return{x:B*this.props[0]+Y*this.props[4]+ie*this.props[8]+this.props[12],y:B*this.props[1]+Y*this.props[5]+ie*this.props[9]+this.props[13],z:B*this.props[2]+Y*this.props[6]+ie*this.props[10]+this.props[14]}}function R(B,Y,ie){return B*this.props[0]+Y*this.props[4]+ie*this.props[8]+this.props[12]}function D(B,Y,ie){return B*this.props[1]+Y*this.props[5]+ie*this.props[9]+this.props[13]}function N(B,Y,ie){return B*this.props[2]+Y*this.props[6]+ie*this.props[10]+this.props[14]}function U(){var B=this.props[0]*this.props[5]-this.props[1]*this.props[4],Y=this.props[5]/B,ie=-this.props[1]/B,ne=-this.props[4]/B,Z=this.props[0]/B,H=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/B,z=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/B,ee=new Matrix;return ee.props[0]=Y,ee.props[1]=ie,ee.props[4]=ne,ee.props[5]=Z,ee.props[12]=H,ee.props[13]=z,ee}function X(B){var Y=this.getInverseMatrix();return Y.applyToPointArray(B[0],B[1],B[2]||0)}function V(B){var Y,ie=B.length,ne=[];for(Y=0;Y<ie;Y+=1)ne[Y]=X(B[Y]);return ne}function K(B,Y,ie){var ne=createTypedArray("float32",6);if(this.isIdentity())ne[0]=B[0],ne[1]=B[1],ne[2]=Y[0],ne[3]=Y[1],ne[4]=ie[0],ne[5]=ie[1];else{var Z=this.props[0],H=this.props[1],z=this.props[4],ee=this.props[5],se=this.props[12],le=this.props[13];ne[0]=B[0]*Z+B[1]*z+se,ne[1]=B[0]*H+B[1]*ee+le,ne[2]=Y[0]*Z+Y[1]*z+se,ne[3]=Y[0]*H+Y[1]*ee+le,ne[4]=ie[0]*Z+ie[1]*z+se,ne[5]=ie[0]*H+ie[1]*ee+le}return ne}function W(B,Y,ie){var ne;return this.isIdentity()?ne=[B,Y,ie]:ne=[B*this.props[0]+Y*this.props[4]+ie*this.props[8]+this.props[12],B*this.props[1]+Y*this.props[5]+ie*this.props[9]+this.props[13],B*this.props[2]+Y*this.props[6]+ie*this.props[10]+this.props[14]],ne}function Q(B,Y){if(this.isIdentity())return B+","+Y;var ie=this.props;return Math.round((B*ie[0]+Y*ie[4]+ie[12])*100)/100+","+Math.round((B*ie[1]+Y*ie[5]+ie[13])*100)/100}function L(){for(var B=0,Y=this.props,ie="matrix3d(",ne=1e4;B<16;)ie+=c(Y[B]*ne)/ne,ie+=B===15?")":",",B+=1;return ie}function G(B){var Y=1e4;return B<1e-6&&B>0||B>-1e-6&&B<0?c(B*Y)/Y:B}function J(){var B=this.props,Y=G(B[0]),ie=G(B[1]),ne=G(B[4]),Z=G(B[5]),H=G(B[12]),z=G(B[13]);return"matrix("+Y+","+ie+","+ne+","+Z+","+H+","+z+")"}return function(){this.reset=g,this.rotate=y,this.rotateX=m,this.rotateY=_,this.rotateZ=p,this.skew=E,this.skewFromAxis=A,this.shear=x,this.scale=b,this.setTransform=k,this.translate=S,this.transform=T,this.multiply=P,this.applyToPoint=O,this.applyToX=R,this.applyToY=D,this.applyToZ=N,this.applyToPointArray=W,this.applyToTriplePoints=K,this.applyToPointStringified=Q,this.toCSS=L,this.to2dCSS=J,this.clone=j,this.cloneFromProps=I,this.equals=M,this.inversePoints=V,this.inversePoint=X,this.getInverseMatrix=U,this._t=this.transform,this.isIdentity=C,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(u){return typeof u}:_typeof$3=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$3(f)}var lottie={};function setLocation(f){setLocationHref(f)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(f){setSubframeEnabled(f)}function setPrefix(f){setIdPrefix(f)}function loadAnimation(f){return animationManager.loadAnimation(f)}function setQuality(f){if(typeof f=="string")switch(f){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(f)&&f>1&&setDefaultCurveSegments(f)}function inBrowser(){return typeof navigator<"u"}function installPlugin(f,l){f==="expressions"&&setExpressionsPlugin(l)}function getFactory(f){switch(f){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(f){for(var l=queryString.split("&"),u=0;u<l.length;u+=1){var c=l[u].split("=");if(decodeURIComponent(c[0])==f)return decodeURIComponent(c[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(f){}var ShapeModifiers=function(){var f={},l={};f.registerModifier=u,f.getModifier=c;function u(g,y){l[g]||(l[g]=y)}function c(g,y,m){return new l[g](y,m)}return f}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(f){if(!this.closed){f.sh.container.addDynamicProperty(f.sh);var l={shape:f.sh,data:f,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(l),this.addShapeToModifier(l),this._isAnimated&&f.setAsAnimated()}},ShapeModifier.prototype.init=function(f,l){this.shapes=[],this.elem=f,this.initDynamicPropertyContainer(f),this.initModifierProperties(f,l),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(f,l){this.s=PropertyFactory.getProp(f,l.s,0,.01,this),this.e=PropertyFactory.getProp(f,l.e,0,.01,this),this.o=PropertyFactory.getProp(f,l.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=l.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(f){f.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(f,l,u,c,g){var y=[];l<=1?y.push({s:f,e:l}):f>=1?y.push({s:f-1,e:l-1}):(y.push({s:f,e:1}),y.push({s:0,e:l-1}));var m=[],_,p=y.length,x;for(_=0;_<p;_+=1)if(x=y[_],!(x.e*g<c||x.s*g>c+u)){var E,A;x.s*g<=c?E=0:E=(x.s*g-c)/u,x.e*g>=c+u?A=1:A=(x.e*g-c)/u,m.push([E,A])}return m.length||m.push([0,0]),m},TrimModifier.prototype.releasePathsData=function(f){var l,u=f.length;for(l=0;l<u;l+=1)segmentsLengthPool.release(f[l]);return f.length=0,f},TrimModifier.prototype.processShapes=function(f){var l,u;if(this._mdf||f){var c=this.o.v%360/360;if(c<0&&(c+=1),this.s.v>1?l=1+c:this.s.v<0?l=0+c:l=this.s.v+c,this.e.v>1?u=1+c:this.e.v<0?u=0+c:u=this.e.v+c,l>u){var g=l;l=u,u=g}l=Math.round(l*1e4)*1e-4,u=Math.round(u*1e4)*1e-4,this.sValue=l,this.eValue=u}else l=this.sValue,u=this.eValue;var y,m,_=this.shapes.length,p,x,E,A,b,k=0;if(u===l)for(m=0;m<_;m+=1)this.shapes[m].localShapeCollection.releaseShapes(),this.shapes[m].shape._mdf=!0,this.shapes[m].shape.paths=this.shapes[m].localShapeCollection,this._mdf&&(this.shapes[m].pathsData.length=0);else if(u===1&&l===0||u===0&&l===1){if(this._mdf)for(m=0;m<_;m+=1)this.shapes[m].pathsData.length=0,this.shapes[m].shape._mdf=!0}else{var S=[],T,P;for(m=0;m<_;m+=1)if(T=this.shapes[m],!T.shape._mdf&&!this._mdf&&!f&&this.m!==2)T.shape.paths=T.localShapeCollection;else{if(y=T.shape.paths,x=y._length,b=0,!T.shape._mdf&&T.pathsData.length)b=T.totalShapeLength;else{for(E=this.releasePathsData(T.pathsData),p=0;p<x;p+=1)A=bez.getSegmentsLength(y.shapes[p]),E.push(A),b+=A.totalLength;T.totalShapeLength=b,T.pathsData=E}k+=b,T.shape._mdf=!0}var C=l,M=u,j=0,I;for(m=_-1;m>=0;m-=1)if(T=this.shapes[m],T.shape._mdf){for(P=T.localShapeCollection,P.releaseShapes(),this.m===2&&_>1?(I=this.calculateShapeEdges(l,u,T.totalShapeLength,j,k),j+=T.totalShapeLength):I=[[C,M]],x=I.length,p=0;p<x;p+=1){C=I[p][0],M=I[p][1],S.length=0,M<=1?S.push({s:T.totalShapeLength*C,e:T.totalShapeLength*M}):C>=1?S.push({s:T.totalShapeLength*(C-1),e:T.totalShapeLength*(M-1)}):(S.push({s:T.totalShapeLength*C,e:T.totalShapeLength}),S.push({s:0,e:T.totalShapeLength*(M-1)}));var O=this.addShapes(T,S[0]);if(S[0].s!==S[0].e){if(S.length>1){var R=T.shape.paths.shapes[T.shape.paths._length-1];if(R.c){var D=O.pop();this.addPaths(O,P),O=this.addShapes(T,S[1],D)}else this.addPaths(O,P),O=this.addShapes(T,S[1])}this.addPaths(O,P)}}T.shape.paths=P}}},TrimModifier.prototype.addPaths=function(f,l){var u,c=f.length;for(u=0;u<c;u+=1)l.addShape(f[u])},TrimModifier.prototype.addSegment=function(f,l,u,c,g,y,m){g.setXYAt(l[0],l[1],"o",y),g.setXYAt(u[0],u[1],"i",y+1),m&&g.setXYAt(f[0],f[1],"v",y),g.setXYAt(c[0],c[1],"v",y+1)},TrimModifier.prototype.addSegmentFromArray=function(f,l,u,c){l.setXYAt(f[1],f[5],"o",u),l.setXYAt(f[2],f[6],"i",u+1),c&&l.setXYAt(f[0],f[4],"v",u),l.setXYAt(f[3],f[7],"v",u+1)},TrimModifier.prototype.addShapes=function(f,l,u){var c=f.pathsData,g=f.shape.paths.shapes,y,m=f.shape.paths._length,_,p,x=0,E,A,b,k,S=[],T,P=!0;for(u?(A=u._length,T=u._length):(u=shapePool.newElement(),A=0,T=0),S.push(u),y=0;y<m;y+=1){for(b=c[y].lengths,u.c=g[y].c,p=g[y].c?b.length:b.length+1,_=1;_<p;_+=1)if(E=b[_-1],x+E.addedLength<l.s)x+=E.addedLength,u.c=!1;else if(x>l.e){u.c=!1;break}else l.s<=x&&l.e>=x+E.addedLength?(this.addSegment(g[y].v[_-1],g[y].o[_-1],g[y].i[_],g[y].v[_],u,A,P),P=!1):(k=bez.getNewSegment(g[y].v[_-1],g[y].v[_],g[y].o[_-1],g[y].i[_],(l.s-x)/E.addedLength,(l.e-x)/E.addedLength,b[_-1]),this.addSegmentFromArray(k,u,A,P),P=!1,u.c=!1),x+=E.addedLength,A+=1;if(g[y].c&&b.length){if(E=b[_-1],x<=l.e){var C=b[_-1].addedLength;l.s<=x&&l.e>=x+C?(this.addSegment(g[y].v[_-1],g[y].o[_-1],g[y].i[0],g[y].v[0],u,A,P),P=!1):(k=bez.getNewSegment(g[y].v[_-1],g[y].v[0],g[y].o[_-1],g[y].i[0],(l.s-x)/C,(l.e-x)/C,b[_-1]),this.addSegmentFromArray(k,u,A,P),P=!1,u.c=!1)}else u.c=!1;x+=E.addedLength,A+=1}if(u._length&&(u.setXYAt(u.v[T][0],u.v[T][1],"i",T),u.setXYAt(u.v[u._length-1][0],u.v[u._length-1][1],"o",u._length-1)),x>l.e)break;y<m-1&&(u=shapePool.newElement(),P=!0,S.push(u),A=0)}return S};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(f,l.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(f,l){var u=l/100,c=[0,0],g=f._length,y=0;for(y=0;y<g;y+=1)c[0]+=f.v[y][0],c[1]+=f.v[y][1];c[0]/=g,c[1]/=g;var m=shapePool.newElement();m.c=f.c;var _,p,x,E,A,b;for(y=0;y<g;y+=1)_=f.v[y][0]+(c[0]-f.v[y][0])*u,p=f.v[y][1]+(c[1]-f.v[y][1])*u,x=f.o[y][0]+(c[0]-f.o[y][0])*-u,E=f.o[y][1]+(c[1]-f.o[y][1])*-u,A=f.i[y][0]+(c[0]-f.i[y][0])*-u,b=f.i[y][1]+(c[1]-f.i[y][1])*-u,m.setTripleAt(_,p,x,E,A,b,y);return m},PuckerAndBloatModifier.prototype.processShapes=function(f){var l,u,c=this.shapes.length,g,y,m=this.amount.v;if(m!==0){var _,p;for(u=0;u<c;u+=1){if(_=this.shapes[u],p=_.localShapeCollection,!(!_.shape._mdf&&!this._mdf&&!f))for(p.releaseShapes(),_.shape._mdf=!0,l=_.shape.paths.shapes,y=_.shape.paths._length,g=0;g<y;g+=1)p.addShape(this.processPath(l[g],m));_.shape.paths=_.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var f=[0,0];function l(p){var x=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||x,this.a&&p.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&p.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&p.skewFromAxis(-this.sk.v,this.sa.v),this.r?p.rotate(-this.r.v):p.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?p.translate(this.px.v,this.py.v,-this.pz.v):p.translate(this.px.v,this.py.v,0):p.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function u(p){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||p){var x;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var E,A;if(x=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(E=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/x,0),A=this.p.getValueAtTime(this.p.keyframes[0].t/x,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(E=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/x,0),A=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/x,0)):(E=this.p.pv,A=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/x,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){E=[],A=[];var b=this.px,k=this.py;b._caching.lastFrame+b.offsetTime<=b.keyframes[0].t?(E[0]=b.getValueAtTime((b.keyframes[0].t+.01)/x,0),E[1]=k.getValueAtTime((k.keyframes[0].t+.01)/x,0),A[0]=b.getValueAtTime(b.keyframes[0].t/x,0),A[1]=k.getValueAtTime(k.keyframes[0].t/x,0)):b._caching.lastFrame+b.offsetTime>=b.keyframes[b.keyframes.length-1].t?(E[0]=b.getValueAtTime(b.keyframes[b.keyframes.length-1].t/x,0),E[1]=k.getValueAtTime(k.keyframes[k.keyframes.length-1].t/x,0),A[0]=b.getValueAtTime((b.keyframes[b.keyframes.length-1].t-.01)/x,0),A[1]=k.getValueAtTime((k.keyframes[k.keyframes.length-1].t-.01)/x,0)):(E=[b.pv,k.pv],A[0]=b.getValueAtTime((b._caching.lastFrame+b.offsetTime-.01)/x,b.offsetTime),A[1]=k.getValueAtTime((k._caching.lastFrame+k.offsetTime-.01)/x,k.offsetTime))}else A=f,E=A;this.v.rotate(-Math.atan2(E[1]-A[1],E[0]-A[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function c(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function g(){}function y(p){this._addDynamicProperty(p),this.elem.addDynamicProperty(p),this._isDirty=!0}function m(p,x,E){if(this.elem=p,this.frameId=-1,this.propType="transform",this.data=x,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(E||p),x.p&&x.p.s?(this.px=PropertyFactory.getProp(p,x.p.x,0,0,this),this.py=PropertyFactory.getProp(p,x.p.y,0,0,this),x.p.z&&(this.pz=PropertyFactory.getProp(p,x.p.z,0,0,this))):this.p=PropertyFactory.getProp(p,x.p||{k:[0,0,0]},1,0,this),x.rx){if(this.rx=PropertyFactory.getProp(p,x.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(p,x.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(p,x.rz,0,degToRads,this),x.or.k[0].ti){var A,b=x.or.k.length;for(A=0;A<b;A+=1)x.or.k[A].to=null,x.or.k[A].ti=null}this.or=PropertyFactory.getProp(p,x.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(p,x.r||{k:0},0,degToRads,this);x.sk&&(this.sk=PropertyFactory.getProp(p,x.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(p,x.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(p,x.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(p,x.s||{k:[100,100,100]},1,.01,this),x.o?this.o=PropertyFactory.getProp(p,x.o,0,.01,p):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}m.prototype={applyToMatrix:l,getValue:u,precalculateMatrix:c,autoOrient:g},extendPrototype([DynamicPropertyContainer],m),m.prototype.addDynamicProperty=y,m.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function _(p,x,E){return new m(p,x,E)}return{getTransformProperty:_}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(f,l.c,0,null,this),this.o=PropertyFactory.getProp(f,l.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(f,l.tr,this),this.so=PropertyFactory.getProp(f,l.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(f,l.tr.eo,0,.01,this),this.data=l,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(f,l,u,c,g,y){var m=y?-1:1,_=c.s.v[0]+(1-c.s.v[0])*(1-g),p=c.s.v[1]+(1-c.s.v[1])*(1-g);f.translate(c.p.v[0]*m*g,c.p.v[1]*m*g,c.p.v[2]),l.translate(-c.a.v[0],-c.a.v[1],c.a.v[2]),l.rotate(-c.r.v*m*g),l.translate(c.a.v[0],c.a.v[1],c.a.v[2]),u.translate(-c.a.v[0],-c.a.v[1],c.a.v[2]),u.scale(y?1/_:_,y?1/p:p),u.translate(c.a.v[0],c.a.v[1],c.a.v[2])},RepeaterModifier.prototype.init=function(f,l,u,c){for(this.elem=f,this.arr=l,this.pos=u,this.elemsData=c,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(f),this.initModifierProperties(f,l[u]);u>0;)u-=1,this._elements.unshift(l[u]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(f){var l,u=f.length;for(l=0;l<u;l+=1)f[l]._processed=!1,f[l].ty==="gr"&&this.resetElements(f[l].it)},RepeaterModifier.prototype.cloneElements=function(f){var l=JSON.parse(JSON.stringify(f));return this.resetElements(l),l},RepeaterModifier.prototype.changeGroupRender=function(f,l){var u,c=f.length;for(u=0;u<c;u+=1)f[u]._render=l,f[u].ty==="gr"&&this.changeGroupRender(f[u].it,l)},RepeaterModifier.prototype.processShapes=function(f){var l,u,c,g,y,m=!1;if(this._mdf||f){var _=Math.ceil(this.c.v);if(this._groups.length<_){for(;this._groups.length<_;){var p={it:this.cloneElements(this._elements),ty:"gr"};p.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,p),this._groups.splice(0,0,p),this._currentCopies+=1}this.elem.reloadShapes(),m=!0}y=0;var x;for(c=0;c<=this._groups.length-1;c+=1){if(x=y<_,this._groups[c]._render=x,this.changeGroupRender(this._groups[c].it,x),!x){var E=this.elemsData[c].it,A=E[E.length-1];A.transform.op.v!==0?(A.transform.op._mdf=!0,A.transform.op.v=0):A.transform.op._mdf=!1}y+=1}this._currentCopies=_;var b=this.o.v,k=b%1,S=b>0?Math.floor(b):Math.ceil(b),T=this.pMatrix.props,P=this.rMatrix.props,C=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var M=0;if(b>0){for(;M<S;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),M+=1;k&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,k,!1),M+=k)}else if(b<0){for(;M>S;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),M-=1;k&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-k,!0),M-=k)}c=this.data.m===1?0:this._currentCopies-1,g=this.data.m===1?1:-1,y=this._currentCopies;for(var j,I;y;){if(l=this.elemsData[c].it,u=l[l.length-1].transform.mProps.v.props,I=u.length,l[l.length-1].transform.mProps._mdf=!0,l[l.length-1].transform.op._mdf=!0,l[l.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(c/(this._currentCopies-1)),M!==0){for((c!==0&&g===1||c!==this._currentCopies-1&&g===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(P[0],P[1],P[2],P[3],P[4],P[5],P[6],P[7],P[8],P[9],P[10],P[11],P[12],P[13],P[14],P[15]),this.matrix.transform(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15]),this.matrix.transform(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),j=0;j<I;j+=1)u[j]=this.matrix.props[j];this.matrix.reset()}else for(this.matrix.reset(),j=0;j<I;j+=1)u[j]=this.matrix.props[j];M+=1,y-=1,c+=g}}else for(y=this._currentCopies,c=0,g=1;y;)l=this.elemsData[c].it,u=l[l.length-1].transform.mProps.v.props,l[l.length-1].transform.mProps._mdf=!1,l[l.length-1].transform.op._mdf=!1,y-=1,c+=g;return m},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(f,l.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(f,l){var u=shapePool.newElement();u.c=f.c;var c,g=f._length,y,m,_,p,x,E,A=0,b,k,S,T,P,C;for(c=0;c<g;c+=1)y=f.v[c],_=f.o[c],m=f.i[c],y[0]===_[0]&&y[1]===_[1]&&y[0]===m[0]&&y[1]===m[1]?(c===0||c===g-1)&&!f.c?(u.setTripleAt(y[0],y[1],_[0],_[1],m[0],m[1],A),A+=1):(c===0?p=f.v[g-1]:p=f.v[c-1],x=Math.sqrt(Math.pow(y[0]-p[0],2)+Math.pow(y[1]-p[1],2)),E=x?Math.min(x/2,l)/x:0,P=y[0]+(p[0]-y[0])*E,b=P,C=y[1]-(y[1]-p[1])*E,k=C,S=b-(b-y[0])*roundCorner,T=k-(k-y[1])*roundCorner,u.setTripleAt(b,k,S,T,P,C,A),A+=1,c===g-1?p=f.v[0]:p=f.v[c+1],x=Math.sqrt(Math.pow(y[0]-p[0],2)+Math.pow(y[1]-p[1],2)),E=x?Math.min(x/2,l)/x:0,S=y[0]+(p[0]-y[0])*E,b=S,T=y[1]+(p[1]-y[1])*E,k=T,P=b-(b-y[0])*roundCorner,C=k-(k-y[1])*roundCorner,u.setTripleAt(b,k,S,T,P,C,A),A+=1):(u.setTripleAt(f.v[c][0],f.v[c][1],f.o[c][0],f.o[c][1],f.i[c][0],f.i[c][1],A),A+=1);return u},RoundCornersModifier.prototype.processShapes=function(f){var l,u,c=this.shapes.length,g,y,m=this.rd.v;if(m!==0){var _,p;for(u=0;u<c;u+=1){if(_=this.shapes[u],p=_.localShapeCollection,!(!_.shape._mdf&&!this._mdf&&!f))for(p.releaseShapes(),_.shape._mdf=!0,l=_.shape.paths.shapes,y=_.shape.paths._length,g=0;g<y;g+=1)p.addShape(this.processPath(l[g],m));_.shape.paths=_.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(f,l){return Math.abs(f-l)*1e5<=Math.min(Math.abs(f),Math.abs(l))}function floatZero(f){return Math.abs(f)<=1e-5}function lerp(f,l,u){return f*(1-u)+l*u}function lerpPoint(f,l,u){return[lerp(f[0],l[0],u),lerp(f[1],l[1],u)]}function quadRoots(f,l,u){if(f===0)return[];var c=l*l-4*f*u;if(c<0)return[];var g=-l/(2*f);if(c===0)return[g];var y=Math.sqrt(c)/(2*f);return[g-y,g+y]}function polynomialCoefficients(f,l,u,c){return[-f+3*l-3*u+c,3*f-6*l+3*u,-3*f+3*l,f]}function singlePoint(f){return new PolynomialBezier(f,f,f,f,!1)}function PolynomialBezier(f,l,u,c,g){g&&pointEqual(f,l)&&(l=lerpPoint(f,c,1/3)),g&&pointEqual(u,c)&&(u=lerpPoint(f,c,2/3));var y=polynomialCoefficients(f[0],l[0],u[0],c[0]),m=polynomialCoefficients(f[1],l[1],u[1],c[1]);this.a=[y[0],m[0]],this.b=[y[1],m[1]],this.c=[y[2],m[2]],this.d=[y[3],m[3]],this.points=[f,l,u,c]}PolynomialBezier.prototype.point=function(f){return[((this.a[0]*f+this.b[0])*f+this.c[0])*f+this.d[0],((this.a[1]*f+this.b[1])*f+this.c[1])*f+this.d[1]]},PolynomialBezier.prototype.derivative=function(f){return[(3*f*this.a[0]+2*this.b[0])*f+this.c[0],(3*f*this.a[1]+2*this.b[1])*f+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(f){var l=this.derivative(f);return Math.atan2(l[1],l[0])},PolynomialBezier.prototype.normalAngle=function(f){var l=this.derivative(f);return Math.atan2(l[0],l[1])},PolynomialBezier.prototype.inflectionPoints=function(){var f=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(f))return[];var l=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/f,u=l*l-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/f;if(u<0)return[];var c=Math.sqrt(u);return floatZero(c)?c>0&&c<1?[l]:[]:[l-c,l+c].filter(function(g){return g>0&&g<1})},PolynomialBezier.prototype.split=function(f){if(f<=0)return[singlePoint(this.points[0]),this];if(f>=1)return[this,singlePoint(this.points[this.points.length-1])];var l=lerpPoint(this.points[0],this.points[1],f),u=lerpPoint(this.points[1],this.points[2],f),c=lerpPoint(this.points[2],this.points[3],f),g=lerpPoint(l,u,f),y=lerpPoint(u,c,f),m=lerpPoint(g,y,f);return[new PolynomialBezier(this.points[0],l,g,m,!0),new PolynomialBezier(m,y,c,this.points[3],!0)]};function extrema(f,l){var u=f.points[0][l],c=f.points[f.points.length-1][l];if(u>c){var g=c;c=u,u=g}for(var y=quadRoots(3*f.a[l],2*f.b[l],f.c[l]),m=0;m<y.length;m+=1)if(y[m]>0&&y[m]<1){var _=f.point(y[m])[l];_<u?u=_:_>c&&(c=_)}return{min:u,max:c}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var f=this.bounds();return{left:f.x.min,right:f.x.max,top:f.y.min,bottom:f.y.max,width:f.x.max-f.x.min,height:f.y.max-f.y.min,cx:(f.x.max+f.x.min)/2,cy:(f.y.max+f.y.min)/2}};function intersectData(f,l,u){var c=f.boundingBox();return{cx:c.cx,cy:c.cy,width:c.width,height:c.height,bez:f,t:(l+u)/2,t1:l,t2:u}}function splitData(f){var l=f.bez.split(.5);return[intersectData(l[0],f.t1,f.t),intersectData(l[1],f.t,f.t2)]}function boxIntersect(f,l){return Math.abs(f.cx-l.cx)*2<f.width+l.width&&Math.abs(f.cy-l.cy)*2<f.height+l.height}function intersectsImpl(f,l,u,c,g,y){if(boxIntersect(f,l)){if(u>=y||f.width<=c&&f.height<=c&&l.width<=c&&l.height<=c){g.push([f.t,l.t]);return}var m=splitData(f),_=splitData(l);intersectsImpl(m[0],_[0],u+1,c,g,y),intersectsImpl(m[0],_[1],u+1,c,g,y),intersectsImpl(m[1],_[0],u+1,c,g,y),intersectsImpl(m[1],_[1],u+1,c,g,y)}}PolynomialBezier.prototype.intersections=function(f,l,u){l===void 0&&(l=2),u===void 0&&(u=7);var c=[];return intersectsImpl(intersectData(this,0,1),intersectData(f,0,1),0,l,c,u),c},PolynomialBezier.shapeSegment=function(f,l){var u=(l+1)%f.length();return new PolynomialBezier(f.v[l],f.o[l],f.i[u],f.v[u],!0)},PolynomialBezier.shapeSegmentInverted=function(f,l){var u=(l+1)%f.length();return new PolynomialBezier(f.v[u],f.i[u],f.o[l],f.v[l],!0)};function crossProduct(f,l){return[f[1]*l[2]-f[2]*l[1],f[2]*l[0]-f[0]*l[2],f[0]*l[1]-f[1]*l[0]]}function lineIntersection(f,l,u,c){var g=[f[0],f[1],1],y=[l[0],l[1],1],m=[u[0],u[1],1],_=[c[0],c[1],1],p=crossProduct(crossProduct(g,y),crossProduct(m,_));return floatZero(p[2])?null:[p[0]/p[2],p[1]/p[2]]}function polarOffset(f,l,u){return[f[0]+Math.cos(l)*u,f[1]-Math.sin(l)*u]}function pointDistance(f,l){return Math.hypot(f[0]-l[0],f[1]-l[1])}function pointEqual(f,l){return floatEqual(f[0],l[0])&&floatEqual(f[1],l[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(f,l.s,0,null,this),this.frequency=PropertyFactory.getProp(f,l.r,0,null,this),this.pointsType=PropertyFactory.getProp(f,l.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(f,l,u,c,g,y,m){var _=u-Math.PI/2,p=u+Math.PI/2,x=l[0]+Math.cos(u)*c*g,E=l[1]-Math.sin(u)*c*g;f.setTripleAt(x,E,x+Math.cos(_)*y,E-Math.sin(_)*y,x+Math.cos(p)*m,E-Math.sin(p)*m,f.length())}function getPerpendicularVector(f,l){var u=[l[0]-f[0],l[1]-f[1]],c=-Math.PI*.5,g=[Math.cos(c)*u[0]-Math.sin(c)*u[1],Math.sin(c)*u[0]+Math.cos(c)*u[1]];return g}function getProjectingAngle(f,l){var u=l===0?f.length()-1:l-1,c=(l+1)%f.length(),g=f.v[u],y=f.v[c],m=getPerpendicularVector(g,y);return Math.atan2(0,1)-Math.atan2(m[1],m[0])}function zigZagCorner(f,l,u,c,g,y,m){var _=getProjectingAngle(l,u),p=l.v[u%l._length],x=l.v[u===0?l._length-1:u-1],E=l.v[(u+1)%l._length],A=y===2?Math.sqrt(Math.pow(p[0]-x[0],2)+Math.pow(p[1]-x[1],2)):0,b=y===2?Math.sqrt(Math.pow(p[0]-E[0],2)+Math.pow(p[1]-E[1],2)):0;setPoint(f,l.v[u%l._length],_,m,c,b/((g+1)*2),A/((g+1)*2))}function zigZagSegment(f,l,u,c,g,y){for(var m=0;m<c;m+=1){var _=(m+1)/(c+1),p=g===2?Math.sqrt(Math.pow(l.points[3][0]-l.points[0][0],2)+Math.pow(l.points[3][1]-l.points[0][1],2)):0,x=l.normalAngle(_),E=l.point(_);setPoint(f,E,x,y,u,p/((c+1)*2),p/((c+1)*2)),y=-y}return y}ZigZagModifier.prototype.processPath=function(f,l,u,c){var g=f._length,y=shapePool.newElement();if(y.c=f.c,f.c||(g-=1),g===0)return y;var m=-1,_=PolynomialBezier.shapeSegment(f,0);zigZagCorner(y,f,0,l,u,c,m);for(var p=0;p<g;p+=1)m=zigZagSegment(y,_,l,u,c,-m),p===g-1&&!f.c?_=null:_=PolynomialBezier.shapeSegment(f,(p+1)%g),zigZagCorner(y,f,p+1,l,u,c,m);return y},ZigZagModifier.prototype.processShapes=function(f){var l,u,c=this.shapes.length,g,y,m=this.amplitude.v,_=Math.max(0,Math.round(this.frequency.v)),p=this.pointsType.v;if(m!==0){var x,E;for(u=0;u<c;u+=1){if(x=this.shapes[u],E=x.localShapeCollection,!(!x.shape._mdf&&!this._mdf&&!f))for(E.releaseShapes(),x.shape._mdf=!0,l=x.shape.paths.shapes,y=x.shape.paths._length,g=0;g<y;g+=1)E.addShape(this.processPath(l[g],m,_,p));x.shape.paths=x.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(f,l,u){var c=Math.atan2(l[0]-f[0],l[1]-f[1]);return[polarOffset(f,c,u),polarOffset(l,c,u)]}function offsetSegment(f,l){var u,c,g,y,m,_,p;p=linearOffset(f.points[0],f.points[1],l),u=p[0],c=p[1],p=linearOffset(f.points[1],f.points[2],l),g=p[0],y=p[1],p=linearOffset(f.points[2],f.points[3],l),m=p[0],_=p[1];var x=lineIntersection(u,c,g,y);x===null&&(x=c);var E=lineIntersection(m,_,g,y);return E===null&&(E=m),new PolynomialBezier(u,x,E,_)}function joinLines(f,l,u,c,g){var y=l.points[3],m=u.points[0];if(c===3||pointEqual(y,m))return y;if(c===2){var _=-l.tangentAngle(1),p=-u.tangentAngle(0)+Math.PI,x=lineIntersection(y,polarOffset(y,_+Math.PI/2,100),m,polarOffset(m,_+Math.PI/2,100)),E=x?pointDistance(x,y):pointDistance(y,m)/2,A=polarOffset(y,_,2*E*roundCorner);return f.setXYAt(A[0],A[1],"o",f.length()-1),A=polarOffset(m,p,2*E*roundCorner),f.setTripleAt(m[0],m[1],m[0],m[1],A[0],A[1],f.length()),m}var b=pointEqual(y,l.points[2])?l.points[0]:l.points[2],k=pointEqual(m,u.points[1])?u.points[3]:u.points[1],S=lineIntersection(b,y,m,k);return S&&pointDistance(S,y)<g?(f.setTripleAt(S[0],S[1],S[0],S[1],S[0],S[1],f.length()),S):y}function getIntersection(f,l){var u=f.intersections(l);return u.length&&floatEqual(u[0][0],1)&&u.shift(),u.length?u[0]:null}function pruneSegmentIntersection(f,l){var u=f.slice(),c=l.slice(),g=getIntersection(f[f.length-1],l[0]);return g&&(u[f.length-1]=f[f.length-1].split(g[0])[0],c[0]=l[0].split(g[1])[1]),f.length>1&&l.length>1&&(g=getIntersection(f[0],l[l.length-1]),g)?[[f[0].split(g[0])[0]],[l[l.length-1].split(g[1])[1]]]:[u,c]}function pruneIntersections(f){for(var l,u=1;u<f.length;u+=1)l=pruneSegmentIntersection(f[u-1],f[u]),f[u-1]=l[0],f[u]=l[1];return f.length>1&&(l=pruneSegmentIntersection(f[f.length-1],f[0]),f[f.length-1]=l[0],f[0]=l[1]),f}function offsetSegmentSplit(f,l){var u=f.inflectionPoints(),c,g,y,m;if(u.length===0)return[offsetSegment(f,l)];if(u.length===1||floatEqual(u[1],1))return y=f.split(u[0]),c=y[0],g=y[1],[offsetSegment(c,l),offsetSegment(g,l)];y=f.split(u[0]),c=y[0];var _=(u[1]-u[0])/(1-u[0]);return y=y[1].split(_),m=y[0],g=y[1],[offsetSegment(c,l),offsetSegment(m,l),offsetSegment(g,l)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(f,l.a,0,null,this),this.miterLimit=PropertyFactory.getProp(f,l.ml,0,null,this),this.lineJoin=l.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(f,l,u,c){var g=shapePool.newElement();g.c=f.c;var y=f.length();f.c||(y-=1);var m,_,p,x=[];for(m=0;m<y;m+=1)p=PolynomialBezier.shapeSegment(f,m),x.push(offsetSegmentSplit(p,l));if(!f.c)for(m=y-1;m>=0;m-=1)p=PolynomialBezier.shapeSegmentInverted(f,m),x.push(offsetSegmentSplit(p,l));x=pruneIntersections(x);var E=null,A=null;for(m=0;m<x.length;m+=1){var b=x[m];for(A&&(E=joinLines(g,A,b[0],u,c)),A=b[b.length-1],_=0;_<b.length;_+=1)p=b[_],E&&pointEqual(p.points[0],E)?g.setXYAt(p.points[1][0],p.points[1][1],"o",g.length()-1):g.setTripleAt(p.points[0][0],p.points[0][1],p.points[1][0],p.points[1][1],p.points[0][0],p.points[0][1],g.length()),g.setTripleAt(p.points[3][0],p.points[3][1],p.points[3][0],p.points[3][1],p.points[2][0],p.points[2][1],g.length()),E=p.points[3]}return x.length&&joinLines(g,A,x[0][0],u,c),g},OffsetPathModifier.prototype.processShapes=function(f){var l,u,c=this.shapes.length,g,y,m=this.amount.v,_=this.miterLimit.v,p=this.lineJoin;if(m!==0){var x,E;for(u=0;u<c;u+=1){if(x=this.shapes[u],E=x.localShapeCollection,!(!x.shape._mdf&&!this._mdf&&!f))for(E.releaseShapes(),x.shape._mdf=!0,l=x.shape.paths.shapes,y=x.shape.paths._length,g=0;g<y;g+=1)E.addShape(this.processPath(l[g],m,p,_));x.shape.paths=x.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(f){for(var l=f.fStyle?f.fStyle.split(" "):[],u="normal",c="normal",g=l.length,y,m=0;m<g;m+=1)switch(y=l[m].toLowerCase(),y){case"italic":c="italic";break;case"bold":u="700";break;case"black":u="900";break;case"medium":u="500";break;case"regular":case"normal":u="400";break;case"light":case"thin":u="200";break}return{style:c,weight:f.fWeight||u}}var FontManager=function(){var f=5e3,l={w:0,size:0,shapes:[],data:{shapes:[]}},u=[];u=u.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var c=127988,g=917631,y=917601,m=917626,_=65039,p=8205,x=127462,E=127487,A=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function b(G){var J=G.split(","),B,Y=J.length,ie=[];for(B=0;B<Y;B+=1)J[B]!=="sans-serif"&&J[B]!=="monospace"&&ie.push(J[B]);return ie.join(",")}function k(G,J){var B=createTag("span");B.setAttribute("aria-hidden",!0),B.style.fontFamily=J;var Y=createTag("span");Y.innerText="giItT1WQy@!-/#",B.style.position="absolute",B.style.left="-10000px",B.style.top="-10000px",B.style.fontSize="300px",B.style.fontVariant="normal",B.style.fontStyle="normal",B.style.fontWeight="normal",B.style.letterSpacing="0",B.appendChild(Y),document.body.appendChild(B);var ie=Y.offsetWidth;return Y.style.fontFamily=b(G)+", "+J,{node:Y,w:ie,parent:B}}function S(){var G,J=this.fonts.length,B,Y,ie=J;for(G=0;G<J;G+=1)this.fonts[G].loaded?ie-=1:this.fonts[G].fOrigin==="n"||this.fonts[G].origin===0?this.fonts[G].loaded=!0:(B=this.fonts[G].monoCase.node,Y=this.fonts[G].monoCase.w,B.offsetWidth!==Y?(ie-=1,this.fonts[G].loaded=!0):(B=this.fonts[G].sansCase.node,Y=this.fonts[G].sansCase.w,B.offsetWidth!==Y&&(ie-=1,this.fonts[G].loaded=!0)),this.fonts[G].loaded&&(this.fonts[G].sansCase.parent.parentNode.removeChild(this.fonts[G].sansCase.parent),this.fonts[G].monoCase.parent.parentNode.removeChild(this.fonts[G].monoCase.parent)));ie!==0&&Date.now()-this.initTime<f?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function T(G,J){var B=document.body&&J?"svg":"canvas",Y,ie=getFontProperties(G);if(B==="svg"){var ne=createNS("text");ne.style.fontSize="100px",ne.setAttribute("font-family",G.fFamily),ne.setAttribute("font-style",ie.style),ne.setAttribute("font-weight",ie.weight),ne.textContent="1",G.fClass?(ne.style.fontFamily="inherit",ne.setAttribute("class",G.fClass)):ne.style.fontFamily=G.fFamily,J.appendChild(ne),Y=ne}else{var Z=new OffscreenCanvas(500,500).getContext("2d");Z.font=ie.style+" "+ie.weight+" 100px "+G.fFamily,Y=Z}function H(z){return B==="svg"?(Y.textContent=z,Y.getComputedTextLength()):Y.measureText(z).width}return{measureText:H}}function P(G,J){if(!G){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=G.list;return}if(!document.body){this.isLoaded=!0,G.list.forEach(function(ue){ue.helper=T(ue),ue.cache={}}),this.fonts=G.list;return}var B=G.list,Y,ie=B.length,ne=ie;for(Y=0;Y<ie;Y+=1){var Z=!0,H,z;if(B[Y].loaded=!1,B[Y].monoCase=k(B[Y].fFamily,"monospace"),B[Y].sansCase=k(B[Y].fFamily,"sans-serif"),!B[Y].fPath)B[Y].loaded=!0,ne-=1;else if(B[Y].fOrigin==="p"||B[Y].origin===3){if(H=document.querySelectorAll('style[f-forigin="p"][f-family="'+B[Y].fFamily+'"], style[f-origin="3"][f-family="'+B[Y].fFamily+'"]'),H.length>0&&(Z=!1),Z){var ee=createTag("style");ee.setAttribute("f-forigin",B[Y].fOrigin),ee.setAttribute("f-origin",B[Y].origin),ee.setAttribute("f-family",B[Y].fFamily),ee.type="text/css",ee.innerText="@font-face {font-family: "+B[Y].fFamily+"; font-style: normal; src: url('"+B[Y].fPath+"');}",J.appendChild(ee)}}else if(B[Y].fOrigin==="g"||B[Y].origin===1){for(H=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),z=0;z<H.length;z+=1)H[z].href.indexOf(B[Y].fPath)!==-1&&(Z=!1);if(Z){var se=createTag("link");se.setAttribute("f-forigin",B[Y].fOrigin),se.setAttribute("f-origin",B[Y].origin),se.type="text/css",se.rel="stylesheet",se.href=B[Y].fPath,document.body.appendChild(se)}}else if(B[Y].fOrigin==="t"||B[Y].origin===2){for(H=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),z=0;z<H.length;z+=1)B[Y].fPath===H[z].src&&(Z=!1);if(Z){var le=createTag("link");le.setAttribute("f-forigin",B[Y].fOrigin),le.setAttribute("f-origin",B[Y].origin),le.setAttribute("rel","stylesheet"),le.setAttribute("href",B[Y].fPath),J.appendChild(le)}}B[Y].helper=T(B[Y],J),B[Y].cache={},this.fonts.push(B[Y])}ne===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function C(G){if(G){this.chars||(this.chars=[]);var J,B=G.length,Y,ie=this.chars.length,ne;for(J=0;J<B;J+=1){for(Y=0,ne=!1;Y<ie;)this.chars[Y].style===G[J].style&&this.chars[Y].fFamily===G[J].fFamily&&this.chars[Y].ch===G[J].ch&&(ne=!0),Y+=1;ne||(this.chars.push(G[J]),ie+=1)}}}function M(G,J,B){for(var Y=0,ie=this.chars.length;Y<ie;){if(this.chars[Y].ch===G&&this.chars[Y].style===J&&this.chars[Y].fFamily===B)return this.chars[Y];Y+=1}return(typeof G=="string"&&G.charCodeAt(0)!==13||!G)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",G,J,B)),l}function j(G,J,B){var Y=this.getFontByName(J),ie=G;if(!Y.cache[ie]){var ne=Y.helper;if(G===" "){var Z=ne.measureText("|"+G+"|"),H=ne.measureText("||");Y.cache[ie]=(Z-H)/100}else Y.cache[ie]=ne.measureText(G)/100}return Y.cache[ie]*B}function I(G){for(var J=0,B=this.fonts.length;J<B;){if(this.fonts[J].fName===G)return this.fonts[J];J+=1}return this.fonts[0]}function O(G){var J=0,B=G.charCodeAt(0);if(B>=55296&&B<=56319){var Y=G.charCodeAt(1);Y>=56320&&Y<=57343&&(J=(B-55296)*1024+Y-56320+65536)}return J}function R(G,J){var B=G.toString(16)+J.toString(16);return A.indexOf(B)!==-1}function D(G){return G===p}function N(G){return G===_}function U(G){var J=O(G);return J>=x&&J<=E}function X(G){return U(G.substr(0,2))&&U(G.substr(2,2))}function V(G){return u.indexOf(G)!==-1}function K(G,J){var B=O(G.substr(J,2));if(B!==c)return!1;var Y=0;for(J+=2;Y<5;){if(B=O(G.substr(J,2)),B<y||B>m)return!1;Y+=1,J+=2}return O(G.substr(J,2))===g}function W(){this.isLoaded=!0}var Q=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Q.isModifier=R,Q.isZeroWidthJoiner=D,Q.isFlagEmoji=X,Q.isRegionalCode=U,Q.isCombinedCharacter=V,Q.isRegionalFlag=K,Q.isVariationSelector=N,Q.BLACK_FLAG_CODE_POINT=c;var L={addChars:C,addFonts:P,getCharData:M,getFontByName:I,measureText:j,checkLoadedFonts:S,setIsLoaded:W};return Q.prototype=L,Q}();function SlotManager(f){this.animationData=f}SlotManager.prototype.getProp=function(f){return this.animationData.slots&&this.animationData.slots[f.sid]?Object.assign(f,this.animationData.slots[f.sid].p):f};function slotFactory(f){return new SlotManager(f)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(l){this.renderableComponents.indexOf(l)===-1&&this.renderableComponents.push(l)},removeRenderableComponent:function(l){this.renderableComponents.indexOf(l)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(l),1)},prepareRenderableFrame:function(l){this.checkLayerLimits(l)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(l){this.data.ip-this.data.st<=l&&this.data.op-this.data.st>l?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var l,u=this.renderableComponents.length;for(l=0;l<u;l+=1)this.renderableComponents[l].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var f={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(l){return f[l]||""}}();function SliderEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function AngleEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function ColorEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,1,0,u)}function PointEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,1,0,u)}function LayerIndexEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function MaskIndexEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function CheckboxEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function NoValueEffect(){this.p={}}function EffectsManager(f,l){var u=f.ef||[];this.effectElements=[];var c,g=u.length,y;for(c=0;c<g;c+=1)y=new GroupEffect(u[c],l),this.effectElements.push(y)}function GroupEffect(f,l){this.init(f,l)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(f,l){this.data=f,this.effectElements=[],this.initDynamicPropertyContainer(l);var u,c=this.data.ef.length,g,y=this.data.ef;for(u=0;u<c;u+=1){switch(g=null,y[u].ty){case 0:g=new SliderEffect(y[u],l,this);break;case 1:g=new AngleEffect(y[u],l,this);break;case 2:g=new ColorEffect(y[u],l,this);break;case 3:g=new PointEffect(y[u],l,this);break;case 4:case 7:g=new CheckboxEffect(y[u],l,this);break;case 10:g=new LayerIndexEffect(y[u],l,this);break;case 11:g=new MaskIndexEffect(y[u],l,this);break;case 5:g=new EffectsManager(y[u],l);break;default:g=new NoValueEffect(y[u]);break}g&&this.effectElements.push(g)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var l=0,u=this.data.masksProperties.length;l<u;){if(this.data.masksProperties[l].mode!=="n"&&this.data.masksProperties[l].cl!==!1)return!0;l+=1}return!1},initExpressions:function(){var l=getExpressionInterfaces();if(l){var u=l("layer"),c=l("effects"),g=l("shape"),y=l("text"),m=l("comp");this.layerInterface=u(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var _=c.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(_),this.data.ty===0||this.data.xt?this.compInterface=m(this):this.data.ty===4?(this.layerInterface.shapeInterface=g(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=y(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var l=getBlendMode(this.data.bm),u=this.baseElement||this.layerElement;u.style["mix-blend-mode"]=l},initBaseData:function(l,u,c){this.globalData=u,this.comp=c,this.data=l,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(l,u){var c,g=this.dynamicProperties.length;for(c=0;c<g;c+=1)(u||this._isParent&&this.dynamicProperties[c].propType==="transform")&&(this.dynamicProperties[c].getValue(),this.dynamicProperties[c]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(l){this.dynamicProperties.indexOf(l)===-1&&this.dynamicProperties.push(l)}};function FootageElement(f,l,u){this.initFrame(),this.initRenderable(),this.assetData=l.getAssetData(f.refId),this.footageData=l.imageLoader.getAsset(this.assetData),this.initBaseData(f,l,u)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var f=getExpressionInterfaces();if(f){var l=f("footage");this.layerInterface=l(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(f,l,u){this.initFrame(),this.initRenderable(),this.assetData=l.getAssetData(f.refId),this.initBaseData(f,l,u),this._isPlaying=!1,this._canPlay=!1;var c=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(c),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=f.tm?PropertyFactory.getProp(this,f.tm,0,l.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,f.au&&f.au.lv?f.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(f){if(this.prepareRenderableFrame(f,!0),this.prepareProperties(f,!0),this.tm._placeholder)this._currentTime=f/this.data.sr;else{var l=this.tm.v;this._currentTime=l}this._volume=this.lv.v[0];var u=this._volume*this._volumeMultiplier;this._previousVolume!==u&&(this._previousVolume=u,this.audio.volume(u))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(f){this.audio.rate(f)},AudioElement.prototype.volume=function(f){this._volumeMultiplier=f,this._previousVolume=f*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(f){var l,u=this.layers.length,c;for(this.completeLayers=!0,l=u-1;l>=0;l-=1)this.elements[l]||(c=this.layers[l],c.ip-c.st<=f-this.layers[l].st&&c.op-c.st>f-this.layers[l].st&&this.buildItem(l)),this.completeLayers=this.elements[l]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(f){switch(f.ty){case 2:return this.createImage(f);case 0:return this.createComp(f);case 1:return this.createSolid(f);case 3:return this.createNull(f);case 4:return this.createShape(f);case 5:return this.createText(f);case 6:return this.createAudio(f);case 13:return this.createCamera(f);case 15:return this.createFootage(f);default:return this.createNull(f)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(f){return new AudioElement(f,this.globalData,this)},BaseRenderer.prototype.createFootage=function(f){return new FootageElement(f,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var f,l=this.layers.length;for(f=0;f<l;f+=1)this.buildItem(f);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(f){this.completeLayers=!1;var l,u=f.length,c,g=this.layers.length;for(l=0;l<u;l+=1)for(c=0;c<g;){if(this.layers[c].id===f[l].id){this.layers[c]=f[l];break}c+=1}},BaseRenderer.prototype.setProjectInterface=function(f){this.globalData.projectInterface=f},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(f,l,u){for(var c=this.elements,g=this.layers,y=0,m=g.length;y<m;)g[y].ind==l&&(!c[y]||c[y]===!0?(this.buildItem(y),this.addPendingElement(f)):(u.push(c[y]),c[y].setAsParent(),g[y].parent!==void 0?this.buildElementParenting(f,g[y].parent,u):f.setHierarchy(u))),y+=1},BaseRenderer.prototype.addPendingElement=function(f){this.pendingElements.push(f)},BaseRenderer.prototype.searchExtraCompositions=function(f){var l,u=f.length;for(l=0;l<u;l+=1)if(f[l].xt){var c=this.createComp(f[l]);c.initExpressions(),this.globalData.projectInterface.registerComposition(c)}},BaseRenderer.prototype.getElementById=function(f){var l,u=this.elements.length;for(l=0;l<u;l+=1)if(this.elements[l].data.ind===f)return this.elements[l];return null},BaseRenderer.prototype.getElementByPath=function(f){var l=f.shift(),u;if(typeof l=="number")u=this.elements[l];else{var c,g=this.elements.length;for(c=0;c<g;c+=1)if(this.elements[c].data.nm===l){u=this.elements[c];break}}return f.length===0?u:u.getElementByPath(f)},BaseRenderer.prototype.setupGlobalData=function(f,l){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(f),this.globalData.fontManager.addChars(f.chars),this.globalData.fontManager.addFonts(f.fonts,l),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=f.fr,this.globalData.nm=f.nm,this.globalData.compSize={w:f.w,h:f.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var l=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:l,localMat:l,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var l,u=this.finalTransform.mat,c=0,g=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;c<g;){if(this.hierarchy[c].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}c+=1}if(this.finalTransform._matMdf)for(l=this.finalTransform.mProp.v.props,u.cloneFromProps(l),c=0;c<g;c+=1)u.multiply(this.hierarchy[c].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var l=0,u=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;l<u;)this.localTransforms[l]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[l]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),l+=1;if(this.finalTransform._localMatMdf){var c=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(c),l=1;l<u;l+=1){var g=this.localTransforms[l].matrix;c.multiply(g)}c.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var y=this.finalTransform.localOpacity;for(l=0;l<u;l+=1)y*=this.localTransforms[l].opacity*.01;this.finalTransform.localOpacity=y}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var l=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(l.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var u=0,c=l.length;for(u=0;u<c;u+=1)this.localTransforms.push(l[u])}}},globalToLocal:function(l){var u=[];u.push(this.finalTransform);for(var c=!0,g=this.comp;c;)g.finalTransform?(g.data.hasMask&&u.splice(0,0,g.finalTransform),g=g.comp):c=!1;var y,m=u.length,_;for(y=0;y<m;y+=1)_=u[y].mat.applyToPointArray(0,0,0),l=[l[0]-_[0],l[1]-_[1],0];return l},mHelper:new Matrix};function MaskElement(f,l,u){this.data=f,this.element=l,this.globalData=u,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var c=this.globalData.defs,g,y=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(y),this.solidPath="";var m,_=this.masksProperties,p=0,x=[],E,A,b=createElementID(),k,S,T,P,C="clipPath",M="clip-path";for(g=0;g<y;g+=1)if((_[g].mode!=="a"&&_[g].mode!=="n"||_[g].inv||_[g].o.k!==100||_[g].o.x)&&(C="mask",M="mask"),(_[g].mode==="s"||_[g].mode==="i")&&p===0?(k=createNS("rect"),k.setAttribute("fill","#ffffff"),k.setAttribute("width",this.element.comp.data.w||0),k.setAttribute("height",this.element.comp.data.h||0),x.push(k)):k=null,m=createNS("path"),_[g].mode==="n")this.viewData[g]={op:PropertyFactory.getProp(this.element,_[g].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,_[g],3),elem:m,lastPath:""},c.appendChild(m);else{p+=1,m.setAttribute("fill",_[g].mode==="s"?"#000000":"#ffffff"),m.setAttribute("clip-rule","nonzero");var j;if(_[g].x.k!==0?(C="mask",M="mask",P=PropertyFactory.getProp(this.element,_[g].x,0,null,this.element),j=createElementID(),S=createNS("filter"),S.setAttribute("id",j),T=createNS("feMorphology"),T.setAttribute("operator","erode"),T.setAttribute("in","SourceGraphic"),T.setAttribute("radius","0"),S.appendChild(T),c.appendChild(S),m.setAttribute("stroke",_[g].mode==="s"?"#000000":"#ffffff")):(T=null,P=null),this.storedData[g]={elem:m,x:P,expan:T,lastPath:"",lastOperator:"",filterId:j,lastRadius:0},_[g].mode==="i"){A=x.length;var I=createNS("g");for(E=0;E<A;E+=1)I.appendChild(x[E]);var O=createNS("mask");O.setAttribute("mask-type","alpha"),O.setAttribute("id",b+"_"+p),O.appendChild(m),c.appendChild(O),I.setAttribute("mask","url("+getLocationHref()+"#"+b+"_"+p+")"),x.length=0,x.push(I)}else x.push(m);_[g].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[g]={elem:m,lastPath:"",op:PropertyFactory.getProp(this.element,_[g].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,_[g],3),invRect:k},this.viewData[g].prop.k||this.drawPath(_[g],this.viewData[g].prop.v,this.viewData[g])}for(this.maskElement=createNS(C),y=x.length,g=0;g<y;g+=1)this.maskElement.appendChild(x[g]);p>0&&(this.maskElement.setAttribute("id",b),this.element.maskedElement.setAttribute(M,"url("+getLocationHref()+"#"+b+")"),c.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(f){return this.viewData[f].prop},MaskElement.prototype.renderFrame=function(f){var l=this.element.finalTransform.mat,u,c=this.masksProperties.length;for(u=0;u<c;u+=1)if((this.viewData[u].prop._mdf||f)&&this.drawPath(this.masksProperties[u],this.viewData[u].prop.v,this.viewData[u]),(this.viewData[u].op._mdf||f)&&this.viewData[u].elem.setAttribute("fill-opacity",this.viewData[u].op.v),this.masksProperties[u].mode!=="n"&&(this.viewData[u].invRect&&(this.element.finalTransform.mProp._mdf||f)&&this.viewData[u].invRect.setAttribute("transform",l.getInverseMatrix().to2dCSS()),this.storedData[u].x&&(this.storedData[u].x._mdf||f))){var g=this.storedData[u].expan;this.storedData[u].x.v<0?(this.storedData[u].lastOperator!=="erode"&&(this.storedData[u].lastOperator="erode",this.storedData[u].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[u].filterId+")")),g.setAttribute("radius",-this.storedData[u].x.v)):(this.storedData[u].lastOperator!=="dilate"&&(this.storedData[u].lastOperator="dilate",this.storedData[u].elem.setAttribute("filter",null)),this.storedData[u].elem.setAttribute("stroke-width",this.storedData[u].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var f="M0,0 ";return f+=" h"+this.globalData.compSize.w,f+=" v"+this.globalData.compSize.h,f+=" h-"+this.globalData.compSize.w,f+=" v-"+this.globalData.compSize.h+" ",f},MaskElement.prototype.drawPath=function(f,l,u){var c=" M"+l.v[0][0]+","+l.v[0][1],g,y;for(y=l._length,g=1;g<y;g+=1)c+=" C"+l.o[g-1][0]+","+l.o[g-1][1]+" "+l.i[g][0]+","+l.i[g][1]+" "+l.v[g][0]+","+l.v[g][1];if(l.c&&y>1&&(c+=" C"+l.o[g-1][0]+","+l.o[g-1][1]+" "+l.i[0][0]+","+l.i[0][1]+" "+l.v[0][0]+","+l.v[0][1]),u.lastPath!==c){var m="";u.elem&&(l.c&&(m=f.inv?this.solidPath+c:c),u.elem.setAttribute("d",m)),u.lastPath=c}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var f={};f.createFilter=l,f.createAlphaToLuminanceFilter=u;function l(c,g){var y=createNS("filter");return y.setAttribute("id",c),g!==!0&&(y.setAttribute("filterUnits","objectBoundingBox"),y.setAttribute("x","0%"),y.setAttribute("y","0%"),y.setAttribute("width","100%"),y.setAttribute("height","100%")),y}function u(){var c=createNS("feColorMatrix");return c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),c}return f}(),featureSupport=function(){var f={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(f.maskType=!1),/firefox/i.test(navigator.userAgent)&&(f.svgLumaHidden=!1),f}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(f){var l,u="SourceGraphic",c=f.data.ef?f.data.ef.length:0,g=createElementID(),y=filtersFactory.createFilter(g,!0),m=0;this.filters=[];var _;for(l=0;l<c;l+=1){_=null;var p=f.data.ef[l].ty;if(registeredEffects$1[p]){var x=registeredEffects$1[p].effect;_=new x(y,f.effectsManager.effectElements[l],f,idPrefix+m,u),u=idPrefix+m,registeredEffects$1[p].countsAsEffect&&(m+=1)}_&&this.filters.push(_)}m&&(f.globalData.defs.appendChild(y),f.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+g+")")),this.filters.length&&f.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(f){var l,u=this.filters.length;for(l=0;l<u;l+=1)this.filters[l].renderFrame(f)},SVGEffects.prototype.getEffects=function(f){var l,u=this.filters.length,c=[];for(l=0;l<u;l+=1)this.filters[l].type===f&&c.push(this.filters[l]);return c};function registerEffect$1(f,l,u){registeredEffects$1[f]={effect:l,countsAsEffect:u}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var l=null;if(this.data.td){this.matteMasks={};var u=createNS("g");u.setAttribute("id",this.layerId),u.appendChild(this.layerElement),l=u,this.globalData.defs.appendChild(u)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),l=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var c=createNS("clipPath"),g=createNS("path");g.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var y=createElementID();if(c.setAttribute("id",y),c.appendChild(g),this.globalData.defs.appendChild(c),this.checkMasks()){var m=createNS("g");m.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")"),m.appendChild(this.layerElement),this.transformedElement=m,l?l.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(l){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[l]){var u=this.layerId+"_"+l,c,g,y,m;if(l===1||l===3){var _=createNS("mask");_.setAttribute("id",u),_.setAttribute("mask-type",l===3?"luminance":"alpha"),y=createNS("use"),y.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),_.appendChild(y),this.globalData.defs.appendChild(_),!featureSupport.maskType&&l===1&&(_.setAttribute("mask-type","luminance"),c=createElementID(),g=filtersFactory.createFilter(c),this.globalData.defs.appendChild(g),g.appendChild(filtersFactory.createAlphaToLuminanceFilter()),m=createNS("g"),m.appendChild(y),_.appendChild(m),m.setAttribute("filter","url("+getLocationHref()+"#"+c+")"))}else if(l===2){var p=createNS("mask");p.setAttribute("id",u),p.setAttribute("mask-type","alpha");var x=createNS("g");p.appendChild(x),c=createElementID(),g=filtersFactory.createFilter(c);var E=createNS("feComponentTransfer");E.setAttribute("in","SourceGraphic"),g.appendChild(E);var A=createNS("feFuncA");A.setAttribute("type","table"),A.setAttribute("tableValues","1.0 0.0"),E.appendChild(A),this.globalData.defs.appendChild(g);var b=createNS("rect");b.setAttribute("width",this.comp.data.w),b.setAttribute("height",this.comp.data.h),b.setAttribute("x","0"),b.setAttribute("y","0"),b.setAttribute("fill","#ffffff"),b.setAttribute("opacity","0"),x.setAttribute("filter","url("+getLocationHref()+"#"+c+")"),x.appendChild(b),y=createNS("use"),y.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),x.appendChild(y),featureSupport.maskType||(p.setAttribute("mask-type","luminance"),g.appendChild(filtersFactory.createAlphaToLuminanceFilter()),m=createNS("g"),x.appendChild(b),m.appendChild(this.layerElement),x.appendChild(m)),this.globalData.defs.appendChild(p)}this.matteMasks[l]=u}return this.matteMasks[l]},setMatte:function(l){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+l+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(l){this.hierarchy=l},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var f={initElement:function(u,c,g){this.initFrame(),this.initBaseData(u,c,g),this.initTransform(u,c,g),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var u=this.baseElement||this.layerElement;u.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var u=this.baseElement||this.layerElement;u.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(u){this._mdf=!1,this.prepareRenderableFrame(u),this.prepareProperties(u,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(f)],RenderableDOMElement)})();function IImageElement(f,l,u){this.assetData=l.getAssetData(f.refId),this.assetData&&this.assetData.sid&&(this.assetData=l.slotManager.getProp(this.assetData)),this.initElement(f,l,u),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var f=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",f),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(f,l){this.elem=f,this.pos=l}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(l){var u,c=this.shapeModifiers.length;for(u=0;u<c;u+=1)this.shapeModifiers[u].addShape(l)},isShapeInAnimatedModifiers:function(l){for(var u=0,c=this.shapeModifiers.length;u<c;)if(this.shapeModifiers[u].isAnimatedWithShape(l))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var l,u=this.shapes.length;for(l=0;l<u;l+=1)this.shapes[l].sh.reset();u=this.shapeModifiers.length;var c;for(l=u-1;l>=0&&(c=this.shapeModifiers[l].processShapes(this._isFirstFrame),!c);l-=1);}},searchProcessedElement:function(l){for(var u=this.processedElements,c=0,g=u.length;c<g;){if(u[c].elem===l)return u[c].pos;c+=1}return 0},addProcessedElement:function(l,u){for(var c=this.processedElements,g=c.length;g;)if(g-=1,c[g].elem===l){c[g].pos=u;return}c.push(new ProcessedElement(l,u))},prepareFrame:function(l){this.prepareRenderableFrame(l),this.prepareProperties(l,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(f,l,u){this.caches=[],this.styles=[],this.transformers=f,this.lStr="",this.sh=u,this.lvl=l,this._isAnimated=!!u.k;for(var c=0,g=f.length;c<g;){if(f[c].mProps.dynamicProperties.length){this._isAnimated=!0;break}c+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(f,l){this.data=f,this.type=f.ty,this.d="",this.lvl=l,this._mdf=!1,this.closed=f.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(f,l,u,c){this.elem=f,this.frameId=-1,this.dataProps=createSizedArray(l.length),this.renderer=u,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",l.length?l.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(c);var g,y=l.length||0,m;for(g=0;g<y;g+=1)m=PropertyFactory.getProp(f,l[g].v,0,0,this),this.k=m.k||this.k,this.dataProps[g]={n:l[g].n,p:m};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(f){if(!(this.elem.globalData.frameId===this.frameId&&!f)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||f,this._mdf)){var l=0,u=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),l=0;l<u;l+=1)this.dataProps[l].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[l].p.v:this.dashArray[l]=this.dataProps[l].p.v:this.dashoffset[0]=this.dataProps[l].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(f,l.o,0,.01,this),this.w=PropertyFactory.getProp(f,l.w,0,null,this),this.d=new DashProperty(f,l.d||{},"svg",this),this.c=PropertyFactory.getProp(f,l.c,1,255,this),this.style=u,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(f,l.o,0,.01,this),this.c=PropertyFactory.getProp(f,l.c,1,255,this),this.style=u}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.style=u}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(f,l,u){this.data=l,this.c=createTypedArray("uint8c",l.p*4);var c=l.k.k[0].s?l.k.k[0].s.length-l.p*4:l.k.k.length-l.p*4;this.o=createTypedArray("float32",c),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=c,this.initDynamicPropertyContainer(u),this.prop=PropertyFactory.getProp(f,l.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(f,l){for(var u=0,c=this.o.length/2,g;u<c;){if(g=Math.abs(f[u*4]-f[l*4+u*2]),g>.01)return!1;u+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var f=0,l=this.data.k.k.length;f<l;){if(!this.comparePoints(this.data.k.k[f].s,this.data.p))return!1;f+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(f){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||f){var l,u=this.data.p*4,c,g;for(l=0;l<u;l+=1)c=l%4===0?100:255,g=Math.round(this.prop.v[l]*c),this.c[l]!==g&&(this.c[l]=g,this._cmdf=!f);if(this.o.length)for(u=this.prop.v.length,l=this.data.p*4;l<u;l+=1)c=l%2===0?100:1,g=l%2===0?Math.round(this.prop.v[l]*100):this.prop.v[l],this.o[l-this.data.p*4]!==g&&(this.o[l-this.data.p*4]=g,this._omdf=!f);this._mdf=!f}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.initGradientData(f,l,u)}SVGGradientFillStyleData.prototype.initGradientData=function(f,l,u){this.o=PropertyFactory.getProp(f,l.o,0,.01,this),this.s=PropertyFactory.getProp(f,l.s,1,null,this),this.e=PropertyFactory.getProp(f,l.e,1,null,this),this.h=PropertyFactory.getProp(f,l.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(f,l.a||{k:0},0,degToRads,this),this.g=new GradientProperty(f,l.g,this),this.style=u,this.stops=[],this.setGradientData(u.pElem,l),this.setGradientOpacity(l,u),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(f,l){var u=createElementID(),c=createNS(l.t===1?"linearGradient":"radialGradient");c.setAttribute("id",u),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse");var g=[],y,m,_;for(_=l.g.p*4,m=0;m<_;m+=4)y=createNS("stop"),c.appendChild(y),g.push(y);f.setAttribute(l.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+u+")"),this.gf=c,this.cst=g},SVGGradientFillStyleData.prototype.setGradientOpacity=function(f,l){if(this.g._hasOpacity&&!this.g._collapsable){var u,c,g,y=createNS("mask"),m=createNS("path");y.appendChild(m);var _=createElementID(),p=createElementID();y.setAttribute("id",p);var x=createNS(f.t===1?"linearGradient":"radialGradient");x.setAttribute("id",_),x.setAttribute("spreadMethod","pad"),x.setAttribute("gradientUnits","userSpaceOnUse"),g=f.g.k.k[0].s?f.g.k.k[0].s.length:f.g.k.k.length;var E=this.stops;for(c=f.g.p*4;c<g;c+=2)u=createNS("stop"),u.setAttribute("stop-color","rgb(255,255,255)"),x.appendChild(u),E.push(u);m.setAttribute(f.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+_+")"),f.ty==="gs"&&(m.setAttribute("stroke-linecap",lineCapEnum[f.lc||2]),m.setAttribute("stroke-linejoin",lineJoinEnum[f.lj||2]),f.lj===1&&m.setAttribute("stroke-miterlimit",f.ml)),this.of=x,this.ms=y,this.ost=E,this.maskId=p,l.msElem=m}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(f,l.w,0,null,this),this.d=new DashProperty(f,l.d||{},"svg",this),this.initGradientData(f,l,u),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(f,l,u){this.transform={mProps:f,op:l,container:u},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(l,u,c,g){if(u===0)return"";var y=l.o,m=l.i,_=l.v,p,x=" M"+g.applyToPointStringified(_[0][0],_[0][1]);for(p=1;p<u;p+=1)x+=" C"+g.applyToPointStringified(y[p-1][0],y[p-1][1])+" "+g.applyToPointStringified(m[p][0],m[p][1])+" "+g.applyToPointStringified(_[p][0],_[p][1]);return c&&u&&(x+=" C"+g.applyToPointStringified(y[p-1][0],y[p-1][1])+" "+g.applyToPointStringified(m[0][0],m[0][1])+" "+g.applyToPointStringified(_[0][0],_[0][1]),x+="z"),x},SVGElementsRenderer=function(){var f=new Matrix,l=new Matrix,u={createRenderFunction:c};function c(A){switch(A.ty){case"fl":return _;case"gf":return x;case"gs":return p;case"st":return E;case"sh":case"el":case"rc":case"sr":return m;case"tr":return g;case"no":return y;default:return null}}function g(A,b,k){(k||b.transform.op._mdf)&&b.transform.container.setAttribute("opacity",b.transform.op.v),(k||b.transform.mProps._mdf)&&b.transform.container.setAttribute("transform",b.transform.mProps.v.to2dCSS())}function y(){}function m(A,b,k){var S,T,P,C,M,j,I=b.styles.length,O=b.lvl,R,D,N,U;for(j=0;j<I;j+=1){if(C=b.sh._mdf||k,b.styles[j].lvl<O){for(D=l.reset(),N=O-b.styles[j].lvl,U=b.transformers.length-1;!C&&N>0;)C=b.transformers[U].mProps._mdf||C,N-=1,U-=1;if(C)for(N=O-b.styles[j].lvl,U=b.transformers.length-1;N>0;)D.multiply(b.transformers[U].mProps.v),N-=1,U-=1}else D=f;if(R=b.sh.paths,T=R._length,C){for(P="",S=0;S<T;S+=1)M=R.shapes[S],M&&M._length&&(P+=buildShapeString(M,M._length,M.c,D));b.caches[j]=P}else P=b.caches[j];b.styles[j].d+=A.hd===!0?"":P,b.styles[j]._mdf=C||b.styles[j]._mdf}}function _(A,b,k){var S=b.style;(b.c._mdf||k)&&S.pElem.setAttribute("fill","rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||k)&&S.pElem.setAttribute("fill-opacity",b.o.v)}function p(A,b,k){x(A,b,k),E(A,b,k)}function x(A,b,k){var S=b.gf,T=b.g._hasOpacity,P=b.s.v,C=b.e.v;if(b.o._mdf||k){var M=A.ty==="gf"?"fill-opacity":"stroke-opacity";b.style.pElem.setAttribute(M,b.o.v)}if(b.s._mdf||k){var j=A.t===1?"x1":"cx",I=j==="x1"?"y1":"cy";S.setAttribute(j,P[0]),S.setAttribute(I,P[1]),T&&!b.g._collapsable&&(b.of.setAttribute(j,P[0]),b.of.setAttribute(I,P[1]))}var O,R,D,N;if(b.g._cmdf||k){O=b.cst;var U=b.g.c;for(D=O.length,R=0;R<D;R+=1)N=O[R],N.setAttribute("offset",U[R*4]+"%"),N.setAttribute("stop-color","rgb("+U[R*4+1]+","+U[R*4+2]+","+U[R*4+3]+")")}if(T&&(b.g._omdf||k)){var X=b.g.o;for(b.g._collapsable?O=b.cst:O=b.ost,D=O.length,R=0;R<D;R+=1)N=O[R],b.g._collapsable||N.setAttribute("offset",X[R*2]+"%"),N.setAttribute("stop-opacity",X[R*2+1])}if(A.t===1)(b.e._mdf||k)&&(S.setAttribute("x2",C[0]),S.setAttribute("y2",C[1]),T&&!b.g._collapsable&&(b.of.setAttribute("x2",C[0]),b.of.setAttribute("y2",C[1])));else{var V;if((b.s._mdf||b.e._mdf||k)&&(V=Math.sqrt(Math.pow(P[0]-C[0],2)+Math.pow(P[1]-C[1],2)),S.setAttribute("r",V),T&&!b.g._collapsable&&b.of.setAttribute("r",V)),b.e._mdf||b.h._mdf||b.a._mdf||k){V||(V=Math.sqrt(Math.pow(P[0]-C[0],2)+Math.pow(P[1]-C[1],2)));var K=Math.atan2(C[1]-P[1],C[0]-P[0]),W=b.h.v;W>=1?W=.99:W<=-1&&(W=-.99);var Q=V*W,L=Math.cos(K+b.a.v)*Q+P[0],G=Math.sin(K+b.a.v)*Q+P[1];S.setAttribute("fx",L),S.setAttribute("fy",G),T&&!b.g._collapsable&&(b.of.setAttribute("fx",L),b.of.setAttribute("fy",G))}}}function E(A,b,k){var S=b.style,T=b.d;T&&(T._mdf||k)&&T.dashStr&&(S.pElem.setAttribute("stroke-dasharray",T.dashStr),S.pElem.setAttribute("stroke-dashoffset",T.dashoffset[0])),b.c&&(b.c._mdf||k)&&S.pElem.setAttribute("stroke","rgb("+bmFloor(b.c.v[0])+","+bmFloor(b.c.v[1])+","+bmFloor(b.c.v[2])+")"),(b.o._mdf||k)&&S.pElem.setAttribute("stroke-opacity",b.o.v),(b.w._mdf||k)&&(S.pElem.setAttribute("stroke-width",b.w.v),S.msElem&&S.msElem.setAttribute("stroke-width",b.w.v))}return u}();function SVGShapeElement(f,l,u){this.shapes=[],this.shapesData=f.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(f,l,u),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var f,l=this.shapes.length,u,c,g=this.stylesList.length,y,m=[],_=!1;for(c=0;c<g;c+=1){for(y=this.stylesList[c],_=!1,m.length=0,f=0;f<l;f+=1)u=this.shapes[f],u.styles.indexOf(y)!==-1&&(m.push(u),_=u._isAnimated||_);m.length>1&&_&&this.setShapesAsAnimated(m)}},SVGShapeElement.prototype.setShapesAsAnimated=function(f){var l,u=f.length;for(l=0;l<u;l+=1)f[l].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(f,l){var u,c=new SVGStyleData(f,l),g=c.pElem;if(f.ty==="st")u=new SVGStrokeStyleData(this,f,c);else if(f.ty==="fl")u=new SVGFillStyleData(this,f,c);else if(f.ty==="gf"||f.ty==="gs"){var y=f.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;u=new y(this,f,c),this.globalData.defs.appendChild(u.gf),u.maskId&&(this.globalData.defs.appendChild(u.ms),this.globalData.defs.appendChild(u.of),g.setAttribute("mask","url("+getLocationHref()+"#"+u.maskId+")"))}else f.ty==="no"&&(u=new SVGNoStyleData(this,f,c));return(f.ty==="st"||f.ty==="gs")&&(g.setAttribute("stroke-linecap",lineCapEnum[f.lc||2]),g.setAttribute("stroke-linejoin",lineJoinEnum[f.lj||2]),g.setAttribute("fill-opacity","0"),f.lj===1&&g.setAttribute("stroke-miterlimit",f.ml)),f.r===2&&g.setAttribute("fill-rule","evenodd"),f.ln&&g.setAttribute("id",f.ln),f.cl&&g.setAttribute("class",f.cl),f.bm&&(g.style["mix-blend-mode"]=getBlendMode(f.bm)),this.stylesList.push(c),this.addToAnimatedContents(f,u),u},SVGShapeElement.prototype.createGroupElement=function(f){var l=new ShapeGroupData;return f.ln&&l.gr.setAttribute("id",f.ln),f.cl&&l.gr.setAttribute("class",f.cl),f.bm&&(l.gr.style["mix-blend-mode"]=getBlendMode(f.bm)),l},SVGShapeElement.prototype.createTransformElement=function(f,l){var u=TransformPropertyFactory.getTransformProperty(this,f,this),c=new SVGTransformData(u,u.o,l);return this.addToAnimatedContents(f,c),c},SVGShapeElement.prototype.createShapeElement=function(f,l,u){var c=4;f.ty==="rc"?c=5:f.ty==="el"?c=6:f.ty==="sr"&&(c=7);var g=ShapePropertyFactory.getShapeProp(this,f,c,this),y=new SVGShapeData(l,u,g);return this.shapes.push(y),this.addShapeToModifiers(y),this.addToAnimatedContents(f,y),y},SVGShapeElement.prototype.addToAnimatedContents=function(f,l){for(var u=0,c=this.animatedContents.length;u<c;){if(this.animatedContents[u].element===l)return;u+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(f),element:l,data:f})},SVGShapeElement.prototype.setElementStyles=function(f){var l=f.styles,u,c=this.stylesList.length;for(u=0;u<c;u+=1)this.stylesList[u].closed||l.push(this.stylesList[u])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var f,l=this.itemsData.length;for(f=0;f<l;f+=1)this.prevViewData[f]=this.itemsData[f];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),l=this.dynamicProperties.length,f=0;f<l;f+=1)this.dynamicProperties[f].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(f,l,u,c,g,y,m){var _=[].concat(y),p,x=f.length-1,E,A,b=[],k=[],S,T,P;for(p=x;p>=0;p-=1){if(P=this.searchProcessedElement(f[p]),P?l[p]=u[P-1]:f[p]._render=m,f[p].ty==="fl"||f[p].ty==="st"||f[p].ty==="gf"||f[p].ty==="gs"||f[p].ty==="no")P?l[p].style.closed=!1:l[p]=this.createStyleElement(f[p],g),f[p]._render&&l[p].style.pElem.parentNode!==c&&c.appendChild(l[p].style.pElem),b.push(l[p].style);else if(f[p].ty==="gr"){if(!P)l[p]=this.createGroupElement(f[p]);else for(A=l[p].it.length,E=0;E<A;E+=1)l[p].prevViewData[E]=l[p].it[E];this.searchShapes(f[p].it,l[p].it,l[p].prevViewData,l[p].gr,g+1,_,m),f[p]._render&&l[p].gr.parentNode!==c&&c.appendChild(l[p].gr)}else f[p].ty==="tr"?(P||(l[p]=this.createTransformElement(f[p],c)),S=l[p].transform,_.push(S)):f[p].ty==="sh"||f[p].ty==="rc"||f[p].ty==="el"||f[p].ty==="sr"?(P||(l[p]=this.createShapeElement(f[p],_,g)),this.setElementStyles(l[p])):f[p].ty==="tm"||f[p].ty==="rd"||f[p].ty==="ms"||f[p].ty==="pb"||f[p].ty==="zz"||f[p].ty==="op"?(P?(T=l[p],T.closed=!1):(T=ShapeModifiers.getModifier(f[p].ty),T.init(this,f[p]),l[p]=T,this.shapeModifiers.push(T)),k.push(T)):f[p].ty==="rp"&&(P?(T=l[p],T.closed=!0):(T=ShapeModifiers.getModifier(f[p].ty),l[p]=T,T.init(this,f,p,l),this.shapeModifiers.push(T),m=!1),k.push(T));this.addProcessedElement(f[p],p+1)}for(x=b.length,p=0;p<x;p+=1)b[p].closed=!0;for(x=k.length,p=0;p<x;p+=1)k[p].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var f,l=this.stylesList.length;for(f=0;f<l;f+=1)this.stylesList[f].reset();for(this.renderShape(),f=0;f<l;f+=1)(this.stylesList[f]._mdf||this._isFirstFrame)&&(this.stylesList[f].msElem&&(this.stylesList[f].msElem.setAttribute("d",this.stylesList[f].d),this.stylesList[f].d="M0 0"+this.stylesList[f].d),this.stylesList[f].pElem.setAttribute("d",this.stylesList[f].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var f,l=this.animatedContents.length,u;for(f=0;f<l;f+=1)u=this.animatedContents[f],(this._isFirstFrame||u.element._isAnimated)&&u.data!==!0&&u.fn(u.data,u.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(f,l,u,c,g,y){this.o=f,this.sw=l,this.sc=u,this.fc=c,this.m=g,this.p=y,this._mdf={o:!0,sw:!!l,sc:!!u,fc:!!c,m:!0,p:!0}}LetterProps.prototype.update=function(f,l,u,c,g,y){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var m=!1;return this.o!==f&&(this.o=f,this._mdf.o=!0,m=!0),this.sw!==l&&(this.sw=l,this._mdf.sw=!0,m=!0),this.sc!==u&&(this.sc=u,this._mdf.sc=!0,m=!0),this.fc!==c&&(this.fc=c,this._mdf.fc=!0,m=!0),this.m!==g&&(this.m=g,this._mdf.m=!0,m=!0),y.length&&(this.p[0]!==y[0]||this.p[1]!==y[1]||this.p[4]!==y[4]||this.p[5]!==y[5]||this.p[12]!==y[12]||this.p[13]!==y[13])&&(this.p=y,this._mdf.p=!0,m=!0),m};function TextProperty(f,l){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,l.d&&l.d.sid&&(l.d=f.globalData.slotManager.getProp(l.d)),this.data=l,this.elem=f,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(f,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(f[u]=l[u]);return f},TextProperty.prototype.setCurrentData=function(f){f.__complete||this.completeTextData(f),this.currentData=f,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(f){this.effectsSequence.push(f),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(f){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!f)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var l=this.currentData,u=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var c,g=this.effectsSequence.length,y=f||this.data.d.k[this.keysIndex].s;for(c=0;c<g;c+=1)u!==this.keysIndex?y=this.effectsSequence[c](y,y.t):y=this.effectsSequence[c](this.currentData,y.t);l!==y&&this.setCurrentData(y),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var f=this.data.d.k,l=this.elem.comp.renderedFrame,u=0,c=f.length;u<=c-1&&!(u===c-1||f[u+1].t>l);)u+=1;return this.keysIndex!==u&&(this.keysIndex=u),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(f){for(var l=[],u=0,c=f.length,g,y,m=!1,_=!1,p="";u<c;)m=_,_=!1,g=f.charCodeAt(u),p=f.charAt(u),FontManager.isCombinedCharacter(g)?m=!0:g>=55296&&g<=56319?FontManager.isRegionalFlag(f,u)?p=f.substr(u,14):(y=f.charCodeAt(u+1),y>=56320&&y<=57343&&(FontManager.isModifier(g,y)?(p=f.substr(u,2),m=!0):FontManager.isFlagEmoji(f.substr(u,4))?p=f.substr(u,4):p=f.substr(u,2))):g>56319?(y=f.charCodeAt(u+1),FontManager.isVariationSelector(g)&&(m=!0)):FontManager.isZeroWidthJoiner(g)&&(m=!0,_=!0),m?(l[l.length-1]+=p,m=!1):l.push(p),u+=p.length;return l},TextProperty.prototype.completeTextData=function(f){f.__complete=!0;var l=this.elem.globalData.fontManager,u=this.data,c=[],g,y,m,_=0,p,x=u.m.g,E=0,A=0,b=0,k=[],S=0,T=0,P,C,M=l.getFontByName(f.f),j,I=0,O=getFontProperties(M);f.fWeight=O.weight,f.fStyle=O.style,f.finalSize=f.s,f.finalText=this.buildFinalText(f.t),y=f.finalText.length,f.finalLineHeight=f.lh;var R=f.tr/1e3*f.finalSize,D;if(f.sz)for(var N=!0,U=f.sz[0],X=f.sz[1],V,K;N;){K=this.buildFinalText(f.t),V=0,S=0,y=K.length,R=f.tr/1e3*f.finalSize;var W=-1;for(g=0;g<y;g+=1)D=K[g].charCodeAt(0),m=!1,K[g]===" "?W=g:(D===13||D===3)&&(S=0,m=!0,V+=f.finalLineHeight||f.finalSize*1.2),l.chars?(j=l.getCharData(K[g],M.fStyle,M.fFamily),I=m?0:j.w*f.finalSize/100):I=l.measureText(K[g],f.f,f.finalSize),S+I>U&&K[g]!==" "?(W===-1?y+=1:g=W,V+=f.finalLineHeight||f.finalSize*1.2,K.splice(g,W===g?1:0,"\r"),W=-1,S=0):(S+=I,S+=R);V+=M.ascent*f.finalSize/100,this.canResize&&f.finalSize>this.minimumFontSize&&X<V?(f.finalSize-=1,f.finalLineHeight=f.finalSize*f.lh/f.s):(f.finalText=K,y=f.finalText.length,N=!1)}S=-R,I=0;var Q=0,L;for(g=0;g<y;g+=1)if(m=!1,L=f.finalText[g],D=L.charCodeAt(0),D===13||D===3?(Q=0,k.push(S),T=S>T?S:T,S=-2*R,p="",m=!0,b+=1):p=L,l.chars?(j=l.getCharData(L,M.fStyle,l.getFontByName(f.f).fFamily),I=m?0:j.w*f.finalSize/100):I=l.measureText(p,f.f,f.finalSize),L===" "?Q+=I+R:(S+=I+R+Q,Q=0),c.push({l:I,an:I,add:E,n:m,anIndexes:[],val:p,line:b,animatorJustifyOffset:0}),x==2){if(E+=I,p===""||p===" "||g===y-1){for((p===""||p===" ")&&(E-=I);A<=g;)c[A].an=E,c[A].ind=_,c[A].extra=I,A+=1;_+=1,E=0}}else if(x==3){if(E+=I,p===""||g===y-1){for(p===""&&(E-=I);A<=g;)c[A].an=E,c[A].ind=_,c[A].extra=I,A+=1;E=0,_+=1}}else c[_].ind=_,c[_].extra=0,_+=1;if(f.l=c,T=S>T?S:T,k.push(S),f.sz)f.boxWidth=f.sz[0],f.justifyOffset=0;else switch(f.boxWidth=T,f.j){case 1:f.justifyOffset=-f.boxWidth;break;case 2:f.justifyOffset=-f.boxWidth/2;break;default:f.justifyOffset=0}f.lineWidths=k;var G=u.a,J,B;C=G.length;var Y,ie,ne=[];for(P=0;P<C;P+=1){for(J=G[P],J.a.sc&&(f.strokeColorAnim=!0),J.a.sw&&(f.strokeWidthAnim=!0),(J.a.fc||J.a.fh||J.a.fs||J.a.fb)&&(f.fillColorAnim=!0),ie=0,Y=J.s.b,g=0;g<y;g+=1)B=c[g],B.anIndexes[P]=ie,(Y==1&&B.val!==""||Y==2&&B.val!==""&&B.val!==" "||Y==3&&(B.n||B.val==" "||g==y-1)||Y==4&&(B.n||g==y-1))&&(J.s.rn===1&&ne.push(ie),ie+=1);u.a[P].s.totalChars=ie;var Z=-1,H;if(J.s.rn===1)for(g=0;g<y;g+=1)B=c[g],Z!=B.anIndexes[P]&&(Z=B.anIndexes[P],H=ne.splice(Math.floor(Math.random()*ne.length),1)[0]),B.anIndexes[P]=H}f.yOffset=f.finalLineHeight||f.finalSize*1.2,f.ls=f.ls||0,f.ascent=M.ascent*f.finalSize/100},TextProperty.prototype.updateDocumentData=function(f,l){l=l===void 0?this.keysIndex:l;var u=this.copyData({},this.data.d.k[l].s);u=this.copyData(u,f),this.data.d.k[l].s=u,this.recalculate(l),this.setCurrentData(u),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(f){var l=this.data.d.k[f].s;l.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(l)},TextProperty.prototype.canResizeFont=function(f){this.canResize=f,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(f){this.minimumFontSize=Math.floor(f)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var f=Math.max,l=Math.min,u=Math.floor;function c(y,m){this._currentTextLength=-1,this.k=!1,this.data=m,this.elem=y,this.comp=y.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(y),this.s=PropertyFactory.getProp(y,m.s||{k:0},0,0,this),"e"in m?this.e=PropertyFactory.getProp(y,m.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(y,m.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(y,m.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(y,m.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(y,m.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(y,m.a,0,.01,this),this.dynamicProperties.length||this.getValue()}c.prototype={getMult:function(m){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var _=0,p=0,x=1,E=1;this.ne.v>0?_=this.ne.v/100:p=-this.ne.v/100,this.xe.v>0?x=1-this.xe.v/100:E=1+this.xe.v/100;var A=BezierFactory.getBezierEasing(_,p,x,E).get,b=0,k=this.finalS,S=this.finalE,T=this.data.sh;if(T===2)S===k?b=m>=S?1:0:b=f(0,l(.5/(S-k)+(m-k)/(S-k),1)),b=A(b);else if(T===3)S===k?b=m>=S?0:1:b=1-f(0,l(.5/(S-k)+(m-k)/(S-k),1)),b=A(b);else if(T===4)S===k?b=0:(b=f(0,l(.5/(S-k)+(m-k)/(S-k),1)),b<.5?b*=2:b=1-2*(b-.5)),b=A(b);else if(T===5){if(S===k)b=0;else{var P=S-k;m=l(f(0,m+.5-k),S-k);var C=-P/2+m,M=P/2;b=Math.sqrt(1-C*C/(M*M))}b=A(b)}else T===6?(S===k?b=0:(m=l(f(0,m+.5-k),S-k),b=(1+Math.cos(Math.PI+Math.PI*2*m/(S-k)))/2),b=A(b)):(m>=u(k)&&(m-k<0?b=f(0,l(l(S,1)-(k-m),1)):b=f(0,l(S-m,1))),b=A(b));if(this.sm.v!==100){var j=this.sm.v*.01;j===0&&(j=1e-8);var I=.5-j*.5;b<I?b=0:(b=(b-I)/j,b>1&&(b=1))}return b*this.a.v},getValue:function(m){this.iterateDynamicProperties(),this._mdf=m||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,m&&this.data.r===2&&(this.e.v=this._currentTextLength);var _=this.data.r===2?1:100/this.data.totalChars,p=this.o.v/_,x=this.s.v/_+p,E=this.e.v/_+p;if(x>E){var A=x;x=E,E=A}this.finalS=x,this.finalE=E}},extendPrototype([DynamicPropertyContainer],c);function g(y,m,_){return new c(y,m)}return{getTextSelectorProp:g}}();function TextAnimatorDataProperty(f,l,u){var c={propType:!1},g=PropertyFactory.getProp,y=l.a;this.a={r:y.r?g(f,y.r,0,degToRads,u):c,rx:y.rx?g(f,y.rx,0,degToRads,u):c,ry:y.ry?g(f,y.ry,0,degToRads,u):c,sk:y.sk?g(f,y.sk,0,degToRads,u):c,sa:y.sa?g(f,y.sa,0,degToRads,u):c,s:y.s?g(f,y.s,1,.01,u):c,a:y.a?g(f,y.a,1,0,u):c,o:y.o?g(f,y.o,0,.01,u):c,p:y.p?g(f,y.p,1,0,u):c,sw:y.sw?g(f,y.sw,0,0,u):c,sc:y.sc?g(f,y.sc,1,0,u):c,fc:y.fc?g(f,y.fc,1,0,u):c,fh:y.fh?g(f,y.fh,0,0,u):c,fs:y.fs?g(f,y.fs,0,.01,u):c,fb:y.fb?g(f,y.fb,0,.01,u):c,t:y.t?g(f,y.t,0,0,u):c},this.s=TextSelectorProp.getTextSelectorProp(f,l.s,u),this.s.t=l.s.t}function TextAnimatorProperty(f,l,u){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=f,this._renderType=l,this._elem=u,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(u)}TextAnimatorProperty.prototype.searchProperties=function(){var f,l=this._textData.a.length,u,c=PropertyFactory.getProp;for(f=0;f<l;f+=1)u=this._textData.a[f],this._animatorsData[f]=new TextAnimatorDataProperty(this._elem,u,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:c(this._elem,this._textData.p.a,0,0,this),f:c(this._elem,this._textData.p.f,0,0,this),l:c(this._elem,this._textData.p.l,0,0,this),r:c(this._elem,this._textData.p.r,0,0,this),p:c(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=c(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(f,l){if(this.lettersChangedFlag=l,!(!this._mdf&&!this._isFirstFrame&&!l&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var u=this._moreOptions.alignment.v,c=this._animatorsData,g=this._textData,y=this.mHelper,m=this._renderType,_=this.renderedLetters.length,p,x,E,A,b=f.l,k,S,T,P,C,M,j,I,O,R,D,N,U,X,V;if(this._hasMaskedPath){if(V=this._pathData.m,!this._pathData.n||this._pathData._mdf){var K=V.v;this._pathData.r.v&&(K=K.reverse()),k={tLength:0,segments:[]},A=K._length-1;var W;for(N=0,E=0;E<A;E+=1)W=bez.buildBezierData(K.v[E],K.v[E+1],[K.o[E][0]-K.v[E][0],K.o[E][1]-K.v[E][1]],[K.i[E+1][0]-K.v[E+1][0],K.i[E+1][1]-K.v[E+1][1]]),k.tLength+=W.segmentLength,k.segments.push(W),N+=W.segmentLength;E=A,V.v.c&&(W=bez.buildBezierData(K.v[E],K.v[0],[K.o[E][0]-K.v[E][0],K.o[E][1]-K.v[E][1]],[K.i[0][0]-K.v[0][0],K.i[0][1]-K.v[0][1]]),k.tLength+=W.segmentLength,k.segments.push(W),N+=W.segmentLength),this._pathData.pi=k}if(k=this._pathData.pi,S=this._pathData.f.v,j=0,M=1,P=0,C=!0,R=k.segments,S<0&&V.v.c)for(k.tLength<Math.abs(S)&&(S=-Math.abs(S)%k.tLength),j=R.length-1,O=R[j].points,M=O.length-1;S<0;)S+=O[M].partialLength,M-=1,M<0&&(j-=1,O=R[j].points,M=O.length-1);O=R[j].points,I=O[M-1],T=O[M],D=T.partialLength}A=b.length,p=0,x=0;var Q=f.finalSize*1.2*.714,L=!0,G,J,B,Y,ie;Y=c.length;var ne,Z=-1,H,z,ee,se=S,le=j,ue=M,_e=-1,Te,me,Se,ve,fe,ye,Ae,Ne,re="",ae=this.defaultPropsArray,ce;if(f.j===2||f.j===1){var Ee=0,xe=0,Ie=f.j===2?-.5:-1,Fe=0,Xe=!0;for(E=0;E<A;E+=1)if(b[E].n){for(Ee&&(Ee+=xe);Fe<E;)b[Fe].animatorJustifyOffset=Ee,Fe+=1;Ee=0,Xe=!0}else{for(B=0;B<Y;B+=1)G=c[B].a,G.t.propType&&(Xe&&f.j===2&&(xe+=G.t.v*Ie),J=c[B].s,ne=J.getMult(b[E].anIndexes[B],g.a[B].s.totalChars),ne.length?Ee+=G.t.v*ne[0]*Ie:Ee+=G.t.v*ne*Ie);Xe=!1}for(Ee&&(Ee+=xe);Fe<E;)b[Fe].animatorJustifyOffset=Ee,Fe+=1}for(E=0;E<A;E+=1){if(y.reset(),Te=1,b[E].n)p=0,x+=f.yOffset,x+=L?1:0,S=se,L=!1,this._hasMaskedPath&&(j=le,M=ue,O=R[j].points,I=O[M-1],T=O[M],D=T.partialLength,P=0),re="",Ne="",ye="",ce="",ae=this.defaultPropsArray;else{if(this._hasMaskedPath){if(_e!==b[E].line){switch(f.j){case 1:S+=N-f.lineWidths[b[E].line];break;case 2:S+=(N-f.lineWidths[b[E].line])/2;break}_e=b[E].line}Z!==b[E].ind&&(b[Z]&&(S+=b[Z].extra),S+=b[E].an/2,Z=b[E].ind),S+=u[0]*b[E].an*.005;var Ze=0;for(B=0;B<Y;B+=1)G=c[B].a,G.p.propType&&(J=c[B].s,ne=J.getMult(b[E].anIndexes[B],g.a[B].s.totalChars),ne.length?Ze+=G.p.v[0]*ne[0]:Ze+=G.p.v[0]*ne),G.a.propType&&(J=c[B].s,ne=J.getMult(b[E].anIndexes[B],g.a[B].s.totalChars),ne.length?Ze+=G.a.v[0]*ne[0]:Ze+=G.a.v[0]*ne);for(C=!0,this._pathData.a.v&&(S=b[0].an*.5+(N-this._pathData.f.v-b[0].an*.5-b[b.length-1].an*.5)*Z/(A-1),S+=this._pathData.f.v);C;)P+D>=S+Ze||!O?(U=(S+Ze-P)/T.partialLength,z=I.point[0]+(T.point[0]-I.point[0])*U,ee=I.point[1]+(T.point[1]-I.point[1])*U,y.translate(-u[0]*b[E].an*.005,-(u[1]*Q)*.01),C=!1):O&&(P+=T.partialLength,M+=1,M>=O.length&&(M=0,j+=1,R[j]?O=R[j].points:V.v.c?(M=0,j=0,O=R[j].points):(P-=T.partialLength,O=null)),O&&(I=T,T=O[M],D=T.partialLength));H=b[E].an/2-b[E].add,y.translate(-H,0,0)}else H=b[E].an/2-b[E].add,y.translate(-H,0,0),y.translate(-u[0]*b[E].an*.005,-u[1]*Q*.01,0);for(B=0;B<Y;B+=1)G=c[B].a,G.t.propType&&(J=c[B].s,ne=J.getMult(b[E].anIndexes[B],g.a[B].s.totalChars),(p!==0||f.j!==0)&&(this._hasMaskedPath?ne.length?S+=G.t.v*ne[0]:S+=G.t.v*ne:ne.length?p+=G.t.v*ne[0]:p+=G.t.v*ne));for(f.strokeWidthAnim&&(Se=f.sw||0),f.strokeColorAnim&&(f.sc?me=[f.sc[0],f.sc[1],f.sc[2]]:me=[0,0,0]),f.fillColorAnim&&f.fc&&(ve=[f.fc[0],f.fc[1],f.fc[2]]),B=0;B<Y;B+=1)G=c[B].a,G.a.propType&&(J=c[B].s,ne=J.getMult(b[E].anIndexes[B],g.a[B].s.totalChars),ne.length?y.translate(-G.a.v[0]*ne[0],-G.a.v[1]*ne[1],G.a.v[2]*ne[2]):y.translate(-G.a.v[0]*ne,-G.a.v[1]*ne,G.a.v[2]*ne));for(B=0;B<Y;B+=1)G=c[B].a,G.s.propType&&(J=c[B].s,ne=J.getMult(b[E].anIndexes[B],g.a[B].s.totalChars),ne.length?y.scale(1+(G.s.v[0]-1)*ne[0],1+(G.s.v[1]-1)*ne[1],1):y.scale(1+(G.s.v[0]-1)*ne,1+(G.s.v[1]-1)*ne,1));for(B=0;B<Y;B+=1){if(G=c[B].a,J=c[B].s,ne=J.getMult(b[E].anIndexes[B],g.a[B].s.totalChars),G.sk.propType&&(ne.length?y.skewFromAxis(-G.sk.v*ne[0],G.sa.v*ne[1]):y.skewFromAxis(-G.sk.v*ne,G.sa.v*ne)),G.r.propType&&(ne.length?y.rotateZ(-G.r.v*ne[2]):y.rotateZ(-G.r.v*ne)),G.ry.propType&&(ne.length?y.rotateY(G.ry.v*ne[1]):y.rotateY(G.ry.v*ne)),G.rx.propType&&(ne.length?y.rotateX(G.rx.v*ne[0]):y.rotateX(G.rx.v*ne)),G.o.propType&&(ne.length?Te+=(G.o.v*ne[0]-Te)*ne[0]:Te+=(G.o.v*ne-Te)*ne),f.strokeWidthAnim&&G.sw.propType&&(ne.length?Se+=G.sw.v*ne[0]:Se+=G.sw.v*ne),f.strokeColorAnim&&G.sc.propType)for(fe=0;fe<3;fe+=1)ne.length?me[fe]+=(G.sc.v[fe]-me[fe])*ne[0]:me[fe]+=(G.sc.v[fe]-me[fe])*ne;if(f.fillColorAnim&&f.fc){if(G.fc.propType)for(fe=0;fe<3;fe+=1)ne.length?ve[fe]+=(G.fc.v[fe]-ve[fe])*ne[0]:ve[fe]+=(G.fc.v[fe]-ve[fe])*ne;G.fh.propType&&(ne.length?ve=addHueToRGB(ve,G.fh.v*ne[0]):ve=addHueToRGB(ve,G.fh.v*ne)),G.fs.propType&&(ne.length?ve=addSaturationToRGB(ve,G.fs.v*ne[0]):ve=addSaturationToRGB(ve,G.fs.v*ne)),G.fb.propType&&(ne.length?ve=addBrightnessToRGB(ve,G.fb.v*ne[0]):ve=addBrightnessToRGB(ve,G.fb.v*ne))}}for(B=0;B<Y;B+=1)G=c[B].a,G.p.propType&&(J=c[B].s,ne=J.getMult(b[E].anIndexes[B],g.a[B].s.totalChars),this._hasMaskedPath?ne.length?y.translate(0,G.p.v[1]*ne[0],-G.p.v[2]*ne[1]):y.translate(0,G.p.v[1]*ne,-G.p.v[2]*ne):ne.length?y.translate(G.p.v[0]*ne[0],G.p.v[1]*ne[1],-G.p.v[2]*ne[2]):y.translate(G.p.v[0]*ne,G.p.v[1]*ne,-G.p.v[2]*ne));if(f.strokeWidthAnim&&(ye=Se<0?0:Se),f.strokeColorAnim&&(Ae="rgb("+Math.round(me[0]*255)+","+Math.round(me[1]*255)+","+Math.round(me[2]*255)+")"),f.fillColorAnim&&f.fc&&(Ne="rgb("+Math.round(ve[0]*255)+","+Math.round(ve[1]*255)+","+Math.round(ve[2]*255)+")"),this._hasMaskedPath){if(y.translate(0,-f.ls),y.translate(0,u[1]*Q*.01+x,0),this._pathData.p.v){X=(T.point[1]-I.point[1])/(T.point[0]-I.point[0]);var Je=Math.atan(X)*180/Math.PI;T.point[0]<I.point[0]&&(Je+=180),y.rotate(-Je*Math.PI/180)}y.translate(z,ee,0),S-=u[0]*b[E].an*.005,b[E+1]&&Z!==b[E+1].ind&&(S+=b[E].an/2,S+=f.tr*.001*f.finalSize)}else{switch(y.translate(p,x,0),f.ps&&y.translate(f.ps[0],f.ps[1]+f.ascent,0),f.j){case 1:y.translate(b[E].animatorJustifyOffset+f.justifyOffset+(f.boxWidth-f.lineWidths[b[E].line]),0,0);break;case 2:y.translate(b[E].animatorJustifyOffset+f.justifyOffset+(f.boxWidth-f.lineWidths[b[E].line])/2,0,0);break}y.translate(0,-f.ls),y.translate(H,0,0),y.translate(u[0]*b[E].an*.005,u[1]*Q*.01,0),p+=b[E].l+f.tr*.001*f.finalSize}m==="html"?re=y.toCSS():m==="svg"?re=y.to2dCSS():ae=[y.props[0],y.props[1],y.props[2],y.props[3],y.props[4],y.props[5],y.props[6],y.props[7],y.props[8],y.props[9],y.props[10],y.props[11],y.props[12],y.props[13],y.props[14],y.props[15]],ce=Te}_<=E?(ie=new LetterProps(ce,ye,Ae,Ne,re,ae),this.renderedLetters.push(ie),_+=1,this.lettersChangedFlag=!0):(ie=this.renderedLetters[E],this.lettersChangedFlag=ie.update(ce,ye,Ae,Ne,re,ae)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(f,l,u){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(f,l,u),this.textProperty=new TextProperty(this,f.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(f.t,this.renderType,this),this.initTransform(f,l,u),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(f){this._mdf=!1,this.prepareRenderableFrame(f),this.prepareProperties(f,this.isInRange)},ITextElement.prototype.createPathShape=function(f,l){var u,c=l.length,g,y="";for(u=0;u<c;u+=1)l[u].ty==="sh"&&(g=l[u].ks.k,y+=buildShapeString(g,g.i.length,!0,f));return y},ITextElement.prototype.updateDocumentData=function(f,l){this.textProperty.updateDocumentData(f,l)},ITextElement.prototype.canResizeFont=function(f){this.textProperty.canResizeFont(f)},ITextElement.prototype.setMinimumFontSize=function(f){this.textProperty.setMinimumFontSize(f)},ITextElement.prototype.applyTextPropertiesToMatrix=function(f,l,u,c,g){switch(f.ps&&l.translate(f.ps[0],f.ps[1]+f.ascent,0),l.translate(0,-f.ls,0),f.j){case 1:l.translate(f.justifyOffset+(f.boxWidth-f.lineWidths[u]),0,0);break;case 2:l.translate(f.justifyOffset+(f.boxWidth-f.lineWidths[u])/2,0,0);break}l.translate(c,g,0)},ITextElement.prototype.buildColor=function(f){return"rgb("+Math.round(f[0]*255)+","+Math.round(f[1]*255)+","+Math.round(f[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(f,l,u){this.textSpans=[],this.renderType="svg",this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(f){for(var l=0,u=f.length,c=[],g="";l<u;)f[l]===String.fromCharCode(13)||f[l]===String.fromCharCode(3)?(c.push(g),g=""):g+=f[l],l+=1;return c.push(g),c},SVGTextLottieElement.prototype.buildShapeData=function(f,l){if(f.shapes&&f.shapes.length){var u=f.shapes[0];if(u.it){var c=u.it[u.it.length-1];c.s&&(c.s.k[0]=l,c.s.k[1]=l)}}return f},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var f,l,u=this.textProperty.currentData;this.renderedLetters=createSizedArray(u?u.l.length:0),u.fc?this.layerElement.setAttribute("fill",this.buildColor(u.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),u.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(u.sc)),this.layerElement.setAttribute("stroke-width",u.sw)),this.layerElement.setAttribute("font-size",u.finalSize);var c=this.globalData.fontManager.getFontByName(u.f);if(c.fClass)this.layerElement.setAttribute("class",c.fClass);else{this.layerElement.setAttribute("font-family",c.fFamily);var g=u.fWeight,y=u.fStyle;this.layerElement.setAttribute("font-style",y),this.layerElement.setAttribute("font-weight",g)}this.layerElement.setAttribute("aria-label",u.t);var m=u.l||[],_=!!this.globalData.fontManager.chars;l=m.length;var p,x=this.mHelper,E="",A=this.data.singleShape,b=0,k=0,S=!0,T=u.tr*.001*u.finalSize;if(A&&!_&&!u.sz){var P=this.textContainer,C="start";switch(u.j){case 1:C="end";break;case 2:C="middle";break;default:C="start";break}P.setAttribute("text-anchor",C),P.setAttribute("letter-spacing",T);var M=this.buildTextContents(u.finalText);for(l=M.length,k=u.ps?u.ps[1]+u.ascent:0,f=0;f<l;f+=1)p=this.textSpans[f].span||createNS("tspan"),p.textContent=M[f],p.setAttribute("x",0),p.setAttribute("y",k),p.style.display="inherit",P.appendChild(p),this.textSpans[f]||(this.textSpans[f]={span:null,glyph:null}),this.textSpans[f].span=p,k+=u.finalLineHeight;this.layerElement.appendChild(P)}else{var j=this.textSpans.length,I;for(f=0;f<l;f+=1){if(this.textSpans[f]||(this.textSpans[f]={span:null,childSpan:null,glyph:null}),!_||!A||f===0){if(p=j>f?this.textSpans[f].span:createNS(_?"g":"text"),j<=f){if(p.setAttribute("stroke-linecap","butt"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit","4"),this.textSpans[f].span=p,_){var O=createNS("g");p.appendChild(O),this.textSpans[f].childSpan=O}this.textSpans[f].span=p,this.layerElement.appendChild(p)}p.style.display="inherit"}if(x.reset(),A&&(m[f].n&&(b=-T,k+=u.yOffset,k+=S?1:0,S=!1),this.applyTextPropertiesToMatrix(u,x,m[f].line,b,k),b+=m[f].l||0,b+=T),_){I=this.globalData.fontManager.getCharData(u.finalText[f],c.fStyle,this.globalData.fontManager.getFontByName(u.f).fFamily);var R;if(I.t===1)R=new SVGCompElement(I.data,this.globalData,this);else{var D=emptyShapeData;I.data&&I.data.shapes&&(D=this.buildShapeData(I.data,u.finalSize)),R=new SVGShapeElement(D,this.globalData,this)}if(this.textSpans[f].glyph){var N=this.textSpans[f].glyph;this.textSpans[f].childSpan.removeChild(N.layerElement),N.destroy()}this.textSpans[f].glyph=R,R._debug=!0,R.prepareFrame(0),R.renderFrame(),this.textSpans[f].childSpan.appendChild(R.layerElement),I.t===1&&this.textSpans[f].childSpan.setAttribute("transform","scale("+u.finalSize/100+","+u.finalSize/100+")")}else A&&p.setAttribute("transform","translate("+x.props[12]+","+x.props[13]+")"),p.textContent=m[f].val,p.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}A&&p&&p.setAttribute("d",E)}for(;f<this.textSpans.length;)this.textSpans[f].span.style.display="none",f+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var f=this.layerElement.getBBox();this.bbox={top:f.y,left:f.x,width:f.width,height:f.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var f,l=this.textSpans.length,u;for(this.renderedFrame=this.comp.renderedFrame,f=0;f<l;f+=1)u=this.textSpans[f].glyph,u&&(u.prepareFrame(this.comp.renderedFrame-this.data.st),u._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var f,l,u=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;l=c.length;var g,y,m;for(f=0;f<l;f+=1)c[f].n||(g=u[f],y=this.textSpans[f].span,m=this.textSpans[f].glyph,m&&m.renderFrame(),g._mdf.m&&y.setAttribute("transform",g.m),g._mdf.o&&y.setAttribute("opacity",g.o),g._mdf.sw&&y.setAttribute("stroke-width",g.sw),g._mdf.sc&&y.setAttribute("stroke",g.sc),g._mdf.fc&&y.setAttribute("fill",g.fc))}};function ISolidElement(f,l,u){this.initElement(f,l,u)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var f=createNS("rect");f.setAttribute("width",this.data.sw),f.setAttribute("height",this.data.sh),f.setAttribute("fill",this.data.sc),this.layerElement.appendChild(f)};function NullElement(f,l,u){this.initFrame(),this.initBaseData(f,l,u),this.initFrame(),this.initTransform(f,l,u),this.initHierarchy()}NullElement.prototype.prepareFrame=function(f){this.prepareProperties(f,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(f){return new NullElement(f,this.globalData,this)},SVGRendererBase.prototype.createShape=function(f){return new SVGShapeElement(f,this.globalData,this)},SVGRendererBase.prototype.createText=function(f){return new SVGTextLottieElement(f,this.globalData,this)},SVGRendererBase.prototype.createImage=function(f){return new IImageElement(f,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(f){return new ISolidElement(f,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(f){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+f.w+" "+f.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",f.w),this.svgElement.setAttribute("height",f.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var l=this.globalData.defs;this.setupGlobalData(f,l),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=f;var u=createNS("clipPath"),c=createNS("rect");c.setAttribute("width",f.w),c.setAttribute("height",f.h),c.setAttribute("x",0),c.setAttribute("y",0);var g=createElementID();u.setAttribute("id",g),u.appendChild(c),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+g+")"),l.appendChild(u),this.layers=f.layers,this.elements=createSizedArray(f.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var f,l=this.layers?this.layers.length:0;for(f=0;f<l;f+=1)this.elements[f]&&this.elements[f].destroy&&this.elements[f].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(f){var l=0,u=this.layers.length;for(l=0;l<u;l+=1)if(this.layers[l].ind===f)return l;return-1},SVGRendererBase.prototype.buildItem=function(f){var l=this.elements;if(!(l[f]||this.layers[f].ty===99)){l[f]=!0;var u=this.createItem(this.layers[f]);if(l[f]=u,getExpressionsPlugin()&&(this.layers[f].ty===0&&this.globalData.projectInterface.registerComposition(u),u.initExpressions()),this.appendElementInPos(u,f),this.layers[f].tt){var c="tp"in this.layers[f]?this.findIndexByInd(this.layers[f].tp):f-1;if(c===-1)return;if(!this.elements[c]||this.elements[c]===!0)this.buildItem(c),this.addPendingElement(u);else{var g=l[c],y=g.getMatte(this.layers[f].tt);u.setMatte(y)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var f=this.pendingElements.pop();if(f.checkParenting(),f.data.tt)for(var l=0,u=this.elements.length;l<u;){if(this.elements[l]===f){var c="tp"in f.data?this.findIndexByInd(f.data.tp):l-1,g=this.elements[c],y=g.getMatte(this.layers[l].tt);f.setMatte(y);break}l+=1}}},SVGRendererBase.prototype.renderFrame=function(f){if(!(this.renderedFrame===f||this.destroyed)){f===null?f=this.renderedFrame:this.renderedFrame=f,this.globalData.frameNum=f,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=f,this.globalData._mdf=!1;var l,u=this.layers.length;for(this.completeLayers||this.checkLayers(f),l=u-1;l>=0;l-=1)(this.completeLayers||this.elements[l])&&this.elements[l].prepareFrame(f-this.layers[l].st);if(this.globalData._mdf)for(l=0;l<u;l+=1)(this.completeLayers||this.elements[l])&&this.elements[l].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(f,l){var u=f.getBaseElement();if(u){for(var c=0,g;c<l;)this.elements[c]&&this.elements[c]!==!0&&this.elements[c].getBaseElement()&&(g=this.elements[c].getBaseElement()),c+=1;g?this.layerElement.insertBefore(u,g):this.layerElement.appendChild(u)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(f,l,u){this.initFrame(),this.initBaseData(f,l,u),this.initTransform(f,l,u),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!l.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(f){if(this._mdf=!1,this.prepareRenderableFrame(f),this.prepareProperties(f,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=f/this.data.sr;else{var l=this.tm.v;l===this.data.op&&(l=this.data.op-1),this.renderedFrame=l}var u,c=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),u=c-1;u>=0;u-=1)(this.completeLayers||this.elements[u])&&(this.elements[u].prepareFrame(this.renderedFrame-this.layers[u].st),this.elements[u]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var f,l=this.layers.length;for(f=0;f<l;f+=1)(this.completeLayers||this.elements[f])&&this.elements[f].renderFrame()},ICompElement.prototype.setElements=function(f){this.elements=f},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var f,l=this.layers.length;for(f=0;f<l;f+=1)this.elements[f]&&this.elements[f].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(f,l,u){this.layers=f.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(f,l,u),this.tm=f.tm?PropertyFactory.getProp(this,f.tm,0,l.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(f){return new SVGCompElement(f,this.globalData,this)};function SVGRenderer(f,l){this.animationItem=f,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var u="";if(l&&l.title){var c=createNS("title"),g=createElementID();c.setAttribute("id",g),c.textContent=l.title,this.svgElement.appendChild(c),u+=g}if(l&&l.description){var y=createNS("desc"),m=createElementID();y.setAttribute("id",m),y.textContent=l.description,this.svgElement.appendChild(y),u+=" "+m}u&&this.svgElement.setAttribute("aria-labelledby",u);var _=createNS("defs");this.svgElement.appendChild(_);var p=createNS("g");this.svgElement.appendChild(p),this.layerElement=p,this.renderConfig={preserveAspectRatio:l&&l.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:l&&l.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:l&&l.contentVisibility||"visible",progressiveLoad:l&&l.progressiveLoad||!1,hideOnTransparent:!(l&&l.hideOnTransparent===!1),viewBoxOnly:l&&l.viewBoxOnly||!1,viewBoxSize:l&&l.viewBoxSize||!1,className:l&&l.className||"",id:l&&l.id||"",focusable:l&&l.focusable,filterSize:{width:l&&l.filterSize&&l.filterSize.width||"100%",height:l&&l.filterSize&&l.filterSize.height||"100%",x:l&&l.filterSize&&l.filterSize.x||"0%",y:l&&l.filterSize&&l.filterSize.y||"0%"},width:l&&l.width,height:l&&l.height,runExpressions:!l||l.runExpressions===void 0||l.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:_,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(f){return new SVGCompElement(f,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(l){var u,c=l.length,g="_";for(u=0;u<c;u+=1)g+=l[u].transform.key+"_";var y=this.sequences[g];return y||(y={transforms:[].concat(l),finalTransform:new Matrix,_mdf:!1},this.sequences[g]=y,this.sequenceList.push(y)),y},processSequence:function(l,u){for(var c=0,g=l.transforms.length,y=u;c<g&&!u;){if(l.transforms[c].transform.mProps._mdf){y=!0;break}c+=1}if(y)for(l.finalTransform.reset(),c=g-1;c>=0;c-=1)l.finalTransform.multiply(l.transforms[c].transform.mProps.v);l._mdf=y},processSequences:function(l){var u,c=this.sequenceList.length;for(u=0;u<c;u+=1)this.processSequence(this.sequenceList[u],l)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var l="__lottie_element_luma_buffer",u=null,c=null,g=null;function y(){var p=createNS("svg"),x=createNS("filter"),E=createNS("feColorMatrix");return x.setAttribute("id",l),E.setAttribute("type","matrix"),E.setAttribute("color-interpolation-filters","sRGB"),E.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),x.appendChild(E),p.appendChild(x),p.setAttribute("id",l+"_svg"),featureSupport.svgLumaHidden&&(p.style.display="none"),p}function m(){u||(g=y(),document.body.appendChild(g),u=createTag("canvas"),c=u.getContext("2d"),c.filter="url(#"+l+")",c.fillStyle="rgba(0,0,0,0)",c.fillRect(0,0,1,1))}function _(p){return u||m(),u.width=p.width,u.height=p.height,c.filter="url(#"+l+")",u}return{load:m,get:_}};function createCanvas(f,l){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(f,l);var u=createTag("canvas");return u.width=f,u.height=l,u}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(f){var l,u=f.data.ef?f.data.ef.length:0;this.filters=[];var c;for(l=0;l<u;l+=1){c=null;var g=f.data.ef[l].ty;if(registeredEffects[g]){var y=registeredEffects[g].effect;c=new y(f.effectsManager.effectElements[l],f)}c&&this.filters.push(c)}this.filters.length&&f.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(f){var l,u=this.filters.length;for(l=0;l<u;l+=1)this.filters[l].renderFrame(f)},CVEffects.prototype.getEffects=function(f){var l,u=this.filters.length,c=[];for(l=0;l<u;l+=1)this.filters[l].type===f&&c.push(this.filters[l]);return c};function registerEffect(f,l){registeredEffects[f]={effect:l}}function CVMaskElement(f,l){this.data=f,this.element=l,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var u,c=this.masksProperties.length,g=!1;for(u=0;u<c;u+=1)this.masksProperties[u].mode!=="n"&&(g=!0),this.viewData[u]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[u],3);this.hasMasks=g,g&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var f=this.element.finalTransform.mat,l=this.element.canvasContext,u,c=this.masksProperties.length,g,y,m;for(l.beginPath(),u=0;u<c;u+=1)if(this.masksProperties[u].mode!=="n"){this.masksProperties[u].inv&&(l.moveTo(0,0),l.lineTo(this.element.globalData.compSize.w,0),l.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),l.lineTo(0,this.element.globalData.compSize.h),l.lineTo(0,0)),m=this.viewData[u].v,g=f.applyToPointArray(m.v[0][0],m.v[0][1],0),l.moveTo(g[0],g[1]);var _,p=m._length;for(_=1;_<p;_+=1)y=f.applyToTriplePoints(m.o[_-1],m.i[_],m.v[_]),l.bezierCurveTo(y[0],y[1],y[2],y[3],y[4],y[5]);y=f.applyToTriplePoints(m.o[_-1],m.i[0],m.v[0]),l.bezierCurveTo(y[0],y[1],y[2],y[3],y[4],y[5])}this.element.globalData.renderer.save(!0),l.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var l=this.globalData.canvasContext,u=assetLoader.createCanvas(l.canvas.width,l.canvas.height);this.buffers.push(u);var c=assetLoader.createCanvas(l.canvas.width,l.canvas.height);this.buffers.push(c),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var l=this.globalData;if(l.blendMode!==this.data.bm){l.blendMode=this.data.bm;var u=getBlendMode(this.data.bm);l.canvasContext.globalCompositeOperation=u}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(l){l.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var l=this.buffers[0],u=l.getContext("2d");this.clearCanvas(u),u.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var l=this.buffers[1],u=l.getContext("2d");this.clearCanvas(u),u.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var c=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(c.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var g=assetLoader.getLumaCanvas(this.canvasContext.canvas),y=g.getContext("2d");y.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(g,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(l,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(l){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!l)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var u=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(u),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(u),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(f,l,u,c){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var g=4;l.ty==="rc"?g=5:l.ty==="el"?g=6:l.ty==="sr"&&(g=7),this.sh=ShapePropertyFactory.getShapeProp(f,l,g,f);var y,m=u.length,_;for(y=0;y<m;y+=1)u[y].closed||(_={transforms:c.addTransformSequence(u[y].transforms),trNodes:[]},this.styledShapes.push(_),u[y].elements.push(_))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(f,l,u){this.shapes=[],this.shapesData=f.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(f,l){var u={data:f,type:f.ty,preTransforms:this.transformsManager.addTransformSequence(l),transforms:[],elements:[],closed:f.hd===!0},c={};if(f.ty==="fl"||f.ty==="st"?(c.c=PropertyFactory.getProp(this,f.c,1,255,this),c.c.k||(u.co="rgb("+bmFloor(c.c.v[0])+","+bmFloor(c.c.v[1])+","+bmFloor(c.c.v[2])+")")):(f.ty==="gf"||f.ty==="gs")&&(c.s=PropertyFactory.getProp(this,f.s,1,null,this),c.e=PropertyFactory.getProp(this,f.e,1,null,this),c.h=PropertyFactory.getProp(this,f.h||{k:0},0,.01,this),c.a=PropertyFactory.getProp(this,f.a||{k:0},0,degToRads,this),c.g=new GradientProperty(this,f.g,this)),c.o=PropertyFactory.getProp(this,f.o,0,.01,this),f.ty==="st"||f.ty==="gs"){if(u.lc=lineCapEnum[f.lc||2],u.lj=lineJoinEnum[f.lj||2],f.lj==1&&(u.ml=f.ml),c.w=PropertyFactory.getProp(this,f.w,0,null,this),c.w.k||(u.wi=c.w.v),f.d){var g=new DashProperty(this,f.d,"canvas",this);c.d=g,c.d.k||(u.da=c.d.dashArray,u.do=c.d.dashoffset[0])}}else u.r=f.r===2?"evenodd":"nonzero";return this.stylesList.push(u),c.style=u,c},CVShapeElement.prototype.createGroupElement=function(){var f={it:[],prevViewData:[]};return f},CVShapeElement.prototype.createTransformElement=function(f){var l={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,f.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,f,this)}};return l},CVShapeElement.prototype.createShapeElement=function(f){var l=new CVShapeData(this,f,this.stylesList,this.transformsManager);return this.shapes.push(l),this.addShapeToModifiers(l),l},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var f,l=this.itemsData.length;for(f=0;f<l;f+=1)this.prevViewData[f]=this.itemsData[f];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),l=this.dynamicProperties.length,f=0;f<l;f+=1)this.dynamicProperties[f].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(f){var l,u=this.stylesList.length;for(l=0;l<u;l+=1)this.stylesList[l].closed||this.stylesList[l].transforms.push(f)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var f,l=this.stylesList.length;for(f=0;f<l;f+=1)this.stylesList[f].closed||this.stylesList[f].transforms.pop()},CVShapeElement.prototype.closeStyles=function(f){var l,u=f.length;for(l=0;l<u;l+=1)f[l].closed=!0},CVShapeElement.prototype.searchShapes=function(f,l,u,c,g){var y,m=f.length-1,_,p,x=[],E=[],A,b,k,S=[].concat(g);for(y=m;y>=0;y-=1){if(A=this.searchProcessedElement(f[y]),A?l[y]=u[A-1]:f[y]._shouldRender=c,f[y].ty==="fl"||f[y].ty==="st"||f[y].ty==="gf"||f[y].ty==="gs")A?l[y].style.closed=!1:l[y]=this.createStyleElement(f[y],S),x.push(l[y].style);else if(f[y].ty==="gr"){if(!A)l[y]=this.createGroupElement(f[y]);else for(p=l[y].it.length,_=0;_<p;_+=1)l[y].prevViewData[_]=l[y].it[_];this.searchShapes(f[y].it,l[y].it,l[y].prevViewData,c,S)}else f[y].ty==="tr"?(A||(k=this.createTransformElement(f[y]),l[y]=k),S.push(l[y]),this.addTransformToStyleList(l[y])):f[y].ty==="sh"||f[y].ty==="rc"||f[y].ty==="el"||f[y].ty==="sr"?A||(l[y]=this.createShapeElement(f[y])):f[y].ty==="tm"||f[y].ty==="rd"||f[y].ty==="pb"||f[y].ty==="zz"||f[y].ty==="op"?(A?(b=l[y],b.closed=!1):(b=ShapeModifiers.getModifier(f[y].ty),b.init(this,f[y]),l[y]=b,this.shapeModifiers.push(b)),E.push(b)):f[y].ty==="rp"&&(A?(b=l[y],b.closed=!0):(b=ShapeModifiers.getModifier(f[y].ty),l[y]=b,b.init(this,f,y,l),this.shapeModifiers.push(b),c=!1),E.push(b));this.addProcessedElement(f[y],y+1)}for(this.removeTransformFromStyleList(),this.closeStyles(x),m=E.length,y=0;y<m;y+=1)E[y].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(f,l){(f._opMdf||l.op._mdf||this._isFirstFrame)&&(l.opacity=f.opacity,l.opacity*=l.op.v,l._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var f,l=this.stylesList.length,u,c,g,y,m,_,p=this.globalData.renderer,x=this.globalData.canvasContext,E,A;for(f=0;f<l;f+=1)if(A=this.stylesList[f],E=A.type,!((E==="st"||E==="gs")&&A.wi===0||!A.data._shouldRender||A.coOp===0||this.globalData.currentGlobalAlpha===0)){for(p.save(),m=A.elements,E==="st"||E==="gs"?(p.ctxStrokeStyle(E==="st"?A.co:A.grd),p.ctxLineWidth(A.wi),p.ctxLineCap(A.lc),p.ctxLineJoin(A.lj),p.ctxMiterLimit(A.ml||0)):p.ctxFillStyle(E==="fl"?A.co:A.grd),p.ctxOpacity(A.coOp),E!=="st"&&E!=="gs"&&x.beginPath(),p.ctxTransform(A.preTransforms.finalTransform.props),c=m.length,u=0;u<c;u+=1){for((E==="st"||E==="gs")&&(x.beginPath(),A.da&&(x.setLineDash(A.da),x.lineDashOffset=A.do)),_=m[u].trNodes,y=_.length,g=0;g<y;g+=1)_[g].t==="m"?x.moveTo(_[g].p[0],_[g].p[1]):_[g].t==="c"?x.bezierCurveTo(_[g].pts[0],_[g].pts[1],_[g].pts[2],_[g].pts[3],_[g].pts[4],_[g].pts[5]):x.closePath();(E==="st"||E==="gs")&&(p.ctxStroke(),A.da&&x.setLineDash(this.dashResetter))}E!=="st"&&E!=="gs"&&this.globalData.renderer.ctxFill(A.r),p.restore()}},CVShapeElement.prototype.renderShape=function(f,l,u,c){var g,y=l.length-1,m;for(m=f,g=y;g>=0;g-=1)l[g].ty==="tr"?(m=u[g].transform,this.renderShapeTransform(f,m)):l[g].ty==="sh"||l[g].ty==="el"||l[g].ty==="rc"||l[g].ty==="sr"?this.renderPath(l[g],u[g]):l[g].ty==="fl"?this.renderFill(l[g],u[g],m):l[g].ty==="st"?this.renderStroke(l[g],u[g],m):l[g].ty==="gf"||l[g].ty==="gs"?this.renderGradientFill(l[g],u[g],m):l[g].ty==="gr"?this.renderShape(m,l[g].it,u[g].it):l[g].ty;c&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(f,l){if(this._isFirstFrame||l._mdf||f.transforms._mdf){var u=f.trNodes,c=l.paths,g,y,m,_=c._length;u.length=0;var p=f.transforms.finalTransform;for(m=0;m<_;m+=1){var x=c.shapes[m];if(x&&x.v){for(y=x._length,g=1;g<y;g+=1)g===1&&u.push({t:"m",p:p.applyToPointArray(x.v[0][0],x.v[0][1],0)}),u.push({t:"c",pts:p.applyToTriplePoints(x.o[g-1],x.i[g],x.v[g])});y===1&&u.push({t:"m",p:p.applyToPointArray(x.v[0][0],x.v[0][1],0)}),x.c&&y&&(u.push({t:"c",pts:p.applyToTriplePoints(x.o[g-1],x.i[0],x.v[0])}),u.push({t:"z"}))}}f.trNodes=u}},CVShapeElement.prototype.renderPath=function(f,l){if(f.hd!==!0&&f._shouldRender){var u,c=l.styledShapes.length;for(u=0;u<c;u+=1)this.renderStyledShape(l.styledShapes[u],l.sh)}},CVShapeElement.prototype.renderFill=function(f,l,u){var c=l.style;(l.c._mdf||this._isFirstFrame)&&(c.co="rgb("+bmFloor(l.c.v[0])+","+bmFloor(l.c.v[1])+","+bmFloor(l.c.v[2])+")"),(l.o._mdf||u._opMdf||this._isFirstFrame)&&(c.coOp=l.o.v*u.opacity)},CVShapeElement.prototype.renderGradientFill=function(f,l,u){var c=l.style,g;if(!c.grd||l.g._mdf||l.s._mdf||l.e._mdf||f.t!==1&&(l.h._mdf||l.a._mdf)){var y=this.globalData.canvasContext,m=l.s.v,_=l.e.v;if(f.t===1)g=y.createLinearGradient(m[0],m[1],_[0],_[1]);else{var p=Math.sqrt(Math.pow(m[0]-_[0],2)+Math.pow(m[1]-_[1],2)),x=Math.atan2(_[1]-m[1],_[0]-m[0]),E=l.h.v;E>=1?E=.99:E<=-1&&(E=-.99);var A=p*E,b=Math.cos(x+l.a.v)*A+m[0],k=Math.sin(x+l.a.v)*A+m[1];g=y.createRadialGradient(b,k,0,m[0],m[1],p)}var S,T=f.g.p,P=l.g.c,C=1;for(S=0;S<T;S+=1)l.g._hasOpacity&&l.g._collapsable&&(C=l.g.o[S*2+1]),g.addColorStop(P[S*4]/100,"rgba("+P[S*4+1]+","+P[S*4+2]+","+P[S*4+3]+","+C+")");c.grd=g}c.coOp=l.o.v*u.opacity},CVShapeElement.prototype.renderStroke=function(f,l,u){var c=l.style,g=l.d;g&&(g._mdf||this._isFirstFrame)&&(c.da=g.dashArray,c.do=g.dashoffset[0]),(l.c._mdf||this._isFirstFrame)&&(c.co="rgb("+bmFloor(l.c.v[0])+","+bmFloor(l.c.v[1])+","+bmFloor(l.c.v[2])+")"),(l.o._mdf||u._opMdf||this._isFirstFrame)&&(c.coOp=l.o.v*u.opacity),(l.w._mdf||this._isFirstFrame)&&(c.wi=l.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(f,l,u){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var f=this.textProperty.currentData;this.renderedLetters=createSizedArray(f.l?f.l.length:0);var l=!1;f.fc?(l=!0,this.values.fill=this.buildColor(f.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=l;var u=!1;f.sc&&(u=!0,this.values.stroke=this.buildColor(f.sc),this.values.sWidth=f.sw);var c=this.globalData.fontManager.getFontByName(f.f),g,y,m=f.l,_=this.mHelper;this.stroke=u,this.values.fValue=f.finalSize+"px "+this.globalData.fontManager.getFontByName(f.f).fFamily,y=f.finalText.length;var p,x,E,A,b,k,S,T,P,C,M=this.data.singleShape,j=f.tr*.001*f.finalSize,I=0,O=0,R=!0,D=0;for(g=0;g<y;g+=1){p=this.globalData.fontManager.getCharData(f.finalText[g],c.fStyle,this.globalData.fontManager.getFontByName(f.f).fFamily),x=p&&p.data||{},_.reset(),M&&m[g].n&&(I=-j,O+=f.yOffset,O+=R?1:0,R=!1),b=x.shapes?x.shapes[0].it:[],S=b.length,_.scale(f.finalSize/100,f.finalSize/100),M&&this.applyTextPropertiesToMatrix(f,_,m[g].line,I,O),P=createSizedArray(S-1);var N=0;for(k=0;k<S;k+=1)if(b[k].ty==="sh"){for(A=b[k].ks.k.i.length,T=b[k].ks.k,C=[],E=1;E<A;E+=1)E===1&&C.push(_.applyToX(T.v[0][0],T.v[0][1],0),_.applyToY(T.v[0][0],T.v[0][1],0)),C.push(_.applyToX(T.o[E-1][0],T.o[E-1][1],0),_.applyToY(T.o[E-1][0],T.o[E-1][1],0),_.applyToX(T.i[E][0],T.i[E][1],0),_.applyToY(T.i[E][0],T.i[E][1],0),_.applyToX(T.v[E][0],T.v[E][1],0),_.applyToY(T.v[E][0],T.v[E][1],0));C.push(_.applyToX(T.o[E-1][0],T.o[E-1][1],0),_.applyToY(T.o[E-1][0],T.o[E-1][1],0),_.applyToX(T.i[0][0],T.i[0][1],0),_.applyToY(T.i[0][0],T.i[0][1],0),_.applyToX(T.v[0][0],T.v[0][1],0),_.applyToY(T.v[0][0],T.v[0][1],0)),P[N]=C,N+=1}M&&(I+=m[g].l,I+=j),this.textSpans[D]?this.textSpans[D].elem=P:this.textSpans[D]={elem:P},D+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var f=this.canvasContext;f.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var l,u,c,g,y,m,_=this.textAnimator.renderedLetters,p=this.textProperty.currentData.l;u=p.length;var x,E=null,A=null,b=null,k,S,T=this.globalData.renderer;for(l=0;l<u;l+=1)if(!p[l].n){if(x=_[l],x&&(T.save(),T.ctxTransform(x.p),T.ctxOpacity(x.o)),this.fill){for(x&&x.fc?E!==x.fc&&(T.ctxFillStyle(x.fc),E=x.fc):E!==this.values.fill&&(E=this.values.fill,T.ctxFillStyle(this.values.fill)),k=this.textSpans[l].elem,g=k.length,this.globalData.canvasContext.beginPath(),c=0;c<g;c+=1)for(S=k[c],m=S.length,this.globalData.canvasContext.moveTo(S[0],S[1]),y=2;y<m;y+=6)this.globalData.canvasContext.bezierCurveTo(S[y],S[y+1],S[y+2],S[y+3],S[y+4],S[y+5]);this.globalData.canvasContext.closePath(),T.ctxFill()}if(this.stroke){for(x&&x.sw?b!==x.sw&&(b=x.sw,T.ctxLineWidth(x.sw)):b!==this.values.sWidth&&(b=this.values.sWidth,T.ctxLineWidth(this.values.sWidth)),x&&x.sc?A!==x.sc&&(A=x.sc,T.ctxStrokeStyle(x.sc)):A!==this.values.stroke&&(A=this.values.stroke,T.ctxStrokeStyle(this.values.stroke)),k=this.textSpans[l].elem,g=k.length,this.globalData.canvasContext.beginPath(),c=0;c<g;c+=1)for(S=k[c],m=S.length,this.globalData.canvasContext.moveTo(S[0],S[1]),y=2;y<m;y+=6)this.globalData.canvasContext.bezierCurveTo(S[y],S[y+1],S[y+2],S[y+3],S[y+4],S[y+5]);this.globalData.canvasContext.closePath(),T.ctxStroke()}x&&this.globalData.renderer.restore()}};function CVImageElement(f,l,u){this.assetData=l.getAssetData(f.refId),this.img=l.imageLoader.getAsset(this.assetData),this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var f=createTag("canvas");f.width=this.assetData.w,f.height=this.assetData.h;var l=f.getContext("2d"),u=this.img.width,c=this.img.height,g=u/c,y=this.assetData.w/this.assetData.h,m,_,p=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;g>y&&p==="xMidYMid slice"||g<y&&p!=="xMidYMid slice"?(_=c,m=_*y):(m=u,_=m/y),l.drawImage(this.img,(u-m)/2,(c-_)/2,m,_,0,0,this.assetData.w,this.assetData.h),this.img=f}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(f,l,u){this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(f){return new CVShapeElement(f,this.globalData,this)},CanvasRendererBase.prototype.createText=function(f){return new CVTextElement(f,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(f){return new CVImageElement(f,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(f){return new CVSolidElement(f,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(f){f[0]===1&&f[1]===0&&f[4]===0&&f[5]===1&&f[12]===0&&f[13]===0||this.canvasContext.transform(f[0],f[1],f[4],f[5],f[12],f[13])},CanvasRendererBase.prototype.ctxOpacity=function(f){this.canvasContext.globalAlpha*=f<0?0:f},CanvasRendererBase.prototype.ctxFillStyle=function(f){this.canvasContext.fillStyle=f},CanvasRendererBase.prototype.ctxStrokeStyle=function(f){this.canvasContext.strokeStyle=f},CanvasRendererBase.prototype.ctxLineWidth=function(f){this.canvasContext.lineWidth=f},CanvasRendererBase.prototype.ctxLineCap=function(f){this.canvasContext.lineCap=f},CanvasRendererBase.prototype.ctxLineJoin=function(f){this.canvasContext.lineJoin=f},CanvasRendererBase.prototype.ctxMiterLimit=function(f){this.canvasContext.miterLimit=f},CanvasRendererBase.prototype.ctxFill=function(f){this.canvasContext.fill(f)},CanvasRendererBase.prototype.ctxFillRect=function(f,l,u,c){this.canvasContext.fillRect(f,l,u,c)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(f){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}f&&(this.globalData.blendMode="source-over"),this.contextData.restore(f)},CanvasRendererBase.prototype.configAnimation=function(f){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var l=this.animationItem.container.style;l.width="100%",l.height="100%";var u="0px 0px 0px";l.transformOrigin=u,l.mozTransformOrigin=u,l.webkitTransformOrigin=u,l["-webkit-transform"]=u,l.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=f,this.layers=f.layers,this.transformCanvas={w:f.w,h:f.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(f,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(f.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(f,l){this.reset();var u,c;f?(u=f,c=l,this.canvasContext.canvas.width=u,this.canvasContext.canvas.height=c):(this.animationItem.wrapper&&this.animationItem.container?(u=this.animationItem.wrapper.offsetWidth,c=this.animationItem.wrapper.offsetHeight):(u=this.canvasContext.canvas.width,c=this.canvasContext.canvas.height),this.canvasContext.canvas.width=u*this.renderConfig.dpr,this.canvasContext.canvas.height=c*this.renderConfig.dpr);var g,y;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var m=this.renderConfig.preserveAspectRatio.split(" "),_=m[1]||"meet",p=m[0]||"xMidYMid",x=p.substr(0,4),E=p.substr(4);g=u/c,y=this.transformCanvas.w/this.transformCanvas.h,y>g&&_==="meet"||y<g&&_==="slice"?(this.transformCanvas.sx=u/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=u/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=c/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=c/(this.transformCanvas.h/this.renderConfig.dpr)),x==="xMid"&&(y<g&&_==="meet"||y>g&&_==="slice")?this.transformCanvas.tx=(u-this.transformCanvas.w*(c/this.transformCanvas.h))/2*this.renderConfig.dpr:x==="xMax"&&(y<g&&_==="meet"||y>g&&_==="slice")?this.transformCanvas.tx=(u-this.transformCanvas.w*(c/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,E==="YMid"&&(y>g&&_==="meet"||y<g&&_==="slice")?this.transformCanvas.ty=(c-this.transformCanvas.h*(u/this.transformCanvas.w))/2*this.renderConfig.dpr:E==="YMax"&&(y>g&&_==="meet"||y<g&&_==="slice")?this.transformCanvas.ty=(c-this.transformCanvas.h*(u/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=u/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=c/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var f,l=this.layers?this.layers.length:0;for(f=l-1;f>=0;f-=1)this.elements[f]&&this.elements[f].destroy&&this.elements[f].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(f,l){if(!(this.renderedFrame===f&&this.renderConfig.clearCanvas===!0&&!l||this.destroyed||f===-1)){this.renderedFrame=f,this.globalData.frameNum=f-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||l,this.globalData.projectInterface.currentFrame=f;var u,c=this.layers.length;for(this.completeLayers||this.checkLayers(f),u=c-1;u>=0;u-=1)(this.completeLayers||this.elements[u])&&this.elements[u].prepareFrame(f-this.layers[u].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),u=c-1;u>=0;u-=1)(this.completeLayers||this.elements[u])&&this.elements[u].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(f){var l=this.elements;if(!(l[f]||this.layers[f].ty===99)){var u=this.createItem(this.layers[f],this,this.globalData);l[f]=u,u.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var f=this.pendingElements.pop();f.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var f,l=15;for(f=0;f<l;f+=1){var u=new CanvasContext;this.stack[f]=u}this._length=l,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var f=this._length*2,l=0;for(l=this._length;l<f;l+=1)this.stack[l]=new CanvasContext;this._length=f},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(f){this.cArrPos-=1;var l=this.stack[this.cArrPos],u=l.transform,c,g=this.cTr.props;for(c=0;c<16;c+=1)g[c]=u[c];if(f){this.nativeContext.restore();var y=this.stack[this.cArrPos+1];this.appliedFillStyle=y.fillStyle,this.appliedStrokeStyle=y.strokeStyle,this.appliedLineWidth=y.lineWidth,this.appliedLineCap=y.lineCap,this.appliedLineJoin=y.lineJoin,this.appliedMiterLimit=y.miterLimit}this.nativeContext.setTransform(u[0],u[1],u[4],u[5],u[12],u[13]),(f||l.opacity!==-1&&this.currentOpacity!==l.opacity)&&(this.nativeContext.globalAlpha=l.opacity,this.currentOpacity=l.opacity),this.currentFillStyle=l.fillStyle,this.currentStrokeStyle=l.strokeStyle,this.currentLineWidth=l.lineWidth,this.currentLineCap=l.lineCap,this.currentLineJoin=l.lineJoin,this.currentMiterLimit=l.miterLimit},CVContextData.prototype.save=function(f){f&&this.nativeContext.save();var l=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var u=this.stack[this.cArrPos],c;for(c=0;c<16;c+=1)u.transform[c]=l[c];this.cArrPos+=1;var g=this.stack[this.cArrPos];g.opacity=u.opacity,g.fillStyle=u.fillStyle,g.strokeStyle=u.strokeStyle,g.lineWidth=u.lineWidth,g.lineCap=u.lineCap,g.lineJoin=u.lineJoin,g.miterLimit=u.miterLimit},CVContextData.prototype.setOpacity=function(f){this.stack[this.cArrPos].opacity=f},CVContextData.prototype.setContext=function(f){this.nativeContext=f},CVContextData.prototype.fillStyle=function(f){this.stack[this.cArrPos].fillStyle!==f&&(this.currentFillStyle=f,this.stack[this.cArrPos].fillStyle=f)},CVContextData.prototype.strokeStyle=function(f){this.stack[this.cArrPos].strokeStyle!==f&&(this.currentStrokeStyle=f,this.stack[this.cArrPos].strokeStyle=f)},CVContextData.prototype.lineWidth=function(f){this.stack[this.cArrPos].lineWidth!==f&&(this.currentLineWidth=f,this.stack[this.cArrPos].lineWidth=f)},CVContextData.prototype.lineCap=function(f){this.stack[this.cArrPos].lineCap!==f&&(this.currentLineCap=f,this.stack[this.cArrPos].lineCap=f)},CVContextData.prototype.lineJoin=function(f){this.stack[this.cArrPos].lineJoin!==f&&(this.currentLineJoin=f,this.stack[this.cArrPos].lineJoin=f)},CVContextData.prototype.miterLimit=function(f){this.stack[this.cArrPos].miterLimit!==f&&(this.currentMiterLimit=f,this.stack[this.cArrPos].miterLimit=f)},CVContextData.prototype.transform=function(f){this.transformMat.cloneFromProps(f);var l=this.cTr;this.transformMat.multiply(l),l.cloneFromProps(this.transformMat.props);var u=l.props;this.nativeContext.setTransform(u[0],u[1],u[4],u[5],u[12],u[13])},CVContextData.prototype.opacity=function(f){var l=this.stack[this.cArrPos].opacity;l*=f<0?0:f,this.stack[this.cArrPos].opacity!==l&&(this.currentOpacity!==f&&(this.nativeContext.globalAlpha=f,this.currentOpacity=f),this.stack[this.cArrPos].opacity=l)},CVContextData.prototype.fill=function(f){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(f)},CVContextData.prototype.fillRect=function(f,l,u,c){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(f,l,u,c)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(f,l,u){this.completeLayers=!1,this.layers=f.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(f,l,u),this.tm=f.tm?PropertyFactory.getProp(this,f.tm,0,l.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var f=this.canvasContext;f.beginPath(),f.moveTo(0,0),f.lineTo(this.data.w,0),f.lineTo(this.data.w,this.data.h),f.lineTo(0,this.data.h),f.lineTo(0,0),f.clip();var l,u=this.layers.length;for(l=u-1;l>=0;l-=1)(this.completeLayers||this.elements[l])&&this.elements[l].renderFrame()},CVCompElement.prototype.destroy=function(){var f,l=this.layers.length;for(f=l-1;f>=0;f-=1)this.elements[f]&&this.elements[f].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(f){return new CVCompElement(f,this.globalData,this)};function CanvasRenderer(f,l){this.animationItem=f,this.renderConfig={clearCanvas:l&&l.clearCanvas!==void 0?l.clearCanvas:!0,context:l&&l.context||null,progressiveLoad:l&&l.progressiveLoad||!1,preserveAspectRatio:l&&l.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:l&&l.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:l&&l.contentVisibility||"visible",className:l&&l.className||"",id:l&&l.id||"",runExpressions:!l||l.runExpressions===void 0||l.runExpressions},this.renderConfig.dpr=l&&l.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=l&&l.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(f){return new CVCompElement(f,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var l=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var u=this.finalTransform.mat.toCSS();l.transform=u,l.webkitTransform=u}this.finalTransform._opMdf&&(l.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(f,l,u){this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var f;this.data.hasMask?(f=createNS("rect"),f.setAttribute("width",this.data.sw),f.setAttribute("height",this.data.sh),f.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(f=createTag("div"),f.style.width=this.data.sw+"px",f.style.height=this.data.sh+"px",f.style.backgroundColor=this.data.sc),this.layerElement.appendChild(f)};function HShapeElement(f,l,u){this.shapes=[],this.shapesData=f.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(f,l,u),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var f;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),f=this.svgElement;else{f=createNS("svg");var l=this.comp.data?this.comp.data:this.globalData.compSize;f.setAttribute("width",l.w),f.setAttribute("height",l.h),f.appendChild(this.shapesContainer),this.layerElement.appendChild(f)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=f},HShapeElement.prototype.getTransformedPoint=function(f,l){var u,c=f.length;for(u=0;u<c;u+=1)l=f[u].mProps.v.applyToPointArray(l[0],l[1],0);return l},HShapeElement.prototype.calculateShapeBoundingBox=function(f,l){var u=f.sh.v,c=f.transformers,g,y=u._length,m,_,p,x;if(!(y<=1)){for(g=0;g<y-1;g+=1)m=this.getTransformedPoint(c,u.v[g]),_=this.getTransformedPoint(c,u.o[g]),p=this.getTransformedPoint(c,u.i[g+1]),x=this.getTransformedPoint(c,u.v[g+1]),this.checkBounds(m,_,p,x,l);u.c&&(m=this.getTransformedPoint(c,u.v[g]),_=this.getTransformedPoint(c,u.o[g]),p=this.getTransformedPoint(c,u.i[0]),x=this.getTransformedPoint(c,u.v[0]),this.checkBounds(m,_,p,x,l))}},HShapeElement.prototype.checkBounds=function(f,l,u,c,g){this.getBoundsOfCurve(f,l,u,c);var y=this.shapeBoundingBox;g.x=bmMin(y.left,g.x),g.xMax=bmMax(y.right,g.xMax),g.y=bmMin(y.top,g.y),g.yMax=bmMax(y.bottom,g.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(f,l,u,c){for(var g=[[f[0],c[0]],[f[1],c[1]]],y,m,_,p,x,E,A,b=0;b<2;++b)m=6*f[b]-12*l[b]+6*u[b],y=-3*f[b]+9*l[b]-9*u[b]+3*c[b],_=3*l[b]-3*f[b],m|=0,y|=0,_|=0,y===0&&m===0||(y===0?(p=-_/m,p>0&&p<1&&g[b].push(this.calculateF(p,f,l,u,c,b))):(x=m*m-4*_*y,x>=0&&(E=(-m+bmSqrt(x))/(2*y),E>0&&E<1&&g[b].push(this.calculateF(E,f,l,u,c,b)),A=(-m-bmSqrt(x))/(2*y),A>0&&A<1&&g[b].push(this.calculateF(A,f,l,u,c,b)))));this.shapeBoundingBox.left=bmMin.apply(null,g[0]),this.shapeBoundingBox.top=bmMin.apply(null,g[1]),this.shapeBoundingBox.right=bmMax.apply(null,g[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,g[1])},HShapeElement.prototype.calculateF=function(f,l,u,c,g,y){return bmPow(1-f,3)*l[y]+3*bmPow(1-f,2)*f*u[y]+3*(1-f)*bmPow(f,2)*c[y]+bmPow(f,3)*g[y]},HShapeElement.prototype.calculateBoundingBox=function(f,l){var u,c=f.length;for(u=0;u<c;u+=1)f[u]&&f[u].sh?this.calculateShapeBoundingBox(f[u],l):f[u]&&f[u].it?this.calculateBoundingBox(f[u].it,l):f[u]&&f[u].style&&f[u].w&&this.expandStrokeBoundingBox(f[u].w,l)},HShapeElement.prototype.expandStrokeBoundingBox=function(f,l){var u=0;if(f.keyframes){for(var c=0;c<f.keyframes.length;c+=1){var g=f.keyframes[c].s;g>u&&(u=g)}u*=f.mult}else u=f.v*f.mult;l.x-=u,l.xMax+=u,l.y-=u,l.yMax+=u},HShapeElement.prototype.currentBoxContains=function(f){return this.currentBBox.x<=f.x&&this.currentBBox.y<=f.y&&this.currentBBox.width+this.currentBBox.x>=f.x+f.width&&this.currentBBox.height+this.currentBBox.y>=f.y+f.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var f=this.tempBoundingBox,l=999999;if(f.x=l,f.xMax=-l,f.y=l,f.yMax=-l,this.calculateBoundingBox(this.itemsData,f),f.width=f.xMax<f.x?0:f.xMax-f.x,f.height=f.yMax<f.y?0:f.yMax-f.y,this.currentBoxContains(f))return;var u=!1;if(this.currentBBox.w!==f.width&&(this.currentBBox.w=f.width,this.shapeCont.setAttribute("width",f.width),u=!0),this.currentBBox.h!==f.height&&(this.currentBBox.h=f.height,this.shapeCont.setAttribute("height",f.height),u=!0),u||this.currentBBox.x!==f.x||this.currentBBox.y!==f.y){this.currentBBox.w=f.width,this.currentBBox.h=f.height,this.currentBBox.x=f.x,this.currentBBox.y=f.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var c=this.shapeCont.style,g="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";c.transform=g,c.webkitTransform=g}}};function HTextElement(f,l,u){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var f=createNS("g");this.maskedElement.appendChild(f),this.innerElem=f}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var f=this.textProperty.currentData;this.renderedLetters=createSizedArray(f.l?f.l.length:0);var l=this.innerElem.style,u=f.fc?this.buildColor(f.fc):"rgba(0,0,0,0)";l.fill=u,l.color=u,f.sc&&(l.stroke=this.buildColor(f.sc),l.strokeWidth=f.sw+"px");var c=this.globalData.fontManager.getFontByName(f.f);if(!this.globalData.fontManager.chars)if(l.fontSize=f.finalSize+"px",l.lineHeight=f.finalSize+"px",c.fClass)this.innerElem.className=c.fClass;else{l.fontFamily=c.fFamily;var g=f.fWeight,y=f.fStyle;l.fontStyle=y,l.fontWeight=g}var m,_,p=f.l;_=p.length;var x,E,A,b=this.mHelper,k,S="",T=0;for(m=0;m<_;m+=1){if(this.globalData.fontManager.chars?(this.textPaths[T]?x=this.textPaths[T]:(x=createNS("path"),x.setAttribute("stroke-linecap",lineCapEnum[1]),x.setAttribute("stroke-linejoin",lineJoinEnum[2]),x.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[T]?(E=this.textSpans[T],A=E.children[0]):(E=createTag("div"),E.style.lineHeight=0,A=createNS("svg"),A.appendChild(x),styleDiv(E)))):this.isMasked?x=this.textPaths[T]?this.textPaths[T]:createNS("text"):this.textSpans[T]?(E=this.textSpans[T],x=this.textPaths[T]):(E=createTag("span"),styleDiv(E),x=createTag("span"),styleDiv(x),E.appendChild(x)),this.globalData.fontManager.chars){var P=this.globalData.fontManager.getCharData(f.finalText[m],c.fStyle,this.globalData.fontManager.getFontByName(f.f).fFamily),C;if(P?C=P.data:C=null,b.reset(),C&&C.shapes&&C.shapes.length&&(k=C.shapes[0].it,b.scale(f.finalSize/100,f.finalSize/100),S=this.createPathShape(b,k),x.setAttribute("d",S)),this.isMasked)this.innerElem.appendChild(x);else{if(this.innerElem.appendChild(E),C&&C.shapes){document.body.appendChild(A);var M=A.getBBox();A.setAttribute("width",M.width+2),A.setAttribute("height",M.height+2),A.setAttribute("viewBox",M.x-1+" "+(M.y-1)+" "+(M.width+2)+" "+(M.height+2));var j=A.style,I="translate("+(M.x-1)+"px,"+(M.y-1)+"px)";j.transform=I,j.webkitTransform=I,p[m].yOffset=M.y-1}else A.setAttribute("width",1),A.setAttribute("height",1);E.appendChild(A)}}else if(x.textContent=p[m].val,x.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(x);else{this.innerElem.appendChild(E);var O=x.style,R="translate3d(0,"+-f.finalSize/1.2+"px,0)";O.transform=R,O.webkitTransform=R}this.isMasked?this.textSpans[T]=x:this.textSpans[T]=E,this.textSpans[T].style.display="block",this.textPaths[T]=x,T+=1}for(;T<this.textSpans.length;)this.textSpans[T].style.display="none",T+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var f;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),f=this.svgElement.style;var l="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";f.transform=l,f.webkitTransform=l}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var u,c,g=0,y=this.textAnimator.renderedLetters,m=this.textProperty.currentData.l;c=m.length;var _,p,x;for(u=0;u<c;u+=1)m[u].n?g+=1:(p=this.textSpans[u],x=this.textPaths[u],_=y[g],g+=1,_._mdf.m&&(this.isMasked?p.setAttribute("transform",_.m):(p.style.webkitTransform=_.m,p.style.transform=_.m)),p.style.opacity=_.o,_.sw&&_._mdf.sw&&x.setAttribute("stroke-width",_.sw),_.sc&&_._mdf.sc&&x.setAttribute("stroke",_.sc),_.fc&&_._mdf.fc&&(x.setAttribute("fill",_.fc),x.style.color=_.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var E=this.innerElem.getBBox();this.currentBBox.w!==E.width&&(this.currentBBox.w=E.width,this.svgElement.setAttribute("width",E.width)),this.currentBBox.h!==E.height&&(this.currentBBox.h=E.height,this.svgElement.setAttribute("height",E.height));var A=1;if(this.currentBBox.w!==E.width+A*2||this.currentBBox.h!==E.height+A*2||this.currentBBox.x!==E.x-A||this.currentBBox.y!==E.y-A){this.currentBBox.w=E.width+A*2,this.currentBBox.h=E.height+A*2,this.currentBBox.x=E.x-A,this.currentBBox.y=E.y-A,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),f=this.svgElement.style;var b="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";f.transform=b,f.webkitTransform=b}}}};function HCameraElement(f,l,u){this.initFrame(),this.initBaseData(f,l,u),this.initHierarchy();var c=PropertyFactory.getProp;if(this.pe=c(this,f.pe,0,0,this),f.ks.p.s?(this.px=c(this,f.ks.p.x,1,0,this),this.py=c(this,f.ks.p.y,1,0,this),this.pz=c(this,f.ks.p.z,1,0,this)):this.p=c(this,f.ks.p,1,0,this),f.ks.a&&(this.a=c(this,f.ks.a,1,0,this)),f.ks.or.k.length&&f.ks.or.k[0].to){var g,y=f.ks.or.k.length;for(g=0;g<y;g+=1)f.ks.or.k[g].to=null,f.ks.or.k[g].ti=null}this.or=c(this,f.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=c(this,f.ks.rx,0,degToRads,this),this.ry=c(this,f.ks.ry,0,degToRads,this),this.rz=c(this,f.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var f,l=this.comp.threeDElements.length,u,c,g;for(f=0;f<l;f+=1)if(u=this.comp.threeDElements[f],u.type==="3d"){c=u.perspectiveElem.style,g=u.container.style;var y=this.pe.v+"px",m="0px 0px 0px",_="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";c.perspective=y,c.webkitPerspective=y,g.transformOrigin=m,g.mozTransformOrigin=m,g.webkitTransformOrigin=m,c.transform=_,c.webkitTransform=_}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var f=this._isFirstFrame,l,u;if(this.hierarchy)for(u=this.hierarchy.length,l=0;l<u;l+=1)f=this.hierarchy[l].finalTransform.mProp._mdf||f;if(f||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(u=this.hierarchy.length-1,l=u;l>=0;l-=1){var c=this.hierarchy[l].finalTransform.mProp;this.mat.translate(-c.p.v[0],-c.p.v[1],c.p.v[2]),this.mat.rotateX(-c.or.v[0]).rotateY(-c.or.v[1]).rotateZ(c.or.v[2]),this.mat.rotateX(-c.rx.v).rotateY(-c.ry.v).rotateZ(c.rz.v),this.mat.scale(1/c.s.v[0],1/c.s.v[1],1/c.s.v[2]),this.mat.translate(c.a.v[0],c.a.v[1],c.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var g;this.p?g=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:g=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var y=Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2)+Math.pow(g[2],2)),m=[g[0]/y,g[1]/y,g[2]/y],_=Math.sqrt(m[2]*m[2]+m[0]*m[0]),p=Math.atan2(m[1],_),x=Math.atan2(m[0],-m[2]);this.mat.rotateY(x).rotateX(-p)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var E=!this._prevMat.equals(this.mat);if((E||this.pe._mdf)&&this.comp.threeDElements){u=this.comp.threeDElements.length;var A,b,k;for(l=0;l<u;l+=1)if(A=this.comp.threeDElements[l],A.type==="3d"){if(E){var S=this.mat.toCSS();k=A.container.style,k.transform=S,k.webkitTransform=S}this.pe._mdf&&(b=A.perspectiveElem.style,b.perspective=this.pe.v+"px",b.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(f){this.prepareProperties(f,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(f,l,u){this.assetData=l.getAssetData(f.refId),this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var f=this.globalData.getAssetsPath(this.assetData),l=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",f),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(l),l.crossOrigin="anonymous",l.src=f,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(f,l){this.animationItem=f,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:l&&l.className||"",imagePreserveAspectRatio:l&&l.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(l&&l.hideOnTransparent===!1),filterSize:{width:l&&l.filterSize&&l.filterSize.width||"400%",height:l&&l.filterSize&&l.filterSize.height||"400%",x:l&&l.filterSize&&l.filterSize.x||"-100%",y:l&&l.filterSize&&l.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var f=this.pendingElements.pop();f.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(f,l){var u=f.getBaseElement();if(u){var c=this.layers[l];if(!c.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(u,l);else{for(var g=0,y,m,_;g<l;)this.elements[g]&&this.elements[g]!==!0&&this.elements[g].getBaseElement&&(m=this.elements[g],_=this.layers[g].ddd?this.getThreeDContainerByPos(g):m.getBaseElement(),y=_||y),g+=1;y?(!c.ddd||!this.supports3d)&&this.layerElement.insertBefore(u,y):(!c.ddd||!this.supports3d)&&this.layerElement.appendChild(u)}else this.addTo3dContainer(u,l)}},HybridRendererBase.prototype.createShape=function(f){return this.supports3d?new HShapeElement(f,this.globalData,this):new SVGShapeElement(f,this.globalData,this)},HybridRendererBase.prototype.createText=function(f){return this.supports3d?new HTextElement(f,this.globalData,this):new SVGTextLottieElement(f,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(f){return this.camera=new HCameraElement(f,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(f){return this.supports3d?new HImageElement(f,this.globalData,this):new IImageElement(f,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(f){return this.supports3d?new HSolidElement(f,this.globalData,this):new ISolidElement(f,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(f){for(var l=0,u=this.threeDElements.length;l<u;){if(this.threeDElements[l].startPos<=f&&this.threeDElements[l].endPos>=f)return this.threeDElements[l].perspectiveElem;l+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(f,l){var u=createTag("div"),c,g;styleDiv(u);var y=createTag("div");if(styleDiv(y),l==="3d"){c=u.style,c.width=this.globalData.compSize.w+"px",c.height=this.globalData.compSize.h+"px";var m="50% 50%";c.webkitTransformOrigin=m,c.mozTransformOrigin=m,c.transformOrigin=m,g=y.style;var _="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";g.transform=_,g.webkitTransform=_}u.appendChild(y);var p={container:y,perspectiveElem:u,startPos:f,endPos:f,type:l};return this.threeDElements.push(p),p},HybridRendererBase.prototype.build3dContainers=function(){var f,l=this.layers.length,u,c="";for(f=0;f<l;f+=1)this.layers[f].ddd&&this.layers[f].ty!==3?(c!=="3d"&&(c="3d",u=this.createThreeDContainer(f,"3d")),u.endPos=Math.max(u.endPos,f)):(c!=="2d"&&(c="2d",u=this.createThreeDContainer(f,"2d")),u.endPos=Math.max(u.endPos,f));for(l=this.threeDElements.length,f=l-1;f>=0;f-=1)this.resizerElem.appendChild(this.threeDElements[f].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(f,l){for(var u=0,c=this.threeDElements.length;u<c;){if(l<=this.threeDElements[u].endPos){for(var g=this.threeDElements[u].startPos,y;g<l;)this.elements[g]&&this.elements[g].getBaseElement&&(y=this.elements[g].getBaseElement()),g+=1;y?this.threeDElements[u].container.insertBefore(f,y):this.threeDElements[u].container.appendChild(f);break}u+=1}},HybridRendererBase.prototype.configAnimation=function(f){var l=createTag("div"),u=this.animationItem.wrapper,c=l.style;c.width=f.w+"px",c.height=f.h+"px",this.resizerElem=l,styleDiv(l),c.transformStyle="flat",c.mozTransformStyle="flat",c.webkitTransformStyle="flat",this.renderConfig.className&&l.setAttribute("class",this.renderConfig.className),u.appendChild(l),c.overflow="hidden";var g=createNS("svg");g.setAttribute("width","1"),g.setAttribute("height","1"),styleDiv(g),this.resizerElem.appendChild(g);var y=createNS("defs");g.appendChild(y),this.data=f,this.setupGlobalData(f,g),this.globalData.defs=y,this.layers=f.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var f,l=this.layers?this.layers.length:0;for(f=0;f<l;f+=1)this.elements[f]&&this.elements[f].destroy&&this.elements[f].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var f=this.animationItem.wrapper.offsetWidth,l=this.animationItem.wrapper.offsetHeight,u=f/l,c=this.globalData.compSize.w/this.globalData.compSize.h,g,y,m,_;c>u?(g=f/this.globalData.compSize.w,y=f/this.globalData.compSize.w,m=0,_=(l-this.globalData.compSize.h*(f/this.globalData.compSize.w))/2):(g=l/this.globalData.compSize.h,y=l/this.globalData.compSize.h,m=(f-this.globalData.compSize.w*(l/this.globalData.compSize.h))/2,_=0);var p=this.resizerElem.style;p.webkitTransform="matrix3d("+g+",0,0,0,0,"+y+",0,0,0,0,1,0,"+m+","+_+",0,1)",p.transform=p.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var f=this.globalData.compSize.w,l=this.globalData.compSize.h,u,c=this.threeDElements.length;for(u=0;u<c;u+=1){var g=this.threeDElements[u].perspectiveElem.style;g.webkitPerspective=Math.sqrt(Math.pow(f,2)+Math.pow(l,2))+"px",g.perspective=g.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(f){var l,u=f.length,c=createTag("div");for(l=0;l<u;l+=1)if(f[l].xt){var g=this.createComp(f[l],c,this.globalData.comp,null);g.initExpressions(),this.globalData.projectInterface.registerComposition(g)}};function HCompElement(f,l,u){this.layers=f.layers,this.supports3d=!f.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(f,l,u),this.tm=f.tm?PropertyFactory.getProp(this,f.tm,0,l.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(f,l){for(var u=0,c;u<l;)this.elements[u]&&this.elements[u].getBaseElement&&(c=this.elements[u].getBaseElement()),u+=1;c?this.layerElement.insertBefore(f,c):this.layerElement.appendChild(f)},HCompElement.prototype.createComp=function(f){return this.supports3d?new HCompElement(f,this.globalData,this):new SVGCompElement(f,this.globalData,this)};function HybridRenderer(f,l){this.animationItem=f,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:l&&l.className||"",imagePreserveAspectRatio:l&&l.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(l&&l.hideOnTransparent===!1),filterSize:{width:l&&l.filterSize&&l.filterSize.width||"400%",height:l&&l.filterSize&&l.filterSize.height||"400%",x:l&&l.filterSize&&l.filterSize.x||"-100%",y:l&&l.filterSize&&l.filterSize.y||"-100%"},runExpressions:!l||l.runExpressions===void 0||l.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(f){return this.supports3d?new HCompElement(f,this.globalData,this):new SVGCompElement(f,this.globalData,this)};var CompExpressionInterface=function(){return function(f){function l(u){for(var c=0,g=f.layers.length;c<g;){if(f.layers[c].nm===u||f.layers[c].ind===u)return f.elements[c].layerInterface;c+=1}return null}return Object.defineProperty(l,"_name",{value:f.data.nm}),l.layer=l,l.pixelAspect=1,l.height=f.data.h||f.globalData.compSize.h,l.width=f.data.w||f.globalData.compSize.w,l.pixelAspect=1,l.frameDuration=1/f.globalData.frameRate,l.displayStartTime=0,l.numLayers=f.layers.length,l}}();function _typeof$2(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(u){return typeof u}:_typeof$2=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$2(f)}function seedRandom(f,l){var u=this,c=256,g=6,y=52,m="random",_=l.pow(c,g),p=l.pow(2,y),x=p*2,E=c-1,A;function b(j,I,O){var R=[];I=I===!0?{entropy:!0}:I||{};var D=P(T(I.entropy?[j,M(f)]:j===null?C():j,3),R),N=new k(R),U=function(){for(var V=N.g(g),K=_,W=0;V<p;)V=(V+W)*c,K*=c,W=N.g(1);for(;V>=x;)V/=2,K/=2,W>>>=1;return(V+W)/K};return U.int32=function(){return N.g(4)|0},U.quick=function(){return N.g(4)/4294967296},U.double=U,P(M(N.S),f),(I.pass||O||function(X,V,K,W){return W&&(W.S&&S(W,N),X.state=function(){return S(N,{})}),K?(l[m]=X,V):X})(U,D,"global"in I?I.global:this==l,I.state)}l["seed"+m]=b;function k(j){var I,O=j.length,R=this,D=0,N=R.i=R.j=0,U=R.S=[];for(O||(j=[O++]);D<c;)U[D]=D++;for(D=0;D<c;D++)U[D]=U[N=E&N+j[D%O]+(I=U[D])],U[N]=I;R.g=function(X){for(var V,K=0,W=R.i,Q=R.j,L=R.S;X--;)V=L[W=E&W+1],K=K*c+L[E&(L[W]=L[Q=E&Q+V])+(L[Q]=V)];return R.i=W,R.j=Q,K}}function S(j,I){return I.i=j.i,I.j=j.j,I.S=j.S.slice(),I}function T(j,I){var O=[],R=_typeof$2(j),D;if(I&&R=="object")for(D in j)try{O.push(T(j[D],I-1))}catch{}return O.length?O:R=="string"?j:j+"\0"}function P(j,I){for(var O=j+"",R,D=0;D<O.length;)I[E&D]=E&(R^=I[E&D]*19)+O.charCodeAt(D++);return M(I)}function C(){try{var j=new Uint8Array(c);return(u.crypto||u.msCrypto).getRandomValues(j),M(j)}catch{var I=u.navigator,O=I&&I.plugins;return[+new Date,u,O,u.screen,M(f)]}}function M(j){return String.fromCharCode.apply(0,j)}P(l.random(),f)}function initialize$2(f){seedRandom([],f)}var propTypes={SHAPE:"shape"};function _typeof$1(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(u){return typeof u}:_typeof$1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$1(f)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(f){return f.constructor===Array||f.constructor===Float32Array}function isNumerable(f,l){return f==="number"||l instanceof Number||f==="boolean"||f==="string"}function $bm_neg(f){var l=_typeof$1(f);if(l==="number"||f instanceof Number||l==="boolean")return-f;if($bm_isInstanceOfArray(f)){var u,c=f.length,g=[];for(u=0;u<c;u+=1)g[u]=-f[u];return g}return f.propType?f.v:-f}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(f,l){var u=_typeof$1(f),c=_typeof$1(l);if(isNumerable(u,f)&&isNumerable(c,l)||u==="string"||c==="string")return f+l;if($bm_isInstanceOfArray(f)&&isNumerable(c,l))return f=f.slice(0),f[0]+=l,f;if(isNumerable(u,f)&&$bm_isInstanceOfArray(l))return l=l.slice(0),l[0]=f+l[0],l;if($bm_isInstanceOfArray(f)&&$bm_isInstanceOfArray(l)){for(var g=0,y=f.length,m=l.length,_=[];g<y||g<m;)(typeof f[g]=="number"||f[g]instanceof Number)&&(typeof l[g]=="number"||l[g]instanceof Number)?_[g]=f[g]+l[g]:_[g]=l[g]===void 0?f[g]:f[g]||l[g],g+=1;return _}return 0}var add=sum;function sub(f,l){var u=_typeof$1(f),c=_typeof$1(l);if(isNumerable(u,f)&&isNumerable(c,l))return u==="string"&&(f=parseInt(f,10)),c==="string"&&(l=parseInt(l,10)),f-l;if($bm_isInstanceOfArray(f)&&isNumerable(c,l))return f=f.slice(0),f[0]-=l,f;if(isNumerable(u,f)&&$bm_isInstanceOfArray(l))return l=l.slice(0),l[0]=f-l[0],l;if($bm_isInstanceOfArray(f)&&$bm_isInstanceOfArray(l)){for(var g=0,y=f.length,m=l.length,_=[];g<y||g<m;)(typeof f[g]=="number"||f[g]instanceof Number)&&(typeof l[g]=="number"||l[g]instanceof Number)?_[g]=f[g]-l[g]:_[g]=l[g]===void 0?f[g]:f[g]||l[g],g+=1;return _}return 0}function mul(f,l){var u=_typeof$1(f),c=_typeof$1(l),g;if(isNumerable(u,f)&&isNumerable(c,l))return f*l;var y,m;if($bm_isInstanceOfArray(f)&&isNumerable(c,l)){for(m=f.length,g=createTypedArray("float32",m),y=0;y<m;y+=1)g[y]=f[y]*l;return g}if(isNumerable(u,f)&&$bm_isInstanceOfArray(l)){for(m=l.length,g=createTypedArray("float32",m),y=0;y<m;y+=1)g[y]=f*l[y];return g}return 0}function div(f,l){var u=_typeof$1(f),c=_typeof$1(l),g;if(isNumerable(u,f)&&isNumerable(c,l))return f/l;var y,m;if($bm_isInstanceOfArray(f)&&isNumerable(c,l)){for(m=f.length,g=createTypedArray("float32",m),y=0;y<m;y+=1)g[y]=f[y]/l;return g}if(isNumerable(u,f)&&$bm_isInstanceOfArray(l)){for(m=l.length,g=createTypedArray("float32",m),y=0;y<m;y+=1)g[y]=f/l[y];return g}return 0}function mod(f,l){return typeof f=="string"&&(f=parseInt(f,10)),typeof l=="string"&&(l=parseInt(l,10)),f%l}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(f,l,u){if(l>u){var c=u;u=l,l=c}return Math.min(Math.max(f,l),u)}function radiansToDegrees(f){return f/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(f){return f*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(f,l){if(typeof f=="number"||f instanceof Number)return l=l||0,Math.abs(f-l);l||(l=helperLengthArray);var u,c=Math.min(f.length,l.length),g=0;for(u=0;u<c;u+=1)g+=Math.pow(l[u]-f[u],2);return Math.sqrt(g)}function normalize(f){return div(f,length(f))}function rgbToHsl(f){var l=f[0],u=f[1],c=f[2],g=Math.max(l,u,c),y=Math.min(l,u,c),m,_,p=(g+y)/2;if(g===y)m=0,_=0;else{var x=g-y;switch(_=p>.5?x/(2-g-y):x/(g+y),g){case l:m=(u-c)/x+(u<c?6:0);break;case u:m=(c-l)/x+2;break;case c:m=(l-u)/x+4;break}m/=6}return[m,_,p,f[3]]}function hue2rgb(f,l,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?f+(l-f)*6*u:u<1/2?l:u<2/3?f+(l-f)*(2/3-u)*6:f}function hslToRgb(f){var l=f[0],u=f[1],c=f[2],g,y,m;if(u===0)g=c,m=c,y=c;else{var _=c<.5?c*(1+u):c+u-c*u,p=2*c-_;g=hue2rgb(p,_,l+1/3),y=hue2rgb(p,_,l),m=hue2rgb(p,_,l-1/3)}return[g,y,m,f[3]]}function linear(f,l,u,c,g){if((c===void 0||g===void 0)&&(c=l,g=u,l=0,u=1),u<l){var y=u;u=l,l=y}if(f<=l)return c;if(f>=u)return g;var m=u===l?0:(f-l)/(u-l);if(!c.length)return c+(g-c)*m;var _,p=c.length,x=createTypedArray("float32",p);for(_=0;_<p;_+=1)x[_]=c[_]+(g[_]-c[_])*m;return x}function random(f,l){if(l===void 0&&(f===void 0?(f=0,l=1):(l=f,f=void 0)),l.length){var u,c=l.length;f||(f=createTypedArray("float32",c));var g=createTypedArray("float32",c),y=BMMath.random();for(u=0;u<c;u+=1)g[u]=f[u]+y*(l[u]-f[u]);return g}f===void 0&&(f=0);var m=BMMath.random();return f+m*(l-f)}function createPath(f,l,u,c){var g,y=f.length,m=shapePool.newElement();m.setPathData(!!c,y);var _=[0,0],p,x;for(g=0;g<y;g+=1)p=l&&l[g]?l[g]:_,x=u&&u[g]?u[g]:_,m.setTripleAt(f[g][0],f[g][1],x[0]+f[g][0],x[1]+f[g][1],p[0]+f[g][0],p[1]+f[g][1],g,!0);return m}function initiateExpression(elem,data,property){function noOp(f){return f}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function f(l,u){var c,g,y=this.pv.length?this.pv.length:1,m=createTypedArray("float32",y);l=5;var _=Math.floor(time*l);for(c=0,g=0;c<_;){for(g=0;g<y;g+=1)m[g]+=-u+u*2*BMMath.random();c+=1}var p=time*l,x=p-Math.floor(p),E=createTypedArray("float32",y);if(y>1){for(g=0;g<y;g+=1)E[g]=this.pv[g]+m[g]+(-u+u*2*BMMath.random())*x;return E}return this.pv+m[0]+(-u+u*2*BMMath.random())*x}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(f,l){return loopIn(f,l,!0)}function loopOutDuration(f,l){return loopOut(f,l,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(f,l){var u=[l[0]-f[0],l[1]-f[1],l[2]-f[2]],c=Math.atan2(u[0],Math.sqrt(u[1]*u[1]+u[2]*u[2]))/degToRads,g=-Math.atan2(u[1],u[2])/degToRads;return[g,c,0]}function easeOut(f,l,u,c,g){return applyEase(easeOutBez,f,l,u,c,g)}function easeIn(f,l,u,c,g){return applyEase(easeInBez,f,l,u,c,g)}function ease(f,l,u,c,g){return applyEase(easeInOutBez,f,l,u,c,g)}function applyEase(f,l,u,c,g,y){g===void 0?(g=u,y=c):l=(l-u)/(c-u),l>1?l=1:l<0&&(l=0);var m=f(l);if($bm_isInstanceOfArray(g)){var _,p=g.length,x=createTypedArray("float32",p);for(_=0;_<p;_+=1)x[_]=(y[_]-g[_])*m+g[_];return x}return(y-g)*m+g}function nearestKey(f){var l,u=data.k.length,c,g;if(!data.k.length||typeof data.k[0]=="number")c=0,g=0;else if(c=-1,f*=elem.comp.globalData.frameRate,f<data.k[0].t)c=1,g=data.k[0].t;else{for(l=0;l<u-1;l+=1)if(f===data.k[l].t){c=l+1,g=data.k[l].t;break}else if(f>data.k[l].t&&f<data.k[l+1].t){f-data.k[l].t>data.k[l+1].t-f?(c=l+2,g=data.k[l+1].t):(c=l+1,g=data.k[l].t);break}c===-1&&(c=l+1,g=data.k[l].t)}var y={};return y.index=c,y.time=g/elem.comp.globalData.frameRate,y}function key(f){var l,u,c;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+f);f-=1,l={time:data.k[f].t/elem.comp.globalData.frameRate,value:[]};var g=Object.prototype.hasOwnProperty.call(data.k[f],"s")?data.k[f].s:data.k[f-1].e;for(c=g.length,u=0;u<c;u+=1)l[u]=g[u],l.value[u]=g[u];return l}function framesToTime(f,l){return l||(l=elem.comp.globalData.frameRate),f/l}function timeToFrames(f,l){return!f&&f!==0&&(f=time),l||(l=elem.comp.globalData.frameRate),f*l}function seedRandom(f){BMMath.seedrandom(randSeed+f)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(f,l){return typeof value=="string"?l===void 0?value.substring(f):value.substring(f,l):""}function substr(f,l){return typeof value=="string"?l===void 0?value.substr(f):value.substr(f,l):""}function posterizeTime(f){time=f===0?0:Math.floor(time*f)/f,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(f){return value=f,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var f={};f.initExpressions=l,f.resetFrame=ExpressionManager.resetFrame;function l(u){var c=0,g=[];function y(){c+=1}function m(){c-=1,c===0&&p()}function _(x){g.indexOf(x)===-1&&g.push(x)}function p(){var x,E=g.length;for(x=0;x<E;x+=1)g[x].release();g.length=0}u.renderer.compInterface=CompExpressionInterface(u.renderer),u.renderer.globalData.projectInterface.registerComposition(u.renderer),u.renderer.globalData.pushExpression=y,u.renderer.globalData.popExpression=m,u.renderer.globalData.registerExpressionProperty=_}return f}(),MaskManagerInterface=function(){function f(u,c){this._mask=u,this._data=c}Object.defineProperty(f.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(f.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var l=function(c){var g=createSizedArray(c.viewData.length),y,m=c.viewData.length;for(y=0;y<m;y+=1)g[y]=new f(c.viewData[y],c.masksProperties[y]);var _=function(x){for(y=0;y<m;){if(c.masksProperties[y].nm===x)return g[y];y+=1}return null};return _};return l}(),ExpressionPropertyInterface=function(){var f={pv:0,v:0,mult:1},l={pv:[0,0,0],v:[0,0,0],mult:1};function u(m,_,p){Object.defineProperty(m,"velocity",{get:function(){return _.getVelocityAtTime(_.comp.currentFrame)}}),m.numKeys=_.keyframes?_.keyframes.length:0,m.key=function(x){if(!m.numKeys)return 0;var E="";"s"in _.keyframes[x-1]?E=_.keyframes[x-1].s:"e"in _.keyframes[x-2]?E=_.keyframes[x-2].e:E=_.keyframes[x-2].s;var A=p==="unidimensional"?new Number(E):Object.assign({},E);return A.time=_.keyframes[x-1].t/_.elem.comp.globalData.frameRate,A.value=p==="unidimensional"?E[0]:E,A},m.valueAtTime=_.getValueAtTime,m.speedAtTime=_.getSpeedAtTime,m.velocityAtTime=_.getVelocityAtTime,m.propertyGroup=_.propertyGroup}function c(m){(!m||!("pv"in m))&&(m=f);var _=1/m.mult,p=m.pv*_,x=new Number(p);return x.value=p,u(x,m,"unidimensional"),function(){return m.k&&m.getValue(),p=m.v*_,x.value!==p&&(x=new Number(p),x.value=p,u(x,m,"unidimensional")),x}}function g(m){(!m||!("pv"in m))&&(m=l);var _=1/m.mult,p=m.data&&m.data.l||m.pv.length,x=createTypedArray("float32",p),E=createTypedArray("float32",p);return x.value=E,u(x,m,"multidimensional"),function(){m.k&&m.getValue();for(var A=0;A<p;A+=1)E[A]=m.v[A]*_,x[A]=E[A];return x}}function y(){return f}return function(m){return m?m.propType==="unidimensional"?c(m):g(m):y}}(),TransformExpressionInterface=function(){return function(f){function l(m){switch(m){case"scale":case"Scale":case"ADBE Scale":case 6:return l.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return l.rotation;case"ADBE Rotate X":return l.xRotation;case"ADBE Rotate Y":return l.yRotation;case"position":case"Position":case"ADBE Position":case 2:return l.position;case"ADBE Position_0":return l.xPosition;case"ADBE Position_1":return l.yPosition;case"ADBE Position_2":return l.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return l.anchorPoint;case"opacity":case"Opacity":case 11:return l.opacity;default:return null}}Object.defineProperty(l,"rotation",{get:ExpressionPropertyInterface(f.r||f.rz)}),Object.defineProperty(l,"zRotation",{get:ExpressionPropertyInterface(f.rz||f.r)}),Object.defineProperty(l,"xRotation",{get:ExpressionPropertyInterface(f.rx)}),Object.defineProperty(l,"yRotation",{get:ExpressionPropertyInterface(f.ry)}),Object.defineProperty(l,"scale",{get:ExpressionPropertyInterface(f.s)});var u,c,g,y;return f.p?y=ExpressionPropertyInterface(f.p):(u=ExpressionPropertyInterface(f.px),c=ExpressionPropertyInterface(f.py),f.pz&&(g=ExpressionPropertyInterface(f.pz))),Object.defineProperty(l,"position",{get:function(){return f.p?y():[u(),c(),g?g():0]}}),Object.defineProperty(l,"xPosition",{get:ExpressionPropertyInterface(f.px)}),Object.defineProperty(l,"yPosition",{get:ExpressionPropertyInterface(f.py)}),Object.defineProperty(l,"zPosition",{get:ExpressionPropertyInterface(f.pz)}),Object.defineProperty(l,"anchorPoint",{get:ExpressionPropertyInterface(f.a)}),Object.defineProperty(l,"opacity",{get:ExpressionPropertyInterface(f.o)}),Object.defineProperty(l,"skew",{get:ExpressionPropertyInterface(f.sk)}),Object.defineProperty(l,"skewAxis",{get:ExpressionPropertyInterface(f.sa)}),Object.defineProperty(l,"orientation",{get:ExpressionPropertyInterface(f.or)}),l}}(),LayerExpressionInterface=function(){function f(x){var E=new Matrix;if(x!==void 0){var A=this._elem.finalTransform.mProp.getValueAtTime(x);A.clone(E)}else{var b=this._elem.finalTransform.mProp;b.applyToMatrix(E)}return E}function l(x,E){var A=this.getMatrix(E);return A.props[12]=0,A.props[13]=0,A.props[14]=0,this.applyPoint(A,x)}function u(x,E){var A=this.getMatrix(E);return this.applyPoint(A,x)}function c(x,E){var A=this.getMatrix(E);return A.props[12]=0,A.props[13]=0,A.props[14]=0,this.invertPoint(A,x)}function g(x,E){var A=this.getMatrix(E);return this.invertPoint(A,x)}function y(x,E){if(this._elem.hierarchy&&this._elem.hierarchy.length){var A,b=this._elem.hierarchy.length;for(A=0;A<b;A+=1)this._elem.hierarchy[A].finalTransform.mProp.applyToMatrix(x)}return x.applyToPointArray(E[0],E[1],E[2]||0)}function m(x,E){if(this._elem.hierarchy&&this._elem.hierarchy.length){var A,b=this._elem.hierarchy.length;for(A=0;A<b;A+=1)this._elem.hierarchy[A].finalTransform.mProp.applyToMatrix(x)}return x.inversePoint(E)}function _(x){var E=new Matrix;if(E.reset(),this._elem.finalTransform.mProp.applyToMatrix(E),this._elem.hierarchy&&this._elem.hierarchy.length){var A,b=this._elem.hierarchy.length;for(A=0;A<b;A+=1)this._elem.hierarchy[A].finalTransform.mProp.applyToMatrix(E);return E.inversePoint(x)}return E.inversePoint(x)}function p(){return[1,1,1,1]}return function(x){var E;function A(T){k.mask=new MaskManagerInterface(T,x)}function b(T){k.effect=T}function k(T){switch(T){case"ADBE Root Vectors Group":case"Contents":case 2:return k.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return E;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return k.effect;case"ADBE Text Properties":return k.textInterface;default:return null}}k.getMatrix=f,k.invertPoint=m,k.applyPoint=y,k.toWorld=u,k.toWorldVec=l,k.fromWorld=g,k.fromWorldVec=c,k.toComp=u,k.fromComp=_,k.sampleImage=p,k.sourceRectAtTime=x.sourceRectAtTime.bind(x),k._elem=x,E=TransformExpressionInterface(x.finalTransform.mProp);var S=getDescriptor(E,"anchorPoint");return Object.defineProperties(k,{hasParent:{get:function(){return x.hierarchy.length}},parent:{get:function(){return x.hierarchy[0].layerInterface}},rotation:getDescriptor(E,"rotation"),scale:getDescriptor(E,"scale"),position:getDescriptor(E,"position"),opacity:getDescriptor(E,"opacity"),anchorPoint:S,anchor_point:S,transform:{get:function(){return E}},active:{get:function(){return x.isInRange}}}),k.startTime=x.data.st,k.index=x.data.ind,k.source=x.data.refId,k.height=x.data.ty===0?x.data.h:100,k.width=x.data.ty===0?x.data.w:100,k.inPoint=x.data.ip/x.comp.globalData.frameRate,k.outPoint=x.data.op/x.comp.globalData.frameRate,k._name=x.data.nm,k.registerMaskInterface=A,k.registerEffectsInterface=b,k}}(),propertyGroupFactory=function(){return function(f,l){return function(u){return u=u===void 0?1:u,u<=0?f:l(u-1)}}}(),PropertyInterface=function(){return function(f,l){var u={_name:f};function c(g){return g=g===void 0?1:g,g<=0?u:l(g-1)}return c}}(),EffectsExpressionInterface=function(){var f={createEffectsInterface:l};function l(g,y){if(g.effectsManager){var m=[],_=g.data.ef,p,x=g.effectsManager.effectElements.length;for(p=0;p<x;p+=1)m.push(u(_[p],g.effectsManager.effectElements[p],y,g));var E=g.data.ef||[],A=function(k){for(p=0,x=E.length;p<x;){if(k===E[p].nm||k===E[p].mn||k===E[p].ix)return m[p];p+=1}return null};return Object.defineProperty(A,"numProperties",{get:function(){return E.length}}),A}return null}function u(g,y,m,_){function p(k){for(var S=g.ef,T=0,P=S.length;T<P;){if(k===S[T].nm||k===S[T].mn||k===S[T].ix)return S[T].ty===5?E[T]:E[T]();T+=1}throw new Error}var x=propertyGroupFactory(p,m),E=[],A,b=g.ef.length;for(A=0;A<b;A+=1)g.ef[A].ty===5?E.push(u(g.ef[A],y.effectElements[A],y.effectElements[A].propertyGroup,_)):E.push(c(y.effectElements[A],g.ef[A].ty,_,x));return g.mn==="ADBE Color Control"&&Object.defineProperty(p,"color",{get:function(){return E[0]()}}),Object.defineProperties(p,{numProperties:{get:function(){return g.np}},_name:{value:g.nm},propertyGroup:{value:x}}),p.enabled=g.en!==0,p.active=p.enabled,p}function c(g,y,m,_){var p=ExpressionPropertyInterface(g.p);function x(){return y===10?m.comp.compInterface(g.p.v):p()}return g.p.setGroupProperty&&g.p.setGroupProperty(PropertyInterface("",_)),x}return f}(),ShapePathInterface=function(){return function(l,u,c){var g=u.sh;function y(_){return _==="Shape"||_==="shape"||_==="Path"||_==="path"||_==="ADBE Vector Shape"||_===2?y.path:null}var m=propertyGroupFactory(y,c);return g.setGroupProperty(PropertyInterface("Path",m)),Object.defineProperties(y,{path:{get:function(){return g.k&&g.getValue(),g}},shape:{get:function(){return g.k&&g.getValue(),g}},_name:{value:l.nm},ix:{value:l.ix},propertyIndex:{value:l.ix},mn:{value:l.mn},propertyGroup:{value:c}}),y}}(),ShapeExpressionInterface=function(){function f(S,T,P){var C=[],M,j=S?S.length:0;for(M=0;M<j;M+=1)S[M].ty==="gr"?C.push(u(S[M],T[M],P)):S[M].ty==="fl"?C.push(c(S[M],T[M],P)):S[M].ty==="st"?C.push(m(S[M],T[M],P)):S[M].ty==="tm"?C.push(_(S[M],T[M],P)):S[M].ty==="tr"||(S[M].ty==="el"?C.push(x(S[M],T[M],P)):S[M].ty==="sr"?C.push(E(S[M],T[M],P)):S[M].ty==="sh"?C.push(ShapePathInterface(S[M],T[M],P)):S[M].ty==="rc"?C.push(A(S[M],T[M],P)):S[M].ty==="rd"?C.push(b(S[M],T[M],P)):S[M].ty==="rp"?C.push(k(S[M],T[M],P)):S[M].ty==="gf"?C.push(g(S[M],T[M],P)):C.push(y(S[M],T[M])));return C}function l(S,T,P){var C,M=function(O){for(var R=0,D=C.length;R<D;){if(C[R]._name===O||C[R].mn===O||C[R].propertyIndex===O||C[R].ix===O||C[R].ind===O)return C[R];R+=1}return typeof O=="number"?C[O-1]:null};M.propertyGroup=propertyGroupFactory(M,P),C=f(S.it,T.it,M.propertyGroup),M.numProperties=C.length;var j=p(S.it[S.it.length-1],T.it[T.it.length-1],M.propertyGroup);return M.transform=j,M.propertyIndex=S.cix,M._name=S.nm,M}function u(S,T,P){var C=function(O){switch(O){case"ADBE Vectors Group":case"Contents":case 2:return C.content;default:return C.transform}};C.propertyGroup=propertyGroupFactory(C,P);var M=l(S,T,C.propertyGroup),j=p(S.it[S.it.length-1],T.it[T.it.length-1],C.propertyGroup);return C.content=M,C.transform=j,Object.defineProperty(C,"_name",{get:function(){return S.nm}}),C.numProperties=S.np,C.propertyIndex=S.ix,C.nm=S.nm,C.mn=S.mn,C}function c(S,T,P){function C(M){return M==="Color"||M==="color"?C.color:M==="Opacity"||M==="opacity"?C.opacity:null}return Object.defineProperties(C,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},_name:{value:S.nm},mn:{value:S.mn}}),T.c.setGroupProperty(PropertyInterface("Color",P)),T.o.setGroupProperty(PropertyInterface("Opacity",P)),C}function g(S,T,P){function C(M){return M==="Start Point"||M==="start point"?C.startPoint:M==="End Point"||M==="end point"?C.endPoint:M==="Opacity"||M==="opacity"?C.opacity:null}return Object.defineProperties(C,{startPoint:{get:ExpressionPropertyInterface(T.s)},endPoint:{get:ExpressionPropertyInterface(T.e)},opacity:{get:ExpressionPropertyInterface(T.o)},type:{get:function(){return"a"}},_name:{value:S.nm},mn:{value:S.mn}}),T.s.setGroupProperty(PropertyInterface("Start Point",P)),T.e.setGroupProperty(PropertyInterface("End Point",P)),T.o.setGroupProperty(PropertyInterface("Opacity",P)),C}function y(){function S(){return null}return S}function m(S,T,P){var C=propertyGroupFactory(D,P),M=propertyGroupFactory(R,C);function j(N){Object.defineProperty(R,S.d[N].nm,{get:ExpressionPropertyInterface(T.d.dataProps[N].p)})}var I,O=S.d?S.d.length:0,R={};for(I=0;I<O;I+=1)j(I),T.d.dataProps[I].p.setGroupProperty(M);function D(N){return N==="Color"||N==="color"?D.color:N==="Opacity"||N==="opacity"?D.opacity:N==="Stroke Width"||N==="stroke width"?D.strokeWidth:null}return Object.defineProperties(D,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},strokeWidth:{get:ExpressionPropertyInterface(T.w)},dash:{get:function(){return R}},_name:{value:S.nm},mn:{value:S.mn}}),T.c.setGroupProperty(PropertyInterface("Color",C)),T.o.setGroupProperty(PropertyInterface("Opacity",C)),T.w.setGroupProperty(PropertyInterface("Stroke Width",C)),D}function _(S,T,P){function C(j){return j===S.e.ix||j==="End"||j==="end"?C.end:j===S.s.ix?C.start:j===S.o.ix?C.offset:null}var M=propertyGroupFactory(C,P);return C.propertyIndex=S.ix,T.s.setGroupProperty(PropertyInterface("Start",M)),T.e.setGroupProperty(PropertyInterface("End",M)),T.o.setGroupProperty(PropertyInterface("Offset",M)),C.propertyIndex=S.ix,C.propertyGroup=P,Object.defineProperties(C,{start:{get:ExpressionPropertyInterface(T.s)},end:{get:ExpressionPropertyInterface(T.e)},offset:{get:ExpressionPropertyInterface(T.o)},_name:{value:S.nm}}),C.mn=S.mn,C}function p(S,T,P){function C(j){return S.a.ix===j||j==="Anchor Point"?C.anchorPoint:S.o.ix===j||j==="Opacity"?C.opacity:S.p.ix===j||j==="Position"?C.position:S.r.ix===j||j==="Rotation"||j==="ADBE Vector Rotation"?C.rotation:S.s.ix===j||j==="Scale"?C.scale:S.sk&&S.sk.ix===j||j==="Skew"?C.skew:S.sa&&S.sa.ix===j||j==="Skew Axis"?C.skewAxis:null}var M=propertyGroupFactory(C,P);return T.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",M)),T.transform.mProps.p.setGroupProperty(PropertyInterface("Position",M)),T.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",M)),T.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",M)),T.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",M)),T.transform.mProps.sk&&(T.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",M)),T.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",M))),T.transform.op.setGroupProperty(PropertyInterface("Opacity",M)),Object.defineProperties(C,{opacity:{get:ExpressionPropertyInterface(T.transform.mProps.o)},position:{get:ExpressionPropertyInterface(T.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(T.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(T.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(T.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(T.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(T.transform.mProps.sa)},_name:{value:S.nm}}),C.ty="tr",C.mn=S.mn,C.propertyGroup=P,C}function x(S,T,P){function C(I){return S.p.ix===I?C.position:S.s.ix===I?C.size:null}var M=propertyGroupFactory(C,P);C.propertyIndex=S.ix;var j=T.sh.ty==="tm"?T.sh.prop:T.sh;return j.s.setGroupProperty(PropertyInterface("Size",M)),j.p.setGroupProperty(PropertyInterface("Position",M)),Object.defineProperties(C,{size:{get:ExpressionPropertyInterface(j.s)},position:{get:ExpressionPropertyInterface(j.p)},_name:{value:S.nm}}),C.mn=S.mn,C}function E(S,T,P){function C(I){return S.p.ix===I?C.position:S.r.ix===I?C.rotation:S.pt.ix===I?C.points:S.or.ix===I||I==="ADBE Vector Star Outer Radius"?C.outerRadius:S.os.ix===I?C.outerRoundness:S.ir&&(S.ir.ix===I||I==="ADBE Vector Star Inner Radius")?C.innerRadius:S.is&&S.is.ix===I?C.innerRoundness:null}var M=propertyGroupFactory(C,P),j=T.sh.ty==="tm"?T.sh.prop:T.sh;return C.propertyIndex=S.ix,j.or.setGroupProperty(PropertyInterface("Outer Radius",M)),j.os.setGroupProperty(PropertyInterface("Outer Roundness",M)),j.pt.setGroupProperty(PropertyInterface("Points",M)),j.p.setGroupProperty(PropertyInterface("Position",M)),j.r.setGroupProperty(PropertyInterface("Rotation",M)),S.ir&&(j.ir.setGroupProperty(PropertyInterface("Inner Radius",M)),j.is.setGroupProperty(PropertyInterface("Inner Roundness",M))),Object.defineProperties(C,{position:{get:ExpressionPropertyInterface(j.p)},rotation:{get:ExpressionPropertyInterface(j.r)},points:{get:ExpressionPropertyInterface(j.pt)},outerRadius:{get:ExpressionPropertyInterface(j.or)},outerRoundness:{get:ExpressionPropertyInterface(j.os)},innerRadius:{get:ExpressionPropertyInterface(j.ir)},innerRoundness:{get:ExpressionPropertyInterface(j.is)},_name:{value:S.nm}}),C.mn=S.mn,C}function A(S,T,P){function C(I){return S.p.ix===I?C.position:S.r.ix===I?C.roundness:S.s.ix===I||I==="Size"||I==="ADBE Vector Rect Size"?C.size:null}var M=propertyGroupFactory(C,P),j=T.sh.ty==="tm"?T.sh.prop:T.sh;return C.propertyIndex=S.ix,j.p.setGroupProperty(PropertyInterface("Position",M)),j.s.setGroupProperty(PropertyInterface("Size",M)),j.r.setGroupProperty(PropertyInterface("Rotation",M)),Object.defineProperties(C,{position:{get:ExpressionPropertyInterface(j.p)},roundness:{get:ExpressionPropertyInterface(j.r)},size:{get:ExpressionPropertyInterface(j.s)},_name:{value:S.nm}}),C.mn=S.mn,C}function b(S,T,P){function C(I){return S.r.ix===I||I==="Round Corners 1"?C.radius:null}var M=propertyGroupFactory(C,P),j=T;return C.propertyIndex=S.ix,j.rd.setGroupProperty(PropertyInterface("Radius",M)),Object.defineProperties(C,{radius:{get:ExpressionPropertyInterface(j.rd)},_name:{value:S.nm}}),C.mn=S.mn,C}function k(S,T,P){function C(I){return S.c.ix===I||I==="Copies"?C.copies:S.o.ix===I||I==="Offset"?C.offset:null}var M=propertyGroupFactory(C,P),j=T;return C.propertyIndex=S.ix,j.c.setGroupProperty(PropertyInterface("Copies",M)),j.o.setGroupProperty(PropertyInterface("Offset",M)),Object.defineProperties(C,{copies:{get:ExpressionPropertyInterface(j.c)},offset:{get:ExpressionPropertyInterface(j.o)},_name:{value:S.nm}}),C.mn=S.mn,C}return function(S,T,P){var C;function M(I){if(typeof I=="number")return I=I===void 0?1:I,I===0?P:C[I-1];for(var O=0,R=C.length;O<R;){if(C[O]._name===I)return C[O];O+=1}return null}function j(){return P}return M.propertyGroup=propertyGroupFactory(M,j),C=f(S,T,M.propertyGroup),M.numProperties=C.length,M._name="Contents",M}}(),TextExpressionInterface=function(){return function(f){var l;function u(c){switch(c){case"ADBE Text Document":return u.sourceText;default:return null}}return Object.defineProperty(u,"sourceText",{get:function(){f.textProperty.getValue();var g=f.textProperty.currentData.t;return(!l||g!==l.value)&&(l=new String(g),l.value=g||new String(g),Object.defineProperty(l,"style",{get:function(){return{fillColor:f.textProperty.currentData.fc}}})),l}}),u}}();function _typeof(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(u){return typeof u}:_typeof=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof(f)}var FootageInterface=function(){var f=function(c){var g="",y=c.getFootageData();function m(){return g="",y=c.getFootageData(),_}function _(p){if(y[p])return g=p,y=y[p],_typeof(y)==="object"?_:y;var x=p.indexOf(g);if(x!==-1){var E=parseInt(p.substr(x+g.length),10);return y=y[E],_typeof(y)==="object"?_:y}return""}return m},l=function(c){function g(y){return y==="Outline"?g.outlineInterface():null}return g._name="Outline",g.outlineInterface=f(c),g};return function(u){function c(g){return g==="Data"?c.dataInterface:null}return c._name="Data",c.dataInterface=l(u),c}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(f){return interfaces[f]||null}var expressionHelpers=function(){function f(m,_,p){_.x&&(p.k=!0,p.x=!0,p.initiateExpression=ExpressionManager.initiateExpression,p.effectsSequence.push(p.initiateExpression(m,_,p).bind(p)))}function l(m){return m*=this.elem.globalData.frameRate,m-=this.offsetTime,m!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<m?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(m,this._cachingAtTime),this._cachingAtTime.lastFrame=m),this._cachingAtTime.value}function u(m){var _=-.01,p=this.getValueAtTime(m),x=this.getValueAtTime(m+_),E=0;if(p.length){var A;for(A=0;A<p.length;A+=1)E+=Math.pow(x[A]-p[A],2);E=Math.sqrt(E)*100}else E=0;return E}function c(m){if(this.vel!==void 0)return this.vel;var _=-.001,p=this.getValueAtTime(m),x=this.getValueAtTime(m+_),E;if(p.length){E=createTypedArray("float32",p.length);var A;for(A=0;A<p.length;A+=1)E[A]=(x[A]-p[A])/_}else E=(x-p)/_;return E}function g(){return this.pv}function y(m){this.propertyGroup=m}return{searchExpressions:f,getSpeedAtTime:u,getVelocityAtTime:c,getValueAtTime:l,getStaticValueAtTime:g,setGroupProperty:y}}();function addPropertyDecorator(){function f(b,k,S){if(!this.k||!this.keyframes)return this.pv;b=b?b.toLowerCase():"";var T=this.comp.renderedFrame,P=this.keyframes,C=P[P.length-1].t;if(T<=C)return this.pv;var M,j;S?(k?M=Math.abs(C-this.elem.comp.globalData.frameRate*k):M=Math.max(0,C-this.elem.data.ip),j=C-M):((!k||k>P.length-1)&&(k=P.length-1),j=P[P.length-1-k].t,M=C-j);var I,O,R;if(b==="pingpong"){var D=Math.floor((T-j)/M);if(D%2!==0)return this.getValueAtTime((M-(T-j)%M+j)/this.comp.globalData.frameRate,0)}else if(b==="offset"){var N=this.getValueAtTime(j/this.comp.globalData.frameRate,0),U=this.getValueAtTime(C/this.comp.globalData.frameRate,0),X=this.getValueAtTime(((T-j)%M+j)/this.comp.globalData.frameRate,0),V=Math.floor((T-j)/M);if(this.pv.length){for(R=new Array(N.length),O=R.length,I=0;I<O;I+=1)R[I]=(U[I]-N[I])*V+X[I];return R}return(U-N)*V+X}else if(b==="continue"){var K=this.getValueAtTime(C/this.comp.globalData.frameRate,0),W=this.getValueAtTime((C-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(R=new Array(K.length),O=R.length,I=0;I<O;I+=1)R[I]=K[I]+(K[I]-W[I])*((T-C)/this.comp.globalData.frameRate)/5e-4;return R}return K+(K-W)*((T-C)/.001)}return this.getValueAtTime(((T-j)%M+j)/this.comp.globalData.frameRate,0)}function l(b,k,S){if(!this.k)return this.pv;b=b?b.toLowerCase():"";var T=this.comp.renderedFrame,P=this.keyframes,C=P[0].t;if(T>=C)return this.pv;var M,j;S?(k?M=Math.abs(this.elem.comp.globalData.frameRate*k):M=Math.max(0,this.elem.data.op-C),j=C+M):((!k||k>P.length-1)&&(k=P.length-1),j=P[k].t,M=j-C);var I,O,R;if(b==="pingpong"){var D=Math.floor((C-T)/M);if(D%2===0)return this.getValueAtTime(((C-T)%M+C)/this.comp.globalData.frameRate,0)}else if(b==="offset"){var N=this.getValueAtTime(C/this.comp.globalData.frameRate,0),U=this.getValueAtTime(j/this.comp.globalData.frameRate,0),X=this.getValueAtTime((M-(C-T)%M+C)/this.comp.globalData.frameRate,0),V=Math.floor((C-T)/M)+1;if(this.pv.length){for(R=new Array(N.length),O=R.length,I=0;I<O;I+=1)R[I]=X[I]-(U[I]-N[I])*V;return R}return X-(U-N)*V}else if(b==="continue"){var K=this.getValueAtTime(C/this.comp.globalData.frameRate,0),W=this.getValueAtTime((C+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(R=new Array(K.length),O=R.length,I=0;I<O;I+=1)R[I]=K[I]+(K[I]-W[I])*(C-T)/.001;return R}return K+(K-W)*(C-T)/.001}return this.getValueAtTime((M-((C-T)%M+C))/this.comp.globalData.frameRate,0)}function u(b,k){if(!this.k)return this.pv;if(b=(b||.4)*.5,k=Math.floor(k||5),k<=1)return this.pv;var S=this.comp.renderedFrame/this.comp.globalData.frameRate,T=S-b,P=S+b,C=k>1?(P-T)/(k-1):1,M=0,j=0,I;this.pv.length?I=createTypedArray("float32",this.pv.length):I=0;for(var O;M<k;){if(O=this.getValueAtTime(T+M*C),this.pv.length)for(j=0;j<this.pv.length;j+=1)I[j]+=O[j];else I+=O;M+=1}if(this.pv.length)for(j=0;j<this.pv.length;j+=1)I[j]/=k;else I/=k;return I}function c(b){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var k=this._transformCachingAtTime.v;if(k.cloneFromProps(this.pre.props),this.appliedTransformations<1){var S=this.a.getValueAtTime(b);k.translate(-S[0]*this.a.mult,-S[1]*this.a.mult,S[2]*this.a.mult)}if(this.appliedTransformations<2){var T=this.s.getValueAtTime(b);k.scale(T[0]*this.s.mult,T[1]*this.s.mult,T[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var P=this.sk.getValueAtTime(b),C=this.sa.getValueAtTime(b);k.skewFromAxis(-P*this.sk.mult,C*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var M=this.r.getValueAtTime(b);k.rotate(-M*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var j=this.rz.getValueAtTime(b),I=this.ry.getValueAtTime(b),O=this.rx.getValueAtTime(b),R=this.or.getValueAtTime(b);k.rotateZ(-j*this.rz.mult).rotateY(I*this.ry.mult).rotateX(O*this.rx.mult).rotateZ(-R[2]*this.or.mult).rotateY(R[1]*this.or.mult).rotateX(R[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var D=this.px.getValueAtTime(b),N=this.py.getValueAtTime(b);if(this.data.p.z){var U=this.pz.getValueAtTime(b);k.translate(D*this.px.mult,N*this.py.mult,-U*this.pz.mult)}else k.translate(D*this.px.mult,N*this.py.mult,0)}else{var X=this.p.getValueAtTime(b);k.translate(X[0]*this.p.mult,X[1]*this.p.mult,-X[2]*this.p.mult)}return k}function g(){return this.v.clone(new Matrix)}var y=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(b,k,S){var T=y(b,k,S);return T.dynamicProperties.length?T.getValueAtTime=c.bind(T):T.getValueAtTime=g.bind(T),T.setGroupProperty=expressionHelpers.setGroupProperty,T};var m=PropertyFactory.getProp;PropertyFactory.getProp=function(b,k,S,T,P){var C=m(b,k,S,T,P);C.kf?C.getValueAtTime=expressionHelpers.getValueAtTime.bind(C):C.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(C),C.setGroupProperty=expressionHelpers.setGroupProperty,C.loopOut=f,C.loopIn=l,C.smooth=u,C.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(C),C.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(C),C.numKeys=k.a===1?k.k.length:0,C.propertyIndex=k.ix;var M=0;return S!==0&&(M=createTypedArray("float32",k.a===1?k.k[0].s.length:k.k.length)),C._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:M},expressionHelpers.searchExpressions(b,k,C),C.k&&P.addDynamicProperty(C),C};function _(b){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),b*=this.elem.globalData.frameRate,b-=this.offsetTime,b!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<b?this._caching.lastIndex:0,this._cachingAtTime.lastTime=b,this.interpolateShape(b,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var p=ShapePropertyFactory.getConstructorFunction(),x=ShapePropertyFactory.getKeyframedConstructorFunction();function E(){}E.prototype={vertices:function(k,S){this.k&&this.getValue();var T=this.v;S!==void 0&&(T=this.getValueAtTime(S,0));var P,C=T._length,M=T[k],j=T.v,I=createSizedArray(C);for(P=0;P<C;P+=1)k==="i"||k==="o"?I[P]=[M[P][0]-j[P][0],M[P][1]-j[P][1]]:I[P]=[M[P][0],M[P][1]];return I},points:function(k){return this.vertices("v",k)},inTangents:function(k){return this.vertices("i",k)},outTangents:function(k){return this.vertices("o",k)},isClosed:function(){return this.v.c},pointOnPath:function(k,S){var T=this.v;S!==void 0&&(T=this.getValueAtTime(S,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(T));for(var P=this._segmentsLength,C=P.lengths,M=P.totalLength*k,j=0,I=C.length,O=0,R;j<I;){if(O+C[j].addedLength>M){var D=j,N=T.c&&j===I-1?0:j+1,U=(M-O)/C[j].addedLength;R=bez.getPointInSegment(T.v[D],T.v[N],T.o[D],T.i[N],U,C[j]);break}else O+=C[j].addedLength;j+=1}return R||(R=T.c?[T.v[0][0],T.v[0][1]]:[T.v[T._length-1][0],T.v[T._length-1][1]]),R},vectorOnPath:function(k,S,T){k==1?k=this.v.c:k==0&&(k=.999);var P=this.pointOnPath(k,S),C=this.pointOnPath(k+.001,S),M=C[0]-P[0],j=C[1]-P[1],I=Math.sqrt(Math.pow(M,2)+Math.pow(j,2));if(I===0)return[0,0];var O=T==="tangent"?[M/I,j/I]:[-j/I,M/I];return O},tangentOnPath:function(k,S){return this.vectorOnPath(k,S,"tangent")},normalOnPath:function(k,S){return this.vectorOnPath(k,S,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([E],p),extendPrototype([E],x),x.prototype.getValueAtTime=_,x.prototype.initiateExpression=ExpressionManager.initiateExpression;var A=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(b,k,S,T,P){var C=A(b,k,S,T,P);return C.propertyIndex=k.ix,C.lock=!1,S===3?expressionHelpers.searchExpressions(b,k.pt,C):S===4&&expressionHelpers.searchExpressions(b,k.ks,C),C.k&&b.addDynamicProperty(C),C}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function f(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(l,u){var c=this.calculateExpression(u);if(l.t!==c){var g={};return this.copyData(g,l),g.t=c.toString(),g.__complete=!1,g}return l},TextProperty.prototype.searchProperty=function(){var l=this.searchKeyframes(),u=this.searchExpressions();return this.kf=l||u,this.kf},TextProperty.prototype.searchExpressions=f}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function f(l,u){var c=createNS("feMerge");c.setAttribute("result",l);var g,y;for(y=0;y<u.length;y+=1)g=createNS("feMergeNode"),g.setAttribute("in",u[y]),c.appendChild(g),c.appendChild(g);return c}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(f,l,u,c,g){this.filterManager=l;var y=createNS("feColorMatrix");y.setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","linearRGB"),y.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=y,y.setAttribute("result",c+"_tint_1"),f.appendChild(y),y=createNS("feColorMatrix"),y.setAttribute("type","matrix"),y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),y.setAttribute("result",c+"_tint_2"),f.appendChild(y),this.matrixFilter=y;var m=this.createMergeNode(c,[g,c+"_tint_1",c+"_tint_2"]);f.appendChild(m)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l=this.filterManager.effectElements[0].p.v,u=this.filterManager.effectElements[1].p.v,c=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+c+" 0"),this.matrixFilter.setAttribute("values",u[0]-l[0]+" 0 0 0 "+l[0]+" "+(u[1]-l[1])+" 0 0 0 "+l[1]+" "+(u[2]-l[2])+" 0 0 0 "+l[2]+" 0 0 0 1 0")}};function SVGFillFilter(f,l,u,c){this.filterManager=l;var g=createNS("feColorMatrix");g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","sRGB"),g.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),g.setAttribute("result",c),f.appendChild(g),this.matrixFilter=g}SVGFillFilter.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l=this.filterManager.effectElements[2].p.v,u=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+l[0]+" 0 0 0 0 "+l[1]+" 0 0 0 0 "+l[2]+" 0 0 0 "+u+" 0")}};function SVGStrokeEffect(f,l,u){this.initialized=!1,this.filterManager=l,this.elem=u,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var f=this.elem.layerElement.children||this.elem.layerElement.childNodes,l,u,c,g;for(this.filterManager.effectElements[1].p.v===1?(g=this.elem.maskManager.masksProperties.length,c=0):(c=this.filterManager.effectElements[0].p.v-1,g=c+1),u=createNS("g"),u.setAttribute("fill","none"),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-dashoffset",1),c;c<g;c+=1)l=createNS("path"),u.appendChild(l),this.paths.push({p:l,m:c});if(this.filterManager.effectElements[10].p.v===3){var y=createNS("mask"),m=createElementID();y.setAttribute("id",m),y.setAttribute("mask-type","alpha"),y.appendChild(u),this.elem.globalData.defs.appendChild(y);var _=createNS("g");for(_.setAttribute("mask","url("+getLocationHref()+"#"+m+")");f[0];)_.appendChild(f[0]);this.elem.layerElement.appendChild(_),this.masker=y,u.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(f=this.elem.layerElement.children||this.elem.layerElement.childNodes;f.length;)this.elem.layerElement.removeChild(f[0]);this.elem.layerElement.appendChild(u),this.elem.layerElement.removeAttribute("mask"),u.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=u},SVGStrokeEffect.prototype.renderFrame=function(f){this.initialized||this.initialize();var l,u=this.paths.length,c,g;for(l=0;l<u;l+=1)if(this.paths[l].m!==-1&&(c=this.elem.maskManager.viewData[this.paths[l].m],g=this.paths[l].p,(f||this.filterManager._mdf||c.prop._mdf)&&g.setAttribute("d",c.lastPath),f||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||c.prop._mdf)){var y;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var m=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,_=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,p=g.getTotalLength();y="0 0 0 "+p*m+" ";var x=p*(_-m),E=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,A=Math.floor(x/E),b;for(b=0;b<A;b+=1)y+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";y+="0 "+p*10+" 0 0"}else y="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;g.setAttribute("stroke-dasharray",y)}if((f||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(f||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(f||this.filterManager.effectElements[3].p._mdf)){var k=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(k[0]*255)+","+bmFloor(k[1]*255)+","+bmFloor(k[2]*255)+")")}};function SVGTritoneFilter(f,l,u,c){this.filterManager=l;var g=createNS("feColorMatrix");g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","linearRGB"),g.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),f.appendChild(g);var y=createNS("feComponentTransfer");y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("result",c),this.matrixFilter=y;var m=createNS("feFuncR");m.setAttribute("type","table"),y.appendChild(m),this.feFuncR=m;var _=createNS("feFuncG");_.setAttribute("type","table"),y.appendChild(_),this.feFuncG=_;var p=createNS("feFuncB");p.setAttribute("type","table"),y.appendChild(p),this.feFuncB=p,f.appendChild(y)}SVGTritoneFilter.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l=this.filterManager.effectElements[0].p.v,u=this.filterManager.effectElements[1].p.v,c=this.filterManager.effectElements[2].p.v,g=c[0]+" "+u[0]+" "+l[0],y=c[1]+" "+u[1]+" "+l[1],m=c[2]+" "+u[2]+" "+l[2];this.feFuncR.setAttribute("tableValues",g),this.feFuncG.setAttribute("tableValues",y),this.feFuncB.setAttribute("tableValues",m)}};function SVGProLevelsFilter(f,l,u,c){this.filterManager=l;var g=this.filterManager.effectElements,y=createNS("feComponentTransfer");(g[10].p.k||g[10].p.v!==0||g[11].p.k||g[11].p.v!==1||g[12].p.k||g[12].p.v!==1||g[13].p.k||g[13].p.v!==0||g[14].p.k||g[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",y)),(g[17].p.k||g[17].p.v!==0||g[18].p.k||g[18].p.v!==1||g[19].p.k||g[19].p.v!==1||g[20].p.k||g[20].p.v!==0||g[21].p.k||g[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",y)),(g[24].p.k||g[24].p.v!==0||g[25].p.k||g[25].p.v!==1||g[26].p.k||g[26].p.v!==1||g[27].p.k||g[27].p.v!==0||g[28].p.k||g[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",y)),(g[31].p.k||g[31].p.v!==0||g[32].p.k||g[32].p.v!==1||g[33].p.k||g[33].p.v!==1||g[34].p.k||g[34].p.v!==0||g[35].p.k||g[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",y)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(y.setAttribute("color-interpolation-filters","sRGB"),f.appendChild(y)),(g[3].p.k||g[3].p.v!==0||g[4].p.k||g[4].p.v!==1||g[5].p.k||g[5].p.v!==1||g[6].p.k||g[6].p.v!==0||g[7].p.k||g[7].p.v!==1)&&(y=createNS("feComponentTransfer"),y.setAttribute("color-interpolation-filters","sRGB"),y.setAttribute("result",c),f.appendChild(y),this.feFuncRComposed=this.createFeFunc("feFuncR",y),this.feFuncGComposed=this.createFeFunc("feFuncG",y),this.feFuncBComposed=this.createFeFunc("feFuncB",y))}SVGProLevelsFilter.prototype.createFeFunc=function(f,l){var u=createNS(f);return u.setAttribute("type","table"),l.appendChild(u),u},SVGProLevelsFilter.prototype.getTableValue=function(f,l,u,c,g){for(var y=0,m=256,_,p=Math.min(f,l),x=Math.max(f,l),E=Array.call(null,{length:m}),A,b=0,k=g-c,S=l-f;y<=256;)_=y/256,_<=p?A=S<0?g:c:_>=x?A=S<0?c:g:A=c+k*Math.pow((_-f)/S,1/u),E[b]=A,b+=1,y+=256/(m-1);return E.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l,u=this.filterManager.effectElements;this.feFuncRComposed&&(f||u[3].p._mdf||u[4].p._mdf||u[5].p._mdf||u[6].p._mdf||u[7].p._mdf)&&(l=this.getTableValue(u[3].p.v,u[4].p.v,u[5].p.v,u[6].p.v,u[7].p.v),this.feFuncRComposed.setAttribute("tableValues",l),this.feFuncGComposed.setAttribute("tableValues",l),this.feFuncBComposed.setAttribute("tableValues",l)),this.feFuncR&&(f||u[10].p._mdf||u[11].p._mdf||u[12].p._mdf||u[13].p._mdf||u[14].p._mdf)&&(l=this.getTableValue(u[10].p.v,u[11].p.v,u[12].p.v,u[13].p.v,u[14].p.v),this.feFuncR.setAttribute("tableValues",l)),this.feFuncG&&(f||u[17].p._mdf||u[18].p._mdf||u[19].p._mdf||u[20].p._mdf||u[21].p._mdf)&&(l=this.getTableValue(u[17].p.v,u[18].p.v,u[19].p.v,u[20].p.v,u[21].p.v),this.feFuncG.setAttribute("tableValues",l)),this.feFuncB&&(f||u[24].p._mdf||u[25].p._mdf||u[26].p._mdf||u[27].p._mdf||u[28].p._mdf)&&(l=this.getTableValue(u[24].p.v,u[25].p.v,u[26].p.v,u[27].p.v,u[28].p.v),this.feFuncB.setAttribute("tableValues",l)),this.feFuncA&&(f||u[31].p._mdf||u[32].p._mdf||u[33].p._mdf||u[34].p._mdf||u[35].p._mdf)&&(l=this.getTableValue(u[31].p.v,u[32].p.v,u[33].p.v,u[34].p.v,u[35].p.v),this.feFuncA.setAttribute("tableValues",l))}};function SVGDropShadowEffect(f,l,u,c,g){var y=l.container.globalData.renderConfig.filterSize,m=l.data.fs||y;f.setAttribute("x",m.x||y.x),f.setAttribute("y",m.y||y.y),f.setAttribute("width",m.width||y.width),f.setAttribute("height",m.height||y.height),this.filterManager=l;var _=createNS("feGaussianBlur");_.setAttribute("in","SourceAlpha"),_.setAttribute("result",c+"_drop_shadow_1"),_.setAttribute("stdDeviation","0"),this.feGaussianBlur=_,f.appendChild(_);var p=createNS("feOffset");p.setAttribute("dx","25"),p.setAttribute("dy","0"),p.setAttribute("in",c+"_drop_shadow_1"),p.setAttribute("result",c+"_drop_shadow_2"),this.feOffset=p,f.appendChild(p);var x=createNS("feFlood");x.setAttribute("flood-color","#00ff00"),x.setAttribute("flood-opacity","1"),x.setAttribute("result",c+"_drop_shadow_3"),this.feFlood=x,f.appendChild(x);var E=createNS("feComposite");E.setAttribute("in",c+"_drop_shadow_3"),E.setAttribute("in2",c+"_drop_shadow_2"),E.setAttribute("operator","in"),E.setAttribute("result",c+"_drop_shadow_4"),f.appendChild(E);var A=this.createMergeNode(c,[c+"_drop_shadow_4",g]);f.appendChild(A)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){if((f||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),f||this.filterManager.effectElements[0].p._mdf){var l=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(l[0]*255),Math.round(l[1]*255),Math.round(l[2]*255)))}if((f||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),f||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var u=this.filterManager.effectElements[3].p.v,c=(this.filterManager.effectElements[2].p.v-90)*degToRads,g=u*Math.cos(c),y=u*Math.sin(c);this.feOffset.setAttribute("dx",g),this.feOffset.setAttribute("dy",y)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(f,l,u){this.initialized=!1,this.filterManager=l,this.filterElem=f,this.elem=u,u.matteElement=createNS("g"),u.matteElement.appendChild(u.layerElement),u.matteElement.appendChild(u.transformedElement),u.baseElement=u.matteElement}SVGMatte3Effect.prototype.findSymbol=function(f){for(var l=0,u=_svgMatteSymbols.length;l<u;){if(_svgMatteSymbols[l]===f)return _svgMatteSymbols[l];l+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(f,l){var u=f.layerElement.parentNode;if(u){for(var c=u.children,g=0,y=c.length;g<y&&c[g]!==f.layerElement;)g+=1;var m;g<=y-2&&(m=c[g+1]);var _=createNS("use");_.setAttribute("href","#"+l),m?u.insertBefore(_,m):u.appendChild(_)}},SVGMatte3Effect.prototype.setElementAsMask=function(f,l){if(!this.findSymbol(l)){var u=createElementID(),c=createNS("mask");c.setAttribute("id",l.layerId),c.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(l);var g=f.globalData.defs;g.appendChild(c);var y=createNS("symbol");y.setAttribute("id",u),this.replaceInParent(l,u),y.appendChild(l.layerElement),g.appendChild(y);var m=createNS("use");m.setAttribute("href","#"+u),c.appendChild(m),l.data.hd=!1,l.show()}f.setMatte(l.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var f=this.filterManager.effectElements[0].p.v,l=this.elem.comp.elements,u=0,c=l.length;u<c;)l[u]&&l[u].data.ind===f&&this.setElementAsMask(this.elem,l[u]),u+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(f,l,u,c){f.setAttribute("x","-100%"),f.setAttribute("y","-100%"),f.setAttribute("width","300%"),f.setAttribute("height","300%"),this.filterManager=l;var g=createNS("feGaussianBlur");g.setAttribute("result",c),f.appendChild(g),this.feGaussianBlur=g}SVGGaussianBlurEffect.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l=.3,u=this.filterManager.effectElements[0].p.v*l,c=this.filterManager.effectElements[1].p.v,g=c==3?0:u,y=c==2?0:u;this.feGaussianBlur.setAttribute("stdDeviation",g+" "+y);var m=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",m)}};function TransformEffect(){}TransformEffect.prototype.init=function(f){this.effectsManager=f,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(f){if(this._opMdf=!1,this._mdf=!1,f||this.effectsManager._mdf){var l=this.effectsManager.effectElements,u=l[0].p.v,c=l[1].p.v,g=l[2].p.v===1,y=l[3].p.v,m=g?y:l[4].p.v,_=l[5].p.v,p=l[6].p.v,x=l[7].p.v;this.matrix.reset(),this.matrix.translate(-u[0],-u[1],u[2]),this.matrix.scale(m*.01,y*.01,1),this.matrix.rotate(-x*degToRads),this.matrix.skewFromAxis(-_*degToRads,(p+90)*degToRads),this.matrix.translate(c[0],c[1],0),this._mdf=!0,this.opacity!==l[8].p.v&&(this.opacity=l[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(f,l){this.init(l)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(f){this.init(f)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports),ColorPicker_svelte_svelte_type_style_lang="";function create_fragment$k(f){let l,u,c,g,y,m,_,p,x,E,A,b,k,S,T,P,C,M,j,I,O,R,D,N,U,X,V,K,W,Q,L,G,J;return{c(){l=element("div"),u=element("div"),c=element("div"),g=element("strong"),y=text("Red"),m=space(),_=element("input"),p=space(),x=element("input"),E=space(),A=element("div"),b=element("strong"),k=text("Green"),S=space(),T=element("input"),P=space(),C=element("input"),M=space(),j=element("div"),I=element("strong"),O=text("Blue"),R=space(),D=element("input"),N=space(),U=element("input"),X=space(),V=element("div"),K=element("div"),W=space(),Q=element("div"),L=element("input"),this.h()},l(B){l=claim_element(B,"DIV",{class:!0});var Y=children(l);u=claim_element(Y,"DIV",{class:!0});var ie=children(u);c=claim_element(ie,"DIV",{class:!0});var ne=children(c);g=claim_element(ne,"STRONG",{class:!0});var Z=children(g);y=claim_text(Z,"Red"),Z.forEach(detach),m=claim_space(ne),_=claim_element(ne,"INPUT",{type:!0,min:!0,max:!0,class:!0}),p=claim_space(ne),x=claim_element(ne,"INPUT",{class:!0,type:!0}),ne.forEach(detach),E=claim_space(ie),A=claim_element(ie,"DIV",{class:!0});var H=children(A);b=claim_element(H,"STRONG",{class:!0});var z=children(b);k=claim_text(z,"Green"),z.forEach(detach),S=claim_space(H),T=claim_element(H,"INPUT",{type:!0,min:!0,max:!0,class:!0}),P=claim_space(H),C=claim_element(H,"INPUT",{class:!0,type:!0}),H.forEach(detach),M=claim_space(ie),j=claim_element(ie,"DIV",{class:!0});var ee=children(j);I=claim_element(ee,"STRONG",{class:!0});var se=children(I);O=claim_text(se,"Blue"),se.forEach(detach),R=claim_space(ee),D=claim_element(ee,"INPUT",{type:!0,min:!0,max:!0,class:!0}),N=claim_space(ee),U=claim_element(ee,"INPUT",{class:!0,type:!0}),ee.forEach(detach),ie.forEach(detach),X=claim_space(Y),V=claim_element(Y,"DIV",{class:!0});var le=children(V);K=claim_element(le,"DIV",{class:!0,style:!0}),children(K).forEach(detach),W=claim_space(le),Q=claim_element(le,"DIV",{});var ue=children(Q);L=claim_element(ue,"INPUT",{class:!0,type:!0}),ue.forEach(detach),le.forEach(detach),Y.forEach(detach),this.h()},h(){attr(g,"class","svelte-potnje"),attr(_,"type","range"),attr(_,"min","0"),attr(_,"max","255"),attr(_,"class","svelte-potnje"),attr(x,"class","text-input svelte-potnje"),attr(x,"type","number"),attr(c,"class","color-component svelte-potnje"),attr(b,"class","svelte-potnje"),attr(T,"type","range"),attr(T,"min","0"),attr(T,"max","255"),attr(T,"class","svelte-potnje"),attr(C,"class","text-input svelte-potnje"),attr(C,"type","number"),attr(A,"class","color-component svelte-potnje"),attr(I,"class","svelte-potnje"),attr(D,"type","range"),attr(D,"min","0"),attr(D,"max","255"),attr(D,"class","svelte-potnje"),attr(U,"class","text-input svelte-potnje"),attr(U,"type","number"),attr(j,"class","color-component svelte-potnje"),attr(u,"class","color-selectors svelte-potnje"),attr(K,"class","preview svelte-potnje"),set_style(K,"background",f[4]),attr(L,"class","text-input svelte-potnje"),attr(L,"type","text"),L.value=f[3],attr(V,"class","color-preview svelte-potnje"),attr(l,"class","color-picker svelte-potnje")},m(B,Y){insert_hydration(B,l,Y),append_hydration(l,u),append_hydration(u,c),append_hydration(c,g),append_hydration(g,y),append_hydration(c,m),append_hydration(c,_),set_input_value(_,f[0]),append_hydration(c,p),append_hydration(c,x),set_input_value(x,f[0]),append_hydration(u,E),append_hydration(u,A),append_hydration(A,b),append_hydration(b,k),append_hydration(A,S),append_hydration(A,T),set_input_value(T,f[1]),append_hydration(A,P),append_hydration(A,C),set_input_value(C,f[1]),append_hydration(u,M),append_hydration(u,j),append_hydration(j,I),append_hydration(I,O),append_hydration(j,R),append_hydration(j,D),set_input_value(D,f[2]),append_hydration(j,N),append_hydration(j,U),set_input_value(U,f[2]),append_hydration(l,X),append_hydration(l,V),append_hydration(V,K),append_hydration(V,W),append_hydration(V,Q),append_hydration(Q,L),G||(J=[listen(_,"change",f[7]),listen(_,"input",f[7]),listen(x,"input",f[8]),listen(T,"change",f[9]),listen(T,"input",f[9]),listen(C,"input",f[10]),listen(D,"change",f[11]),listen(D,"input",f[11]),listen(U,"input",f[12]),listen(L,"change",f[13])],G=!0)},p(B,[Y]){Y&1&&set_input_value(_,B[0]),Y&1&&to_number(x.value)!==B[0]&&set_input_value(x,B[0]),Y&2&&set_input_value(T,B[1]),Y&2&&to_number(C.value)!==B[1]&&set_input_value(C,B[1]),Y&4&&set_input_value(D,B[2]),Y&4&&to_number(U.value)!==B[2]&&set_input_value(U,B[2]),Y&16&&set_style(K,"background",B[4]),Y&8&&L.value!==B[3]&&(L.value=B[3])},i:noop,o:noop,d(B){B&&detach(l),G=!1,run_all(J)}}}function instance$i(f,l,u){let c;const g=createEventDispatcher();let{color:y}=l,m=0,_=0,p=0,x=null;const E=M=>{if(typeof M!="string")return;let j=[];M[0]==="#"?j=M.length===4?[M.slice(1,2),M.slice(2,3),M.slice(3,4)].map(I=>parseInt(`${I}${I}`,16)):[M.slice(1,3),M.slice(3,5),M.slice(5,7)].map(I=>parseInt(I,16)):M.startsWith("rgb")&&(j=M.match(/\d+/g).map(I=>parseInt(I))),j.length&&(u(0,m=j[0]),u(1,_=j[1]),u(2,p=j[2]))};function A(){m=to_number(this.value),u(0,m)}function b(){m=to_number(this.value),u(0,m)}function k(){_=to_number(this.value),u(1,_)}function S(){_=to_number(this.value),u(1,_)}function T(){p=to_number(this.value),u(2,p)}function P(){p=to_number(this.value),u(2,p)}const C=M=>E(M.target.value);return f.$$set=M=>{"color"in M&&u(6,y=M.color)},f.$$.update=()=>{f.$$.dirty&64&&E(y),f.$$.dirty&7&&u(3,x="#"+(m|256).toString(16).slice(1)+(_|256).toString(16).slice(1)+(p|256).toString(16).slice(1)),f.$$.dirty&7&&u(4,c=`rgb(${m}, ${_}, ${p})`),f.$$.dirty&24&&g("color",{hex:x,rgb:c})},[m,_,p,x,c,E,y,A,b,k,S,T,P,C]}class ColorPicker extends SvelteComponent{constructor(l){super(),init(this,l,instance$i,create_fragment$k,safe_not_equal,{color:6})}}const Info_svelte_svelte_type_style_lang="";function create_if_block_10$1(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Lottie Version"),g=space(),y=element("span"),m=text(f[9]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Lottie Version"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[9]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&512&&set_data(m,_[9])},d(_){_&&detach(l)}}}function create_if_block_9$1(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Frames"),g=space(),y=element("span"),m=text(f[6]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Frames"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[6]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&64&&set_data(m,_[6])},d(_){_&&detach(l)}}}function create_if_block_8$1(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Frame Rate"),g=space(),y=element("span"),m=text(f[1]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Frame Rate"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[1]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&2&&set_data(m,_[1])},d(_){_&&detach(l)}}}function create_if_block_7$1(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Layers"),g=space(),y=element("span"),m=text(f[7]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Layers"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[7]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&128&&set_data(m,_[7])},d(_){_&&detach(l)}}}function create_if_block_6$1(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Assets"),g=space(),y=element("span"),m=text(f[4]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Assets"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[4]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&16&&set_data(m,_[4])},d(_){_&&detach(l)}}}function create_if_block_5$1(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Fonts"),g=space(),y=element("span"),m=text(f[5]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Fonts"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[5]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&32&&set_data(m,_[5])},d(_){_&&detach(l)}}}function create_if_block$a(f){let l,u,c,g,y,m,_=f[2]&&create_if_block_4$1(f),p=f[0]&&create_if_block_3$2(f),x=f[3]&&create_if_block_2$4(f),E=f[8]&&create_if_block_1$6(f);return{c(){l=element("hr"),u=space(),_&&_.c(),c=space(),p&&p.c(),g=space(),x&&x.c(),y=space(),E&&E.c(),m=empty()},l(A){l=claim_element(A,"HR",{}),u=claim_space(A),_&&_.l(A),c=claim_space(A),p&&p.l(A),g=claim_space(A),x&&x.l(A),y=claim_space(A),E&&E.l(A),m=empty()},m(A,b){insert_hydration(A,l,b),insert_hydration(A,u,b),_&&_.m(A,b),insert_hydration(A,c,b),p&&p.m(A,b),insert_hydration(A,g,b),x&&x.m(A,b),insert_hydration(A,y,b),E&&E.m(A,b),insert_hydration(A,m,b)},p(A,b){A[2]?_?_.p(A,b):(_=create_if_block_4$1(A),_.c(),_.m(c.parentNode,c)):_&&(_.d(1),_=null),A[0]?p?p.p(A,b):(p=create_if_block_3$2(A),p.c(),p.m(g.parentNode,g)):p&&(p.d(1),p=null),A[3]?x?x.p(A,b):(x=create_if_block_2$4(A),x.c(),x.m(y.parentNode,y)):x&&(x.d(1),x=null),A[8]?E?E.p(A,b):(E=create_if_block_1$6(A),E.c(),E.m(m.parentNode,m)):E&&(E.d(1),E=null)},d(A){A&&detach(l),A&&detach(u),_&&_.d(A),A&&detach(c),p&&p.d(A),A&&detach(g),x&&x.d(A),A&&detach(y),E&&E.d(A),A&&detach(m)}}}function create_if_block_4$1(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Generator"),g=space(),y=element("span"),m=text(f[2]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Generator"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[2]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&4&&set_data(m,_[2])},d(_){_&&detach(l)}}}function create_if_block_3$2(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Author"),g=space(),y=element("span"),m=text(f[0]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Author"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[0]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&1&&set_data(m,_[0])},d(_){_&&detach(l)}}}function create_if_block_2$4(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Keywords"),g=space(),y=element("span"),m=text(f[3]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Keywords"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[3]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&8&&set_data(m,_[3])},d(_){_&&detach(l)}}}function create_if_block_1$6(f){let l,u,c,g,y,m;return{c(){l=element("div"),u=element("span"),c=text("Theme Color"),g=space(),y=element("span"),m=text(f[8]),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);u=claim_element(p,"SPAN",{class:!0});var x=children(u);c=claim_text(x,"Theme Color"),x.forEach(detach),g=claim_space(p),y=claim_element(p,"SPAN",{class:!0});var E=children(y);m=claim_text(E,f[8]),E.forEach(detach),p.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(y,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),append_hydration(y,m)},p(_,p){p&256&&set_data(m,_[8])},d(_){_&&detach(l)}}}function create_fragment$j(f){let l,u,c,g,y,m,_,p,x,E,A=f[9]&&create_if_block_10$1(f),b=f[6]&&create_if_block_9$1(f),k=f[1]&&create_if_block_8$1(f),S=f[7]&&create_if_block_7$1(f),T=f[4]&&create_if_block_6$1(f),P=f[5]&&create_if_block_5$1(f),C=f[10]&&create_if_block$a(f);return{c(){l=element("h4"),u=text("Info"),c=space(),A&&A.c(),g=space(),b&&b.c(),y=space(),k&&k.c(),m=space(),S&&S.c(),_=space(),T&&T.c(),p=space(),P&&P.c(),x=space(),C&&C.c(),E=empty(),this.h()},l(M){l=claim_element(M,"H4",{class:!0});var j=children(l);u=claim_text(j,"Info"),j.forEach(detach),c=claim_space(M),A&&A.l(M),g=claim_space(M),b&&b.l(M),y=claim_space(M),k&&k.l(M),m=claim_space(M),S&&S.l(M),_=claim_space(M),T&&T.l(M),p=claim_space(M),P&&P.l(M),x=claim_space(M),C&&C.l(M),E=empty(),this.h()},h(){attr(l,"class","svelte-54ndm9")},m(M,j){insert_hydration(M,l,j),append_hydration(l,u),insert_hydration(M,c,j),A&&A.m(M,j),insert_hydration(M,g,j),b&&b.m(M,j),insert_hydration(M,y,j),k&&k.m(M,j),insert_hydration(M,m,j),S&&S.m(M,j),insert_hydration(M,_,j),T&&T.m(M,j),insert_hydration(M,p,j),P&&P.m(M,j),insert_hydration(M,x,j),C&&C.m(M,j),insert_hydration(M,E,j)},p(M,[j]){M[9]?A?A.p(M,j):(A=create_if_block_10$1(M),A.c(),A.m(g.parentNode,g)):A&&(A.d(1),A=null),M[6]?b?b.p(M,j):(b=create_if_block_9$1(M),b.c(),b.m(y.parentNode,y)):b&&(b.d(1),b=null),M[1]?k?k.p(M,j):(k=create_if_block_8$1(M),k.c(),k.m(m.parentNode,m)):k&&(k.d(1),k=null),M[7]?S?S.p(M,j):(S=create_if_block_7$1(M),S.c(),S.m(_.parentNode,_)):S&&(S.d(1),S=null),M[4]?T?T.p(M,j):(T=create_if_block_6$1(M),T.c(),T.m(p.parentNode,p)):T&&(T.d(1),T=null),M[5]?P?P.p(M,j):(P=create_if_block_5$1(M),P.c(),P.m(x.parentNode,x)):P&&(P.d(1),P=null),M[10]?C?C.p(M,j):(C=create_if_block$a(M),C.c(),C.m(E.parentNode,E)):C&&(C.d(1),C=null)},i:noop,o:noop,d(M){M&&detach(l),M&&detach(c),A&&A.d(M),M&&detach(g),b&&b.d(M),M&&detach(y),k&&k.d(M),M&&detach(m),S&&S.d(M),M&&detach(_),T&&T.d(M),M&&detach(p),P&&P.d(M),M&&detach(x),C&&C.d(M),M&&detach(E)}}}function instance$h(f,l,u){let{animationData:c}=l,g,y,m,_,p,x,E,A,b,k,S=!1;return f.$$set=T=>{"animationData"in T&&u(11,c=T.animationData)},f.$$.update=()=>{f.$$.dirty&2048&&c&&(u(1,y=c.fr),u(4,p=c.assets?c.assets.length:0),u(5,x=c.fonts?c.fonts.length:0),u(6,E=c.op-c.ip),u(7,A=c.layers?c.layers.length:0),u(9,k=c.v),c.meta&&(u(10,S=!0),u(0,g=c.meta.a),u(2,m=c.meta.g),u(3,_=c.meta.k),u(8,b=c.meta.tc)))},[g,y,m,_,p,x,E,A,b,k,S,c]}class Info extends SvelteComponent{constructor(l){super(),init(this,l,instance$h,create_fragment$j,safe_not_equal,{animationData:11})}}const Popover_svelte_svelte_type_style_lang="",get_content_slot_changes=f=>({}),get_content_slot_context=f=>({}),get_target_slot_changes=f=>({}),get_target_slot_context=f=>({});function create_fragment$i(f){let l,u,c,g,y,m,_,p,x;const E=f[8].target,A=create_slot(E,f,f[7],get_target_slot_context),b=f[8].content,k=create_slot(b,f,f[7],get_content_slot_context);return{c(){l=element("div"),u=element("div"),A&&A.c(),c=space(),g=element("div"),k&&k.c(),y=space(),m=element("div"),this.h()},l(S){l=claim_element(S,"DIV",{class:!0});var T=children(l);u=claim_element(T,"DIV",{});var P=children(u);A&&A.l(P),P.forEach(detach),c=claim_space(T),g=claim_element(T,"DIV",{class:!0});var C=children(g);k&&k.l(C),y=claim_space(C),m=claim_element(C,"DIV",{class:!0,style:!0}),children(m).forEach(detach),C.forEach(detach),T.forEach(detach),this.h()},h(){attr(m,"class","arrow svelte-1i83hqr"),set_style(m,"border-color",f[0]+" transparent transparent transparent"),attr(g,"class","popover-content svelte-1i83hqr"),toggle_class(g,"hidden",!f[4]),toggle_class(g,"left-align",f[3]!==-1),toggle_class(g,"right-align",f[3]===-1),attr(l,"class","popover svelte-1i83hqr")},m(S,T){insert_hydration(S,l,T),append_hydration(l,u),A&&A.m(u,null),f[12](u),append_hydration(l,c),append_hydration(l,g),k&&k.m(g,null),append_hydration(g,y),append_hydration(g,m),f[13](g),_=!0,p||(x=[listen(l,"mousedown",f[9]),listen(l,"mouseover",f[5]),listen(l,"mouseout",f[6]),listen(l,"mouseup",f[10]),listen(l,"mousewheel",f[11])],p=!0)},p(S,[T]){A&&A.p&&(!_||T&128)&&update_slot_base(A,E,S,S[7],_?get_slot_changes(E,S[7],T,get_target_slot_changes):get_all_dirty_from_scope(S[7]),get_target_slot_context),k&&k.p&&(!_||T&128)&&update_slot_base(k,b,S,S[7],_?get_slot_changes(b,S[7],T,get_content_slot_changes):get_all_dirty_from_scope(S[7]),get_content_slot_context),(!_||T&1)&&set_style(m,"border-color",S[0]+" transparent transparent transparent"),(!_||T&16)&&toggle_class(g,"hidden",!S[4]),(!_||T&8)&&toggle_class(g,"left-align",S[3]!==-1),(!_||T&8)&&toggle_class(g,"right-align",S[3]===-1)},i(S){_||(transition_in(A,S),transition_in(k,S),_=!0)},o(S){transition_out(A,S),transition_out(k,S),_=!1},d(S){S&&detach(l),A&&A.d(S),f[12](null),k&&k.d(S),f[13](null),p=!1,run_all(x)}}}function instance$g(f,l,u){let{$$slots:c={},$$scope:g}=l,{color:y="transparent"}=l,m,_,p,x=!0;onMount(()=>{const C=m.getBoundingClientRect(),M=_.getBoundingClientRect();u(3,p=C.left+M.width>window.innerWidth?-1:0),u(2,_.style.bottom=C.height+"px",_),A()});const E=()=>{u(4,x=!0)},A=()=>{u(4,x=!1)};function b(C){bubble.call(this,f,C)}function k(C){bubble.call(this,f,C)}function S(C){bubble.call(this,f,C)}function T(C){binding_callbacks[C?"unshift":"push"](()=>{m=C,u(1,m)})}function P(C){binding_callbacks[C?"unshift":"push"](()=>{_=C,u(2,_)})}return f.$$set=C=>{"color"in C&&u(0,y=C.color),"$$scope"in C&&u(7,g=C.$$scope)},[y,m,_,p,x,E,A,g,c,b,k,S,T,P]}class Popover extends SvelteComponent{constructor(l){super(),init(this,l,instance$g,create_fragment$i,safe_not_equal,{color:0})}}const PlayerRender={SVG:"svg",Canvas:"canvas"},PlayerState={Loading:"loading",Playing:"playing",Paused:"paused",Stopped:"stopped",Frozen:"frozen",Error:"error"},PlayMode={Normal:"normal",Bounce:"bounce"},PlayerEvents={Load:"load",Error:"error",Ready:"ready",Play:"play",Pause:"pause",Stop:"stop",Freeze:"freeze",Loop:"loop",Complete:"complete",Frame:"frame"},ControlsLayoutOptions=["previousFrame","playpause","stop","nextFrame","progress","frame","loop","spacer","background","snapshot","info","zoom"],parseSrc=f=>{if(typeof f=="object")return f;try{return JSON.parse(f)}catch{return new URL(f,window.location.href).toString()}},triggerDownload=(f,l)=>{const u=document.createElement("a");u.href=f,u.download=l,document.body.appendChild(u),u.click(),document.body.removeChild(u)},Controls_svelte_svelte_type_style_lang="";function get_each_context$4(f,l,u){const c=f.slice();return c[40]=l[u],c}function create_if_block_13(f){let l;return{c(){l=element("div"),this.h()},l(u){l=claim_element(u,"DIV",{class:!0}),children(l).forEach(detach),this.h()},h(){attr(l,"class","spacer svelte-y4y35s")},m(u,c){insert_hydration(u,l,c)},p:noop,i:noop,o:noop,d(u){u&&detach(l)}}}function create_if_block_12(f){let l,u,c,g,y,m,_,p=[f[19]],x={};for(let E=0;E<p.length;E+=1)x=assign(x,p[E]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),g=svg_element("rect"),y=space(),this.h()},l(E){l=claim_element(E,"DIV",{class:!0});var A=children(l);u=claim_svg_element(A,"svg",{});var b=children(u);c=claim_svg_element(b,"path",{d:!0}),children(c).forEach(detach),g=claim_svg_element(b,"rect",{height:!0,rx:!0,transform:!0,width:!0}),children(g).forEach(detach),b.forEach(detach),y=claim_space(A),A.forEach(detach),this.h()},h(){attr(c,"d","M22 4.5a1.4 1.4 0 00-2.1-1.2l-13 7.5a1.4 1.4 0 000 2.4l13 7.5a1.4 1.4 0 002.1-1.2z"),attr(g,"height","17.1"),attr(g,"rx","1.4"),attr(g,"transform","matrix(-1 0 0 1 7.7 3.4)"),attr(g,"width","5.7"),set_svg_attributes(u,x),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s")},m(E,A){insert_hydration(E,l,A),append_hydration(l,u),append_hydration(u,c),append_hydration(u,g),append_hydration(l,y),m||(_=listen(l,"click",f[24]),m=!0)},p(E,A){toggle_class(u,"svelte-y4y35s",!0)},i:noop,o:noop,d(E){E&&detach(l),m=!1,_()}}}function create_if_block_11(f){let l,u,c,g,y,m,_,p=[f[19]],x={};for(let E=0;E<p.length;E+=1)x=assign(x,p[E]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),g=svg_element("rect"),y=space(),this.h()},l(E){l=claim_element(E,"DIV",{class:!0});var A=children(l);u=claim_svg_element(A,"svg",{});var b=children(u);c=claim_svg_element(b,"path",{d:!0}),children(c).forEach(detach),g=claim_svg_element(b,"rect",{height:!0,rx:!0,transform:!0,width:!0}),children(g).forEach(detach),b.forEach(detach),y=claim_space(A),A.forEach(detach),this.h()},h(){attr(c,"d",`M2 19.513a1.429 1.429 0 0 0 2.148 1.234l12.88-7.513a1.429 1.429 0 0 0 0-2.468L4.147 3.253A1.429 1.429 0 0
            0 2 4.487z`),attr(g,"height","17.143"),attr(g,"rx","1.429"),attr(g,"transform","matrix(1 0 0 -1 16.286 20.571)"),attr(g,"width","5.714"),set_svg_attributes(u,x),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s")},m(E,A){insert_hydration(E,l,A),append_hydration(l,u),append_hydration(u,c),append_hydration(u,g),append_hydration(l,y),m||(_=listen(l,"click",f[23]),m=!0)},p(E,A){toggle_class(u,"svelte-y4y35s",!0)},i:noop,o:noop,d(E){E&&detach(l),m=!1,_()}}}function create_if_block_10(f){let l,u,c,g,y;return{c(){l=element("div"),u=element("input"),c=space(),this.h()},l(m){l=claim_element(m,"DIV",{class:!0});var _=children(l);u=claim_element(_,"INPUT",{class:!0,type:!0}),c=claim_space(_),_.forEach(detach),this.h()},h(){attr(u,"class","frame-number svelte-y4y35s"),attr(u,"type","text"),attr(l,"class"," svelte-y4y35s")},m(m,_){insert_hydration(m,l,_),append_hydration(l,u),set_input_value(u,f[15]),append_hydration(l,c),g||(y=[listen(u,"input",f[34]),listen(u,"mouseout",f[35]),listen(u,"mouseover",f[36]),listen(u,"input",f[37]),listen(u,"mousewheel",f[38])],g=!0)},p(m,_){_[0]&32768&&u.value!==m[15]&&set_input_value(u,m[15])},i:noop,o:noop,d(m){m&&detach(l),g=!1,run_all(y)}}}function create_if_block_9(f){let l,u,c,g;return u=new Popover({props:{color:"#fff",$$slots:{content:[create_content_slot_2],target:[create_target_slot_2]},$$scope:{ctx:f}}}),{c(){l=element("div"),create_component(u.$$.fragment),c=space(),this.h()},l(y){l=claim_element(y,"DIV",{class:!0});var m=children(l);claim_component(u.$$.fragment,m),c=claim_space(m),m.forEach(detach),this.h()},h(){attr(l,"class"," svelte-y4y35s")},m(y,m){insert_hydration(y,l,m),mount_component(u,l,null),append_hydration(l,c),g=!0},p(y,m){const _={};m[0]&2|m[1]&4096&&(_.$$scope={dirty:m,ctx:y}),u.$set(_)},i(y){g||(transition_in(u.$$.fragment,y),g=!0)},o(y){transition_out(u.$$.fragment,y),g=!1},d(y){y&&detach(l),destroy_component(u)}}}function create_if_block_7(f){let l,u,c,g;function y(p,x){return p[14]?create_if_block_8:create_else_block_1}let m=y(f),_=m(f);return{c(){l=element("div"),_.c(),u=space(),this.h()},l(p){l=claim_element(p,"DIV",{class:!0});var x=children(l);_.l(x),u=claim_space(x),x.forEach(detach),this.h()},h(){attr(l,"class","btn svelte-y4y35s")},m(p,x){insert_hydration(p,l,x),_.m(l,null),append_hydration(l,u),c||(g=listen(l,"click",f[22]),c=!0)},p(p,x){m===(m=y(p))&&_?_.p(p,x):(_.d(1),_=m(p),_&&(_.c(),_.m(l,u)))},i:noop,o:noop,d(p){p&&detach(l),_.d(),c=!1,g()}}}function create_if_block_6(f){let l,u,c,g,y,m;return u=new Popover({props:{color:"#fff",$$slots:{content:[create_content_slot_1],target:[create_target_slot_1]},$$scope:{ctx:f}}}),u.$on("mousewheel",f[31]),{c(){l=element("div"),create_component(u.$$.fragment),c=space(),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);claim_component(u.$$.fragment,p),c=claim_space(p),p.forEach(detach),this.h()},h(){attr(l,"class"," svelte-y4y35s")},m(_,p){insert_hydration(_,l,p),mount_component(u,l,null),append_hydration(l,c),g=!0,y||(m=[listen(l,"mouseout",f[32]),listen(l,"mouseover",f[33])],y=!0)},p(_,p){const x={};p[0]&33792|p[1]&4096&&(x.$$scope={dirty:p,ctx:_}),u.$set(x)},i(_){g||(transition_in(u.$$.fragment,_),g=!0)},o(_){transition_out(u.$$.fragment,_),g=!1},d(_){_&&detach(l),destroy_component(u),y=!1,run_all(m)}}}function create_if_block_5(f){let l,u,c,g;return u=new Popover({props:{color:"#fff",$$slots:{content:[create_content_slot],target:[create_target_slot]},$$scope:{ctx:f}}}),{c(){l=element("div"),create_component(u.$$.fragment),c=space(),this.h()},l(y){l=claim_element(y,"DIV",{class:!0});var m=children(l);claim_component(u.$$.fragment,m),c=claim_space(m),m.forEach(detach),this.h()},h(){attr(l,"class"," svelte-y4y35s")},m(y,m){insert_hydration(y,l,m),mount_component(u,l,null),append_hydration(l,c),g=!0},p(y,m){const _={};m[0]&4|m[1]&4096&&(_.$$scope={dirty:m,ctx:y}),u.$set(_)},i(y){g||(transition_in(u.$$.fragment,y),g=!0)},o(y){transition_out(u.$$.fragment,y),g=!1},d(y){y&&detach(l),destroy_component(u)}}}function create_if_block_4(f){let l,u,c,g,y,m,_,p=[f[19]],x={};for(let E=0;E<p.length;E+=1)x=assign(x,p[E]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),g=svg_element("path"),y=space(),this.h()},l(E){l=claim_element(E,"DIV",{class:!0});var A=children(l);u=claim_svg_element(A,"svg",{});var b=children(u);c=claim_svg_element(b,"path",{d:!0,stroke:!0,"stroke-width":!0}),children(c).forEach(detach),g=claim_svg_element(b,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),children(g).forEach(detach),b.forEach(detach),y=claim_space(A),A.forEach(detach),this.h()},h(){attr(c,"d",`M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116
            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0
            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025
            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0
            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115
            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z`),attr(c,"stroke","#8795A1"),attr(c,"stroke-width",".26"),attr(g,"d",`M11.1482
            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898
            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347
            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014
            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453
            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368
            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671
            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442
            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z`),attr(g,"fill","#8795A1"),attr(g,"stroke","#8795A1"),attr(g,"stroke-width",".26"),set_svg_attributes(u,x),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),toggle_class(l,"active",f[7])},m(E,A){insert_hydration(E,l,A),append_hydration(l,u),append_hydration(u,c),append_hydration(u,g),append_hydration(l,y),m||(_=listen(l,"click",function(){is_function(f[12])&&f[12].apply(this,arguments)}),m=!0)},p(E,A){f=E,toggle_class(u,"svelte-y4y35s",!0),A[0]&128&&toggle_class(l,"active",f[7])},i:noop,o:noop,d(E){E&&detach(l),m=!1,_()}}}function create_if_block_3$1(f){let l,u,c,g;return{c(){l=element("input"),this.h()},l(y){l=claim_element(y,"INPUT",{class:!0,type:!0,min:!0,step:!0,max:!0,style:!0}),this.h()},h(){attr(l,"class","progress svelte-y4y35s"),attr(l,"type","range"),attr(l,"min","0"),attr(l,"step","1"),attr(l,"max","100"),attr(l,"style",u=`
          background-image: -webkit-gradient(linear, left top, right top, color-stop(${f[0]}%, rgba(15, 204, 206, 0.4)), color-stop(${f[0]}%, #DAE1E7));
          background-image: -moz-linear-gradient(left center, rgba(15, 204, 206, 0.4) 0%, rgba(15, 204, 206, 0.4) ${f[0]}%, #DAE1E7 ${f[0]}%, #DAE1E7 100%);
        `)},m(y,m){insert_hydration(y,l,m),set_input_value(l,f[0]),c||(g=[listen(l,"change",f[28]),listen(l,"input",f[28]),listen(l,"input",f[20]),listen(l,"mousedown",function(){is_function(f[5])&&f[5].apply(this,arguments)}),listen(l,"mouseup",function(){is_function(f[8])&&f[8].apply(this,arguments)})],c=!0)},p(y,m){f=y,m[0]&1&&u!==(u=`
          background-image: -webkit-gradient(linear, left top, right top, color-stop(${f[0]}%, rgba(15, 204, 206, 0.4)), color-stop(${f[0]}%, #DAE1E7));
          background-image: -moz-linear-gradient(left center, rgba(15, 204, 206, 0.4) 0%, rgba(15, 204, 206, 0.4) ${f[0]}%, #DAE1E7 ${f[0]}%, #DAE1E7 100%);
        `)&&attr(l,"style",u),m[0]&1&&set_input_value(l,f[0])},i:noop,o:noop,d(y){y&&detach(l),c=!1,run_all(g)}}}function create_if_block_2$3(f){let l,u,c,g,y,m,_=[f[19]],p={};for(let x=0;x<_.length;x+=1)p=assign(p,_[x]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),g=space(),this.h()},l(x){l=claim_element(x,"DIV",{class:!0});var E=children(l);u=claim_svg_element(E,"svg",{});var A=children(u);c=claim_svg_element(A,"path",{d:!0}),children(c).forEach(detach),A.forEach(detach),g=claim_space(E),E.forEach(detach),this.h()},h(){attr(c,"d",`M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333
            22H3.667A1.67 1.67 0 0 1 2 20.333z`),set_svg_attributes(u,p),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),toggle_class(l,"active",f[16])},m(x,E){insert_hydration(x,l,E),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),y||(m=listen(l,"click",function(){is_function(f[11])&&f[11].apply(this,arguments)}),y=!0)},p(x,E){f=x,toggle_class(u,"svelte-y4y35s",!0),E[0]&65536&&toggle_class(l,"active",f[16])},i:noop,o:noop,d(x){x&&detach(l),y=!1,m()}}}function create_if_block$9(f){let l,u,c,g;function y(p,x){return p[18]?create_if_block_1$5:create_else_block$3}let m=y(f),_=m(f);return{c(){l=element("div"),_.c(),u=space(),this.h()},l(p){l=claim_element(p,"DIV",{class:!0});var x=children(l);_.l(x),u=claim_space(x),x.forEach(detach),this.h()},h(){attr(l,"class","btn svelte-y4y35s"),toggle_class(l,"active",f[18]||f[17])},m(p,x){insert_hydration(p,l,x),_.m(l,null),append_hydration(l,u),c||(g=listen(l,"click",function(){is_function(f[13])&&f[13].apply(this,arguments)}),c=!0)},p(p,x){f=p,m===(m=y(f))&&_?_.p(f,x):(_.d(1),_=m(f),_&&(_.c(),_.m(l,u))),x[0]&393216&&toggle_class(l,"active",f[18]||f[17])},i:noop,o:noop,d(p){p&&detach(l),_.d(),c=!1,g()}}}function create_target_slot_2(f){let l,u,c,g,y=[f[19]],m={};for(let _=0;_<y.length;_+=1)m=assign(m,y[_]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),g=svg_element("path"),this.h()},l(_){l=claim_element(_,"DIV",{class:!0,slot:!0});var p=children(l);u=claim_svg_element(p,"svg",{});var x=children(u);c=claim_svg_element(x,"path",{"fill-rule":!0,"clip-rule":!0,d:!0}),children(c).forEach(detach),g=claim_svg_element(x,"path",{"fill-rule":!0,"clip-rule":!0,d:!0}),children(g).forEach(detach),x.forEach(detach),p.forEach(detach),this.h()},h(){attr(c,"fill-rule","evenodd"),attr(c,"clip-rule","evenodd"),attr(c,"d",`M3.15 0h17.7A3.12 3.12 0 0124 3.1v17.8c0 1.71-1.4 3.1-3.15 3.1H3.15A3.12 3.12 0 010 20.9V3.1C0 1.39
                1.4 0 3.15 0zm0 2.05c-.6 0-1.07.47-1.07 1.05v17.8c0 .58.48 1.05 1.07 1.05h17.7c.6 0 1.07-.47
                1.07-1.05V3.1c0-.58-.48-1.05-1.07-1.05H3.15z`),attr(g,"fill-rule","evenodd"),attr(g,"clip-rule","evenodd"),attr(g,"d",`M12 10c.55 0 1 .42 1 .94v6.12c0 .52-.45.94-1 .94s-1-.42-1-.94v-6.12c0-.52.45-.94 1-.94zM12 6a1 1 0
                011 1v.42a1 1 0 11-2 0V7a1 1 0 011-1z`),set_svg_attributes(u,m),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),attr(l,"slot","target")},m(_,p){insert_hydration(_,l,p),append_hydration(l,u),append_hydration(u,c),append_hydration(u,g)},p(_,p){toggle_class(u,"svelte-y4y35s",!0)},d(_){_&&detach(l)}}}function create_content_slot_2(f){let l,u,c;return u=new Info({props:{animationData:f[1]}}),{c(){l=element("div"),create_component(u.$$.fragment),this.h()},l(g){l=claim_element(g,"DIV",{slot:!0,class:!0});var y=children(l);claim_component(u.$$.fragment,y),y.forEach(detach),this.h()},h(){attr(l,"slot","content"),attr(l,"class","popover popover-info svelte-y4y35s")},m(g,y){insert_hydration(g,l,y),mount_component(u,l,null),c=!0},p(g,y){const m={};y[0]&2&&(m.animationData=g[1]),u.$set(m)},i(g){c||(transition_in(u.$$.fragment,g),c=!0)},o(g){transition_out(u.$$.fragment,g),c=!1},d(g){g&&detach(l),destroy_component(u)}}}function create_else_block_1(f){let l,u,c=[f[19]],g={};for(let y=0;y<c.length;y+=1)g=assign(g,c[y]);return{c(){l=svg_element("svg"),u=svg_element("path"),this.h()},l(y){l=claim_svg_element(y,"svg",{});var m=children(l);u=claim_svg_element(m,"path",{d:!0,"stroke-width":!0}),children(u).forEach(detach),m.forEach(detach),this.h()},h(){attr(u,"d",`M21 8a1 1 0 102 0V4a3 3 0 00-3-3h-4a1 1 0 100 2h4a1 1 0 011 1v4zM1 8a1 1 0 102 0V4a1 1 0 011-1h4a1 1 0
              100-2H4a3 3 0 00-3 3v4zm15 15h4a3 3 0 003-3v-4a1 1 0 10-2 0v4a1 1 0 01-1 1h-4a1 1 0 100 2zM4 23h4a1 1 0
              100-2H4a1 1 0 01-1-1v-4a1 1 0 10-2 0v4a3 3 0 003 3z`),attr(u,"stroke-width",".2"),set_svg_attributes(l,g),toggle_class(l,"svelte-y4y35s",!0)},m(y,m){insert_hydration(y,l,m),append_hydration(l,u)},p(y,m){toggle_class(l,"svelte-y4y35s",!0)},d(y){y&&detach(l)}}}function create_if_block_8(f){let l,u,c=[f[19]],g={};for(let y=0;y<c.length;y+=1)g=assign(g,c[y]);return{c(){l=svg_element("svg"),u=svg_element("path"),this.h()},l(y){l=claim_svg_element(y,"svg",{});var m=children(l);u=claim_svg_element(m,"path",{d:!0,"stroke-width":!0}),children(u).forEach(detach),m.forEach(detach),this.h()},h(){attr(u,"d",`M7 22a1 1 0 102 0v-4a3 3 0 00-3-3H2a1 1 0 100 2h4a1 1 0 011 1v4zm8 0a1 1 0 102 0v-4a1 1 0 011-1h4a1 1 0
              100-2h-4a3 3 0 00-3 3v4zM2 9h4a3 3 0 003-3V2a1 1 0 10-2 0v4a1 1 0 01-1 1H2a1 1 0 100 2zm16 0h4a1 1 0
              100-2h-4a1 1 0 01-1-1V2a1 1 0 10-2 0v4a3 3 0 003 3z`),attr(u,"stroke-width",".2"),set_svg_attributes(l,g),toggle_class(l,"svelte-y4y35s",!0)},m(y,m){insert_hydration(y,l,m),append_hydration(l,u)},p(y,m){toggle_class(l,"svelte-y4y35s",!0)},d(y){y&&detach(l)}}}function create_target_slot_1(f){let l,u,c,g,y,m,_=[f[19]],p={};for(let x=0;x<_.length;x+=1)p=assign(p,_[x]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),g=svg_element("path"),y=svg_element("circle"),m=svg_element("path"),this.h()},l(x){l=claim_element(x,"DIV",{class:!0,slot:!0});var E=children(l);u=claim_svg_element(E,"svg",{});var A=children(u);c=claim_svg_element(A,"path",{"clip-rule":!0,d:!0,"fill-rule":!0}),children(c).forEach(detach),g=claim_svg_element(A,"path",{d:!0}),children(g).forEach(detach),y=claim_svg_element(A,"circle",{cx:!0,cy:!0,r:!0}),children(y).forEach(detach),m=claim_svg_element(A,"path",{d:!0,stroke:!0,"stroke-width":!0}),children(m).forEach(detach),A.forEach(detach),E.forEach(detach),this.h()},h(){attr(c,"clip-rule","evenodd"),attr(c,"d",`M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983
                2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0
                .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z`),attr(c,"fill-rule","evenodd"),attr(g,"d","M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"),attr(y,"cx","7.444"),attr(y,"cy","6.513"),attr(y,"r","2.032"),attr(m,"d",`M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0
                01-.803.804H9.562a1.061 1.061 0 100 2.123z`),attr(m,"stroke","#8795a1"),attr(m,"stroke-width",".215"),set_svg_attributes(u,p),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),attr(l,"slot","target")},m(x,E){insert_hydration(x,l,E),append_hydration(l,u),append_hydration(u,c),append_hydration(u,g),append_hydration(u,y),append_hydration(u,m)},p(x,E){toggle_class(u,"svelte-y4y35s",!0)},d(x){x&&detach(l)}}}function create_content_slot_1(f){let l,u,c,g,y,m,_,p,x,E,A,b,k,S,T;return{c(){l=element("div"),u=element("h5"),c=text("Frame "),g=text(f[15]),y=space(),m=element("a"),_=text("Download SVG"),p=space(),x=element("a"),E=text("Download PNG"),A=space(),b=element("i"),k=text("Scroll with mousewheel to find exact frame"),this.h()},l(P){l=claim_element(P,"DIV",{slot:!0,class:!0});var C=children(l);u=claim_element(C,"H5",{class:!0});var M=children(u);c=claim_text(M,"Frame "),g=claim_text(M,f[15]),M.forEach(detach),y=claim_space(C),m=claim_element(C,"A",{href:!0,class:!0});var j=children(m);_=claim_text(j,"Download SVG"),j.forEach(detach),p=claim_space(C),x=claim_element(C,"A",{href:!0,class:!0});var I=children(x);E=claim_text(I,"Download PNG"),I.forEach(detach),A=claim_space(C),b=claim_element(C,"I",{class:!0});var O=children(b);k=claim_text(O,"Scroll with mousewheel to find exact frame"),O.forEach(detach),C.forEach(detach),this.h()},h(){attr(u,"class","svelte-y4y35s"),attr(m,"href","#downloadsvg"),attr(m,"class","svelte-y4y35s"),attr(x,"href","#downloadsvg"),attr(x,"class","svelte-y4y35s"),attr(b,"class","note svelte-y4y35s"),attr(l,"slot","content"),attr(l,"class","popover popover-snapshot svelte-y4y35s")},m(P,C){insert_hydration(P,l,C),append_hydration(l,u),append_hydration(u,c),append_hydration(u,g),append_hydration(l,y),append_hydration(l,m),append_hydration(m,_),append_hydration(l,p),append_hydration(l,x),append_hydration(x,E),append_hydration(l,A),append_hydration(l,b),append_hydration(b,k),S||(T=[listen(m,"click",f[29]),listen(x,"click",f[30])],S=!0)},p(P,C){C[0]&32768&&set_data(g,P[15])},d(P){P&&detach(l),S=!1,run_all(T)}}}function create_target_slot(f){let l,u,c,g=[f[19]],y={};for(let m=0;m<g.length;m+=1)y=assign(y,g[m]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),this.h()},l(m){l=claim_element(m,"DIV",{class:!0,slot:!0});var _=children(l);u=claim_svg_element(_,"svg",{});var p=children(u);c=claim_svg_element(p,"path",{d:!0}),children(c).forEach(detach),p.forEach(detach),_.forEach(detach),this.h()},h(){attr(c,"d",`M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0
                3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1
                9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0
                01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6
                1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z`),set_svg_attributes(u,y),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),attr(l,"slot","target")},m(m,_){insert_hydration(m,l,_),append_hydration(l,u),append_hydration(u,c)},p(m,_){toggle_class(u,"svelte-y4y35s",!0)},d(m){m&&detach(l)}}}function create_content_slot(f){let l,u,c;return u=new ColorPicker({props:{color:f[2]}}),u.$on("color",f[21]),{c(){l=element("div"),create_component(u.$$.fragment),this.h()},l(g){l=claim_element(g,"DIV",{slot:!0,class:!0});var y=children(l);claim_component(u.$$.fragment,y),y.forEach(detach),this.h()},h(){attr(l,"slot","content"),attr(l,"class","popover popover-background svelte-y4y35s")},m(g,y){insert_hydration(g,l,y),mount_component(u,l,null),c=!0},p(g,y){const m={};y[0]&4&&(m.color=g[2]),u.$set(m)},i(g){c||(transition_in(u.$$.fragment,g),c=!0)},o(g){transition_out(u.$$.fragment,g),c=!1},d(g){g&&detach(l),destroy_component(u)}}}function create_else_block$3(f){let l,u,c=[f[19]],g={};for(let y=0;y<c.length;y+=1)g=assign(g,c[y]);return{c(){l=svg_element("svg"),u=svg_element("path"),this.h()},l(y){l=claim_svg_element(y,"svg",{});var m=children(l);u=claim_svg_element(m,"path",{d:!0}),children(u).forEach(detach),m.forEach(detach),this.h()},h(){attr(u,"d","M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"),set_svg_attributes(l,g),toggle_class(l,"svelte-y4y35s",!0)},m(y,m){insert_hydration(y,l,m),append_hydration(l,u)},p(y,m){toggle_class(l,"svelte-y4y35s",!0)},d(y){y&&detach(l)}}}function create_if_block_1$5(f){let l,u,c,g=[f[19]],y={};for(let m=0;m<g.length;m+=1)y=assign(y,g[m]);return{c(){l=svg_element("svg"),u=svg_element("rect"),c=svg_element("rect"),this.h()},l(m){l=claim_svg_element(m,"svg",{});var _=children(l);u=claim_svg_element(_,"rect",{height:!0,rx:!0,width:!0,x:!0,y:!0}),children(u).forEach(detach),c=claim_svg_element(_,"rect",{height:!0,rx:!0,width:!0,x:!0,y:!0}),children(c).forEach(detach),_.forEach(detach),this.h()},h(){attr(u,"height","22.9"),attr(u,"rx","1.9"),attr(u,"width","7.6"),attr(u,"x","14"),attr(u,"y",".5"),attr(c,"height","22.9"),attr(c,"rx","1.9"),attr(c,"width","7.6"),attr(c,"x","2"),attr(c,"y",".5"),set_svg_attributes(l,y),toggle_class(l,"svelte-y4y35s",!0)},m(m,_){insert_hydration(m,l,_),append_hydration(l,u),append_hydration(l,c)},p(m,_){toggle_class(l,"svelte-y4y35s",!0)},d(m){m&&detach(l)}}}function create_each_block$4(f){let l,u,c,g;const y=[create_if_block$9,create_if_block_2$3,create_if_block_3$1,create_if_block_4,create_if_block_5,create_if_block_6,create_if_block_7,create_if_block_9,create_if_block_10,create_if_block_11,create_if_block_12,create_if_block_13],m=[];function _(p,x){return p[40]==="playpause"?0:p[40]==="stop"?1:p[40]==="progress"?2:p[40]==="loop"?3:p[40]==="background"?4:p[40]==="snapshot"?5:p[40]==="zoom"?6:p[40]==="info"?7:p[40]==="frame"?8:p[40]==="nextFrame"?9:p[40]==="previousFrame"?10:p[40]==="spacer"?11:-1}return~(l=_(f))&&(u=m[l]=y[l](f)),{c(){u&&u.c(),c=empty()},l(p){u&&u.l(p),c=empty()},m(p,x){~l&&m[l].m(p,x),insert_hydration(p,c,x),g=!0},p(p,x){let E=l;l=_(p),l===E?~l&&m[l].p(p,x):(u&&(group_outros(),transition_out(m[E],1,1,()=>{m[E]=null}),check_outros()),~l?(u=m[l],u?u.p(p,x):(u=m[l]=y[l](p),u.c()),transition_in(u,1),u.m(c.parentNode,c)):u=null)},i(p){g||(transition_in(u),g=!0)},o(p){transition_out(u),g=!1},d(p){~l&&m[l].d(p),p&&detach(c)}}}function create_fragment$h(f){let l,u,c=f[6],g=[];for(let m=0;m<c.length;m+=1)g[m]=create_each_block$4(get_each_context$4(f,c,m));const y=m=>transition_out(g[m],1,1,()=>{g[m]=null});return{c(){l=element("div");for(let m=0;m<g.length;m+=1)g[m].c();this.h()},l(m){l=claim_element(m,"DIV",{class:!0});var _=children(l);for(let p=0;p<g.length;p+=1)g[p].l(_);_.forEach(detach),this.h()},h(){attr(l,"class","lottie-player-controls svelte-y4y35s")},m(m,_){insert_hydration(m,l,_);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(l,null);u=!0},p(m,_){if(_[0]&33554431){c=m[6];let p;for(p=0;p<c.length;p+=1){const x=get_each_context$4(m,c,p);g[p]?(g[p].p(x,_),transition_in(g[p],1)):(g[p]=create_each_block$4(x),g[p].c(),transition_in(g[p],1),g[p].m(l,null))}for(group_outros(),p=c.length;p<g.length;p+=1)y(p);check_outros()}},i(m){if(!u){for(let _=0;_<c.length;_+=1)transition_in(g[_]);u=!0}},o(m){g=g.filter(Boolean);for(let _=0;_<g.length;_+=1)transition_out(g[_]);u=!1},d(m){m&&detach(l),destroy_each(g,m)}}}function instance_1$1(f,l,u){let c,g,y,m;const _={width:14,height:14,viewBox:"0 0 24 24"},p=createEventDispatcher();let{animationData:x}=l,{background:E}=l,{currentState:A}=l,{frame:b}=l,{freeze:k}=l,{instance:S}=l,{layout:T=ControlsLayoutOptions}=l,{loop:P}=l,{play:C}=l,{progress:M}=l,{seek:j}=l,{snapshot:I}=l,{stop:O}=l,{toggleZoom:R}=l,{toggleLooping:D}=l,{togglePlay:N}=l,{totalFrames:U=0}=l,X=!1;const V=le=>{if(!S||isNaN(le.target.value))return;const ue=le.target.value/100*U;j(ue)},K=le=>{p("background",{color:le.detail.hex})},W=()=>{u(14,X=!X),R()},Q=()=>{const le=b+1;le<=U&&j(le)},L=()=>{const le=b-1;le>=0&&j(le)};function G(){M=to_number(this.value),u(0,M)}const J=()=>I(!0),B=()=>I(!0),Y=le=>j(b+(le.deltaY>0?-1:1)),ie=()=>A===PlayerState.Frozen&&C(),ne=()=>A!==PlayerState.Paused&&k();function Z(){m=this.value,u(15,m),u(4,b)}const H=()=>A===PlayerState.Frozen&&C(),z=()=>A!==PlayerState.Paused&&k(),ee=le=>j(le.target.value),se=le=>j(b+(le.deltaY>0?-1:1));return f.$$set=le=>{"animationData"in le&&u(1,x=le.animationData),"background"in le&&u(2,E=le.background),"currentState"in le&&u(3,A=le.currentState),"frame"in le&&u(4,b=le.frame),"freeze"in le&&u(5,k=le.freeze),"instance"in le&&u(25,S=le.instance),"layout"in le&&u(6,T=le.layout),"loop"in le&&u(7,P=le.loop),"play"in le&&u(8,C=le.play),"progress"in le&&u(0,M=le.progress),"seek"in le&&u(9,j=le.seek),"snapshot"in le&&u(10,I=le.snapshot),"stop"in le&&u(11,O=le.stop),"toggleZoom"in le&&u(26,R=le.toggleZoom),"toggleLooping"in le&&u(12,D=le.toggleLooping),"togglePlay"in le&&u(13,N=le.togglePlay),"totalFrames"in le&&u(27,U=le.totalFrames)},f.$$.update=()=>{f.$$.dirty[0]&8&&u(18,c=A===PlayerState.Playing),f.$$.dirty[0]&8&&u(17,g=A===PlayerState.Paused),f.$$.dirty[0]&8&&u(16,y=A===PlayerState.Stopped),f.$$.dirty[0]&16&&u(15,m=Math.round(b))},[M,x,E,A,b,k,T,P,C,j,I,O,D,N,X,m,y,g,c,_,V,K,W,Q,L,S,R,U,G,J,B,Y,ie,ne,Z,H,z,ee,se]}class Controls extends SvelteComponent{constructor(l){super(),init(this,l,instance_1$1,create_fragment$h,safe_not_equal,{animationData:1,background:2,currentState:3,frame:4,freeze:5,instance:25,layout:6,loop:7,play:8,progress:0,seek:9,snapshot:10,stop:11,toggleZoom:26,toggleLooping:12,togglePlay:13,totalFrames:27},null,[-1,-1])}}const SVELTE_LOTTIE_PLAYER_VERSION="0.3.1",LOTTIE_WEB_VERSION="^5.10.0",LottiePlayer_svelte_svelte_type_style_lang="";function create_if_block_1$4(f){let l,u;return{c(){l=element("div"),u=text(""),this.h()},l(c){l=claim_element(c,"DIV",{class:!0});var g=children(l);u=claim_text(g,""),g.forEach(detach),this.h()},h(){attr(l,"class","lottie-player-error svelte-1n5qc19")},m(c,g){insert_hydration(c,l,g),append_hydration(l,u)},d(c){c&&detach(l)}}}function create_if_block$8(f){let l,u;return l=new Controls({props:{layout:f[3],animationData:f[22],background:f[1],controls:f[2],currentState:f[28],frame:f[26],freeze:f[11],instance:f[21],loop:f[0],lottie,pause:f[9],play:f[8],progress:f[27],seek:f[12],setDirection:f[16],setSpeed:f[15],setLooping:f[14],snapshot:f[13],src:f[5],stop:f[10],toggleZoom:f[20],toggleLooping:f[18],togglePlay:f[17],totalFrames:f[32]}}),l.$on("background",f[47]),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g[0]&8&&(y.layout=c[3]),g[0]&4194304&&(y.animationData=c[22]),g[0]&2&&(y.background=c[1]),g[0]&4&&(y.controls=c[2]),g[0]&268435456&&(y.currentState=c[28]),g[0]&67108864&&(y.frame=c[26]),g[0]&2097152&&(y.instance=c[21]),g[0]&1&&(y.loop=c[0]),g[0]&134217728&&(y.progress=c[27]),g[0]&32&&(y.src=c[5]),g[1]&2&&(y.totalFrames=c[32]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_fragment$g(f){let l,u,c,g,y,m,_,p=f[28]===PlayerState.Error&&create_if_block_1$4(),x=f[2]&&create_if_block$8(f);return{c(){l=element("div"),u=element("div"),c=element("div"),p&&p.c(),g=space(),x&&x.c(),this.h()},l(E){l=claim_element(E,"DIV",{style:!0});var A=children(l);u=claim_element(A,"DIV",{class:!0});var b=children(u);c=claim_element(b,"DIV",{style:!0,class:!0});var k=children(c);p&&p.l(k),k.forEach(detach),g=claim_space(b),x&&x.l(b),b.forEach(detach),A.forEach(detach),this.h()},h(){set_style(c,"background",f[1]),attr(c,"class","svelte-1n5qc19"),toggle_class(c,"animation",!0),attr(u,"class","lottie-player svelte-1n5qc19"),toggle_class(u,"with-controls",f[2]),toggle_class(u,"is-zoomed",f[29]),attr(l,"style",y=(f[7]?`width:${f[7]}px;`:"")+(f[4]?`height:${f[4]}px;`:"")+f[6]),add_render_callback(()=>f[50].call(l))},m(E,A){insert_hydration(E,l,A),append_hydration(l,u),append_hydration(u,c),p&&p.m(c,null),f[46](c),append_hydration(u,g),x&&x.m(u,null),f[48](u),f[49](l),m=add_iframe_resize_listener(l,f[50].bind(l)),_=!0},p(E,A){E[28]===PlayerState.Error?p||(p=create_if_block_1$4(),p.c(),p.m(c,null)):p&&(p.d(1),p=null),(!_||A[0]&2)&&set_style(c,"background",E[1]),E[2]?x?(x.p(E,A),A[0]&4&&transition_in(x,1)):(x=create_if_block$8(E),x.c(),transition_in(x,1),x.m(u,null)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros()),(!_||A[0]&4)&&toggle_class(u,"with-controls",E[2]),(!_||A[0]&536870912)&&toggle_class(u,"is-zoomed",E[29]),(!_||A[0]&208&&y!==(y=(E[7]?`width:${E[7]}px;`:"")+(E[4]?`height:${E[4]}px;`:"")+E[6]))&&attr(l,"style",y)},i(E){_||(transition_in(x),_=!0)},o(E){transition_out(x),_=!1},d(E){E&&detach(l),p&&p.d(),f[46](null),x&&x.d(),f[48](null),f[49](null),m()}}}function instance_1(f,l,u){let{autoplay:c=!1}=l,{background:g}=l,{controls:y}=l,{controlsLayout:m}=l,{count:_=void 0}=l,{defaultFrame:p=0}=l,{direction:x=1}=l,{height:E}=l,{hover:A=!1}=l,{loop:b=!1}=l,{mode:k=PlayMode.Normal}=l,{onToggleZoom:S=void 0}=l,{renderer:T=PlayerRender.SVG}=l,{speed:P=1}=l,{src:C=""}=l,{style:M=""}=l,{width:j}=l,I,O,R,D,N,U=0,X=0,V,K=PlayerState.Loading,W=!1,Q,L,G;const J=()=>{document.hidden===!0&&K===PlayerState.Playing?z():K===PlayerState.Frozen&&ie()};onMount(()=>{"IntersectionObserver"in window&&(V=new IntersectionObserver(ce=>{ce[0].isIntersecting?K===PlayerState.Frozen&&ie():K===PlayerState.Playing&&z()}),V.observe(O)),typeof document.hidden<"u"&&document.addEventListener("visibilitychange",J),C&&B(C)}),onDestroy(()=>{V&&(V.disconnect(),V=void 0),document.removeEventListener("visibilitychange",J)});const B=ce=>{if(!O)return;N&&N.destroy();const Ee={container:O,loop:b,autoplay:c,renderer:T,rendererSettings:{preserveAspectRatio:"xMidYMid meet",clearCanvas:!0,progressiveLoad:!0,hideOnTransparent:!0}};try{const xe=parseSrc(ce),Ie=typeof xe=="string"?"path":"animationData";u(21,N=lottie.loadAnimation({...Ee,[Ie]:xe}))}catch{u(28,K=PlayerState.Error),dispatchEvent(new CustomEvent(PlayerEvents.Error))}N&&(N.addEventListener("enterFrame",()=>{u(26,U=N.currentFrame),u(27,X=N.currentFrame/N.totalFrames*100),dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:N.currentFrame,progress:X}}))}),N.addEventListener("complete",()=>{if(K!==PlayerState.Playing){dispatchEvent(new CustomEvent(PlayerEvents.Complete));return}if(!b||_&&_counter>=_){dispatchEvent(new CustomEvent(PlayerEvents.Complete));return}k===PlayMode.Bounce?(_&&(_counter+=.5),setTimeout(()=>{dispatchEvent(new CustomEvent(PlayerEvents.Loop)),K===PlayerState.Playing&&(N.setDirection(N.playDirection*-1),N.play())},intermission)):(_&&(_counter+=1),window.setTimeout(()=>{dispatchEvent(new CustomEvent(PlayerEvents.Loop)),K===PlayerState.Playing&&(N.stop(),N.play())},intermission))}),N.addEventListener("data_ready",()=>{u(22,I=N.animationData),u(32,G=N.totalFrames)}),N.addEventListener("data_failed",()=>{u(28,K=PlayerState.Error),dispatchEvent(new CustomEvent(PlayerEvents.Error))}),O.addEventListener("mouseenter",()=>{A&&K!==PlayerState.Playing&&ie()}),O.addEventListener("mouseleave",()=>{A&&K===PlayerState.Playing&&H()}),_e(P),Te(x),c?ie():isNaN(p)||N.goToAndStop(p,!0))},Y=()=>N,ie=()=>{N&&(u(28,K=PlayerState.Playing),N.play(),dispatchEvent(new CustomEvent(PlayerEvents.Play)))},ne=()=>({lottieWebVersion:LOTTIE_WEB_VERSION,svelteLottiePlayerVersion:SVELTE_LOTTIE_PLAYER_VERSION}),Z=()=>{N&&(u(28,K=PlayerState.Paused),N.pause(),dispatchEvent(new CustomEvent(PlayerEvents.Pause)))},H=()=>{N&&(u(28,K=PlayerState.Stopped),N.stop(),dispatchEvent(new CustomEvent(PlayerEvents.Stop)))},z=()=>{N&&(N.pause(),u(28,K=PlayerState.Frozen),dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))},ee=()=>{N&&N.resize()},se=ce=>{if(!N)return;const Ee=ce.toString().match(/^([0-9\.]+)(%?)$/);if(!Ee)return;const xe=Ee[2]==="%"?N.totalFrames*Number(Ee[1])/100:Number(Ee[1]);K===PlayerState.Playing?N.goToAndPlay(xe,!0):(N.goToAndStop(xe,!0),N.pause())},le=(ce=!0)=>{let Ee;if(T===PlayerRender.SVG){const xe=O.querySelector("svg"),Ie=new XMLSerializer().serializeToString(xe);Ee="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(Ie),ce&&triggerDownload(Ee,`snapshot_${X}.svg`)}else T===PlayerRender.Canvas&&(Ee=O.querySelector("canvas").toDataURL("image/png"),ce&&triggerDownload(Ee,`snapshot_${X}.png`));return Ee},ue=ce=>{N&&u(0,b=ce)},_e=ce=>{N&&u(34,P=ce)},Te=ce=>{N&&u(33,x=ce)},me=()=>K===PlayerState.Playing?Z():ie(),Se=()=>{ue(!b)},ve=ce=>{u(1,g=ce)},fe=()=>{if(typeof S=="function"){u(29,W=!!S(W));return}W?(D.appendChild(R),u(25,D.style.height=void 0,D),u(25,D.style.width=void 0,D)):(u(25,D.style.height=Q+"px",D),u(25,D.style.width=L+"px",D),document.body.appendChild(R)),u(29,W=!W),setTimeout(()=>ee(),100)};function ye(ce){binding_callbacks[ce?"unshift":"push"](()=>{O=ce,u(23,O)})}const Ae=ce=>ve(ce.detail.color);function Ne(ce){binding_callbacks[ce?"unshift":"push"](()=>{R=ce,u(24,R)})}function re(ce){binding_callbacks[ce?"unshift":"push"](()=>{D=ce,u(25,D)})}function ae(){Q=this.clientHeight,L=this.clientWidth,u(30,Q),u(31,L)}return f.$$set=ce=>{"autoplay"in ce&&u(35,c=ce.autoplay),"background"in ce&&u(1,g=ce.background),"controls"in ce&&u(2,y=ce.controls),"controlsLayout"in ce&&u(3,m=ce.controlsLayout),"count"in ce&&u(36,_=ce.count),"defaultFrame"in ce&&u(37,p=ce.defaultFrame),"direction"in ce&&u(33,x=ce.direction),"height"in ce&&u(4,E=ce.height),"hover"in ce&&u(38,A=ce.hover),"loop"in ce&&u(0,b=ce.loop),"mode"in ce&&u(39,k=ce.mode),"onToggleZoom"in ce&&u(40,S=ce.onToggleZoom),"renderer"in ce&&u(41,T=ce.renderer),"speed"in ce&&u(34,P=ce.speed),"src"in ce&&u(5,C=ce.src),"style"in ce&&u(6,M=ce.style),"width"in ce&&u(7,j=ce.width)},f.$$.update=()=>{f.$$.dirty[0]&32&&B(C),f.$$.dirty[0]&2097153&&N&&u(21,N.loop=b,N),f.$$.dirty[0]&2097152|f.$$.dirty[1]&8&&N&&N.setSpeed(P),f.$$.dirty[0]&2097152|f.$$.dirty[1]&4&&N&&N.setDirection(x)},[b,g,y,m,E,C,M,j,ie,Z,H,z,se,le,ue,_e,Te,me,Se,ve,fe,N,I,O,R,D,U,X,K,W,Q,L,G,x,P,c,_,p,A,k,S,T,B,Y,ne,ee,ye,Ae,Ne,re,ae]}class LottiePlayer extends SvelteComponent{constructor(l){super(),init(this,l,instance_1,create_fragment$g,safe_not_equal,{autoplay:35,background:1,controls:2,controlsLayout:3,count:36,defaultFrame:37,direction:33,height:4,hover:38,loop:0,mode:39,onToggleZoom:40,renderer:41,speed:34,src:5,style:6,width:7,load:42,getLottie:43,play:8,getVersions:44,pause:9,stop:10,freeze:11,resize:45,seek:12,snapshot:13,setLooping:14,setSpeed:15,setDirection:16,togglePlay:17,toggleLooping:18,setBackground:19,toggleZoom:20},null,[-1,-1])}get load(){return this.$$.ctx[42]}get getLottie(){return this.$$.ctx[43]}get play(){return this.$$.ctx[8]}get getVersions(){return this.$$.ctx[44]}get pause(){return this.$$.ctx[9]}get stop(){return this.$$.ctx[10]}get freeze(){return this.$$.ctx[11]}get resize(){return this.$$.ctx[45]}get seek(){return this.$$.ctx[12]}get snapshot(){return this.$$.ctx[13]}get setLooping(){return this.$$.ctx[14]}get setSpeed(){return this.$$.ctx[15]}get setDirection(){return this.$$.ctx[16]}get togglePlay(){return this.$$.ctx[17]}get toggleLooping(){return this.$$.ctx[18]}get setBackground(){return this.$$.ctx[19]}get toggleZoom(){return this.$$.ctx[20]}}function create_fragment$f(f){let l,u;return l=new LottiePlayer({props:{src:f[0],autoplay:!0,loop:!0,controls:!1,renderer:"svg",background:"transparent",width:"100%",height:"100%"}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,[g]){const y={};g&1&&(y.src=c[0]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function instance$f(f,l,u){let{src:c}=l;return f.$$set=g=>{"src"in g&&u(0,c=g.src)},[c]}class Lottie extends SvelteComponent{constructor(l){super(),init(this,l,instance$f,create_fragment$f,safe_not_equal,{src:0})}}const v="4.8.0",meta={g:"LottieFiles AE 3.1.1",a:"",k:"",d:"",tc:""},fr=30,ip=0,op=180,w=1600,h=1600,nm="Q1 Synth Waiting Icon",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:180,s:[360]}],ix:10},p:{a:0,k:[800,800,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ip:0,op:2400,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 9",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:90,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:90,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:180,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.411764740944,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:90,op:181,st:90,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 8",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:90,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:180,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.411764740944,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:90,op:181,st:90,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 7",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:360,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[1,.411764711142,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:90,op:181,st:90,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 3",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:90,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:90,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.411764740944,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:91,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"Shape Layer 2",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:90,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.411764740944,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:91,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"Shape Layer 1",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:360,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[1,.411764711142,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:91,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"Shape Layer 21",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-30,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:150,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:240,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:150,op:241,st:150,bm:0},{ddd:0,ind:9,ty:4,nm:"Shape Layer 20",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:150,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:240,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:150,op:241,st:150,bm:0},{ddd:0,ind:10,ty:4,nm:"Shape Layer 19",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:240,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:150,op:241,st:150,bm:0},{ddd:0,ind:11,ty:4,nm:"Shape Layer 18",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-30,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:150,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:60,op:151,st:60,bm:0},{ddd:0,ind:12,ty:4,nm:"Shape Layer 17",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:150,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:60,op:151,st:60,bm:0},{ddd:0,ind:13,ty:4,nm:"Shape Layer 16",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:240,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:60,op:151,st:60,bm:0},{ddd:0,ind:14,ty:4,nm:"Shape Layer 24",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-30,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:-29,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:61,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-29,op:62,st:-29,bm:0},{ddd:0,ind:15,ty:4,nm:"Shape Layer 23",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:-29,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:61,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-29,op:62,st:-29,bm:0},{ddd:0,ind:16,ty:4,nm:"Shape Layer 22",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:240,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-29,op:62,st:-29,bm:0},{ddd:0,ind:17,ty:4,nm:"Shape Layer 15",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:210,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:120,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:210,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:120,op:211,st:120,bm:0},{ddd:0,ind:18,ty:4,nm:"Shape Layer 14",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:120,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:210,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:120,op:211,st:120,bm:0},{ddd:0,ind:19,ty:4,nm:"Shape Layer 13",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:120,op:211,st:120,bm:0},{ddd:0,ind:20,ty:4,nm:"Shape Layer 6",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:210,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:30,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:120,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:30,op:121,st:30,bm:0},{ddd:0,ind:21,ty:4,nm:"Shape Layer 5",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:30,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:120,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:30,op:121,st:30,bm:0},{ddd:0,ind:22,ty:4,nm:"Shape Layer 4",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:30,op:121,st:30,bm:0},{ddd:0,ind:23,ty:4,nm:"Shape Layer 12",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:210,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:-60,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:30,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-60,op:31,st:-60,bm:0},{ddd:0,ind:24,ty:4,nm:"Shape Layer 11",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:-60,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:30,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-60,op:31,st:-60,bm:0},{ddd:0,ind:25,ty:4,nm:"Shape Layer 10",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-60,op:31,st:-60,bm:0}],markers=[],lottieSrc={v,meta,fr,ip,op,w,h,nm,ddd,assets,layers,markers},Measure_svelte_svelte_type_style_lang="";function create_if_block_1$3(f){let l,u,c,g;return c=new Select({props:{id:"source",options:f[4],onChange:f[5]}}),{c(){l=element("div"),u=element("div"),create_component(c.$$.fragment),this.h()},l(y){l=claim_element(y,"DIV",{class:!0});var m=children(l);u=claim_element(m,"DIV",{class:!0});var _=children(u);claim_component(c.$$.fragment,_),_.forEach(detach),m.forEach(detach),this.h()},h(){attr(u,"class","svelte-1ptipaw"),attr(l,"class","source svelte-1ptipaw")},m(y,m){insert_hydration(y,l,m),append_hydration(l,u),mount_component(c,u,null),g=!0},p:noop,i(y){g||(transition_in(c.$$.fragment,y),g=!0)},o(y){transition_out(c.$$.fragment,y),g=!1},d(y){y&&detach(l),destroy_component(c)}}}function create_else_block$2(f){let l,u;return{c(){l=element("span"),u=text("Measure"),this.h()},l(c){l=claim_element(c,"SPAN",{class:!0});var g=children(l);u=claim_text(g,"Measure"),g.forEach(detach),this.h()},h(){attr(l,"class","button__text svelte-1ptipaw")},m(c,g){insert_hydration(c,l,g),append_hydration(l,u)},p:noop,i:noop,o:noop,d(c){c&&detach(l)}}}function create_if_block$7(f){let l,u;return l=new Lottie({props:{src:lottieSrc}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p:noop,i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_fragment$e(f){let l,u,c,g,y,m=isApp(),_,p,x,E,A,b,k,S,T,P,C,M,j,I,O=m&&create_if_block_1$3(f);const R=[create_if_block$7,create_else_block$2],D=[];function N(U,X){return U[3]?0:1}return P=N(f),C=D[P]=R[P](f),{c(){l=element("div"),u=element("h2"),c=text("Measure"),g=space(),y=element("form"),O&&O.c(),_=space(),p=element("input"),x=space(),E=element("input"),A=space(),b=element("input"),k=space(),S=element("div"),T=element("button"),C.c(),this.h()},l(U){l=claim_element(U,"DIV",{class:!0});var X=children(l);u=claim_element(X,"H2",{class:!0});var V=children(u);c=claim_text(V,"Measure"),V.forEach(detach),g=claim_space(X),y=claim_element(X,"FORM",{class:!0});var K=children(y);O&&O.l(K),_=claim_space(K),p=claim_element(K,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),x=claim_space(K),E=claim_element(K,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),A=claim_space(K),b=claim_element(K,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),K.forEach(detach),k=claim_space(X),S=claim_element(X,"DIV",{class:!0});var W=children(S);T=claim_element(W,"BUTTON",{class:!0});var Q=children(T);C.l(Q),Q.forEach(detach),W.forEach(detach),X.forEach(detach),this.h()},h(){attr(u,"class","title svelte-1ptipaw"),attr(p,"id","seconds"),attr(p,"placeholder","Seconds"),attr(p,"type","number"),attr(p,"class","svelte-1ptipaw"),attr(E,"id","bpm"),attr(E,"placeholder","BPM"),attr(E,"type","number"),attr(E,"class","svelte-1ptipaw"),attr(b,"id","beats"),attr(b,"placeholder","Beats"),attr(b,"type","number"),attr(b,"class","svelte-1ptipaw"),attr(y,"class","svelte-1ptipaw"),T.disabled=f[3],attr(T,"class","svelte-1ptipaw"),attr(S,"class","button svelte-1ptipaw"),attr(l,"class","measure svelte-1ptipaw")},m(U,X){insert_hydration(U,l,X),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,y),O&&O.m(y,null),append_hydration(y,_),append_hydration(y,p),set_input_value(p,f[0]),append_hydration(y,x),append_hydration(y,E),set_input_value(E,f[1]),append_hydration(y,A),append_hydration(y,b),set_input_value(b,f[2]),append_hydration(l,k),append_hydration(l,S),append_hydration(S,T),D[P].m(T,null),M=!0,j||(I=[listen(p,"input",f[6]),listen(p,"focus",f[7]),listen(p,"focusout",f[8]),listen(E,"input",f[9]),listen(E,"focus",f[10]),listen(E,"focusout",f[11]),listen(b,"input",f[12]),listen(b,"focus",f[13]),listen(b,"focusout",f[14]),listen(T,"click",prevent_default(f[15]))],j=!0)},p(U,[X]){m&&O.p(U,X),X&1&&to_number(p.value)!==U[0]&&set_input_value(p,U[0]),X&2&&to_number(E.value)!==U[1]&&set_input_value(E,U[1]),X&4&&to_number(b.value)!==U[2]&&set_input_value(b,U[2]);let V=P;P=N(U),P===V?D[P].p(U,X):(group_outros(),transition_out(D[V],1,1,()=>{D[V]=null}),check_outros(),C=D[P],C?C.p(U,X):(C=D[P]=R[P](U),C.c()),transition_in(C,1),C.m(T,null)),(!M||X&8)&&(T.disabled=U[3])},i(U){M||(transition_in(O),transition_in(C),M=!0)},o(U){transition_out(O),transition_out(C),M=!1},d(U){U&&detach(l),O&&O.d(),D[P].d(),j=!1,run_all(I)}}}function instance$e(f,l,u){let c,g,y,m;component_subscribe(f,seconds,j=>u(0,c=j)),component_subscribe(f,bpm,j=>u(1,g=j)),component_subscribe(f,beats,j=>u(2,y=j)),component_subscribe(f,isMeasuring,j=>u(3,m=j));const _=[{name:"local",active:!0},{name:"qasm_simulator",active:!0},{name:"ibmq_belem",active:!1}],p=j=>source.update(()=>{var I;return((I=j.target)==null?void 0:I.value)||"local"});function x(){c=to_number(this.value),seconds.set(c)}const E=()=>mute.set(!0),A=()=>mute.set(!1);function b(){g=to_number(this.value),bpm.set(g)}const k=()=>mute.set(!0),S=()=>mute.set(!1);function T(){y=to_number(this.value),beats.set(y)}return[c,g,y,m,_,p,x,E,A,b,k,S,T,()=>mute.set(!0),()=>mute.set(!1),()=>measure()]}class Measure extends SvelteComponent{constructor(l){super(),init(this,l,instance$e,create_fragment$e,safe_not_equal,{})}}function create_fragment$d(f){let l,u,c;return{c(){l=element("div"),this.h()},l(g){l=claim_element(g,"DIV",{style:!0,class:!0}),children(l).forEach(detach),this.h()},h(){attr(l,"style",f[0]),attr(l,"class","m-0")},m(g,y){insert_hydration(g,l,y),u||(c=action_destroyer(f[1].call(null,l)),u=!0)},p(g,[y]){y&1&&attr(l,"style",g[0])},i:noop,o:noop,d(g){g&&detach(l),u=!1,c()}}}function augmentClasses(f,l){return l.forEach(([u,c])=>f[u]=c),f}function instance$d(f,l,u){let{target:c=void 0}=l,{sketch:g=void 0}=l,{parentDivStyle:y="display: block;"}=l,{debug:m=!1}=l,_;const p=createEventDispatcher(),x={ref(){p("ref",c)},instance(){p("instance",_)}};function E(A){return u(2,c=A),{destroy(){u(2,c=void 0)}}}return onMount(async()=>{const A=await __vitePreload(()=>Promise.resolve().then(()=>p5_min$1),void 0,import.meta.url),{default:b}=A,S=Object.entries(A).filter(([T,P])=>P instanceof Function&&T[0]!=="_"&&T!=="default");m&&console.log("available p5 native classes",S),_=new b(T=>(T=augmentClasses(T,S),m&&console.log("p5 instance",T),window._p5Instance=T,g(T)),c),x.ref(),x.instance()}),f.$$set=A=>{"target"in A&&u(2,c=A.target),"sketch"in A&&u(3,g=A.sketch),"parentDivStyle"in A&&u(0,y=A.parentDivStyle),"debug"in A&&u(4,m=A.debug)},[y,E,c,g,m]}class P5 extends SvelteComponent{constructor(l){super(),init(this,l,instance$d,create_fragment$d,safe_not_equal,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function commonjsRequire(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var p5_min$2={exports:{}};/*! p5.js v1.9.0 November 28, 2023 */(function(f,l){(function(u){f.exports=u()})(function(){var u;return function c(g,y,m){function _(E,A){if(!y[E]){if(!g[E]){var b=typeof commonjsRequire=="function"&&commonjsRequire;if(!A&&b)return b(E,!0);if(p)return p(E,!0);throw(A=new Error("Cannot find module '"+E+"'")).code="MODULE_NOT_FOUND",A}b=y[E]={exports:{}},g[E][0].call(b.exports,function(k){return _(g[E][1][k]||k)},b,b.exports,c,g,y,m)}return y[E].exports}for(var p=typeof commonjsRequire=="function"&&commonjsRequire,x=0;x<m.length;x++)_(m[x]);return _}({1:[function(c,g,y){y.byteLength=function(T){var T=b(T),S=T[0],T=T[1];return 3*(S+T)/4-T},y.toByteArray=function(k){var S,T,C=b(k),P=C[0],C=C[1],M=new p(function(O,R){return 3*(O+R)/4-R}(P,C)),j=0,I=0<C?P-4:P;for(T=0;T<I;T+=4)S=_[k.charCodeAt(T)]<<18|_[k.charCodeAt(T+1)]<<12|_[k.charCodeAt(T+2)]<<6|_[k.charCodeAt(T+3)],M[j++]=S>>16&255,M[j++]=S>>8&255,M[j++]=255&S;return C===2&&(S=_[k.charCodeAt(T)]<<2|_[k.charCodeAt(T+1)]>>4,M[j++]=255&S),C===1&&(S=_[k.charCodeAt(T)]<<10|_[k.charCodeAt(T+1)]<<4|_[k.charCodeAt(T+2)]>>2,M[j++]=S>>8&255,M[j++]=255&S),M},y.fromByteArray=function(k){for(var S,T=k.length,P=T%3,C=[],M=0,j=T-P;M<j;M+=16383)C.push(function(I,O,R){for(var D,N=[],U=O;U<R;U+=3)D=(I[U]<<16&16711680)+(I[U+1]<<8&65280)+(255&I[U+2]),N.push(function(X){return m[X>>18&63]+m[X>>12&63]+m[X>>6&63]+m[63&X]}(D));return N.join("")}(k,M,j<M+16383?j:M+16383));return P==1?(S=k[T-1],C.push(m[S>>2]+m[S<<4&63]+"==")):P==2&&(S=(k[T-2]<<8)+k[T-1],C.push(m[S>>10]+m[S>>4&63]+m[S<<2&63]+"=")),C.join("")};for(var m=[],_=[],p=typeof Uint8Array<"u"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,A=x.length;E<A;++E)m[E]=x[E],_[x.charCodeAt(E)]=E;function b(k){var S=k.length;if(0<S%4)throw new Error("Invalid string. Length must be a multiple of 4");return k=k.indexOf("="),S=(k=k===-1?S:k)===S?0:4-k%4,[k,S]}_["-".charCodeAt(0)]=62,_["_".charCodeAt(0)]=63},{}],2:[function(c,g,y){},{}],3:[function(c,g,y){},{}],4:[function(c,g,y){(function(b){var _=c("base64-js"),p=c("ieee754"),x=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,E=(y.Buffer=b,y.SlowBuffer=function(H){return+H!=H&&(H=0),b.alloc(+H)},y.INSPECT_MAX_BYTES=50,2147483647);function A(H){if(E<H)throw new RangeError('The value "'+H+'" is invalid for option "size"');return H=new Uint8Array(H),Object.setPrototypeOf(H,b.prototype),H}function b(H,z,ee){if(typeof H!="number")return k(H,z,ee);if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(H)}function k(H,z,ee){if(typeof H=="string"){var se=H,le=z;if(b.isEncoding(le=typeof le=="string"&&le!==""?le:"utf8"))return ue=0|M(se,le),_e=A(ue),_e=(se=_e.write(se,le))!==ue?_e.slice(0,se):_e;throw new TypeError("Unknown encoding: "+le)}if(ArrayBuffer.isView(H))return P(H);if(H!=null){if(ie(H,ArrayBuffer)||H&&ie(H.buffer,ArrayBuffer)){var ue=H,se=z,_e=ee;if(se<0||ue.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<se+(_e||0))throw new RangeError('"length" is outside of buffer bounds');return ue=se===void 0&&_e===void 0?new Uint8Array(ue):_e===void 0?new Uint8Array(ue,se):new Uint8Array(ue,se,_e),Object.setPrototypeOf(ue,b.prototype),ue}if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(le=H.valueOf&&H.valueOf(),le!=null&&le!==H)return b.from(le,z,ee);var Te=function(me){{var Se,ve;if(b.isBuffer(me))return Se=0|C(me.length),(ve=A(Se)).length!==0&&me.copy(ve,0,0,Se),ve}if(me.length!==void 0)return typeof me.length!="number"||ne(me.length)?A(0):P(me);if(me.type==="Buffer"&&Array.isArray(me.data))return P(me.data)}(H);if(Te)return Te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return b.from(H[Symbol.toPrimitive]("string"),z,ee)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}function S(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function T(H){return S(H),A(H<0?0:0|C(H))}function P(H){for(var z=H.length<0?0:0|C(H.length),ee=A(z),se=0;se<z;se+=1)ee[se]=255&H[se];return ee}function C(H){if(E<=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return 0|H}function M(H,z){if(b.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||ie(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var ee=H.length,se=2<arguments.length&&arguments[2]===!0;if(!se&&ee===0)return 0;for(var le=!1;;)switch(z){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return J(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ee;case"hex":return ee>>>1;case"base64":return B(H).length;default:if(le)return se?-1:J(H).length;z=(""+z).toLowerCase(),le=!0}}function j(H,z,ee){var se,le=!1;if((z=z===void 0||z<0?0:z)>this.length||(ee=ee===void 0||ee>this.length?this.length:ee)<=0||(ee>>>=0)<=(z>>>=0))return"";for(H=H||"utf8";;)switch(H){case"hex":var ue=this,re=z,_e=ee,ve=ue.length;(!_e||_e<0||ve<_e)&&(_e=ve);for(var Te="",me=re=!re||re<0?0:re;me<_e;++me)Te+=Z[ue[me]];return Te;case"utf8":case"utf-8":return U(this,z,ee);case"ascii":var Se=this,ve=z,fe=ee,ye="";fe=Math.min(Se.length,fe);for(var Ae=ve;Ae<fe;++Ae)ye+=String.fromCharCode(127&Se[Ae]);return ye;case"latin1":case"binary":var Ne=this,re=z,ae=ee,ce="";ae=Math.min(Ne.length,ae);for(var Ee=re;Ee<ae;++Ee)ce+=String.fromCharCode(Ne[Ee]);return ce;case"base64":return xe=this,se=ee,(Ie=z)===0&&se===xe.length?_.fromByteArray(xe):_.fromByteArray(xe.slice(Ie,se));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var xe=z,Ie=ee,Fe=this.slice(xe,Ie),Xe="",Ze=0;Ze<Fe.length;Ze+=2)Xe+=String.fromCharCode(Fe[Ze]+256*Fe[Ze+1]);return Xe;default:if(le)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),le=!0}}function I(H,z,ee){var se=H[z];H[z]=H[ee],H[ee]=se}function O(H,z,ee,se,le){if(H.length===0)return-1;if(typeof ee=="string"?(se=ee,ee=0):2147483647<ee?ee=2147483647:ee<-2147483648&&(ee=-2147483648),(ee=(ee=ne(ee=+ee)?le?0:H.length-1:ee)<0?H.length+ee:ee)>=H.length){if(le)return-1;ee=H.length-1}else if(ee<0){if(!le)return-1;ee=0}if(typeof z=="string"&&(z=b.from(z,se)),b.isBuffer(z))return z.length===0?-1:R(H,z,ee,se,le);if(typeof z=="number")return z&=255,typeof Uint8Array.prototype.indexOf=="function"?(le?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(H,z,ee):R(H,[z],ee,se,le);throw new TypeError("val must be string, number or Buffer")}function R(H,z,ee,se,le){var ue=1,_e=H.length,Te=z.length;if(se!==void 0&&((se=String(se).toLowerCase())==="ucs2"||se==="ucs-2"||se==="utf16le"||se==="utf-16le")){if(H.length<2||z.length<2)return-1;_e/=ue=2,Te/=2,ee/=2}function me(Ae,Ne){return ue===1?Ae[Ne]:Ae.readUInt16BE(Ne*ue)}if(le)for(var Se=-1,ve=ee;ve<_e;ve++)if(me(H,ve)===me(z,Se===-1?0:ve-Se)){if(ve-(Se=Se===-1?ve:Se)+1===Te)return Se*ue}else Se!==-1&&(ve-=ve-Se),Se=-1;else for(ve=ee=_e<ee+Te?_e-Te:ee;0<=ve;ve--){for(var fe=!0,ye=0;ye<Te;ye++)if(me(H,ve+ye)!==me(z,ye)){fe=!1;break}if(fe)return ve}return-1}function D(H,z,ee,se){return Y(function(le){for(var ue=[],_e=0;_e<le.length;++_e)ue.push(255&le.charCodeAt(_e));return ue}(z),H,ee,se)}function N(H,z,ee,se){return Y(function(le,ue){for(var _e,Te,me=[],Se=0;Se<le.length&&!((ue-=2)<0);++Se)Te=le.charCodeAt(Se),_e=Te>>8,Te=Te%256,me.push(Te),me.push(_e);return me}(z,H.length-ee),H,ee,se)}function U(H,z,ee){ee=Math.min(H.length,ee);for(var se=[],le=z;le<ee;){var ue,_e,Te,me,Se=H[le],ve=null,fe=239<Se?4:223<Se?3:191<Se?2:1;if(le+fe<=ee)switch(fe){case 1:Se<128&&(ve=Se);break;case 2:(192&(ue=H[le+1]))==128&&127<(me=(31&Se)<<6|63&ue)&&(ve=me);break;case 3:ue=H[le+1],_e=H[le+2],(192&ue)==128&&(192&_e)==128&&2047<(me=(15&Se)<<12|(63&ue)<<6|63&_e)&&(me<55296||57343<me)&&(ve=me);break;case 4:ue=H[le+1],_e=H[le+2],Te=H[le+3],(192&ue)==128&&(192&_e)==128&&(192&Te)==128&&65535<(me=(15&Se)<<18|(63&ue)<<12|(63&_e)<<6|63&Te)&&me<1114112&&(ve=me)}ve===null?(ve=65533,fe=1):65535<ve&&(ve-=65536,se.push(ve>>>10&1023|55296),ve=56320|1023&ve),se.push(ve),le+=fe}var ye=se,Ae=ye.length;if(Ae<=X)return String.fromCharCode.apply(String,ye);for(var Ne="",re=0;re<Ae;)Ne+=String.fromCharCode.apply(String,ye.slice(re,re+=X));return Ne}y.kMaxLength=E,(b.TYPED_ARRAY_SUPPORT=function(){try{var H=new Uint8Array(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,Uint8Array.prototype),Object.setPrototypeOf(H,z),H.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),b.poolSize=8192,b.from=k,Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array),b.alloc=function(H,z,ee){return z=z,ee=ee,S(H=H),!(H<=0)&&z!==void 0?typeof ee=="string"?A(H).fill(z,ee):A(H).fill(z):A(H)},b.allocUnsafe=T,b.allocUnsafeSlow=T,b.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==b.prototype},b.compare=function(H,z){if(ie(H,Uint8Array)&&(H=b.from(H,H.offset,H.byteLength)),ie(z,Uint8Array)&&(z=b.from(z,z.offset,z.byteLength)),!b.isBuffer(H)||!b.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===z)return 0;for(var ee=H.length,se=z.length,le=0,ue=Math.min(ee,se);le<ue;++le)if(H[le]!==z[le]){ee=H[le],se=z[le];break}return ee<se?-1:se<ee?1:0},b.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(H,z){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return b.alloc(0);if(z===void 0)for(le=z=0;le<H.length;++le)z+=H[le].length;for(var ee=b.allocUnsafe(z),se=0,le=0;le<H.length;++le){var ue=H[le];if(ie(ue,Uint8Array)&&(ue=b.from(ue)),!b.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(ee,se),se+=ue.length}return ee},b.byteLength=M,b.prototype._isBuffer=!0,b.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<H;z+=2)I(this,z,z+1);return this},b.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<H;z+=4)I(this,z,z+3),I(this,z+1,z+2);return this},b.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<H;z+=8)I(this,z,z+7),I(this,z+1,z+6),I(this,z+2,z+5),I(this,z+3,z+4);return this},b.prototype.toLocaleString=b.prototype.toString=function(){var H=this.length;return H===0?"":arguments.length===0?U(this,0,H):j.apply(this,arguments)},b.prototype.equals=function(H){if(b.isBuffer(H))return this===H||b.compare(this,H)===0;throw new TypeError("Argument must be a Buffer")},b.prototype.inspect=function(){var z="",H=y.INSPECT_MAX_BYTES,z=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim();return this.length>H&&(z+=" ... "),"<Buffer "+z+">"},x&&(b.prototype[x]=b.prototype.inspect),b.prototype.compare=function(H,z,ee,se,le){if(ie(H,Uint8Array)&&(H=b.from(H,H.offset,H.byteLength)),!b.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(ee===void 0&&(ee=H?H.length:0),se===void 0&&(se=0),le===void 0&&(le=this.length),(z=z===void 0?0:z)<0||ee>H.length||se<0||le>this.length)throw new RangeError("out of range index");if(le<=se&&ee<=z)return 0;if(le<=se)return-1;if(ee<=z)return 1;if(this===H)return 0;for(var ue=(le>>>=0)-(se>>>=0),_e=(ee>>>=0)-(z>>>=0),Te=Math.min(ue,_e),me=this.slice(se,le),Se=H.slice(z,ee),ve=0;ve<Te;++ve)if(me[ve]!==Se[ve]){ue=me[ve],_e=Se[ve];break}return ue<_e?-1:_e<ue?1:0},b.prototype.includes=function(H,z,ee){return this.indexOf(H,z,ee)!==-1},b.prototype.indexOf=function(H,z,ee){return O(this,H,z,ee,!0)},b.prototype.lastIndexOf=function(H,z,ee){return O(this,H,z,ee,!1)},b.prototype.write=function(H,z,ee,se){if(z===void 0)se="utf8",ee=this.length,z=0;else if(ee===void 0&&typeof z=="string")se=z,ee=this.length,z=0;else{if(!isFinite(z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");z>>>=0,isFinite(ee)?(ee>>>=0,se===void 0&&(se="utf8")):(se=ee,ee=void 0)}var le=this.length-z;if((ee===void 0||le<ee)&&(ee=le),0<H.length&&(ee<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");se=se||"utf8";for(var ue,_e,Te,me=!1;;)switch(se){case"hex":var Se=this,ve=H,fe=z,ye=ee,Ae=(fe=Number(fe)||0,Se.length-fe);(!ye||Ae<(ye=Number(ye)))&&(ye=Ae),(Ae=ve.length)/2<ye&&(ye=Ae/2);for(var Ne=0;Ne<ye;++Ne){var re=parseInt(ve.substr(2*Ne,2),16);if(ne(re))return Ne;Se[fe+Ne]=re}return Ne;case"utf8":case"utf-8":return Ae=z,Te=ee,Y(J(H,(_e=this).length-Ae),_e,Ae,Te);case"ascii":return D(this,H,z,ee);case"latin1":case"binary":return D(this,H,z,ee);case"base64":return _e=this,Te=z,ue=ee,Y(B(H),_e,Te,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,H,z,ee);default:if(me)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),me=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;function V(H,z,ee){if(H%1!=0||H<0)throw new RangeError("offset is not uint");if(ee<H+z)throw new RangeError("Trying to access beyond buffer length")}function K(H,z,ee,se,le,ue){if(!b.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(le<z||z<ue)throw new RangeError('"value" argument is out of bounds');if(ee+se>H.length)throw new RangeError("Index out of range")}function W(H,z,ee,se){if(ee+se>H.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function Q(H,z,ee,se,le){return z=+z,ee>>>=0,le||W(H,0,ee,4),p.write(H,z,ee,se,23,4),ee+4}function L(H,z,ee,se,le){return z=+z,ee>>>=0,le||W(H,0,ee,8),p.write(H,z,ee,se,52,8),ee+8}b.prototype.slice=function(H,z){var ee=this.length,ee=((H=~~H)<0?(H+=ee)<0&&(H=0):ee<H&&(H=ee),(z=z===void 0?ee:~~z)<0?(z+=ee)<0&&(z=0):ee<z&&(z=ee),z<H&&(z=H),this.subarray(H,z));return Object.setPrototypeOf(ee,b.prototype),ee},b.prototype.readUIntLE=function(H,z,ee){H>>>=0,z>>>=0,ee||V(H,z,this.length);for(var se=this[H],le=1,ue=0;++ue<z&&(le*=256);)se+=this[H+ue]*le;return se},b.prototype.readUIntBE=function(H,z,ee){H>>>=0,z>>>=0,ee||V(H,z,this.length);for(var se=this[H+--z],le=1;0<z&&(le*=256);)se+=this[H+--z]*le;return se},b.prototype.readUInt8=function(H,z){return H>>>=0,z||V(H,1,this.length),this[H]},b.prototype.readUInt16LE=function(H,z){return H>>>=0,z||V(H,2,this.length),this[H]|this[H+1]<<8},b.prototype.readUInt16BE=function(H,z){return H>>>=0,z||V(H,2,this.length),this[H]<<8|this[H+1]},b.prototype.readUInt32LE=function(H,z){return H>>>=0,z||V(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},b.prototype.readUInt32BE=function(H,z){return H>>>=0,z||V(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},b.prototype.readIntLE=function(H,z,ee){H>>>=0,z>>>=0,ee||V(H,z,this.length);for(var se=this[H],le=1,ue=0;++ue<z&&(le*=256);)se+=this[H+ue]*le;return(le*=128)<=se&&(se-=Math.pow(2,8*z)),se},b.prototype.readIntBE=function(H,z,ee){H>>>=0,z>>>=0,ee||V(H,z,this.length);for(var se=z,le=1,ue=this[H+--se];0<se&&(le*=256);)ue+=this[H+--se]*le;return(le*=128)<=ue&&(ue-=Math.pow(2,8*z)),ue},b.prototype.readInt8=function(H,z){return H>>>=0,z||V(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},b.prototype.readInt16LE=function(H,z){return H>>>=0,z||V(H,2,this.length),z=this[H]|this[H+1]<<8,32768&z?4294901760|z:z},b.prototype.readInt16BE=function(H,z){return H>>>=0,z||V(H,2,this.length),z=this[H+1]|this[H]<<8,32768&z?4294901760|z:z},b.prototype.readInt32LE=function(H,z){return H>>>=0,z||V(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},b.prototype.readInt32BE=function(H,z){return H>>>=0,z||V(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},b.prototype.readFloatLE=function(H,z){return H>>>=0,z||V(H,4,this.length),p.read(this,H,!0,23,4)},b.prototype.readFloatBE=function(H,z){return H>>>=0,z||V(H,4,this.length),p.read(this,H,!1,23,4)},b.prototype.readDoubleLE=function(H,z){return H>>>=0,z||V(H,8,this.length),p.read(this,H,!0,52,8)},b.prototype.readDoubleBE=function(H,z){return H>>>=0,z||V(H,8,this.length),p.read(this,H,!1,52,8)},b.prototype.writeUIntLE=function(H,z,ee,se){H=+H,z>>>=0,ee>>>=0,se||K(this,H,z,ee,Math.pow(2,8*ee)-1,0);var le=1,ue=0;for(this[z]=255&H;++ue<ee&&(le*=256);)this[z+ue]=H/le&255;return z+ee},b.prototype.writeUIntBE=function(H,z,ee,se){H=+H,z>>>=0,ee>>>=0,se||K(this,H,z,ee,Math.pow(2,8*ee)-1,0);var le=ee-1,ue=1;for(this[z+le]=255&H;0<=--le&&(ue*=256);)this[z+le]=H/ue&255;return z+ee},b.prototype.writeUInt8=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,1,255,0),this[z]=255&H,z+1},b.prototype.writeUInt16LE=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,2,65535,0),this[z]=255&H,this[z+1]=H>>>8,z+2},b.prototype.writeUInt16BE=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,2,65535,0),this[z]=H>>>8,this[z+1]=255&H,z+2},b.prototype.writeUInt32LE=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,4,4294967295,0),this[z+3]=H>>>24,this[z+2]=H>>>16,this[z+1]=H>>>8,this[z]=255&H,z+4},b.prototype.writeUInt32BE=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,4,4294967295,0),this[z]=H>>>24,this[z+1]=H>>>16,this[z+2]=H>>>8,this[z+3]=255&H,z+4},b.prototype.writeIntLE=function(H,z,ee,se){H=+H,z>>>=0,se||K(this,H,z,ee,(se=Math.pow(2,8*ee-1))-1,-se);var le=0,ue=1,_e=0;for(this[z]=255&H;++le<ee&&(ue*=256);)H<0&&_e===0&&this[z+le-1]!==0&&(_e=1),this[z+le]=(H/ue>>0)-_e&255;return z+ee},b.prototype.writeIntBE=function(H,z,ee,se){H=+H,z>>>=0,se||K(this,H,z,ee,(se=Math.pow(2,8*ee-1))-1,-se);var le=ee-1,ue=1,_e=0;for(this[z+le]=255&H;0<=--le&&(ue*=256);)H<0&&_e===0&&this[z+le+1]!==0&&(_e=1),this[z+le]=(H/ue>>0)-_e&255;return z+ee},b.prototype.writeInt8=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,1,127,-128),this[z]=255&(H=H<0?255+H+1:H),z+1},b.prototype.writeInt16LE=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,2,32767,-32768),this[z]=255&H,this[z+1]=H>>>8,z+2},b.prototype.writeInt16BE=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,2,32767,-32768),this[z]=H>>>8,this[z+1]=255&H,z+2},b.prototype.writeInt32LE=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,4,2147483647,-2147483648),this[z]=255&H,this[z+1]=H>>>8,this[z+2]=H>>>16,this[z+3]=H>>>24,z+4},b.prototype.writeInt32BE=function(H,z,ee){return H=+H,z>>>=0,ee||K(this,H,z,4,2147483647,-2147483648),this[z]=(H=H<0?4294967295+H+1:H)>>>24,this[z+1]=H>>>16,this[z+2]=H>>>8,this[z+3]=255&H,z+4},b.prototype.writeFloatLE=function(H,z,ee){return Q(this,H,z,!0,ee)},b.prototype.writeFloatBE=function(H,z,ee){return Q(this,H,z,!1,ee)},b.prototype.writeDoubleLE=function(H,z,ee){return L(this,H,z,!0,ee)},b.prototype.writeDoubleBE=function(H,z,ee){return L(this,H,z,!1,ee)},b.prototype.copy=function(H,z,ee,se){if(!b.isBuffer(H))throw new TypeError("argument should be a Buffer");if(ee=ee||0,se||se===0||(se=this.length),z>=H.length&&(z=H.length),(se=0<se&&se<ee?ee:se)===ee||H.length===0||this.length===0)return 0;if((z=z||0)<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length);var le=(se=H.length-z<se-ee?H.length-z+ee:se)-ee;if(this===H&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(z,ee,se);else if(this===H&&ee<z&&z<se)for(var ue=le-1;0<=ue;--ue)H[ue+z]=this[ue+ee];else Uint8Array.prototype.set.call(H,this.subarray(ee,se),z);return le},b.prototype.fill=function(H,z,ee,se){if(typeof H=="string"){if(typeof z=="string"?(se=z,z=0,ee=this.length):typeof ee=="string"&&(se=ee,ee=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!b.isEncoding(se))throw new TypeError("Unknown encoding: "+se);var le;H.length===1&&(le=H.charCodeAt(0),(se==="utf8"&&le<128||se==="latin1")&&(H=le))}else typeof H=="number"?H&=255:typeof H=="boolean"&&(H=Number(H));if(z<0||this.length<z||this.length<ee)throw new RangeError("Out of range index");var ue;if(!(ee<=z))if(z>>>=0,ee=ee===void 0?this.length:ee>>>0,typeof(H=H||0)=="number")for(ue=z;ue<ee;++ue)this[ue]=H;else{var _e=b.isBuffer(H)?H:b.from(H,se),Te=_e.length;if(Te===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(ue=0;ue<ee-z;++ue)this[ue+z]=_e[ue%Te]}return this};var G=/[^+/0-9A-Za-z-_]/g;function J(H,z){z=z||1/0;for(var ee,se=H.length,le=null,ue=[],_e=0;_e<se;++_e){if(55295<(ee=H.charCodeAt(_e))&&ee<57344){if(!le){if(56319<ee){-1<(z-=3)&&ue.push(239,191,189);continue}if(_e+1===se){-1<(z-=3)&&ue.push(239,191,189);continue}le=ee;continue}if(ee<56320){-1<(z-=3)&&ue.push(239,191,189),le=ee;continue}ee=65536+(le-55296<<10|ee-56320)}else le&&-1<(z-=3)&&ue.push(239,191,189);if(le=null,ee<128){if(--z<0)break;ue.push(ee)}else if(ee<2048){if((z-=2)<0)break;ue.push(ee>>6|192,63&ee|128)}else if(ee<65536){if((z-=3)<0)break;ue.push(ee>>12|224,ee>>6&63|128,63&ee|128)}else{if(!(ee<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;ue.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,63&ee|128)}}return ue}function B(H){return _.toByteArray(function(z){if((z=(z=z.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;z.length%4!=0;)z+="=";return z}(H))}function Y(H,z,ee,se){for(var le=0;le<se&&!(le+ee>=z.length||le>=H.length);++le)z[le+ee]=H[le];return le}function ie(H,z){return H instanceof z||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===z.name}function ne(H){return H!=H}var Z=function(){for(var H="0123456789abcdef",z=new Array(256),ee=0;ee<16;++ee)for(var se=16*ee,le=0;le<16;++le)z[se+le]=H[ee]+H[le];return z}()}).call(this,c("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:246}],5:[function(c,g,y){g.exports=function(m){if(typeof m!="function")throw TypeError(String(m)+" is not a function");return m}},{}],6:[function(c,g,y){var m=c("../internals/is-object");g.exports=function(_){if(m(_)||_===null)return _;throw TypeError("Can't set "+String(_)+" as a prototype")}},{"../internals/is-object":74}],7:[function(p,g,y){var m=p("../internals/well-known-symbol"),_=p("../internals/object-create"),p=p("../internals/object-define-property"),x=m("unscopables"),E=Array.prototype;E[x]==null&&p.f(E,x,{configurable:!0,value:_(null)}),g.exports=function(A){E[x][A]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(c,g,y){var m=c("../internals/string-multibyte").charAt;g.exports=function(_,p,x){return p+(x?m(_,p).length:1)}},{"../internals/string-multibyte":123}],9:[function(c,g,y){g.exports=function(m,_,p){if(m instanceof _)return m;throw TypeError("Incorrect "+(p?p+" ":"")+"invocation")}},{}],10:[function(c,g,y){var m=c("../internals/is-object");g.exports=function(_){if(m(_))return _;throw TypeError(String(_)+" is not an object")}},{"../internals/is-object":74}],11:[function(c,g,y){g.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(W,g,y){function m(L){return A(L)&&b(Q,k(L))}var _,p=W("../internals/array-buffer-native"),x=W("../internals/descriptors"),E=W("../internals/global"),A=W("../internals/is-object"),b=W("../internals/has"),k=W("../internals/classof"),S=W("../internals/create-non-enumerable-property"),T=W("../internals/redefine"),P=W("../internals/object-define-property").f,C=W("../internals/object-get-prototype-of"),M=W("../internals/object-set-prototype-of"),X=W("../internals/well-known-symbol"),W=W("../internals/uid"),j=E.Int8Array,I=j&&j.prototype,O=E.Uint8ClampedArray,O=O&&O.prototype,R=j&&C(j),D=I&&C(I),N=Object.prototype,U=N.isPrototypeOf,X=X("toStringTag"),V=W("TYPED_ARRAY_TAG"),K=p&&!!M&&k(E.opera)!=="Opera",W=!1,Q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(_ in Q)E[_]||(K=!1);if((!K||typeof R!="function"||R===Function.prototype)&&(R=function(){throw TypeError("Incorrect invocation")},K))for(_ in Q)E[_]&&M(E[_],R);if((!K||!D||D===N)&&(D=R.prototype,K))for(_ in Q)E[_]&&M(E[_].prototype,D);if(K&&C(O)!==D&&M(O,D),x&&!b(D,X))for(_ in W=!0,P(D,X,{get:function(){return A(this)?this[V]:void 0}}),Q)E[_]&&S(E[_],V,_);g.exports={NATIVE_ARRAY_BUFFER_VIEWS:K,TYPED_ARRAY_TAG:W&&V,aTypedArray:function(L){if(m(L))return L;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(L){if(M){if(U.call(R,L))return L}else for(var G in Q)if(b(Q,_)&&(G=E[G],G&&(L===G||U.call(G,L))))return L;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(L,G,J){if(x){if(J)for(var B in Q)B=E[B],B&&b(B.prototype,L)&&delete B.prototype[L];D[L]&&!J||T(D,L,!J&&K&&I[L]||G)}},exportTypedArrayStaticMethod:function(L,G,J){var B,Y;if(x){if(M){if(J)for(B in Q)(Y=E[B])&&b(Y,L)&&delete Y[L];if(R[L]&&!J)return;try{return T(R,L,!J&&K&&j[L]||G)}catch{}}for(B in Q)!(Y=E[B])||Y[L]&&!J||T(Y,L,G)}},isView:function(L){return L=k(L),L==="DataView"||b(Q,L)},isTypedArray:m,TypedArray:R,TypedArrayPrototype:D}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(ee,g,y){function m(fe){return[255&fe]}function _(fe){return[255&fe,fe>>8&255]}function p(fe){return[255&fe,fe>>8&255,fe>>16&255,fe>>24&255]}function x(fe){return fe[3]<<24|fe[2]<<16|fe[1]<<8|fe[0]}function E(fe){return ue(fe,23,4)}function A(fe){return ue(fe,52,8)}function b(fe,ye){W(fe[ie],ye,{get:function(){return G(this)[ye]}})}function k(ce,ye,ae,Ne){if(ae=N(ae),ce=G(ce),ae+ye>ce.byteLength)throw le(ne);var re=G(ce.buffer).bytes,ae=ae+ce.byteOffset,ce=re.slice(ae,ae+ye);return Ne?ce:ce.reverse()}function S(fe,ye,Ae,Ne,re,ae){if(Ae=N(Ae),fe=G(fe),Ae+ye>fe.byteLength)throw le(ne);for(var ce=G(fe.buffer).bytes,Ee=Ae+fe.byteOffset,xe=Ne(+re),Ie=0;Ie<ye;Ie++)ce[Ee+Ie]=xe[ae?Ie:ye-Ie-1]}var T=ee("../internals/global"),P=ee("../internals/descriptors"),C=ee("../internals/array-buffer-native"),M=ee("../internals/create-non-enumerable-property"),j=ee("../internals/redefine-all"),I=ee("../internals/fails"),O=ee("../internals/an-instance"),R=ee("../internals/to-integer"),D=ee("../internals/to-length"),N=ee("../internals/to-index"),U=ee("../internals/ieee754"),X=ee("../internals/object-get-prototype-of"),V=ee("../internals/object-set-prototype-of"),K=ee("../internals/object-get-own-property-names").f,W=ee("../internals/object-define-property").f,Q=ee("../internals/array-fill"),L=ee("../internals/set-to-string-tag"),ee=ee("../internals/internal-state"),G=ee.get,J=ee.set,B="ArrayBuffer",Y="DataView",ie="prototype",ne="Wrong index",Z=T[B],H=Z,z=T[Y],ee=z&&z[ie],se=Object.prototype,le=T.RangeError,ue=U.pack,_e=U.unpack;if(C){if(!I(function(){Z(1)})||!I(function(){new Z(-1)})||I(function(){return new Z,new Z(1.5),new Z(NaN),Z.name!=B})){for(var Te,T=(H=function(Ae){return O(this,H),new Z(N(Ae))})[ie]=Z[ie],me=K(Z),Se=0;me.length>Se;)(Te=me[Se++])in H||M(H,Te,Z[Te]);T.constructor=H}V&&X(ee)!==se&&V(ee,se);var U=new z(new H(2)),ve=ee.setInt8;U.setInt8(0,2147483648),U.setInt8(1,2147483649),!U.getInt8(0)&&U.getInt8(1)||j(ee,{setInt8:function(ye,Ae){ve.call(this,ye,Ae<<24>>24)},setUint8:function(ye,Ae){ve.call(this,ye,Ae<<24>>24)}},{unsafe:!0})}else H=function(fe){O(this,H,B),fe=N(fe),J(this,{bytes:Q.call(new Array(fe),0),byteLength:fe}),P||(this.byteLength=fe)},z=function(fe,re,Ae){O(this,z,Y),O(fe,H,Y);var Ne=G(fe).byteLength,re=R(re);if(re<0||Ne<re)throw le("Wrong offset");if(Ne<re+(Ae=Ae===void 0?Ne-re:D(Ae)))throw le("Wrong length");J(this,{buffer:fe,byteLength:Ae,byteOffset:re}),P||(this.buffer=fe,this.byteLength=Ae,this.byteOffset=re)},P&&(b(H,"byteLength"),b(z,"buffer"),b(z,"byteLength"),b(z,"byteOffset")),j(z[ie],{getInt8:function(fe){return k(this,1,fe)[0]<<24>>24},getUint8:function(fe){return k(this,1,fe)[0]},getInt16:function(fe){return fe=k(this,2,fe,1<arguments.length?arguments[1]:void 0),(fe[1]<<8|fe[0])<<16>>16},getUint16:function(fe){return fe=k(this,2,fe,1<arguments.length?arguments[1]:void 0),fe[1]<<8|fe[0]},getInt32:function(fe){return x(k(this,4,fe,1<arguments.length?arguments[1]:void 0))},getUint32:function(fe){return x(k(this,4,fe,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(fe){return _e(k(this,4,fe,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(fe){return _e(k(this,8,fe,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(fe,ye){S(this,1,fe,m,ye)},setUint8:function(fe,ye){S(this,1,fe,m,ye)},setInt16:function(fe,ye){S(this,2,fe,_,ye,2<arguments.length?arguments[2]:void 0)},setUint16:function(fe,ye){S(this,2,fe,_,ye,2<arguments.length?arguments[2]:void 0)},setInt32:function(fe,ye){S(this,4,fe,p,ye,2<arguments.length?arguments[2]:void 0)},setUint32:function(fe,ye){S(this,4,fe,p,ye,2<arguments.length?arguments[2]:void 0)},setFloat32:function(fe,ye){S(this,4,fe,E,ye,2<arguments.length?arguments[2]:void 0)},setFloat64:function(fe,ye){S(this,8,fe,A,ye,2<arguments.length?arguments[2]:void 0)}});L(H,B),L(z,Y),g.exports={ArrayBuffer:H,DataView:z}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(c,g,y){var m=c("../internals/to-object"),_=c("../internals/to-absolute-index"),p=c("../internals/to-length"),x=Math.min;g.exports=[].copyWithin||function(P,A){var b=m(this),k=p(b.length),S=_(P,k),T=_(A,k),P=2<arguments.length?arguments[2]:void 0,C=x((P===void 0?k:_(P,k))-T,k-S),M=1;for(T<S&&S<T+C&&(M=-1,T+=C-1,S+=C-1);0<C--;)T in b?b[S]=b[T]:delete b[S],S+=M,T+=M;return b}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(c,g,y){var m=c("../internals/to-object"),_=c("../internals/to-absolute-index"),p=c("../internals/to-length");g.exports=function(x){for(var E=m(this),A=p(E.length),k=arguments.length,b=_(1<k?arguments[1]:void 0,A),k=2<k?arguments[2]:void 0,S=k===void 0?A:_(k,A);b<S;)E[b++]=x;return E}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(p,g,y){var m=p("../internals/array-iteration").forEach,_=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),_=_("forEach"),p=p("forEach");g.exports=_&&p?[].forEach:function(x){return m(this,x,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(c,g,y){var m=c("../internals/function-bind-context"),_=c("../internals/to-object"),p=c("../internals/call-with-safe-iteration-closing"),x=c("../internals/is-array-iterator-method"),E=c("../internals/to-length"),A=c("../internals/create-property"),b=c("../internals/get-iterator-method");g.exports=function(O){var S,T,P,C,M,j,I=_(O),O=typeof this=="function"?this:Array,R=arguments.length,D=1<R?arguments[1]:void 0,N=D!==void 0,U=b(I),X=0;if(N&&(D=m(D,2<R?arguments[2]:void 0,2)),U==null||O==Array&&x(U))for(T=new O(S=E(I.length));X<S;X++)j=N?D(I[X],X):I[X],A(T,X,j);else for(M=(C=U.call(I)).next,T=new O;!(P=M.call(C)).done;X++)j=N?p(C,D,[P.value,X],!0):P.value,A(T,X,j);return T.length=X,T}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(c,g,y){function m(E){return function(A,b,k){var S,T=_(A),P=p(T.length),C=x(k,P);if(E&&b!=b){for(;C<P;)if((S=T[C++])!=S)return!0}else for(;C<P;C++)if((E||C in T)&&T[C]===b)return E||C||0;return!E&&-1}}var _=c("../internals/to-indexed-object"),p=c("../internals/to-length"),x=c("../internals/to-absolute-index");g.exports={includes:m(!0),indexOf:m(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(c,g,y){function m(k){var S=k==1,T=k==2,P=k==3,C=k==4,M=k==6,j=k==5||M;return function(I,O,R,D){for(var N,U,X=x(I),V=p(X),K=_(O,R,3),W=E(V.length),Q=0,O=D||A,L=S?O(I,W):T?O(I,0):void 0;Q<W;Q++)if((j||Q in V)&&(U=K(N=V[Q],Q,X),k)){if(S)L[Q]=U;else if(U)switch(k){case 3:return!0;case 5:return N;case 6:return Q;case 2:b.call(L,N)}else if(C)return!1}return M?-1:P||C?C:L}}var _=c("../internals/function-bind-context"),p=c("../internals/indexed-object"),x=c("../internals/to-object"),E=c("../internals/to-length"),A=c("../internals/array-species-create"),b=[].push;g.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(k,g,y){var m=k("../internals/to-indexed-object"),_=k("../internals/to-integer"),p=k("../internals/to-length"),b=k("../internals/array-method-is-strict"),k=k("../internals/array-method-uses-to-length"),x=Math.min,E=[].lastIndexOf,A=!!E&&1/[1].lastIndexOf(1,-0)<0,b=b("lastIndexOf"),k=k("indexOf",{ACCESSORS:!0,1:0});g.exports=A||!b||!k?function(S){if(A)return E.apply(this,arguments)||0;var T=m(this),P=p(T.length),C=P-1;for((C=1<arguments.length?x(C,_(arguments[1])):C)<0&&(C=P+C);0<=C;C--)if(C in T&&T[C]===S)return C||0;return-1}:E},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(c,g,y){var m=c("../internals/fails"),_=c("../internals/well-known-symbol"),p=c("../internals/engine-v8-version"),x=_("species");g.exports=function(E){return 51<=p||!m(function(){var A=[];return(A.constructor={})[x]=function(){return{foo:1}},A[E](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(c,g,y){var m=c("../internals/fails");g.exports=function(_,p){var x=[][_];return!!x&&m(function(){x.call(null,p||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(c,g,y){function m(b){throw b}var _=c("../internals/descriptors"),p=c("../internals/fails"),x=c("../internals/has"),E=Object.defineProperty,A={};g.exports=function(b,k){var S,T,P,C;return x(A,b)?A[b]:(S=[][b],T=!!x(k=k||{},"ACCESSORS")&&k.ACCESSORS,P=x(k,0)?k[0]:m,C=x(k,1)?k[1]:void 0,A[b]=!!S&&!p(function(){if(T&&!_)return!0;var M={length:-1};T?E(M,1,{enumerable:!0,get:m}):M[1]=1,S.call(M,P,C)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(c,g,y){function m(A){return function(b,k,S,T){_(k);var P=p(b),C=x(P),M=E(P.length),j=A?M-1:0,I=A?-1:1;if(S<2)for(;;){if(j in C){T=C[j],j+=I;break}if(j+=I,A?j<0:M<=j)throw TypeError("Reduce of empty array with no initial value")}for(;A?0<=j:j<M;j+=I)j in C&&(T=k(T,C[j],j,P));return T}}var _=c("../internals/a-function"),p=c("../internals/to-object"),x=c("../internals/indexed-object"),E=c("../internals/to-length");g.exports={left:m(!1),right:m(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(c,g,y){var m=c("../internals/is-object"),_=c("../internals/is-array"),p=c("../internals/well-known-symbol")("species");g.exports=function(x,E){var A;return new((A=_(x)&&(typeof(A=x.constructor)=="function"&&(A===Array||_(A.prototype))||m(A)&&(A=A[p])===null)?void 0:A)===void 0?Array:A)(E===0?0:E)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(c,g,y){var m=c("../internals/an-object");g.exports=function(_,p,x,E){try{return E?p(m(x)[0],x[1]):p(x)}catch(A){throw E=_.return,E!==void 0&&m(E.call(_)),A}}},{"../internals/an-object":10}],27:[function(c,g,y){var m=c("../internals/well-known-symbol")("iterator"),_=!1;try{var p=0,x={next:function(){return{done:!!p++}},return:function(){_=!0}};x[m]=function(){return this},Array.from(x,function(){throw 2})}catch{}g.exports=function(E,A){if(!A&&!_)return!1;var b=!1;try{var k={};k[m]=function(){return{next:function(){return{done:b=!0}}}},E(k)}catch{}return b}},{"../internals/well-known-symbol":148}],28:[function(c,g,y){var m={}.toString;g.exports=function(_){return m.call(_).slice(8,-1)}},{}],29:[function(c,g,y){var m=c("../internals/to-string-tag-support"),_=c("../internals/classof-raw"),p=c("../internals/well-known-symbol")("toStringTag"),x=_(function(){return arguments}())=="Arguments";g.exports=m?_:function(E){var A;return E===void 0?"Undefined":E===null?"Null":typeof(A=function(b,k){try{return b[k]}catch{}}(E=Object(E),p))=="string"?A:x?_(E):(A=_(E))=="Object"&&typeof E.callee=="function"?"Arguments":A}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(P,g,y){var m=P("../internals/object-define-property").f,_=P("../internals/object-create"),p=P("../internals/redefine-all"),x=P("../internals/function-bind-context"),E=P("../internals/an-instance"),A=P("../internals/iterate"),b=P("../internals/define-iterator"),k=P("../internals/set-species"),S=P("../internals/descriptors"),T=P("../internals/internal-metadata").fastKey,P=P("../internals/internal-state"),C=P.set,M=P.getterFor;g.exports={getConstructor:function(j,I,O,R){function D(V,K,W){var Q,L=X(V),G=N(V,K);return G?G.value=W:(L.last=G={index:Q=T(K,!0),key:K,value:W,previous:K=L.last,next:void 0,removed:!1},L.first||(L.first=G),K&&(K.next=G),S?L.size++:V.size++,Q!=="F"&&(L.index[Q]=G)),V}function N(Q,K){var W,Q=X(Q),L=T(K);if(L!=="F")return Q.index[L];for(W=Q.first;W;W=W.next)if(W.key==K)return W}var U=j(function(V,K){E(V,U,I),C(V,{type:I,index:_(null),first:void 0,last:void 0,size:0}),S||(V.size=0),K!=null&&A(K,V[R],V,O)}),X=M(I);return p(U.prototype,{clear:function(){for(var V=X(this),K=V.index,W=V.first;W;)W.removed=!0,W.previous&&(W.previous=W.previous.next=void 0),delete K[W.index],W=W.next;V.first=V.last=void 0,S?V.size=0:this.size=0},delete:function(L){var K,W,Q=X(this),L=N(this,L);return L&&(K=L.next,W=L.previous,delete Q.index[L.index],L.removed=!0,W&&(W.next=K),K&&(K.previous=W),Q.first==L&&(Q.first=K),Q.last==L&&(Q.last=W),S?Q.size--:this.size--),!!L},forEach:function(V){for(var K,W=X(this),Q=x(V,1<arguments.length?arguments[1]:void 0,3);K=K?K.next:W.first;)for(Q(K.value,K.key,this);K&&K.removed;)K=K.previous},has:function(V){return!!N(this,V)}}),p(U.prototype,O?{get:function(V){return V=N(this,V),V&&V.value},set:function(V,K){return D(this,V===0?0:V,K)}}:{add:function(V){return D(this,V=V===0?0:V,V)}}),S&&m(U.prototype,"size",{get:function(){return X(this).size}}),U},setStrong:function(j,I,O){var R=I+" Iterator",D=M(I),N=M(R);b(j,I,function(U,X){C(this,{type:R,target:U,state:D(U),kind:X,last:void 0})},function(){for(var U=N(this),X=U.kind,V=U.last;V&&V.removed;)V=V.previous;return U.target&&(U.last=V=V?V.next:U.state.first)?X=="keys"?{value:V.key,done:!1}:X=="values"?{value:V.value,done:!1}:{value:[V.key,V.value],done:!1}:{value:U.target=void 0,done:!0}},O?"entries":"values",!O,!0),k(I)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(C,g,y){function m(D){return D.frozen||(D.frozen=new _)}function _(){this.entries=[]}function p(D,N){return I(D.entries,function(U){return U[0]===N})}var x=C("../internals/redefine-all"),E=C("../internals/internal-metadata").getWeakData,A=C("../internals/an-object"),b=C("../internals/is-object"),k=C("../internals/an-instance"),S=C("../internals/iterate"),T=C("../internals/array-iteration"),P=C("../internals/has"),C=C("../internals/internal-state"),M=C.set,j=C.getterFor,I=T.find,O=T.findIndex,R=0;_.prototype={get:function(D){if(D=p(this,D),D)return D[1]},has:function(D){return!!p(this,D)},set:function(D,N){var U=p(this,D);U?U[1]=N:this.entries.push([D,N])},delete:function(D){var N=O(this.entries,function(U){return U[0]===D});return~N&&this.entries.splice(N,1),!!~N}},g.exports={getConstructor:function(D,N,U,X){function V(Q,L,G){var J=W(Q),B=E(A(L),!0);return B===!0?m(J).set(L,G):B[J.id]=G,Q}var K=D(function(Q,L){k(Q,K,N),M(Q,{type:N,id:R++,frozen:void 0}),L!=null&&S(L,Q[X],Q,U)}),W=j(N);return x(K.prototype,{delete:function(Q){var L,G=W(this);return!!b(Q)&&((L=E(Q))===!0?m(G).delete(Q):L&&P(L,G.id)&&delete L[G.id])},has:function(Q){var L,G=W(this);return!!b(Q)&&((L=E(Q))===!0?m(G).has(Q):L&&P(L,G.id))}}),x(K.prototype,U?{get:function(Q){var L,G=W(this);if(b(Q))return(L=E(Q))===!0?m(G).get(Q):L?L[G.id]:void 0},set:function(Q,L){return V(this,Q,L)}}:{add:function(Q){return V(this,Q,!0)}}),K}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/global"),p=c("../internals/is-forced"),x=c("../internals/redefine"),E=c("../internals/internal-metadata"),A=c("../internals/iterate"),b=c("../internals/an-instance"),k=c("../internals/is-object"),S=c("../internals/fails"),T=c("../internals/check-correctness-of-iteration"),P=c("../internals/set-to-string-tag"),C=c("../internals/inherit-if-required");g.exports=function(M,j,I){function O(B){var Y=L[B];x(L,B,B=="add"?function(ie){return Y.call(this,ie===0?0:ie),this}:B=="delete"?function(ie){return!(K&&!k(ie))&&Y.call(this,ie===0?0:ie)}:B=="get"?function(ie){return K&&!k(ie)?void 0:Y.call(this,ie===0?0:ie)}:B=="has"?function(ie){return!(K&&!k(ie))&&Y.call(this,ie===0?0:ie)}:function(ie,ne){return Y.call(this,ie===0?0:ie,ne),this})}var R,D,N,U,X,V=M.indexOf("Map")!==-1,K=M.indexOf("Weak")!==-1,W=V?"set":"add",Q=_[M],L=Q&&Q.prototype,G=Q,J={};return p(M,typeof Q!="function"||!(K||L.forEach&&!S(function(){new Q().entries().next()})))?(G=I.getConstructor(j,M,V,W),E.REQUIRED=!0):p(M,!0)&&(D=(R=new G)[W](K?{}:-0,1)!=R,N=S(function(){R.has(1)}),U=T(function(B){new Q(B)}),X=!K&&S(function(){for(var B=new Q,Y=5;Y--;)B[W](Y,Y);return!B.has(-0)}),U||(((G=j(function(B,Y){return b(B,G,M),B=C(new Q,B,G),Y!=null&&A(Y,B[W],B,V),B})).prototype=L).constructor=G),(N||X)&&(O("delete"),O("has"),V&&O("get")),(X||D)&&O(W),K&&L.clear&&delete L.clear),J[M]=G,m({global:!0,forced:G!=Q},J),P(G,M),K||I.setStrong(G,M,V),G}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(c,g,y){var m=c("../internals/has"),_=c("../internals/own-keys"),p=c("../internals/object-get-own-property-descriptor"),x=c("../internals/object-define-property");g.exports=function(E,A){for(var b=_(A),k=x.f,S=p.f,T=0;T<b.length;T++){var P=b[T];m(E,P)||k(E,P,S(A,P))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(c,g,y){var m=c("../internals/well-known-symbol")("match");g.exports=function(_){var p=/./;try{"/./"[_](p)}catch{try{return p[m]=!1,"/./"[_](p)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(c,g,y){c=c("../internals/fails"),g.exports=!c(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})},{"../internals/fails":51}],36:[function(c,g,y){var m=c("../internals/require-object-coercible"),_=/"/g;g.exports=function(b,x,E,A){var b=String(m(b)),k="<"+x;return E!==""&&(k+=" "+E+'="'+String(A).replace(_,"&quot;")+'"'),k+">"+b+"</"+x+">"}},{"../internals/require-object-coercible":113}],37:[function(c,g,y){function m(){return this}var _=c("../internals/iterators-core").IteratorPrototype,p=c("../internals/object-create"),x=c("../internals/create-property-descriptor"),E=c("../internals/set-to-string-tag"),A=c("../internals/iterators");g.exports=function(b,k,S){return k+=" Iterator",b.prototype=p(_,{next:x(1,S)}),E(b,k,!1,!0),A[k]=m,b}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(c,g,y){var m=c("../internals/descriptors"),_=c("../internals/object-define-property"),p=c("../internals/create-property-descriptor");g.exports=m?function(x,E,A){return _.f(x,E,p(1,A))}:function(x,E,A){return x[E]=A,x}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(c,g,y){g.exports=function(m,_){return{enumerable:!(1&m),configurable:!(2&m),writable:!(4&m),value:_}}},{}],40:[function(c,g,y){var m=c("../internals/to-primitive"),_=c("../internals/object-define-property"),p=c("../internals/create-property-descriptor");g.exports=function(x,E,A){E=m(E),E in x?_.f(x,E,p(0,A)):x[E]=A}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(C,g,y){function m(){return this}var _=C("../internals/export"),p=C("../internals/create-iterator-constructor"),x=C("../internals/object-get-prototype-of"),E=C("../internals/object-set-prototype-of"),A=C("../internals/set-to-string-tag"),b=C("../internals/create-non-enumerable-property"),k=C("../internals/redefine"),S=C("../internals/well-known-symbol"),T=C("../internals/is-pure"),P=C("../internals/iterators"),C=C("../internals/iterators-core"),M=C.IteratorPrototype,j=C.BUGGY_SAFARI_ITERATORS,I=S("iterator"),O="values",R="entries";g.exports=function(D,N,U,J,V,K,W){p(U,N,J);function Q(H){if(H===V&&ne)return ne;if(!j&&H in Y)return Y[H];switch(H){case"keys":case O:case R:return function(){return new U(this,H)}}return function(){return new U(this)}}var L,G,J=N+" Iterator",B=!1,Y=D.prototype,ie=Y[I]||Y["@@iterator"]||V&&Y[V],ne=!j&&ie||Q(V),Z=N=="Array"&&Y.entries||ie;if(Z&&(Z=x(Z.call(new D)),M!==Object.prototype&&Z.next&&(T||x(Z)===M||(E?E(Z,M):typeof Z[I]!="function"&&b(Z,I,m)),A(Z,J,!0,!0),T&&(P[J]=m))),V==O&&ie&&ie.name!==O&&(B=!0,ne=function(){return ie.call(this)}),T&&!W||Y[I]===ne||b(Y,I,ne),P[N]=ne,V)if(L={values:Q(O),keys:K?ne:Q("keys"),entries:Q(R)},W)for(G in L)!j&&!B&&G in Y||k(Y,G,L[G]);else _({target:N,proto:!0,forced:j||B},L);return L}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(c,g,y){var m=c("../internals/path"),_=c("../internals/has"),p=c("../internals/well-known-symbol-wrapped"),x=c("../internals/object-define-property").f;g.exports=function(E){var A=m.Symbol||(m.Symbol={});_(A,E)||x(A,E,{value:p.f(E)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(c,g,y){c=c("../internals/fails"),g.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(_,g,y){var m=_("../internals/global"),_=_("../internals/is-object"),p=m.document,x=_(p)&&_(p.createElement);g.exports=function(E){return x?p.createElement(E):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(c,g,y){g.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(c,g,y){c=c("../internals/engine-user-agent"),g.exports=/(iphone|ipod|ipad).*applewebkit/i.test(c)},{"../internals/engine-user-agent":47}],47:[function(c,g,y){c=c("../internals/get-built-in"),g.exports=c("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(p,g,y){var m,_,x=p("../internals/global"),p=p("../internals/engine-user-agent"),x=x.process,x=x&&x.versions,x=x&&x.v8;x?_=(m=x.split("."))[0]+m[1]:p&&(!(m=p.match(/Edge\/(\d+)/))||74<=m[1])&&(m=p.match(/Chrome\/(\d+)/))&&(_=m[1]),g.exports=_&&+_},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(c,g,y){g.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(c,g,y){var m=c("../internals/global"),_=c("../internals/object-get-own-property-descriptor").f,p=c("../internals/create-non-enumerable-property"),x=c("../internals/redefine"),E=c("../internals/set-global"),A=c("../internals/copy-constructor-properties"),b=c("../internals/is-forced");g.exports=function(k,S){var T,P,C,M=k.target,j=k.global,I=k.stat,O=j?m:I?m[M]||E(M,{}):(m[M]||{}).prototype;if(O)for(T in S){if(P=S[T],C=k.noTargetGet?(C=_(O,T))&&C.value:O[T],!b(j?T:M+(I?".":"#")+T,k.forced)&&C!==void 0){if(typeof P==typeof C)continue;A(P,C)}(k.sham||C&&C.sham)&&p(P,"sham",!0),x(O,T,P,k)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(c,g,y){g.exports=function(m){try{return!!m()}catch{return!0}}},{}],52:[function(S,g,y){S("../modules/es.regexp.exec");var m=S("../internals/redefine"),_=S("../internals/fails"),p=S("../internals/well-known-symbol"),x=S("../internals/regexp-exec"),E=S("../internals/create-non-enumerable-property"),A=p("species"),b=!_(function(){var C=/./;return C.exec=function(){var M=[];return M.groups={a:"7"},M},"".replace(C,"$<a>")!=="7"}),k="a".replace(/./,"$0")==="$0",S=p("replace"),T=!!/./[S]&&/./[S]("a","$0")==="",P=!_(function(){var M=/(?:)/,C=M.exec,M=(M.exec=function(){return C.apply(this,arguments)},"ab".split(M));return M.length!==2||M[0]!=="a"||M[1]!=="b"});g.exports=function(C,M,j,I){var O,R,D=p(C),N=!_(function(){var X={};return X[D]=function(){return 7},""[C](X)!=7}),U=N&&!_(function(){var X=!1,V=/a/;return C==="split"&&((V={constructor:{}}).constructor[A]=function(){return V},V.flags="",V[D]=/./[D]),V.exec=function(){return X=!0,null},V[D](""),!X});N&&U&&(C!=="replace"||b&&k&&!T)&&(C!=="split"||P)||(O=/./[D],j=(U=j(D,""[C],function(X,V,K,W,Q){return V.exec===x?N&&!Q?{done:!0,value:O.call(V,K,W)}:{done:!0,value:X.call(K,V,W)}:{done:!1}},{REPLACE_KEEPS_$0:k,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:T}))[0],R=U[1],m(String.prototype,C,j),m(RegExp.prototype,D,M==2?function(X,V){return R.call(X,this,V)}:function(X){return R.call(X,this)})),I&&E(RegExp.prototype[D],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":187}],53:[function(c,g,y){c=c("../internals/fails"),g.exports=!c(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(c,g,y){var m=c("../internals/a-function");g.exports=function(_,p,x){if(m(_),p===void 0)return _;switch(x){case 0:return function(){return _.call(p)};case 1:return function(E){return _.call(p,E)};case 2:return function(E,A){return _.call(p,E,A)};case 3:return function(E,A,b){return _.call(p,E,A,b)}}return function(){return _.apply(p,arguments)}}},{"../internals/a-function":5}],55:[function(c,g,y){var m=c("../internals/a-function"),_=c("../internals/is-object"),p=[].slice,x={};g.exports=Function.bind||function(E){var A=m(this),b=p.call(arguments,1),k=function(){var S=b.concat(p.call(arguments));if(this instanceof k){var T=A,P=S.length,C=S;if(!(P in x)){for(var M=[],j=0;j<P;j++)M[j]="a["+j+"]";x[P]=Function("C,a","return new C("+M.join(",")+")")}return x[P](T,C)}return A.apply(E,S)};return _(A.prototype)&&(k.prototype=A.prototype),k}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(c,g,y){function m(x){return typeof x=="function"?x:void 0}var _=c("../internals/path"),p=c("../internals/global");g.exports=function(x,E){return arguments.length<2?m(_[x])||m(p[x]):_[x]&&_[x][E]||p[x]&&p[x][E]}},{"../internals/global":59,"../internals/path":104}],57:[function(c,g,y){var m=c("../internals/classof"),_=c("../internals/iterators"),p=c("../internals/well-known-symbol")("iterator");g.exports=function(x){if(x!=null)return x[p]||x["@@iterator"]||_[m(x)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(c,g,y){var m=c("../internals/an-object"),_=c("../internals/get-iterator-method");g.exports=function(p){var x=_(p);if(typeof x!="function")throw TypeError(String(p)+" is not iterable");return m(x.call(p))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(c,g,y){(function(m){function _(p){return p&&p.Math==Math&&p}g.exports=_(typeof globalThis=="object"&&globalThis)||_(typeof window=="object"&&window)||_(typeof self=="object"&&self)||_(typeof m=="object"&&m)||Function("return this")()}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(c,g,y){var m={}.hasOwnProperty;g.exports=function(_,p){return m.call(_,p)}},{}],61:[function(c,g,y){g.exports={}},{}],62:[function(c,g,y){var m=c("../internals/global");g.exports=function(_,p){var x=m.console;x&&x.error&&(arguments.length===1?x.error(_):x.error(_,p))}},{"../internals/global":59}],63:[function(c,g,y){c=c("../internals/get-built-in"),g.exports=c("document","documentElement")},{"../internals/get-built-in":56}],64:[function(c,g,y){var m=c("../internals/descriptors"),_=c("../internals/fails"),p=c("../internals/document-create-element");g.exports=!m&&!_(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(c,g,y){var m=Math.abs,_=Math.pow,p=Math.floor,x=Math.log,E=Math.LN2;g.exports={pack:function(A,b,j){var S,T,P,C=new Array(j),M=8*j-b-1,j=(1<<M)-1,I=j>>1,O=b===23?_(2,-24)-_(2,-77):0,R=A<0||A===0&&1/A<0?1:0,D=0;for((A=m(A))!=A||A===1/0?(T=A!=A?1:0,S=j):(S=p(x(A)/E),A*(P=_(2,-S))<1&&(S--,P*=2),2<=(A+=1<=S+I?O/P:O*_(2,1-I))*P&&(S++,P/=2),j<=S+I?(T=0,S=j):1<=S+I?(T=(A*P-1)*_(2,b),S+=I):(T=A*_(2,I-1)*_(2,b),S=0));8<=b;C[D++]=255&T,T/=256,b-=8);for(S=S<<b|T,M+=b;0<M;C[D++]=255&S,S/=256,M-=8);return C[--D]|=128*R,C},unpack:function(A,b){var k,S=A.length,j=8*S-b-1,T=(1<<j)-1,P=T>>1,C=j-7,M=S-1,j=A[M--],I=127&j;for(j>>=7;0<C;I=256*I+A[M],M--,C-=8);for(k=I&(1<<-C)-1,I>>=-C,C+=b;0<C;k=256*k+A[M],M--,C-=8);if(I===0)I=1-P;else{if(I===T)return k?NaN:j?-1/0:1/0;k+=_(2,b),I-=P}return(j?-1:1)*k*_(2,I-b)}}},{}],66:[function(c,g,y){var m=c("../internals/fails"),_=c("../internals/classof-raw"),p="".split;g.exports=m(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return _(x)=="String"?p.call(x,""):Object(x)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(c,g,y){var m=c("../internals/is-object"),_=c("../internals/object-set-prototype-of");g.exports=function(p,x,E){return _&&typeof(x=x.constructor)=="function"&&x!==E&&m(x=x.prototype)&&x!==E.prototype&&_(p,x),p}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(m,g,y){var m=m("../internals/shared-store"),_=Function.toString;typeof m.inspectSource!="function"&&(m.inspectSource=function(p){return _.call(p)}),g.exports=m.inspectSource},{"../internals/shared-store":119}],69:[function(c,g,y){function m(C){E(C,k,{value:{objectID:"O"+ ++S,weakData:{}}})}var _=c("../internals/hidden-keys"),p=c("../internals/is-object"),x=c("../internals/has"),E=c("../internals/object-define-property").f,A=c("../internals/uid"),b=c("../internals/freezing"),k=A("meta"),S=0,T=Object.isExtensible||function(){return!0},P=g.exports={REQUIRED:!1,fastKey:function(C,M){if(!p(C))return typeof C=="symbol"?C:(typeof C=="string"?"S":"P")+C;if(!x(C,k)){if(!T(C))return"F";if(!M)return"E";m(C)}return C[k].objectID},getWeakData:function(C,M){if(!x(C,k)){if(!T(C))return!0;if(!M)return!1;m(C)}return C[k].weakData},onFreeze:function(C){return b&&P.REQUIRED&&T(C)&&!x(C,k)&&m(C),C}};_[k]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(j,g,y){var m,_,p,x,E,A,b,k,S=j("../internals/native-weak-map"),I=j("../internals/global"),T=j("../internals/is-object"),P=j("../internals/create-non-enumerable-property"),C=j("../internals/has"),M=j("../internals/shared-key"),j=j("../internals/hidden-keys"),I=I.WeakMap;b=S?(m=new I,_=m.get,p=m.has,x=m.set,E=function(O,R){return x.call(m,O,R),R},A=function(O){return _.call(m,O)||{}},function(O){return p.call(m,O)}):(j[k=M("state")]=!0,E=function(O,R){return P(O,k,R),R},A=function(O){return C(O,k)?O[k]:{}},function(O){return C(O,k)}),g.exports={set:E,get:A,has:b,enforce:function(O){return b(O)?A(O):E(O,{})},getterFor:function(O){return function(R){if(T(R)&&(R=A(R)).type===O)return R;throw TypeError("Incompatible receiver, "+O+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(c,g,y){var m=c("../internals/well-known-symbol"),_=c("../internals/iterators"),p=m("iterator"),x=Array.prototype;g.exports=function(E){return E!==void 0&&(_.Array===E||x[p]===E)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(c,g,y){var m=c("../internals/classof-raw");g.exports=Array.isArray||function(_){return m(_)=="Array"}},{"../internals/classof-raw":28}],73:[function(c,g,y){function m(k,S){return(k=E[x(k)])==b||k!=A&&(typeof S=="function"?_(S):!!S)}var _=c("../internals/fails"),p=/#|\.prototype\./,x=m.normalize=function(k){return String(k).replace(p,".").toLowerCase()},E=m.data={},A=m.NATIVE="N",b=m.POLYFILL="P";g.exports=m},{"../internals/fails":51}],74:[function(c,g,y){g.exports=function(m){return typeof m=="object"?m!==null:typeof m=="function"}},{}],75:[function(c,g,y){g.exports=!1},{}],76:[function(c,g,y){var m=c("../internals/is-object"),_=c("../internals/classof-raw"),p=c("../internals/well-known-symbol")("match");g.exports=function(x){var E;return m(x)&&((E=x[p])!==void 0?!!E:_(x)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(c,g,y){function m(k,S){this.stopped=k,this.result=S}var _=c("../internals/an-object"),p=c("../internals/is-array-iterator-method"),x=c("../internals/to-length"),E=c("../internals/function-bind-context"),A=c("../internals/get-iterator-method"),b=c("../internals/call-with-safe-iteration-closing");(g.exports=function(k,S,T,P,C){var M,j,I,O,R,D,N=E(S,T,P?2:1);if(C)M=k;else{if(typeof(S=A(k))!="function")throw TypeError("Target is not iterable");if(p(S)){for(j=0,I=x(k.length);j<I;j++)if((O=P?N(_(D=k[j])[0],D[1]):N(k[j]))&&O instanceof m)return O;return new m(!1)}M=S.call(k)}for(R=M.next;!(D=R.call(M)).done;)if(typeof(O=b(M,N,D.value,P))=="object"&&O&&O instanceof m)return O;return new m(!1)}).stop=function(k){return new m(!0,k)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(A,g,y){var m,_,p=A("../internals/object-get-prototype-of"),x=A("../internals/create-non-enumerable-property"),E=A("../internals/has"),b=A("../internals/well-known-symbol"),A=A("../internals/is-pure"),b=b("iterator"),k=!1;[].keys&&("next"in(_=[].keys())?(p=p(p(_)))!==Object.prototype&&(m=p):k=!0),m==null&&(m={}),A||E(m,b)||x(m,b,function(){return this}),g.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:k}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(c,g,y){g.exports={}},{}],80:[function(c,g,y){g.exports=Math.sign||function(m){return(m=+m)==0||m!=m?m:m<0?-1:1}},{}],81:[function(P,g,y){var m,_,p,x,E,A,b,k,S=P("../internals/global"),R=P("../internals/object-get-own-property-descriptor").f,O=P("../internals/classof-raw"),T=P("../internals/task").set,P=P("../internals/engine-is-ios"),C=S.MutationObserver||S.WebKitMutationObserver,M=S.process,j=S.Promise,I=O(M)=="process",O=R(S,"queueMicrotask"),R=O&&O.value;R||(m=function(){var D,N;for(I&&(D=M.domain)&&D.exit();_;){N=_.fn,_=_.next;try{N()}catch(U){throw _?x():p=void 0,U}}p=void 0,D&&D.enter()},x=I?function(){M.nextTick(m)}:C&&!P?(E=!0,A=document.createTextNode(""),new C(m).observe(A,{characterData:!0}),function(){A.data=E=!E}):j&&j.resolve?(b=j.resolve(void 0),k=b.then,function(){k.call(b,m)}):function(){T.call(S,m)}),g.exports=R||function(D){D={fn:D,next:void 0},p&&(p.next=D),_||(_=D,x()),p=D}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(c,g,y){c=c("../internals/global"),g.exports=c.Promise},{"../internals/global":59}],83:[function(c,g,y){c=c("../internals/fails"),g.exports=!!Object.getOwnPropertySymbols&&!c(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(c,g,y){var m=c("../internals/fails"),_=c("../internals/well-known-symbol"),p=c("../internals/is-pure"),x=_("iterator");g.exports=!m(function(){var E=new URL("b?a=1&b=2&c=3","http://a"),A=E.searchParams,b="";return E.pathname="c%20d",A.forEach(function(k,S){A.delete("b"),b+=S+k}),p&&!E.toJSON||!A.sort||E.href!=="http://a/c%20d?a=1&c=3"||A.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!A[x]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||b!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(m,g,y){var _=m("../internals/global"),m=m("../internals/inspect-source"),_=_.WeakMap;g.exports=typeof _=="function"&&/native code/.test(m(_))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(c,g,y){function m(p){var x,E;this.promise=new p(function(A,b){if(x!==void 0||E!==void 0)throw TypeError("Bad Promise constructor");x=A,E=b}),this.resolve=_(x),this.reject=_(E)}var _=c("../internals/a-function");g.exports.f=function(p){return new m(p)}},{"../internals/a-function":5}],87:[function(c,g,y){var m=c("../internals/is-regexp");g.exports=function(_){if(m(_))throw TypeError("The method doesn't accept regular expressions");return _}},{"../internals/is-regexp":76}],88:[function(c,g,y){var m=c("../internals/global").isFinite;g.exports=Number.isFinite||function(_){return typeof _=="number"&&m(_)}},{"../internals/global":59}],89:[function(c,g,y){var m=c("../internals/descriptors"),_=c("../internals/fails"),p=c("../internals/object-keys"),x=c("../internals/object-get-own-property-symbols"),E=c("../internals/object-property-is-enumerable"),A=c("../internals/to-object"),b=c("../internals/indexed-object"),k=Object.assign,S=Object.defineProperty;g.exports=!k||_(function(){var T,P,C,M;return!(!m||k({b:1},k(S({},"a",{enumerable:!0,get:function(){S(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(P={},M="abcdefghijklmnopqrst",(T={})[C=Symbol()]=7,M.split("").forEach(function(j){P[j]=j}),k({},T)[C]!=7||p(k({},P)).join("")!=M)})?function(T,P){for(var C=A(T),M=arguments.length,j=1,I=x.f,O=E.f;j<M;)for(var R,D=b(arguments[j++]),N=I?p(D).concat(I(D)):p(D),U=N.length,X=0;X<U;)R=N[X++],m&&!O.call(D,R)||(C[R]=D[R]);return C}:k},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(S,g,y){function m(){}var _,p=S("../internals/an-object"),x=S("../internals/object-define-properties"),E=S("../internals/enum-bug-keys"),A=S("../internals/hidden-keys"),b=S("../internals/html"),k=S("../internals/document-create-element"),S=S("../internals/shared-key"),T="prototype",P="script",C=S("IE_PROTO"),M=function(I){return"<"+P+">"+I+"</"+P+">"},j=function(){try{_=document.domain&&new ActiveXObject("htmlfile")}catch{}j=_?((I=_).write(M("")),I.close(),O=I.parentWindow.Object,I=null,O):(I=k("iframe"),O="java"+P+":",I.style.display="none",b.appendChild(I),I.src=String(O),(O=I.contentWindow.document).open(),O.write(M("document.F=Object")),O.close(),O.F);for(var I,O,R=E.length;R--;)delete j[T][E[R]];return j()};A[C]=!0,g.exports=Object.create||function(I,O){var R;return I!==null?(m[T]=p(I),R=new m,m[T]=null,R[C]=I):R=j(),O===void 0?R:x(R,O)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(c,g,y){var m=c("../internals/descriptors"),_=c("../internals/object-define-property"),p=c("../internals/an-object"),x=c("../internals/object-keys");g.exports=m?Object.defineProperties:function(E,A){p(E);for(var b,k=x(A),S=k.length,T=0;T<S;)_.f(E,b=k[T++],A[b]);return E}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(c,g,y){var m=c("../internals/descriptors"),_=c("../internals/ie8-dom-define"),p=c("../internals/an-object"),x=c("../internals/to-primitive"),E=Object.defineProperty;y.f=m?E:function(A,b,k){if(p(A),b=x(b,!0),p(k),_)try{return E(A,b,k)}catch{}if("get"in k||"set"in k)throw TypeError("Accessors not supported");return"value"in k&&(A[b]=k.value),A}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(c,g,y){var m=c("../internals/descriptors"),_=c("../internals/object-property-is-enumerable"),p=c("../internals/create-property-descriptor"),x=c("../internals/to-indexed-object"),E=c("../internals/to-primitive"),A=c("../internals/has"),b=c("../internals/ie8-dom-define"),k=Object.getOwnPropertyDescriptor;y.f=m?k:function(S,T){if(S=x(S),T=E(T,!0),b)try{return k(S,T)}catch{}if(A(S,T))return p(!_.f.call(S,T),S[T])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(c,g,y){var m=c("../internals/to-indexed-object"),_=c("../internals/object-get-own-property-names").f,p={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];g.exports.f=function(E){if(!x||p.call(E)!="[object Window]")return _(m(E));try{return _(E)}catch{return x.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(c,g,y){var m=c("../internals/object-keys-internal"),_=c("../internals/enum-bug-keys").concat("length","prototype");y.f=Object.getOwnPropertyNames||function(p){return m(p,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(c,g,y){y.f=Object.getOwnPropertySymbols},{}],97:[function(x,g,y){var m=x("../internals/has"),_=x("../internals/to-object"),p=x("../internals/shared-key"),x=x("../internals/correct-prototype-getter"),E=p("IE_PROTO"),A=Object.prototype;g.exports=x?Object.getPrototypeOf:function(b){return b=_(b),m(b,E)?b[E]:typeof b.constructor=="function"&&b instanceof b.constructor?b.constructor.prototype:b instanceof Object?A:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(c,g,y){var m=c("../internals/has"),_=c("../internals/to-indexed-object"),p=c("../internals/array-includes").indexOf,x=c("../internals/hidden-keys");g.exports=function(E,A){var b,k=_(E),S=0,T=[];for(b in k)!m(x,b)&&m(k,b)&&T.push(b);for(;A.length>S;)!m(k,b=A[S++])||~p(T,b)||T.push(b);return T}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(c,g,y){var m=c("../internals/object-keys-internal"),_=c("../internals/enum-bug-keys");g.exports=Object.keys||function(p){return m(p,_)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(c,g,y){var m={}.propertyIsEnumerable,_=Object.getOwnPropertyDescriptor,p=_&&!m.call({1:2},1);y.f=p?function(x){return x=_(this,x),!!x&&x.enumerable}:m},{}],101:[function(c,g,y){var m=c("../internals/an-object"),_=c("../internals/a-possible-prototype");g.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,x=!1,E={};try{(p=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),x=E instanceof Array}catch{}return function(A,b){return m(A),_(b),x?p.call(A,b):A.__proto__=b,A}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(c,g,y){var m=c("../internals/to-string-tag-support"),_=c("../internals/classof");g.exports=m?{}.toString:function(){return"[object "+_(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(c,g,y){var m=c("../internals/get-built-in"),_=c("../internals/object-get-own-property-names"),p=c("../internals/object-get-own-property-symbols"),x=c("../internals/an-object");g.exports=m("Reflect","ownKeys")||function(E){var A=_.f(x(E)),b=p.f;return b?A.concat(b(E)):A}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(c,g,y){c=c("../internals/global"),g.exports=c},{"../internals/global":59}],105:[function(c,g,y){g.exports=function(m){try{return{error:!1,value:m()}}catch(_){return{error:!0,value:_}}}},{}],106:[function(c,g,y){var m=c("../internals/an-object"),_=c("../internals/is-object"),p=c("../internals/new-promise-capability");g.exports=function(x,E){return m(x),_(E)&&E.constructor===x?E:((0,(x=p.f(x)).resolve)(E),x.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(c,g,y){var m=c("../internals/redefine");g.exports=function(_,p,x){for(var E in p)m(_,E,p[E],x);return _}},{"../internals/redefine":108}],108:[function(A,g,y){var m=A("../internals/global"),_=A("../internals/create-non-enumerable-property"),p=A("../internals/has"),x=A("../internals/set-global"),E=A("../internals/inspect-source"),A=A("../internals/internal-state"),b=A.get,k=A.enforce,S=String(String).split("String");(g.exports=function(T,P,C,O){var j=!!O&&!!O.unsafe,I=!!O&&!!O.enumerable,O=!!O&&!!O.noTargetGet;typeof C=="function"&&(typeof P!="string"||p(C,"name")||_(C,"name",P),k(C).source=S.join(typeof P=="string"?P:"")),T===m?I?T[P]=C:x(P,C):(j?!O&&T[P]&&(I=!0):delete T[P],I?T[P]=C:_(T,P,C))})(Function.prototype,"toString",function(){return typeof this=="function"&&b(this).source||E(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(c,g,y){var m=c("./classof-raw"),_=c("./regexp-exec");g.exports=function(p,x){var E=p.exec;if(typeof E=="function"){if(E=E.call(p,x),typeof E!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return E}if(m(p)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return _.call(p,x)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(x,g,y){var m,_,p=x("./regexp-flags"),x=x("./regexp-sticky-helpers"),E=RegExp.prototype.exec,A=String.prototype.replace,b=E,k=(m=/a/,_=/b*/g,E.call(m,"a"),E.call(_,"a"),m.lastIndex!==0||_.lastIndex!==0),S=x.UNSUPPORTED_Y||x.BROKEN_CARET,T=/()??/.exec("")[1]!==void 0;g.exports=b=k||T||S?function(P){var C,M,j,I,O=this,R=S&&O.sticky,D=p.call(O),N=O.source,U=0,X=P;return R&&((D=D.replace("y","")).indexOf("g")===-1&&(D+="g"),X=String(P).slice(O.lastIndex),0<O.lastIndex&&(!O.multiline||O.multiline&&P[O.lastIndex-1]!==`
`)&&(N="(?: "+N+")",X=" "+X,U++),M=new RegExp("^(?:"+N+")",D)),T&&(M=new RegExp("^"+N+"$(?!\\s)",D)),k&&(C=O.lastIndex),j=E.call(R?M:O,X),R?j?(j.input=j.input.slice(U),j[0]=j[0].slice(U),j.index=O.lastIndex,O.lastIndex+=j[0].length):O.lastIndex=0:k&&j&&(O.lastIndex=O.global?j.index+j[0].length:C),T&&j&&1<j.length&&A.call(j[0],M,function(){for(I=1;I<arguments.length-2;I++)arguments[I]===void 0&&(j[I]=void 0)}),j}:b},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(c,g,y){var m=c("../internals/an-object");g.exports=function(){var _=m(this),p="";return _.global&&(p+="g"),_.ignoreCase&&(p+="i"),_.multiline&&(p+="m"),_.dotAll&&(p+="s"),_.unicode&&(p+="u"),_.sticky&&(p+="y"),p}},{"../internals/an-object":10}],112:[function(c,g,y){c=c("./fails");function m(_,p){return RegExp(_,p)}y.UNSUPPORTED_Y=c(function(){var _=m("a","y");return _.lastIndex=2,_.exec("abcd")!=null}),y.BROKEN_CARET=c(function(){var _=m("^r","gy");return _.lastIndex=2,_.exec("str")!=null})},{"./fails":51}],113:[function(c,g,y){g.exports=function(m){if(m==null)throw TypeError("Can't call method on "+m);return m}},{}],114:[function(c,g,y){g.exports=Object.is||function(m,_){return m===_?m!==0||1/m==1/_:m!=m&&_!=_}},{}],115:[function(c,g,y){var m=c("../internals/global"),_=c("../internals/create-non-enumerable-property");g.exports=function(p,x){try{_(m,p,x)}catch{m[p]=x}return x}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(c,g,y){var m=c("../internals/get-built-in"),_=c("../internals/object-define-property"),p=c("../internals/well-known-symbol"),x=c("../internals/descriptors"),E=p("species");g.exports=function(b){var b=m(b),k=_.f;x&&b&&!b[E]&&k(b,E,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(c,g,y){var m=c("../internals/object-define-property").f,_=c("../internals/has"),p=c("../internals/well-known-symbol")("toStringTag");g.exports=function(x,E,A){x&&!_(x=A?x:x.prototype,p)&&m(x,p,{configurable:!0,value:E})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(c,g,y){var m=c("../internals/shared"),_=c("../internals/uid"),p=m("keys");g.exports=function(x){return p[x]||(p[x]=_(x))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(m,g,y){var p=m("../internals/global"),m=m("../internals/set-global"),_="__core-js_shared__",p=p[_]||m(_,{});g.exports=p},{"../internals/global":59,"../internals/set-global":115}],120:[function(c,g,y){var m=c("../internals/is-pure"),_=c("../internals/shared-store");(g.exports=function(p,x){return _[p]||(_[p]=x!==void 0?x:{})})("versions",[]).push({version:"3.6.5",mode:m?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(c,g,y){var m=c("../internals/an-object"),_=c("../internals/a-function"),p=c("../internals/well-known-symbol")("species");g.exports=function(A,E){var A=m(A).constructor;return A===void 0||(A=m(A)[p])==null?E:_(A)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(c,g,y){var m=c("../internals/fails");g.exports=function(_){return m(function(){var p=""[_]('"');return p!==p.toLowerCase()||3<p.split('"').length})}},{"../internals/fails":51}],123:[function(c,g,y){function m(x){return function(k,S){var b,k=String(p(k)),S=_(S),T=k.length;return S<0||T<=S?x?"":void 0:(b=k.charCodeAt(S))<55296||56319<b||S+1===T||(T=k.charCodeAt(S+1))<56320||57343<T?x?k.charAt(S):b:x?k.slice(S,S+2):T-56320+(b-55296<<10)+65536}}var _=c("../internals/to-integer"),p=c("../internals/require-object-coercible");g.exports={codeAt:m(!1),charAt:m(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(c,g,y){c=c("../internals/engine-user-agent"),g.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c)},{"../internals/engine-user-agent":47}],125:[function(c,g,y){function m(A){return function(T,M,C){var T=String(x(T)),P=T.length,C=C===void 0?" ":String(C),M=_(M);return M<=P||C==""?T:((P=p.call(C,E((M=M-P)/C.length))).length>M&&(P=P.slice(0,M)),A?T+P:P+T)}}var _=c("../internals/to-length"),p=c("../internals/string-repeat"),x=c("../internals/require-object-coercible"),E=Math.ceil;g.exports={start:m(!1),end:m(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(c,g,y){function m(j){return j+22+75*(j<26)}function _(j){var I,O=[],R=(j=function(ie){for(var ne=[],Z=0,H=ie.length;Z<H;){var z,ee=ie.charCodeAt(Z++);55296<=ee&&ee<=56319&&Z<H?(64512&(z=ie.charCodeAt(Z++)))==56320?ne.push(((1023&ee)<<10)+(1023&z)+65536):(ne.push(ee),Z--):ne.push(ee)}return ne}(j)).length,D=128,N=0,U=72;for(W=0;W<j.length;W++)(I=j[W])<128&&O.push(M(I));var X=O.length,V=X;for(X&&O.push("-");V<R;){for(var K=p,W=0;W<j.length;W++)D<=(I=j[W])&&I<K&&(K=I);var Q=V+1;if(K-D>C((p-N)/Q))throw RangeError(T);for(N+=(K-D)*Q,D=K,W=0;W<j.length;W++){if((I=j[W])<D&&++N>p)throw RangeError(T);if(I==D){for(var L=N,G=x;;G+=x){var J=G<=U?1:U+E<=G?E:G-U;if(L<J)break;var B=L-J,Y=x-J;O.push(M(m(J+B%Y))),L=C(B/Y)}O.push(M(m(L))),U=function(ie,ne,Z){var H=0;for(ie=Z?C(ie/b):ie>>1,ie+=C(ie/ne);P*E>>1<ie;H+=x)ie=C(ie/P);return C(H+(P+1)*ie/(ie+A))}(N,Q,V==X),N=0,++V}}++N,++D}return O.join("")}var p=2147483647,x=36,E=26,A=38,b=700,k=/[^\0-\u007E]/,S=/[.\u3002\uFF0E\uFF61]/g,T="Overflow: input needs wider integers to process",P=x-1,C=Math.floor,M=String.fromCharCode;g.exports=function(j){for(var I,O=[],R=j.toLowerCase().replace(S,".").split("."),D=0;D<R.length;D++)I=R[D],O.push(k.test(I)?"xn--"+_(I):I);return O.join(".")}},{}],127:[function(c,g,y){var m=c("../internals/to-integer"),_=c("../internals/require-object-coercible");g.exports="".repeat||function(p){var x=String(_(this)),E="",A=m(p);if(A<0||A==1/0)throw RangeError("Wrong number of repetitions");for(;0<A;(A>>>=1)&&(x+=x))1&A&&(E+=x);return E}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(c,g,y){var m=c("../internals/fails"),_=c("../internals/whitespaces");g.exports=function(p){return m(function(){return!!_[p]()||""[p]()!=""||_[p].name!==p})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(p,g,y){function m(A){return function(b){return b=String(_(b)),1&A&&(b=b.replace(x,"")),b=2&A?b.replace(E,""):b}}var _=p("../internals/require-object-coercible"),p="["+p("../internals/whitespaces")+"]",x=RegExp("^"+p+p+"*"),E=RegExp(p+p+"*$");g.exports={start:m(1),end:m(2),trim:m(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(P,g,y){function m(V){return function(){X(V)}}function _(V){X(V.data)}function p(V){E.postMessage(V+"",C.protocol+"//"+C.host)}var x,E=P("../internals/global"),A=P("../internals/fails"),b=P("../internals/classof-raw"),k=P("../internals/function-bind-context"),S=P("../internals/html"),T=P("../internals/document-create-element"),P=P("../internals/engine-is-ios"),C=E.location,M=E.setImmediate,j=E.clearImmediate,I=E.process,O=E.MessageChannel,R=E.Dispatch,D=0,N={},U="onreadystatechange",X=function(V){var K;N.hasOwnProperty(V)&&(K=N[V],delete N[V],K())};M&&j||(M=function(V){for(var K=[],W=1;W<arguments.length;)K.push(arguments[W++]);return N[++D]=function(){(typeof V=="function"?V:Function(V)).apply(void 0,K)},x(D),D},j=function(V){delete N[V]},b(I)=="process"?x=function(V){I.nextTick(m(V))}:R&&R.now?x=function(V){R.now(m(V))}:O&&!P?(P=(b=new O).port2,b.port1.onmessage=_,x=k(P.postMessage,P,1)):!E.addEventListener||typeof postMessage!="function"||E.importScripts||A(p)||C.protocol==="file:"?x=U in T("script")?function(V){S.appendChild(T("script"))[U]=function(){S.removeChild(this),X(V)}}:function(V){setTimeout(m(V),0)}:(x=p,E.addEventListener("message",_,!1))),g.exports={set:M,clear:j}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(c,g,y){var m=c("../internals/classof-raw");g.exports=function(_){if(typeof _!="number"&&m(_)!="Number")throw TypeError("Incorrect invocation");return+_}},{"../internals/classof-raw":28}],132:[function(c,g,y){var m=c("../internals/to-integer"),_=Math.max,p=Math.min;g.exports=function(x,E){return x=m(x),x<0?_(x+E,0):p(x,E)}},{"../internals/to-integer":135}],133:[function(c,g,y){var m=c("../internals/to-integer"),_=c("../internals/to-length");g.exports=function(x){if(x===void 0)return 0;var x=m(x),E=_(x);if(x!==E)throw RangeError("Wrong length or index");return E}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(c,g,y){var m=c("../internals/indexed-object"),_=c("../internals/require-object-coercible");g.exports=function(p){return m(_(p))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(c,g,y){var m=Math.ceil,_=Math.floor;g.exports=function(p){return isNaN(p=+p)?0:(0<p?_:m)(p)}},{}],136:[function(c,g,y){var m=c("../internals/to-integer"),_=Math.min;g.exports=function(p){return 0<p?_(m(p),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(c,g,y){var m=c("../internals/require-object-coercible");g.exports=function(_){return Object(m(_))}},{"../internals/require-object-coercible":113}],138:[function(c,g,y){var m=c("../internals/to-positive-integer");g.exports=function(_,p){if(_=m(_),_%p)throw RangeError("Wrong offset");return _}},{"../internals/to-positive-integer":139}],139:[function(c,g,y){var m=c("../internals/to-integer");g.exports=function(_){if(_=m(_),_<0)throw RangeError("The argument can't be less than 0");return _}},{"../internals/to-integer":135}],140:[function(c,g,y){var m=c("../internals/is-object");g.exports=function(_,p){if(!m(_))return _;var x,E;if(p&&typeof(x=_.toString)=="function"&&!m(E=x.call(_))||typeof(x=_.valueOf)=="function"&&!m(E=x.call(_))||!p&&typeof(x=_.toString)=="function"&&!m(E=x.call(_)))return E;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(c,g,y){var m={};m[c("../internals/well-known-symbol")("toStringTag")]="z",g.exports=String(m)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(c,g,y){function m(re,ae){for(var ce=0,Ee=ae.length,xe=new(fe(re))(Ee);ce<Ee;)xe[ce]=ae[ce++];return xe}function _(re,ae){z(re,ae,{get:function(){return Z(this)[ae]}})}function p(re){return re instanceof ue||(re=X(re))=="ArrayBuffer"||re=="SharedArrayBuffer"}function x(re,ae){return ye(re)&&typeof ae!="symbol"&&ae in re&&String(+ae)==String(ae)}function E(re,ae){return x(re,ae=N(ae,!0))?j(2,re[ae]):ee(re,ae)}function A(re,ae,ce){return!(x(re,ae=N(ae,!0))&&V(ce)&&U(ce,"value"))||U(ce,"get")||U(ce,"set")||ce.configurable||U(ce,"writable")&&!ce.writable||U(ce,"enumerable")&&!ce.enumerable?z(re,ae,ce):(re[ae]=ce.value,re)}var b=c("../internals/export"),k=c("../internals/global"),S=c("../internals/descriptors"),T=c("../internals/typed-array-constructors-require-wrappers"),P=c("../internals/array-buffer-view-core"),C=c("../internals/array-buffer"),M=c("../internals/an-instance"),j=c("../internals/create-property-descriptor"),I=c("../internals/create-non-enumerable-property"),O=c("../internals/to-length"),R=c("../internals/to-index"),D=c("../internals/to-offset"),N=c("../internals/to-primitive"),U=c("../internals/has"),X=c("../internals/classof"),V=c("../internals/is-object"),K=c("../internals/object-create"),W=c("../internals/object-set-prototype-of"),Q=c("../internals/object-get-own-property-names").f,L=c("../internals/typed-array-from"),G=c("../internals/array-iteration").forEach,J=c("../internals/set-species"),B=c("../internals/object-define-property"),Y=c("../internals/object-get-own-property-descriptor"),ie=c("../internals/internal-state"),ne=c("../internals/inherit-if-required"),Z=ie.get,H=ie.set,z=B.f,ee=Y.f,se=Math.round,le=k.RangeError,ue=C.ArrayBuffer,_e=C.DataView,Te=P.NATIVE_ARRAY_BUFFER_VIEWS,me=P.TYPED_ARRAY_TAG,Se=P.TypedArray,ve=P.TypedArrayPrototype,fe=P.aTypedArrayConstructor,ye=P.isTypedArray,Ae="BYTES_PER_ELEMENT",Ne="Wrong length";S?(Te||(Y.f=E,B.f=A,_(ve,"buffer"),_(ve,"byteOffset"),_(ve,"byteLength"),_(ve,"length")),b({target:"Object",stat:!0,forced:!Te},{getOwnPropertyDescriptor:E,defineProperty:A}),g.exports=function(Oe,ae,ce){function Ee(Ve,ge){z(Ve,ge,{get:function(){var we=this,pe=ge;return(we=Z(we)).view[Fe](pe*xe+we.byteOffset,!0)},set:function(we){var pe=this,ke=ge;pe=Z(pe),ce&&(we=(we=se(we))<0?0:255<we?255:255&we),pe.view[Xe](ke*xe+pe.byteOffset,we,!0)},enumerable:!0})}var xe=Oe.match(/\d+$/)[0]/8,Ie=Oe+(ce?"Clamped":"")+"Array",Fe="get"+Oe,Xe="set"+Oe,Ze=k[Ie],Je=Ze,Oe=Je&&Je.prototype,qe={};Te?T&&(Je=ae(function(Ve,ge,we,pe){return M(Ve,Je,Ie),ne(V(ge)?p(ge)?pe!==void 0?new Ze(ge,D(we,xe),pe):we!==void 0?new Ze(ge,D(we,xe)):new Ze(ge):ye(ge)?m(Je,ge):L.call(Je,ge):new Ze(R(ge)),Ve,Je)}),W&&W(Je,Se),G(Q(Ze),function(Ve){Ve in Je||I(Je,Ve,Ze[Ve])}),Je.prototype=Oe):(Je=ae(function(Ve,ge,we,pe){M(Ve,Je,Ie);var ke,De,Be=0,He=0;if(V(ge)){if(!p(ge))return ye(ge)?m(Je,ge):L.call(Je,ge);var et=ge,He=D(we,xe),we=ge.byteLength;if(pe===void 0){if(we%xe||(ke=we-He)<0)throw le(Ne)}else if(we<(ke=O(pe)*xe)+He)throw le(Ne);De=ke/xe}else De=R(ge),et=new ue(ke=De*xe);for(H(Ve,{buffer:et,byteOffset:He,byteLength:ke,length:De,view:new _e(et)});Be<De;)Ee(Ve,Be++)}),W&&W(Je,Se),Oe=Je.prototype=K(ve)),Oe.constructor!==Je&&I(Oe,"constructor",Je),me&&I(Oe,me,Ie),qe[Ie]=Je,b({global:!0,forced:Je!=Ze,sham:!Te},qe),Ae in Je||I(Je,Ae,xe),Ae in Oe||I(Oe,Ae,xe),J(Ie)}):g.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(x,g,y){var m=x("../internals/global"),_=x("../internals/fails"),p=x("../internals/check-correctness-of-iteration"),x=x("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,E=m.ArrayBuffer,A=m.Int8Array;g.exports=!x||!_(function(){A(1)})||!_(function(){new A(-1)})||!p(function(b){new A,new A(null),new A(1.5),new A(b)},!0)||_(function(){return new A(new E(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(c,g,y){var m=c("../internals/to-object"),_=c("../internals/to-length"),p=c("../internals/get-iterator-method"),x=c("../internals/is-array-iterator-method"),E=c("../internals/function-bind-context"),A=c("../internals/array-buffer-view-core").aTypedArrayConstructor;g.exports=function(b){var k,S,T,P,C,M,j=m(b),I=arguments.length,O=1<I?arguments[1]:void 0,R=O!==void 0,D=p(j);if(D!=null&&!x(D))for(M=(C=D.call(j)).next,j=[];!(P=M.call(C)).done;)j.push(P.value);for(R&&2<I&&(O=E(O,arguments[2],2)),S=_(j.length),T=new(A(this))(S),k=0;k<S;k++)T[k]=R?O(j[k],k):j[k];return T}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(c,g,y){var m=0,_=Math.random();g.exports=function(p){return"Symbol("+String(p===void 0?"":p)+")_"+(++m+_).toString(36)}},{}],146:[function(c,g,y){c=c("../internals/native-symbol"),g.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(c,g,y){c=c("../internals/well-known-symbol"),y.f=c},{"../internals/well-known-symbol":148}],148:[function(A,g,y){var m=A("../internals/global"),_=A("../internals/shared"),p=A("../internals/has"),x=A("../internals/uid"),E=A("../internals/native-symbol"),A=A("../internals/use-symbol-as-uid"),b=_("wks"),k=m.Symbol,S=A?k:k&&k.withoutSetter||x;g.exports=function(T){return p(b,T)||(E&&p(k,T)?b[T]=k[T]:b[T]=S("Symbol."+T)),b[T]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(c,g,y){g.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],150:[function(p,g,y){var m=p("../internals/export"),_=p("../internals/global"),E=p("../internals/array-buffer"),p=p("../internals/set-species"),x="ArrayBuffer",E=E[x];m({global:!0,forced:_[x]!==E},{ArrayBuffer:E}),p(x)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(j,g,y){var m=j("../internals/export"),_=j("../internals/fails"),p=j("../internals/is-array"),x=j("../internals/is-object"),E=j("../internals/to-object"),A=j("../internals/to-length"),b=j("../internals/create-property"),k=j("../internals/array-species-create"),S=j("../internals/array-method-has-species-support"),M=j("../internals/well-known-symbol"),j=j("../internals/engine-v8-version"),T=M("isConcatSpreadable"),P=9007199254740991,C="Maximum allowed index exceeded",M=51<=j||!_(function(){var I=[];return I[T]=!1,I.concat()[0]!==I}),j=S("concat");m({target:"Array",proto:!0,forced:!M||!j},{concat:function(I){for(var O,R,D,N,U,X=E(this),V=k(X,0),K=0,W=-1,Q=arguments.length;W<Q;W++)if(U=void 0,!x(N=D=W===-1?X:arguments[W])||((U=N[T])!==void 0?!U:!p(N))){if(P<=K)throw TypeError(C);b(V,K++,D)}else{if(R=A(D.length),P<K+R)throw TypeError(C);for(O=0;O<R;O++,K++)O in D&&b(V,K,D[O])}return V.length=K,V}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(p,g,y){var m=p("../internals/export"),_=p("../internals/array-copy-within"),p=p("../internals/add-to-unscopables");m({target:"Array",proto:!0},{copyWithin:_}),p("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(x,g,y){var m=x("../internals/export"),_=x("../internals/array-iteration").every,p=x("../internals/array-method-is-strict"),x=x("../internals/array-method-uses-to-length"),p=p("every"),x=x("every");m({target:"Array",proto:!0,forced:!p||!x},{every:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(p,g,y){var m=p("../internals/export"),_=p("../internals/array-fill"),p=p("../internals/add-to-unscopables");m({target:"Array",proto:!0},{fill:_}),p("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(x,g,y){var m=x("../internals/export"),_=x("../internals/array-iteration").filter,p=x("../internals/array-method-has-species-support"),x=x("../internals/array-method-uses-to-length"),p=p("filter"),x=x("filter");m({target:"Array",proto:!0,forced:!p||!x},{filter:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(A,g,y){var m=A("../internals/export"),_=A("../internals/array-iteration").findIndex,p=A("../internals/add-to-unscopables"),A=A("../internals/array-method-uses-to-length"),x="findIndex",E=!0,A=A(x);x in[]&&Array(1)[x](function(){E=!1}),m({target:"Array",proto:!0,forced:E||!A},{findIndex:function(b){return _(this,b,1<arguments.length?arguments[1]:void 0)}}),p(x)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(_,g,y){var m=_("../internals/export"),_=_("../internals/array-for-each");m({target:"Array",proto:!0,forced:[].forEach!=_},{forEach:_})},{"../internals/array-for-each":16,"../internals/export":50}],158:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/array-from");m({target:"Array",stat:!0,forced:!c("../internals/check-correctness-of-iteration")(function(p){Array.from(p)})},{from:_})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],159:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/array-includes").includes,p=c("../internals/add-to-unscopables");m({target:"Array",proto:!0,forced:!c("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(x){return _(this,x,1<arguments.length?arguments[1]:void 0)}}),p("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(A,g,y){var m=A("../internals/export"),_=A("../internals/array-includes").indexOf,E=A("../internals/array-method-is-strict"),A=A("../internals/array-method-uses-to-length"),p=[].indexOf,x=!!p&&1/[1].indexOf(1,-0)<0,E=E("indexOf"),A=A("indexOf",{ACCESSORS:!0,1:0});m({target:"Array",proto:!0,forced:x||!E||!A},{indexOf:function(b){return x?p.apply(this,arguments)||0:_(this,b,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],161:[function(E,g,y){var m=E("../internals/to-indexed-object"),_=E("../internals/add-to-unscopables"),p=E("../internals/iterators"),x=E("../internals/internal-state"),E=E("../internals/define-iterator"),A="Array Iterator",b=x.set,k=x.getterFor(A);g.exports=E(Array,"Array",function(S,T){b(this,{type:A,target:m(S),index:0,kind:T})},function(){var S=k(this),T=S.target,P=S.kind,C=S.index++;return!T||C>=T.length?{value:S.target=void 0,done:!0}:P=="keys"?{value:C,done:!1}:P=="values"?{value:T[C],done:!1}:{value:[C,T[C]],done:!1}},"values"),p.Arguments=p.Array,_("keys"),_("values"),_("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],162:[function(E,g,y){var m=E("../internals/export"),x=E("../internals/indexed-object"),_=E("../internals/to-indexed-object"),E=E("../internals/array-method-is-strict"),p=[].join,x=x!=Object,E=E("join",",");m({target:"Array",proto:!0,forced:x||!E},{join:function(A){return p.call(_(this),A===void 0?",":A)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],163:[function(_,g,y){var m=_("../internals/export"),_=_("../internals/array-last-index-of");m({target:"Array",proto:!0,forced:_!==[].lastIndexOf},{lastIndexOf:_})},{"../internals/array-last-index-of":20,"../internals/export":50}],164:[function(x,g,y){var m=x("../internals/export"),_=x("../internals/array-iteration").map,p=x("../internals/array-method-has-species-support"),x=x("../internals/array-method-uses-to-length"),p=p("map"),x=x("map");m({target:"Array",proto:!0,forced:!p||!x},{map:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(T,g,y){var m=T("../internals/export"),_=T("../internals/is-object"),p=T("../internals/is-array"),x=T("../internals/to-absolute-index"),E=T("../internals/to-length"),A=T("../internals/to-indexed-object"),b=T("../internals/create-property"),k=T("../internals/well-known-symbol"),S=T("../internals/array-method-has-species-support"),T=T("../internals/array-method-uses-to-length"),S=S("slice"),T=T("slice",{ACCESSORS:!0,0:0,1:2}),P=k("species"),C=[].slice,M=Math.max;m({target:"Array",proto:!0,forced:!S||!T},{slice:function(j,I){var O,R,D,N=A(this),U=E(N.length),X=x(j,U),V=x(I===void 0?U:I,U);if(p(N)&&((O=typeof(O=N.constructor)=="function"&&(O===Array||p(O.prototype))||_(O)&&(O=O[P])===null?void 0:O)===Array||O===void 0))return C.call(N,X,V);for(R=new(O===void 0?Array:O)(M(V-X,0)),D=0;X<V;X++,D++)X in N&&b(R,D,N[X]);return R.length=D,R}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],166:[function(x,g,y){var m=x("../internals/export"),_=x("../internals/array-iteration").some,p=x("../internals/array-method-is-strict"),x=x("../internals/array-method-uses-to-length"),p=p("some"),x=x("some");m({target:"Array",proto:!0,forced:!p||!x},{some:function(E){return _(this,E,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],167:[function(S,g,y){var m=S("../internals/export"),_=S("../internals/to-absolute-index"),p=S("../internals/to-integer"),x=S("../internals/to-length"),E=S("../internals/to-object"),A=S("../internals/array-species-create"),b=S("../internals/create-property"),k=S("../internals/array-method-has-species-support"),S=S("../internals/array-method-uses-to-length"),k=k("splice"),S=S("splice",{ACCESSORS:!0,0:0,1:2}),T=Math.max,P=Math.min;m({target:"Array",proto:!0,forced:!k||!S},{splice:function(K,M){var j,I,O,R,D,N,U=E(this),X=x(U.length),V=_(K,X),K=arguments.length;if(K===0?j=I=0:I=K===1?(j=0,X-V):(j=K-2,P(T(p(M),0),X-V)),9007199254740991<X+j-I)throw TypeError("Maximum allowed length exceeded");for(O=A(U,I),R=0;R<I;R++)(D=V+R)in U&&b(O,R,U[D]);if(j<(O.length=I)){for(R=V;R<X-I;R++)N=R+j,(D=R+I)in U?U[N]=U[D]:delete U[N];for(R=X;X-I+j<R;R--)delete U[R-1]}else if(I<j)for(R=X-I;V<R;R--)N=R+j-1,(D=R+I-1)in U?U[N]=U[D]:delete U[N];for(R=0;R<j;R++)U[R+V]=arguments[R+2];return U.length=X-I+j,O}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],168:[function(_,g,y){var m=_("../internals/descriptors"),_=_("../internals/object-define-property").f,p=Function.prototype,x=p.toString,E=/^\s*function ([^ (]*)/;!m||"name"in p||_(p,"name",{configurable:!0,get:function(){try{return x.call(this).match(E)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],169:[function(_,g,y){var m=_("../internals/collection"),_=_("../internals/collection-strong");g.exports=m("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],170:[function(m,g,y){var m=m("../internals/export"),_=Math.hypot,p=Math.abs,x=Math.sqrt;m({target:"Math",stat:!0,forced:!!_&&_(1/0,NaN)!==1/0},{hypot:function(E,A){for(var b,k,S=0,T=0,P=arguments.length,C=0;T<P;)C<(b=p(arguments[T++]))?(S=S*(k=C/b)*k+1,C=b):S+=0<b?(k=b/C)*k:b;return C===1/0?1/0:C*x(S)}})},{"../internals/export":50}],171:[function(m,g,y){var m=m("../internals/export"),_=Math.log,p=Math.LN2;m({target:"Math",stat:!0},{log2:function(x){return _(x)/p}})},{"../internals/export":50}],172:[function(c,g,y){c("../internals/export")({target:"Math",stat:!0},{sign:c("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],173:[function(c,g,y){function m(W){var Q,L,G,J,B,Y,ie,ne=S(W,!1);if(typeof ne=="string"&&2<ne.length){if((W=(ne=I(ne)).charCodeAt(0))===43||W===45){if((Q=ne.charCodeAt(2))===88||Q===120)return NaN}else if(W===48){switch(ne.charCodeAt(1)){case 66:case 98:L=2,G=49;break;case 79:case 111:L=8,G=55;break;default:return+ne}for(B=(J=ne.slice(2)).length,Y=0;Y<B;Y++)if((ie=J.charCodeAt(Y))<48||G<ie)return NaN;return parseInt(J,L)}}return+ne}var _=c("../internals/descriptors"),p=c("../internals/global"),x=c("../internals/is-forced"),E=c("../internals/redefine"),A=c("../internals/has"),b=c("../internals/classof-raw"),k=c("../internals/inherit-if-required"),S=c("../internals/to-primitive"),T=c("../internals/fails"),P=c("../internals/object-create"),C=c("../internals/object-get-own-property-names").f,M=c("../internals/object-get-own-property-descriptor").f,j=c("../internals/object-define-property").f,I=c("../internals/string-trim").trim,O="Number",R=p[O],D=R.prototype,N=b(P(D))==O;if(x(O,!R(" 0o1")||!R("0b1")||R("+0x1"))){for(var U,X=function(Q){var Q=arguments.length<1?0:Q,L=this;return L instanceof X&&(N?T(function(){D.valueOf.call(L)}):b(L)!=O)?k(new R(m(Q)),L,X):m(Q)},V=_?C(R):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),K=0;V.length>K;K++)A(R,U=V[K])&&!A(X,U)&&j(X,U,M(R,U));(X.prototype=D).constructor=X,E(p,O,X)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],174:[function(c,g,y){c("../internals/export")({target:"Number",stat:!0},{isFinite:c("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],175:[function(A,g,y){function m(S,T,P){return T===0?P:T%2==1?m(S,T-1,P*S):m(S*S,T/2,P)}var _=A("../internals/export"),p=A("../internals/to-integer"),x=A("../internals/this-number-value"),E=A("../internals/string-repeat"),A=A("../internals/fails"),b=1 .toFixed,k=Math.floor;_({target:"Number",proto:!0,forced:b&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!A(function(){b.call({})})},{toFixed:function(O){function T(U,X){for(var V=-1,K=X;++V<6;)K+=U*R[V],R[V]=K%1e7,K=k(K/1e7)}function P(U){for(var X=6,V=0;0<=--X;)V+=R[X],R[X]=k(V/U),V=V%U*1e7}function C(){for(var U,X=6,V="";0<=--X;)V===""&&X!==0&&R[X]===0||(U=String(R[X]),V=V===""?U:V+E.call("0",7-U.length)+U);return V}var M,j,I=x(this),O=p(O),R=[0,0,0,0,0,0],D="",N="0";if(O<0||20<O)throw RangeError("Incorrect fraction digits");if(I!=I)return"NaN";if(I<=-1e21||1e21<=I)return String(I);if(I<0&&(D="-",I=-I),1e-21<I)if(I=(M=function(U){for(var X=0,V=U;4096<=V;)X+=12,V/=4096;for(;2<=V;)X+=1,V/=2;return X}(I*m(2,69,1))-69)<0?I*m(2,-M,1):I/m(2,M,1),I*=4503599627370496,0<(M=52-M)){for(T(0,I),j=O;7<=j;)T(1e7,0),j-=7;for(T(m(10,j,1),0),j=M-1;23<=j;)P(1<<23),j-=23;P(1<<j),T(1,1),P(2),N=C()}else T(0,I),T(1<<-M,0),N=C()+E.call("0",O);return N=0<O?D+((I=N.length)<=O?"0."+E.call("0",O-I)+N:N.slice(0,I-O)+"."+N.slice(I-O)):D+N}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],176:[function(_,g,y){var m=_("../internals/export"),_=_("../internals/object-assign");m({target:"Object",stat:!0,forced:Object.assign!==_},{assign:_})},{"../internals/export":50,"../internals/object-assign":89}],177:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/iterate"),p=c("../internals/create-property");m({target:"Object",stat:!0},{fromEntries:function(x){var E={};return _(x,function(A,b){p(E,A,b)},void 0,!0),E}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],178:[function(x,g,y){var m=x("../internals/export"),E=x("../internals/fails"),_=x("../internals/to-indexed-object"),p=x("../internals/object-get-own-property-descriptor").f,x=x("../internals/descriptors"),E=E(function(){p(1)});m({target:"Object",stat:!0,forced:!x||E,sham:!x},{getOwnPropertyDescriptor:function(A,b){return p(_(A),b)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],179:[function(p,g,y){var m=p("../internals/export"),_=p("../internals/fails"),p=p("../internals/object-get-own-property-names-external").f;m({target:"Object",stat:!0,forced:_(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],180:[function(E,g,y){var m=E("../internals/export"),_=E("../internals/fails"),p=E("../internals/to-object"),x=E("../internals/object-get-prototype-of"),E=E("../internals/correct-prototype-getter");m({target:"Object",stat:!0,forced:_(function(){x(1)}),sham:!E},{getPrototypeOf:function(A){return x(p(A))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],181:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/to-object"),p=c("../internals/object-keys");m({target:"Object",stat:!0,forced:c("../internals/fails")(function(){p(1)})},{keys:function(x){return p(_(x))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],182:[function(p,g,y){var m=p("../internals/to-string-tag-support"),_=p("../internals/redefine"),p=p("../internals/object-to-string");m||_(Object.prototype,"toString",p,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],183:[function(ce,g,y){var m,_,p,x,E=ce("../internals/export"),A=ce("../internals/is-pure"),b=ce("../internals/global"),k=ce("../internals/get-built-in"),S=ce("../internals/native-promise-constructor"),T=ce("../internals/redefine"),P=ce("../internals/redefine-all"),C=ce("../internals/set-to-string-tag"),M=ce("../internals/set-species"),j=ce("../internals/is-object"),I=ce("../internals/a-function"),O=ce("../internals/an-instance"),R=ce("../internals/classof-raw"),D=ce("../internals/inspect-source"),N=ce("../internals/iterate"),U=ce("../internals/check-correctness-of-iteration"),X=ce("../internals/species-constructor"),V=ce("../internals/task").set,K=ce("../internals/microtask"),W=ce("../internals/promise-resolve"),Q=ce("../internals/host-report-errors"),L=ce("../internals/new-promise-capability"),G=ce("../internals/perform"),J=ce("../internals/internal-state"),B=ce("../internals/is-forced"),Ee=ce("../internals/well-known-symbol"),Y=ce("../internals/engine-v8-version"),ie=Ee("species"),ne="Promise",Z=J.get,H=J.set,z=J.getterFor(ne),ee=S,se=b.TypeError,le=b.document,ue=b.process,_e=k("fetch"),Te=L.f,me=Te,Se=R(ue)=="process",ve=!!(le&&le.createEvent&&b.dispatchEvent),fe="unhandledrejection",ye="rejectionhandled",Ae=1,Ne=2,re=1,ae=2,ce=B(ne,function(){var qe,Ve;return D(ee)===String(ee)&&(Y===66||!Se&&typeof PromiseRejectionEvent!="function")?!0:!(!A||ee.prototype.finally)||!(51<=Y&&/native code/.test(ee))&&(Ve=function(ge){ge(function(){},function(){})},((qe=ee.resolve(1)).constructor={})[ie]=Ve,!(qe.then(function(){})instanceof Ve))}),Ee=ce||!U(function(qe){ee.all(qe).catch(function(){})}),xe=function(qe){var Ve;return!(!j(qe)||typeof(Ve=qe.then)!="function")&&Ve},Ie=function(qe,Ve,ge){var we;Ve.notified||(Ve.notified=!0,we=Ve.reactions,K(function(){for(var pe,ke,De=Ve.value,Be=Ve.state==Ae,He=0;we.length>He;){var et,rt,nt,it=we[He++],yt=Be?it.ok:it.fail,pt=it.resolve,lt=it.reject,mt=it.domain;try{yt?(Be||(Ve.rejection===ae&&function(ft,Ct){V.call(b,function(){Se?ue.emit("rejectionHandled",ft):Fe(ye,ft,Ct.value)})}(qe,Ve),Ve.rejection=re),yt===!0?et=De:(mt&&mt.enter(),et=yt(De),mt&&(mt.exit(),nt=!0)),et===it.promise?lt(se("Promise-chain cycle")):(rt=xe(et))?rt.call(et,pt,lt):pt(et)):lt(De)}catch(ft){mt&&!nt&&mt.exit(),lt(ft)}}Ve.reactions=[],Ve.notified=!1,ge&&!Ve.rejection&&(pe=qe,ke=Ve,V.call(b,function(){var ft=ke.value,Ct=Xe(ke);if(Ct&&(Ct=G(function(){Se?ue.emit("unhandledRejection",ft,pe):Fe(fe,pe,ft)}),ke.rejection=Se||Xe(ke)?ae:re,Ct.error))throw Ct.value}))}))},Fe=function(qe,Ve,ge){var we;ve?((we=le.createEvent("Event")).promise=Ve,we.reason=ge,we.initEvent(qe,!1,!0),b.dispatchEvent(we)):we={promise:Ve,reason:ge},(Ve=b["on"+qe])?Ve(we):qe===fe&&Q("Unhandled promise rejection",ge)},Xe=function(qe){return qe.rejection!==re&&!qe.parent},Ze=function(qe,Ve,ge,we){return function(pe){qe(Ve,ge,pe,we)}},Je=function(qe,Ve,ge,we){Ve.done||(Ve.done=!0,(Ve=we||Ve).value=ge,Ve.state=Ne,Ie(qe,Ve,!0))},Oe=function(qe,Ve,ge,we){if(!Ve.done){Ve.done=!0,we&&(Ve=we);try{if(qe===ge)throw se("Promise can't be resolved itself");var pe=xe(ge);pe?K(function(){var ke={done:!1};try{pe.call(ge,Ze(Oe,qe,ke,Ve),Ze(Je,qe,ke,Ve))}catch(De){Je(qe,ke,De,Ve)}}):(Ve.value=ge,Ve.state=Ae,Ie(qe,Ve,!1))}catch(ke){Je(qe,{done:!1},ke,Ve)}}};ce&&(ee=function(qe){O(this,ee,ne),I(qe),m.call(this);var Ve=Z(this);try{qe(Ze(Oe,this,Ve),Ze(Je,this,Ve))}catch(ge){Je(this,Ve,ge)}},(m=function(qe){H(this,{type:ne,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=P(ee.prototype,{then:function(qe,Ve){var ge=z(this),we=Te(X(this,ee));return we.ok=typeof qe!="function"||qe,we.fail=typeof Ve=="function"&&Ve,we.domain=Se?ue.domain:void 0,ge.parent=!0,ge.reactions.push(we),ge.state!=0&&Ie(this,ge,!1),we.promise},catch:function(qe){return this.then(void 0,qe)}}),_=function(){var qe=new m,Ve=Z(qe);this.promise=qe,this.resolve=Ze(Oe,qe,Ve),this.reject=Ze(Je,qe,Ve)},L.f=Te=function(qe){return qe===ee||qe===p?new _:me(qe)},A||typeof S!="function"||(x=S.prototype.then,T(S.prototype,"then",function(qe,Ve){var ge=this;return new ee(function(we,pe){x.call(ge,we,pe)}).then(qe,Ve)},{unsafe:!0}),typeof _e=="function"&&E({global:!0,enumerable:!0,forced:!0},{fetch:function(qe){return W(ee,_e.apply(b,arguments))}}))),E({global:!0,wrap:!0,forced:ce},{Promise:ee}),C(ee,ne,!1,!0),M(ne),p=k(ne),E({target:ne,stat:!0,forced:ce},{reject:function(qe){var Ve=Te(this);return Ve.reject.call(void 0,qe),Ve.promise}}),E({target:ne,stat:!0,forced:A||ce},{resolve:function(qe){return W(A&&this===p?ee:this,qe)}}),E({target:ne,stat:!0,forced:Ee},{all:function(qe){var Ve=this,ge=Te(Ve),we=ge.resolve,pe=ge.reject,ke=G(function(){var De=I(Ve.resolve),Be=[],He=0,et=1;N(qe,function(rt){var nt=He++,it=!1;Be.push(void 0),et++,De.call(Ve,rt).then(function(yt){it||(it=!0,Be[nt]=yt,--et||we(Be))},pe)}),--et||we(Be)});return ke.error&&pe(ke.value),ge.promise},race:function(qe){var Ve=this,ge=Te(Ve),we=ge.reject,pe=G(function(){var ke=I(Ve.resolve);N(qe,function(De){ke.call(Ve,De).then(ge.resolve,we)})});return pe.error&&we(pe.value),ge.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],184:[function(b,g,y){var m=b("../internals/export"),P=b("../internals/get-built-in"),_=b("../internals/a-function"),p=b("../internals/an-object"),x=b("../internals/is-object"),E=b("../internals/object-create"),A=b("../internals/function-bind"),b=b("../internals/fails"),k=P("Reflect","construct"),S=b(function(){function C(){}return!(k(function(){},[],C)instanceof C)}),T=!b(function(){k(function(){})}),P=S||T;m({target:"Reflect",stat:!0,forced:P,sham:P},{construct:function(C,M){_(C),p(M);var j=arguments.length<3?C:_(arguments[2]);if(T&&!S)return k(C,M,j);if(C==j){switch(M.length){case 0:return new C;case 1:return new C(M[0]);case 2:return new C(M[0],M[1]);case 3:return new C(M[0],M[1],M[2]);case 4:return new C(M[0],M[1],M[2],M[3])}var I=[null];return I.push.apply(I,M),new(A.apply(C,I))}return I=j.prototype,j=E(x(I)?I:Object.prototype),I=Function.apply.call(C,j,M),x(I)?I:j}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],185:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/is-object"),p=c("../internals/an-object"),x=c("../internals/has"),E=c("../internals/object-get-own-property-descriptor"),A=c("../internals/object-get-prototype-of");m({target:"Reflect",stat:!0},{get:function b(k,S){var T,P=arguments.length<3?k:arguments[2];return p(k)===P?k[S]:(T=E.f(k,S))?x(T,"value")?T.value:T.get===void 0?void 0:T.get.call(P):_(T=A(k))?b(T,S,P):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],186:[function(c,g,y){var m=c("../internals/descriptors"),_=c("../internals/global"),p=c("../internals/is-forced"),x=c("../internals/inherit-if-required"),E=c("../internals/object-define-property").f,A=c("../internals/object-get-own-property-names").f,b=c("../internals/is-regexp"),k=c("../internals/regexp-flags"),S=c("../internals/regexp-sticky-helpers"),T=c("../internals/redefine"),P=c("../internals/fails"),C=c("../internals/internal-state").set,M=c("../internals/set-species"),j=c("../internals/well-known-symbol")("match"),I=_.RegExp,O=I.prototype,R=/a/g,D=/a/g,N=new I(R)!==R,U=S.UNSUPPORTED_Y;if(m&&p("RegExp",!N||U||P(function(){return D[j]=!1,I(R)!=R||I(D)==D||I(R,"i")!="/a/i"}))){for(var X=function(W,Q){var L,G=this instanceof X,J=b(W),B=Q===void 0;return!G&&J&&W.constructor===X&&B?W:(N?J&&!B&&(W=W.source):W instanceof X&&(B&&(Q=k.call(W)),W=W.source),U&&(L=!!Q&&-1<Q.indexOf("y"))&&(Q=Q.replace(/y/g,"")),J=x(N?new I(W,Q):I(W,Q),G?this:O,X),U&&L&&C(J,{sticky:L}),J)},V=A(I),K=0;V.length>K;)(function(W){W in X||E(X,W,{configurable:!0,get:function(){return I[W]},set:function(Q){I[W]=Q}})})(V[K++]);(O.constructor=X).prototype=O,T(_,"RegExp",X)}M("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],187:[function(_,g,y){var m=_("../internals/export"),_=_("../internals/regexp-exec");m({target:"RegExp",proto:!0,forced:/./.exec!==_},{exec:_})},{"../internals/export":50,"../internals/regexp-exec":110}],188:[function(x,g,y){var m=x("../internals/redefine"),_=x("../internals/an-object"),b=x("../internals/fails"),p=x("../internals/regexp-flags"),x="toString",E=RegExp.prototype,A=E[x],b=b(function(){return A.call({source:"a",flags:"b"})!="/a/b"}),k=A.name!=x;(b||k)&&m(RegExp.prototype,x,function(){var S=_(this),T=String(S.source),P=S.flags;return"/"+T+"/"+String(P===void 0&&S instanceof RegExp&&!("flags"in E)?p.call(S):P)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],189:[function(_,g,y){var m=_("../internals/collection"),_=_("../internals/collection-strong");g.exports=m("Set",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},_)},{"../internals/collection":32,"../internals/collection-strong":30}],190:[function(A,g,y){var m=A("../internals/export"),_=A("../internals/object-get-own-property-descriptor").f,p=A("../internals/to-length"),x=A("../internals/not-a-regexp"),E=A("../internals/require-object-coercible"),S=A("../internals/correct-is-regexp-logic"),A=A("../internals/is-pure"),b="".endsWith,k=Math.min,S=S("endsWith");m({target:"String",proto:!0,forced:!!(A||S||!(m=_(String.prototype,"endsWith"))||m.writable)&&!S},{endsWith:function(T){var P=String(E(this)),C=(x(T),1<arguments.length?arguments[1]:void 0),M=p(P.length),C=C===void 0?M:k(p(C),M),M=String(T);return b?b.call(P,M,C):P.slice(C-M.length,C)===M}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],191:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/not-a-regexp"),p=c("../internals/require-object-coercible");m({target:"String",proto:!0,forced:!c("../internals/correct-is-regexp-logic")("includes")},{includes:function(x){return!!~String(p(this)).indexOf(_(x),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],192:[function(p,g,y){var m=p("../internals/string-multibyte").charAt,_=p("../internals/internal-state"),p=p("../internals/define-iterator"),x="String Iterator",E=_.set,A=_.getterFor(x);p(String,"String",function(b){E(this,{type:x,string:String(b),index:0})},function(){var b=A(this),k=b.string,S=b.index;return S>=k.length?{value:void 0,done:!0}:(k=m(k,S),b.index+=k.length,{value:k,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],193:[function(c,g,y){var m=c("../internals/fix-regexp-well-known-symbol-logic"),_=c("../internals/an-object"),p=c("../internals/to-length"),x=c("../internals/require-object-coercible"),E=c("../internals/advance-string-index"),A=c("../internals/regexp-exec-abstract");m("match",1,function(b,k,S){return[function(T){var P=x(this),C=T==null?void 0:T[b];return C!==void 0?C.call(T,P):new RegExp(T)[b](String(P))},function(T){var P=S(k,T,this);if(P.done)return P.value;var C=_(T),M=String(this);if(!C.global)return A(C,M);for(var j=C.unicode,I=[],O=C.lastIndex=0;(R=A(C,M))!==null;){var R=String(R[0]);(I[O]=R)===""&&(C.lastIndex=E(M,p(C.lastIndex),j)),O++}return O===0?null:I}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],194:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/string-pad").start;m({target:"String",proto:!0,forced:c("../internals/string-pad-webkit-bug")},{padStart:function(p){return _(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],195:[function(c,g,y){c("../internals/export")({target:"String",proto:!0},{repeat:c("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],196:[function(c,g,y){var m=c("../internals/fix-regexp-well-known-symbol-logic"),_=c("../internals/an-object"),p=c("../internals/to-object"),x=c("../internals/to-length"),E=c("../internals/to-integer"),A=c("../internals/require-object-coercible"),b=c("../internals/advance-string-index"),k=c("../internals/regexp-exec-abstract"),S=Math.max,T=Math.min,P=Math.floor,C=/\$([$&'`]|\d\d?|<[^>]*>)/g,M=/\$([$&'`]|\d\d?)/g;m("replace",2,function(j,I,O,R){var D=R.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,N=R.REPLACE_KEEPS_$0,U=D?"$":"$0";return[function(X,V){var K=A(this),W=X==null?void 0:X[j];return W!==void 0?W.call(X,K,V):I.call(String(K),X,V)},function(X,V){if(!D&&N||typeof V=="string"&&V.indexOf(U)===-1){var K=O(I,X,this,V);if(K.done)return K.value}for(var W,Q=_(X),L=String(this),G=typeof V=="function",J=(G||(V=String(V)),Q.global),B=(J&&(W=Q.unicode,Q.lastIndex=0),[]);(H=k(Q,L))!==null&&(B.push(H),J);)String(H[0])===""&&(Q.lastIndex=b(L,x(Q.lastIndex),W));for(var Y,ie="",ne=0,Z=0;Z<B.length;Z++){for(var H=B[Z],z=String(H[0]),ee=S(T(E(H.index),L.length),0),se=[],le=1;le<H.length;le++)se.push((Y=H[le])===void 0?Y:String(Y));var ue=H.groups,_e=G?(_e=[z].concat(se,ee,L),ue!==void 0&&_e.push(ue),String(V.apply(void 0,_e))):function(Te,me,Se,ve,fe,ye){var Ae=Se+Te.length,Ne=ve.length,re=M;return fe!==void 0&&(fe=p(fe),re=C),I.call(ye,re,function(ae,ce){var Ee;switch(ce.charAt(0)){case"$":return"$";case"&":return Te;case"`":return me.slice(0,Se);case"'":return me.slice(Ae);case"<":Ee=fe[ce.slice(1,-1)];break;default:var xe,Ie=+ce;if(Ie==0)return ae;if(Ne<Ie)return(xe=P(Ie/10))!==0&&xe<=Ne?ve[xe-1]===void 0?ce.charAt(1):ve[xe-1]+ce.charAt(1):ae;Ee=ve[Ie-1]}return Ee===void 0?"":Ee})}(z,L,ee,se,ue,V);ne<=ee&&(ie+=L.slice(ne,ee)+_e,ne=ee+z.length)}return ie+L.slice(ne)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],197:[function(c,g,y){var m=c("../internals/fix-regexp-well-known-symbol-logic"),_=c("../internals/an-object"),p=c("../internals/require-object-coercible"),x=c("../internals/same-value"),E=c("../internals/regexp-exec-abstract");m("search",1,function(A,b,k){return[function(S){var T=p(this),P=S==null?void 0:S[A];return P!==void 0?P.call(S,T):new RegExp(S)[A](String(T))},function(S){var T,P=k(b,S,this);return P.done?P.value:(P=_(S),S=String(this),T=P.lastIndex,x(T,0)||(P.lastIndex=0),S=E(P,S),x(P.lastIndex,T)||(P.lastIndex=T),S===null?-1:S.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],198:[function(T,g,y){var m=T("../internals/fix-regexp-well-known-symbol-logic"),_=T("../internals/is-regexp"),p=T("../internals/an-object"),x=T("../internals/require-object-coercible"),E=T("../internals/species-constructor"),A=T("../internals/advance-string-index"),b=T("../internals/to-length"),k=T("../internals/regexp-exec-abstract"),S=T("../internals/regexp-exec"),T=T("../internals/fails"),P=[].push,C=Math.min,M=4294967295,j=!T(function(){return!RegExp(M,"y")});m("split",2,function(I,O,R){var D="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(N,U){var X=String(x(this)),V=U===void 0?M:U>>>0;if(V==0)return[];if(N===void 0)return[X];if(!_(N))return O.call(X,N,V);for(var K,W,Q,L=[],U=(N.ignoreCase?"i":"")+(N.multiline?"m":"")+(N.unicode?"u":"")+(N.sticky?"y":""),G=0,J=new RegExp(N.source,U+"g");(K=S.call(J,X))&&!(G<(W=J.lastIndex)&&(L.push(X.slice(G,K.index)),1<K.length&&K.index<X.length&&P.apply(L,K.slice(1)),Q=K[0].length,G=W,L.length>=V));)J.lastIndex===K.index&&J.lastIndex++;return G===X.length?!Q&&J.test("")||L.push(""):L.push(X.slice(G)),L.length>V?L.slice(0,V):L}:"0".split(void 0,0).length?function(N,U){return N===void 0&&U===0?[]:O.call(this,N,U)}:O;return[function(N,U){var X=x(this),V=N==null?void 0:N[I];return V!==void 0?V.call(N,X,U):D.call(String(X),N,U)},function(K,U){var X=R(D,K,this,U,D!==O);if(X.done)return X.value;var X=p(K),V=String(this),K=E(X,RegExp),W=X.unicode,Q=(X.ignoreCase?"i":"")+(X.multiline?"m":"")+(X.unicode?"u":"")+(j?"y":"g"),L=new K(j?X:"^(?:"+X.source+")",Q),G=U===void 0?M:U>>>0;if(G==0)return[];if(V.length===0)return k(L,V)===null?[V]:[];for(var J=0,B=0,Y=[];B<V.length;){L.lastIndex=j?B:0;var ie,ne=k(L,j?V:V.slice(B));if(ne===null||(ie=C(b(L.lastIndex+(j?0:B)),V.length))===J)B=A(V,B,W);else{if(Y.push(V.slice(J,B)),Y.length===G)return Y;for(var Z=1;Z<=ne.length-1;Z++)if(Y.push(ne[Z]),Y.length===G)return Y;B=J=ie}}return Y.push(V.slice(J)),Y}]},!j)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],199:[function(A,g,y){var m=A("../internals/export"),_=A("../internals/object-get-own-property-descriptor").f,p=A("../internals/to-length"),x=A("../internals/not-a-regexp"),E=A("../internals/require-object-coercible"),S=A("../internals/correct-is-regexp-logic"),A=A("../internals/is-pure"),b="".startsWith,k=Math.min,S=S("startsWith");m({target:"String",proto:!0,forced:!!(A||S||!(m=_(String.prototype,"startsWith"))||m.writable)&&!S},{startsWith:function(M){var P=String(E(this)),C=(x(M),p(k(1<arguments.length?arguments[1]:void 0,P.length))),M=String(M);return b?b.call(P,M,C):P.slice(C,C+M.length)===M}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],200:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/create-html");m({target:"String",proto:!0,forced:c("../internals/string-html-forced")("sub")},{sub:function(){return _(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],201:[function(c,g,y){var m=c("../internals/export"),_=c("../internals/string-trim").trim;m({target:"String",proto:!0,forced:c("../internals/string-trim-forced")("trim")},{trim:function(){return _(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],202:[function(C,g,y){var m,_,p,x,E,A=C("../internals/export"),b=C("../internals/descriptors"),k=C("../internals/global"),S=C("../internals/has"),T=C("../internals/is-object"),P=C("../internals/object-define-property").f,C=C("../internals/copy-constructor-properties"),M=k.Symbol;!b||typeof M!="function"||"description"in M.prototype&&M().description===void 0||(m={},C(_=function(){var j=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),I=this instanceof _?new M(j):j===void 0?M():M(j);return j===""&&(m[I]=!0),I},M),(k=_.prototype=M.prototype).constructor=_,p=k.toString,x=String(M("test"))=="Symbol(test)",E=/^Symbol\((.*)\)[^)]+$/,P(k,"description",{configurable:!0,get:function(){var j=T(this)?this.valueOf():this,I=p.call(j);return S(m,j)?"":(j=x?I.slice(7,-1):I.replace(E,"$1"))===""?void 0:j}}),A({global:!0,forced:!0},{Symbol:_}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],203:[function(c,g,y){c("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],204:[function(me,g,y){function m(pe,ke){var De=Ee[pe]=X(ye[Te]);return Se(De,{type:_e,tag:pe,description:ke}),S||(De.description=ke),De}function _(pe,Be){O(pe);var De=D(Be),Be=V(De).concat(we(De));return le(Be,function(He){S&&!ge.call(De,He)||Ve(pe,He,De[He])}),pe}function p(Be,He){var De,Be=D(Be),He=N(He,!0);if(Be!==fe||!M(Ee,He)||M(xe,He))return!(De=Ne(Be,He))||!M(Ee,He)||M(Be,ue)&&Be[ue][He]||(De.enumerable=!0),De}function x(ke){var ke=ae(D(ke)),De=[];return le(ke,function(Be){M(Ee,Be)||M(ne,Be)||De.push(Be)}),De}var E=me("../internals/export"),A=me("../internals/global"),b=me("../internals/get-built-in"),k=me("../internals/is-pure"),S=me("../internals/descriptors"),T=me("../internals/native-symbol"),P=me("../internals/use-symbol-as-uid"),C=me("../internals/fails"),M=me("../internals/has"),j=me("../internals/is-array"),I=me("../internals/is-object"),O=me("../internals/an-object"),R=me("../internals/to-object"),D=me("../internals/to-indexed-object"),N=me("../internals/to-primitive"),U=me("../internals/create-property-descriptor"),X=me("../internals/object-create"),V=me("../internals/object-keys"),K=me("../internals/object-get-own-property-names"),W=me("../internals/object-get-own-property-names-external"),Q=me("../internals/object-get-own-property-symbols"),L=me("../internals/object-get-own-property-descriptor"),G=me("../internals/object-define-property"),J=me("../internals/object-property-is-enumerable"),B=me("../internals/create-non-enumerable-property"),Y=me("../internals/redefine"),ie=me("../internals/shared"),Xe=me("../internals/shared-key"),ne=me("../internals/hidden-keys"),Z=me("../internals/uid"),H=me("../internals/well-known-symbol"),z=me("../internals/well-known-symbol-wrapped"),ee=me("../internals/define-well-known-symbol"),se=me("../internals/set-to-string-tag"),Ze=me("../internals/internal-state"),le=me("../internals/array-iteration").forEach,ue=Xe("hidden"),_e="Symbol",Te="prototype",me=H("toPrimitive"),Se=Ze.set,ve=Ze.getterFor(_e),fe=Object[Te],ye=A.Symbol,Ae=b("JSON","stringify"),Ne=L.f,re=G.f,ae=W.f,ce=J.f,Ee=ie("symbols"),xe=ie("op-symbols"),Ie=ie("string-to-symbol-registry"),Fe=ie("symbol-to-string-registry"),Xe=ie("wks"),Ze=A.QObject,Je=!Ze||!Ze[Te]||!Ze[Te].findChild,Oe=S&&C(function(){return X(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a!=7})?function(pe,ke,De){var Be=Ne(fe,ke);Be&&delete fe[ke],re(pe,ke,De),Be&&pe!==fe&&re(fe,ke,Be)}:re,qe=P?function(pe){return typeof pe=="symbol"}:function(pe){return Object(pe)instanceof ye},Ve=function(pe,ke,De){return pe===fe&&Ve(xe,ke,De),O(pe),ke=N(ke,!0),O(De),(M(Ee,ke)?(De.enumerable?(M(pe,ue)&&pe[ue][ke]&&(pe[ue][ke]=!1),De=X(De,{enumerable:U(0,!1)})):(M(pe,ue)||re(pe,ue,U(1,{})),pe[ue][ke]=!0),Oe):re)(pe,ke,De)},ge=function(ke){var ke=N(ke,!0),De=ce.call(this,ke);return!(this===fe&&M(Ee,ke)&&!M(xe,ke))&&(!(De||!M(this,ke)||!M(Ee,ke)||M(this,ue)&&this[ue][ke])||De)},we=function(De){var ke=De===fe,De=ae(ke?xe:D(De)),Be=[];return le(De,function(He){!M(Ee,He)||ke&&!M(fe,He)||Be.push(Ee[He])}),Be};T||(Y((ye=function(){if(this instanceof ye)throw TypeError("Symbol is not a constructor");var pe=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,ke=Z(pe),De=function(Be){this===fe&&De.call(xe,Be),M(this,ue)&&M(this[ue],ke)&&(this[ue][ke]=!1),Oe(this,ke,U(1,Be))};return S&&Je&&Oe(fe,ke,{configurable:!0,set:De}),m(ke,pe)})[Te],"toString",function(){return ve(this).tag}),Y(ye,"withoutSetter",function(pe){return m(Z(pe),pe)}),J.f=ge,G.f=Ve,L.f=p,K.f=W.f=x,Q.f=we,z.f=function(pe){return m(H(pe),pe)},S&&(re(ye[Te],"description",{configurable:!0,get:function(){return ve(this).description}}),k||Y(fe,"propertyIsEnumerable",ge,{unsafe:!0}))),E({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:ye}),le(V(Xe),function(pe){ee(pe)}),E({target:_e,stat:!0,forced:!T},{for:function(De){var ke,De=String(De);return M(Ie,De)?Ie[De]:(ke=ye(De),Ie[De]=ke,Fe[ke]=De,ke)},keyFor:function(pe){if(!qe(pe))throw TypeError(pe+" is not a symbol");if(M(Fe,pe))return Fe[pe]},useSetter:function(){Je=!0},useSimple:function(){Je=!1}}),E({target:"Object",stat:!0,forced:!T,sham:!S},{create:function(pe,ke){return ke===void 0?X(pe):_(X(pe),ke)},defineProperty:Ve,defineProperties:_,getOwnPropertyDescriptor:p}),E({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:x,getOwnPropertySymbols:we}),E({target:"Object",stat:!0,forced:C(function(){Q.f(1)})},{getOwnPropertySymbols:function(pe){return Q.f(R(pe))}}),Ae&&E({target:"JSON",stat:!0,forced:!T||C(function(){var pe=ye();return Ae([pe])!="[null]"||Ae({a:pe})!="{}"||Ae(Object(pe))!="{}"})},{stringify:function(pe,ke,De){for(var Be,He=[pe],et=1;et<arguments.length;)He.push(arguments[et++]);if((I(Be=ke)||pe!==void 0)&&!qe(pe))return j(ke)||(ke=function(rt,nt){if(typeof Be=="function"&&(nt=Be.call(this,rt,nt)),!qe(nt))return nt}),He[1]=ke,Ae.apply(null,He)}}),ye[Te][me]||B(ye[Te],me,ye[Te].valueOf),se(ye,_e),ne[ue]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],205:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-copy-within"),p=m.aTypedArray;(0,m.exportTypedArrayMethod)("copyWithin",function(x,E){return _.call(p(this),x,E,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],206:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-iteration").every,p=m.aTypedArray;(0,m.exportTypedArrayMethod)("every",function(x){return _(p(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],207:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-fill"),p=m.aTypedArray;(0,m.exportTypedArrayMethod)("fill",function(x){return _.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],208:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-iteration").filter,p=c("../internals/species-constructor"),x=m.aTypedArray,E=m.aTypedArrayConstructor;(0,m.exportTypedArrayMethod)("filter",function(A){for(var b=_(x(this),A,1<arguments.length?arguments[1]:void 0),A=p(this,this.constructor),k=0,S=b.length,T=new(E(A))(S);k<S;)T[k]=b[k++];return T})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],209:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-iteration").findIndex,p=m.aTypedArray;(0,m.exportTypedArrayMethod)("findIndex",function(x){return _(p(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],210:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-iteration").find,p=m.aTypedArray;(0,m.exportTypedArrayMethod)("find",function(x){return _(p(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],211:[function(c,g,y){c("../internals/typed-array-constructor")("Float32",function(m){return function(_,p,x){return m(this,_,p,x)}})},{"../internals/typed-array-constructor":142}],212:[function(c,g,y){c("../internals/typed-array-constructor")("Float64",function(m){return function(_,p,x){return m(this,_,p,x)}})},{"../internals/typed-array-constructor":142}],213:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-iteration").forEach,p=m.aTypedArray;(0,m.exportTypedArrayMethod)("forEach",function(x){_(p(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],214:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-includes").includes,p=m.aTypedArray;(0,m.exportTypedArrayMethod)("includes",function(x){return _(p(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],215:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-includes").indexOf,p=m.aTypedArray;(0,m.exportTypedArrayMethod)("indexOf",function(x){return _(p(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],216:[function(c,g,y){c("../internals/typed-array-constructor")("Int16",function(m){return function(_,p,x){return m(this,_,p,x)}})},{"../internals/typed-array-constructor":142}],217:[function(c,g,y){c("../internals/typed-array-constructor")("Int32",function(m){return function(_,p,x){return m(this,_,p,x)}})},{"../internals/typed-array-constructor":142}],218:[function(_,g,y){function m(){return p.call(A(this))}var S=_("../internals/global"),k=_("../internals/array-buffer-view-core"),b=_("../modules/es.array.iterator"),_=_("../internals/well-known-symbol")("iterator"),S=S.Uint8Array,p=b.values,x=b.keys,E=b.entries,A=k.aTypedArray,b=k.exportTypedArrayMethod,k=S&&S.prototype[_],S=!!k&&(k.name=="values"||k.name==null);b("entries",function(){return E.call(A(this))}),b("keys",function(){return x.call(A(this))}),b("values",m,!S),b(_,m,!S)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],219:[function(_,g,y){var _=_("../internals/array-buffer-view-core"),m=_.aTypedArray,_=_.exportTypedArrayMethod,p=[].join;_("join",function(x){return p.apply(m(this),arguments)})},{"../internals/array-buffer-view-core":12}],220:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-last-index-of"),p=m.aTypedArray;(0,m.exportTypedArrayMethod)("lastIndexOf",function(x){return _.apply(p(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],221:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-iteration").map,p=c("../internals/species-constructor"),x=m.aTypedArray,E=m.aTypedArrayConstructor;(0,m.exportTypedArrayMethod)("map",function(A){return _(x(this),A,1<arguments.length?arguments[1]:void 0,function(b,k){return new(E(p(b,b.constructor)))(k)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],222:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-reduce").right,p=m.aTypedArray;(0,m.exportTypedArrayMethod)("reduceRight",function(x){return _(p(this),x,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],223:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-reduce").left,p=m.aTypedArray;(0,m.exportTypedArrayMethod)("reduce",function(x){return _(p(this),x,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],224:[function(_,g,y){var _=_("../internals/array-buffer-view-core"),m=_.aTypedArray,_=_.exportTypedArrayMethod,p=Math.floor;_("reverse",function(){for(var x,E=m(this).length,A=p(E/2),b=0;b<A;)x=this[b],this[b++]=this[--E],this[E]=x;return this})},{"../internals/array-buffer-view-core":12}],225:[function(E,g,y){var m=E("../internals/array-buffer-view-core"),_=E("../internals/to-length"),p=E("../internals/to-offset"),x=E("../internals/to-object"),E=E("../internals/fails"),A=m.aTypedArray;(0,m.exportTypedArrayMethod)("set",function(b){A(this);var k=p(1<arguments.length?arguments[1]:void 0,1),S=this.length,T=x(b),P=_(T.length),C=0;if(S<P+k)throw RangeError("Wrong length");for(;C<P;)this[k+C]=T[C++]},E(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],226:[function(_,g,y){var E=_("../internals/array-buffer-view-core"),m=_("../internals/species-constructor"),_=_("../internals/fails"),p=E.aTypedArray,x=E.aTypedArrayConstructor,E=E.exportTypedArrayMethod,A=[].slice;E("slice",function(b,k){for(var S=A.call(p(this),b,k),b=m(this,this.constructor),T=0,P=S.length,C=new(x(b))(P);T<P;)C[T]=S[T++];return C},_(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],227:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/array-iteration").some,p=m.aTypedArray;(0,m.exportTypedArrayMethod)("some",function(x){return _(p(this),x,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],228:[function(_,g,y){var _=_("../internals/array-buffer-view-core"),m=_.aTypedArray,_=_.exportTypedArrayMethod,p=[].sort;_("sort",function(x){return p.call(m(this),x)})},{"../internals/array-buffer-view-core":12}],229:[function(c,g,y){var m=c("../internals/array-buffer-view-core"),_=c("../internals/to-length"),p=c("../internals/to-absolute-index"),x=c("../internals/species-constructor"),E=m.aTypedArray;(0,m.exportTypedArrayMethod)("subarray",function(T,b){var k=E(this),S=k.length,T=p(T,S);return new(x(k,k.constructor))(k.buffer,k.byteOffset+T*k.BYTES_PER_ELEMENT,_((b===void 0?S:p(b,S))-T))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],230:[function(_,g,y){var E=_("../internals/global"),m=_("../internals/array-buffer-view-core"),_=_("../internals/fails"),p=E.Int8Array,x=m.aTypedArray,E=m.exportTypedArrayMethod,A=[].toLocaleString,b=[].slice,k=!!p&&_(function(){A.call(new p(1))});E("toLocaleString",function(){return A.apply(k?b.call(x(this)):x(this),arguments)},_(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!_(function(){p.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],231:[function(_,g,y){var m=_("../internals/array-buffer-view-core").exportTypedArrayMethod,E=_("../internals/fails"),_=_("../internals/global").Uint8Array,_=_&&_.prototype||{},p=[].toString,x=[].join,E=(E(function(){p.call({})})&&(p=function(){return x.call(this)}),_.toString!=p);m("toString",p,E)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],232:[function(c,g,y){c("../internals/typed-array-constructor")("Uint16",function(m){return function(_,p,x){return m(this,_,p,x)}})},{"../internals/typed-array-constructor":142}],233:[function(c,g,y){c("../internals/typed-array-constructor")("Uint32",function(m){return function(_,p,x){return m(this,_,p,x)}})},{"../internals/typed-array-constructor":142}],234:[function(c,g,y){c("../internals/typed-array-constructor")("Uint8",function(m){return function(_,p,x){return m(this,_,p,x)}})},{"../internals/typed-array-constructor":142}],235:[function(c,g,y){c("../internals/typed-array-constructor")("Uint8",function(m){return function(_,p,x){return m(this,_,p,x)}},!0)},{"../internals/typed-array-constructor":142}],236:[function(M,O,y){function m(R){return function(){return R(this,arguments.length?arguments[0]:void 0)}}var _,p,x,E,A,j=M("../internals/global"),b=M("../internals/redefine-all"),k=M("../internals/internal-metadata"),S=M("../internals/collection"),T=M("../internals/collection-weak"),P=M("../internals/is-object"),C=M("../internals/internal-state").enforce,M=M("../internals/native-weak-map"),j=!j.ActiveXObject&&"ActiveXObject"in j,I=Object.isExtensible,O=O.exports=S("WeakMap",m,T);M&&j&&(_=T.getConstructor(m,"WeakMap",!0),k.REQUIRED=!0,S=O.prototype,p=S.delete,x=S.has,E=S.get,A=S.set,b(S,{delete:function(R){var D;return P(R)&&!I(R)?((D=C(this)).frozen||(D.frozen=new _),p.call(this,R)||D.frozen.delete(R)):p.call(this,R)},has:function(R){var D;return P(R)&&!I(R)?((D=C(this)).frozen||(D.frozen=new _),x.call(this,R)||D.frozen.has(R)):x.call(this,R)},get:function(R){var D;return!P(R)||I(R)||((D=C(this)).frozen||(D.frozen=new _),x.call(this,R))?E.call(this,R):D.frozen.get(R)},set:function(R,D){var N;return!P(R)||I(R)||((N=C(this)).frozen||(N.frozen=new _),x.call(this,R))?A.call(this,R,D):N.frozen.set(R,D),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],237:[function(c,g,y){var m,_=c("../internals/global"),p=c("../internals/dom-iterables"),x=c("../internals/array-for-each"),E=c("../internals/create-non-enumerable-property");for(m in p){var A=_[m],A=A&&A.prototype;if(A&&A.forEach!==x)try{E(A,"forEach",x)}catch{A.forEach=x}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],238:[function(A,g,y){var m,_=A("../internals/global"),p=A("../internals/dom-iterables"),x=A("../modules/es.array.iterator"),E=A("../internals/create-non-enumerable-property"),A=A("../internals/well-known-symbol"),b=A("iterator"),k=A("toStringTag"),S=x.values;for(m in p){var T=_[m],P=T&&T.prototype;if(P){if(P[b]!==S)try{E(P,b,S)}catch{P[b]=S}if(P[k]||E(P,k,m),p[m]){for(var C in x)if(P[C]!==x[C])try{E(P,C,x[C])}catch{P[C]=x[C]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],239:[function(ue,g,y){ue("../modules/es.array.iterator");function m(_e){try{return decodeURIComponent(_e)}catch{return _e}}function _(_e){return ee[_e]}function p(_e){return encodeURIComponent(_e).replace(z,_)}function x(_e){this.entries.length=0,se(this.entries,_e)}function E(_e,Te){if(_e<Te)throw TypeError("Not enough arguments")}function A(){j(this,A,G);var _e,Te,me,Se,ve,fe,ye,Ae,Ne=0<arguments.length?arguments[0]:void 0,re=[];if(B(this,{type:G,entries:re,updateURL:function(){},updateSearchParams:x}),Ne!==void 0)if(N(Ne))if(typeof(_e=K(Ne))=="function")for(me=(Te=_e.call(Ne)).next;!(Se=me.call(Te)).done;){if((fe=(ve=(Se=V(D(Se.value))).next).call(Se)).done||(ye=ve.call(Se)).done||!ve.call(Se).done)throw TypeError("Expected sequence with length 2");re.push({key:fe.value+"",value:ye.value+""})}else for(Ae in Ne)I(Ne,Ae)&&re.push({key:Ae,value:Ne[Ae]+""});else se(re,typeof Ne=="string"?Ne.charAt(0)==="?"?Ne.slice(1):Ne:Ne+"")}var b=ue("../internals/export"),L=ue("../internals/get-built-in"),k=ue("../internals/native-url"),S=ue("../internals/redefine"),T=ue("../internals/redefine-all"),P=ue("../internals/set-to-string-tag"),C=ue("../internals/create-iterator-constructor"),M=ue("../internals/internal-state"),j=ue("../internals/an-instance"),I=ue("../internals/has"),O=ue("../internals/function-bind-context"),R=ue("../internals/classof"),D=ue("../internals/an-object"),N=ue("../internals/is-object"),U=ue("../internals/object-create"),X=ue("../internals/create-property-descriptor"),V=ue("../internals/get-iterator"),K=ue("../internals/get-iterator-method"),ue=ue("../internals/well-known-symbol"),W=L("fetch"),Q=L("Headers"),L=ue("iterator"),G="URLSearchParams",J=G+"Iterator",B=M.set,Y=M.getterFor(G),ie=M.getterFor(J),ne=/\+/g,Z=Array(4),H=function(_e){var Te,me=_e.replace(ne," "),Se=4;try{return decodeURIComponent(me)}catch{for(;Se;)me=me.replace((Te=Se--,Z[Te-1]||(Z[Te-1]=RegExp("((?:%[\\da-f]{2}){"+Te+"})","gi"))),m);return me}},z=/[!'()~]|%20/g,ee={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(_e,Te){if(Te)for(var me,Se=Te.split("&"),ve=0;ve<Se.length;)(me=Se[ve++]).length&&(me=me.split("="),_e.push({key:H(me.shift()),value:H(me.join("="))}))},le=C(function(_e,Te){B(this,{type:J,iterator:V(Y(_e).entries),kind:Te})},"Iterator",function(){var Te=ie(this),_e=Te.kind,Te=Te.iterator.next(),me=Te.value;return Te.done||(Te.value=_e==="keys"?me.key:_e==="values"?me.value:[me.key,me.value]),Te}),ue=A.prototype;T(ue,{append:function(_e,Te){E(arguments.length,2);var me=Y(this);me.entries.push({key:_e+"",value:Te+""}),me.updateURL()},delete:function(_e){E(arguments.length,1);for(var Te=Y(this),me=Te.entries,Se=_e+"",ve=0;ve<me.length;)me[ve].key===Se?me.splice(ve,1):ve++;Te.updateURL()},get:function(_e){E(arguments.length,1);for(var Te=Y(this).entries,me=_e+"",Se=0;Se<Te.length;Se++)if(Te[Se].key===me)return Te[Se].value;return null},getAll:function(_e){E(arguments.length,1);for(var Te=Y(this).entries,me=_e+"",Se=[],ve=0;ve<Te.length;ve++)Te[ve].key===me&&Se.push(Te[ve].value);return Se},has:function(_e){E(arguments.length,1);for(var Te=Y(this).entries,me=_e+"",Se=0;Se<Te.length;)if(Te[Se++].key===me)return!0;return!1},set:function(_e,Te){E(arguments.length,1);for(var me,Se=Y(this),ve=Se.entries,fe=!1,ye=_e+"",Ae=Te+"",Ne=0;Ne<ve.length;Ne++)(me=ve[Ne]).key===ye&&(fe?ve.splice(Ne--,1):(fe=!0,me.value=Ae));fe||ve.push({key:ye,value:Ae}),Se.updateURL()},sort:function(){for(var _e,Te,me=Y(this),Se=me.entries,ve=Se.slice(),fe=Se.length=0;fe<ve.length;fe++){for(_e=ve[fe],Te=0;Te<fe;Te++)if(Se[Te].key>_e.key){Se.splice(Te,0,_e);break}Te===fe&&Se.push(_e)}me.updateURL()},forEach:function(_e){for(var Te,me=Y(this).entries,Se=O(_e,1<arguments.length?arguments[1]:void 0,3),ve=0;ve<me.length;)Se((Te=me[ve++]).value,Te.key,this)},keys:function(){return new le(this,"keys")},values:function(){return new le(this,"values")},entries:function(){return new le(this,"entries")}},{enumerable:!0}),S(ue,L,ue.entries),S(ue,"toString",function(){for(var _e,Te=Y(this).entries,me=[],Se=0;Se<Te.length;)_e=Te[Se++],me.push(p(_e.key)+"="+p(_e.value));return me.join("&")},{enumerable:!0}),P(A,G),b({global:!0,forced:!k},{URLSearchParams:A}),k||typeof W!="function"||typeof Q!="function"||b({global:!0,enumerable:!0,forced:!0},{fetch:function(ve){var Te,me,Se,ve=[ve];return 1<arguments.length&&(N(Te=arguments[1])&&(me=Te.body,R(me)===G&&((Se=Te.headers?new Q(Te.headers):new Q).has("content-type")||Se.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Te=U(Te,{body:X(0,String(me)),headers:X(0,Se)}))),ve.push(Te)),W.apply(this,ve)}}),g.exports={URLSearchParams:A,getState:Y}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],240:[function(V,g,y){V("../modules/es.string.iterator");function m(Me){var tt,at,Qe,_t;if(typeof Me=="number"){for(tt=[],at=0;at<4;at++)tt.unshift(Me%256),Me=J(Me/256);return tt.join(".")}if(typeof Me!="object")return Me;for(tt="",Qe=ye(Me),at=0;at<8;at++)_t&&Me[at]===0||(_t=_t&&!1,Qe===at?(tt+=at?":":"::",_t=!0):(tt+=Me[at].toString(16),at<7&&(tt+=":")));return"["+tt+"]"}function _(Me){return!Me.host||Me.cannotBeABaseURL||Me.scheme=="file"}function p(Me,tt,at,Qe){var _t,$e,xt,st=at||qe,bt=0,ot="",Rt=!1,Vt=!1,Nt=!1;for(at||(Me.scheme="",Me.username="",Me.password="",Me.host=null,Me.port=null,Me.path=[],Me.query=null,Me.fragment=null,Me.cannotBeABaseURL=!1,tt=tt.replace(Se,"")),tt=tt.replace(ve,""),_t=R(tt);bt<=_t.length;){switch($e=_t[bt],st){case qe:if(!$e||!H.test($e)){if(at)return ie;st=ge;continue}ot+=$e.toLowerCase(),st=Ve;break;case Ve:if($e&&(z.test($e)||$e=="+"||$e=="-"||$e=="."))ot+=$e.toLowerCase();else{if($e!=":"){if(at)return ie;ot="",st=ge,bt=0;continue}if(at&&(xe(Me)!=I(Ee,ot)||ot=="file"&&(Ie(Me)||Me.port!==null)||Me.scheme=="file"&&!Me.host))return;if(Me.scheme=ot,at)return void(xe(Me)&&Ee[Me.scheme]==Me.port&&(Me.port=null));ot="",Me.scheme=="file"?st=yt:xe(Me)&&Qe&&Qe.scheme==Me.scheme?st=we:xe(Me)?st=Be:_t[bt+1]=="/"?(st=pe,bt++):(Me.cannotBeABaseURL=!0,Me.path.push(""),st=Ct)}break;case ge:if(!Qe||Qe.cannotBeABaseURL&&$e!="#")return ie;if(Qe.cannotBeABaseURL&&$e=="#"){Me.scheme=Qe.scheme,Me.path=Qe.path.slice(),Me.query=Qe.query,Me.fragment="",Me.cannotBeABaseURL=!0,st=Ft;break}st=Qe.scheme=="file"?yt:ke;continue;case we:if($e!="/"||_t[bt+1]!="/"){st=ke;continue}st=He,bt++;break;case pe:if($e=="/"){st=et;break}st=ft;continue;case ke:if(Me.scheme=Qe.scheme,$e==A)Me.username=Qe.username,Me.password=Qe.password,Me.host=Qe.host,Me.port=Qe.port,Me.path=Qe.path.slice(),Me.query=Qe.query;else if($e=="/"||$e=="\\"&&xe(Me))st=De;else if($e=="?")Me.username=Qe.username,Me.password=Qe.password,Me.host=Qe.host,Me.port=Qe.port,Me.path=Qe.path.slice(),Me.query="",st=Yt;else{if($e!="#"){Me.username=Qe.username,Me.password=Qe.password,Me.host=Qe.host,Me.port=Qe.port,Me.path=Qe.path.slice(),Me.path.pop(),st=ft;continue}Me.username=Qe.username,Me.password=Qe.password,Me.host=Qe.host,Me.port=Qe.port,Me.path=Qe.path.slice(),Me.query=Qe.query,Me.fragment="",st=Ft}break;case De:if(!xe(Me)||$e!="/"&&$e!="\\"){if($e!="/"){Me.username=Qe.username,Me.password=Qe.password,Me.host=Qe.host,Me.port=Qe.port,st=ft;continue}st=et}else st=He;break;case Be:if(st=He,$e!="/"||ot.charAt(bt+1)!="/")continue;bt++;break;case He:if($e=="/"||$e=="\\")break;st=et;continue;case et:if($e=="@"){Rt&&(ot="%40"+ot);for(var Rt=!0,Gt=R(ot),nr=0;nr<Gt.length;nr++){var Qt=Gt[nr];Qt!=":"||Nt?(Qt=ce(Qt,ae),Nt?Me.password+=Qt:Me.username+=Qt):Nt=!0}ot=""}else if($e==A||$e=="/"||$e=="?"||$e=="#"||$e=="\\"&&xe(Me)){if(Rt&&ot=="")return Y;bt-=R(ot).length+1,ot="",st=rt}else ot+=$e;break;case rt:case nt:if(at&&Me.scheme=="file"){st=lt;continue}if($e!=":"||Vt){if($e==A||$e=="/"||$e=="?"||$e=="#"||$e=="\\"&&xe(Me)){if(xe(Me)&&ot=="")return ne;if(at&&ot==""&&(Ie(Me)||Me.port!==null))return;if(xt=fe(Me,ot))return xt;if(ot="",st=mt,at)return;continue}$e=="["?Vt=!0:$e=="]"&&(Vt=!1),ot+=$e}else{if(ot=="")return ne;if(xt=fe(Me,ot))return xt;if(ot="",st=it,at==nt)return}break;case it:if(!ee.test($e)){if($e==A||$e=="/"||$e=="?"||$e=="#"||$e=="\\"&&xe(Me)||at){if(ot!=""){var sr=parseInt(ot,10);if(65535<sr)return Z;Me.port=xe(Me)&&sr===Ee[Me.scheme]?null:sr,ot=""}if(at)return;st=mt;continue}return Z}ot+=$e;break;case yt:if(Me.scheme="file",$e=="/"||$e=="\\")st=pt;else{if(!Qe||Qe.scheme!="file"){st=ft;continue}if($e==A)Me.host=Qe.host,Me.path=Qe.path.slice(),Me.query=Qe.query;else if($e=="?")Me.host=Qe.host,Me.path=Qe.path.slice(),Me.query="",st=Yt;else{if($e!="#"){Xe(_t.slice(bt).join(""))||(Me.host=Qe.host,Me.path=Qe.path.slice(),Ze(Me)),st=ft;continue}Me.host=Qe.host,Me.path=Qe.path.slice(),Me.query=Qe.query,Me.fragment="",st=Ft}}break;case pt:if($e=="/"||$e=="\\"){st=lt;break}Qe&&Qe.scheme=="file"&&!Xe(_t.slice(bt).join(""))&&(Fe(Qe.path[0],!0)?Me.path.push(Qe.path[0]):Me.host=Qe.host),st=ft;continue;case lt:if($e==A||$e=="/"||$e=="\\"||$e=="?"||$e=="#"){if(!at&&Fe(ot))st=ft;else{if(ot==""){if(Me.host="",at)return}else{if(xt=fe(Me,ot))return xt;if(Me.host=="localhost"&&(Me.host=""),at)return;ot=""}st=mt}continue}ot+=$e;break;case mt:if(xe(Me)){if(st=ft,$e!="/"&&$e!="\\")continue}else if(at||$e!="?")if(at||$e!="#"){if($e!=A&&(st=ft,$e!="/"))continue}else Me.fragment="",st=Ft;else Me.query="",st=Yt;break;case ft:if($e==A||$e=="/"||$e=="\\"&&xe(Me)||!at&&($e=="?"||$e=="#")){if(Oe(ot)?(Ze(Me),$e=="/"||$e=="\\"&&xe(Me)||Me.path.push("")):Je(ot)?$e=="/"||$e=="\\"&&xe(Me)||Me.path.push(""):(Me.scheme=="file"&&!Me.path.length&&Fe(ot)&&(Me.host&&(Me.host=""),ot=ot.charAt(0)+":"),Me.path.push(ot)),ot="",Me.scheme=="file"&&($e==A||$e=="?"||$e=="#"))for(;1<Me.path.length&&Me.path[0]==="";)Me.path.shift();$e=="?"?(Me.query="",st=Yt):$e=="#"&&(Me.fragment="",st=Ft)}else ot+=ce($e,re);break;case Ct:$e=="?"?(Me.query="",st=Yt):$e=="#"?(Me.fragment="",st=Ft):$e!=A&&(Me.path[0]+=ce($e,Ae));break;case Yt:at||$e!="#"?$e!=A&&($e=="'"&&xe(Me)?Me.query+="%27":Me.query+=$e=="#"?"%23":ce($e,Ae)):(Me.fragment="",st=Ft);break;case Ft:$e!=A&&(Me.fragment+=ce($e,Ne))}bt++}}function x($e){var tt,at,Qe=j(this,x,"URL"),_t=1<arguments.length?arguments[1]:void 0,$e=String($e),xt=L(Qe,{type:"URL"});if(_t!==void 0){if(_t instanceof x)tt=G(_t);else if(at=p(tt={},String(_t)))throw TypeError(at)}if(at=p(xt,$e,null,tt))throw TypeError(at);var st=xt.searchParams=new W;(_t=Q(st)).updateSearchParams(xt.query),_t.updateURL=function(){xt.query=String(st)||null},T||(Qe.href=Pt.call(Qe),Qe.origin=wt.call(Qe),Qe.protocol=qt.call(Qe),Qe.username=Ut.call(Qe),Qe.password=kt.call(Qe),Qe.host=Ht.call(Qe),Qe.hostname=gr.call(Qe),Qe.port=vr.call(Qe),Qe.pathname=_r.call(Qe),Qe.search=Tr.call(Qe),Qe.searchParams=br.call(Qe),Qe.hash=wr.call(Qe))}function E(Me,tt){return{get:Me,set:tt,configurable:!0,enumerable:!0}}var A,b,k,S=V("../internals/export"),T=V("../internals/descriptors"),P=V("../internals/native-url"),St=V("../internals/global"),C=V("../internals/object-define-properties"),M=V("../internals/redefine"),j=V("../internals/an-instance"),I=V("../internals/has"),O=V("../internals/object-assign"),R=V("../internals/array-from"),D=V("../internals/string-multibyte").codeAt,N=V("../internals/string-punycode-to-ascii"),U=V("../internals/set-to-string-tag"),X=V("../modules/web.url-search-params"),V=V("../internals/internal-state"),K=St.URL,W=X.URLSearchParams,Q=X.getState,L=V.set,G=V.getterFor("URL"),J=Math.floor,B=Math.pow,Y="Invalid authority",ie="Invalid scheme",ne="Invalid host",Z="Invalid port",H=/[A-Za-z]/,z=/[\d+-.A-Za-z]/,ee=/\d/,se=/^(0x|0X)/,le=/^[0-7]+$/,ue=/^\d+$/,_e=/^[\dA-Fa-f]+$/,Te=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,me=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Se=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ve=/[\u0009\u000A\u000D]/g,fe=function(Me,tt){var at,Qe,_t;if(tt.charAt(0)=="[")return tt.charAt(tt.length-1)=="]"&&(at=function($e){var xt=[0,0,0,0,0,0,0,0],st=0,bt=null,ot=0,Rt,Vt,Nt,Gt,nr,Qt,sr,zt=function(){return $e.charAt(ot)};if(zt()==":"){if($e.charAt(1)!=":")return;ot+=2,st++,bt=st}for(;zt();){if(st==8)return;if(zt()==":"){if(bt!==null)return;ot++,st++,bt=st;continue}for(Rt=Vt=0;Vt<4&&_e.test(zt());)Rt=Rt*16+parseInt(zt(),16),ot++,Vt++;if(zt()=="."){if(Vt==0||(ot-=Vt,st>6))return;for(Nt=0;zt();){if(Gt=null,Nt>0)if(zt()=="."&&Nt<4)ot++;else return;if(!ee.test(zt()))return;for(;ee.test(zt());){if(nr=parseInt(zt(),10),Gt===null)Gt=nr;else{if(Gt==0)return;Gt=Gt*10+nr}if(Gt>255)return;ot++}xt[st]=xt[st]*256+Gt,Nt++,(Nt==2||Nt==4)&&st++}if(Nt!=4)return;break}else if(zt()==":"){if(ot++,!zt())return}else if(zt())return;xt[st++]=Rt}if(bt!==null)for(Qt=st-bt,st=7;st!=0&&Qt>0;)sr=xt[st],xt[st--]=xt[bt+Qt-1],xt[bt+--Qt]=sr;else if(st!=8)return;return xt}(tt.slice(1,-1)))?void(Me.host=at):ne;if(xe(Me))return tt=N(tt),Te.test(tt)||(at=function($e){var xt=$e.split("."),st,bt,ot,Rt,Vt,Nt,Gt;if(xt.length&&xt[xt.length-1]==""&&xt.pop(),(st=xt.length)>4)return $e;for(bt=[],ot=0;ot<st;ot++){if(Rt=xt[ot],Rt=="")return $e;if(Vt=10,Rt.length>1&&Rt.charAt(0)=="0"&&(Vt=se.test(Rt)?16:8,Rt=Rt.slice(Vt==8?1:2)),Rt==="")Nt=0;else{if(!(Vt==10?ue:Vt==8?le:_e).test(Rt))return $e;Nt=parseInt(Rt,Vt)}bt.push(Nt)}for(ot=0;ot<st;ot++)if(Nt=bt[ot],ot==st-1){if(Nt>=B(256,5-st))return null}else if(Nt>255)return null;for(Gt=bt.pop(),ot=0;ot<bt.length;ot++)Gt+=bt[ot]*B(256,3-ot);return Gt}(tt))===null?ne:void(Me.host=at);if(me.test(tt))return ne;for(at="",Qe=R(tt),_t=0;_t<Qe.length;_t++)at+=ce(Qe[_t],Ae);Me.host=at},ye=function(Me){for(var tt=null,at=1,Qe=null,_t=0,$e=0;$e<8;$e++)Me[$e]!==0?(at<_t&&(tt=Qe,at=_t),Qe=null,_t=0):(Qe===null&&(Qe=$e),++_t);return at<_t&&(tt=Qe,at=_t),tt},Ae={},Ne=O({},Ae,{" ":1,'"':1,"<":1,">":1,"`":1}),re=O({},Ne,{"#":1,"?":1,"{":1,"}":1}),ae=O({},re,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ce=function(Me,tt){var at=D(Me,0);return 32<at&&at<127&&!I(tt,Me)?Me:encodeURIComponent(Me)},Ee={ftp:21,file:null,http:80,https:443,ws:80,wss:443},xe=function(Me){return I(Ee,Me.scheme)},Ie=function(Me){return Me.username!=""||Me.password!=""},Fe=function(Me,tt){return Me.length==2&&H.test(Me.charAt(0))&&((Me=Me.charAt(1))==":"||!tt&&Me=="|")},Xe=function(Me){return 1<Me.length&&Fe(Me.slice(0,2))&&(Me.length==2||(Me=Me.charAt(2))==="/"||Me==="\\"||Me==="?"||Me==="#")},Ze=function(Me){var tt=Me.path,at=tt.length;!at||Me.scheme=="file"&&at==1&&Fe(tt[0],!0)||tt.pop()},Je=function(Me){return Me==="."||Me.toLowerCase()==="%2e"},Oe=function(Me){return(Me=Me.toLowerCase())===".."||Me==="%2e."||Me===".%2e"||Me==="%2e%2e"},qe={},Ve={},ge={},we={},pe={},ke={},De={},Be={},He={},et={},rt={},nt={},it={},yt={},pt={},lt={},mt={},ft={},Ct={},Yt={},Ft={},St=x.prototype,Pt=function(){var Me=G(this),tt=Me.scheme,at=Me.username,Qe=Me.password,_t=Me.host,$e=Me.port,xt=Me.path,st=Me.query,bt=Me.fragment,ot=tt+":";return _t!==null?(ot+="//",Ie(Me)&&(ot+=at+(Qe?":"+Qe:"")+"@"),ot+=m(_t),$e!==null&&(ot+=":"+$e)):tt=="file"&&(ot+="//"),ot+=Me.cannotBeABaseURL?xt[0]:xt.length?"/"+xt.join("/"):"",st!==null&&(ot+="?"+st),bt!==null&&(ot+="#"+bt),ot},wt=function(){var Me=G(this),tt=Me.scheme,at=Me.port;if(tt=="blob")try{return new URL(tt.path[0]).origin}catch{return"null"}return tt!="file"&&xe(Me)?tt+"://"+m(Me.host)+(at!==null?":"+at:""):"null"},qt=function(){return G(this).scheme+":"},Ut=function(){return G(this).username},kt=function(){return G(this).password},Ht=function(){var tt=G(this),Me=tt.host,tt=tt.port;return Me===null?"":tt===null?m(Me):m(Me)+":"+tt},gr=function(){var Me=G(this).host;return Me===null?"":m(Me)},vr=function(){var Me=G(this).port;return Me===null?"":String(Me)},_r=function(){var Me=G(this),tt=Me.path;return Me.cannotBeABaseURL?tt[0]:tt.length?"/"+tt.join("/"):""},Tr=function(){var Me=G(this).query;return Me?"?"+Me:""},br=function(){return G(this).searchParams},wr=function(){var Me=G(this).fragment;return Me?"#"+Me:""};T&&C(St,{href:E(Pt,function(at){var tt=G(this),at=String(at),at=p(tt,at);if(at)throw TypeError(at);Q(tt.searchParams).updateSearchParams(tt.query)}),origin:E(wt),protocol:E(qt,function(Me){var tt=G(this);p(tt,String(Me)+":",qe)}),username:E(Ut,function(Me){var tt=G(this),at=R(String(Me));if(!_(tt)){tt.username="";for(var Qe=0;Qe<at.length;Qe++)tt.username+=ce(at[Qe],ae)}}),password:E(kt,function(Me){var tt=G(this),at=R(String(Me));if(!_(tt)){tt.password="";for(var Qe=0;Qe<at.length;Qe++)tt.password+=ce(at[Qe],ae)}}),host:E(Ht,function(Me){var tt=G(this);tt.cannotBeABaseURL||p(tt,String(Me),rt)}),hostname:E(gr,function(Me){var tt=G(this);tt.cannotBeABaseURL||p(tt,String(Me),nt)}),port:E(vr,function(Me){var tt=G(this);_(tt)||((Me=String(Me))==""?tt.port=null:p(tt,Me,it))}),pathname:E(_r,function(Me){var tt=G(this);tt.cannotBeABaseURL||(tt.path=[],p(tt,Me+"",mt))}),search:E(Tr,function(Me){var tt=G(this);(Me=String(Me))==""?tt.query=null:(Me.charAt(0)=="?"&&(Me=Me.slice(1)),tt.query="",p(tt,Me,Yt)),Q(tt.searchParams).updateSearchParams(tt.query)}),searchParams:E(br),hash:E(wr,function(Me){var tt=G(this);(Me=String(Me))==""?tt.fragment=null:(Me.charAt(0)=="#"&&(Me=Me.slice(1)),tt.fragment="",p(tt,Me,Ft))})}),M(St,"toJSON",function(){return Pt.call(this)},{enumerable:!0}),M(St,"toString",function(){return Pt.call(this)},{enumerable:!0}),K&&(b=K.createObjectURL,k=K.revokeObjectURL,b&&M(x,"createObjectURL",function(Me){return b.apply(K,arguments)}),k&&M(x,"revokeObjectURL",function(Me){return k.apply(K,arguments)})),U(x,"URL"),S({global:!0,forced:!P,sham:!T},{URL:x})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":192,"../modules/web.url-search-params":239}],241:[function(c,g,y){g.exports=c("./").polyfill()},{"./":242}],242:[function(c,g,y){(function(m,_){var p,x;p=this,x=function(){function E(fe){return typeof fe=="function"}var A=Array.isArray||function(fe){return Object.prototype.toString.call(fe)==="[object Array]"},b=0,k=void 0,S=void 0,T=function(fe,ye){O[b]=fe,O[b+1]=ye,(b+=2)===2&&(S?S(R):W())},P=typeof window<"u"?window:void 0,C=P||{},C=C.MutationObserver||C.WebKitMutationObserver,M=typeof self>"u"&&m!==void 0&&{}.toString.call(m)==="[object process]",j=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function I(){var fe=setTimeout;return function(){return fe(R,1)}}var O=new Array(1e3);function R(){for(var fe=0;fe<b;fe+=2)(0,O[fe])(O[fe+1]),O[fe]=void 0,O[fe+1]=void 0;b=0}function D(){try{var fe=Function("return this")().require("vertx");return(k=fe.runOnLoop||fe.runOnContext)!==void 0?function(){k(R)}:I()}catch{return I()}}var N,U,X,W=void 0;function V(fe,ye){var Ae,Ne=this,re=new this.constructor(L),ae=(re[Q]===void 0&&_e(re),Ne._state);return ae?(Ae=arguments[ae-1],T(function(){return le(ae,re,Ae,Ne._result)})):ee(Ne,re,fe,ye),re}function K(fe){var ye;return fe&&typeof fe=="object"&&fe.constructor===this?fe:(ne(ye=new this(L),fe),ye)}var W=M?function(){return m.nextTick(R)}:C?(U=0,M=new C(R),X=document.createTextNode(""),M.observe(X,{characterData:!0}),function(){X.data=U=++U%2}):j?((N=new MessageChannel).port1.onmessage=R,function(){return N.port2.postMessage(0)}):(P===void 0&&typeof c=="function"?D:I)(),Q=Math.random().toString(36).substring(2);function L(){}var G=void 0,J=1,B=2;function Y(fe,ye,Ae){T(function(Ne){var re=!1,ae=function(ce,Ee,xe,Ie){try{ce.call(Ee,xe,Ie)}catch(Fe){return Fe}}(Ae,ye,function(ce){re||(re=!0,(ye!==ce?ne:H)(Ne,ce))},function(ce){re||(re=!0,z(Ne,ce))},Ne._label);!re&&ae&&(re=!0,z(Ne,ae))},fe)}function ie(fe,ye,Ae){var Ne,re;ye.constructor===fe.constructor&&Ae===V&&ye.constructor.resolve===K?(Ne=fe,(re=ye)._state===J?H(Ne,re._result):re._state===B?z(Ne,re._result):ee(re,void 0,function(ae){return ne(Ne,ae)},function(ae){return z(Ne,ae)})):Ae!==void 0&&E(Ae)?Y(fe,ye,Ae):H(fe,ye)}function ne(fe,ye){if(fe===ye)z(fe,new TypeError("You cannot resolve a promise with itself"));else if(Ae=typeof ye,ye===null||Ae!="object"&&Ae!="function")H(fe,ye);else{Ae=void 0;try{Ae=ye.then}catch(Ne){return void z(fe,Ne)}ie(fe,ye,Ae)}var Ae}function Z(fe){fe._onerror&&fe._onerror(fe._result),se(fe)}function H(fe,ye){fe._state===G&&(fe._result=ye,fe._state=J,fe._subscribers.length!==0&&T(se,fe))}function z(fe,ye){fe._state===G&&(fe._state=B,fe._result=ye,T(Z,fe))}function ee(fe,ye,Ae,Ne){var re=fe._subscribers,ae=re.length;fe._onerror=null,re[ae]=ye,re[ae+J]=Ae,re[ae+B]=Ne,ae===0&&fe._state&&T(se,fe)}function se(fe){var ye=fe._subscribers,Ae=fe._state;if(ye.length!==0){for(var Ne,re=void 0,ae=fe._result,ce=0;ce<ye.length;ce+=3)Ne=ye[ce],re=ye[ce+Ae],Ne?le(Ae,Ne,re,ae):re(ae);fe._subscribers.length=0}}function le(fe,ye,Ae,Ne){var re=E(Ae),ae=void 0,ce=void 0,Ee=!0;if(re){try{ae=Ae(Ne)}catch(xe){Ee=!1,ce=xe}if(ye===ae)return void z(ye,new TypeError("A promises callback cannot return that same promise."))}else ae=Ne;ye._state===G&&(re&&Ee?ne(ye,ae):Ee===!1?z(ye,ce):fe===J?H(ye,ae):fe===B&&z(ye,ae))}var ue=0;function _e(fe){fe[Q]=ue++,fe._state=void 0,fe._result=void 0,fe._subscribers=[]}me.prototype._enumerate=function(fe){for(var ye=0;this._state===G&&ye<fe.length;ye++)this._eachEntry(fe[ye],ye)},me.prototype._eachEntry=function(fe,ye){var Ae=this._instanceConstructor,Ne=Ae.resolve;if(Ne===K){var re,ae=void 0,ce=void 0,Ee=!1;try{ae=fe.then}catch(xe){Ee=!0,ce=xe}ae===V&&fe._state!==G?this._settledAt(fe._state,ye,fe._result):typeof ae!="function"?(this._remaining--,this._result[ye]=fe):Ae===Se?(re=new Ae(L),Ee?z(re,ce):ie(re,fe,ae),this._willSettleAt(re,ye)):this._willSettleAt(new Ae(function(xe){return xe(fe)}),ye)}else this._willSettleAt(Ne(fe),ye)},me.prototype._settledAt=function(fe,ye,Ae){var Ne=this.promise;Ne._state===G&&(this._remaining--,fe===B?z(Ne,Ae):this._result[ye]=Ae),this._remaining===0&&H(Ne,this._result)},me.prototype._willSettleAt=function(fe,ye){var Ae=this;ee(fe,void 0,function(Ne){return Ae._settledAt(J,ye,Ne)},function(Ne){return Ae._settledAt(B,ye,Ne)})};var Te=me;function me(fe,ye){this._instanceConstructor=fe,this.promise=new fe(L),this.promise[Q]||_e(this.promise),A(ye)?(this.length=ye.length,this._remaining=ye.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(ye),this._remaining!==0)||H(this.promise,this._result)):z(this.promise,new Error("Array Methods must be provided an Array"))}ve.prototype.catch=function(fe){return this.then(null,fe)},ve.prototype.finally=function(fe){var ye=this.constructor;return E(fe)?this.then(function(Ae){return ye.resolve(fe()).then(function(){return Ae})},function(Ae){return ye.resolve(fe()).then(function(){throw Ae})}):this.then(fe,fe)};var Se=ve;function ve(fe){if(this[Q]=ue++,this._result=this._state=void 0,this._subscribers=[],L!==fe){if(typeof fe!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ve))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var ye=this;try{fe(function(Ae){ne(ye,Ae)},function(Ae){z(ye,Ae)})}catch(Ae){z(ye,Ae)}}}return Se.prototype.then=V,Se.all=function(fe){return new Te(this,fe).promise},Se.race=function(fe){var ye=this;return A(fe)?new ye(function(Ae,Ne){for(var re=fe.length,ae=0;ae<re;ae++)ye.resolve(fe[ae]).then(Ae,Ne)}):new ye(function(Ae,Ne){return Ne(new TypeError("You must pass an array to race."))})},Se.resolve=K,Se.reject=function(fe){var ye=new this(L);return z(ye,fe),ye},Se._setScheduler=function(fe){S=fe},Se._setAsap=function(fe){T=fe},Se._asap=T,Se.polyfill=function(){var fe=void 0;if(_!==void 0)fe=_;else if(typeof self<"u")fe=self;else try{fe=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ye=fe.Promise;if(ye){var Ae=null;try{Ae=Object.prototype.toString.call(ye.resolve())}catch{}if(Ae==="[object Promise]"&&!ye.cast)return}fe.Promise=Se},Se.Promise=Se},typeof y=="object"&&g!==void 0?g.exports=x():p.ES6Promise=x()}).call(this,c("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:251}],243:[function(c,g,y){var m,_;m=this,_=function(p,x){var E=5e3,A="callback";function b(S){try{delete window[S]}catch{window[S]=void 0}}function k(S){S=document.getElementById(S),S&&document.getElementsByTagName("head")[0].removeChild(S)}x.exports=function(S){var T=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],P=S,C=T.timeout||E,M=T.jsonpCallback||A,j=void 0;return new Promise(function(I,O){var R=T.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),D=M+"_"+R,N=(window[R]=function(U){I({ok:!0,json:function(){return Promise.resolve(U)}}),j&&clearTimeout(j),k(D),b(R)},P+=P.indexOf("?")===-1?"?":"&",document.createElement("script"));N.setAttribute("src",""+P+M+"="+R),T.charset&&N.setAttribute("charset",T.charset),N.id=D,document.getElementsByTagName("head")[0].appendChild(N),j=setTimeout(function(){O(new Error("JSONP request to "+S+" timed out")),b(R),k(D),window[R]=function(){b(R)}},C),N.onerror=function(){O(new Error("JSONP request to "+S+" failed")),b(R),k(D),j&&clearTimeout(j)}})}},y!==void 0&&g!==void 0?_(0,g):(_(_={exports:{}},_),m.fetchJsonp=_.exports)},{}],244:[function(c,g,y){var m=function(_){var p,x,E,A,b,k,S,T,P,C,M;if(!(_===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return M=_.document,p=function(){return _.URL||_.webkitURL||_},x=M.createElementNS("http://www.w3.org/1999/xhtml","a"),E="download"in x,A=/constructor/i.test(_.HTMLElement)||_.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent),k=function(j){(_.setImmediate||_.setTimeout)(function(){throw j},0)},S=4e4,T=function(j){setTimeout(function(){typeof j=="string"?p().revokeObjectURL(j):j.remove()},S)},P=function(j){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(j.type)?new Blob([String.fromCharCode(65279),j],{type:j.type}):j},M=(C=function(j,I,U){U||(j=P(j));var R,D,N=this,U=j.type==="application/octet-stream",X=function(){for(var V=N,K="writestart progress write writeend".split(" "),W=void 0,Q=(K=[].concat(K)).length;Q--;){var L=V["on"+K[Q]];if(typeof L=="function")try{L.call(V,W||V)}catch(G){k(G)}}};N.readyState=N.INIT,E?(R=p().createObjectURL(j),setTimeout(function(){var V,K;x.href=R,x.download=I,V=x,K=new MouseEvent("click"),V.dispatchEvent(K),X(),T(R),N.readyState=N.DONE})):(b||U&&A)&&_.FileReader?((D=new FileReader).onloadend=function(){var V=b?D.result:D.result.replace(/^data:[^;]*;/,"data:attachment/file;");_.open(V,"_blank")||(_.location.href=V),V=void 0,N.readyState=N.DONE,X()},D.readAsDataURL(j),N.readyState=N.INIT):(R=R||p().createObjectURL(j),!U&&_.open(R,"_blank")||(_.location.href=R),N.readyState=N.DONE,X(),T(R))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(j,I,O){return I=I||j.name||"download",O||(j=P(j)),navigator.msSaveOrOpenBlob(j,I)}:(M.abort=function(){},M.readyState=M.INIT=0,M.WRITING=1,M.DONE=2,M.error=M.onwritestart=M.onprogress=M.onwrite=M.onabort=M.onerror=M.onwriteend=null,function(j,I,O){return new C(j,I||j.name||"download",O)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);g!==void 0&&g.exports?g.exports.saveAs=m:u!=null},{}],245:[function(c,g,y){var m,_=Object.defineProperty,p=(_(y,"__esModule",{value:!0}),y),x={GIFEncoder:()=>X,applyPalette:()=>function(G,J,B="rgb565"){if(!G||!G.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(G instanceof Uint8Array||G instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<J.length)throw new Error("applyPalette() only works with 256 colors or less");const Y=new Uint32Array(G.buffer),ie=Y.length,ne=B==="rgb444"?4096:65536,Z=new Uint8Array(ie),H=new Array(ne);if(B==="rgba4444")for(let ve=0;ve<ie;ve++){var le=Y[ve],z=le>>24&255,ee=le>>16&255,se=le>>8&255,le=255&le,ue=T(le,se,ee,z),ue=ue in H?H[ue]:H[ue]=function(fe,ye,Ae,Ne,re){let ae=0,ce=1e100;for(let Fe=0;Fe<re.length;Fe++){var Ee,xe=re[Fe],Ie=D(xe[3]-Ne);Ie>ce||(Ee=xe[0],(Ie+=D(Ee-fe))>ce||(Ee=xe[1],(Ie+=D(Ee-ye))>ce||(Ee=xe[2],(Ie+=D(Ee-Ae))>ce||(ce=Ie,ae=Fe))))}return ae}(le,se,ee,z,J);Z[ve]=ue}else{const ve=B==="rgb444"?P:S;for(let fe=0;fe<ie;fe++){var me=Y[fe],_e=me>>16&255,Te=me>>8&255,me=255&me,Se=ve(me,Te,_e),Se=Se in H?H[Se]:H[Se]=function(ye,Ae,Ne,re){let ae=0,ce=1e100;for(let Fe=0;Fe<re.length;Fe++){var Ee,xe=re[Fe],Ie=D(xe[0]-ye);Ie>ce||(Ee=xe[1],(Ie+=D(Ee-Ae))>ce||(Ee=xe[2],(Ie+=D(Ee-Ne))>ce||(ce=Ie,ae=Fe)))}return ae}(me,Te,_e,J);Z[fe]=Se}}return Z},default:()=>L,nearestColor:()=>function(G,J,B=O){return G[N(G,J,B)]},nearestColorIndex:()=>N,nearestColorIndexWithDistance:()=>U,prequantize:()=>function(G,{roundRGB:J=5,roundAlpha:B=10,oneBitAlpha:Y=null}={}){const ie=new Uint32Array(G.buffer);for(let ee=0;ee<ie.length;ee++){var z=ie[ee];let se=z>>24&255;var ne,Z=z>>16&255,H=z>>8&255,z=255&z;se=R(se,B),Y&&(ne=typeof Y=="number"?Y:127,se=se<=ne?0:255),z=R(z,J),H=R(H,J),Z=R(Z,J),ie[ee]=se<<24|Z<<16|H<<8|z<<0}},quantize:()=>function(G,J,B={}){var{format:Y="rgb565",clearAlpha:ie=!0,clearAlphaColor:ne=0,clearAlphaThreshold:Z=0,oneBitAlpha:H=!1}=B;if(!G||!G.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(G instanceof Uint8Array||G instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");G=new Uint32Array(G.buffer);let z=B.useSqrt!==!1;const ee=Y==="rgba4444",se=function(Xe,Ze){const Je=Ze==="rgb444"?4096:65536,Oe=new Array(Je),qe=Xe.length;if(Ze==="rgba4444")for(let pt=0;pt<qe;++pt){var pe=Xe[pt],Ve=pe>>24&255,ge=pe>>16&255,we=pe>>8&255,pe=255&pe,ke=T(pe,we,ge,Ve);let lt=ke in Oe?Oe[ke]:Oe[ke]=I();lt.rc+=pe,lt.gc+=we,lt.bc+=ge,lt.ac+=Ve,lt.cnt++}else if(Ze==="rgb444")for(let pt=0;pt<qe;++pt){var He=Xe[pt],De=He>>16&255,Be=He>>8&255,He=255&He,et=P(He,Be,De);let lt=et in Oe?Oe[et]:Oe[et]=I();lt.rc+=He,lt.gc+=Be,lt.bc+=De,lt.cnt++}else for(let pt=0;pt<qe;++pt){var it=Xe[pt],rt=it>>16&255,nt=it>>8&255,it=255&it,yt=S(it,nt,rt);let lt=yt in Oe?Oe[yt]:Oe[yt]=I();lt.rc+=it,lt.gc+=nt,lt.bc+=rt,lt.cnt++}return Oe}(G,Y),le=se.length,ue=le-1,_e=new Uint32Array(le+1);for(var Te=0,me=0;me<le;++me){const Xe=se[me];Xe!=null&&(xe=1/Xe.cnt,ee&&(Xe.ac*=xe),Xe.rc*=xe,Xe.gc*=xe,Xe.bc*=xe,se[Te++]=Xe)}M(J)/Te<.022&&(z=!1);for(var Se,ve,fe,me=0;me<Te-1;++me)se[me].fw=me+1,se[me+1].bk=me,z&&(se[me].cnt=Math.sqrt(se[me].cnt));for(z&&(se[me].cnt=Math.sqrt(se[me].cnt)),me=0;me<Te;++me){j(se,me,!1);var ye=se[me].err;for(ve=++_e[0];1<ve&&(fe=ve>>1,!(se[Se=_e[fe]].err<=ye));ve=fe)_e[ve]=Se;_e[ve]=me}var Ae,Ne=Te-J;for(me=0;me<Ne;){for(;;){var re=_e[1];if((Ae=se[re]).tm>=Ae.mtm&&se[Ae.nn].mtm<=Ae.tm)break;for(Ae.mtm==ue?re=_e[1]=_e[_e[0]--]:(j(se,re,!1),Ae.tm=me),ye=se[re].err,ve=1;(fe=ve+ve)<=_e[0]&&(fe<_e[0]&&se[_e[fe]].err>se[_e[fe+1]].err&&fe++,!(ye<=se[Se=_e[fe]].err));ve=fe)_e[ve]=Se;_e[ve]=re}var ae=se[Ae.nn],ce=Ae.cnt,Ee=ae.cnt,xe=1/(ce+Ee);ee&&(Ae.ac=xe*(ce*Ae.ac+Ee*ae.ac)),Ae.rc=xe*(ce*Ae.rc+Ee*ae.rc),Ae.gc=xe*(ce*Ae.gc+Ee*ae.gc),Ae.bc=xe*(ce*Ae.bc+Ee*ae.bc),Ae.cnt+=ae.cnt,Ae.mtm=++me,se[ae.bk].fw=ae.fw,se[ae.fw].bk=ae.bk,ae.mtm=ue}let Ie=[];for(me=0;;0){let Xe=C(Math.round(se[me].rc),0,255),Ze=C(Math.round(se[me].gc),0,255),Je=C(Math.round(se[me].bc),0,255),Oe=255;ee&&(Oe=C(Math.round(se[me].ac),0,255),H&&(Fe=typeof H=="number"?H:127,Oe=Oe<=Fe?0:255),ie&&Oe<=Z&&(Xe=Ze=Je=ne,Oe=0));var Fe=ee?[Xe,Ze,Je,Oe]:[Xe,Ze,Je];if(function(qe,Ve){for(let pe=0;pe<qe.length;pe++){var we=qe[pe],ge=we[0]===Ve[0]&&we[1]===Ve[1]&&we[2]===Ve[2],we=!(4<=we.length&&4<=Ve.length)||we[3]===Ve[3];if(ge&&we)return!0}return!1}(Ie,Fe)||Ie.push(Fe),(me=se[me].fw)==0)break}return Ie},snapColorsToPalette:()=>function(G,J,B=5){if(G.length&&J.length){var Y=G.map(z=>z.slice(0,3)),ie=B*B,ne=G[0].length;for(let z=0;z<J.length;z++){let ee=J[z];ee=ee.length<ne?[ee[0],ee[1],ee[2],255]:ee.length>ne?ee.slice(0,3):ee.slice();var H=U(Y,ee.slice(0,3),O),Z=H[0],H=H[1];0<H&&H<=ie&&(G[Z]=ee)}}}};for(m in x)_(p,m,{get:x[m],enumerable:!0});var E={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function A(G=256){let J=0,B=new Uint8Array(G);return{get buffer(){return B.buffer},reset(){J=0},bytesView(){return B.subarray(0,J)},bytes(){return B.slice(0,J)},writeByte(ie){Y(J+1),B[J]=ie,J++},writeBytes(ie,ne=0,Z=ie.length){Y(J+Z);for(let H=0;H<Z;H++)B[J++]=ie[H+ne]},writeBytesView(ie,ne=0,Z=ie.byteLength){Y(J+Z),B.set(ie.subarray(ne,ne+Z),J),J+=Z}};function Y(ie){var ne=B.length;if(!(ie<=ne)){ie=Math.max(ie,ne*(ne<1048576?2:1.125)>>>0),ne!=0&&(ie=Math.max(ie,256));const Z=B;B=new Uint8Array(ie),0<J&&B.set(Z.subarray(0,J),0)}}}var b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],k=function(G,J,B,ee,ie=A(512),ne=new Uint8Array(256),Z=new Int32Array(5003),H=new Int32Array(5003)){var z=Z.length,ee=Math.max(2,ee);ne.fill(0),H.fill(0),Z.fill(-1);let se=0,le=0;var ue=ee+1;const _e=ue;let Te=!1,me=_e,Se=(1<<me)-1;var ve=1<<ue-1;const fe=1+ve;let ye=2+ve,Ae=0,Ne=B[0],re=0;for(let Fe=z;Fe<65536;Fe*=2)++re;re=8-re,ie.writeByte(ee),Ie(ve);var ae=B.length;for(let Fe=1;Fe<ae;Fe++)e:{var ce=B[Fe],Ee=(ce<<12)+Ne;let Xe=ce<<re^Ne;if(Z[Xe]===Ee)Ne=H[Xe];else{for(var xe=Xe===0?1:z-Xe;0<=Z[Xe];)if((Xe-=xe)<0&&(Xe+=z),Z[Xe]===Ee){Ne=H[Xe];break e}Ie(Ne),Ne=ce,ye<4096?(H[Xe]=ye++,Z[Xe]=Ee):(Z.fill(-1),ye=2+ve,Te=!0,Ie(ve))}}return Ie(Ne),Ie(fe),ie.writeByte(0),ie.bytesView();function Ie(Fe){for(se&=b[le],0<le?se|=Fe<<le:se=Fe,le+=me;8<=le;)ne[Ae++]=255&se,254<=Ae&&(ie.writeByte(Ae),ie.writeBytesView(ne,0,Ae),Ae=0),se>>=8,le-=8;if((ye>Se||Te)&&(Te?(me=_e,Se=(1<<me)-1,Te=!1):(++me,Se=me===12?1<<me:(1<<me)-1)),Fe==fe){for(;0<le;)ne[Ae++]=255&se,254<=Ae&&(ie.writeByte(Ae),ie.writeBytesView(ne,0,Ae),Ae=0),se>>=8,le-=8;0<Ae&&(ie.writeByte(Ae),ie.writeBytesView(ne,0,Ae),Ae=0)}}};function S(G,J,B){return G<<8&63488|J<<2&992|B>>3}function T(G,J,B,Y){return G>>4|240&J|(240&B)<<4|(240&Y)<<8}function P(G,J,B){return G>>4<<8|240&J|B>>4}function C(G,J,B){return G<J?J:B<G?B:G}function M(G){return G*G}function j(G,J,B){var Y=0,ie=1e100;const ne=G[J];for(var Z=ne.cnt,H=ne.ac,z=ne.rc,ee=ne.gc,se=ne.bc,le=ne.fw;le!=0;le=G[le].fw){var ue,_e=G[le],Te=_e.cnt,Te=Z*Te/(Z+Te);ie<=Te||(ue=0,B&&ie<=(ue+=Te*M(_e.ac-H))||ie<=(ue+=Te*M(_e.rc-z))||ie<=(ue+=Te*M(_e.gc-ee))||ie<=(ue+=Te*M(_e.bc-se))||(ie=ue,Y=le))}ne.err=ie,ne.nn=Y}function I(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function O(G,J){for(var B=0,Y=0;Y<G.length;Y++){var ie=G[Y]-J[Y];B+=ie*ie}return B}function R(G,J){return 1<J?Math.round(G/J)*J:G}function D(G){return G*G}function N(G,J,B=O){let Y=1/0,ie=-1;for(let Z=0;Z<G.length;Z++){var ne=B(J,G[Z]);ne<Y&&(Y=ne,ie=Z)}return ie}function U(G,J,B=O){let Y=1/0,ie=-1;for(let Z=0;Z<G.length;Z++){var ne=B(J,G[Z]);ne<Y&&(Y=ne,ie=Z)}return[ie,Y]}function X(G={}){const{initialCapacity:J=4096,auto:B=!0}=G,Y=A(J),ie=new Uint8Array(256),ne=new Int32Array(5003),Z=new Int32Array(5003);let H=!1;return{reset(){Y.reset(),H=!1},finish(){Y.writeByte(E.trailer)},bytes(){return Y.bytes()},bytesView(){return Y.bytesView()},get buffer(){return Y.buffer},get stream(){return Y},writeHeader:z,writeFrame(ee,se,le,Ne={}){var{transparent:_e=!1,transparentIndex:Te=0,delay:xe=0,palette:me=null,repeat:ae=0,colorDepth:Se=8,dispose:ve=-1}=Ne;let fe=!1;if(B?H||(fe=!0,z(),H=!0):fe=!!Ne.first,se=Math.max(0,Math.floor(se)),le=Math.max(0,Math.floor(le)),fe){if(!me)throw new Error("First frame must include a { palette } option");var[Ne,ce,Ae,Ee,re=8]=[Y,se,le,me,Se];Ee=Q(Ee.length)-1,re=128|re-1<<4|Ee,K(Ne,ce),K(Ne,Ae),Ne.writeBytes([re,0,0]),V(Y,me),0<=ae&&(Ee=Y,ce=ae,Ee.writeByte(33),Ee.writeByte(255),Ee.writeByte(11),W(Ee,"NETSCAPE2.0"),Ee.writeByte(3),Ee.writeByte(1),K(Ee,ce),Ee.writeByte(0))}var ye,Ae=Math.round(xe/10),Ne=Y,re=ve,ae=Ae,ce=_e,Ee=Te,xe=(Ne.writeByte(33),Ne.writeByte(249),Ne.writeByte(4),Ee<0&&(Ee=0,ce=!1),ce=ce?(ye=1,2):ye=0,0<=re&&(ce=7&re),ce<<=2,Ne.writeByte(0|ce|ye),K(Ne,ae),Ne.writeByte(Ee||0),Ne.writeByte(0),!!me&&!fe);ve=Y,_e=se,Te=le,ye=xe?me:null,ve.writeByte(44),K(ve,0),K(ve,0),K(ve,_e),K(ve,Te),ye?(_e=Q(ye.length)-1,ve.writeByte(128|_e)):ve.writeByte(0),xe&&V(Y,me),[ae,Ne,Te,_e,ve=8,xe,me,ee]=[Y,ee,se,le,Se,ie,ne,Z],k(Te,_e,Ne,ve,ae,xe,me,ee)}};function z(){W(Y,"GIF89a")}}function V(G,J){var B=1<<Q(J.length);for(let Y=0;Y<B;Y++){let ie=[0,0,0];Y<J.length&&(ie=J[Y]),G.writeByte(ie[0]),G.writeByte(ie[1]),G.writeByte(ie[2])}}function K(G,J){G.writeByte(255&J),G.writeByte(J>>8&255)}function W(G,J){for(var B=0;B<J.length;B++)G.writeByte(J.charCodeAt(B))}function Q(G){return Math.max(Math.ceil(Math.log2(G)),1)}var L=X},{}],246:[function(c,g,y){y.read=function(m,_,p,x,j){var A,b,k=8*j-x-1,S=(1<<k)-1,T=S>>1,P=-7,C=p?j-1:0,M=p?-1:1,j=m[_+C];for(C+=M,A=j&(1<<-P)-1,j>>=-P,P+=k;0<P;A=256*A+m[_+C],C+=M,P-=8);for(b=A&(1<<-P)-1,A>>=-P,P+=x;0<P;b=256*b+m[_+C],C+=M,P-=8);if(A===0)A=1-T;else{if(A===S)return b?NaN:1/0*(j?-1:1);b+=Math.pow(2,x),A-=T}return(j?-1:1)*b*Math.pow(2,A-x)},y.write=function(m,_,p,x,E,I){var b,k,S=8*I-E-1,T=(1<<S)-1,P=T>>1,C=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=x?0:I-1,j=x?1:-1,I=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(k=isNaN(_)?1:0,b=T):(b=Math.floor(Math.log(_)/Math.LN2),_*(x=Math.pow(2,-b))<1&&(b--,x*=2),2<=(_+=1<=b+P?C/x:C*Math.pow(2,1-P))*x&&(b++,x/=2),T<=b+P?(k=0,b=T):1<=b+P?(k=(_*x-1)*Math.pow(2,E),b+=P):(k=_*Math.pow(2,P-1)*Math.pow(2,E),b=0));8<=E;m[p+M]=255&k,M+=j,k/=256,E-=8);for(b=b<<E|k,S+=E;0<S;m[p+M]=255&b,M+=j,b/=256,S-=8);m[p+M-j]|=128*I}},{}],247:[function(c,g,y){var m;function _(ge,we){return ge.b===we.b&&ge.a===we.a}function p(ge,we){return ge.b<we.b||ge.b===we.b&&ge.a<=we.a}function x(ge,we,pe){var ke=we.b-ge.b,De=pe.b-we.b;return 0<ke+De?ke<De?we.a-ge.a+ke/(ke+De)*(ge.a-pe.a):we.a-pe.a+De/(ke+De)*(pe.a-ge.a):0}function E(ge,we,pe){var ke=we.b-ge.b,De=pe.b-we.b;return 0<ke+De?(we.a-pe.a)*ke+(we.a-ge.a)*De:0}function A(ge,we){return ge.a<we.a||ge.a===we.a&&ge.b<=we.b}function b(ge,we,pe){var ke=we.a-ge.a,De=pe.a-we.a;return 0<ke+De?ke<De?we.b-ge.b+ke/(ke+De)*(ge.b-pe.b):we.b-pe.b+De/(ke+De)*(pe.b-ge.b):0}function k(ge,we,pe){var ke=we.a-ge.a,De=pe.a-we.a;return 0<ke+De?(we.b-pe.b)*ke+(we.b-ge.b)*De:0}function S(ge,we,pe,ke){return(ge=ge<0?0:ge)<=(pe=pe<0?0:pe)?pe===0?(we+ke)/2:we+ge/(ge+pe)*(ke-we):ke+pe/(ge+pe)*(we-ke)}function T(ge){var we=I(ge.b);return R(we,ge.c),R(we.b,ge.c),D(we,ge.a),we}function P(ge,we){var pe=!1,ke=!1;ge!==we&&(we.a!==ge.a&&(ke=!0,U(we.a,ge.a)),we.d!==ge.d&&(pe=!0,X(we.d,ge.d)),O(we,ge),ke||(R(we,ge.a),ge.a.c=ge),pe||(D(we,ge.d),ge.d.a=ge))}function C(ge){var we=ge.b,pe=!1;ge.d!==ge.b.d&&(pe=!0,X(ge.d,ge.b.d)),ge.c===ge?U(ge.a,null):(ge.b.d.a=ge.b.e,ge.a.c=ge.c,O(ge,ge.b.e),pe||D(ge,ge.d)),we.c===we?(U(we.a,null),X(we.d,null)):(ge.d.a=we.b.e,we.a.c=we.c,O(we,we.b.e)),N(ge)}function M(ge){var we=I(ge),pe=we.b;return O(we,ge.e),we.a=ge.b.a,R(pe,we.a),we.d=pe.d=ge.d,we=we.b,O(ge.b,ge.b.b.e),O(ge.b,we),ge.b.a=we.a,we.b.a.c=we.b,we.b.d=ge.b.d,we.f=ge.f,we.b.f=ge.b.f,we}function j(ge,we){var pe=!1,ke=I(ge),De=ke.b;return we.d!==ge.d&&(pe=!0,X(we.d,ge.d)),O(ke,ge.e),O(De,we),ke.a=ge.b.a,De.a=we.a,ke.d=De.d=ge.d,ge.d.a=De,pe||D(ke,ge.d),ke}function I(ge){var we=new Ae,pe=new Ae,ke=ge.b.h;return(((pe.h=ke).b.h=we).h=ge).b.h=pe,we.b=pe,((we.c=we).e=pe).b=we,(pe.c=pe).e=we}function O(ge,we){var pe=ge.c,ke=we.c;pe.b.e=we,(ke.b.e=ge).c=ke,we.c=pe}function R(ge,we){var pe=we.f,ke=new re(we,pe);for(pe.e=ke,pe=(we.f=ke).c=ge;pe.a=ke,(pe=pe.c)!==ge;);}function D(ge,we){var pe=we.d,ke=new ye(we,pe);for(pe.b=ke,(we.d=ke).a=ge,ke.c=we.c,pe=ge;pe.d=ke,(pe=pe.e)!==ge;);}function N(ge){var we=ge.h;ge=ge.b.h,(we.b.h=ge).b.h=we}function U(ge,we){for(var pe=ge.c,ke=pe;ke.a=we,(ke=ke.c)!==pe;);pe=ge.f,((ke=ge.e).f=pe).e=ke}function X(ge,we){for(var pe=ge.a,ke=pe;ke.d=we,(ke=ke.e)!==pe;);pe=ge.d,((ke=ge.b).d=pe).b=ke}function V(ge){var we=0;return Math.abs(ge[1])>Math.abs(ge[0])&&(we=1),we=Math.abs(ge[2])>Math.abs(ge[we])?2:we}function K(ge,we){ge.f+=we.f,ge.b.f+=we.b.f}function W(ge,we,pe){return ge=ge.a,we=we.a,pe=pe.a,we.b.a===ge?pe.b.a===ge?p(we.a,pe.a)?E(pe.b.a,we.a,pe.a)<=0:0<=E(we.b.a,pe.a,we.a):E(pe.b.a,ge,pe.a)<=0:pe.b.a===ge?0<=E(we.b.a,ge,we.a):(we=x(we.b.a,ge,we.a),(ge=x(pe.b.a,ge,pe.a))<=we)}function Q(ge){ge.a.i=null;var we=ge.e;we.a.c=we.c,we.c.a=we.a,ge.e=null}function L(ge,we){C(ge.a),ge.c=!1,(ge.a=we).i=ge}function G(ge){for(var we=ge.a.a;(ge=Ve(ge)).a.a===we;);return ge.c&&(L(ge,we=j(qe(ge).a.b,ge.a.e)),ge=Ve(ge)),ge}function J(ge,we,pe){var ke=new Oe;return ke.a=pe,ke.e=Te(ge.f,we.e,ke),pe.i=ke}function B(ge,we){switch(ge.s){case 100130:return(1&we)!=0;case 100131:return we!==0;case 100132:return 0<we;case 100133:return we<0;case 100134:return 2<=we||we<=-2}return!1}function Y(ge){var we=ge.a,pe=we.d;pe.c=ge.d,pe.a=we,Q(ge)}function ie(ge,we,pe){for(we=(ge=we).a;ge!==pe;){ge.c=!1;var ke=qe(ge),De=ke.a;if(De.a!==we.a){if(!ke.c){Y(ge);break}L(ke,De=j(we.c.b,De.b))}we.c!==De&&(P(De.b.e,De),P(we,De)),Y(ge),we=ke.a,ge=ke}return we}function ne(ge,we,pe,ke,De,Be){for(var He=!0;J(ge,we,pe.b),(pe=pe.c)!==ke;);for(De===null&&(De=qe(we).a.b.c);(pe=(ke=qe(we)).a.b).a===De.a;)pe.c!==De&&(P(pe.b.e,pe),P(De.b.e,pe)),ke.f=we.f-pe.f,ke.d=B(ge,ke.f),we.b=!0,!He&&ee(ge,we)&&(K(pe,De),Q(we),C(De)),He=!1,we=ke,De=pe;we.b=!0,Be&&le(ge,we)}function Z(ge,we,pe,ke,De){var Be=[we.g[0],we.g[1],we.g[2]];we.d=null,we.d=ge.o&&ge.o(Be,pe,ke,ge.c)||null,we.d===null&&(De?ge.n||(fe(ge,100156),ge.n=!0):we.d=pe[0])}function H(ge,we,pe){var ke=[null,null,null,null];ke[0]=we.a.d,ke[1]=pe.a.d,Z(ge,we.a,ke,[.5,.5,0,0],!1),P(we,pe)}function z(ge,we,pe,ke,De){var Be=Math.abs(we.b-ge.b)+Math.abs(we.a-ge.a),He=Math.abs(pe.b-ge.b)+Math.abs(pe.a-ge.a),et=De+1;ke[De]=.5*He/(Be+He),ke[et]=.5*Be/(Be+He),ge.g[0]+=ke[De]*we.g[0]+ke[et]*pe.g[0],ge.g[1]+=ke[De]*we.g[1]+ke[et]*pe.g[1],ge.g[2]+=ke[De]*we.g[2]+ke[et]*pe.g[2]}function ee(ge,we){var pe=qe(we),ke=we.a,De=pe.a;if(p(ke.a,De.a)){if(0<E(De.b.a,ke.a,De.a))return;if(_(ke.a,De.a)){if(ke.a!==De.a){var pe=ge.e,Be=ke.a.h;if(0<=Be){var He=(pe=pe.b).d,et=pe.e,rt=pe.c,nt=rt[Be];He[nt]=He[pe.a],(rt[He[nt]]=nt)<=--pe.a&&(nt<=1||p(et[He[nt>>1]],et[He[nt]])?Ze:Je)(pe,nt),et[Be]=null,rt[Be]=pe.b,pe.b=Be}else for(pe.c[-(Be+1)]=null;0<pe.a&&pe.c[pe.d[pe.a-1]]===null;)--pe.a;H(ge,De.b.e,ke)}}else M(De.b),P(ke,De.b.e),we.b=pe.b=!0}else{if(E(ke.b.a,De.a,ke.a)<0)return;Ve(we).b=we.b=!0,M(ke.b),P(De.b.e,ke)}return 1}function se(ge,we){var pe=qe(we),ke=we.a,De=pe.a,Be=ke.a,He=De.a,et=ke.b.a,rt=De.b.a,nt=new re;if(E(et,ge.a,Be),E(rt,ge.a,He),!(Be===He||Math.min(Be.a,et.a)>Math.max(He.a,rt.a))){if(p(Be,He)){if(0<E(rt,Be,He))return}else if(E(et,He,Be)<0)return;var it,yt,pt=et,lt=Be,mt=rt,ft=He;if(p(pt,lt)||(it=pt,pt=lt,lt=it),p(mt,ft)||(it=mt,mt=ft,ft=it),p(pt,mt)||(it=pt,pt=mt,mt=it,it=lt,lt=ft,ft=it),p(mt,lt)?p(lt,ft)?((it=x(pt,mt,lt))+(yt=x(mt,lt,ft))<0&&(it=-it,yt=-yt),nt.b=S(it,mt.b,yt,lt.b)):((it=E(pt,mt,lt))+(yt=-E(pt,ft,lt))<0&&(it=-it,yt=-yt),nt.b=S(it,mt.b,yt,ft.b)):nt.b=(mt.b+lt.b)/2,A(pt,lt)||(it=pt,pt=lt,lt=it),A(mt,ft)||(it=mt,mt=ft,ft=it),A(pt,mt)||(it=pt,pt=mt,mt=it,it=lt,lt=ft,ft=it),A(mt,lt)?A(lt,ft)?((it=b(pt,mt,lt))+(yt=b(mt,lt,ft))<0&&(it=-it,yt=-yt),nt.a=S(it,mt.a,yt,lt.a)):((it=k(pt,mt,lt))+(yt=-k(pt,ft,lt))<0&&(it=-it,yt=-yt),nt.a=S(it,mt.a,yt,ft.a)):nt.a=(mt.a+lt.a)/2,p(nt,ge.a)&&(nt.b=ge.a.b,nt.a=ge.a.a),pt=p(Be,He)?Be:He,p(pt,nt)&&(nt.b=pt.b,nt.a=pt.a),_(nt,Be)||_(nt,He))return ee(ge,we),0;if(!_(et,ge.a)&&0<=E(et,ge.a,nt)||!_(rt,ge.a)&&E(rt,ge.a,nt)<=0){if(rt===ge.a)M(ke.b),P(De.b,ke),ke=qe(we=G(we)).a,ie(ge,qe(we),pe),ne(ge,we,ke.b.e,ke,ke,!0);else{if(et!==ge.a)return 0<=E(et,ge.a,nt)&&(Ve(we).b=we.b=!0,M(ke.b),ke.a.b=ge.a.b,ke.a.a=ge.a.a),void(E(rt,ge.a,nt)<=0&&(we.b=pe.b=!0,M(De.b),De.a.b=ge.a.b,De.a.a=ge.a.a));for(M(De.b),P(ke.e,De.b.e),He=(Be=pe=we).a.b.a;(Be=Ve(Be)).a.b.a===He;);Be=qe(we=Be).a.b.c,pe.a=De.b.e,ne(ge,we,(De=ie(ge,pe,null)).c,ke.b.c,Be,!0)}return 1}M(ke.b),M(De.b),P(De.b.e,ke),ke.a.b=nt.b,ke.a.a=nt.a,ke.a.h=ce(ge.e,ke.a),ke=ke.a,De=[0,0,0,0],nt=[Be.d,et.d,He.d,rt.d],ke.g[0]=ke.g[1]=ke.g[2]=0,z(ke,Be,et,De,0),z(ke,He,rt,De,2),Z(ge,ke,nt,De,!0),Ve(we).b=we.b=pe.b=!0}}function le(ge,we){for(var pe=qe(we);;){for(;pe.b;)pe=qe(we=pe);if(!we.b&&((we=Ve(pe=we))===null||!we.b))break;we.b=!1;var ke=we.a,De=pe.a;if(Be=ke.b.a!==De.b.a)e:{var Be,He=qe(Be=we),et=Be.a,rt=He.a,nt=void 0;if(p(et.b.a,rt.b.a)){if(E(et.b.a,rt.b.a,et.a)<0){Be=!1;break e}Ve(Be).b=Be.b=!0,nt=M(et),P(rt.b,nt),nt.d.c=Be.d}else{if(0<E(rt.b.a,et.b.a,rt.a)){Be=!1;break e}Be.b=He.b=!0,nt=M(rt),P(et.e,rt.b),nt.b.d.c=Be.d}Be=!0}if(Be&&(pe.c?(Q(pe),C(De),De=(pe=qe(we)).a):we.c&&(Q(we),C(ke),ke=(we=Ve(pe)).a)),ke.a!==De.a){if(ke.b.a===De.b.a||we.c||pe.c||ke.b.a!==ge.a&&De.b.a!==ge.a)ee(ge,we);else if(se(ge,we))break}ke.a===De.a&&ke.b.a===De.b.a&&(K(De,ke),Q(we),C(ke),we=Ve(pe))}}function ue(ge,we){var pe=new Oe,ke=T(ge.b);ke.a.b=4e150,ke.a.a=we,ke.b.a.b=-4e150,ke.b.a.a=we,ge.a=ke.b.a,pe.a=ke,pe.f=0,pe.d=!1,pe.c=!1,pe.h=!0,pe.b=!1,ke=Te(ke=ge.f,ke.a,pe),pe.e=ke}function _e(ge){this.a=new me,this.b=ge,this.c=W}function Te(ge,we,pe){for(;(we=we.c).b!==null&&!ge.c(ge.b,we.b,pe););return ge=new me(pe,we.a,we),we.a.c=ge,we.a=ge}function me(ge,we,pe){this.b=ge||null,this.a=we||this,this.c=pe||this}function Se(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ve(ge,we){if(ge.d!==we)for(;ge.d!==we;)if(ge.d<we)switch(ge.d){case 0:fe(ge,100151),ge.u(null);break;case 1:fe(ge,100152),ge.t()}else switch(ge.d){case 2:fe(ge,100154),ge.v();break;case 1:fe(ge,100153),ge.w()}}function fe(ge,we){ge.p&&ge.p(we,ge.c)}function ye(ge,we){this.b=ge||this,this.d=we||this,this.a=null,this.c=!1}function Ae(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Ne(){this.c=new re,this.a=new ye,this.b=new Ae,this.d=new Ae,this.b.b=this.d,this.d.b=this.b}function re(ge,we){this.e=ge||this,this.f=we||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ae(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new xe}function ce(ge,we){var pe,ke,De;return ge.e?(2*(ke=++(pe=ge.b).a)>pe.f&&(pe.f*=2,pe.c=Ie(pe.c,pe.f+1)),pe.b===0?De=ke:(De=pe.b,pe.b=pe.c[pe.b]),pe.e[De]=we,pe.c[De]=ke,pe.d[ke]=De,pe.h&&Je(pe,ke),De):(pe=ge.a++,ge.c[pe]=we,-(pe+1))}function Ee(ge){if(ge.a===0)return Xe(ge.b);var we=ge.c[ge.d[ge.a-1]];if(ge.b.a!==0&&p(Fe(ge.b),we))return Xe(ge.b);for(;--ge.a,0<ge.a&&ge.c[ge.d[ge.a-1]]===null;);return we}function xe(){this.d=Ie([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Ie(ge,we){for(var pe=Array(we),ke=0;ke<ge.length;ke++)pe[ke]=ge[ke];for(;ke<we;ke++)pe[ke]=0;return pe}function Fe(ge){return ge.e[ge.d[1]]}function Xe(ge){var we=ge.d,pe=ge.e,ke=ge.c,De=we[1],Be=pe[De];return 0<ge.a&&(we[1]=we[ge.a],ke[we[1]]=1,pe[De]=null,ke[De]=ge.b,ge.b=De,0<--ge.a&&Ze(ge,1)),Be}function Ze(ge,we){for(var pe=ge.d,ke=ge.e,De=ge.c,Be=we,He=pe[Be];;){var et=Be<<1,rt=(et<ge.a&&p(ke[pe[et+1]],ke[pe[et]])&&(et+=1),pe[et]);if(et>ge.a||p(ke[He],ke[rt])){De[pe[Be]=He]=Be;break}De[pe[Be]=rt]=Be,Be=et}}function Je(ge,we){for(var pe=ge.d,ke=ge.e,De=ge.c,Be=we,He=pe[Be];;){var et=Be>>1,rt=pe[et];if(et==0||p(ke[rt],ke[He])){De[pe[Be]=He]=Be;break}De[pe[Be]=rt]=Be,Be=et}}function Oe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function qe(ge){return ge.e.c.b}function Ve(ge){return ge.e.a.b}(m=Se.prototype).x=function(){ve(this,0)},m.B=function(ge,we){switch(ge){case 100142:return;case 100140:switch(we){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=we)}break;case 100141:return void(this.m=!!we);default:return void fe(this,100900)}fe(this,100901)},m.y=function(ge){switch(ge){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:fe(this,100900)}return!1},m.A=function(ge,we,pe){this.j[0]=ge,this.j[1]=we,this.j[2]=pe},m.z=function(ge,we){var pe=we||null;switch(ge){case 100100:case 100106:this.h=pe;break;case 100104:case 100110:this.l=pe;break;case 100101:case 100107:this.k=pe;break;case 100102:case 100108:this.i=pe;break;case 100103:case 100109:this.p=pe;break;case 100105:case 100111:this.o=pe;break;case 100112:this.r=pe;break;default:fe(this,100900)}},m.C=function(ge,we){var pe=!1,ke=[0,0,0];ve(this,2);for(var De=0;De<3;++De){var Be=ge[De];Be<-1e150&&(Be=-1e150,pe=!0),1e150<Be&&(Be=1e150,pe=!0),ke[De]=Be}pe&&fe(this,100155),(pe=this.q)===null?P(pe=T(this.b),pe.b):(M(pe),pe=pe.e),pe.a.d=we,pe.a.g[0]=ke[0],pe.a.g[1]=ke[1],pe.a.g[2]=ke[2],pe.f=1,pe.b.f=-1,this.q=pe},m.u=function(ge){ve(this,0),this.d=1,this.b=new Ne,this.c=ge},m.t=function(){ve(this,1),this.d=2,this.q=null},m.v=function(){ve(this,2),this.d=1},m.w=function(){ve(this,1),this.d=0;var ge,we,pe=this.j[0],ke=this.j[1],De=this.j[2],Be=!1,He=[pe,ke,De];if(pe===0&&ke===0&&De===0){for(var ke=[-2e150,-2e150,-2e150],et=[2e150,2e150,2e150],De=[],rt=[],pe=(Be=this.b.c).e;pe!==Be;pe=pe.e)for(var nt=0;nt<3;++nt){var it=pe.g[nt];it<et[nt]&&(et[nt]=it,rt[nt]=pe),it>ke[nt]&&(ke[nt]=it,De[nt]=pe)}if(ke[1]-et[1]>ke[pe=0]-et[0]&&(pe=1),et[pe=ke[2]-et[2]>ke[pe]-et[pe]?2:pe]>=ke[pe])He[0]=0,He[1]=0,He[2]=1;else{for(et=rt[pe],De=De[pe],rt=[ke=0,0,0],et=[et.g[0]-De.g[0],et.g[1]-De.g[1],et.g[2]-De.g[2]],nt=[0,0,0],pe=Be.e;pe!==Be;pe=pe.e)nt[0]=pe.g[0]-De.g[0],nt[1]=pe.g[1]-De.g[1],nt[2]=pe.g[2]-De.g[2],rt[0]=et[1]*nt[2]-et[2]*nt[1],rt[1]=et[2]*nt[0]-et[0]*nt[2],rt[2]=et[0]*nt[1]-et[1]*nt[0],ke<(it=rt[0]*rt[0]+rt[1]*rt[1]+rt[2]*rt[2])&&(ke=it,He[0]=rt[0],He[1]=rt[1],He[2]=rt[2]);ke<=0&&(He[0]=He[1]=He[2]=0,He[V(et)]=1)}Be=!0}for(rt=V(He),pe=this.b.c,ke=(rt+1)%3,De=(rt+2)%3,rt=0<He[rt]?1:-1,He=pe.e;He!==pe;He=He.e)He.b=He.g[ke],He.a=rt*He.g[De];if(Be){for(He=0,pe=(Be=this.b.a).b;pe!==Be;pe=pe.b)if(!((ke=pe.a).f<=0))for(;He+=(ke.a.b-ke.b.a.b)*(ke.a.a+ke.b.a.a),(ke=ke.e)!==pe.a;);if(He<0)for(Be=(He=this.b.c).e;Be!==He;Be=Be.e)Be.a=-Be.a}for(this.n=!1,He=this.b.b,pe=He.h;pe!==He;pe=Be)Be=pe.h,ke=pe.e,_(pe.a,pe.b.a)&&pe.e.e!==pe&&(H(this,ke,pe),C(pe),ke=(pe=ke).e),ke.e===pe&&(ke!==pe&&(ke!==Be&&ke!==Be.b||(Be=Be.h),C(ke)),pe!==Be&&pe!==Be.b||(Be=Be.h),C(pe));for(this.e=He=new ae,Be=this.b.c,pe=Be.e;pe!==Be;pe=pe.e)pe.h=ce(He,pe);var yt=He;yt.d=[];for(var pt=0;pt<yt.a;pt++)yt.d[pt]=pt;yt.d.sort(function(ft){return function(Ct,Yt){return p(ft[Ct],ft[Yt])?1:-1}}(yt.c)),yt.e=!0;for(var lt=yt.b,mt=lt.a;1<=mt;--mt)Ze(lt,mt);for(lt.h=!0,this.f=new _e(this),ue(this,-4e150),ue(this,4e150);(He=Ee(this.e))!==null;){for(;;){e:if((pe=this.e).a===0)Be=Fe(pe.b);else if(Be=pe.c[pe.d[pe.a-1]],pe.b.a!==0&&p(pe=Fe(pe.b),Be)){Be=pe;break e}if(Be===null||!_(Be,He))break;Be=Ee(this.e),H(this,He.c,Be.c)}(function ft(Ct,Yt){for(var Ft,St=(Ct.a=Yt).c;St.i===null;)if((St=St.c)===Yt.c){var St=Ct,Pt=Yt;(kt=new Oe).a=Pt.c.b;for(var Ht=(wt=St.f).a;(Ht=Ht.a).b!==null&&!wt.c(wt.b,kt,Ht.b););var wt,qt,Ut=qe(wt=Ht.b),kt=wt.a,Ht=Ut.a;return void(E(kt.b.a,Pt,kt.a)===0?_((kt=wt.a).a,Pt)||_(kt.b.a,Pt)||(M(kt.b),wt.c&&(C(kt.c),wt.c=!1),P(Pt.c,kt),ft(St,Pt)):(qt=p(Ht.b.a,kt.b.a)?wt:Ut,Ut=void 0,wt.d||qt.c?(Ut=qt===wt?j(Pt.c.b,kt.e):j(Ht.b.c.b,Pt.c).b,qt.c?L(qt,Ut):((wt=J(kt=St,wt,Ut)).f=Ve(wt).f+wt.a.f,wt.d=B(kt,wt.f)),ft(St,Pt)):ne(St,wt,Pt.c,Pt.c,null,!0)))}wt=(kt=qe(St=G(St.i))).a,(kt=ie(Ct,kt,null)).c===wt?(kt=(wt=kt).c,Ht=qe(St),Ut=St.a,qt=Ht.a,Ft=!1,Ut.b.a!==qt.b.a&&se(Ct,St),_(Ut.a,Ct.a)&&(P(kt.b.e,Ut),kt=qe(St=G(St)).a,ie(Ct,qe(St),Ht),Ft=!0),_(qt.a,Ct.a)&&(P(wt,qt.b.e),wt=ie(Ct,Ht,null),Ft=!0),Ft?ne(Ct,St,wt.c,kt,kt,!0):(Pt=p(qt.a,Ut.a)?qt.b.e:Ut,ne(Ct,St,Pt=j(wt.c.b,Pt),Pt.c,Pt.c,!1),Pt.b.i.c=!0,le(Ct,St))):ne(Ct,St,kt.c,wt,wt,!0)})(this,He)}for(this.a=this.f.a.a.b.a.a,He=0;(Be=this.f.a.a.b)!==null;)Be.h||++He,Q(Be);for(this.f=null,(He=this.e).b=null,He.d=null,this.e=He.c=null,He=this.b,pe=He.a.b;pe!==He.a;pe=Be)Be=pe.b,(pe=pe.a).e.e===pe&&(K(pe.c,pe),C(pe));if(!this.n){if(He=this.b,this.m)for(pe=He.b.h;pe!==He.b;pe=Be)Be=pe.h,pe.b.d.c!==pe.d.c?pe.f=pe.d.c?1:-1:C(pe);else for(pe=He.a.b;pe!==He.a;pe=Be)if(Be=pe.b,pe.c){for(pe=pe.a;p(pe.b.a,pe.a);pe=pe.c.b);for(;p(pe.a,pe.b.a);pe=pe.e);for(ke=pe.c.b,De=void 0;pe.e!==ke;)if(p(pe.b.a,ke.a)){for(;ke.e!==pe&&(p((we=ke.e).b.a,we.a)||E(ke.a,ke.b.a,ke.e.b.a)<=0);)ke=(De=j(ke.e,ke)).b;ke=ke.c.b}else{for(;ke.e!==pe&&(p((ge=pe.c.b).a,ge.b.a)||0<=E(pe.b.a,pe.a,pe.c.b.a));)pe=(De=j(pe,pe.c.b)).b;pe=pe.e}for(;ke.e.e!==pe;)De=j(ke.e,ke),ke=De.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Be=(He=this.b).a.b;Be!==He.a;Be=Be.b)if(Be.c){for(this.h&&this.h(2,this.c),pe=Be.a;this.k&&this.k(pe.a.d,this.c),(pe=pe.e)!==Be.a;);this.i&&this.i(this.c)}}else{for(He=this.b,Be=!!this.l,pe=!1,ke=-1,De=He.a.d;De!==He.a;De=De.d)if(De.c)for(pe||(this.h&&this.h(4,this.c),pe=!0),rt=De.a;Be&&(et=rt.b.d.c?0:1,ke!==et&&(ke=et,this.l&&this.l(!!ke,this.c))),this.k&&this.k(rt.a.d,this.c),(rt=rt.e)!==De.a;);pe&&this.i&&this.i(this.c)}if(this.r){for(He=this.b,pe=He.a.b;pe!==He.a;pe=Be)if(Be=pe.b,!pe.c){for(De=(ke=pe.a).e,rt=void 0;De=(rt=De).e,(rt.d=null)===rt.b.d&&(rt.c===rt?U(rt.a,null):(rt.a.c=rt.c,O(rt,rt.b.e)),(et=rt.b).c===et?U(et.a,null):(et.a.c=et.c,O(et,et.b.e)),N(rt)),rt!==ke;);ke=pe.d,((pe=pe.b).d=ke).b=pe}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Se,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Se.prototype.gluDeleteTess=Se.prototype.x,Se.prototype.gluTessProperty=Se.prototype.B,Se.prototype.gluGetTessProperty=Se.prototype.y,Se.prototype.gluTessNormal=Se.prototype.A,Se.prototype.gluTessCallback=Se.prototype.z,Se.prototype.gluTessVertex=Se.prototype.C,Se.prototype.gluTessBeginPolygon=Se.prototype.u,Se.prototype.gluTessBeginContour=Se.prototype.t,Se.prototype.gluTessEndContour=Se.prototype.v,Se.prototype.gluTessEndPolygon=Se.prototype.w,g!==void 0&&(g.exports=this.libtess)},{}],248:[function(c,g,y){function m(p,x,E,A){var b=0,k=(A=A===void 0?{}:A).loop===void 0?null:A.loop,S=A.palette===void 0?null:A.palette;if(x<=0||E<=0||65535<x||65535<E)throw new Error("Width/Height invalid.");function T(D){if(D=D.length,D<2||256<D||D&D-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return D}p[b++]=71,p[b++]=73,p[b++]=70,p[b++]=56,p[b++]=57,p[b++]=97;var P=0,C=0;if(S!==null){for(var M=T(S);M>>=1;)++P;if(M=1<<P,--P,A.background!==void 0){if(M<=(C=A.background))throw new Error("Background index out of range.");if(C===0)throw new Error("Background index explicitly passed as 0.")}}if(p[b++]=255&x,p[b++]=x>>8&255,p[b++]=255&E,p[b++]=E>>8&255,p[b++]=(S!==null?128:0)|P,p[b++]=C,p[b++]=0,S!==null)for(var j=0,I=S.length;j<I;++j){var O=S[j];p[b++]=O>>16&255,p[b++]=O>>8&255,p[b++]=255&O}if(k!==null){if(k<0||65535<k)throw new Error("Loop count invalid.");p[b++]=33,p[b++]=255,p[b++]=11,p[b++]=78,p[b++]=69,p[b++]=84,p[b++]=83,p[b++]=67,p[b++]=65,p[b++]=80,p[b++]=69,p[b++]=50,p[b++]=46,p[b++]=48,p[b++]=3,p[b++]=1,p[b++]=255&k,p[b++]=k>>8&255,p[b++]=0}var R=!1;this.addFrame=function(D,N,U,X,V,K){if(R===!0&&(--b,R=!1),K=K===void 0?{}:K,D<0||N<0||65535<D||65535<N)throw new Error("x/y invalid.");if(U<=0||X<=0||65535<U||65535<X)throw new Error("Width/Height invalid.");if(V.length<U*X)throw new Error("Not enough pixels for the frame size.");var W=!0,Q=K.palette;if(Q==null&&(W=!1,Q=S),Q==null)throw new Error("Must supply either a local or global palette.");for(var G=T(Q),L=0;G>>=1;)++L;var G=1<<L,J=K.delay===void 0?0:K.delay,B=K.disposal===void 0?0:K.disposal;if(B<0||3<B)throw new Error("Disposal out of range.");var Y=!1,ie=0;if(K.transparent!==void 0&&K.transparent!==null&&(Y=!0,(ie=K.transparent)<0||G<=ie))throw new Error("Transparent color index.");if(B===0&&!Y&&J===0||(p[b++]=33,p[b++]=249,p[b++]=4,p[b++]=B<<2|(Y===!0?1:0),p[b++]=255&J,p[b++]=J>>8&255,p[b++]=ie,p[b++]=0),p[b++]=44,p[b++]=255&D,p[b++]=D>>8&255,p[b++]=255&N,p[b++]=N>>8&255,p[b++]=255&U,p[b++]=U>>8&255,p[b++]=255&X,p[b++]=X>>8&255,p[b++]=W===!0?128|L-1:0,W===!0)for(var ne=0,Z=Q.length;ne<Z;++ne){var H=Q[ne];p[b++]=H>>16&255,p[b++]=H>>8&255,p[b++]=255&H}return b=function(z,ee,se,le){z[ee++]=se;var ue=ee++,_e=1<<se,Te=_e-1,me=1+_e,Se=1+me,ve=se+1,fe=0,ye=0;function Ae(Xe){for(;Xe<=fe;)z[ee++]=255&ye,ye>>=8,fe-=8,ee===ue+256&&(z[ue]=255,ue=ee++)}function Ne(Xe){ye|=Xe<<fe,fe+=ve,Ae(8)}var re=le[0]&Te,ae={};Ne(_e);for(var ce=1,Ee=le.length;ce<Ee;++ce){var xe=le[ce]&Te,Ie=re<<8|xe,Fe=ae[Ie];if(Fe===void 0){for(ye|=re<<fe,fe+=ve;8<=fe;)z[ee++]=255&ye,ye>>=8,fe-=8,ee===ue+256&&(z[ue]=255,ue=ee++);Se===4096?(Ne(_e),Se=1+me,ve=se+1,ae={}):(1<<ve<=Se&&++ve,ae[Ie]=Se++),re=xe}else re=Fe}return Ne(re),Ne(me),Ae(1),ue+1===ee?z[ue]=0:(z[ue]=ee-ue-1,z[ee++]=0),ee}(p,b,L<2?2:L,V)},this.end=function(){return R===!1&&(p[b++]=59,R=!0),b},this.getOutputBuffer=function(){return p},this.setOutputBuffer=function(D){p=D},this.getOutputBufferPosition=function(){return b},this.setOutputBufferPosition=function(D){b=D}}function _(p,x,E,A){for(var b=p[x++],k=1<<b,S=1+k,T=1+S,P=b+1,C=(1<<P)-1,M=0,j=0,I=0,O=p[x++],R=new Int32Array(4096),D=null;;){for(;M<16&&O!==0;)j|=p[x++]<<M,M+=8,O===1?O=p[x++]:--O;if(M<P)break;var N=j&C;if(j>>=P,M-=P,N==k)T=1+S,C=(1<<(P=b+1))-1,D=null;else{if(N==S)break;for(var U=N<T?N:D,X=0,V=U;k<V;)V=R[V]>>8,++X;var K=V;if(A<I+X+(U!==N?1:0))return void console.log("Warning, gif stream longer than expected.");E[I++]=K;var W=I+=X;for(U!==N&&(E[I++]=K),V=U;X--;)V=R[V],E[--W]=255&V,V>>=8;D!==null&&T<4096&&(R[T++]=D<<8|K,C+1<=T&&P<12&&(++P,C=C<<1|1)),D=N}}I!==A&&console.log("Warning, gif stream shorter than expected.")}try{y.GifWriter=m,y.GifReader=function(p){var x=0;if(p[x++]!==71||p[x++]!==73||p[x++]!==70||p[x++]!==56||(p[x++]+1&253)!=56||p[x++]!==97)throw new Error("Invalid GIF 87a/89a header.");var E=p[x++]|p[x++]<<8,A=p[x++]|p[x++]<<8,b=p[x++],k=1<<1+(7&b),S=(p[x++],p[x++],null),T=null,P=(b>>7&&(S=x,x+=3*(T=k)),!0),C=[],M=0,j=null,I=0,O=null;for(this.width=E,this.height=A;P&&x<p.length;)switch(p[x++]){case 33:switch(p[x++]){case 255:if(p[x]!==11||p[x+1]==78&&p[x+2]==69&&p[x+3]==84&&p[x+4]==83&&p[x+5]==67&&p[x+6]==65&&p[x+7]==80&&p[x+8]==69&&p[x+9]==50&&p[x+10]==46&&p[x+11]==48&&p[x+12]==3&&p[x+13]==1&&p[x+16]==0)x+=14,O=p[x++]|p[x++]<<8,x++;else for(x+=12;;){if(!(0<=(D=p[x++])))throw Error("Invalid block size");if(D===0)break;x+=D}break;case 249:if(p[x++]!==4||p[x+4]!==0)throw new Error("Invalid graphics extension block.");var R=p[x++],M=p[x++]|p[x++]<<8,j=p[x++];!(1&R)&&(j=null),I=R>>2&7,x++;break;case 254:for(;;){if(!(0<=(D=p[x++])))throw Error("Invalid block size");if(D===0)break;x+=D}break;default:throw new Error("Unknown graphic control label: 0x"+p[x-1].toString(16))}break;case 44:var D,N=p[x++]|p[x++]<<8,U=p[x++]|p[x++]<<8,X=p[x++]|p[x++]<<8,V=p[x++]|p[x++]<<8,J=p[x++],K=J>>6&1,W=1<<1+(7&J),Q=S,L=T,G=!1,J=(J>>7&&(G=!0,Q=x,x+=3*(L=W)),x);for(x++;;){if(!(0<=(D=p[x++])))throw Error("Invalid block size");if(D===0)break;x+=D}C.push({x:N,y:U,width:X,height:V,has_local_palette:G,palette_offset:Q,palette_size:L,data_offset:J,data_length:x-J,transparent_index:j,interlaced:!!K,delay:M,disposal:I});break;case 59:P=!1;break;default:throw new Error("Unknown gif block: 0x"+p[x-1].toString(16))}this.numFrames=function(){return C.length},this.loopCount=function(){return O},this.frameInfo=function(B){if(B<0||B>=C.length)throw new Error("Frame index out of range.");return C[B]},this.decodeAndBlitFrameBGRA=function(B,Y){for(var B=this.frameInfo(B),ie=B.width*B.height,ne=new Uint8Array(ie),Z=(_(p,B.data_offset,ne,ie),B.palette_offset),H=B.transparent_index,z=(H===null&&(H=256),B.width),ee=E-z,se=z,le=4*(B.y*E+B.x),ue=4*((B.y+B.height)*E+B.x),_e=le,Te=4*ee,me=(B.interlaced===!0&&(Te+=4*E*7),8),Se=0,ve=ne.length;Se<ve;++Se){var fe,ye,Ae=ne[Se];se===0&&(se=z,ue<=(_e+=Te)&&(Te=4*ee+4*E*(me-1),_e=le+(z+ee)*(me<<1),me>>=1)),Ae===H?_e+=4:(fe=p[Z+3*Ae],ye=p[Z+3*Ae+1],Ae=p[Z+3*Ae+2],Y[_e++]=Ae,Y[_e++]=ye,Y[_e++]=fe,Y[_e++]=255),--se}},this.decodeAndBlitFrameRGBA=function(B,Y){for(var B=this.frameInfo(B),ie=B.width*B.height,ne=new Uint8Array(ie),Z=(_(p,B.data_offset,ne,ie),B.palette_offset),H=B.transparent_index,z=(H===null&&(H=256),B.width),ee=E-z,se=z,le=4*(B.y*E+B.x),ue=4*((B.y+B.height)*E+B.x),_e=le,Te=4*ee,me=(B.interlaced===!0&&(Te+=4*E*7),8),Se=0,ve=ne.length;Se<ve;++Se){var fe,ye,Ae=ne[Se];se===0&&(se=z,ue<=(_e+=Te)&&(Te=4*ee+4*E*(me-1),_e=le+(z+ee)*(me<<1),me>>=1)),Ae===H?_e+=4:(fe=p[Z+3*Ae],ye=p[Z+3*Ae+1],Ae=p[Z+3*Ae+2],Y[_e++]=fe,Y[_e++]=ye,Y[_e++]=Ae,Y[_e++]=255),--se}}}}catch{}},{}],249:[function(c,g,y){(function(m){var _,p;_=this,p=function(x){function E(oe){if(this==null)throw TypeError();var q,$=String(this),te=$.length,oe=oe?Number(oe):0;if(!((oe=oe!=oe?0:oe)<0||te<=oe))return 55296<=(q=$.charCodeAt(oe))&&q<=56319&&oe+1<te&&56320<=(te=$.charCodeAt(oe+1))&&te<=57343?1024*(q-55296)+te-56320+65536:q}String.prototype.codePointAt||((A=function(){try{var F={},q=Object.defineProperty,$=q(F,F,F)&&q}catch{}return $}())?A(String.prototype,"codePointAt",{value:E,configurable:!0,writable:!0}):String.prototype.codePointAt=E);var A,b=0,k=-3;function S(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function T(F,q){this.source=F,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=q,this.destLen=0,this.ltree=new S,this.dtree=new S}var P=new S,C=new S,M=new Uint8Array(30),j=new Uint16Array(30),I=new Uint8Array(30),O=new Uint16Array(30),R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),D=new S,N=new Uint8Array(320);function U(F,q,$,te){for(var oe,he=0;he<$;++he)F[he]=0;for(he=0;he<30-$;++he)F[he+$]=he/$|0;for(oe=te,he=0;he<30;++he)q[he]=oe,oe+=1<<F[he]}var X=new Uint16Array(16);function V(F,q,$,te){for(var oe,he=0;he<16;++he)F.table[he]=0;for(he=0;he<te;++he)F.table[q[$+he]]++;for(he=oe=F.table[0]=0;he<16;++he)X[he]=oe,oe+=F.table[he];for(he=0;he<te;++he)q[$+he]&&(F.trans[X[q[$+he]]++]=he)}function K(F,q,$){if(!q)return $;for(;F.bitcount<24;)F.tag|=F.source[F.sourceIndex++]<<F.bitcount,F.bitcount+=8;var te=F.tag&65535>>>16-q;return F.tag>>>=q,F.bitcount-=q,te+$}function W(F,q){for(;F.bitcount<24;)F.tag|=F.source[F.sourceIndex++]<<F.bitcount,F.bitcount+=8;for(var $=0,te=0,oe=0,he=F.tag;te=2*te+(1&he),he>>>=1,$+=q.table[++oe],0<=(te-=q.table[oe]););return F.tag=he,F.bitcount-=oe,q.trans[$+te]}function Q(F,q,$){for(;;){var te=W(F,q);if(te===256)return b;if(te<256)F.dest[F.destLen++]=te;else for(var oe,he=K(F,M[te-=257],j[te]),te=W(F,$),de=oe=F.destLen-K(F,I[te],O[te]);de<oe+he;++de)F.dest[F.destLen++]=F.dest[de]}}for(var L=P,G=C,J=0;J<7;++J)L.table[J]=0;for(L.table[7]=24,L.table[8]=152,L.table[9]=112,J=0;J<24;++J)L.trans[J]=256+J;for(J=0;J<144;++J)L.trans[24+J]=J;for(J=0;J<8;++J)L.trans[168+J]=280+J;for(J=0;J<112;++J)L.trans[176+J]=144+J;for(J=0;J<5;++J)G.table[J]=0;for(G.table[5]=32,J=0;J<32;++J)G.trans[J]=J;U(M,j,4,3),U(I,O,2,1),M[28]=0,j[28]=258;var B=function(F,q){var $,te,oe,he=new T(F,q);do{switch(oe=void 0,(te=he).bitcount--||(te.tag=te.source[te.sourceIndex++],te.bitcount=7),oe=1&te.tag,te.tag>>>=1,te=oe,K(he,2,0)){case 0:$=function(ze){for(var ut,gt;8<ze.bitcount;)ze.sourceIndex--,ze.bitcount-=8;if((ut=256*ze.source[ze.sourceIndex+1]+ze.source[ze.sourceIndex])!==(65535&~(256*ze.source[ze.sourceIndex+3]+ze.source[ze.sourceIndex+2])))return k;for(ze.sourceIndex+=4,gt=ut;gt;--gt)ze.dest[ze.destLen++]=ze.source[ze.sourceIndex++];return ze.bitcount=0,b}(he);break;case 1:$=Q(he,P,C);break;case 2:Ye=We=Ke=Ge=de=Pe=Le=Ue=Re=Ce=je=be=void 0;for(var de,be=he,je=he.ltree,Ce=he.dtree,Re=K(be,5,257),Ue=K(be,5,1),Le=K(be,4,4),Pe=0;Pe<19;++Pe)N[Pe]=0;for(Pe=0;Pe<Le;++Pe){var Ke=K(be,3,0);N[R[Pe]]=Ke}for(V(D,N,0,19),de=0;de<Re+Ue;){var We=W(be,D);switch(We){case 16:for(var Ye=N[de-1],Ge=K(be,2,3);Ge;--Ge)N[de++]=Ye;break;case 17:for(Ge=K(be,3,3);Ge;--Ge)N[de++]=0;break;case 18:for(Ge=K(be,7,11);Ge;--Ge)N[de++]=0;break;default:N[de++]=We}}V(je,N,0,Re),V(Ce,N,Re,Ue),$=Q(he,he.ltree,he.dtree);break;default:$=k}if($!==b)throw new Error("Data error")}while(!te);return he.destLen<he.dest.length?typeof he.dest.slice=="function"?he.dest.slice(0,he.destLen):he.dest.subarray(0,he.destLen):he.dest};function Y(F,q,$,te,oe){return Math.pow(1-oe,3)*F+3*Math.pow(1-oe,2)*oe*q+3*(1-oe)*Math.pow(oe,2)*$+Math.pow(oe,3)*te}function ie(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ne(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Z(F){throw new Error(F)}function H(F,q){F||Z(q)}ie.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ie.prototype.addPoint=function(F,q){typeof F=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=F,this.x2=F),F<this.x1&&(this.x1=F),F>this.x2&&(this.x2=F)),typeof q=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=q,this.y2=q),q<this.y1&&(this.y1=q),q>this.y2&&(this.y2=q))},ie.prototype.addX=function(F){this.addPoint(F,null)},ie.prototype.addY=function(F){this.addPoint(null,F)},ie.prototype.addBezier=function(F,q,$,te,oe,he,de,be){var je=[F,q],Ce=[$,te],Re=[oe,he],Ue=[de,be];this.addPoint(F,q),this.addPoint(de,be);for(var Le=0;Le<=1;Le++){var Pe,Ke=6*je[Le]-12*Ce[Le]+6*Re[Le],We=-3*je[Le]+9*Ce[Le]-9*Re[Le]+3*Ue[Le],Ye=3*Ce[Le]-3*je[Le];We==0?Ke==0||0<(Pe=-Ye/Ke)&&Pe<1&&(Le===0&&this.addX(Y(je[Le],Ce[Le],Re[Le],Ue[Le],Pe)),Le===1&&this.addY(Y(je[Le],Ce[Le],Re[Le],Ue[Le],Pe))):(Pe=Math.pow(Ke,2)-4*Ye*We)<0||(0<(Ye=(-Ke+Math.sqrt(Pe))/(2*We))&&Ye<1&&(Le===0&&this.addX(Y(je[Le],Ce[Le],Re[Le],Ue[Le],Ye)),Le===1&&this.addY(Y(je[Le],Ce[Le],Re[Le],Ue[Le],Ye))),0<(Ye=(-Ke-Math.sqrt(Pe))/(2*We))&&Ye<1&&(Le===0&&this.addX(Y(je[Le],Ce[Le],Re[Le],Ue[Le],Ye)),Le===1&&this.addY(Y(je[Le],Ce[Le],Re[Le],Ue[Le],Ye))))}},ie.prototype.addQuad=function(F,q,$,te,oe,he){$=F+2/3*($-F),te=q+2/3*(te-q),this.addBezier(F,q,$,te,$+1/3*(oe-F),te+1/3*(he-q),oe,he)},ne.prototype.moveTo=function(F,q){this.commands.push({type:"M",x:F,y:q})},ne.prototype.lineTo=function(F,q){this.commands.push({type:"L",x:F,y:q})},ne.prototype.curveTo=ne.prototype.bezierCurveTo=function(F,q,$,te,oe,he){this.commands.push({type:"C",x1:F,y1:q,x2:$,y2:te,x:oe,y:he})},ne.prototype.quadTo=ne.prototype.quadraticCurveTo=function(F,q,$,te){this.commands.push({type:"Q",x1:F,y1:q,x:$,y:te})},ne.prototype.close=ne.prototype.closePath=function(){this.commands.push({type:"Z"})},ne.prototype.extend=function(F){var q;if(F.commands)F=F.commands;else if(F instanceof ie)return q=F,this.moveTo(q.x1,q.y1),this.lineTo(q.x2,q.y1),this.lineTo(q.x2,q.y2),this.lineTo(q.x1,q.y2),void this.close();Array.prototype.push.apply(this.commands,F)},ne.prototype.getBoundingBox=function(){for(var F=new ie,q=0,$=0,te=0,oe=0,he=0;he<this.commands.length;he++){var de=this.commands[he];switch(de.type){case"M":F.addPoint(de.x,de.y),q=te=de.x,$=oe=de.y;break;case"L":F.addPoint(de.x,de.y),te=de.x,oe=de.y;break;case"Q":F.addQuad(te,oe,de.x1,de.y1,de.x,de.y),te=de.x,oe=de.y;break;case"C":F.addBezier(te,oe,de.x1,de.y1,de.x2,de.y2,de.x,de.y),te=de.x,oe=de.y;break;case"Z":te=q,oe=$;break;default:throw new Error("Unexpected path command "+de.type)}}return F.isEmpty()&&F.addPoint(0,0),F},ne.prototype.draw=function(F){F.beginPath();for(var q=0;q<this.commands.length;q+=1){var $=this.commands[q];$.type==="M"?F.moveTo($.x,$.y):$.type==="L"?F.lineTo($.x,$.y):$.type==="C"?F.bezierCurveTo($.x1,$.y1,$.x2,$.y2,$.x,$.y):$.type==="Q"?F.quadraticCurveTo($.x1,$.y1,$.x,$.y):$.type==="Z"&&F.closePath()}this.fill&&(F.fillStyle=this.fill,F.fill()),this.stroke&&(F.strokeStyle=this.stroke,F.lineWidth=this.strokeWidth,F.stroke())},ne.prototype.toPathData=function(F){function q(){for(var he=arguments,de="",be=0;be<arguments.length;be+=1){var je=he[be];0<=je&&0<be&&(de+=" "),de+=(je=je,Math.round(je)===je?""+Math.round(je):je.toFixed(F))}return de}F=F!==void 0?F:2;for(var $="",te=0;te<this.commands.length;te+=1){var oe=this.commands[te];oe.type==="M"?$+="M"+q(oe.x,oe.y):oe.type==="L"?$+="L"+q(oe.x,oe.y):oe.type==="C"?$+="C"+q(oe.x1,oe.y1,oe.x2,oe.y2,oe.x,oe.y):oe.type==="Q"?$+="Q"+q(oe.x1,oe.y1,oe.x,oe.y):oe.type==="Z"&&($+="Z")}return $},ne.prototype.toSVG=function(F){var q=(q='<path d="')+this.toPathData(F)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?q+=' fill="none"':q+=' fill="'+this.fill+'"'),this.stroke&&(q+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),q+="/>"},ne.prototype.toDOMElement=function(q){var q=this.toPathData(q),$=document.createElementNS("http://www.w3.org/2000/svg","path");return $.setAttribute("d",q),$};var z={fail:Z,argument:H,assert:H},ee={},se={},le={};function ue(F){return function(){return F}}se.BYTE=function(F){return z.argument(0<=F&&F<=255,"Byte value should be between 0 and 255."),[F]},le.BYTE=ue(1),se.CHAR=function(F){return[F.charCodeAt(0)]},le.CHAR=ue(1),se.CHARARRAY=function(F){for(var q=[],$=0;$<F.length;$+=1)q[$]=F.charCodeAt($);return q},le.CHARARRAY=function(F){return F.length},se.USHORT=function(F){return[F>>8&255,255&F]},le.USHORT=ue(2),se.SHORT=function(F){return[(F=32768<=F?-(65536-F):F)>>8&255,255&F]},le.SHORT=ue(2),se.UINT24=function(F){return[F>>16&255,F>>8&255,255&F]},le.UINT24=ue(3),se.ULONG=function(F){return[F>>24&255,F>>16&255,F>>8&255,255&F]},le.ULONG=ue(4),se.LONG=function(F){return[(F=2147483648<=F?-(4294967296-F):F)>>24&255,F>>16&255,F>>8&255,255&F]},le.LONG=ue(4),se.FIXED=se.ULONG,le.FIXED=le.ULONG,se.FWORD=se.SHORT,le.FWORD=le.SHORT,se.UFWORD=se.USHORT,le.UFWORD=le.USHORT,se.LONGDATETIME=function(F){return[0,0,0,0,F>>24&255,F>>16&255,F>>8&255,255&F]},le.LONGDATETIME=ue(8),se.TAG=function(F){return z.argument(F.length===4,"Tag should be exactly 4 ASCII characters."),[F.charCodeAt(0),F.charCodeAt(1),F.charCodeAt(2),F.charCodeAt(3)]},le.TAG=ue(4),se.Card8=se.BYTE,le.Card8=le.BYTE,se.Card16=se.USHORT,le.Card16=le.USHORT,se.OffSize=se.BYTE,le.OffSize=le.BYTE,se.SID=se.USHORT,le.SID=le.USHORT,se.NUMBER=function(F){return-107<=F&&F<=107?[F+139]:108<=F&&F<=1131?[247+((F-=108)>>8),255&F]:-1131<=F&&F<=-108?[251+((F=-F-108)>>8),255&F]:-32768<=F&&F<=32767?se.NUMBER16(F):se.NUMBER32(F)},le.NUMBER=function(F){return se.NUMBER(F).length},se.NUMBER16=function(F){return[28,F>>8&255,255&F]},le.NUMBER16=ue(3),se.NUMBER32=function(F){return[29,F>>24&255,F>>16&255,F>>8&255,255&F]},le.NUMBER32=ue(5),se.REAL=function(F){for(var q=F.toString(),$=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(q),te=($&&($=parseFloat("1e"+(($[2]?+$[2]:0)+$[1].length)),q=(Math.round(F*$)/$).toString()),""),oe=0,he=q.length;oe<he;oe+=1){var de=q[oe];te+=de==="e"?q[++oe]==="-"?"c":"b":de==="."?"a":de==="-"?"e":de}for(var be=[30],je=0,Ce=(te+=1&te.length?"f":"ff").length;je<Ce;je+=2)be.push(parseInt(te.substr(je,2),16));return be},le.REAL=function(F){return se.REAL(F).length},se.NAME=se.CHARARRAY,le.NAME=le.CHARARRAY,se.STRING=se.CHARARRAY,le.STRING=le.CHARARRAY,ee.UTF8=function(F,q,$){for(var te=[],oe=$,he=0;he<oe;he++,q+=1)te[he]=F.getUint8(q);return String.fromCharCode.apply(null,te)},ee.UTF16=function(F,q,$){for(var te=[],oe=$/2,he=0;he<oe;he++,q+=2)te[he]=F.getUint16(q);return String.fromCharCode.apply(null,te)},se.UTF16=function(F){for(var q=[],$=0;$<F.length;$+=1){var te=F.charCodeAt($);q[q.length]=te>>8&255,q[q.length]=255&te}return q},le.UTF16=function(F){return 2*F.length};var _e,Te={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},me=(ee.MACSTRING=function(F,q,$,te){var oe=Te[te];if(oe!==void 0){for(var he="",de=0;de<$;de++){var be=F.getUint8(q+de);he+=be<=127?String.fromCharCode(be):oe[127&be]}return he}},typeof WeakMap=="function"&&new WeakMap);function Se(F){return-128<=F&&F<=127}se.MACSTRING=function(F,q){var $=function(de){if(!_e)for(var be in _e={},Te)_e[be]=new String(be);var je=_e[de];if(je!==void 0){if(me){var Ce=me.get(je);if(Ce!==void 0)return Ce}var Re=Te[de];if(Re!==void 0){for(var Ue={},Le=0;Le<Re.length;Le++)Ue[Re.charCodeAt(Le)]=Le+128;return me&&me.set(je,Ue),Ue}}}(q);if($!==void 0){for(var te=[],oe=0;oe<F.length;oe++){var he=F.charCodeAt(oe);if(128<=he&&(he=$[he])===void 0)return;te[oe]=he}return te}},le.MACSTRING=function(F,q){return F=se.MACSTRING(F,q),F!==void 0?F.length:0},se.VARDELTAS=function(F){for(var te=0,q=[];te<F.length;)var $=F[te],te=($===0?function(oe,he,de){for(var be=0,je=oe.length;he<je&&be<64&&oe[he]===0;)++he,++be;return de.push(128|be-1),he}:-128<=$&&$<=127?function(oe,he,de){for(var be=0,je=oe.length,Ce=he;Ce<je&&be<64;){var Re=oe[Ce];if(!Se(Re)||Re===0&&Ce+1<je&&oe[Ce+1]===0)break;++Ce,++be}de.push(be-1);for(var Ue=he;Ue<Ce;++Ue)de.push(oe[Ue]+256&255);return Ce}:function(oe,he,de){for(var be=0,je=oe.length,Ce=he;Ce<je&&be<64;){var Re=oe[Ce];if(Re===0||Se(Re)&&Ce+1<je&&Se(oe[Ce+1]))break;++Ce,++be}de.push(64|be-1);for(var Ue=he;Ue<Ce;++Ue){var Le=oe[Ue];de.push(Le+65536>>8&255,Le+256&255)}return Ce})(F,te,q);return q},se.INDEX=function(F){for(var q=1,$=[q],te=[],oe=0;oe<F.length;oe+=1){var he=se.OBJECT(F[oe]);Array.prototype.push.apply(te,he),q+=he.length,$.push(q)}if(te.length===0)return[0,0];for(var de=[],be=1+Math.floor(Math.log(q)/Math.log(2))/8|0,je=[void 0,se.BYTE,se.USHORT,se.UINT24,se.ULONG][be],Ce=0;Ce<$.length;Ce+=1){var Re=je($[Ce]);Array.prototype.push.apply(de,Re)}return Array.prototype.concat(se.Card16(F.length),se.OffSize(be),de,te)},le.INDEX=function(F){return se.INDEX(F).length},se.DICT=function(F){for(var q=[],$=Object.keys(F),te=$.length,oe=0;oe<te;oe+=1){var he=parseInt($[oe],0),de=F[he];q=(q=q.concat(se.OPERAND(de.value,de.type))).concat(se.OPERATOR(he))}return q},le.DICT=function(F){return se.DICT(F).length},se.OPERATOR=function(F){return F<1200?[F]:[12,F-1200]},se.OPERAND=function(F,q){var $=[];if(Array.isArray(q))for(var te=0;te<q.length;te+=1)z.argument(F.length===q.length,"Not enough arguments given for type"+q),$=$.concat(se.OPERAND(F[te],q[te]));else if(q==="SID")$=$.concat(se.NUMBER(F));else if(q==="offset")$=$.concat(se.NUMBER32(F));else if(q==="number")$=$.concat(se.NUMBER(F));else{if(q!=="real")throw new Error("Unknown operand type "+q);$=$.concat(se.REAL(F))}return $},se.OP=se.BYTE,le.OP=le.BYTE;var ve=typeof WeakMap=="function"&&new WeakMap;function fe(F,q,$){for(var te=0;te<q.length;te+=1){var oe=q[te];this[oe.name]=oe.value}if(this.tableName=F,this.fields=q,$)for(var he=Object.keys($),de=0;de<he.length;de+=1){var be=he[de],je=$[be];this[be]!==void 0&&(this[be]=je)}}function ye(F,q,$){$===void 0&&($=q.length);var te=new Array(q.length+1);te[0]={name:F+"Count",type:"USHORT",value:$};for(var oe=0;oe<q.length;oe++)te[oe+1]={name:F+oe,type:"USHORT",value:q[oe]};return te}function Ae(F,q,$){var te=q.length,oe=new Array(te+1);oe[0]={name:F+"Count",type:"USHORT",value:te};for(var he=0;he<te;he++)oe[he+1]={name:F+he,type:"TABLE",value:$(q[he],he)};return oe}function Ne(F,q,$){var te=q.length,oe=[];oe[0]={name:F+"Count",type:"USHORT",value:te};for(var he=0;he<te;he++)oe=oe.concat($(q[he],he));return oe}function re(F){F.format===1?fe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ye("glyph",F.glyphs))):z.assert(!1,"Can't create coverage table format 2 yet.")}function ae(F){fe.call(this,"scriptListTable",Ne("scriptRecord",F,function(q,$){var te=q.script,oe=te.defaultLangSys;return z.assert(!!oe,"Unable to write GSUB: script "+q.tag+" has no default language system."),[{name:"scriptTag"+$,type:"TAG",value:q.tag},{name:"script"+$,type:"TABLE",value:new fe("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new fe("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:oe.reqFeatureIndex}].concat(ye("featureIndex",oe.featureIndexes)))}].concat(Ne("langSys",te.langSysRecords,function(he,de){var be=he.langSys;return[{name:"langSysTag"+de,type:"TAG",value:he.tag},{name:"langSys"+de,type:"TABLE",value:new fe("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:be.reqFeatureIndex}].concat(ye("featureIndex",be.featureIndexes)))}]})))}]}))}function ce(F){fe.call(this,"featureListTable",Ne("featureRecord",F,function(q,$){var te=q.feature;return[{name:"featureTag"+$,type:"TAG",value:q.tag},{name:"feature"+$,type:"TABLE",value:new fe("featureTable",[{name:"featureParams",type:"USHORT",value:te.featureParams}].concat(ye("lookupListIndex",te.lookupListIndexes)))}]}))}function Ee(F,q){fe.call(this,"lookupListTable",Ae("lookup",F,function($){var te=q[$.lookupType];return z.assert(!!te,"Unable to write GSUB lookup type "+$.lookupType+" tables."),new fe("lookupTable",[{name:"lookupType",type:"USHORT",value:$.lookupType},{name:"lookupFlag",type:"USHORT",value:$.lookupFlag}].concat(Ae("subtable",$.subtables,te)))}))}se.CHARSTRING=function(F){if(ve){var q=ve.get(F);if(q!==void 0)return q}for(var he=[],$=F.length,te=0;te<$;te+=1)var oe=F[te],he=he.concat(se[oe.type](oe.value));return ve&&ve.set(F,he),he},le.CHARSTRING=function(F){return se.CHARSTRING(F).length},se.OBJECT=function(F){var q=se[F.type];return z.argument(q!==void 0,"No encoding function for type "+F.type),q(F.value)},le.OBJECT=function(F){var q=le[F.type];return z.argument(q!==void 0,"No sizeOf function for type "+F.type),q(F.value)},se.TABLE=function(F){for(var q=[],$=F.fields.length,te=[],oe=[],he=0;he<$;he+=1){var de=F.fields[he],je=se[de.type],be=(z.argument(je!==void 0,"No encoding function for field type "+de.type+" ("+de.name+")"),F[de.name]),je=je(be=be===void 0?de.value:be);de.type==="TABLE"?(oe.push(q.length),q=q.concat([0,0]),te.push(je)):q=q.concat(je)}for(var Ce=0;Ce<te.length;Ce+=1){var Re=oe[Ce],Ue=q.length;z.argument(Ue<65536,"Table "+F.tableName+" too big."),q[Re]=Ue>>8,q[Re+1]=255&Ue,q=q.concat(te[Ce])}return q},le.TABLE=function(F){for(var q=0,$=F.fields.length,te=0;te<$;te+=1){var oe=F.fields[te],he=le[oe.type],de=(z.argument(he!==void 0,"No sizeOf function for field type "+oe.type+" ("+oe.name+")"),F[oe.name]);q+=he(de=de===void 0?oe.value:de),oe.type==="TABLE"&&(q+=2)}return q},se.RECORD=se.TABLE,le.RECORD=le.TABLE,se.LITERAL=function(F){return F},le.LITERAL=function(F){return F.length},fe.prototype.encode=function(){return se.TABLE(this)},fe.prototype.sizeOf=function(){return le.TABLE(this)};var xe={Table:fe,Record:fe,Coverage:(re.prototype=Object.create(fe.prototype)).constructor=re,ScriptList:(ae.prototype=Object.create(fe.prototype)).constructor=ae,FeatureList:(ce.prototype=Object.create(fe.prototype)).constructor=ce,LookupList:(Ee.prototype=Object.create(fe.prototype)).constructor=Ee,ushortList:ye,tableList:Ae,recordList:Ne};function Ie(F,q){return F.getUint8(q)}function Fe(F,q){return F.getUint16(q,!1)}function Xe(F,q){return F.getUint32(q,!1)}function Ze(F,q){return F.getInt16(q,!1)+F.getUint16(q+2,!1)/65535}var Je={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Oe(F,q){this.data=F,this.offset=q,this.relativeOffset=0}Oe.prototype.parseByte=function(){var F=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,F},Oe.prototype.parseChar=function(){var F=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,F},Oe.prototype.parseCard8=Oe.prototype.parseByte,Oe.prototype.parseCard16=Oe.prototype.parseUShort=function(){var F=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,F},Oe.prototype.parseSID=Oe.prototype.parseUShort,Oe.prototype.parseOffset16=Oe.prototype.parseUShort,Oe.prototype.parseShort=function(){var F=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,F},Oe.prototype.parseF2Dot14=function(){var F=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,F},Oe.prototype.parseOffset32=Oe.prototype.parseULong=function(){var F=Xe(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,F},Oe.prototype.parseFixed=function(){var F=Ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,F},Oe.prototype.parseString=function(F){var q=this.data,$=this.offset+this.relativeOffset,te="";this.relativeOffset+=F;for(var oe=0;oe<F;oe++)te+=String.fromCharCode(q.getUint8($+oe));return te},Oe.prototype.parseTag=function(){return this.parseString(4)},Oe.prototype.parseLongDateTime=function(){var F=Xe(this.data,this.offset+this.relativeOffset+4);return F-=2082844800,this.relativeOffset+=8,F},Oe.prototype.parseVersion=function(F){var q=Fe(this.data,this.offset+this.relativeOffset),$=Fe(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,q+$/(F=F===void 0?4096:F)/10},Oe.prototype.skip=function(F,q){this.relativeOffset+=Je[F]*(q=q===void 0?1:q)},Oe.prototype.parseULongList=function(F){F===void 0&&(F=this.parseULong());for(var q=new Array(F),$=this.data,te=this.offset+this.relativeOffset,oe=0;oe<F;oe++)q[oe]=$.getUint32(te),te+=4;return this.relativeOffset+=4*F,q},Oe.prototype.parseOffset16List=Oe.prototype.parseUShortList=function(F){F===void 0&&(F=this.parseUShort());for(var q=new Array(F),$=this.data,te=this.offset+this.relativeOffset,oe=0;oe<F;oe++)q[oe]=$.getUint16(te),te+=2;return this.relativeOffset+=2*F,q},Oe.prototype.parseShortList=function(F){for(var q=new Array(F),$=this.data,te=this.offset+this.relativeOffset,oe=0;oe<F;oe++)q[oe]=$.getInt16(te),te+=2;return this.relativeOffset+=2*F,q},Oe.prototype.parseByteList=function(F){for(var q=new Array(F),$=this.data,te=this.offset+this.relativeOffset,oe=0;oe<F;oe++)q[oe]=$.getUint8(te++);return this.relativeOffset+=F,q},Oe.prototype.parseList=function(F,q){q||(q=F,F=this.parseUShort());for(var $=new Array(F),te=0;te<F;te++)$[te]=q.call(this);return $},Oe.prototype.parseList32=function(F,q){q||(q=F,F=this.parseULong());for(var $=new Array(F),te=0;te<F;te++)$[te]=q.call(this);return $},Oe.prototype.parseRecordList=function(F,q){q||(q=F,F=this.parseUShort());for(var $=new Array(F),te=Object.keys(q),oe=0;oe<F;oe++){for(var he={},de=0;de<te.length;de++){var be=te[de],je=q[be];he[be]=je.call(this)}$[oe]=he}return $},Oe.prototype.parseRecordList32=function(F,q){q||(q=F,F=this.parseULong());for(var $=new Array(F),te=Object.keys(q),oe=0;oe<F;oe++){for(var he={},de=0;de<te.length;de++){var be=te[de],je=q[be];he[be]=je.call(this)}$[oe]=he}return $},Oe.prototype.parseStruct=function(F){if(typeof F=="function")return F.call(this);for(var q=Object.keys(F),$={},te=0;te<q.length;te++){var oe=q[te],he=F[oe];$[oe]=he.call(this)}return $},Oe.prototype.parseValueRecord=function(F){var q;if((F=F===void 0?this.parseUShort():F)!==0)return q={},1&F&&(q.xPlacement=this.parseShort()),2&F&&(q.yPlacement=this.parseShort()),4&F&&(q.xAdvance=this.parseShort()),8&F&&(q.yAdvance=this.parseShort()),16&F&&(q.xPlaDevice=void 0,this.parseShort()),32&F&&(q.yPlaDevice=void 0,this.parseShort()),64&F&&(q.xAdvDevice=void 0,this.parseShort()),128&F&&(q.yAdvDevice=void 0,this.parseShort()),q},Oe.prototype.parseValueRecordList=function(){for(var F=this.parseUShort(),q=this.parseUShort(),$=new Array(q),te=0;te<q;te++)$[te]=this.parseValueRecord(F);return $},Oe.prototype.parsePointer=function(F){var q=this.parseOffset16();if(0<q)return new Oe(this.data,this.offset+q).parseStruct(F)},Oe.prototype.parsePointer32=function(F){var q=this.parseOffset32();if(0<q)return new Oe(this.data,this.offset+q).parseStruct(F)},Oe.prototype.parseListOfLists=function(F){for(var q=this.parseOffset16List(),$=q.length,te=this.relativeOffset,oe=new Array($),he=0;he<$;he++){var de=q[he];if(de===0)oe[he]=void 0;else if(this.relativeOffset=de,F){for(var be=this.parseOffset16List(),je=new Array(be.length),Ce=0;Ce<be.length;Ce++)this.relativeOffset=de+be[Ce],je[Ce]=F.call(this);oe[he]=je}else oe[he]=this.parseUShortList()}return this.relativeOffset=te,oe},Oe.prototype.parseCoverage=function(){var F=this.offset+this.relativeOffset,q=this.parseUShort(),$=this.parseUShort();if(q===1)return{format:1,glyphs:this.parseUShortList($)};if(q!==2)throw new Error("0x"+F.toString(16)+": Coverage format must be 1 or 2.");for(var te=new Array($),oe=0;oe<$;oe++)te[oe]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:te}},Oe.prototype.parseClassDef=function(){var F=this.offset+this.relativeOffset,q=this.parseUShort();if(q===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(q===2)return{format:2,ranges:this.parseRecordList({start:Oe.uShort,end:Oe.uShort,classId:Oe.uShort})};throw new Error("0x"+F.toString(16)+": ClassDef format must be 1 or 2.")},Oe.list=function(F,q){return function(){return this.parseList(F,q)}},Oe.list32=function(F,q){return function(){return this.parseList32(F,q)}},Oe.recordList=function(F,q){return function(){return this.parseRecordList(F,q)}},Oe.recordList32=function(F,q){return function(){return this.parseRecordList32(F,q)}},Oe.pointer=function(F){return function(){return this.parsePointer(F)}},Oe.pointer32=function(F){return function(){return this.parsePointer32(F)}},Oe.tag=Oe.prototype.parseTag,Oe.byte=Oe.prototype.parseByte,Oe.uShort=Oe.offset16=Oe.prototype.parseUShort,Oe.uShortList=Oe.prototype.parseUShortList,Oe.uLong=Oe.offset32=Oe.prototype.parseULong,Oe.uLongList=Oe.prototype.parseULongList,Oe.struct=Oe.prototype.parseStruct,Oe.coverage=Oe.prototype.parseCoverage,Oe.classDef=Oe.prototype.parseClassDef;var qe={reserved:Oe.uShort,reqFeatureIndex:Oe.uShort,featureIndexes:Oe.uShortList},Ve=(Oe.prototype.parseScriptList=function(){return this.parsePointer(Oe.recordList({tag:Oe.tag,script:Oe.pointer({defaultLangSys:Oe.pointer(qe),langSysRecords:Oe.recordList({tag:Oe.tag,langSys:Oe.pointer(qe)})})}))||[]},Oe.prototype.parseFeatureList=function(){return this.parsePointer(Oe.recordList({tag:Oe.tag,feature:Oe.pointer({featureParams:Oe.offset16,lookupListIndexes:Oe.uShortList})}))||[]},Oe.prototype.parseLookupList=function(F){return this.parsePointer(Oe.list(Oe.pointer(function(){var q=this.parseUShort(),$=(z.argument(1<=q&&q<=9,"GPOS/GSUB lookup type "+q+" unknown."),this.parseUShort()),te=16&$;return{lookupType:q,lookupFlag:$,subtables:this.parseList(Oe.pointer(F[q])),markFilteringSet:te?this.parseUShort():void 0}})))||[]},Oe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var F=this.parseUShort(),q=this.parseUShort();return z.argument(F===1&&q<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Oe.offset32,featureTableSubstitutionOffset:Oe.offset32})})||[]},{getByte:Ie,getCard8:Ie,getUShort:Fe,getCard16:Fe,getShort:function(F,q){return F.getInt16(q,!1)},getULong:Xe,getFixed:Ze,getTag:function(F,q){for(var $="",te=q;te<q+4;te+=1)$+=String.fromCharCode(F.getInt8(te));return $},getOffset:function(F,q,$){for(var te=0,oe=0;oe<$;oe+=1)te=(te<<=8)+F.getUint8(q+oe);return te},getBytes:function(F,q,$){for(var te=[],oe=q;oe<$;oe+=1)te.push(F.getUint8(oe));return te},bytesToString:function(F){for(var q="",$=0;$<F.length;$+=1)q+=String.fromCharCode(F[$]);return q},Parser:Oe}),ge={parse:function(F,q){for(var $={},te=($.version=Ve.getUShort(F,q),z.argument($.version===0,"cmap table version should be 0."),$.numTables=Ve.getUShort(F,q+2),-1),oe=$.numTables-1;0<=oe;--oe){var he=Ve.getUShort(F,q+4+8*oe),de=Ve.getUShort(F,q+4+8*oe+2);if(he===3&&(de===0||de===1||de===10)||he===0&&(de===0||de===1||de===2||de===3||de===4)){te=Ve.getULong(F,q+4+8*oe+4);break}}if(te===-1)throw new Error("No valid cmap sub-tables found.");var be=new Ve.Parser(F,q+te);if($.format=be.parseUShort(),$.format===12){var je,Ce=$,Re=be;Re.parseUShort(),Ce.length=Re.parseULong(),Ce.language=Re.parseULong(),Ce.groupCount=je=Re.parseULong(),Ce.glyphIndexMap={};for(var Ue=0;Ue<je;Ue+=1)for(var Le=Re.parseULong(),Pe=Re.parseULong(),Ke=Re.parseULong(),We=Le;We<=Pe;We+=1)Ce.glyphIndexMap[We]=Ke,Ke++}else{if($.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+$.format+").");var Ye=$,Ge=F,ze=q,ut=te;Ye.length=be.parseUShort(),Ye.language=be.parseUShort(),Ye.segCount=gt=be.parseUShort()>>1,be.skip("uShort",3),Ye.glyphIndexMap={};for(var gt,ht=new Ve.Parser(Ge,ze+ut+14),dt=new Ve.Parser(Ge,ze+ut+16+2*gt),vt=new Ve.Parser(Ge,ze+ut+16+4*gt),jt=new Ve.Parser(Ge,ze+ut+16+6*gt),Dt=ze+ut+16+8*gt,Bt=0;Bt<gt-1;Bt+=1)for(var Zt=void 0,Kt=ht.parseUShort(),rr=dt.parseUShort(),At=vt.parseShort(),Mt=jt.parseUShort(),Et=rr;Et<=Kt;Et+=1)Mt!==0?(Dt=(Dt=jt.offset+jt.relativeOffset-2)+Mt+2*(Et-rr),(Zt=Ve.getUShort(Ge,Dt))!==0&&(Zt=Zt+At&65535)):Zt=Et+At&65535,Ye.glyphIndexMap[Et]=Zt}return $},make:function(F){for(var q=!0,$=F.length-1;0<$;--$)if(65535<F.get($).unicode){console.log("Adding CMAP format 12 (needed!)"),q=!1;break}var te,oe,he=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:q?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:q?12:20}],de=(he=(he=q?he:he.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new xe.Table("cmap",he));for(de.segments=[],$=0;$<F.length;$+=1){for(var be=F.get($),je=0;je<be.unicodes.length;je+=1)te=be.unicodes[je],oe=$,de.segments.push({end:te,start:te,delta:-(te-oe),offset:0,glyphIndex:oe});de.segments=de.segments.sort(function(ze,ut){return ze.start-ut.start})}de.segments.push({end:65535,start:65535,delta:1,offset:0});var Ce=de.segments.length,Re=0,Ue=[],Le=[],Pe=[],Ke=[],We=[],Ye=[];for($=0;$<Ce;$+=1){var Ge=de.segments[$];Ge.end<=65535&&Ge.start<=65535?(Ue=Ue.concat({name:"end_"+$,type:"USHORT",value:Ge.end}),Le=Le.concat({name:"start_"+$,type:"USHORT",value:Ge.start}),Pe=Pe.concat({name:"idDelta_"+$,type:"SHORT",value:Ge.delta}),Ke=Ke.concat({name:"idRangeOffset_"+$,type:"USHORT",value:Ge.offset}),Ge.glyphId!==void 0&&(We=We.concat({name:"glyph_"+$,type:"USHORT",value:Ge.glyphId}))):Re+=1,q||Ge.glyphIndex===void 0||(Ye=(Ye=(Ye=Ye.concat({name:"cmap12Start_"+$,type:"ULONG",value:Ge.start})).concat({name:"cmap12End_"+$,type:"ULONG",value:Ge.end})).concat({name:"cmap12Glyph_"+$,type:"ULONG",value:Ge.glyphIndex}))}return de.segCountX2=2*(Ce-Re),de.searchRange=2*Math.pow(2,Math.floor(Math.log(Ce-Re)/Math.log(2))),de.entrySelector=Math.log(de.searchRange/2)/Math.log(2),de.rangeShift=de.segCountX2-de.searchRange,de.fields=de.fields.concat(Ue),de.fields.push({name:"reservedPad",type:"USHORT",value:0}),de.fields=de.fields.concat(Le),de.fields=de.fields.concat(Pe),de.fields=de.fields.concat(Ke),de.fields=de.fields.concat(We),de.cmap4Length=14+2*Ue.length+2+2*Le.length+2*Pe.length+2*Ke.length+2*We.length,q||(he=16+4*Ye.length,de.cmap12Offset=20+de.cmap4Length,de.fields=de.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:he},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ye.length/3}]),de.fields=de.fields.concat(Ye)),de}},we=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ke=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],De=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Be(F){this.font=F}function He(F){this.cmap=F}function et(F,q){this.encoding=F,this.charset=q}function rt(F){switch(F.version){case 1:this.names=De.slice();break;case 2:this.names=new Array(F.numberOfGlyphs);for(var q=0;q<F.numberOfGlyphs;q++)F.glyphNameIndex[q]<De.length?this.names[q]=De[F.glyphNameIndex[q]]:this.names[q]=F.names[F.glyphNameIndex[q]-De.length];break;case 2.5:this.names=new Array(F.numberOfGlyphs);for(var $=0;$<F.numberOfGlyphs;$++)this.names[$]=De[$+F.glyphNameIndex[$]];break;default:this.names=[]}}Be.prototype.charToGlyphIndex=function(F){var q=F.codePointAt(0),$=this.font.glyphs;if($){for(var te=0;te<$.length;te+=1)for(var oe=$.get(te),he=0;he<oe.unicodes.length;he+=1)if(oe.unicodes[he]===q)return te}return null},He.prototype.charToGlyphIndex=function(F){return this.cmap.glyphIndexMap[F.codePointAt(0)]||0},et.prototype.charToGlyphIndex=function(F){return F=F.codePointAt(0),F=this.encoding[F],this.charset.indexOf(F)},rt.prototype.nameToGlyphIndex=function(F){return this.names.indexOf(F)},rt.prototype.glyphIndexToName=function(F){return this.names[F]};var nt={line:function(F,q,$,te,oe){F.beginPath(),F.moveTo(q,$),F.lineTo(te,oe),F.stroke()}};function it(F){this.bindConstructorValues(F)}function yt(F,q,$){Object.defineProperty(F,q,{get:function(){return F.path,F[$]},set:function(te){F[$]=te},enumerable:!0,configurable:!0})}function pt(F,q){if(this.font=F,this.glyphs={},Array.isArray(q))for(var $=0;$<q.length;$++)this.glyphs[$]=q[$];this.length=q&&q.length||0}it.prototype.bindConstructorValues=function(F){var q;this.index=F.index||0,this.name=F.name||null,this.unicode=F.unicode||void 0,this.unicodes=F.unicodes||F.unicode!==void 0?[F.unicode]:[],F.xMin&&(this.xMin=F.xMin),F.yMin&&(this.yMin=F.yMin),F.xMax&&(this.xMax=F.xMax),F.yMax&&(this.yMax=F.yMax),F.advanceWidth&&(this.advanceWidth=F.advanceWidth),Object.defineProperty(this,"path",(F=F.path,q=F||new ne,{configurable:!0,get:function(){return q=typeof q=="function"?q():q},set:function($){q=$}}))},it.prototype.addUnicode=function(F){this.unicodes.length===0&&(this.unicode=F),this.unicodes.push(F)},it.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},it.prototype.getPath=function(F,q,$,te,oe){F=F!==void 0?F:0,q=q!==void 0?q:0,$=$!==void 0?$:72;for(var he,de,be=(te=te||{}).xScale,je=te.yScale,Ce=((he=te.hinting&&oe&&oe.hinting?this.path&&oe.hinting.exec(this,$):he)?(de=oe.hinting.getCommands(he),F=Math.round(F),q=Math.round(q),be=je=1):(de=this.path.commands,te=1/this.path.unitsPerEm*$,be===void 0&&(be=te),je===void 0&&(je=te)),new ne),Re=0;Re<de.length;Re+=1){var Ue=de[Re];Ue.type==="M"?Ce.moveTo(F+Ue.x*be,q+-Ue.y*je):Ue.type==="L"?Ce.lineTo(F+Ue.x*be,q+-Ue.y*je):Ue.type==="Q"?Ce.quadraticCurveTo(F+Ue.x1*be,q+-Ue.y1*je,F+Ue.x*be,q+-Ue.y*je):Ue.type==="C"?Ce.curveTo(F+Ue.x1*be,q+-Ue.y1*je,F+Ue.x2*be,q+-Ue.y2*je,F+Ue.x*be,q+-Ue.y*je):Ue.type==="Z"&&Ce.closePath()}return Ce},it.prototype.getContours=function(){if(this.points===void 0)return[];for(var F=[],q=[],$=0;$<this.points.length;$+=1){var te=this.points[$];q.push(te),te.lastPointOfContour&&(F.push(q),q=[])}return z.argument(q.length===0,"There are still points left in the current contour."),F},it.prototype.getMetrics=function(){for(var F=this.path.commands,q=[],$=[],te=0;te<F.length;te+=1){var oe=F[te];oe.type!=="Z"&&(q.push(oe.x),$.push(oe.y)),oe.type!=="Q"&&oe.type!=="C"||(q.push(oe.x1),$.push(oe.y1)),oe.type==="C"&&(q.push(oe.x2),$.push(oe.y2))}var he={xMin:Math.min.apply(null,q),yMin:Math.min.apply(null,$),xMax:Math.max.apply(null,q),yMax:Math.max.apply(null,$),leftSideBearing:this.leftSideBearing};return isFinite(he.xMin)||(he.xMin=0),isFinite(he.xMax)||(he.xMax=this.advanceWidth),isFinite(he.yMin)||(he.yMin=0),isFinite(he.yMax)||(he.yMax=0),he.rightSideBearing=this.advanceWidth-he.leftSideBearing-(he.xMax-he.xMin),he},it.prototype.draw=function(F,q,$,te,oe){this.getPath(q,$,te,oe).draw(F)},it.prototype.drawPoints=function(F,q,$,te){function oe(Re,Ue,Le,Pe){var Ke=2*Math.PI;F.beginPath();for(var We=0;We<Re.length;We+=1)F.moveTo(Ue+Re[We].x*Pe,Le+Re[We].y*Pe),F.arc(Ue+Re[We].x*Pe,Le+Re[We].y*Pe,2,0,Ke,!1);F.closePath(),F.fill()}q=q!==void 0?q:0,$=$!==void 0?$:0;for(var te=1/this.path.unitsPerEm*(te=te!==void 0?te:24),he=[],de=[],be=this.path,je=0;je<be.commands.length;je+=1){var Ce=be.commands[je];Ce.x!==void 0&&he.push({x:Ce.x,y:-Ce.y}),Ce.x1!==void 0&&de.push({x:Ce.x1,y:-Ce.y1}),Ce.x2!==void 0&&de.push({x:Ce.x2,y:-Ce.y2})}F.fillStyle="blue",oe(he,q,$,te),F.fillStyle="red",oe(de,q,$,te)},it.prototype.drawMetrics=function(F,q,$,te){q=q!==void 0?q:0,$=$!==void 0?$:0,te=1/this.path.unitsPerEm*(te=te!==void 0?te:24),F.lineWidth=1,F.strokeStyle="black",nt.line(F,q,-1e4,q,1e4),nt.line(F,-1e4,$,1e4,$);var oe=this.xMin||0,he=this.yMin||0,de=this.xMax||0,be=this.yMax||0,je=this.advanceWidth||0;F.strokeStyle="blue",nt.line(F,q+oe*te,-1e4,q+oe*te,1e4),nt.line(F,q+de*te,-1e4,q+de*te,1e4),nt.line(F,-1e4,$+-he*te,1e4,$+-he*te),nt.line(F,-1e4,$+-be*te,1e4,$+-be*te),F.strokeStyle="green",nt.line(F,q+je*te,-1e4,q+je*te,1e4)},pt.prototype.get=function(F){return typeof this.glyphs[F]=="function"&&(this.glyphs[F]=this.glyphs[F]()),this.glyphs[F]},pt.prototype.push=function(F,q){this.glyphs[F]=q,this.length++};var lt={GlyphSet:pt,glyphLoader:function(F,q){return new it({index:q,font:F})},ttfGlyphLoader:function(F,q,$,te,oe,he){return function(){var de=new it({index:q,font:F});return de.path=function(){$(de,te,oe);var be=he(F.glyphs,de);return be.unitsPerEm=F.unitsPerEm,be},yt(de,"xMin","_xMin"),yt(de,"xMax","_xMax"),yt(de,"yMin","_yMin"),yt(de,"yMax","_yMax"),de}},cffGlyphLoader:function(F,q,$,te){return function(){var oe=new it({index:q,font:F});return oe.path=function(){var he=$(F,oe,te);return he.unitsPerEm=F.unitsPerEm,he},oe}}};function mt(F){return F=F.length<1240?107:F.length<33900?1131:32768,F}function ft(F,q,$){var te,oe=[],he=[],de=Ve.getCard16(F,q);if(de!==0){for(var be=Ve.getByte(F,q+2),je=q+(de+1)*be+2,Ce=q+3,Re=0;Re<de+1;Re+=1)oe.push(Ve.getOffset(F,Ce,be)),Ce+=be;te=je+oe[de]}else te=q+2;for(var Ue=0;Ue<oe.length-1;Ue+=1){var Le=Ve.getBytes(F,je+oe[Ue],je+oe[Ue+1]);$&&(Le=$(Le)),he.push(Le)}return{objects:he,startOffset:q,endOffset:te}}function Ct(F,q){if(q===28)return F.parseByte()<<8|F.parseByte();if(q===29)return F.parseByte()<<24|F.parseByte()<<16|F.parseByte()<<8|F.parseByte();if(q===30){for(var $=F,te="",oe=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var de=$.parseByte(),he=de>>4,de=15&de;if(he==15||(te+=oe[he],de==15))break;te+=oe[de]}return parseFloat(te)}if(32<=q&&q<=246)return q-139;if(247<=q&&q<=250)return 256*(q-247)+F.parseByte()+108;if(251<=q&&q<=254)return 256*-(q-251)-F.parseByte()-108;throw new Error("Invalid b0 "+q)}function Yt(F,q,$){var te=new Ve.Parser(F,q=q!==void 0?q:0),oe=[],he=[];for($=$!==void 0?$:F.length;te.relativeOffset<$;){var de=te.parseByte();de<=21?(de===12&&(de=1200+te.parseByte()),oe.push([de,he]),he=[]):he.push(Ct(te,de))}for(var be=oe,je={},Ce=0;Ce<be.length;Ce+=1){var Re=be[Ce][0],Ue=be[Ce][1],Le=void 0,Le=Ue.length===1?Ue[0]:Ue;if(je.hasOwnProperty(Re)&&!isNaN(je[Re]))throw new Error("Object "+je+" already has key "+Re);je[Re]=Le}return je}function Ft(F,q){return q=q<=390?we[q]:F[q-391]}function St(F,q,$){for(var te,oe={},he=0;he<q.length;he+=1){var de=q[he];if(Array.isArray(de.type)){var be=[];be.length=de.type.length;for(var je=0;je<de.type.length;je++)(te=F[de.op]!==void 0?F[de.op][je]:void 0)===void 0&&(te=de.value!==void 0&&de.value[je]!==void 0?de.value[je]:null),de.type[je]==="SID"&&(te=Ft($,te)),be[je]=te;oe[de.name]=be}else(te=F[de.op])===void 0&&(te=de.value!==void 0?de.value:null),de.type==="SID"&&(te=Ft($,te)),oe[de.name]=te}return oe}var Pt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],wt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function qt(F,q,$,te){return St(Yt(F,q,$),wt,te)}function Ut(F,q,$,te){for(var oe=[],he=0;he<$.length;he+=1){var de=new DataView(new Uint8Array($[he]).buffer),de=(be=te,St(Yt(de,0,de.byteLength),Pt,be)),be=(de._subrs=[],de._subrsBias=0,de.private[0]),je=de.private[1];be!==0&&je!==0&&(be=qt(F,je+q,be,te),de._defaultWidthX=be.defaultWidthX,de._nominalWidthX=be.nominalWidthX,be.subrs!==0&&(je=ft(F,je+be.subrs+q),de._subrs=je.objects,de._subrsBias=mt(de._subrs)),de._privateDict=be),oe.push(de)}return oe}function kt(F,q,$){var te,oe,he,de,be,je,Ce,Re,Ue,Le=new ne,Pe=[],Ke=0,We=!1,Ye=!1,Ge=0,ze=0,ut=(Ue=(F.isCIDFont?(be=F.tables.cff.topDict._fdSelect[q.index],be=F.tables.cff.topDict._fdArray[be],je=be._subrs,Ce=be._subrsBias,Re=be._defaultWidthX,be):(je=F.tables.cff.topDict._subrs,Ce=F.tables.cff.topDict._subrsBias,Re=F.tables.cff.topDict._defaultWidthX,F.tables.cff.topDict))._nominalWidthX,Re);function gt(dt,vt){Ye&&Le.closePath(),Le.moveTo(dt,vt),Ye=!0}function ht(){Pe.length%2==0||We||(ut=Pe.shift()+Ue),Ke+=Pe.length>>1,Pe.length=0,We=!0}return function dt(vt){for(var jt,Dt,Bt,Zt,Kt,rr,At,Mt,Et,$t,Ot,Xt,It=0;It<vt.length;){var Wt=vt[It];switch(It+=1,Wt){case 1:case 3:ht();break;case 4:1<Pe.length&&!We&&(ut=Pe.shift()+Ue,We=!0),ze+=Pe.pop(),gt(Ge,ze);break;case 5:for(;0<Pe.length;)Ge+=Pe.shift(),ze+=Pe.shift(),Le.lineTo(Ge,ze);break;case 6:for(;0<Pe.length&&(Ge+=Pe.shift(),Le.lineTo(Ge,ze),Pe.length!==0);)ze+=Pe.shift(),Le.lineTo(Ge,ze);break;case 7:for(;0<Pe.length&&(ze+=Pe.shift(),Le.lineTo(Ge,ze),Pe.length!==0);)Ge+=Pe.shift(),Le.lineTo(Ge,ze);break;case 8:for(;0<Pe.length;)te=Ge+Pe.shift(),oe=ze+Pe.shift(),he=te+Pe.shift(),de=oe+Pe.shift(),Ge=he+Pe.shift(),ze=de+Pe.shift(),Le.curveTo(te,oe,he,de,Ge,ze);break;case 10:Kt=Pe.pop()+Ce,(rr=je[Kt])&&dt(rr);break;case 11:return;case 12:switch(Wt=vt[It],It+=1,Wt){case 35:te=Ge+Pe.shift(),oe=ze+Pe.shift(),he=te+Pe.shift(),de=oe+Pe.shift(),At=he+Pe.shift(),Mt=de+Pe.shift(),Et=At+Pe.shift(),$t=Mt+Pe.shift(),Ot=Et+Pe.shift(),Xt=$t+Pe.shift(),Ge=Ot+Pe.shift(),ze=Xt+Pe.shift(),Pe.shift(),Le.curveTo(te,oe,he,de,At,Mt),Le.curveTo(Et,$t,Ot,Xt,Ge,ze);break;case 34:te=Ge+Pe.shift(),oe=ze,he=te+Pe.shift(),de=oe+Pe.shift(),At=he+Pe.shift(),Mt=de,Et=At+Pe.shift(),$t=de,Ot=Et+Pe.shift(),Xt=ze,Ge=Ot+Pe.shift(),Le.curveTo(te,oe,he,de,At,Mt),Le.curveTo(Et,$t,Ot,Xt,Ge,ze);break;case 36:te=Ge+Pe.shift(),oe=ze+Pe.shift(),he=te+Pe.shift(),de=oe+Pe.shift(),At=he+Pe.shift(),Mt=de,Et=At+Pe.shift(),$t=de,Ot=Et+Pe.shift(),Xt=$t+Pe.shift(),Ge=Ot+Pe.shift(),Le.curveTo(te,oe,he,de,At,Mt),Le.curveTo(Et,$t,Ot,Xt,Ge,ze);break;case 37:te=Ge+Pe.shift(),oe=ze+Pe.shift(),he=te+Pe.shift(),de=oe+Pe.shift(),At=he+Pe.shift(),Mt=de+Pe.shift(),Et=At+Pe.shift(),$t=Mt+Pe.shift(),Ot=Et+Pe.shift(),Xt=$t+Pe.shift(),Math.abs(Ot-Ge)>Math.abs(Xt-ze)?Ge=Ot+Pe.shift():ze=Xt+Pe.shift(),Le.curveTo(te,oe,he,de,At,Mt),Le.curveTo(Et,$t,Ot,Xt,Ge,ze);break;default:console.log("Glyph "+q.index+": unknown operator 1200"+Wt),Pe.length=0}break;case 14:0<Pe.length&&!We&&(ut=Pe.shift()+Ue,We=!0),Ye&&(Le.closePath(),Ye=!1);break;case 18:ht();break;case 19:case 20:ht(),It+=Ke+7>>3;break;case 21:2<Pe.length&&!We&&(ut=Pe.shift()+Ue,We=!0),ze+=Pe.pop(),gt(Ge+=Pe.pop(),ze);break;case 22:1<Pe.length&&!We&&(ut=Pe.shift()+Ue,We=!0),gt(Ge+=Pe.pop(),ze);break;case 23:ht();break;case 24:for(;2<Pe.length;)te=Ge+Pe.shift(),oe=ze+Pe.shift(),he=te+Pe.shift(),de=oe+Pe.shift(),Ge=he+Pe.shift(),ze=de+Pe.shift(),Le.curveTo(te,oe,he,de,Ge,ze);Ge+=Pe.shift(),ze+=Pe.shift(),Le.lineTo(Ge,ze);break;case 25:for(;6<Pe.length;)Ge+=Pe.shift(),ze+=Pe.shift(),Le.lineTo(Ge,ze);te=Ge+Pe.shift(),oe=ze+Pe.shift(),he=te+Pe.shift(),de=oe+Pe.shift(),Ge=he+Pe.shift(),ze=de+Pe.shift(),Le.curveTo(te,oe,he,de,Ge,ze);break;case 26:for(Pe.length%2&&(Ge+=Pe.shift());0<Pe.length;)te=Ge,oe=ze+Pe.shift(),he=te+Pe.shift(),de=oe+Pe.shift(),Ge=he,ze=de+Pe.shift(),Le.curveTo(te,oe,he,de,Ge,ze);break;case 27:for(Pe.length%2&&(ze+=Pe.shift());0<Pe.length;)te=Ge+Pe.shift(),oe=ze,he=te+Pe.shift(),de=oe+Pe.shift(),Ge=he+Pe.shift(),ze=de,Le.curveTo(te,oe,he,de,Ge,ze);break;case 28:jt=vt[It],Dt=vt[It+1],Pe.push((jt<<24|Dt<<16)>>16),It+=2;break;case 29:Kt=Pe.pop()+F.gsubrsBias,(rr=F.gsubrs[Kt])&&dt(rr);break;case 30:for(;0<Pe.length&&(te=Ge,oe=ze+Pe.shift(),he=te+Pe.shift(),de=oe+Pe.shift(),Ge=he+Pe.shift(),ze=de+(Pe.length===1?Pe.shift():0),Le.curveTo(te,oe,he,de,Ge,ze),Pe.length!==0);)te=Ge+Pe.shift(),oe=ze,he=te+Pe.shift(),de=oe+Pe.shift(),ze=de+Pe.shift(),Ge=he+(Pe.length===1?Pe.shift():0),Le.curveTo(te,oe,he,de,Ge,ze);break;case 31:for(;0<Pe.length&&(te=Ge+Pe.shift(),oe=ze,he=te+Pe.shift(),de=oe+Pe.shift(),ze=de+Pe.shift(),Ge=he+(Pe.length===1?Pe.shift():0),Le.curveTo(te,oe,he,de,Ge,ze),Pe.length!==0);)te=Ge,oe=ze+Pe.shift(),he=te+Pe.shift(),de=oe+Pe.shift(),Ge=he+Pe.shift(),ze=de+(Pe.length===1?Pe.shift():0),Le.curveTo(te,oe,he,de,Ge,ze);break;default:Wt<32?console.log("Glyph "+q.index+": unknown operator "+Wt):Wt<247?Pe.push(Wt-139):Wt<251?(jt=vt[It],It+=1,Pe.push(256*(Wt-247)+jt+108)):Wt<255?(jt=vt[It],It+=1,Pe.push(256*-(Wt-251)-jt-108)):(jt=vt[It],Dt=vt[It+1],Bt=vt[It+2],Zt=vt[It+3],It+=4,Pe.push((jt<<24|Dt<<16|Bt<<8|Zt)/65536))}}}($),q.advanceWidth=ut,Le}function Ht(F,q){var $,te=we.indexOf(F);return 0<=te&&($=te),0<=(te=q.indexOf(F))?$=te+we.length:($=we.length+q.length,q.push(F)),$}function gr(F,q,$){for(var te={},oe=0;oe<F.length;oe+=1){var he=F[oe],de=q[he.name];de===void 0||function be(je,Ce){if(je===Ce)return 1;if(Array.isArray(je)&&Array.isArray(Ce)&&je.length===Ce.length){for(var Re=0;Re<je.length;Re+=1)if(!be(je[Re],Ce[Re]))return;return 1}}(de,he.value)||(he.type==="SID"&&(de=Ht(de,$)),te[he.op]={name:he.name,type:he.type,value:de})}return te}function vr(F,q){var $=new xe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return $.dict=gr(Pt,F,q),$}function _r(F){var q=new xe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return q.topDicts=[{name:"topDict_0",type:"TABLE",value:F}],q}function Tr(F){for(var q=new xe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),$=0;$<F.length;$+=1){var te=F.get($),oe=function(he){for(var de=[],be=he.path,je=(de.push({name:"width",type:"NUMBER",value:he.advanceWidth}),0),Ce=0,Re=0;Re<be.commands.length;Re+=1){var Ue,Le,Pe,Ke,We=void 0,Ye=void 0,Ge=be.commands[Re];(Ge=Ge.type==="Q"?{type:"C",x:Ge.x,y:Ge.y,x1:1/3*je+2/3*Ge.x1,y1:1/3*Ce+2/3*Ge.y1,x2:1/3*Ge.x+2/3*Ge.x1,y2:1/3*Ge.y+2/3*Ge.y1}:Ge).type==="M"?(We=Math.round(Ge.x-je),Ye=Math.round(Ge.y-Ce),de.push({name:"dx",type:"NUMBER",value:We}),de.push({name:"dy",type:"NUMBER",value:Ye}),de.push({name:"rmoveto",type:"OP",value:21}),je=Math.round(Ge.x),Ce=Math.round(Ge.y)):Ge.type==="L"?(We=Math.round(Ge.x-je),Ye=Math.round(Ge.y-Ce),de.push({name:"dx",type:"NUMBER",value:We}),de.push({name:"dy",type:"NUMBER",value:Ye}),de.push({name:"rlineto",type:"OP",value:5}),je=Math.round(Ge.x),Ce=Math.round(Ge.y)):Ge.type==="C"&&(Ue=Math.round(Ge.x1-je),Le=Math.round(Ge.y1-Ce),Pe=Math.round(Ge.x2-Ge.x1),Ke=Math.round(Ge.y2-Ge.y1),We=Math.round(Ge.x-Ge.x2),Ye=Math.round(Ge.y-Ge.y2),de.push({name:"dx1",type:"NUMBER",value:Ue}),de.push({name:"dy1",type:"NUMBER",value:Le}),de.push({name:"dx2",type:"NUMBER",value:Pe}),de.push({name:"dy2",type:"NUMBER",value:Ke}),de.push({name:"dx",type:"NUMBER",value:We}),de.push({name:"dy",type:"NUMBER",value:Ye}),de.push({name:"rrcurveto",type:"OP",value:8}),je=Math.round(Ge.x),Ce=Math.round(Ge.y))}return de.push({name:"endchar",type:"OP",value:14}),de}(te);q.charStrings.push({name:te.name,type:"CHARSTRING",value:oe})}return q}var br={parse:function(F,q,$){$.tables.cff={},be=F,te=q,(oe={}).formatMajor=Ve.getCard8(be,te),oe.formatMinor=Ve.getCard8(be,te+1),oe.size=Ve.getCard8(be,te+2),oe.offsetSize=Ve.getCard8(be,te+3),oe.startOffset=te,oe.endOffset=te+4;var be=ft(F,oe.endOffset,Ve.bytesToString),te=ft(F,be.endOffset),oe=ft(F,te.endOffset,Ve.bytesToString),be=ft(F,oe.endOffset);if($.gsubrs=be.objects,$.gsubrsBias=mt($.gsubrs),(be=Ut(F,q,te.objects,oe.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+be.length);if(te=be[0],($.tables.cff.topDict=te)._privateDict&&($.defaultWidthX=te._privateDict.defaultWidthX,$.nominalWidthX=te._privateDict.nominalWidthX),te.ros[0]!==void 0&&te.ros[1]!==void 0&&($.isCIDFont=!0),$.isCIDFont){var be=te.fdArray,he=te.fdSelect;if(be===0||he===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");be=Ut(F,q,ft(F,be+=q).objects,oe.objects),te._fdArray=be,te._fdSelect=function(Le,Pe,Ke,We){var Ye,Ge=[],ze=new Ve.Parser(Le,Pe);if((Le=ze.parseCard8())===0)for(var ut=0;ut<Ke;ut++){if(We<=(Ye=ze.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ye+" (FD count "+We+")");Ge.push(Ye)}else{if(Le!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Le);var gt,ht=ze.parseCard16(),dt=ze.parseCard16();if(dt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+dt);for(var vt=0;vt<ht;vt++){if(Ye=ze.parseCard8(),gt=ze.parseCard16(),We<=Ye)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ye+" (FD count "+We+")");if(Ke<gt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+gt);for(;dt<gt;dt++)Ge.push(Ye);dt=gt}if(gt!==Ke)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+gt)}return Ge}(F,he+=q,$.numGlyphs,be.length)}var he=q+te.private[1],be=qt(F,he,te.private[0],oe.objects),de=($.defaultWidthX=be.defaultWidthX,$.nominalWidthX=be.nominalWidthX,be.subrs!==0?(he=ft(F,he+be.subrs),$.subrs=he.objects,$.subrsBias=mt($.subrs)):($.subrs=[],$.subrsBias=0),ft(F,q+te.charStrings)),be=($.nGlyphs=de.objects.length,function(Re,Ue,Le,Pe){var Ke=new Ve.Parser(Re,Ue),We=(--Le,[".notdef"]);if((Re=Ke.parseCard8())===0)for(var Ye=0;Ye<Le;Ye+=1)Ge=Ke.parseSID(),We.push(Ft(Pe,Ge));else if(Re===1)for(;We.length<=Le;)for(var Ge=Ke.parseSID(),ze=Ke.parseCard8(),ut=0;ut<=ze;ut+=1)We.push(Ft(Pe,Ge)),Ge+=1;else{if(Re!==2)throw new Error("Unknown charset format "+Re);for(;We.length<=Le;){Ge=Ke.parseSID(),ze=Ke.parseCard16();for(var gt=0;gt<=ze;gt+=1)We.push(Ft(Pe,Ge)),Ge+=1}}return We}(F,q+te.charset,$.nGlyphs,oe.objects));te.encoding===0?$.cffEncoding=new et(pe,be):te.encoding===1?$.cffEncoding=new et(ke,be):$.cffEncoding=function(Re,Ue,Le){var Pe={},Ke=new Ve.Parser(Re,Ue);if((Re=Ke.parseCard8())===0)for(var We=Ke.parseCard8(),Ye=0;Ye<We;Ye+=1)Pe[ze=Ke.parseCard8()]=Ye;else{if(Re!==1)throw new Error("Unknown encoding format "+Re);for(var Ge=Ke.parseCard8(),ze=1,ut=0;ut<Ge;ut+=1)for(var gt=Ke.parseCard8(),ht=Ke.parseCard8(),dt=gt;dt<=gt+ht;dt+=1)Pe[dt]=ze,ze+=1}return new et(Pe,Le)}(F,q+te.encoding,be),$.encoding=$.encoding||$.cffEncoding,$.glyphs=new lt.GlyphSet($);for(var je=0;je<$.nGlyphs;je+=1){var Ce=de.objects[je];$.glyphs.push(je,lt.cffGlyphLoader($,je,kt,Ce))}},make:function(F,Re){for(var $,te=new xe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),oe=1/Re.unitsPerEm,oe={version:Re.version,fullName:Re.fullName,familyName:Re.familyName,weight:Re.weightName,fontBBox:Re.fontBBox||[0,0,0,0],fontMatrix:[oe,0,0,oe,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},he=[],de=1;de<F.length;de+=1)$=F.get(de),he.push($.name);var be,je,Ce=[],Re=(te.header=new xe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),te.nameIndex=function(Le){var Pe=new xe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Pe.names=[];for(var Ke=0;Ke<Le.length;Ke+=1)Pe.names.push({name:"name_"+Ke,type:"NAME",value:Le[Ke]});return Pe}([Re.postScriptName]),vr(oe,Ce)),Ue=(te.topDictIndex=_r(Re),te.globalSubrIndex=new xe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),te.charsets=function(Le,Pe){for(var Ke=new xe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),We=0;We<Le.length;We+=1){var Ye=Ht(Le[We],Pe);Ke.fields.push({name:"glyph_"+We,type:"SID",value:Ye})}return Ke}(he,Ce),te.charStringsIndex=Tr(F),te.privateDict=(Ue={},be=Ce,(je=new xe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=gr(wt,Ue,be),je),te.stringIndex=function(Le){var Pe=new xe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Pe.strings=[];for(var Ke=0;Ke<Le.length;Ke+=1)Pe.strings.push({name:"string_"+Ke,type:"STRING",value:Le[Ke]});return Pe}(Ce),te.header.sizeOf()+te.nameIndex.sizeOf()+te.topDictIndex.sizeOf()+te.stringIndex.sizeOf()+te.globalSubrIndex.sizeOf());return oe.charset=Ue,oe.encoding=0,oe.charStrings=oe.charset+te.charsets.sizeOf(),oe.private[1]=oe.charStrings+te.charStringsIndex.sizeOf(),Re=vr(oe,Ce),te.topDictIndex=_r(Re),te}},wr={parse:function(te,q){var $={},te=new Ve.Parser(te,q);return $.version=te.parseVersion(),$.fontRevision=Math.round(1e3*te.parseFixed())/1e3,$.checkSumAdjustment=te.parseULong(),$.magicNumber=te.parseULong(),z.argument($.magicNumber===1594834165,"Font header has wrong magic number."),$.flags=te.parseUShort(),$.unitsPerEm=te.parseUShort(),$.created=te.parseLongDateTime(),$.modified=te.parseLongDateTime(),$.xMin=te.parseShort(),$.yMin=te.parseShort(),$.xMax=te.parseShort(),$.yMax=te.parseShort(),$.macStyle=te.parseUShort(),$.lowestRecPPEM=te.parseUShort(),$.fontDirectionHint=te.parseShort(),$.indexToLocFormat=te.parseShort(),$.glyphDataFormat=te.parseShort(),$},make:function(F){var q=Math.round(new Date().getTime()/1e3)+2082844800,$=q;return F.createdTimestamp&&($=F.createdTimestamp+2082844800),new xe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:$},{name:"modified",type:"LONGDATETIME",value:q},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],F)}},Me={parse:function(te,q){var $={},te=new Ve.Parser(te,q);return $.version=te.parseVersion(),$.ascender=te.parseShort(),$.descender=te.parseShort(),$.lineGap=te.parseShort(),$.advanceWidthMax=te.parseUShort(),$.minLeftSideBearing=te.parseShort(),$.minRightSideBearing=te.parseShort(),$.xMaxExtent=te.parseShort(),$.caretSlopeRise=te.parseShort(),$.caretSlopeRun=te.parseShort(),$.caretOffset=te.parseShort(),te.relativeOffset+=8,$.metricDataFormat=te.parseShort(),$.numberOfHMetrics=te.parseUShort(),$},make:function(F){return new xe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],F)}},tt={parse:function(F,q,$,te,oe){for(var he,de,be=new Ve.Parser(F,q),je=0;je<te;je+=1){je<$&&(he=be.parseUShort(),de=be.parseShort());var Ce=oe.get(je);Ce.advanceWidth=he,Ce.leftSideBearing=de}},make:function(F){for(var q=new xe.Table("hmtx",[]),$=0;$<F.length;$+=1){var oe=F.get($),te=oe.advanceWidth||0,oe=oe.leftSideBearing||0;q.fields.push({name:"advanceWidth_"+$,type:"USHORT",value:te}),q.fields.push({name:"leftSideBearing_"+$,type:"SHORT",value:oe})}return q}},at={make:function(F){for(var q=new xe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:F.length}]),$="",te=12+4*F.length,oe=0;oe<F.length;++oe){var he=$.indexOf(F[oe]);he<0&&(he=$.length,$+=F[oe]),q.fields.push({name:"offset "+oe,type:"USHORT",value:te+he}),q.fields.push({name:"length "+oe,type:"USHORT",value:F[oe].length})}return q.fields.push({name:"stringPool",type:"CHARARRAY",value:$}),q},parse:function(F,q){for(var $=new Ve.Parser(F,q),te=$.parseULong(),oe=(z.argument(te===1,"Unsupported ltag table version."),$.skip("uLong",1),$.parseULong()),he=[],de=0;de<oe;de++){for(var be="",je=q+$.parseUShort(),Ce=$.parseUShort(),Re=je;Re<je+Ce;++Re)be+=String.fromCharCode(F.getInt8(Re));he.push(be)}return he}},Qe={parse:function(te,q){var $={},te=new Ve.Parser(te,q);return $.version=te.parseVersion(),$.numGlyphs=te.parseUShort(),$.version===1&&($.maxPoints=te.parseUShort(),$.maxContours=te.parseUShort(),$.maxCompositePoints=te.parseUShort(),$.maxCompositeContours=te.parseUShort(),$.maxZones=te.parseUShort(),$.maxTwilightPoints=te.parseUShort(),$.maxStorage=te.parseUShort(),$.maxFunctionDefs=te.parseUShort(),$.maxInstructionDefs=te.parseUShort(),$.maxStackElements=te.parseUShort(),$.maxSizeOfInstructions=te.parseUShort(),$.maxComponentElements=te.parseUShort(),$.maxComponentDepth=te.parseUShort()),$},make:function(F){return new xe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:F}])}},_t=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],$e={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},xt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},st={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},bt="utf-16",ot={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Rt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Vt(F,q,$){switch(F){case 0:return bt;case 1:return Rt[$]||ot[q];case 3:if(q===1||q===10)return bt}}function Nt(F){var q,$={};for(q in F)$[F[q]]=parseInt(q);return $}function Gt(F,q,$,te,oe,he){return new xe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:F},{name:"encodingID",type:"USHORT",value:q},{name:"languageID",type:"USHORT",value:$},{name:"nameID",type:"USHORT",value:te},{name:"length",type:"USHORT",value:oe},{name:"offset",type:"USHORT",value:he}])}function nr(F,q){if(($=function(he,de){var be=he.length,je=de.length-be+1;e:for(var Ce=0;Ce<je;Ce++)for(;Ce<je;Ce++){for(var Re=0;Re<be;Re++)if(de[Ce+Re]!==he[Re])continue e;return Ce}return-1}(F,q))<0)for(var $=q.length,te=0,oe=F.length;te<oe;++te)q.push(F[te]);return $}var Qt={parse:function(F,q,$){for(var te={},oe=new Ve.Parser(F,q),q=oe.parseUShort(),he=oe.parseUShort(),de=oe.offset+oe.parseUShort(),be=0;be<he;be++){var Ke=oe.parseUShort(),je=oe.parseUShort(),Ce=oe.parseUShort(),Re=oe.parseUShort(),Re=_t[Re]||Re,Ue=oe.parseUShort(),Le=oe.parseUShort(),Pe=function(Ye,Ge,ze){switch(Ye){case 0:if(Ge===65535)return"und";if(ze)return ze[Ge];break;case 1:return $e[Ge];case 3:return st[Ge]}}(Ke,Ce,$),Ke=Vt(Ke,je,Ce);Ke!==void 0&&Pe!==void 0&&(je=void 0,(je=Ke===bt?ee.UTF16(F,de+Le,Ue):ee.MACSTRING(F,de+Le,Ue,Ke))&&((Ce=(Ce=te[Re])===void 0?te[Re]={}:Ce)[Pe]=je))}return q===1&&oe.parseUShort(),te},make:function(F,q){var $,te=[],oe={},he=Nt(_t);for($ in F){var de=he[$];if(de===void 0&&(de=$),Le=parseInt(de),isNaN(Le))throw new Error('Name table entry "'+$+'" does not exist, see nameTableNames for complete list.');oe[Le]=F[$],te.push(Le)}for(var be=Nt($e),je=Nt(st),Ce=[],Re=[],Ue=0;Ue<te.length;Ue++){var Le,Pe,Ke=oe[Le=te[Ue]];for(Pe in Ke){var We=Ke[Pe],gt=1,Ye=be[Pe],Ge=xt[Ye],ze=Vt(gt,Ge,Ye),ze=se.MACSTRING(We,ze),ut=(ze===void 0&&(gt=0,(Ye=q.indexOf(Pe))<0&&(Ye=q.length,q.push(Pe)),Ge=4,ze=se.UTF16(We)),nr(ze,Re)),gt=(Ce.push(Gt(gt,Ge,Ye,Le,ze.length,ut)),je[Pe]);gt!==void 0&&(Ye=nr(Ge=se.UTF16(We),Re),Ce.push(Gt(3,1,gt,Le,Ge.length,Ye)))}}Ce.sort(function(vt,jt){return vt.platformID-jt.platformID||vt.encodingID-jt.encodingID||vt.languageID-jt.languageID||vt.nameID-jt.nameID});for(var ht=new xe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Ce.length},{name:"stringOffset",type:"USHORT",value:6+12*Ce.length}]),dt=0;dt<Ce.length;dt++)ht.fields.push({name:"record_"+dt,type:"RECORD",value:Ce[dt]});return ht.fields.push({name:"strings",type:"LITERAL",value:Re}),ht}},sr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],zt={parse:function(F,q){var $={},te=new Ve.Parser(F,q);$.version=te.parseUShort(),$.xAvgCharWidth=te.parseShort(),$.usWeightClass=te.parseUShort(),$.usWidthClass=te.parseUShort(),$.fsType=te.parseUShort(),$.ySubscriptXSize=te.parseShort(),$.ySubscriptYSize=te.parseShort(),$.ySubscriptXOffset=te.parseShort(),$.ySubscriptYOffset=te.parseShort(),$.ySuperscriptXSize=te.parseShort(),$.ySuperscriptYSize=te.parseShort(),$.ySuperscriptXOffset=te.parseShort(),$.ySuperscriptYOffset=te.parseShort(),$.yStrikeoutSize=te.parseShort(),$.yStrikeoutPosition=te.parseShort(),$.sFamilyClass=te.parseShort(),$.panose=[];for(var oe=0;oe<10;oe++)$.panose[oe]=te.parseByte();return $.ulUnicodeRange1=te.parseULong(),$.ulUnicodeRange2=te.parseULong(),$.ulUnicodeRange3=te.parseULong(),$.ulUnicodeRange4=te.parseULong(),$.achVendID=String.fromCharCode(te.parseByte(),te.parseByte(),te.parseByte(),te.parseByte()),$.fsSelection=te.parseUShort(),$.usFirstCharIndex=te.parseUShort(),$.usLastCharIndex=te.parseUShort(),$.sTypoAscender=te.parseShort(),$.sTypoDescender=te.parseShort(),$.sTypoLineGap=te.parseShort(),$.usWinAscent=te.parseUShort(),$.usWinDescent=te.parseUShort(),1<=$.version&&($.ulCodePageRange1=te.parseULong(),$.ulCodePageRange2=te.parseULong()),2<=$.version&&($.sxHeight=te.parseShort(),$.sCapHeight=te.parseShort(),$.usDefaultChar=te.parseUShort(),$.usBreakChar=te.parseUShort(),$.usMaxContent=te.parseUShort()),$},make:function(F){return new xe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],F)},unicodeRanges:sr,getUnicodeRange:function(F){for(var q=0;q<sr.length;q+=1){var $=sr[q];if(F>=$.begin&&F<$.end)return q}return-1}},Ur={parse:function(F,q){var $={},te=new Ve.Parser(F,q);switch($.version=te.parseVersion(),$.italicAngle=te.parseFixed(),$.underlinePosition=te.parseShort(),$.underlineThickness=te.parseShort(),$.isFixedPitch=te.parseULong(),$.minMemType42=te.parseULong(),$.maxMemType42=te.parseULong(),$.minMemType1=te.parseULong(),$.maxMemType1=te.parseULong(),$.version){case 1:$.names=De.slice();break;case 2:$.numberOfGlyphs=te.parseUShort(),$.glyphNameIndex=new Array($.numberOfGlyphs);for(var oe=0;oe<$.numberOfGlyphs;oe++)$.glyphNameIndex[oe]=te.parseUShort();$.names=[];for(var he,de=0;de<$.numberOfGlyphs;de++)$.glyphNameIndex[de]>=De.length&&(he=te.parseChar(),$.names.push(te.parseString(he)));break;case 2.5:$.numberOfGlyphs=te.parseUShort(),$.offset=new Array($.numberOfGlyphs);for(var be=0;be<$.numberOfGlyphs;be++)$.offset[be]=te.parseChar()}return $},make:function(){return new xe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},er=new Array(9),dr=(er[1]=function(){var F=this.offset+this.relativeOffset,q=this.parseUShort();return q===1?{substFormat:1,coverage:this.parsePointer(Oe.coverage),deltaGlyphId:this.parseUShort()}:q===2?{substFormat:2,coverage:this.parsePointer(Oe.coverage),substitute:this.parseOffset16List()}:void z.assert(!1,"0x"+F.toString(16)+": lookup type 1 format must be 1 or 2.")},er[2]=function(){var F=this.parseUShort();return z.argument(F===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:F,coverage:this.parsePointer(Oe.coverage),sequences:this.parseListOfLists()}},er[3]=function(){var F=this.parseUShort();return z.argument(F===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:F,coverage:this.parsePointer(Oe.coverage),alternateSets:this.parseListOfLists()}},er[4]=function(){var F=this.parseUShort();return z.argument(F===1,"GSUB ligature table identifier-format must be 1"),{substFormat:F,coverage:this.parsePointer(Oe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Oe.uShort,lookupListIndex:Oe.uShort});er[5]=function(){var F,q,$=this.offset+this.relativeOffset,te=this.parseUShort();return te===1?{substFormat:te,coverage:this.parsePointer(Oe.coverage),ruleSets:this.parseListOfLists(function(){var oe=this.parseUShort(),he=this.parseUShort();return{input:this.parseUShortList(oe-1),lookupRecords:this.parseRecordList(he,dr)}})}:te===2?{substFormat:te,coverage:this.parsePointer(Oe.coverage),classDef:this.parsePointer(Oe.classDef),classSets:this.parseListOfLists(function(){var oe=this.parseUShort(),he=this.parseUShort();return{classes:this.parseUShortList(oe-1),lookupRecords:this.parseRecordList(he,dr)}})}:te===3?(F=this.parseUShort(),q=this.parseUShort(),{substFormat:te,coverages:this.parseList(F,Oe.pointer(Oe.coverage)),lookupRecords:this.parseRecordList(q,dr)}):void z.assert(!1,"0x"+$.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},er[6]=function(){var F=this.offset+this.relativeOffset,q=this.parseUShort();return q===1?{substFormat:1,coverage:this.parsePointer(Oe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(dr)}})}:q===2?{substFormat:2,coverage:this.parsePointer(Oe.coverage),backtrackClassDef:this.parsePointer(Oe.classDef),inputClassDef:this.parsePointer(Oe.classDef),lookaheadClassDef:this.parsePointer(Oe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(dr)}})}:q===3?{substFormat:3,backtrackCoverage:this.parseList(Oe.pointer(Oe.coverage)),inputCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookaheadCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookupRecords:this.parseRecordList(dr)}:void z.assert(!1,"0x"+F.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},er[7]=function(){var F=this.parseUShort(),F=(z.argument(F===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),q=new Oe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:F,extension:er[F].call(q)}},er[8]=function(){var F=this.parseUShort();return z.argument(F===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:F,coverage:this.parsePointer(Oe.coverage),backtrackCoverage:this.parseList(Oe.pointer(Oe.coverage)),lookaheadCoverage:this.parseList(Oe.pointer(Oe.coverage)),substitutes:this.parseUShortList()}};var Ar=new Array(9);Ar[1]=function(F){return F.substFormat===1?new xe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new xe.Coverage(F.coverage)},{name:"deltaGlyphID",type:"USHORT",value:F.deltaGlyphId}]):new xe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new xe.Coverage(F.coverage)}].concat(xe.ushortList("substitute",F.substitute)))},Ar[3]=function(F){return z.assert(F.substFormat===1,"Lookup type 3 substFormat must be 1."),new xe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new xe.Coverage(F.coverage)}].concat(xe.tableList("altSet",F.alternateSets,function(q){return new xe.Table("alternateSetTable",xe.ushortList("alternate",q))})))},Ar[4]=function(F){return z.assert(F.substFormat===1,"Lookup type 4 substFormat must be 1."),new xe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new xe.Coverage(F.coverage)}].concat(xe.tableList("ligSet",F.ligatureSets,function(q){return new xe.Table("ligatureSetTable",xe.tableList("ligature",q,function($){return new xe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:$.ligGlyph}].concat(xe.ushortList("component",$.components,$.components.length+1)))}))})))};var Gr={parse:function(F,q){return q=(F=new Oe(F,q=q||0)).parseVersion(1),z.argument(q===1||q===1.1,"Unsupported GSUB table version."),q===1?{version:q,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(er)}:{version:q,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(er),variations:F.parseFeatureVariationsList()}},make:function(F){return new xe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new xe.ScriptList(F.scripts)},{name:"features",type:"TABLE",value:new xe.FeatureList(F.features)},{name:"lookups",type:"TABLE",value:new xe.LookupList(F.lookups,Ar)}])}},zr={parse:function(F,q){for(var $=new Ve.Parser(F,q),te=$.parseULong(),oe=(z.argument(te===1,"Unsupported META table version."),$.parseULong(),$.parseULong(),$.parseULong()),he={},de=0;de<oe;de++){var be=$.parseTag(),Ce=$.parseULong(),je=$.parseULong(),Ce=ee.UTF8(F,q+Ce,je);he[be]=Ce}return he},make:function(F){var q,$=Object.keys(F).length,te="",oe=16+12*$,he=new xe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:oe},{name:"numTags",type:"ULONG",value:$}]);for(q in F){var de=te.length;te+=F[q],he.fields.push({name:"tag "+q,type:"TAG",value:q}),he.fields.push({name:"offset "+q,type:"ULONG",value:oe+de}),he.fields.push({name:"length "+q,type:"ULONG",value:F[q].length})}return he.fields.push({name:"stringPool",type:"CHARARRAY",value:te}),he}};function Wr(F){return Math.log(F)/Math.log(2)|0}function Ir(F){for(;F.length%4!=0;)F.push(0);for(var q=0,$=0;$<F.length;$+=4)q+=(F[$]<<24)+(F[$+1]<<16)+(F[$+2]<<8)+F[$+3];return q%=Math.pow(2,32)}function qr(F,q,$,te){return new xe.Record("Table Record",[{name:"tag",type:"TAG",value:F!==void 0?F:""},{name:"checkSum",type:"ULONG",value:q!==void 0?q:0},{name:"offset",type:"ULONG",value:$!==void 0?$:0},{name:"length",type:"ULONG",value:te!==void 0?te:0}])}function Hr(F){for(var q=new xe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),$=(q.tables=F,q.numTables=F.length,Math.pow(2,Wr(q.numTables))),te=(q.searchRange=16*$,q.entrySelector=Wr($),q.rangeShift=16*q.numTables-q.searchRange,[]),oe=[],he=q.sizeOf()+qr().sizeOf()*q.numTables;he%4!=0;)he+=1,oe.push({name:"padding",type:"BYTE",value:0});for(var de=0;de<F.length;de+=1){var be=F[de],je=(z.argument(be.tableName.length===4,"Table name"+be.tableName+" is invalid."),be.sizeOf()),Ce=qr(be.tableName,Ir(be.encode()),he,je);for(te.push({name:Ce.tag+" Table Record",type:"RECORD",value:Ce}),oe.push({name:be.tableName+" table",type:"RECORD",value:be}),he+=je,z.argument(!isNaN(he),"Something went wrong calculating the offset.");he%4!=0;)he+=1,oe.push({name:"padding",type:"BYTE",value:0})}return te.sort(function(Re,Ue){return Re.value.tag>Ue.value.tag?1:-1}),q.fields=q.fields.concat(te),q.fields=q.fields.concat(oe),q}function Xr(F,q,$){for(var te=0;te<q.length;te+=1){var oe=F.charToGlyphIndex(q[te]);if(0<oe)return F.glyphs.get(oe).getMetrics()}return $}var An={make:Hr,fontToTable:function(F){for(var q,$=[],te=[],oe=[],he=[],de=[],be=[],je=[],Ce=0,Re=0,Ue=0,Le=0,Pe=0,Ke=0;Ke<F.glyphs.length;Ke+=1){var We=F.glyphs.get(Ke),Ye=0|We.unicode;if(isNaN(We.advanceWidth))throw new Error("Glyph "+We.name+" ("+Ke+"): advanceWidth is not a number.");(Ye<q||q===void 0)&&0<Ye&&(q=Ye),Ce<Ye&&(Ce=Ye);var Ye=zt.getUnicodeRange(Ye);if(Ye<32)Re|=1<<Ye;else if(Ye<64)Ue|=1<<Ye-32;else if(Ye<96)Le|=1<<Ye-64;else{if(!(Ye<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Pe|=1<<Ye-96}We.name!==".notdef"&&(Ye=We.getMetrics(),$.push(Ye.xMin),te.push(Ye.yMin),oe.push(Ye.xMax),he.push(Ye.yMax),be.push(Ye.leftSideBearing),je.push(Ye.rightSideBearing),de.push(We.advanceWidth))}var Ge,ze={xMin:Math.min.apply(null,$),yMin:Math.min.apply(null,te),xMax:Math.max.apply(null,oe),yMax:Math.max.apply(null,he),advanceWidthMax:Math.max.apply(null,de),advanceWidthAvg:function(Wt){for(var kr=0,yr=0;yr<Wt.length;yr+=1)kr+=Wt[yr];return kr/Wt.length}(de),minLeftSideBearing:Math.min.apply(null,be),maxLeftSideBearing:Math.max.apply(null,be),minRightSideBearing:Math.min.apply(null,je)},ut=(ze.ascender=F.ascender,ze.descender=F.descender,wr.make({flags:3,unitsPerEm:F.unitsPerEm,xMin:ze.xMin,yMin:ze.yMin,xMax:ze.xMax,yMax:ze.yMax,lowestRecPPEM:3,createdTimestamp:F.createdTimestamp})),gt=Me.make({ascender:ze.ascender,descender:ze.descender,advanceWidthMax:ze.advanceWidthMax,minLeftSideBearing:ze.minLeftSideBearing,minRightSideBearing:ze.minRightSideBearing,xMaxExtent:ze.maxLeftSideBearing+(ze.xMax-ze.xMin),numberOfHMetrics:F.glyphs.length}),ht=Qe.make(F.glyphs.length),dt=zt.make({xAvgCharWidth:Math.round(ze.advanceWidthAvg),usWeightClass:F.tables.os2.usWeightClass,usWidthClass:F.tables.os2.usWidthClass,usFirstCharIndex:q,usLastCharIndex:Ce,ulUnicodeRange1:Re,ulUnicodeRange2:Ue,ulUnicodeRange3:Le,ulUnicodeRange4:Pe,fsSelection:F.tables.os2.fsSelection,sTypoAscender:ze.ascender,sTypoDescender:ze.descender,sTypoLineGap:0,usWinAscent:ze.yMax,usWinDescent:Math.abs(ze.yMin),ulCodePageRange1:1,sxHeight:Xr(F,"xyvw",{yMax:Math.round(ze.ascender/2)}).yMax,sCapHeight:Xr(F,"HIKLEFJMNTZBDPRAGOQSUVWXY",ze).yMax,usDefaultChar:F.hasChar(" ")?32:0,usBreakChar:F.hasChar(" ")?32:0}),vt=tt.make(F.glyphs),jt=ge.make(F.glyphs),Mt=F.getEnglishName("fontFamily"),Et=F.getEnglishName("fontSubfamily"),At=Mt+" "+Et,Dt=(Dt=F.getEnglishName("postScriptName"))||Mt.replace(/\s/g,"")+"-"+Et,Bt={};for(Ge in F.names)Bt[Ge]=F.names[Ge];Bt.uniqueID||(Bt.uniqueID={en:F.getEnglishName("manufacturer")+":"+At}),Bt.postScriptName||(Bt.postScriptName={en:Dt}),Bt.preferredFamily||(Bt.preferredFamily=F.names.fontFamily),Bt.preferredSubfamily||(Bt.preferredSubfamily=F.names.fontSubfamily);var Kt=[],Zt=Qt.make(Bt,Kt),Kt=0<Kt.length?at.make(Kt):void 0,rr=Ur.make(),At=br.make(F.glyphs,{version:F.getEnglishName("version"),fullName:At,familyName:Mt,weightName:Et,postScriptName:Dt,unitsPerEm:F.unitsPerEm,fontBBox:[0,ze.yMin,ze.ascender,ze.advanceWidthMax]}),Mt=F.metas&&0<Object.keys(F.metas).length?zr.make(F.metas):void 0,Et=[ut,gt,ht,dt,Zt,jt,rr,At,vt];Kt&&Et.push(Kt),F.tables.gsub&&Et.push(Gr.make(F.tables.gsub)),Mt&&Et.push(Mt);for(var $t=Ir((Dt=Hr(Et)).encode()),Ot=Dt.fields,Xt=!1,It=0;It<Ot.length;It+=1)if(Ot[It].name==="head table"){Ot[It].value.checkSumAdjustment=2981146554-$t,Xt=!0;break}if(Xt)return Dt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Ir};function Or(F,q){for(var $=0,te=F.length-1;$<=te;){var oe=$+te>>>1,he=F[oe].tag;if(he===q)return oe;he<q?$=1+oe:te=oe-1}return-$-1}function Yr(F,q){for(var $=0,te=F.length-1;$<=te;){var oe=$+te>>>1,he=F[oe];if(he===q)return oe;he<q?$=1+oe:te=oe-1}return-$-1}function Zr(F,q){for(var $=0,te=F.length-1;$<=te;){var oe,he=$+te>>>1,de=(oe=F[he]).start;if(de===q)return oe;de<q?$=1+he:te=he-1}if(0<$)return q>(oe=F[$-1]).end?0:oe}function Cr(F,q){this.font=F,this.tableName=q}function jr(F){Cr.call(this,F,"gpos")}function ir(F){Cr.call(this,F,"gsub")}function Kr(F,q,$){for(var te=F.subtables,oe=0;oe<te.length;oe++){var he=te[oe];if(he.substFormat===q)return he}if($)return te.push($),$}function $r(F){for(var q=new ArrayBuffer(F.length),$=new Uint8Array(q),te=0;te<F.length;++te)$[te]=F[te];return q}function pr(F,q){if(!F)throw q}function Jr(F,q,$,te,oe){var he=0<(q&te)?(he=F.parseByte(),$+(he=q&oe?he:-he)):0<(q&oe)?$:$+F.parseShort();return he}function Cn(F,q,$){var te,oe=new Ve.Parser(q,$);if(F.numberOfContours=oe.parseShort(),F._xMin=oe.parseShort(),F._yMin=oe.parseShort(),F._xMax=oe.parseShort(),F._yMax=oe.parseShort(),0<F.numberOfContours){for(var he=F.endPointIndices=[],de=0;de<F.numberOfContours;de+=1)he.push(oe.parseUShort());F.instructionLength=oe.parseUShort(),F.instructions=[];for(var be=0;be<F.instructionLength;be+=1)F.instructions.push(oe.parseByte());for(var je=he[he.length-1]+1,Ce=[],Re=0;Re<je;Re+=1)if(te=oe.parseByte(),Ce.push(te),0<(8&te))for(var Ue=oe.parseByte(),Le=0;Le<Ue;Le+=1)Ce.push(te),Re+=1;if(z.argument(Ce.length===je,"Bad flags."),0<he.length){var Pe,Ke=[];if(0<je){for(var We=0;We<je;We+=1)te=Ce[We],(Pe={}).onCurve=!!(1&te),Pe.lastPointOfContour=0<=he.indexOf(We),Ke.push(Pe);for(var Ye=0,Ge=0;Ge<je;Ge+=1)te=Ce[Ge],(Pe=Ke[Ge]).x=Jr(oe,te,Ye,2,16),Ye=Pe.x;for(var ze=0,ut=0;ut<je;ut+=1)te=Ce[ut],(Pe=Ke[ut]).y=Jr(oe,te,ze,4,32),ze=Pe.y}F.points=Ke}else F.points=[]}else if(F.numberOfContours===0)F.points=[];else{F.isComposite=!0,F.points=[],F.components=[];for(var gt=!0;gt;){Ce=oe.parseUShort();var ht={glyphIndex:oe.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Ce)?0<(2&Ce)?(ht.dx=oe.parseShort(),ht.dy=oe.parseShort()):ht.matchedPoints=[oe.parseUShort(),oe.parseUShort()]:0<(2&Ce)?(ht.dx=oe.parseChar(),ht.dy=oe.parseChar()):ht.matchedPoints=[oe.parseByte(),oe.parseByte()],0<(8&Ce)?ht.xScale=ht.yScale=oe.parseF2Dot14():0<(64&Ce)?(ht.xScale=oe.parseF2Dot14(),ht.yScale=oe.parseF2Dot14()):0<(128&Ce)&&(ht.xScale=oe.parseF2Dot14(),ht.scale01=oe.parseF2Dot14(),ht.scale10=oe.parseF2Dot14(),ht.yScale=oe.parseF2Dot14()),F.components.push(ht),gt=!!(32&Ce)}if(256&Ce){F.instructionLength=oe.parseUShort(),F.instructions=[];for(var dt=0;dt<F.instructionLength;dt+=1)F.instructions.push(oe.parseByte())}}}function Nr(F,q){for(var $=[],te=0;te<F.length;te+=1){var oe=F[te],oe={x:q.xScale*oe.x+q.scale01*oe.y+q.dx,y:q.scale10*oe.x+q.yScale*oe.y+q.dy,onCurve:oe.onCurve,lastPointOfContour:oe.lastPointOfContour};$.push(oe)}return $}function Qr(F){var q=new ne;if(F)for(var $=function(Ue){for(var Le=[],Pe=[],Ke=0;Ke<Ue.length;Ke+=1){var We=Ue[Ke];Pe.push(We),We.lastPointOfContour&&(Le.push(Pe),Pe=[])}return z.argument(Pe.length===0,"There are still points left in the current contour."),Le}(F),te=0;te<$.length;++te){var oe,he=$[te],de=he[he.length-1],be=he[0];de.onCurve?q.moveTo(de.x,de.y):be.onCurve?q.moveTo(be.x,be.y):(oe={x:.5*(de.x+be.x),y:.5*(de.y+be.y)},q.moveTo(oe.x,oe.y));for(var je=0;je<he.length;++je){var Ce,Re=de,de=be,be=he[(je+1)%he.length];de.onCurve?q.lineTo(de.x,de.y):(Ce=be,Re.onCurve||(de.x,Re.x,de.y,Re.y),be.onCurve||(Ce={x:.5*(de.x+be.x),y:.5*(de.y+be.y)}),q.quadraticCurveTo(de.x,de.y,Ce.x,Ce.y))}q.closePath()}return q}function jn(F,q){if(q.isComposite)for(var $=0;$<q.components.length;$+=1){var te=q.components[$],oe=F.get(te.glyphIndex);if(oe.getPath(),oe.points){var he=void 0;if(te.matchedPoints===void 0)he=Nr(oe.points,te);else{if(te.matchedPoints[0]>q.points.length-1||te.matchedPoints[1]>oe.points.length-1)throw Error("Matched points out of range in "+q.name);var de=q.points[te.matchedPoints[0]],be=oe.points[te.matchedPoints[1]],te={xScale:te.xScale,scale01:te.scale01,scale10:te.scale10,yScale:te.yScale,dx:0,dy:0},be=Nr([be],te)[0];te.dx=de.x-be.x,te.dy=de.y-be.y,he=Nr(oe.points,te)}q.points=q.points.concat(he)}}return Qr(q.points)}(jr.prototype=Cr.prototype={searchTag:Or,binSearch:Yr,getTable:function(F){var q=this.font.tables[this.tableName];return q=!q&&F?this.font.tables[this.tableName]=this.createDefaultTable():q},getScriptNames:function(){var F=this.getTable();return F?F.scripts.map(function(q){return q.tag}):[]},getDefaultScriptName:function(){var F=this.getTable();if(F){for(var q=!1,$=0;$<F.scripts.length;$++){var te=F.scripts[$].tag;if(te==="DFLT")return te;te==="latn"&&(q=!0)}return q?"latn":void 0}},getScriptTable:function(F,q){var $,te=this.getTable(q);if(te)return $=te.scripts,0<=(te=Or(te.scripts,F=F||"DFLT"))?$[te].script:q?($.splice(-1-te,0,q={tag:F,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),q.script):void 0},getLangSysTable:function(oe,q,$){var te,oe=this.getScriptTable(oe,$);if(oe)return q&&q!=="dflt"&&q!=="DFLT"?0<=(te=Or(oe.langSysRecords,q))?oe.langSysRecords[te].langSys:$?(oe.langSysRecords.splice(-1-te,0,$={tag:q,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),$.langSys):void 0:oe.defaultLangSys},getFeatureTable:function(F,q,$,te){if(F=this.getLangSysTable(F,q,te),F){for(var oe,he=F.featureIndexes,de=this.font.tables[this.tableName].features,be=0;be<he.length;be++)if((oe=de[he[be]]).tag===$)return oe.feature;if(te)return q=de.length,z.assert(q===0||$>=de[q-1].tag,"Features must be added in alphabetical order."),de.push(oe={tag:$,feature:{params:0,lookupListIndexes:[]}}),he.push(q),oe.feature}},getLookupTables:function(he,q,$,te,oe){var he=this.getFeatureTable(he,q,$,oe),de=[];if(he){for(var be,je=he.lookupListIndexes,Ce=this.font.tables[this.tableName].lookups,Re=0;Re<je.length;Re++)(be=Ce[je[Re]]).lookupType===te&&de.push(be);if(de.length===0&&oe)return q=Ce.length,Ce.push(be={lookupType:te,lookupFlag:0,subtables:[],markFilteringSet:void 0}),je.push(q),[be]}return de},getGlyphClass:function(F,q){switch(F.format){case 1:return F.startGlyph<=q&&q<F.startGlyph+F.classes.length?F.classes[q-F.startGlyph]:0;case 2:var $=Zr(F.ranges,q);return $?$.classId:0}},getCoverageIndex:function(F,q){switch(F.format){case 1:var $=Yr(F.glyphs,q);return 0<=$?$:-1;case 2:return $=Zr(F.ranges,q),$?$.index+q-$.start:-1}},expandCoverage:function(F){if(F.format===1)return F.glyphs;for(var q=[],$=F.ranges,te=0;te<$.length;te++)for(var oe=$[te],he=oe.start,de=oe.end,be=he;be<=de;be++)q.push(be);return q}}).init=function(){var F=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(F)},jr.prototype.getKerningValue=function(F,q,$){for(var te=0;te<F.length;te++)for(var oe=F[te].subtables,he=0;he<oe.length;he++){var de=oe[he],be=this.getCoverageIndex(de.coverage,q);if(!(be<0))switch(de.posFormat){case 1:for(var je=de.pairSets[be],Ce=0;Ce<je.length;Ce++){var Re=je[Ce];if(Re.secondGlyph===$)return Re.value1&&Re.value1.xAdvance||0}break;case 2:var Le=this.getGlyphClass(de.classDef1,q),Ue=this.getGlyphClass(de.classDef2,$),Le=de.classRecords[Le][Ue];return Le.value1&&Le.value1.xAdvance||0}}return 0},jr.prototype.getKerningTables=function(F,q){if(this.font.tables.gpos)return this.getLookupTables(F,q,"kern",2)},(ir.prototype=Cr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ir.prototype.getSingle=function(F,q,$){for(var te=[],oe=this.getLookupTables(q,$,F,1),he=0;he<oe.length;he++)for(var de=oe[he].subtables,be=0;be<de.length;be++){var je=de[be],Ce=this.expandCoverage(je.coverage),Re=void 0;if(je.substFormat===1)for(var Ue=je.deltaGlyphId,Re=0;Re<Ce.length;Re++){var Le=Ce[Re];te.push({sub:Le,by:Le+Ue})}else{var Pe=je.substitute;for(Re=0;Re<Ce.length;Re++)te.push({sub:Ce[Re],by:Pe[Re]})}}return te},ir.prototype.getAlternates=function(F,q,$){for(var te=[],oe=this.getLookupTables(q,$,F,3),he=0;he<oe.length;he++)for(var de=oe[he].subtables,be=0;be<de.length;be++)for(var je=de[be],Ce=this.expandCoverage(je.coverage),Re=je.alternateSets,Ue=0;Ue<Ce.length;Ue++)te.push({sub:Ce[Ue],by:Re[Ue]});return te},ir.prototype.getLigatures=function(F,q,$){for(var te=[],oe=this.getLookupTables(q,$,F,4),he=0;he<oe.length;he++)for(var de=oe[he].subtables,be=0;be<de.length;be++)for(var je=de[be],Ce=this.expandCoverage(je.coverage),Re=je.ligatureSets,Ue=0;Ue<Ce.length;Ue++)for(var Le=Ce[Ue],Pe=Re[Ue],Ke=0;Ke<Pe.length;Ke++){var We=Pe[Ke];te.push({sub:[Le].concat(We.components),by:We.ligGlyph})}return te},ir.prototype.addSingle=function(F,q,$,te){$=Kr(this.getLookupTables($,te,F,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),z.assert($.coverage.format===1,"Ligature: unable to modify coverage table format "+$.coverage.format),te=q.sub,F=this.binSearch($.coverage.glyphs,te),F<0&&($.coverage.glyphs.splice(F=-1-F,0,te),$.substitute.splice(F,0,0)),$.substitute[F]=q.by},ir.prototype.addAlternate=function(F,q,$,te){$=Kr(this.getLookupTables($,te,F,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),z.assert($.coverage.format===1,"Ligature: unable to modify coverage table format "+$.coverage.format),te=q.sub,F=this.binSearch($.coverage.glyphs,te),F<0&&($.coverage.glyphs.splice(F=-1-F,0,te),$.alternateSets.splice(F,0,0)),$.alternateSets[F]=q.by},ir.prototype.addLigature=function(he,je,be,oe){var be=this.getLookupTables(be,oe,he,4,!0)[0],oe=be.subtables[0],he=(oe||(be.subtables[0]=oe={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),z.assert(oe.coverage.format===1,"Ligature: unable to modify coverage table format "+oe.coverage.format),je.sub[0]),de=je.sub.slice(1),be={ligGlyph:je.by,components:de},je=this.binSearch(oe.coverage.glyphs,he);if(0<=je){for(var Ce=oe.ligatureSets[je],Re=0;Re<Ce.length;Re++)if(function(Ue,Le){var Pe=Ue.length;if(Pe===Le.length){for(var Ke=0;Ke<Pe;Ke++)if(Ue[Ke]!==Le[Ke])return;return 1}}(Ce[Re].components,de))return;Ce.push(be)}else oe.coverage.glyphs.splice(je=-1-je,0,he),oe.ligatureSets.splice(je,0,[be])},ir.prototype.getFeature=function(F,q,$){if(/ss\d\d/.test(F))return this.getSingle(F,q,$);switch(F){case"aalt":case"salt":return this.getSingle(F,q,$).concat(this.getAlternates(F,q,$));case"dlig":case"liga":case"rlig":return this.getLigatures(F,q,$)}},ir.prototype.add=function(F,q,$,te){if(/ss\d\d/.test(F))return this.addSingle(F,q,$,te);switch(F){case"aalt":case"salt":return typeof q.by=="number"?this.addSingle(F,q,$,te):this.addAlternate(F,q,$,te);case"dlig":case"liga":case"rlig":return this.addLigature(F,q,$,te)}};var en={getPath:Qr,parse:function(F,q,$,te){for(var oe=new lt.GlyphSet(te),he=0;he<$.length-1;he+=1){var de=$[he];de!==$[he+1]?oe.push(he,lt.ttfGlyphLoader(te,he,Cn,F,q+de,jn)):oe.push(he,lt.glyphLoader(te,he))}return oe}};function tn(F){this.font=F,this.getCommands=function(q){return en.getPath(q).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Pn(F){return F}function rn(F){return Math.sign(F)*Math.round(Math.abs(F))}function Mn(F){return Math.sign(F)*Math.round(Math.abs(2*F))/2}function In(F){return Math.sign(F)*(Math.round(Math.abs(F)+.5)-.5)}function On(F){return Math.sign(F)*Math.ceil(Math.abs(F))}function Nn(F){return Math.sign(F)*Math.floor(Math.abs(F))}function nn(F){var q=this.srPeriod,$=this.srPhase,te=1;return F<0&&(F=-F,te=-1),F+=this.srThreshold-$,F=Math.trunc(F/q)*q,(F+=$)<0?$*te:F*te}var or={x:1,y:0,axis:"x",distance:function(F,q,$,te){return($?F.xo:F.x)-(te?q.xo:q.x)},interpolate:function(F,q,$,te){var oe,he,de,be,je,Ce,Re;if(!te||te===this)return oe=F.xo-q.xo,he=F.xo-$.xo,je=q.x-q.xo,Ce=$.x-$.xo,(Re=(de=Math.abs(oe))+(be=Math.abs(he)))===0?void(F.x=F.xo+(je+Ce)/2):void(F.x=F.xo+(je*be+Ce*de)/Re);oe=te.distance(F,q,!0,!0),he=te.distance(F,$,!0,!0),je=te.distance(q,q,!1,!0),Ce=te.distance($,$,!1,!0),(Re=(de=Math.abs(oe))+(be=Math.abs(he)))===0?or.setRelative(F,F,(je+Ce)/2,te,!0):or.setRelative(F,F,(je*be+Ce*de)/Re,te,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(F,q,$,te,oe){var he,de;te&&te!==this?(he=oe?q.xo:q.x,de=oe?q.yo:q.y,he+=$*te.x,de+=$*te.y,F.x=he+(F.y-de)/te.normalSlope):F.x=(oe?q.xo:q.x)+$},slope:0,touch:function(F){F.xTouched=!0},touched:function(F){return F.xTouched},untouch:function(F){F.xTouched=!1}},ar={x:0,y:1,axis:"y",distance:function(F,q,$,te){return($?F.yo:F.y)-(te?q.yo:q.y)},interpolate:function(F,q,$,te){var oe,he,de,be,je,Ce,Re;if(!te||te===this)return oe=F.yo-q.yo,he=F.yo-$.yo,je=q.y-q.yo,Ce=$.y-$.yo,(Re=(de=Math.abs(oe))+(be=Math.abs(he)))===0?void(F.y=F.yo+(je+Ce)/2):void(F.y=F.yo+(je*be+Ce*de)/Re);oe=te.distance(F,q,!0,!0),he=te.distance(F,$,!0,!0),je=te.distance(q,q,!1,!0),Ce=te.distance($,$,!1,!0),(Re=(de=Math.abs(oe))+(be=Math.abs(he)))===0?ar.setRelative(F,F,(je+Ce)/2,te,!0):ar.setRelative(F,F,(je*be+Ce*de)/Re,te,!0)},normalSlope:0,setRelative:function(F,q,$,te,oe){var he,de;te&&te!==this?(he=oe?q.xo:q.x,de=oe?q.yo:q.y,he+=$*te.x,de+=$*te.y,F.y=de+te.normalSlope*(F.x-he)):F.y=(oe?q.yo:q.y)+$},slope:Number.POSITIVE_INFINITY,touch:function(F){F.yTouched=!0},touched:function(F){return F.yTouched},untouch:function(F){F.yTouched=!1}};function xr(F,q){this.x=F,this.y=q,this.axis=void 0,this.slope=q/F,this.normalSlope=-F/q,Object.freeze(this)}function Sr(F,q){var $=Math.sqrt(F*F+q*q);return q/=$,(F/=$)===1&&q===0?or:F===0&&q===1?ar:new xr(F,q)}function lr(F,q,$,te){this.x=this.xo=Math.round(64*F)/64,this.y=this.yo=Math.round(64*q)/64,this.lastPointOfContour=$,this.onCurve=te,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(or),Object.freeze(ar),xr.prototype.distance=function(F,q,$,te){return this.x*or.distance(F,q,$,te)+this.y*ar.distance(F,q,$,te)},xr.prototype.interpolate=function(F,oe,he,te){var de=te.distance(F,oe,!0,!0),be=te.distance(F,he,!0,!0),oe=te.distance(oe,oe,!1,!0),he=te.distance(he,he,!1,!0),de=Math.abs(de),be=Math.abs(be),je=de+be;je===0?this.setRelative(F,F,(oe+he)/2,te,!0):this.setRelative(F,F,(oe*be+he*de)/je,te,!0)},xr.prototype.setRelative=function(F,he,je,Ce,be){var de=be?he.xo:he.x,be=be?he.yo:he.y,he=de+je*(Ce=Ce||this).x,de=be+je*Ce.y,be=Ce.normalSlope,je=this.slope,Ce=F.x,Re=F.y;F.x=(je*Ce-be*he+de-Re)/(je-be),F.y=je*(F.x-Ce)+Re},xr.prototype.touch=function(F){F.xTouched=!0,F.yTouched=!0},lr.prototype.nextTouched=function(F){for(var q=this.nextPointOnContour;!F.touched(q)&&q!==this;)q=q.nextPointOnContour;return q},lr.prototype.prevTouched=function(F){for(var q=this.prevPointOnContour;!F.touched(q)&&q!==this;)q=q.prevPointOnContour;return q};var Er=Object.freeze(new lr(0,0)),Dn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function cr(F,q){switch(this.env=F,this.stack=[],this.prog=q,F){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=or,this.round=rn}}function Pr(F){for(var q=F.tZone=new Array(F.gZone.length),$=0;$<q.length;$++)q[$]=new lr(0,0)}function sn(F,q){var $,te=F.prog,oe=F.ip,he=1;do if(($=te[++oe])===88)he++;else if($===89)he--;else if($===64)oe+=te[oe+1]+1;else if($===65)oe+=2*te[oe+1]+1;else if(176<=$&&$<=183)oe+=$-176+1;else if(184<=$&&$<=191)oe+=2*($-184+1);else if(q&&he===1&&$===27)break;while(0<he);F.ip=oe}function on(F,q){x.DEBUG&&console.log(q.step,"SVTCA["+F.axis+"]"),q.fv=q.pv=q.dpv=F}function an(F,q){x.DEBUG&&console.log(q.step,"SPVTCA["+F.axis+"]"),q.pv=q.dpv=F}function ln(F,q){x.DEBUG&&console.log(q.step,"SFVTCA["+F.axis+"]"),q.fv=F}function cn(F,q){var $,oe=q.stack,te=oe.pop(),oe=oe.pop(),he=q.z2[te],de=q.z1[oe];x.DEBUG&&console.log("SPVTL["+F+"]",te,oe),te=F?($=he.y-de.y,de.x-he.x):($=de.x-he.x,de.y-he.y),q.pv=q.dpv=Sr($,te)}function un(F,q){var $,oe=q.stack,te=oe.pop(),oe=oe.pop(),he=q.z2[te],de=q.z1[oe];x.DEBUG&&console.log("SFVTL["+F+"]",te,oe),te=F?($=he.y-de.y,de.x-he.x):($=de.x-he.x,de.y-he.y),q.fv=Sr($,te)}function Dr(F){x.DEBUG&&console.log(F.step,"POP[]"),F.stack.pop()}function hn(F,q){var $=q.stack.pop(),te=q.z0[$],oe=q.fv,he=q.pv,de=(x.DEBUG&&console.log(q.step,"MDAP["+F+"]",$),he.distance(te,Er));F&&(de=q.round(de)),oe.setRelative(te,Er,de,he),oe.touch(te),q.rp0=q.rp1=$}function dn(F,q){var $,te,oe,he=q.z2,de=he.length-2;x.DEBUG&&console.log(q.step,"IUP["+F.axis+"]");for(var be=0;be<de;be++)$=he[be],F.touched($)||(te=$.prevTouched(F))!==$&&(te===(oe=$.nextTouched(F))&&F.setRelative($,$,F.distance(te,te,!1,!0),F,!0),F.interpolate($,te,oe,F))}function fn(F,q){for(var $=q.stack,te=F?q.rp1:q.rp2,oe=(F?q.z0:q.z1)[te],he=q.fv,de=q.pv,be=q.loop,je=q.z2;be--;){var Ce=$.pop(),Re=je[Ce],Ue=de.distance(oe,oe,!1,!0);he.setRelative(Re,Re,Ue,de),he.touch(Re),x.DEBUG&&console.log(q.step,(1<q.loop?"loop "+(q.loop-be)+": ":"")+"SHP["+(F?"rp1":"rp2")+"]",Ce)}q.loop=1}function pn(F,q){for(var $=q.stack,de=F?q.rp1:q.rp2,te=(F?q.z0:q.z1)[de],oe=q.fv,he=q.pv,de=$.pop(),be=q.z2[q.contours[de]],je=be,Ce=(x.DEBUG&&console.log(q.step,"SHC["+F+"]",de),he.distance(te,te,!1,!0));je!==te&&oe.setRelative(je,je,Ce,he),(je=je.nextPointOnContour)!==be;);}function mn(F,q){var $,te,be=q.stack,oe=F?q.rp1:q.rp2,oe=(F?q.z0:q.z1)[oe],he=q.fv,de=q.pv,be=be.pop();switch(x.DEBUG&&console.log(q.step,"SHZ["+F+"]",be),be){case 0:$=q.tZone;break;case 1:$=q.gZone;break;default:throw new Error("Invalid zone")}for(var je=de.distance(oe,oe,!1,!0),Ce=$.length-2,Re=0;Re<Ce;Re++)te=$[Re],he.setRelative(te,te,je,de)}function yn(F,q){var te=q.stack,$=te.pop()/64,te=te.pop(),oe=q.z1[te],he=q.z0[q.rp0],de=q.fv,be=q.pv;de.setRelative(oe,he,$,be),de.touch(oe),x.DEBUG&&console.log(q.step,"MSIRP["+F+"]",$,te),q.rp1=q.rp0,q.rp2=te,F&&(q.rp0=te)}function gn(F,q){var $=q.stack,be=$.pop(),$=$.pop(),te=q.z0[$],oe=q.fv,he=q.pv,de=q.cvt[be],be=(x.DEBUG&&console.log(q.step,"MIAP["+F+"]",be,"(",de,")",$),he.distance(te,Er));F&&(Math.abs(be-de)<q.cvCutIn&&(be=de),be=q.round(be)),oe.setRelative(te,Er,be,he),q.zp0===0&&(te.xo=te.x,te.yo=te.y),oe.touch(te),q.rp0=q.rp1=$}function vn(F,q){var $=q.stack,te=$.pop(),oe=q.z2[te];x.DEBUG&&console.log(q.step,"GC["+F+"]",te),$.push(64*q.dpv.distance(oe,Er,F,!1))}function _n(F,q){var te=q.stack,$=te.pop(),te=te.pop(),oe=q.z1[$],he=q.z0[te],he=q.dpv.distance(he,oe,F,F);x.DEBUG&&console.log(q.step,"MD["+F+"]",$,te,"->",he),q.stack.push(Math.round(64*he))}function Rr(F,q){var $=q.stack,te=$.pop(),oe=q.fv,he=q.pv,de=q.ppem,be=q.deltaBase+16*(F-1),je=q.deltaShift,Ce=q.z0;x.DEBUG&&console.log(q.step,"DELTAP["+F+"]",te,$);for(var Re=0;Re<te;Re++){var Ue=$.pop(),Le=$.pop();be+((240&Le)>>4)===de&&(0<=(Le=(15&Le)-8)&&Le++,x.DEBUG&&console.log(q.step,"DELTAPFIX",Ue,"by",Le*je),Ue=Ce[Ue],oe.setRelative(Ue,Ue,Le*je,he))}}function Mr(F,q){var $=q.stack,te=$.pop();x.DEBUG&&console.log(q.step,"ROUND[]"),$.push(64*q.round(te/64))}function Fr(F,q){var $=q.stack,te=$.pop(),oe=q.ppem,he=q.deltaBase+16*(F-1),de=q.deltaShift;x.DEBUG&&console.log(q.step,"DELTAC["+F+"]",te,$);for(var be=0;be<te;be++){var je=$.pop(),Ce=$.pop();he+((240&Ce)>>4)===oe&&(0<=(Ce=(15&Ce)-8)&&Ce++,Ce=Ce*de,x.DEBUG&&console.log(q.step,"DELTACFIX",je,"by",Ce),q.cvt[je]+=Ce)}}function bn(F,q){var $,oe=q.stack,te=oe.pop(),oe=oe.pop(),he=q.z2[te],de=q.z1[oe];x.DEBUG&&console.log(q.step,"SDPVTL["+F+"]",te,oe),te=F?($=he.y-de.y,de.x-he.x):($=de.x-he.x,de.y-he.y),q.dpv=Sr($,te)}function ur(F,q){var $=q.stack,te=q.prog,oe=q.ip;x.DEBUG&&console.log(q.step,"PUSHB["+F+"]");for(var he=0;he<F;he++)$.push(te[++oe]);q.ip=oe}function hr(F,q){var $=q.ip,te=q.prog,oe=q.stack;x.DEBUG&&console.log(q.ip,"PUSHW["+F+"]");for(var he=0;he<F;he++){var de=te[++$]<<8|te[++$];32768&de&&(de=-(1+(65535^de))),oe.push(de)}q.ip=$}function ct(F,q,$,te,oe,he){var de,be,Ce=he.stack,je=F&&Ce.pop(),Ce=Ce.pop(),Re=he.rp0,Re=he.z0[Re],Ue=he.z1[Ce],Le=he.minDis,Pe=he.fv,Ke=he.dpv,We=de=Ke.distance(Ue,Re,!0,!0),Ye=0<=We?1:-1;We=Math.abs(We),F&&(be=he.cvt[je],te&&Math.abs(We-be)<he.cvCutIn&&(We=be)),$&&We<Le&&(We=Le),te&&(We=he.round(We)),Pe.setRelative(Ue,Re,Ye*We,Ke),Pe.touch(Ue),x.DEBUG&&console.log(he.step,(F?"MIRP[":"MDRP[")+(q?"M":"m")+($?">":"_")+(te?"R":"_")+(oe===0?"Gr":oe===1?"Bl":oe===2?"Wh":"")+"]",F?je+"("+he.cvt[je]+","+be+")":"",Ce,"(d =",de,"->",Ye*We,")"),he.rp1=he.rp0,he.rp2=Ce,q&&(he.rp0=Ce)}tn.prototype.exec=function(F,q){if(typeof q!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var $=this.font,te=this._prepState;if(!te||te.ppem!==q){var oe=this._fpgmState;if(!oe){cr.prototype=Dn,(oe=this._fpgmState=new cr("fpgm",$.tables.fpgm)).funcs=[],oe.font=$,x.DEBUG&&(console.log("---EXEC FPGM---"),oe.step=-1);try{mr(oe)}catch(Ce){return console.log("Hinting error in FPGM:"+Ce),void(this._errorState=3)}}cr.prototype=oe,(te=this._prepState=new cr("prep",$.tables.prep)).ppem=q;var he=$.tables.cvt;if(he)for(var de=te.cvt=new Array(he.length),be=q/$.unitsPerEm,je=0;je<he.length;je++)de[je]=he[je]*be;else te.cvt=[];x.DEBUG&&(console.log("---EXEC PREP---"),te.step=-1);try{mr(te)}catch(Ce){this._errorState<2&&console.log("Hinting error in PREP:"+Ce),this._errorState=2}}if(!(1<this._errorState))try{return Rn(F,te)}catch(Ce){this._errorState<1&&(console.log("Hinting error:"+Ce),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Rn=function(F,q){var $=q.ppem/q.font.unitsPerEm,te=$,oe=F.components;if(cr.prototype=q,oe){for(var he=q.font,de=[],be=[],je=0;je<oe.length;je++){var Ce=oe[je],Re=he.glyphs.get(Ce.glyphIndex),Ue=new cr("glyf",Re.instructions);x.DEBUG&&(console.log("---EXEC COMP "+je+"---"),Ue.step=-1),wn(Re,Ue,$,te);for(var Le=Math.round(Ce.dx*$),Pe=Math.round(Ce.dy*te),Ke=Ue.gZone,We=Ue.contours,Ye=0;Ye<Ke.length;Ye++){var Ge=Ke[Ye];Ge.xTouched=Ge.yTouched=!1,Ge.xo=Ge.x=Ge.x+Le,Ge.yo=Ge.y=Ge.y+Pe}var ze=de.length;de.push.apply(de,Ke);for(var ut=0;ut<We.length;ut++)be.push(We[ut]+ze)}F.instructions&&!Ue.inhibitGridFit&&((Ue=new cr("glyf",F.instructions)).gZone=Ue.z0=Ue.z1=Ue.z2=de,Ue.contours=be,de.push(new lr(0,0),new lr(Math.round(F.advanceWidth*$),0)),x.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ue.step=-1),mr(Ue),de.length-=2)}else Ue=new cr("glyf",F.instructions),x.DEBUG&&(console.log("---EXEC GLYPH---"),Ue.step=-1),wn(F,Ue,$,te),de=Ue.gZone;return de},wn=function(F,q,$,te){for(var oe,he,de,be=F.points||[],je=be.length,Ce=q.gZone=q.z0=q.z1=q.z2=[],Re=q.contours=[],Ue=0;Ue<je;Ue++)oe=be[Ue],Ce[Ue]=new lr(oe.x*$,oe.y*te,oe.lastPointOfContour,oe.onCurve);for(var Le=0;Le<je;Le++)oe=Ce[Le],he||(he=oe,Re.push(Le)),oe.lastPointOfContour?((oe.nextPointOnContour=he).prevPointOnContour=oe,he=void 0):(de=Ce[Le+1],(oe.nextPointOnContour=de).prevPointOnContour=oe);if(!q.inhibitGridFit){if(x.DEBUG){console.log("PROCESSING GLYPH",q.stack);for(var Pe=0;Pe<je;Pe++)console.log(Pe,Ce[Pe].x,Ce[Pe].y)}if(Ce.push(new lr(0,0),new lr(Math.round(F.advanceWidth*$),0)),mr(q),Ce.length-=2,x.DEBUG){console.log("FINISHED GLYPH",q.stack);for(var Ke=0;Ke<je;Ke++)console.log(Ke,Ce[Ke].x,Ce[Ke].y)}}},mr=function(F){var q=F.prog;if(q){var $,te=q.length;for(F.ip=0;F.ip<te;F.ip++){if(x.DEBUG&&F.step++,!($=Fn[q[F.ip]]))throw new Error("unknown instruction: 0x"+Number(q[F.ip]).toString(16));$(F)}}},Fn=[on.bind(void 0,ar),on.bind(void 0,or),an.bind(void 0,ar),an.bind(void 0,or),ln.bind(void 0,ar),ln.bind(void 0,or),cn.bind(void 0,0),cn.bind(void 0,1),un.bind(void 0,0),un.bind(void 0,1),function(F){var q=($=F.stack).pop(),$=$.pop();x.DEBUG&&console.log(F.step,"SPVFS[]",q,$),F.pv=F.dpv=Sr($,q)},function(F){var q=($=F.stack).pop(),$=$.pop();x.DEBUG&&console.log(F.step,"SPVFS[]",q,$),F.fv=Sr($,q)},function(F){var q=F.stack,$=F.pv;x.DEBUG&&console.log(F.step,"GPV[]"),q.push(16384*$.x),q.push(16384*$.y)},function(F){var q=F.stack,$=F.fv;x.DEBUG&&console.log(F.step,"GFV[]"),q.push(16384*$.x),q.push(16384*$.y)},function(F){F.fv=F.pv,x.DEBUG&&console.log(F.step,"SFVTPV[]")},function(q){var $=(de=q.stack).pop(),te=de.pop(),oe=de.pop(),he=de.pop(),de=de.pop(),je=q.z0,Re=q.z1,be=je[$],je=je[te],Ce=Re[oe],Re=Re[he],q=q.z2[de],$=(x.DEBUG&&console.log("ISECT[], ",$,te,oe,he,de),be.x),te=be.y,oe=je.x,he=je.y,de=Ce.x,be=Ce.y,je=Re.x,Ce=Re.y,Re=($-oe)*(be-Ce)-(te-he)*(de-je),Ue=$*he-te*oe,Le=de*Ce-be*je;q.x=(Ue*(de-je)-Le*($-oe))/Re,q.y=(Ue*(be-Ce)-Le*(te-he))/Re},function(F){F.rp0=F.stack.pop(),x.DEBUG&&console.log(F.step,"SRP0[]",F.rp0)},function(F){F.rp1=F.stack.pop(),x.DEBUG&&console.log(F.step,"SRP1[]",F.rp1)},function(F){F.rp2=F.stack.pop(),x.DEBUG&&console.log(F.step,"SRP2[]",F.rp2)},function(F){var q=F.stack.pop();switch(x.DEBUG&&console.log(F.step,"SZP0[]",q),F.zp0=q){case 0:F.tZone||Pr(F),F.z0=F.tZone;break;case 1:F.z0=F.gZone;break;default:throw new Error("Invalid zone pointer")}},function(F){var q=F.stack.pop();switch(x.DEBUG&&console.log(F.step,"SZP1[]",q),F.zp1=q){case 0:F.tZone||Pr(F),F.z1=F.tZone;break;case 1:F.z1=F.gZone;break;default:throw new Error("Invalid zone pointer")}},function(F){var q=F.stack.pop();switch(x.DEBUG&&console.log(F.step,"SZP2[]",q),F.zp2=q){case 0:F.tZone||Pr(F),F.z2=F.tZone;break;case 1:F.z2=F.gZone;break;default:throw new Error("Invalid zone pointer")}},function(F){var q=F.stack.pop();switch(x.DEBUG&&console.log(F.step,"SZPS[]",q),F.zp0=F.zp1=F.zp2=q){case 0:F.tZone||Pr(F),F.z0=F.z1=F.z2=F.tZone;break;case 1:F.z0=F.z1=F.z2=F.gZone;break;default:throw new Error("Invalid zone pointer")}},function(F){F.loop=F.stack.pop(),x.DEBUG&&console.log(F.step,"SLOOP[]",F.loop)},function(F){x.DEBUG&&console.log(F.step,"RTG[]"),F.round=rn},function(F){x.DEBUG&&console.log(F.step,"RTHG[]"),F.round=In},function(F){var q=F.stack.pop();x.DEBUG&&console.log(F.step,"SMD[]",q),F.minDis=q/64},function(F){x.DEBUG&&console.log(F.step,"ELSE[]"),sn(F,!1)},function(F){var q=F.stack.pop();x.DEBUG&&console.log(F.step,"JMPR[]",q),F.ip+=q-1},function(F){var q=F.stack.pop();x.DEBUG&&console.log(F.step,"SCVTCI[]",q),F.cvCutIn=q/64},void 0,void 0,function(F){var q=F.stack;x.DEBUG&&console.log(F.step,"DUP[]"),q.push(q[q.length-1])},Dr,function(F){x.DEBUG&&console.log(F.step,"CLEAR[]"),F.stack.length=0},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"SWAP[]"),q.push($),q.push(te)},function(F){var q=F.stack;x.DEBUG&&console.log(F.step,"DEPTH[]"),q.push(q.length)},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"CINDEX[]",$),q.push(q[q.length-$])},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"MINDEX[]",$),q.push(q.splice(q.length-$,1)[0])},void 0,void 0,void 0,function(F){var q=(te=F.stack).pop(),$=te.pop(),te=(x.DEBUG&&console.log(F.step,"LOOPCALL[]",q,$),F.ip),oe=F.prog;F.prog=F.funcs[q];for(var he=0;he<$;he++)mr(F),x.DEBUG&&console.log(++F.step,he+1<$?"next loopcall":"done loopcall",he);F.ip=te,F.prog=oe},function(F){var q=F.stack.pop(),$=(x.DEBUG&&console.log(F.step,"CALL[]",q),F.ip),te=F.prog;F.prog=F.funcs[q],mr(F),F.ip=$,F.prog=te,x.DEBUG&&console.log(++F.step,"returning from",q)},function(F){if(F.env!=="fpgm")throw new Error("FDEF not allowed here");var te=F.stack,q=F.prog,$=F.ip,te=te.pop(),oe=$;for(x.DEBUG&&console.log(F.step,"FDEF[]",te);q[++$]!==45;);F.ip=$,F.funcs[te]=q.slice(oe+1,$)},void 0,hn.bind(void 0,0),hn.bind(void 0,1),dn.bind(void 0,ar),dn.bind(void 0,or),fn.bind(void 0,0),fn.bind(void 0,1),pn.bind(void 0,0),pn.bind(void 0,1),mn.bind(void 0,0),mn.bind(void 0,1),function(F){for(var q=F.stack,$=F.loop,te=F.fv,oe=q.pop()/64,he=F.z2;$--;){var de=q.pop(),be=he[de];x.DEBUG&&console.log(F.step,(1<F.loop?"loop "+(F.loop-$)+": ":"")+"SHPIX[]",de,oe),te.setRelative(be,be,oe),te.touch(be)}F.loop=1},function(F){for(var q=F.stack,$=F.rp1,te=F.rp2,oe=F.loop,he=F.z0[$],de=F.z1[te],be=F.fv,je=F.dpv,Ce=F.z2;oe--;){var Re=q.pop(),Ue=Ce[Re];x.DEBUG&&console.log(F.step,(1<F.loop?"loop "+(F.loop-oe)+": ":"")+"IP[]",Re,$,"<->",te),be.interpolate(Ue,he,de,je),be.touch(Ue)}F.loop=1},yn.bind(void 0,0),yn.bind(void 0,1),function(F){for(var q=F.stack,$=F.rp0,te=F.z0[$],oe=F.loop,he=F.fv,de=F.pv,be=F.z1;oe--;){var je=q.pop(),Ce=be[je];x.DEBUG&&console.log(F.step,(1<F.loop?"loop "+(F.loop-oe)+": ":"")+"ALIGNRP[]",je),he.setRelative(Ce,te,0,de),he.touch(Ce)}F.loop=1},function(F){x.DEBUG&&console.log(F.step,"RTDG[]"),F.round=Mn},gn.bind(void 0,0),gn.bind(void 0,1),function(F){var q=F.prog,$=F.ip,te=F.stack,oe=q[++$];x.DEBUG&&console.log(F.step,"NPUSHB[]",oe);for(var he=0;he<oe;he++)te.push(q[++$]);F.ip=$},function(F){var q=F.ip,$=F.prog,te=F.stack,oe=$[++q];x.DEBUG&&console.log(F.step,"NPUSHW[]",oe);for(var he=0;he<oe;he++){var de=$[++q]<<8|$[++q];32768&de&&(de=-(1+(65535^de))),te.push(de)}F.ip=q},function(F){var te=F.stack,q=(q=F.store)||(F.store=[]),$=te.pop(),te=te.pop();x.DEBUG&&console.log(F.step,"WS",$,te),q[te]=$},function(oe){var q=oe.stack,$=oe.store,te=q.pop(),oe=(x.DEBUG&&console.log(oe.step,"RS",te),$&&$[te]||0);q.push(oe)},function(F){var q=($=F.stack).pop(),$=$.pop();x.DEBUG&&console.log(F.step,"WCVTP",q,$),F.cvt[$]=q/64},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"RCVT",$),q.push(64*F.cvt[$])},vn.bind(void 0,0),vn.bind(void 0,1),void 0,_n.bind(void 0,0),_n.bind(void 0,1),function(F){x.DEBUG&&console.log(F.step,"MPPEM[]"),F.stack.push(F.ppem)},void 0,function(F){x.DEBUG&&console.log(F.step,"FLIPON[]"),F.autoFlip=!0},void 0,void 0,function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"LT[]",$,te),q.push(te<$?1:0)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"LTEQ[]",$,te),q.push(te<=$?1:0)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"GT[]",$,te),q.push($<te?1:0)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"GTEQ[]",$,te),q.push($<=te?1:0)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"EQ[]",$,te),q.push($===te?1:0)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"NEQ[]",$,te),q.push($!==te?1:0)},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"ODD[]",$),q.push(Math.trunc($)%2?1:0)},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"EVEN[]",$),q.push(Math.trunc($)%2?0:1)},function(F){var q=F.stack.pop();x.DEBUG&&console.log(F.step,"IF[]",q),q||(sn(F,!0),x.DEBUG&&console.log(F.step,"EIF[]"))},function(F){x.DEBUG&&console.log(F.step,"EIF[]")},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"AND[]",$,te),q.push($&&te?1:0)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"OR[]",$,te),q.push($||te?1:0)},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"NOT[]",$),q.push($?0:1)},Rr.bind(void 0,1),function(F){var q=F.stack.pop();x.DEBUG&&console.log(F.step,"SDB[]",q),F.deltaBase=q},function(F){var q=F.stack.pop();x.DEBUG&&console.log(F.step,"SDS[]",q),F.deltaShift=Math.pow(.5,q)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"ADD[]",$,te),q.push(te+$)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"SUB[]",$,te),q.push(te-$)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"DIV[]",$,te),q.push(64*te/$)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"MUL[]",$,te),q.push(te*$/64)},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"ABS[]",$),q.push(Math.abs($))},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"NEG[]",$),q.push(-$)},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"FLOOR[]",$),q.push(64*Math.floor($/64))},function(F){var q=F.stack,$=q.pop();x.DEBUG&&console.log(F.step,"CEILING[]",$),q.push(64*Math.ceil($/64))},Mr.bind(void 0,0),Mr.bind(void 0,1),Mr.bind(void 0,2),Mr.bind(void 0,3),void 0,void 0,void 0,void 0,function(F){var q=($=F.stack).pop(),$=$.pop();x.DEBUG&&console.log(F.step,"WCVTF[]",q,$),F.cvt[$]=q*F.ppem/F.font.unitsPerEm},Rr.bind(void 0,2),Rr.bind(void 0,3),Fr.bind(void 0,1),Fr.bind(void 0,2),Fr.bind(void 0,3),function(F){var q,$=F.stack.pop();switch(x.DEBUG&&console.log(F.step,"SROUND[]",$),F.round=nn,192&$){case 0:q=.5;break;case 64:q=1;break;case 128:q=2;break;default:throw new Error("invalid SROUND value")}switch(F.srPeriod=q,48&$){case 0:F.srPhase=0;break;case 16:F.srPhase=.25*q;break;case 32:F.srPhase=.5*q;break;case 48:F.srPhase=.75*q;break;default:throw new Error("invalid SROUND value")}F.srThreshold=($&=15)===0?0:($/8-.5)*q},function(F){var q,$=F.stack.pop();switch(x.DEBUG&&console.log(F.step,"S45ROUND[]",$),F.round=nn,192&$){case 0:q=Math.sqrt(2)/2;break;case 64:q=Math.sqrt(2);break;case 128:q=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(F.srPeriod=q,48&$){case 0:F.srPhase=0;break;case 16:F.srPhase=.25*q;break;case 32:F.srPhase=.5*q;break;case 48:F.srPhase=.75*q;break;default:throw new Error("invalid S45ROUND value")}F.srThreshold=($&=15)===0?0:($/8-.5)*q},void 0,void 0,function(F){x.DEBUG&&console.log(F.step,"ROFF[]"),F.round=Pn},void 0,function(F){x.DEBUG&&console.log(F.step,"RUTG[]"),F.round=On},function(F){x.DEBUG&&console.log(F.step,"RDTG[]"),F.round=Nn},Dr,Dr,void 0,void 0,void 0,void 0,void 0,function(F){var q=F.stack.pop();x.DEBUG&&console.log(F.step,"SCANCTRL[]",q)},bn.bind(void 0,0),bn.bind(void 0,1),function(F){var q=F.stack,$=q.pop(),te=0;x.DEBUG&&console.log(F.step,"GETINFO[]",$),1&$&&(te=35),32&$&&(te|=4096),q.push(te)},void 0,function(F){var q=F.stack,$=q.pop(),te=q.pop(),oe=q.pop();x.DEBUG&&console.log(F.step,"ROLL[]"),q.push(te),q.push($),q.push(oe)},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"MAX[]",$,te),q.push(Math.max(te,$))},function(F){var q=F.stack,$=q.pop(),te=q.pop();x.DEBUG&&console.log(F.step,"MIN[]",$,te),q.push(Math.min(te,$))},function(F){var q=F.stack.pop();x.DEBUG&&console.log(F.step,"SCANTYPE[]",q)},function(F){var q=F.stack.pop(),$=F.stack.pop();switch(x.DEBUG&&console.log(F.step,"INSTCTRL[]",q,$),q){case 1:return void(F.inhibitGridFit=!!$);case 2:return void(F.ignoreCvt=!!$);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ur.bind(void 0,1),ur.bind(void 0,2),ur.bind(void 0,3),ur.bind(void 0,4),ur.bind(void 0,5),ur.bind(void 0,6),ur.bind(void 0,7),ur.bind(void 0,8),hr.bind(void 0,1),hr.bind(void 0,2),hr.bind(void 0,3),hr.bind(void 0,4),hr.bind(void 0,5),hr.bind(void 0,6),hr.bind(void 0,7),hr.bind(void 0,8),ct.bind(void 0,0,0,0,0,0),ct.bind(void 0,0,0,0,0,1),ct.bind(void 0,0,0,0,0,2),ct.bind(void 0,0,0,0,0,3),ct.bind(void 0,0,0,0,1,0),ct.bind(void 0,0,0,0,1,1),ct.bind(void 0,0,0,0,1,2),ct.bind(void 0,0,0,0,1,3),ct.bind(void 0,0,0,1,0,0),ct.bind(void 0,0,0,1,0,1),ct.bind(void 0,0,0,1,0,2),ct.bind(void 0,0,0,1,0,3),ct.bind(void 0,0,0,1,1,0),ct.bind(void 0,0,0,1,1,1),ct.bind(void 0,0,0,1,1,2),ct.bind(void 0,0,0,1,1,3),ct.bind(void 0,0,1,0,0,0),ct.bind(void 0,0,1,0,0,1),ct.bind(void 0,0,1,0,0,2),ct.bind(void 0,0,1,0,0,3),ct.bind(void 0,0,1,0,1,0),ct.bind(void 0,0,1,0,1,1),ct.bind(void 0,0,1,0,1,2),ct.bind(void 0,0,1,0,1,3),ct.bind(void 0,0,1,1,0,0),ct.bind(void 0,0,1,1,0,1),ct.bind(void 0,0,1,1,0,2),ct.bind(void 0,0,1,1,0,3),ct.bind(void 0,0,1,1,1,0),ct.bind(void 0,0,1,1,1,1),ct.bind(void 0,0,1,1,1,2),ct.bind(void 0,0,1,1,1,3),ct.bind(void 0,1,0,0,0,0),ct.bind(void 0,1,0,0,0,1),ct.bind(void 0,1,0,0,0,2),ct.bind(void 0,1,0,0,0,3),ct.bind(void 0,1,0,0,1,0),ct.bind(void 0,1,0,0,1,1),ct.bind(void 0,1,0,0,1,2),ct.bind(void 0,1,0,0,1,3),ct.bind(void 0,1,0,1,0,0),ct.bind(void 0,1,0,1,0,1),ct.bind(void 0,1,0,1,0,2),ct.bind(void 0,1,0,1,0,3),ct.bind(void 0,1,0,1,1,0),ct.bind(void 0,1,0,1,1,1),ct.bind(void 0,1,0,1,1,2),ct.bind(void 0,1,0,1,1,3),ct.bind(void 0,1,1,0,0,0),ct.bind(void 0,1,1,0,0,1),ct.bind(void 0,1,1,0,0,2),ct.bind(void 0,1,1,0,0,3),ct.bind(void 0,1,1,0,1,0),ct.bind(void 0,1,1,0,1,1),ct.bind(void 0,1,1,0,1,2),ct.bind(void 0,1,1,0,1,3),ct.bind(void 0,1,1,1,0,0),ct.bind(void 0,1,1,1,0,1),ct.bind(void 0,1,1,1,0,2),ct.bind(void 0,1,1,1,0,3),ct.bind(void 0,1,1,1,1,0),ct.bind(void 0,1,1,1,1,1),ct.bind(void 0,1,1,1,1,2),ct.bind(void 0,1,1,1,1,3)],Ln=Array.from||function(F){return F.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Tt(F){(F=F||{}).empty||(pr(F.familyName,"When creating a new Font object, familyName is required."),pr(F.styleName,"When creating a new Font object, styleName is required."),pr(F.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),pr(F.ascender,"When creating a new Font object, ascender is required."),pr(F.descender,"When creating a new Font object, descender is required."),pr(F.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:F.familyName||" "},fontSubfamily:{en:F.styleName||" "},fullName:{en:F.fullName||F.familyName+" "+F.styleName},postScriptName:{en:F.postScriptName||(F.familyName+F.styleName).replace(/\s/g,"")},designer:{en:F.designer||" "},designerURL:{en:F.designerURL||" "},manufacturer:{en:F.manufacturer||" "},manufacturerURL:{en:F.manufacturerURL||" "},license:{en:F.license||" "},licenseURL:{en:F.licenseURL||" "},version:{en:F.version||"Version 0.1"},description:{en:F.description||" "},copyright:{en:F.copyright||" "},trademark:{en:F.trademark||" "}},this.unitsPerEm=F.unitsPerEm||1e3,this.ascender=F.ascender,this.descender=F.descender,this.createdTimestamp=F.createdTimestamp,this.tables={os2:{usWeightClass:F.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:F.widthClass||this.usWidthClasses.MEDIUM,fsSelection:F.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new lt.GlyphSet(this,F.glyphs||[]),this.encoding=new Be(this),this.position=new jr(this),this.substitution=new ir(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new tn(this):void 0)}})}function xn(F,q){var $,te=JSON.stringify(F),oe=256;for($ in q){var he=parseInt($);if(he&&!(he<256)){if(JSON.stringify(q[$])===te)return he;oe<=he&&(oe=he+1)}}return q[oe]=F,oe}Tt.prototype.hasChar=function(F){return this.encoding.charToGlyphIndex(F)!==null},Tt.prototype.charToGlyphIndex=function(F){return this.encoding.charToGlyphIndex(F)},Tt.prototype.charToGlyph=function(F){return F=this.charToGlyphIndex(F),this.glyphs.get(F)||this.glyphs.get(0)},Tt.prototype.stringToGlyphs=function(F,q){q=q||this.defaultRenderOptions;for(var $=Ln(F),te=[],oe=0;oe<$.length;oe+=1){var he=$[oe];te.push(this.charToGlyphIndex(he))}var de=te.length;if(q.features){var F=q.script||this.substitution.getDefaultScriptName(),be=[];q.features.liga&&(be=be.concat(this.substitution.getFeature("liga",F,q.language))),q.features.rlig&&(be=be.concat(this.substitution.getFeature("rlig",F,q.language)));for(var je=0;je<de;je+=1)for(var Ce=0;Ce<be.length;Ce++){for(var Re=be[Ce],Ue=Re.sub,Le=Ue.length,Pe=0;Pe<Le&&Ue[Pe]===te[je+Pe];)Pe++;Pe===Le&&(te.splice(je,Le,Re.by),de=de-Le+1)}}for(var Ke=new Array(de),We=this.glyphs.get(0),Ye=0;Ye<de;Ye+=1)Ke[Ye]=this.glyphs.get(te[Ye])||We;return Ke},Tt.prototype.nameToGlyphIndex=function(F){return this.glyphNames.nameToGlyphIndex(F)},Tt.prototype.nameToGlyph=function(F){return F=this.nameToGlyphIndex(F),this.glyphs.get(F)||this.glyphs.get(0)},Tt.prototype.glyphIndexToName=function(F){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(F):""},Tt.prototype.getKerningValue=function(F,q){F=F.index||F,q=q.index||q;var $=this.position.defaultKerningTables;return $?this.position.getKerningValue($,F,q):this.kerningPairs[F+","+q]||0},Tt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Tt.prototype.forEachGlyph=function(F,q,$,te,oe,he){q=q!==void 0?q:0,$=$!==void 0?$:0,oe=oe||this.defaultRenderOptions;var de,be=1/this.unitsPerEm*(te=te!==void 0?te:72),je=this.stringToGlyphs(F,oe);oe.kerning&&(F=oe.script||this.position.getDefaultScriptName(),de=this.position.getKerningTables(F,oe.language));for(var Ce=0;Ce<je.length;Ce+=1){var Re=je[Ce];he.call(this,Re,q,$,te,oe),Re.advanceWidth&&(q+=Re.advanceWidth*be),oe.kerning&&Ce<je.length-1&&(q+=(de?this.position.getKerningValue(de,Re.index,je[Ce+1].index):this.getKerningValue(Re,je[Ce+1]))*be),oe.letterSpacing?q+=oe.letterSpacing*te:oe.tracking&&(q+=oe.tracking/1e3*te)}return q},Tt.prototype.getPath=function(F,q,$,te,oe){var he=new ne;return this.forEachGlyph(F,q,$,te,oe,function(de,be,je,Ce){de=de.getPath(be,je,Ce,oe,this),he.extend(de)}),he},Tt.prototype.getPaths=function(F,q,$,te,oe){var he=[];return this.forEachGlyph(F,q,$,te,oe,function(de,be,je,Ce){de=de.getPath(be,je,Ce,oe,this),he.push(de)}),he},Tt.prototype.getAdvanceWidth=function(F,q,$){return this.forEachGlyph(F,0,0,q,$,function(){})},Tt.prototype.draw=function(F,q,$,te,oe,he){this.getPath(q,$,te,oe,he).draw(F)},Tt.prototype.drawPoints=function(F,q,$,te,oe,he){this.forEachGlyph(q,$,te,oe,he,function(de,be,je,Ce){de.drawPoints(F,be,je,Ce)})},Tt.prototype.drawMetrics=function(F,q,$,te,oe,he){this.forEachGlyph(q,$,te,oe,he,function(de,be,je,Ce){de.drawMetrics(F,be,je,Ce)})},Tt.prototype.getEnglishName=function(F){if(F=this.names[F],F)return F.en},Tt.prototype.validate=function(){var F=this;function q($){$=F.getEnglishName($),$&&$.trim().length}q("fontFamily"),q("weightName"),q("manufacturer"),q("copyright"),q("version"),this.unitsPerEm},Tt.prototype.toTables=function(){return An.fontToTable(this)},Tt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Tt.prototype.toArrayBuffer=function(){for(var F=this.toTables().encode(),q=new ArrayBuffer(F.length),$=new Uint8Array(q),te=0;te<F.length;te++)$[te]=F[te];return q},Tt.prototype.download=function(F){var q=this.getEnglishName("fontFamily"),$=this.getEnglishName("fontSubfamily"),te=(F=F||q.replace(/\s/g,"")+"-"+$+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,te.byteLength,function(oe){oe.root.getFile(F,{create:!0},function(he){he.createWriter(function(de){var be=new DataView(te),be=new Blob([be],{type:"font/opentype"});de.write(be),de.addEventListener("writeend",function(){location.href=he.toURL()},!1)})})},function(oe){throw new Error(oe.name+": "+oe.message)})):(q=c("fs"),$=function(oe){for(var he=new m(oe.byteLength),de=new Uint8Array(oe),be=0;be<he.length;++be)he[be]=de[be];return he}(te),q.writeFileSync(F,$))},Tt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Tt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Tt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Bn={make:function(F,q){var $=new xe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:F.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:F.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*F.axes.length}]);$.offsetToData=$.sizeOf();for(var te,oe,he,de=0;de<F.axes.length;de++)$.fields=$.fields.concat((te=de,oe=F.axes[de],he=q,he=xn(oe.name,q),[{name:"tag_"+te,type:"TAG",value:oe.tag},{name:"minValue_"+te,type:"FIXED",value:oe.minValue<<16},{name:"defaultValue_"+te,type:"FIXED",value:oe.defaultValue<<16},{name:"maxValue_"+te,type:"FIXED",value:oe.maxValue<<16},{name:"flags_"+te,type:"USHORT",value:0},{name:"nameID_"+te,type:"USHORT",value:he}]));for(var be=0;be<F.instances.length;be++)$.fields=$.fields.concat(function(je,Ce,Re,Ue){for(var Le=[{name:"nameID_"+je,type:"USHORT",value:xn(Ce.name,Ue)},{name:"flags_"+je,type:"USHORT",value:0}],Pe=0;Pe<Re.length;++Pe){var Ke=Re[Pe].tag;Le.push({name:"axis_"+je+" "+Ke,type:"FIXED",value:Ce.coordinates[Ke]<<16})}return Le}(be,F.instances[be],F.axes,q));return $},parse:function(F,q,$){for(var te,oe,he,de,be=new Ve.Parser(F,q),je=be.parseULong(),Ce=(z.argument(je===65536,"Unsupported fvar table version."),be.parseOffset16()),Re=(be.skip("uShort",1),be.parseUShort()),Ue=be.parseUShort(),Le=be.parseUShort(),Pe=be.parseUShort(),Ke=[],We=0;We<Re;We++)Ke.push((te=F,oe=q+Ce+We*Ue,he=$,de={},te=new Ve.Parser(te,oe),de.tag=te.parseTag(),de.minValue=te.parseFixed(),de.defaultValue=te.parseFixed(),de.maxValue=te.parseFixed(),te.skip("uShort",1),de.name=he[te.parseUShort()]||{},de));for(var Ye=[],Ge=q+Ce+Re*Ue,ze=0;ze<Le;ze++)Ye.push(function(ut,gt,ht,dt){var vt={},jt=new Ve.Parser(ut,gt);vt.name=dt[jt.parseUShort()]||{},jt.skip("uShort",1),vt.coordinates={};for(var Dt=0;Dt<ht.length;++Dt)vt.coordinates[ht[Dt].tag]=jt.parseFixed();return vt}(F,Ge+ze*Pe,Ke,$));return{axes:Ke,instances:Ye}}},tr=new Array(10);tr[1]=function(){var F=this.offset+this.relativeOffset,q=this.parseUShort();return q===1?{posFormat:1,coverage:this.parsePointer(Oe.coverage),value:this.parseValueRecord()}:q===2?{posFormat:2,coverage:this.parsePointer(Oe.coverage),values:this.parseValueRecordList()}:void z.assert(!1,"0x"+F.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},tr[2]=function(){var F,q,$,te,he=this.offset+this.relativeOffset,oe=this.parseUShort(),he=(z.assert(oe===1||oe===2,"0x"+he.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Oe.coverage)),de=this.parseUShort(),be=this.parseUShort();return oe===1?{posFormat:oe,coverage:he,valueFormat1:de,valueFormat2:be,pairSets:this.parseList(Oe.pointer(Oe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(de),value2:this.parseValueRecord(be)}})))}:oe===2?(F=this.parsePointer(Oe.classDef),q=this.parsePointer(Oe.classDef),$=this.parseUShort(),te=this.parseUShort(),{posFormat:oe,coverage:he,valueFormat1:de,valueFormat2:be,classDef1:F,classDef2:q,class1Count:$,class2Count:te,classRecords:this.parseList($,Oe.list(te,function(){return{value1:this.parseValueRecord(de),value2:this.parseValueRecord(be)}}))}):void 0},tr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},tr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},tr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},tr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},tr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},tr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},tr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Vn=new Array(10),Un={parse:function(F,q){return q=(F=new Oe(F,q=q||0)).parseVersion(1),z.argument(q===1||q===1.1,"Unsupported GPOS table version "+q),q===1?{version:q,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(tr)}:{version:q,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(tr),variations:F.parseFeatureVariationsList()}},make:function(F){return new xe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new xe.ScriptList(F.scripts)},{name:"features",type:"TABLE",value:new xe.FeatureList(F.features)},{name:"lookups",type:"TABLE",value:new xe.LookupList(F.lookups,Vn)}])}},Gn={parse:function(F,q){if(F=new Ve.Parser(F,q),(q=F.parseUShort())===0){var $=F,te={},Ue=($.skip("uShort"),$.parseUShort()),oe=(z.argument(Ue===0,"Unsupported kern sub-table version."),$.skip("uShort",2),$.parseUShort());$.skip("uShort",3);for(var he=0;he<oe;he+=1){var de=$.parseUShort(),be=$.parseUShort(),je=$.parseShort();te[de+","+be]=je}return te}if(q!==1)throw new Error("Unsupported kern table version ("+q+").");var Ce=F,Re={},Ue=(Ce.skip("uShort"),1<Ce.parseULong()&&console.warn("Only the first kern subtable is supported."),Ce.skip("uLong"),255&Ce.parseUShort());if(Ce.skip("uShort"),Ue==0){var Le=Ce.parseUShort();Ce.skip("uShort",3);for(var Pe=0;Pe<Le;Pe+=1){var Ke=Ce.parseUShort(),We=Ce.parseUShort(),Ye=Ce.parseShort();Re[Ke+","+We]=Ye}}return Re}},zn={parse:function(F,q,$,te){for(var oe=new Ve.Parser(F,q),he=te?oe.parseUShort:oe.parseULong,de=[],be=0;be<$+1;be+=1){var je=he.call(oe);te&&(je*=2),de.push(je)}return de}};function Wn(F,q){c("fs").readFile(F,function($,te){if($)return q($.message);q(null,$r(te))})}function qn(F,q){var $=new XMLHttpRequest;$.open("get",F,!0),$.responseType="arraybuffer",$.onload=function(){return $.response?q(null,$.response):q("Font could not be loaded: "+$.statusText)},$.onerror=function(){q("Font could not be loaded")},$.send()}function Sn(F,q){for(var $=[],te=12,oe=0;oe<q;oe+=1){var he=Ve.getTag(F,te),de=Ve.getULong(F,te+4),be=Ve.getULong(F,te+8),je=Ve.getULong(F,te+12);$.push({tag:he,checksum:de,offset:be,length:je,compression:!1}),te+=16}return $}function Lt($,q){if(q.compression!=="WOFF")return{data:$,offset:q.offset};var $=new Uint8Array($.buffer,q.offset+2,q.compressedLength-2),te=new Uint8Array(q.length);if(B($,te),te.byteLength!==q.length)throw new Error("Decompression error: "+q.tag+" decompressed length doesn't match recorded length");return{data:new DataView(te.buffer,0),offset:0}}function Lr(ze){var q,$,te,oe,he,de,be,je,Ce,Re,Ue,Le,Pe,Ke,We=new Tt({empty:!0}),Ye=new DataView(ze,0),Ge=[],ze=Ve.getTag(Ye,0);if(ze===String.fromCharCode(0,1,0,0)||ze==="true"||ze==="typ1")We.outlinesFormat="truetype",Ge=Sn(Ye,te=Ve.getUShort(Ye,4));else if(ze==="OTTO")We.outlinesFormat="cff",Ge=Sn(Ye,te=Ve.getUShort(Ye,4));else{if(ze!=="wOFF")throw new Error("Unsupported OpenType signature "+ze);var ut=Ve.getTag(Ye,4);if(ut===String.fromCharCode(0,1,0,0))We.outlinesFormat="truetype";else{if(ut!=="OTTO")throw new Error("Unsupported OpenType flavor "+ze);We.outlinesFormat="cff"}Ge=function(Mt,Et){for(var $t=[],Ot=44,Xt=0;Xt<Et;Xt+=1){var It=Ve.getTag(Mt,Ot),Wt=Ve.getULong(Mt,Ot+4),kr=Ve.getULong(Mt,Ot+8),yr=Ve.getULong(Mt,Ot+12),En=void 0,En=kr<yr&&"WOFF";$t.push({tag:It,offset:Wt,compression:En,compressedLength:kr,length:yr}),Ot+=20}return $t}(Ye,te=Ve.getUShort(Ye,12))}for(var gt=0;gt<te;gt+=1){var ht=Ge[gt],dt=void 0;switch(ht.tag){case"cmap":dt=Lt(Ye,ht),We.tables.cmap=ge.parse(dt.data,dt.offset),We.encoding=new He(We.tables.cmap);break;case"cvt ":dt=Lt(Ye,ht),Ke=new Ve.Parser(dt.data,dt.offset),We.tables.cvt=Ke.parseShortList(ht.length/2);break;case"fvar":he=ht;break;case"fpgm":dt=Lt(Ye,ht),Ke=new Ve.Parser(dt.data,dt.offset),We.tables.fpgm=Ke.parseByteList(ht.length);break;case"head":dt=Lt(Ye,ht),We.tables.head=wr.parse(dt.data,dt.offset),We.unitsPerEm=We.tables.head.unitsPerEm,q=We.tables.head.indexToLocFormat;break;case"hhea":dt=Lt(Ye,ht),We.tables.hhea=Me.parse(dt.data,dt.offset),We.ascender=We.tables.hhea.ascender,We.descender=We.tables.hhea.descender,We.numberOfHMetrics=We.tables.hhea.numberOfHMetrics;break;case"hmtx":Ce=ht;break;case"ltag":dt=Lt(Ye,ht),$=at.parse(dt.data,dt.offset);break;case"maxp":dt=Lt(Ye,ht),We.tables.maxp=Qe.parse(dt.data,dt.offset),We.numGlyphs=We.tables.maxp.numGlyphs;break;case"name":Le=ht;break;case"OS/2":dt=Lt(Ye,ht),We.tables.os2=zt.parse(dt.data,dt.offset);break;case"post":dt=Lt(Ye,ht),We.tables.post=Ur.parse(dt.data,dt.offset),We.glyphNames=new rt(We.tables.post);break;case"prep":dt=Lt(Ye,ht),Ke=new Ve.Parser(dt.data,dt.offset),We.tables.prep=Ke.parseByteList(ht.length);break;case"glyf":de=ht;break;case"loca":Ue=ht;break;case"CFF ":oe=ht;break;case"kern":Re=ht;break;case"GPOS":be=ht;break;case"GSUB":je=ht;break;case"meta":Pe=ht}}if(ut=Lt(Ye,Le),We.tables.name=Qt.parse(ut.data,ut.offset,$),We.names=We.tables.name,de&&Ue)ze=q===0,ut=Lt(Ye,Ue),ut=zn.parse(ut.data,ut.offset,We.numGlyphs,ze),ze=Lt(Ye,de),We.glyphs=en.parse(ze.data,ze.offset,ut,We);else{if(!oe)throw new Error("Font doesn't contain TrueType or CFF outlines.");ze=Lt(Ye,oe),br.parse(ze.data,ze.offset,We)}for(var ut=Lt(Ye,Ce),vt=(tt.parse(ut.data,ut.offset,We.numberOfHMetrics,We.numGlyphs,We.glyphs),We),jt=vt.tables.cmap.glyphIndexMap,Dt=Object.keys(jt),Bt=0;Bt<Dt.length;Bt+=1){var Zt,Kt=Dt[Bt],rr=jt[Kt];(Zt=vt.glyphs.get(rr)).addUnicode(parseInt(Kt))}for(var At=0;At<vt.glyphs.length;At+=1)Zt=vt.glyphs.get(At),vt.cffEncoding?vt.isCIDFont?Zt.name="gid"+At:Zt.name=vt.cffEncoding.charset[At]:vt.glyphNames.names&&(Zt.name=vt.glyphNames.glyphIndexToName(At));return Re?(ze=Lt(Ye,Re),We.kerningPairs=Gn.parse(ze.data,ze.offset)):We.kerningPairs={},be&&(ut=Lt(Ye,be),We.tables.gpos=Un.parse(ut.data,ut.offset),We.position.init()),je&&(ze=Lt(Ye,je),We.tables.gsub=Gr.parse(ze.data,ze.offset)),he&&(ut=Lt(Ye,he),We.tables.fvar=Bn.parse(ut.data,ut.offset,We.names)),Pe&&(ze=Lt(Ye,Pe),We.tables.meta=zr.parse(ze.data,ze.offset),We.metas=We.tables.meta),We}x.Font=Tt,x.Glyph=it,x.Path=ne,x.BoundingBox=ie,x._parse=Ve,x.parse=Lr,x.load=function(F,q){(typeof window>"u"?Wn:qn)(F,function($,te){if($)return q($);var oe;try{oe=Lr(te)}catch(he){return q(he,null)}return q(null,oe)})},x.loadSync=function(F){return Lr($r(c("fs").readFileSync(F)))},Object.defineProperty(x,"__esModule",{value:!0})},p(typeof y=="object"&&g!==void 0?y:_.opentype={})}).call(this,c("buffer").Buffer)},{buffer:4,fs:2}],250:[function(c,g,y){(function(m){function _(E,A){for(var b=0,k=E.length-1;0<=k;k--){var S=E[k];S==="."?E.splice(k,1):S===".."?(E.splice(k,1),b++):b&&(E.splice(k,1),b--)}if(A)for(;b--;)E.unshift("..");return E}function p(E,A){if(E.filter)return E.filter(A);for(var b=[],k=0;k<E.length;k++)A(E[k],k,E)&&b.push(E[k]);return b}y.resolve=function(){for(var E="",A=!1,b=arguments.length-1;-1<=b&&!A;b--){var k=0<=b?arguments[b]:m.cwd();if(typeof k!="string")throw new TypeError("Arguments to path.resolve must be strings");k&&(E=k+"/"+E,A=k.charAt(0)==="/")}return(A?"/":"")+(E=_(p(E.split("/"),function(S){return!!S}),!A).join("/"))||"."},y.normalize=function(E){var A=y.isAbsolute(E),b=x(E,-1)==="/";return(E=(E=_(p(E.split("/"),function(k){return!!k}),!A).join("/"))||A?E:".")&&b&&(E+="/"),(A?"/":"")+E},y.isAbsolute=function(E){return E.charAt(0)==="/"},y.join=function(){var E=Array.prototype.slice.call(arguments,0);return y.normalize(p(E,function(A,b){if(typeof A!="string")throw new TypeError("Arguments to path.join must be strings");return A}).join("/"))},y.relative=function(E,A){function b(j){for(var I=0;I<j.length&&j[I]==="";I++);for(var O=j.length-1;0<=O&&j[O]==="";O--);return O<I?[]:j.slice(I,O-I+1)}E=y.resolve(E).substr(1),A=y.resolve(A).substr(1);for(var k=b(E.split("/")),S=b(A.split("/")),T=Math.min(k.length,S.length),P=T,C=0;C<T;C++)if(k[C]!==S[C]){P=C;break}for(var M=[],C=P;C<k.length;C++)M.push("..");return(M=M.concat(S.slice(P))).join("/")},y.sep="/",y.delimiter=":",y.dirname=function(E){if(typeof E!="string"&&(E+=""),E.length===0)return".";for(var A=E.charCodeAt(0)===47,b=-1,k=!0,S=E.length-1;1<=S;--S)if(E.charCodeAt(S)===47){if(!k){b=S;break}}else k=!1;return b===-1?A?"/":".":A&&b===1?"/":E.slice(0,b)},y.basename=function(E,A){return E=function(b){typeof b!="string"&&(b+="");for(var k=0,S=-1,T=!0,P=b.length-1;0<=P;--P)if(b.charCodeAt(P)===47){if(!T){k=P+1;break}}else S===-1&&(T=!1,S=P+1);return S===-1?"":b.slice(k,S)}(E),E=A&&E.substr(-1*A.length)===A?E.substr(0,E.length-A.length):E},y.extname=function(E){typeof E!="string"&&(E+="");for(var A=-1,b=0,k=-1,S=!0,T=0,P=E.length-1;0<=P;--P){var C=E.charCodeAt(P);if(C===47){if(S)continue;b=P+1;break}k===-1&&(S=!1,k=P+1),C===46?A===-1?A=P:T!==1&&(T=1):A!==-1&&(T=-1)}return A===-1||k===-1||T===0||T===1&&A===k-1&&A===b+1?"":E.slice(A,k)};var x="ab".substr(-1)==="b"?function(E,A,b){return E.substr(A,b)}:function(E,A,b){return A<0&&(A=E.length+A),E.substr(A,b)}}).call(this,c("_process"))},{_process:251}],251:[function(c,p,y){var m,_,p=p.exports={};function x(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}try{m=typeof setTimeout=="function"?setTimeout:x}catch{m=x}try{_=typeof clearTimeout=="function"?clearTimeout:E}catch{_=E}function A(I){if(m===setTimeout)return setTimeout(I,0);if((m===x||!m)&&setTimeout)return(m=setTimeout)(I,0);try{return m(I,0)}catch{try{return m.call(null,I,0)}catch{return m.call(this,I,0)}}}var b,k=[],S=!1,T=-1;function P(){S&&b&&(S=!1,b.length?k=b.concat(k):T=-1,k.length&&C())}function C(){if(!S){for(var I=A(P),O=(S=!0,k.length);O;){for(b=k,k=[];++T<O;)b&&b[T].run();T=-1,O=k.length}b=null,S=!1,function(R){if(_===clearTimeout)return clearTimeout(R);if((_===E||!_)&&clearTimeout)return(_=clearTimeout)(R);try{_(R)}catch{try{return _.call(null,R)}catch{return _.call(this,R)}}}(I)}}function M(I,O){this.fun=I,this.array=O}function j(){}p.nextTick=function(I){var O=new Array(arguments.length-1);if(1<arguments.length)for(var R=1;R<arguments.length;R++)O[R-1]=arguments[R];k.push(new M(I,O)),k.length!==1||S||A(C)},M.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=j,p.addListener=j,p.once=j,p.off=j,p.removeListener=j,p.removeAllListeners=j,p.emit=j,p.prependListener=j,p.prependOnceListener=j,p.listeners=function(I){return[]},p.binding=function(I){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(I){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],252:[function(c,g,y){g=function(m){var _,p=Object.prototype,x=p.hasOwnProperty,D=typeof Symbol=="function"?Symbol:{},E=D.iterator||"@@iterator",A=D.asyncIterator||"@@asyncIterator",b=D.toStringTag||"@@toStringTag";function k(J,ee,Y,se){var ne,Z,H,z,ee=ee&&ee.prototype instanceof I?ee:I,ee=Object.create(ee.prototype),se=new Q(se||[]);return ee._invoke=(ne=J,Z=Y,H=se,z=T,function(le,ue){if(z===C)throw new Error("Generator is already running");if(z===M){if(le==="throw")throw ue;return G()}for(H.method=le,H.arg=ue;;){var _e=H.delegate;if(_e&&(_e=function Te(me,Se){var ve=me.iterator[Se.method];if(ve===_){if(Se.delegate=null,Se.method==="throw"){if(me.iterator.return&&(Se.method="return",Se.arg=_,Te(me,Se),Se.method==="throw"))return j;Se.method="throw",Se.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}if(ve=S(ve,me.iterator,Se.arg),ve.type==="throw")return Se.method="throw",Se.arg=ve.arg,Se.delegate=null,j;if(ve=ve.arg,!ve)return Se.method="throw",Se.arg=new TypeError("iterator result is not an object"),Se.delegate=null,j;{if(!ve.done)return ve;Se[me.resultName]=ve.value,Se.next=me.nextLoc,Se.method!=="return"&&(Se.method="next",Se.arg=_)}return Se.delegate=null,j}(_e,H),_e)){if(_e===j)continue;return _e}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if(z===T)throw z=M,H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);if(z=C,_e=S(ne,Z,H),_e.type==="normal"){if(z=H.done?M:P,_e.arg!==j)return{value:_e.arg,done:H.done}}else _e.type==="throw"&&(z=M,H.method="throw",H.arg=_e.arg)}}),ee}function S(J,B,Y){try{return{type:"normal",arg:J.call(B,Y)}}catch(ie){return{type:"throw",arg:ie}}}m.wrap=k;var T="suspendedStart",P="suspendedYield",C="executing",M="completed",j={};function I(){}function O(){}function R(){}var D={},N=(D[E]=function(){return this},Object.getPrototypeOf),N=N&&N(N(L([]))),U=(N&&N!==p&&x.call(N,E)&&(D=N),R.prototype=I.prototype=Object.create(D));function X(J){["next","throw","return"].forEach(function(B){J[B]=function(Y){return this._invoke(B,Y)}})}function V(J){var B;this._invoke=function(Y,ie){function ne(){return new Promise(function(Z,H){(function z(Te,se,le,ue){var _e,Te=S(J[Te],J,se);if(Te.type!=="throw")return(se=(_e=Te.arg).value)&&typeof se=="object"&&x.call(se,"__await")?Promise.resolve(se.__await).then(function(me){z("next",me,le,ue)},function(me){z("throw",me,le,ue)}):Promise.resolve(se).then(function(me){_e.value=me,le(_e)},function(me){return z("throw",me,le,ue)});ue(Te.arg)})(Y,ie,Z,H)})}return B=B?B.then(ne,ne):ne()}}function K(J){var B={tryLoc:J[0]};1 in J&&(B.catchLoc=J[1]),2 in J&&(B.finallyLoc=J[2],B.afterLoc=J[3]),this.tryEntries.push(B)}function W(J){var B=J.completion||{};B.type="normal",delete B.arg,J.completion=B}function Q(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(K,this),this.reset(!0)}function L(J){if(J){var B,Y=J[E];if(Y)return Y.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length))return B=-1,(Y=function ie(){for(;++B<J.length;)if(x.call(J,B))return ie.value=J[B],ie.done=!1,ie;return ie.value=_,ie.done=!0,ie}).next=Y}return{next:G}}function G(){return{value:_,done:!0}}return(O.prototype=U.constructor=R).constructor=O,R[b]=O.displayName="GeneratorFunction",m.isGeneratorFunction=function(J){return J=typeof J=="function"&&J.constructor,!!J&&(J===O||(J.displayName||J.name)==="GeneratorFunction")},m.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,R):(J.__proto__=R,b in J||(J[b]="GeneratorFunction")),J.prototype=Object.create(U),J},m.awrap=function(J){return{__await:J}},X(V.prototype),V.prototype[A]=function(){return this},m.AsyncIterator=V,m.async=function(J,B,Y,ie){var ne=new V(k(J,B,Y,ie));return m.isGeneratorFunction(B)?ne:ne.next().then(function(Z){return Z.done?Z.value:ne.next()})},X(U),U[b]="Generator",U[E]=function(){return this},U.toString=function(){return"[object Generator]"},m.keys=function(J){var B,Y=[];for(B in J)Y.push(B);return Y.reverse(),function ie(){for(;Y.length;){var ne=Y.pop();if(ne in J)return ie.value=ne,ie.done=!1,ie}return ie.done=!0,ie}},m.values=L,Q.prototype={constructor:Q,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(W),!J)for(var B in this)B.charAt(0)==="t"&&x.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=_)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var B=this;function Y(ee,se){return Z.type="throw",Z.arg=J,B.next=ee,se&&(B.method="next",B.arg=_),!!se}for(var ie=this.tryEntries.length-1;0<=ie;--ie){var ne=this.tryEntries[ie],Z=ne.completion;if(ne.tryLoc==="root")return Y("end");if(ne.tryLoc<=this.prev){var H=x.call(ne,"catchLoc"),z=x.call(ne,"finallyLoc");if(H&&z){if(this.prev<ne.catchLoc)return Y(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return Y(ne.finallyLoc)}else if(H){if(this.prev<ne.catchLoc)return Y(ne.catchLoc,!0)}else{if(!z)throw new Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return Y(ne.finallyLoc)}}}},abrupt:function(J,B){for(var Y=this.tryEntries.length-1;0<=Y;--Y){var ie=this.tryEntries[Y];if(ie.tryLoc<=this.prev&&x.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var ne=ie;break}}var Z=(ne=ne&&(J==="break"||J==="continue")&&ne.tryLoc<=B&&B<=ne.finallyLoc?null:ne)?ne.completion:{};return Z.type=J,Z.arg=B,ne?(this.method="next",this.next=ne.finallyLoc,j):this.complete(Z)},complete:function(J,B){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&B&&(this.next=B),j},finish:function(J){for(var B=this.tryEntries.length-1;0<=B;--B){var Y=this.tryEntries[B];if(Y.finallyLoc===J)return this.complete(Y.completion,Y.afterLoc),W(Y),j}},catch:function(J){for(var B=this.tryEntries.length-1;0<=B;--B){var Y,ie,ne=this.tryEntries[B];if(ne.tryLoc===J)return(Y=ne.completion).type==="throw"&&(ie=Y.arg,W(ne)),ie}throw new Error("illegal catch attempt")},delegateYield:function(J,B,Y){return this.delegate={iterator:L(J),resultName:B,nextLoc:Y},this.method==="next"&&(this.arg=_),j}},m}(typeof g=="object"?g.exports:{});try{regeneratorRuntime=g}catch{Function("r","regeneratorRuntime = r")(g)}},{}],253:[function(c,g,y){(function(m){var _,p,x,E,A,b,k,S,T,P;function C(W){if(typeof W!="string"&&(W=String(W)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(W))throw new TypeError("Invalid character in header field name");return W.toLowerCase()}function M(W){return W=typeof W!="string"?String(W):W}function j(W){var Q={next:function(){var L=W.shift();return{done:L===void 0,value:L}}};return p&&(Q[Symbol.iterator]=function(){return Q}),Q}function I(W){this.map={},W instanceof I?W.forEach(function(Q,L){this.append(L,Q)},this):Array.isArray(W)?W.forEach(function(Q){this.append(Q[0],Q[1])},this):W&&Object.getOwnPropertyNames(W).forEach(function(Q){this.append(Q,W[Q])},this)}function O(W){if(W.bodyUsed)return Promise.reject(new TypeError("Already read"));W.bodyUsed=!0}function R(W){return new Promise(function(Q,L){W.onload=function(){Q(W.result)},W.onerror=function(){L(W.error)}})}function D(W){var Q=new FileReader,L=R(Q);return Q.readAsArrayBuffer(W),L}function N(W){var Q;return W.slice?W.slice(0):((Q=new Uint8Array(W.byteLength)).set(new Uint8Array(W)),Q.buffer)}function U(){return this.bodyUsed=!1,this._initBody=function(W){if(this._bodyInit=W)if(typeof W=="string")this._bodyText=W;else if(x&&Blob.prototype.isPrototypeOf(W))this._bodyBlob=W;else if(E&&FormData.prototype.isPrototypeOf(W))this._bodyFormData=W;else if(_&&URLSearchParams.prototype.isPrototypeOf(W))this._bodyText=W.toString();else if(A&&x&&k(W))this._bodyArrayBuffer=N(W.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!A||!ArrayBuffer.prototype.isPrototypeOf(W)&&!S(W))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=N(W)}else this._bodyText="";this.headers.get("content-type")||(typeof W=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_&&URLSearchParams.prototype.isPrototypeOf(W)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},x&&(this.blob=function(){var W=O(this);if(W)return W;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?O(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(D)}),this.text=function(){var W,Q,L=O(this);if(L)return L;if(this._bodyBlob)return L=this._bodyBlob,W=new FileReader,Q=R(W),W.readAsText(L),Q;if(this._bodyArrayBuffer)return Promise.resolve(function(G){for(var J=new Uint8Array(G),B=new Array(J.length),Y=0;Y<J.length;Y++)B[Y]=String.fromCharCode(J[Y]);return B.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},E&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}function X(W,Q){var L,G=(Q=Q||{}).body;if(W instanceof X){if(W.bodyUsed)throw new TypeError("Already read");this.url=W.url,this.credentials=W.credentials,Q.headers||(this.headers=new I(W.headers)),this.method=W.method,this.mode=W.mode,G||W._bodyInit==null||(G=W._bodyInit,W.bodyUsed=!0)}else this.url=String(W);if(this.credentials=Q.credentials||this.credentials||"omit",!Q.headers&&this.headers||(this.headers=new I(Q.headers)),this.method=(W=Q.method||this.method||"GET",L=W.toUpperCase(),-1<T.indexOf(L)?L:W),this.mode=Q.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&G)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(G)}function V(W){var Q=new FormData;return W.trim().split("&").forEach(function(L){var G;L&&(G=(L=L.split("=")).shift().replace(/\+/g," "),L=L.join("=").replace(/\+/g," "),Q.append(decodeURIComponent(G),decodeURIComponent(L)))}),Q}function K(W,Q){Q=Q||{},this.type="default",this.status=Q.status===void 0?200:Q.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in Q?Q.statusText:"OK",this.headers=new I(Q.headers),this.url=Q.url||"",this._initBody(W)}m.fetch||(_="URLSearchParams"in m,p="Symbol"in m&&"iterator"in Symbol,x="FileReader"in m&&"Blob"in m&&function(){try{return new Blob,!0}catch{return!1}}(),E="FormData"in m,(A="ArrayBuffer"in m)&&(b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],k=function(W){return W&&DataView.prototype.isPrototypeOf(W)},S=ArrayBuffer.isView||function(W){return W&&-1<b.indexOf(Object.prototype.toString.call(W))}),I.prototype.append=function(W,Q){W=C(W),Q=M(Q);var L=this.map[W];this.map[W]=L?L+","+Q:Q},I.prototype.delete=function(W){delete this.map[C(W)]},I.prototype.get=function(W){return W=C(W),this.has(W)?this.map[W]:null},I.prototype.has=function(W){return this.map.hasOwnProperty(C(W))},I.prototype.set=function(W,Q){this.map[C(W)]=M(Q)},I.prototype.forEach=function(W,Q){for(var L in this.map)this.map.hasOwnProperty(L)&&W.call(Q,this.map[L],L,this)},I.prototype.keys=function(){var W=[];return this.forEach(function(Q,L){W.push(L)}),j(W)},I.prototype.values=function(){var W=[];return this.forEach(function(Q){W.push(Q)}),j(W)},I.prototype.entries=function(){var W=[];return this.forEach(function(Q,L){W.push([L,Q])}),j(W)},p&&(I.prototype[Symbol.iterator]=I.prototype.entries),T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],X.prototype.clone=function(){return new X(this,{body:this._bodyInit})},U.call(X.prototype),U.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new I(this.headers),url:this.url})},K.error=function(){var W=new K(null,{status:0,statusText:""});return W.type="error",W},P=[301,302,303,307,308],K.redirect=function(W,Q){if(P.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new K(null,{status:Q,headers:{location:W}})},m.Headers=I,m.Request=X,m.Response=K,m.fetch=function(W,Q){return new Promise(function(L,G){var J=new X(W,Q),B=new XMLHttpRequest;B.onload=function(){var Y,ie={status:B.status,statusText:B.statusText,headers:(ie=B.getAllResponseHeaders()||"",Y=new I,ie.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(H){var H=H.split(":"),z=H.shift().trim();z&&(H=H.join(":").trim(),Y.append(z,H))}),Y)},ne=(ie.url="responseURL"in B?B.responseURL:ie.headers.get("X-Request-URL"),"response"in B?B.response:B.responseText);L(new K(ne,ie))},B.onerror=function(){G(new TypeError("Network request failed"))},B.ontimeout=function(){G(new TypeError("Network request failed"))},B.open(J.method,J.url,!0),J.credentials==="include"?B.withCredentials=!0:J.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&x&&(B.responseType="blob"),J.headers.forEach(function(Y,ie){B.setRequestHeader(ie,Y)}),B.send(J._bodyInit===void 0?null:J._bodyInit)})},m.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],254:[function(c,g,y){c("core-js/modules/es.function.name"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.split"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m,_=x(c("../core/main")),p=x(c("../color/color_conversion"));function x(b){return b&&b.__esModule?b:{default:b}}var E=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],A=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];_.default.prototype._rgbColorName=function(T){var k,S,T=p.default._rgbaToHSBA(T),P=[(m=T)[0],T[1],T[2]];P[0]!==0&&(P[0]=Math.round(100*P[0]),(T=P[0].toString().split(""))[S=T.length-1]=parseInt(T[S]),T[S]<2.5?T[S]=0:2.5<=T[S]&&T[S]<7.5&&(T[S]=5),T.length===2?(T[0]=parseInt(T[0]),7.5<=T[S]&&(T[S]=0,T[0]=T[0]+1),P[0]=10*T[0]+T[1]):7.5<=T[S]?P[0]=10:P[0]=T[S]),P[2]=P[2]/255;for(var C=P.length-1;1<=C;C--)P[C]<=.25?P[C]=0:.25<P[C]&&P[C]<.75?P[C]=.5:P[C]=1;if(P[0]===0&&P[1]===0&&P[2]===1){for(var M=2;0<=M;M--)m[M]=Math.round(1e4*m[M])/1e4;for(var j=0;j<E.length;j++){if(E[j].h===m[0]&&E[j].s===m[1]&&E[j].b===m[2]){k=E[j].name;break}k="white"}}else for(var I=0;I<A.length;I++)if(A[I].h===P[0]&&A[I].s===P[1]&&A[I].b===P[2]){k=A[I].name;break}return k},c=_.default,y.default=c},{"../color/color_conversion":260,"../core/main":275,"core-js/modules/es.function.name":168,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198}],255:[function(c,g,y){c("core-js/modules/es.array.concat"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.ends-with"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.ends-with"),c("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c},_="_Description",p="_fallbackDesc",x="_fallbackTable",E="_Label",A="_labelDesc",b="_labelTable";function k(S){if(S==="label"||S==="fallback")throw new Error("description should not be LABEL or FALLBACK");return S.endsWith(".")||S.endsWith(";")||S.endsWith(",")||S.endsWith("?")||S.endsWith("!")||(S+="."),S}m.default.prototype.describe=function(S,T){var P;m.default._validateParameters("describe",arguments),typeof S=="string"&&(P=this.canvas.id,S=k(S),this.dummyDOM||(this.dummyDOM=document.getElementById(P).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==S&&(this.descriptions.fallback.innerHTML=S):this._describeHTML("fallback",S),T===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==S&&(this.descriptions.label.innerHTML=S):this._describeHTML("label",S)))},m.default.prototype.describeElement=function(S,T,P){var C,M;m.default._validateParameters("describeElement",arguments),typeof T=="string"&&typeof S=="string"&&(C=this.canvas.id,T=k(T),M=function(j){if(j==="label"||j==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return j.endsWith(".")||j.endsWith(";")||j.endsWith(",")?j=j.replace(/.$/,":"):j.endsWith(":")||(j+=":"),j}(S),S=S.replace(/[^a-zA-Z0-9]/g,""),M='<th scope="row">'.concat(M,"</th><td>").concat(T,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(C).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[S]?this.descriptions.fallbackElements[S].innerHTML!==M&&(this.descriptions.fallbackElements[S].innerHTML=M):this._describeElementHTML("fallback",S,M),P===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[S]?this.descriptions.labelElements[S].innerHTML!==M&&(this.descriptions.labelElements[S].innerHTML=M):this._describeElementHTML("label",S,M)))},m.default.prototype._describeHTML=function(S,T){var P,C=this.canvas.id;S==="fallback"?(this.dummyDOM.querySelector("#".concat(C+_))?this.dummyDOM.querySelector("#"+C+x).insertAdjacentHTML("beforebegin",'<p id="'.concat(C+p,'"></p>')):(P='<div id="'.concat(C).concat(_,'" role="region" aria-label="Canvas Description"><p id="').concat(C).concat(p,'"></p></div>'),this.dummyDOM.querySelector("#".concat(C,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(C,"accessibleOutput")).insertAdjacentHTML("beforebegin",P):this.dummyDOM.querySelector("#".concat(C)).innerHTML=P),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(C).concat(p)),this.descriptions.fallback.innerHTML=T):S==="label"&&(this.dummyDOM.querySelector("#".concat(C+E))?this.dummyDOM.querySelector("#".concat(C+b))&&this.dummyDOM.querySelector("#".concat(C+b)).insertAdjacentHTML("beforebegin",'<p id="'.concat(C).concat(A,'"></p>')):(P='<div id="'.concat(C).concat(E,'" class="p5Label"><p id="').concat(C).concat(A,'"></p></div>'),this.dummyDOM.querySelector("#".concat(C,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(C,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",P):this.dummyDOM.querySelector("#"+C).insertAdjacentHTML("afterend",P)),this.descriptions.label=this.dummyDOM.querySelector("#"+C+A),this.descriptions.label.innerHTML=T)},m.default.prototype._describeElementHTML=function(S,T,P){var C,M=this.canvas.id;S==="fallback"?(this.dummyDOM.querySelector("#".concat(M+_))?this.dummyDOM.querySelector("#"+M+x)||this.dummyDOM.querySelector("#"+M+p).insertAdjacentHTML("afterend",'<table id="'.concat(M).concat(x,'"><caption>Canvas elements and their descriptions</caption></table>')):(C='<div id="'.concat(M).concat(_,'" role="region" aria-label="Canvas Description"><table id="').concat(M).concat(x,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(M,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(M,"accessibleOutput")).insertAdjacentHTML("beforebegin",C):this.dummyDOM.querySelector("#"+M).innerHTML=C),(C=document.createElement("tr")).id=M+"_fte_"+T,this.dummyDOM.querySelector("#"+M+x).appendChild(C),this.descriptions.fallbackElements[T]=this.dummyDOM.querySelector("#".concat(M).concat("_fte_").concat(T)),this.descriptions.fallbackElements[T].innerHTML=P):S==="label"&&(this.dummyDOM.querySelector("#".concat(M+E))?this.dummyDOM.querySelector("#".concat(M+b))||this.dummyDOM.querySelector("#"+M+A).insertAdjacentHTML("afterend",'<table id="'.concat(M+b,'"></table>')):(C='<div id="'.concat(M).concat(E,'" class="p5Label"><table id="').concat(M).concat(b,'"></table></div>'),this.dummyDOM.querySelector("#".concat(M,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(M,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",C):this.dummyDOM.querySelector("#"+M).insertAdjacentHTML("afterend",C)),(S=document.createElement("tr")).id=M+"_lte_"+T,this.dummyDOM.querySelector("#"+M+b).appendChild(S),this.descriptions.labelElements[T]=this.dummyDOM.querySelector("#".concat(M).concat("_lte_").concat(T)),this.descriptions.labelElements[T].innerHTML=P)},c=m.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.replace":196}],256:[function(c,g,y){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.map"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.map"),c("core-js/modules/es.string.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype._updateGridOutput=function(m){var _,p,x,E;this.dummyDOM.querySelector("#".concat(m,"_summary"))&&(_=this._accessibleOutputs[m],x=function(A,b,k,S){return b="".concat(b," canvas, ").concat(k," by ").concat(S," pixels, contains ").concat(A[0]),b=(A[0]===1?"".concat(b," shape: "):"".concat(b," shapes: ")).concat(A[1]),b}((p=function(A,b){var k,S="",T="",P=0;for(k in b){var C,M=0;for(C in b[k]){var j='<li id="'.concat(A,"shape").concat(P,'">').concat(b[k][C].color," ").concat(k,",");k==="line"?j+=" location = ".concat(b[k][C].pos,", length = ").concat(b[k][C].length," pixels"):(j+=" location = ".concat(b[k][C].pos),k!=="point"&&(j+=", area = ".concat(b[k][C].area," %")),j+="</li>"),S+=j,M++,P++}T=1<M?"".concat(T," ").concat(M," ").concat(k,"s"):"".concat(T," ").concat(M," ").concat(k)}return{numShapes:[P,T],details:S}}(m,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),E=function(A,b){var k,S,T=0,P="",C=Array.from(Array(10),function(){return Array(10)});for(k in b)for(var M in b[k]){var j=void 0;j=k!=="line"?'<a href="#'.concat(A,"shape").concat(T,'">').concat(b[k][M].color," ").concat(k,"</a>"):'<a href="#'.concat(A,"shape").concat(T,'">').concat(b[k][M].color," ").concat(k," midpoint</a>"),C[b[k][M].loc.locY][b[k][M].loc.locX]?C[b[k][M].loc.locY][b[k][M].loc.locX]=C[b[k][M].loc.locY][b[k][M].loc.locX]+"  "+j:C[b[k][M].loc.locY][b[k][M].loc.locX]=j,T++}for(S in C){var I,O="<tr>";for(I in C[S])O+="<td>",C[S][I]!==void 0&&(O+=C[S][I]),O+="</td>";P=P+O+"</tr>"}return P}(m,this.ingredients.shapes),x!==_.summary.innerHTML&&(_.summary.innerHTML=x),E!==_.map.innerHTML&&(_.map.innerHTML=E),p.details!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=p.details),this._accessibleOutputs[m]=_)},c=c.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":158,"core-js/modules/es.array.map":164,"core-js/modules/es.string.iterator":192}],257:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.map"),c("core-js/modules/es.number.to-fixed"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};function _(x){return function(E){if(Array.isArray(E)){for(var A=0,b=new Array(E.length);A<E.length;A++)b[A]=E[A];return b}}(x)||function(E){if(Symbol.iterator in Object(E)||Object.prototype.toString.call(E)==="[object Arguments]")return Array.from(E)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(x,E,A){return E=Math.floor(x[0]/E*10),x=Math.floor(x[1]/A*10),E===10&&(E-=1),x===10&&(x-=1),{locX:E,locY:x}}m.default.prototype.textOutput=function(x){m.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),x===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},m.default.prototype.gridOutput=function(x){m.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),x===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},m.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},m.default.prototype._createOutput=function(x,E){var A,b,k,S=this.canvas.id,T=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(S).parentNode),"");E==="Fallback"?(A=S+x,this.dummyDOM.querySelector("#".concat(b=S+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(S,"_Description"))?this.dummyDOM.querySelector("#".concat(S,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(b,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(S)).innerHTML='<div id="'.concat(b,'" role="region" aria-label="Canvas Outputs"></div>'))):E==="Label"&&(A=S+x+(T=E),this.dummyDOM.querySelector("#".concat(b=S+"accessibleOutput"+E))||(this.dummyDOM.querySelector("#".concat(S,"_Label"))?this.dummyDOM.querySelector("#".concat(S,"_Label")):this.dummyDOM.querySelector("#".concat(S))).insertAdjacentHTML("afterend",'<div id="'.concat(b,'"></div>'))),this._accessibleOutputs[A]={},x==="textOutput"?(T="#".concat(S,"gridOutput").concat(T),k='<div id="'.concat(A,'">Text Output<div id="').concat(A,'Summary" aria-label="text output summary"><p id="').concat(A,'_summary"></p><ul id="').concat(A,'_list"></ul></div><table id="').concat(A,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(T)?this.dummyDOM.querySelector(T).insertAdjacentHTML("beforebegin",k):this.dummyDOM.querySelector("#".concat(b)).innerHTML=k,this._accessibleOutputs[A].list=this.dummyDOM.querySelector("#".concat(A,"_list"))):x==="gridOutput"&&(T="#".concat(S,"textOutput").concat(T),k='<div id="'.concat(A,'">Grid Output<p id="').concat(A,'_summary" aria-label="grid output summary"><table id="').concat(A,'_map" summary="grid output content"></table><ul id="').concat(A,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(T)?this.dummyDOM.querySelector(T).insertAdjacentHTML("afterend",k):this.dummyDOM.querySelector("#".concat(b)).innerHTML=k,this._accessibleOutputs[A].map=this.dummyDOM.querySelector("#".concat(A,"_map"))),this._accessibleOutputs[A].shapeDetails=this.dummyDOM.querySelector("#".concat(A,"_shapeDetails")),this._accessibleOutputs[A].summary=this.dummyDOM.querySelector("#".concat(A,"_summary"))},m.default.prototype._updateAccsOutput=function(){var x=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(x+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(x+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(x+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(x+"gridOutputLabel"))},m.default.prototype._accsBackground=function(x){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==x&&(this.ingredients.colors.backgroundRGBA=x,this.ingredients.colors.background=this._rgbColorName(x))},m.default.prototype._accsCanvasColors=function(x,E){x==="fill"?this.ingredients.colors.fillRGBA!==E&&(this.ingredients.colors.fillRGBA=E,this.ingredients.colors.fill=this._rgbColorName(E)):x==="stroke"&&this.ingredients.colors.strokeRGBA!==E&&(this.ingredients.colors.strokeRGBA=E,this.ingredients.colors.stroke=this._rgbColorName(E))},m.default.prototype._accsOutput=function(x,E){x==="ellipse"&&E[2]===E[3]?x="circle":x==="rectangle"&&E[2]===E[3]&&(x="square");var A,b,k={},S=!0,T=function(C,M){var j;return C=C==="rectangle"||C==="ellipse"||C==="arc"||C==="circle"||C==="square"?(j=Math.round(M[0]+M[2]/2),Math.round(M[1]+M[3]/2)):C==="triangle"?(j=(M[0]+M[2]+M[4])/3,(M[1]+M[3]+M[5])/3):C==="quadrilateral"?(j=(M[0]+M[2]+M[4]+M[6])/4,(M[1]+M[3]+M[5]+M[7])/4):C==="line"?(j=(M[0]+M[2])/2,(M[1]+M[3])/2):(j=M[0],M[1]),[j,C]}(x,E);if(x==="line"?(k.color=this.ingredients.colors.stroke,k.length=Math.round(this.dist(E[0],E[1],E[2],E[3])),A=this._getPos(E[0],[1]),b=this._getPos(E[2],[3]),k.loc=p(T,this.width,this.height),k.pos=A===b?"at ".concat(A):"from ".concat(A," to ").concat(b)):(x==="point"?k.color=this.ingredients.colors.stroke:(k.color=this.ingredients.colors.fill,k.area=this._getArea(x,E)),k.pos=this._getPos.apply(this,_(T)),k.loc=p(T,this.width,this.height)),this.ingredients.shapes[x]){if(this.ingredients.shapes[x]!==[k]){for(var P in this.ingredients.shapes[x])JSON.stringify(this.ingredients.shapes[x][P])===JSON.stringify(k)&&(S=!1);S===!0&&this.ingredients.shapes[x].push(k)}}else this.ingredients.shapes[x]=[k]},m.default.prototype._getPos=function(b,A){var b=new DOMPointReadOnly(b,A),A=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),b=b.matrixTransform(A),A=b.x,b=b.y,k=this.width,S=this.height;return A<.4*k?b<.4*S?"top left":.6*S<b?"bottom left":"mid left":.6*k<A?b<.4*S?"top right":.6*S<b?"bottom right":"mid right":b<.4*S?"top middle":.6*S<b?"bottom middle":"middle"},m.default.prototype._getArea=function(x,E){var A,b,k=0,S=(x==="arc"?(k=(A=((E[5]-E[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*E[2]*E[3]/8,E[6]!=="open"&&E[6]!=="chord"||(b=E[0],M=E[1],S=E[0]+E[2]/2*Math.cos(E[4]).toFixed(2),j=E[1]+E[3]/2*Math.sin(E[4]).toFixed(2),P=E[0]+E[2]/2*Math.cos(E[5]).toFixed(2),T=E[1]+E[3]/2*Math.sin(E[5]).toFixed(2),b=Math.abs(b*(j-T)+S*(T-M)+P*(M-j))/2,A>Math.PI?k+=b:k-=b)):x==="ellipse"||x==="circle"?k=3.14*E[2]/2*E[3]/2:x==="line"||x==="point"?k=0:x==="quadrilateral"?k=Math.abs((E[6]+E[0])*(E[7]-E[1])+(E[0]+E[2])*(E[1]-E[3])+(E[2]+E[4])*(E[3]-E[5])+(E[4]+E[6])*(E[5]-E[7]))/2:x==="rectangle"||x==="square"?k=E[2]*E[3]:x==="triangle"&&(k=Math.abs(E[0]*(E[3]-E[5])+E[2]*(E[5]-E[1])+E[4]*(E[1]-E[3]))/2),this.width*this._pixelDensity),T=this.height*this._pixelDensity,P=[new DOMPoint(0,0),new DOMPoint(S,0),new DOMPoint(S,T),new DOMPoint(0,T)],C=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),M=P.map(function(I){return I.matrixTransform(C)}),j=Math.abs((M[3].x+M[0].x)*(M[3].y-M[0].y)+(M[0].x+M[1].x)*(M[0].y-M[1].y)+(M[1].x+M[2].x)*(M[1].y-M[2].y)+(M[2].x+M[3].x)*(M[2].y-M[3].y))/2;return Math.round(100*k/j)},c=m.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],258:[function(c,g,y){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.concat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype._updateTextOutput=function(m){var _,p,x,E;this.dummyDOM.querySelector("#".concat(m,"_summary"))&&(_=this._accessibleOutputs[m],x=function(A,b,k,S){return k="Your output is a, ".concat(k," by ").concat(S," pixels, ").concat(b," canvas containing the following"),k=A===1?"".concat(k," shape:"):"".concat(k," ").concat(A," shapes:"),k}((p=function(A,b){var k,S="",T=0;for(k in b)for(var P in b[k]){var C='<li><a href="#'.concat(A,"shape").concat(T,'">').concat(b[k][P].color," ").concat(k,"</a>");k==="line"?C+=", ".concat(b[k][P].pos,", ").concat(b[k][P].length," pixels long.</li>"):(C+=", at ".concat(b[k][P].pos),k!=="point"&&(C+=", covering ".concat(b[k][P].area,"% of the canvas")),C+=".</li>"),S+=C,T++}return{numShapes:T,listShapes:S}}(m,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),E=function(A,b){var k,S="",T=0;for(k in b)for(var P in b[k]){var C='<tr id="'.concat(A,"shape").concat(T,'"><th>').concat(b[k][P].color," ").concat(k,"</th>");k==="line"?C+="<td>location = ".concat(b[k][P].pos,"</td><td>length = ").concat(b[k][P].length," pixels</td></tr>"):(C+="<td>location = ".concat(b[k][P].pos,"</td>"),k!=="point"&&(C+="<td> area = ".concat(b[k][P].area,"%</td>")),C+="</tr>"),S+=C,T++}return S}(m,this.ingredients.shapes),x!==_.summary.innerHTML&&(_.summary.innerHTML=x),p.listShapes!==_.list.innerHTML&&(_.list.innerHTML=p.listShapes),E!==_.shapeDetails.innerHTML&&(_.shapeDetails.innerHTML=E),this._accessibleOutputs[m]=_)},c=c.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151}],259:[function(c,g,y){var m=(m=c("./core/main"))&&m.__esModule?m:{default:m};c("./core/constants"),c("./core/environment"),c("./core/friendly_errors/stacktrace"),c("./core/friendly_errors/validate_params"),c("./core/friendly_errors/file_errors"),c("./core/friendly_errors/fes_core"),c("./core/friendly_errors/sketch_reader"),c("./core/helpers"),c("./core/legacy"),c("./core/preload"),c("./core/p5.Element"),c("./core/p5.Graphics"),c("./core/p5.Renderer"),c("./core/p5.Renderer2D"),c("./core/rendering"),c("./core/shim"),c("./core/structure"),c("./core/transform"),c("./core/shape/2d_primitives"),c("./core/shape/attributes"),c("./core/shape/curves"),c("./core/shape/vertex"),c("./accessibility/outputs"),c("./accessibility/textOutput"),c("./accessibility/gridOutput"),c("./accessibility/color_namer"),c("./color/color_conversion"),c("./color/creating_reading"),c("./color/p5.Color"),c("./color/setting"),c("./data/p5.TypedDict"),c("./data/local_storage.js"),c("./dom/dom"),c("./accessibility/describe"),c("./events/acceleration"),c("./events/keyboard"),c("./events/mouse"),c("./events/touch"),c("./image/filters"),c("./image/image"),c("./image/loading_displaying"),c("./image/p5.Image"),c("./image/pixels"),c("./io/files"),c("./io/p5.Table"),c("./io/p5.TableRow"),c("./io/p5.XML"),c("./math/calculation"),c("./math/math"),c("./math/noise"),c("./math/p5.Vector"),c("./math/random"),c("./math/trigonometry"),c("./typography/attributes"),c("./typography/loading_displaying"),c("./typography/p5.Font"),c("./utilities/array_functions"),c("./utilities/conversion"),c("./utilities/string_functions"),c("./utilities/time_date"),c("./webgl/3d_primitives"),c("./webgl/interaction"),c("./webgl/light"),c("./webgl/loading"),c("./webgl/material"),c("./webgl/p5.Camera"),c("./webgl/p5.DataArray"),c("./webgl/p5.Geometry"),c("./webgl/p5.Matrix"),c("./webgl/p5.RendererGL.Immediate"),c("./webgl/p5.RendererGL"),c("./webgl/p5.RendererGL.Retained"),c("./webgl/p5.Framebuffer"),c("./webgl/p5.Shader"),c("./webgl/p5.RenderBuffer"),c("./webgl/p5.Texture"),c("./webgl/text"),c("./core/init"),g.exports=m.default},{"./accessibility/color_namer":254,"./accessibility/describe":255,"./accessibility/gridOutput":256,"./accessibility/outputs":257,"./accessibility/textOutput":258,"./color/color_conversion":260,"./color/creating_reading":261,"./color/p5.Color":262,"./color/setting":263,"./core/constants":264,"./core/environment":265,"./core/friendly_errors/fes_core":266,"./core/friendly_errors/file_errors":267,"./core/friendly_errors/sketch_reader":268,"./core/friendly_errors/stacktrace":269,"./core/friendly_errors/validate_params":270,"./core/helpers":271,"./core/init":272,"./core/legacy":274,"./core/main":275,"./core/p5.Element":276,"./core/p5.Graphics":277,"./core/p5.Renderer":278,"./core/p5.Renderer2D":279,"./core/preload":280,"./core/rendering":281,"./core/shape/2d_primitives":282,"./core/shape/attributes":283,"./core/shape/curves":284,"./core/shape/vertex":285,"./core/shim":286,"./core/structure":287,"./core/transform":288,"./data/local_storage.js":289,"./data/p5.TypedDict":290,"./dom/dom":291,"./events/acceleration":292,"./events/keyboard":293,"./events/mouse":294,"./events/touch":295,"./image/filters":296,"./image/image":297,"./image/loading_displaying":298,"./image/p5.Image":299,"./image/pixels":300,"./io/files":301,"./io/p5.Table":302,"./io/p5.TableRow":303,"./io/p5.XML":304,"./math/calculation":305,"./math/math":306,"./math/noise":307,"./math/p5.Vector":308,"./math/random":309,"./math/trigonometry":310,"./typography/attributes":311,"./typography/loading_displaying":312,"./typography/p5.Font":313,"./utilities/array_functions":314,"./utilities/conversion":315,"./utilities/string_functions":316,"./utilities/time_date":317,"./webgl/3d_primitives":318,"./webgl/interaction":320,"./webgl/light":321,"./webgl/loading":322,"./webgl/material":323,"./webgl/p5.Camera":324,"./webgl/p5.DataArray":325,"./webgl/p5.Framebuffer":326,"./webgl/p5.Geometry":327,"./webgl/p5.Matrix":328,"./webgl/p5.RenderBuffer":329,"./webgl/p5.RendererGL":332,"./webgl/p5.RendererGL.Immediate":330,"./webgl/p5.RendererGL.Retained":331,"./webgl/p5.Shader":333,"./webgl/p5.Texture":334,"./webgl/text":335}],260:[function(c,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.ColorConversion={_hsbaToHSLA:function(m){var _=m[0],p=m[1],x=m[2],E=(2-p)*x/2;return E!=0&&(E==1?p=0:E<.5?p/=2-p:p=p*x/(2-2*E)),[_,p,E,m[3]]},_hsbaToRGBA:function(m){var _,p,x,E,A,b=6*m[0],k=m[1],S=m[2];return k===0?[S,S,S,m[3]]:(p=S*(1-k),x=S*(1-k*(b-(_=Math.floor(b)))),k=S*(1-k*(1+_-b)),b=_===1?(E=x,A=S,p):_===2?(E=p,A=S,k):_===3?(E=p,A=x,S):_===4?(E=k,A=p,S):_===5?(E=S,A=p,x):(E=S,A=k,p),[E,A,b,m[3]])},_hslaToHSBA:function(m){var _=m[0],p=m[1],x=m[2],E=x<.5?(1+p)*x:x+p-x*p;return[_,p=2*(E-x)/E,E,m[3]]},_hslaToRGBA:function(m){var _,p=6*m[0],x=m[1],E=m[2];return x===0?[E,E,E,m[3]]:[(_=function(A,b,k){return A<0?A+=6:6<=A&&(A-=6),A<1?b+(k-b)*A:A<3?k:A<4?b+(k-b)*(4-A):b})(2+p,x=2*E-(E=E<.5?(1+x)*E:E+x-E*x),E),_(p,x,E),_(p-2,x,E),m[3]]},_rgbaToHSBA:function(m){var _,p,x=m[0],E=m[1],A=m[2],b=Math.max(x,E,A),k=b-Math.min(x,E,A);return k==0?p=_=0:(p=k/b,x===b?_=(E-A)/k:E===b?_=2+(A-x)/k:A===b&&(_=4+(x-E)/k),_<0?_+=6:6<=_&&(_-=6)),[_/6,p,b,m[3]]},_rgbaToHSLA:function(m){var _,p,x=m[0],E=m[1],A=m[2],b=Math.max(x,E,A),S=Math.min(x,E,A),k=b+S,S=b-S;return S==0?p=_=0:(p=k<1?S/k:S/(2-k),x===b?_=(E-A)/S:E===b?_=2+(A-x)/S:A===b&&(_=4+(x-E)/S),_<0?_+=6:6<=_&&(_-=6)),[_/6,p,k/2,m[3]]}},c=c.default.ColorConversion,y.default=c},{"../core/main":275}],261:[function(c,g,y){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(b)}function _(b){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(k){return m(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":m(k)})(b)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(A=c("../core/main"))&&A.__esModule?A:{default:A},x=function(b){if(b&&b.__esModule)return b;if(b===null||_(b)!=="object"&&typeof b!="function")return{default:b};var k=E();if(k&&k.has(b))return k.get(b);var S,T={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var C;Object.prototype.hasOwnProperty.call(b,S)&&((C=P?Object.getOwnPropertyDescriptor(b,S):null)&&(C.get||C.set)?Object.defineProperty(T,S,C):T[S]=b[S])}return T.default=b,k&&k.set(b,T),T}(c("../core/constants"));function E(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,E=function(){return b},b)}c("./p5.Color"),c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),p.default.prototype.alpha=function(b){return p.default._validateParameters("alpha",arguments),this.color(b)._getAlpha()},p.default.prototype.blue=function(b){return p.default._validateParameters("blue",arguments),this.color(b)._getBlue()},p.default.prototype.brightness=function(b){return p.default._validateParameters("brightness",arguments),this.color(b)._getBrightness()},p.default.prototype.color=function(){var b;return p.default._validateParameters("color",arguments),arguments[0]instanceof p.default.Color?arguments[0]:(b=arguments[0]instanceof Array?arguments[0]:arguments,new p.default.Color(this,b))},p.default.prototype.green=function(b){return p.default._validateParameters("green",arguments),this.color(b)._getGreen()},p.default.prototype.hue=function(b){return p.default._validateParameters("hue",arguments),this.color(b)._getHue()},p.default.prototype.lerpColor=function(b,k,S){p.default._validateParameters("lerpColor",arguments);var T,P,C,M=this._colorMode,j=this._colorMaxes;if(M===x.RGB)P=b.levels.map(function(I){return I/255}),C=k.levels.map(function(I){return I/255});else if(M===x.HSB)b._getBrightness(),k._getBrightness(),P=b.hsba,C=k.hsba;else{if(M!==x.HSL)throw new Error("".concat(M,"cannot be used for interpolation."));b._getLightness(),k._getLightness(),P=b.hsla,C=k.hsla}return S=Math.max(Math.min(S,1),0),this.lerp===void 0&&(this.lerp=function(I,O,R){return R*(O-I)+I}),b=this.lerp(P[0],C[0],S),k=this.lerp(P[1],C[1],S),T=this.lerp(P[2],C[2],S),P=this.lerp(P[3],C[3],S),b*=j[M][0],k*=j[M][1],T*=j[M][2],P*=j[M][3],this.color(b,k,T,P)},p.default.prototype.lightness=function(b){return p.default._validateParameters("lightness",arguments),this.color(b)._getLightness()},p.default.prototype.red=function(b){return p.default._validateParameters("red",arguments),this.color(b)._getRed()},p.default.prototype.saturation=function(b){return p.default._validateParameters("saturation",arguments),this.color(b)._getSaturation()};var A=p.default;y.default=A},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],262:[function(T,g,y){function m(I){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}function _(I){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(O){return m(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":m(O)})(I)}T("core-js/modules/es.symbol"),T("core-js/modules/es.symbol.description"),T("core-js/modules/es.symbol.iterator"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.iterator"),T("core-js/modules/es.array.join"),T("core-js/modules/es.array.map"),T("core-js/modules/es.array.slice"),T("core-js/modules/es.object.get-own-property-descriptor"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.regexp.constructor"),T("core-js/modules/es.regexp.exec"),T("core-js/modules/es.regexp.to-string"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.string.iterator"),T("core-js/modules/es.string.trim"),T("core-js/modules/es.weak-map"),T("core-js/modules/web.dom-collections.iterator"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.join"),T("core-js/modules/es.array.map"),T("core-js/modules/es.array.slice"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.regexp.constructor"),T("core-js/modules/es.regexp.exec"),T("core-js/modules/es.regexp.to-string"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=b(T("../core/main")),x=function(I){if(I&&I.__esModule)return I;if(I===null||_(I)!=="object"&&typeof I!="function")return{default:I};var O=A();if(O&&O.has(I))return O.get(I);var R,D={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in I){var U;Object.prototype.hasOwnProperty.call(I,R)&&((U=N?Object.getOwnPropertyDescriptor(I,R):null)&&(U.get||U.set)?Object.defineProperty(D,R,U):D[R]=I[R])}return D.default=I,O&&O.set(I,D),D}(T("../core/constants")),E=b(T("./color_conversion"));function A(){var I;return typeof WeakMap!="function"?null:(I=new WeakMap,A=function(){return I},I)}function b(I){return I&&I.__esModule?I:{default:I}}function k(I,O){for(var R=0;R<O.length;R++){var D=O[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}var S={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},T=/\s*/,j=/(\d{1,3})/,P=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,C=new RegExp("".concat(P.source,"%")),M={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",j.source,",",j.source,",",j.source,"\\)$"].join(T.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",C.source,",",C.source,",",C.source,"\\)$"].join(T.source),"i"),RGBA:new RegExp(["^rgba\\(",j.source,",",j.source,",",j.source,",",P.source,"\\)$"].join(T.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",C.source,",",C.source,",",C.source,",",P.source,"\\)$"].join(T.source),"i"),HSL:new RegExp(["^hsl\\(",j.source,",",C.source,",",C.source,"\\)$"].join(T.source),"i"),HSLA:new RegExp(["^hsla\\(",j.source,",",C.source,",",C.source,",",P.source,"\\)$"].join(T.source),"i"),HSB:new RegExp(["^hsb\\(",j.source,",",C.source,",",C.source,"\\)$"].join(T.source),"i"),HSBA:new RegExp(["^hsba\\(",j.source,",",C.source,",",C.source,",",P.source,"\\)$"].join(T.source),"i")},j=(p.default.Color=function(){function I(N,U){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(N._colorMode,N._colorMaxes),![x.RGB,x.HSL,x.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=I._parseInputs.apply(this,U),this._calculateLevels()}var O,R,D;return O=I,D=[{key:"_parseInputs",value:function(N,U,X,V){var K,W=arguments.length,Q=this.mode,L=this.maxes[Q],G=[];if(3<=W){for(G[0]=N/L[0],G[1]=U/L[1],G[2]=X/L[2],G[3]=typeof V=="number"?V/L[3]:1,K=G.length-1;0<=K;--K){var J=G[K];J<0?G[K]=0:1<J&&(G[K]=1)}return Q===x.HSL?E.default._hslaToRGBA(G):Q===x.HSB?E.default._hsbaToRGBA(G):G}if(W===1&&typeof N=="string"){if(X=N.trim().toLowerCase(),S[X])return I._parseInputs.call(this,S[X]);if(M.HEX3.test(X))return(G=M.HEX3.exec(X).slice(1).map(function(B){return parseInt(B+B,16)/255}))[3]=1,G;if(M.HEX6.test(X))return(G=M.HEX6.exec(X).slice(1).map(function(B){return parseInt(B,16)/255}))[3]=1,G;if(M.HEX4.test(X))return G=M.HEX4.exec(X).slice(1).map(function(B){return parseInt(B+B,16)/255});if(M.HEX8.test(X))return G=M.HEX8.exec(X).slice(1).map(function(B){return parseInt(B,16)/255});if(M.RGB.test(X))return(G=M.RGB.exec(X).slice(1).map(function(B){return B/255}))[3]=1,G;if(M.RGB_PERCENT.test(X))return(G=M.RGB_PERCENT.exec(X).slice(1).map(function(B){return parseFloat(B)/100}))[3]=1,G;if(M.RGBA.test(X))return G=M.RGBA.exec(X).slice(1).map(function(B,Y){return Y===3?parseFloat(B):B/255});if(M.RGBA_PERCENT.test(X))return G=M.RGBA_PERCENT.exec(X).slice(1).map(function(B,Y){return Y===3?parseFloat(B):parseFloat(B)/100});if(M.HSL.test(X)?(G=M.HSL.exec(X).slice(1).map(function(B,Y){return Y===0?parseInt(B,10)/360:parseInt(B,10)/100}))[3]=1:M.HSLA.test(X)&&(G=M.HSLA.exec(X).slice(1).map(function(B,Y){return Y===0?parseInt(B,10)/360:Y===3?parseFloat(B):parseInt(B,10)/100})),(G=G.map(function(B){return Math.max(Math.min(B,1),0)})).length)return E.default._hslaToRGBA(G);if(M.HSB.test(X)?(G=M.HSB.exec(X).slice(1).map(function(B,Y){return Y===0?parseInt(B,10)/360:parseInt(B,10)/100}))[3]=1:M.HSBA.test(X)&&(G=M.HSBA.exec(X).slice(1).map(function(B,Y){return Y===0?parseInt(B,10)/360:Y===3?parseFloat(B):parseInt(B,10)/100})),G.length){for(K=G.length-1;0<=K;--K)G[K]=Math.max(Math.min(G[K],1),0);return E.default._hsbaToRGBA(G)}G=[1,1,1,1]}else{if(W!==1&&W!==2||typeof N!="number")throw new Error("".concat(arguments,"is not a valid color representation."));G[0]=N/L[2],G[1]=N/L[2],G[2]=N/L[2],G[3]=typeof U=="number"?U/L[3]:1,G=G.map(function(B){return Math.max(Math.min(B,1),0)})}return G}}],(R=[{key:"toString",value:function(N){var U=this.levels,X=this._array,V=X[3];switch(N){case"#rrggbb":return"#".concat(U[0]<16?"0".concat(U[0].toString(16)):U[0].toString(16),U[1]<16?"0".concat(U[1].toString(16)):U[1].toString(16),U[2]<16?"0".concat(U[2].toString(16)):U[2].toString(16));case"#rrggbbaa":return"#".concat(U[0]<16?"0".concat(U[0].toString(16)):U[0].toString(16),U[1]<16?"0".concat(U[1].toString(16)):U[1].toString(16),U[2]<16?"0".concat(U[2].toString(16)):U[2].toString(16),U[3]<16?"0".concat(U[3].toString(16)):U[3].toString(16));case"#rgb":return"#".concat(Math.round(15*X[0]).toString(16),Math.round(15*X[1]).toString(16),Math.round(15*X[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*X[0]).toString(16),Math.round(15*X[1]).toString(16),Math.round(15*X[2]).toString(16),Math.round(15*X[3]).toString(16));case"rgb":return"rgb(".concat(U[0],", ",U[1],", ",U[2],")");case"rgb%":return"rgb(".concat((100*X[0]).toPrecision(3),"%, ",(100*X[1]).toPrecision(3),"%, ",(100*X[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*X[0]).toPrecision(3),"%, ",(100*X[1]).toPrecision(3),"%, ",(100*X[2]).toPrecision(3),"%, ",(100*X[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[x.HSB][0],", ",this.hsba[1]*this.maxes[x.HSB][1],", ",this.hsba[2]*this.maxes[x.HSB][2],", ",V,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*V).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[x.HSL][0],", ",this.hsla[1]*this.maxes[x.HSL][1],", ",this.hsla[2]*this.maxes[x.HSL][2],", ",V,")");case"hsla%":return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*V).toPrecision(3),"%)");default:return"rgba(".concat(U[0],",",U[1],",",U[2],",",V,")")}}},{key:"setRed",value:function(N){this._array[0]=N/this.maxes[x.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(N){this._array[1]=N/this.maxes[x.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(N){this._array[2]=N/this.maxes[x.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(N){this._array[3]=N/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var N=this._array,U=this.levels=new Array(N.length),X=N.length-1;0<=X;--X)U[X]=Math.round(255*N[X]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(N,U){this.mode=N,this.maxes=U}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[x.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[x.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[x.RGB][1]}},{key:"_getHue",value:function(){return this.mode===x.HSB?(this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[x.HSB][0]):(this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[x.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[x.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[x.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===x.HSB?(this.hsba||(this.hsba=E.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[x.HSB][1]):(this.hsla||(this.hsla=E.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[x.HSL][1])}}])&&k(O.prototype,R),D&&k(O,D),I}(),p.default.Color);y.default=j},{"../core/constants":264,"../core/main":275,"./color_conversion":260,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],263:[function(c,g,y){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(b)}function _(b){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(k){return m(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":m(k)})(b)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.fill"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(A=c("../core/main"))&&A.__esModule?A:{default:A},x=function(b){if(b&&b.__esModule)return b;if(b===null||_(b)!=="object"&&typeof b!="function")return{default:b};var k=E();if(k&&k.has(b))return k.get(b);var S,T={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var C;Object.prototype.hasOwnProperty.call(b,S)&&((C=P?Object.getOwnPropertyDescriptor(b,S):null)&&(C.get||C.set)?Object.defineProperty(T,S,C):T[S]=b[S])}return T.default=b,k&&k.set(b,T),T}(c("../core/constants"));function E(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,E=function(){return b},b)}c("./p5.Color"),p.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},p.default.prototype.endClip=function(){this._renderer.endClip()},p.default.prototype.clip=function(b,k){this._renderer.beginClip(k),b(),this._renderer.endClip(k)},p.default.prototype.background=function(){var b;return(b=this._renderer).background.apply(b,arguments),this},p.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},p.default.prototype.colorMode=function(b,k,S,T,P){return p.default._validateParameters("colorMode",arguments),b!==x.RGB&&b!==x.HSB&&b!==x.HSL||(this._colorMode=b,b=this._colorMaxes[b],arguments.length===2?(b[0]=k,b[1]=k,b[2]=k,b[3]=k):arguments.length===4?(b[0]=k,b[1]=S,b[2]=T):arguments.length===5&&(b[0]=k,b[1]=S,b[2]=T,b[3]=P)),this},p.default.prototype.fill=function(){var b;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(b=this._renderer).fill.apply(b,arguments),this},p.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},p.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},p.default.prototype.stroke=function(){var b;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(b=this._renderer).stroke.apply(b,arguments),this},p.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},p.default.prototype.noErase=function(){return this._renderer.noErase(),this};var A=p.default;y.default=A},{"../core/constants":264,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],264:[function(c,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.QUADRATIC=y.LINEAR=y._CTX_MIDDLE=y._DEFAULT_LEADMULT=y._DEFAULT_TEXT_FILL=y.WORD=y.CHAR=y.BOLDITALIC=y.BOLD=y.ITALIC=y.NORMAL=y.BLUR=y.ERODE=y.DILATE=y.POSTERIZE=y.INVERT=y.OPAQUE=y.GRAY=y.THRESHOLD=y.BURN=y.DODGE=y.SOFT_LIGHT=y.HARD_LIGHT=y.OVERLAY=y.REPLACE=y.SCREEN=y.MULTIPLY=y.EXCLUSION=y.SUBTRACT=y.DIFFERENCE=y.LIGHTEST=y.DARKEST=y.ADD=y.REMOVE=y.BLEND=y.UP_ARROW=y.TAB=y.SHIFT=y.RIGHT_ARROW=y.RETURN=y.OPTION=y.LEFT_ARROW=y.ESCAPE=y.ENTER=y.DOWN_ARROW=y.DELETE=y.CONTROL=y.BACKSPACE=y.ALT=y.AUTO=y.HSL=y.HSB=y.RGB=y.MITER=y.BEVEL=y.ROUND=y.SQUARE=y.PROJECT=y.PIE=y.CHORD=y.OPEN=y.CLOSE=y.TESS=y.QUAD_STRIP=y.QUADS=y.TRIANGLE_STRIP=y.TRIANGLE_FAN=y.TRIANGLES=y.LINE_LOOP=y.LINE_STRIP=y.LINES=y.POINTS=y.BASELINE=y.BOTTOM=y.TOP=y.CENTER=y.LEFT=y.RIGHT=y.RADIUS=y.CORNERS=y.CORNER=y.RAD_TO_DEG=y.DEG_TO_RAD=y.RADIANS=y.DEGREES=y.TWO_PI=y.TAU=y.QUARTER_PI=y.PI=y.HALF_PI=y.WAIT=y.TEXT=y.MOVE=y.HAND=y.CROSS=y.ARROW=y.WEBGL2=y.WEBGL=y.P2D=y.VERSION=void 0,y.RGBA=y.HALF_FLOAT=y.FLOAT=y.UNSIGNED_INT=y.UNSIGNED_BYTE=y.COVER=y.CONTAIN=y.FALLBACK=y.LABEL=y.AXES=y.GRID=y._DEFAULT_FILL=y._DEFAULT_STROKE=y.PORTRAIT=y.LANDSCAPE=y.SMOOTH=y.FLAT=y.MIRROR=y.CLAMP=y.REPEAT=y.NEAREST=y.IMAGE=y.IMMEDIATE=y.TEXTURE=y.FILL=y.STROKE=y.CURVE=y.BEZIER=void 0;var m=Math.PI,_=(y.VERSION="1.9.0",y.P2D="p2d",y.WEBGL="webgl",y.WEBGL2="webgl2",y.ARROW="default",y.CROSS="crosshair",y.HAND="pointer",y.MOVE="move",y.TEXT="text",y.WAIT="wait",m/2),_=(y.HALF_PI=_,m),_=(y.PI=_,m/4),_=(y.QUARTER_PI=_,2*m),_=(y.TAU=_,2*m),_=(y.TWO_PI=_,y.DEGREES="degrees",y.RADIANS="radians",m/180),_=(y.DEG_TO_RAD=_,180/m);y.RAD_TO_DEG=_,y.CORNER="corner",y.CORNERS="corners",y.RADIUS="radius",y.RIGHT="right",y.LEFT="left",y.CENTER="center",y.TOP="top",y.BOTTOM="bottom",y.BASELINE="alphabetic",y.POINTS=0,y.LINES=1,y.LINE_STRIP=3,y.LINE_LOOP=2,y.TRIANGLES=4,y.TRIANGLE_FAN=6,y.TRIANGLE_STRIP=5,y.QUADS="quads",y.QUAD_STRIP="quad_strip",y.TESS="tess",y.CLOSE="close",y.OPEN="open",y.CHORD="chord",y.PIE="pie",y.PROJECT="square",y.SQUARE="butt",y.ROUND="round",y.BEVEL="bevel",y.MITER="miter",y.RGB="rgb",y.HSB="hsb",y.HSL="hsl",y.AUTO="auto",y.ALT=18,y.BACKSPACE=8,y.CONTROL=17,y.DELETE=46,y.DOWN_ARROW=40,y.ENTER=13,y.ESCAPE=27,y.LEFT_ARROW=37,y.OPTION=18,y.RETURN=13,y.RIGHT_ARROW=39,y.SHIFT=16,y.TAB=9,y.UP_ARROW=38,y.BLEND="source-over",y.REMOVE="destination-out",y.ADD="lighter",y.DARKEST="darken",y.LIGHTEST="lighten",y.DIFFERENCE="difference",y.SUBTRACT="subtract",y.EXCLUSION="exclusion",y.MULTIPLY="multiply",y.SCREEN="screen",y.REPLACE="copy",y.OVERLAY="overlay",y.HARD_LIGHT="hard-light",y.SOFT_LIGHT="soft-light",y.DODGE="color-dodge",y.BURN="color-burn",y.THRESHOLD="threshold",y.GRAY="gray",y.OPAQUE="opaque",y.INVERT="invert",y.POSTERIZE="posterize",y.DILATE="dilate",y.ERODE="erode",y.BLUR="blur",y.NORMAL="normal",y.ITALIC="italic",y.BOLD="bold",y.BOLDITALIC="bold italic",y.CHAR="CHAR",y.WORD="WORD",y._DEFAULT_TEXT_FILL="#000000",y._DEFAULT_LEADMULT=1.25,y._CTX_MIDDLE="middle",y.LINEAR="linear",y.QUADRATIC="quadratic",y.BEZIER="bezier",y.CURVE="curve",y.STROKE="stroke",y.FILL="fill",y.TEXTURE="texture",y.IMMEDIATE="immediate",y.IMAGE="image",y.NEAREST="nearest",y.REPEAT="repeat",y.CLAMP="clamp",y.MIRROR="mirror",y.FLAT="flat",y.SMOOTH="smooth",y.LANDSCAPE="landscape",y.PORTRAIT="portrait",y._DEFAULT_STROKE="#000000",y._DEFAULT_FILL="#FFFFFF",y.GRID="grid",y.AXES="axes",y.LABEL="label",y.FALLBACK="fallback",y.CONTAIN="contain",y.COVER="cover",y.UNSIGNED_BYTE="unsigned-byte",y.UNSIGNED_INT="unsigned-int",y.FLOAT="float",y.HALF_FLOAT="half-float",y.RGBA="rgba"},{}],265:[function(c,g,y){function m(P){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(P)}function _(P){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(C){return m(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":m(C)})(P)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.search"),c("core-js/modules/es.string.split"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.search"),c("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(x=c("./main"))&&x.__esModule?x:{default:x},x=function(P){if(P&&P.__esModule)return P;if(P===null||_(P)!=="object"&&typeof P!="function")return{default:P};var C=E();if(C&&C.has(P))return C.get(P);var M,j={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in P){var O;Object.prototype.hasOwnProperty.call(P,M)&&((O=I?Object.getOwnPropertyDescriptor(P,M):null)&&(O.get||O.set)?Object.defineProperty(j,M,O):j[M]=P[M])}return j.default=P,C&&C.set(P,j),j}(c("./constants"));function E(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,E=function(){return P},P)}var A=[x.ARROW,x.CROSS,x.HAND,x.MOVE,x.TEXT,x.WAIT],b=(p.default.prototype._frameRate=0,p.default.prototype._lastFrameTime=window.performance.now(),p.default.prototype._targetFrameRate=60,window.print),k=!1;function S(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function T(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}p.default.prototype.print=function(){var P;arguments.length?(P=console).log.apply(P,arguments):k||(b(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(k=!0))},p.default.prototype.frameCount=0,p.default.prototype.deltaTime=0,p.default.prototype.focused=document.hasFocus(),p.default.prototype.cursor=function(P,C,M){var j,I="auto",O=this._curElement.elt;A.includes(P)?I=P:typeof P=="string"&&(j="",C&&M&&typeof C=="number"&&typeof M=="number"&&(j="".concat(C," ").concat(M)),I=P.substring(0,7)==="http://"||P.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(P)?"url(".concat(P,") ").concat(j,", auto"):P),O.style.cursor=I},p.default.prototype.frameRate=function(P){return p.default._validateParameters("frameRate",arguments),typeof P!="number"||P<0?this._frameRate:(this._setProperty("_targetFrameRate",P),P===0&&this._setProperty("_frameRate",P),this)},p.default.prototype.getFrameRate=function(){return this.frameRate()},p.default.prototype.setFrameRate=function(P){return this.frameRate(P)},p.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},p.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},p.default.prototype.webglVersion=x.P2D,p.default.prototype.displayWidth=screen.width,p.default.prototype.displayHeight=screen.height,p.default.prototype.windowWidth=S(),p.default.prototype.windowHeight=T(),p.default.prototype._onresize=function(P){this._setProperty("windowWidth",S()),this._setProperty("windowHeight",T());var C=this._isGlobal?window:this;typeof C.windowResized!="function"||(C=C.windowResized(P))===void 0||C||P.preventDefault()},p.default.prototype.width=0,p.default.prototype.height=0,p.default.prototype.fullscreen=function(P){if(p.default._validateParameters("fullscreen",arguments),P===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(P){if(P=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");P.requestFullscreen?P.requestFullscreen():P.mozRequestFullScreen?P.mozRequestFullScreen():P.webkitRequestFullscreen?P.webkitRequestFullscreen():P.msRequestFullscreen&&P.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},p.default.prototype.pixelDensity=function(P){var C;return p.default._validateParameters("pixelDensity",arguments),typeof P=="number"?(P!==this._pixelDensity&&(this._pixelDensity=P),(C=this).resizeCanvas(this.width,this.height,!0)):C=this._pixelDensity,C},p.default.prototype.displayDensity=function(){return window.devicePixelRatio},p.default.prototype.getURL=function(){return location.href},p.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(P){return P!==""})},p.default.prototype.getURLParams=function(){for(var P,C=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,M={};(P=C.exec(location.search))!=null;)P.index===C.lastIndex&&C.lastIndex++,M[P[1]]=P[2];return M},c=p.default,y.default=c},{"./constants":264,"./main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.search":197,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],266:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-own-property-names"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.starts-with"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-own-property-names"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.starts-with"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(A=c("../main"))&&A.__esModule?A:{default:A};c("../internationalization");function _(b,k){k=k||console.log.bind(console),p||E(),p.some(function(S){var T;if(b.message&&b.message.match("\\W?".concat(S.name,"\\W"))!==null)return T=S.type==="function"?"".concat(S.name,"()"):S.name,k("Did you just try to use p5.js's ".concat(T," ").concat(S.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(x)),!0})}var p=null,E=null,x=(m.default._friendlyError=m.default._checkForUserDefinedFunctions=m.default._fesErrorMonitor=function(){},p=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),E=function(){function b(S){return Object.getOwnPropertyNames(S).filter(function(T){return T[0]!=="_"&&!(T in k)&&(k[T]=!0)}).map(function(T){var P=typeof S[T]=="function"?"function":T===T.toUpperCase()?"constant":"variable";return{name:T,type:P}})}var k={};(p=[].concat(b(m.default.prototype),b(c("../constants")))).sort(function(S,T){return T.name.length-S.name.length})},A=(m.default.prototype._helpForMisusedAtTopLevelCode=_,document.readyState!=="complete"&&(window.addEventListener("error",_,!1),window.addEventListener("load",function(){window.removeEventListener("error",_,!1)})),m.default);y.default=A},{"../constants":264,"../internationalization":273,"../main":275,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.starts-with":199,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],267:[function(c,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(m=c("../main"))&&m.__esModule?m:{default:m};c("../internationalization"),m.default._friendlyFileLoadError=function(){},c=m.default,y.default=c},{"../internationalization":273,"../main":275}],268:[function(c,g,y){function m(k){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(k)}function _(k){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(S){return m(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":m(S)})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=A(c("../main"));c("../internationalization"),E(c("../constants"));function x(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,x=function(){return k},k)}function E(k){if(k&&k.__esModule)return k;if(k===null||_(k)!=="object"&&typeof k!="function")return{default:k};var S=x();if(S&&S.has(k))return S.get(k);var T,P,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in k)Object.prototype.hasOwnProperty.call(k,T)&&((P=M?Object.getOwnPropertyDescriptor(k,T):null)&&(P.get||P.set)?Object.defineProperty(C,T,P):C[T]=k[T]);return C.default=k,S&&S.set(k,C),C}function A(k){return k&&k.__esModule?k:{default:k}}p.default._fesCodeReader=function(){};var b=p.default;y.default=b},{"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],269:[function(c,g,y){c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../main"))&&c.__esModule?c:{default:c};function m(){var _=/(^|@)\S+:\d+/,p=/^\s*at .*(\S+:\d+|\(native\))/m,x=/^(eval@)?(\[native code])?$/;return{parse:function(E){return E.stacktrace!==void 0||E["opera#sourceloc"]!==void 0?this.parseOpera(E):E.stack&&E.stack.match(p)?this.parseV8OrIE(E):E.stack?this.parseFFOrSafari(E):void 0},extractLocation:function(E){return E.indexOf(":")===-1?[E]:[(E=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(E.replace(/[()]/g,"")))[1],E[2]||void 0,E[3]||void 0]},parseV8OrIE:function(E){return E.stack.split(`
`).filter(function(A){return!!A.match(p)},this).map(function(A){var b=(A=-1<A.indexOf("(eval ")?A.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):A).replace(/^\s+/,"").replace(/\(eval code/g,"("),k=b.match(/ (\((.+):(\d+):(\d+)\)$)/),b=(b=k?b.replace(k[0],""):b).split(/\s+/).slice(1),k=this.extractLocation(k?k[1]:b.pop());return{functionName:b.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(k[0])?void 0:k[0],lineNumber:k[1],columnNumber:k[2],source:A}},this)},parseFFOrSafari:function(E){return E.stack.split(`
`).filter(function(A){return!A.match(x)},this).map(function(A){var b,k;return(A=-1<A.indexOf(" > eval")?A.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):A).indexOf("@")===-1&&A.indexOf(":")===-1?{functionName:A}:{functionName:(k=A.match(b=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&k[1]?k[1]:void 0,fileName:(k=this.extractLocation(A.replace(b,"")))[0],lineNumber:k[1],columnNumber:k[2],source:A}},this)},parseOpera:function(E){return!E.stacktrace||-1<E.message.indexOf(`
`)&&E.message.split(`
`).length>E.stacktrace.split(`
`).length?this.parseOpera9(E):E.stack?this.parseOpera11(E):this.parseOpera10(E)},parseOpera9:function(E){for(var A=/Line (\d+).*script (?:in )?(\S+)/i,b=E.message.split(`
`),k=[],S=2,T=b.length;S<T;S+=2){var P=A.exec(b[S]);P&&k.push({fileName:P[2],lineNumber:P[1],source:b[S]})}return k},parseOpera10:function(E){for(var A=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,b=E.stacktrace.split(`
`),k=[],S=0,T=b.length;S<T;S+=2){var P=A.exec(b[S]);P&&k.push({functionName:P[3]||void 0,fileName:P[2],lineNumber:P[1],source:b[S]})}return k},parseOpera11:function(E){return E.stack.split(`
`).filter(function(A){return!!A.match(_)&&!A.match(/^Error created at/)},this).map(function(A){var b,S=A.split("@"),k=this.extractLocation(S.pop()),S=S.shift()||"";return{functionName:S.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(b=S.match(/\(([^)]*)\)/)?S.replace(/^[^(]+\(([^)]*)\)$/,"$1"):b)===void 0||b==="[arguments not available]"?void 0:b.split(","),fileName:k[0],lineNumber:k[1],columnNumber:k[2],source:A}},this)}}}c.default._getErrorStackParser=function(){return new m},c=c.default,y.default=c},{"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],270:[function(c,g,y){function m(E){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(E)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.map"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _=(_=c("../main"))&&_.__esModule?_:{default:_};(function(E){if(!(E&&E.__esModule)&&!(E===null||x(E)!=="object"&&typeof E!="function")){var A=p();if(A&&A.has(E))return A.get(E);var b,k={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in E){var T;Object.prototype.hasOwnProperty.call(E,b)&&((T=S?Object.getOwnPropertyDescriptor(E,b):null)&&(T.get||T.set)?Object.defineProperty(k,b,T):k[b]=E[b])}k.default=E,A&&A.set(E,k)}})(c("../constants")),c("../internationalization");function p(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,p=function(){return E},E)}function x(E){return(x=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(A){return m(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":m(A)})(E)}_.default._validateParameters=_.default._clearValidateParamsCache=function(){},c=_.default,y.default=c},{"../../../docs/parameterData.json":void 0,"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.map":169,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],271:[function(c,g,y){function m(E){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(E)}function _(E){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(A){return m(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":m(A)})(E)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=function(E){if(E&&E.__esModule)return E;if(E===null||_(E)!=="object"&&typeof E!="function")return{default:E};var A=x();if(A&&A.has(E))return A.get(E);var b,k={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in E){var T;Object.prototype.hasOwnProperty.call(E,b)&&((T=S?Object.getOwnPropertyDescriptor(E,b):null)&&(T.get||T.set)?Object.defineProperty(k,b,T):k[b]=E[b])}return k.default=E,A&&A.set(E,k),k}(c("./constants"));function x(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,x=function(){return E},E)}y.default={modeAdjust:function(E,A,b,k,S){return S===p.CORNER?{x:E,y:A,w:b,h:k}:S===p.CORNERS?{x:E,y:A,w:b-E,h:k-A}:S===p.RADIUS?{x:E-b,y:A-k,w:2*b,h:2*k}:S===p.CENTER?{x:E-.5*b,y:A-.5*k,w:b,h:k}:void 0}}},{"./constants":264,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],272:[function(c,g,y){c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator");var m=(_=c("../core/main"))&&_.__esModule?_:{default:_};c("./internationalization");var _=Promise.resolve();Promise.all([new Promise(function(p,x){document.readyState==="complete"?p():window.addEventListener("load",p,!1)}),_]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!m.default.instance&&new m.default})},{"../core/main":275,"./internationalization":273,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/web.dom-collections.iterator":238}],273:[function(c,g,y){c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.setTranslatorLanguage=y.currentTranslatorLanguage=y.availableTranslatorLanguages=y.initialize=y.translator=void 0;var m,_,p=E(c("i18next")),x=E(c("i18next-browser-languagedetector"));function E(k){return k&&k.__esModule?k:{default:k}}function A(k,S){for(var T=0;T<S.length;T++){var P=S[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}var b=function(){function k(P,C){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");this.init(P,C)}var S,T;return S=k,(T=[{key:"fetchWithTimeout",value:function(P,C){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(P,C),new Promise(function(j,I){return setTimeout(function(){return I(new Error("timeout"))},M)})])}},{key:"init",value:function(P){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=P,this.options=C}},{key:"read",value:function(P,C,M){var j=this.options.loadPath;P===this.options.fallback?M(null,m[P][C]):_.includes(P)?(j=this.services.interpolator.interpolate(j,{lng:P,ns:C}),this.loadUrl(j,M)):M("Not found",!1)}},{key:"loadUrl",value:function(P,C){this.fetchWithTimeout(P).then(function(M){if(M.ok)return M.json();throw new Error("failed loading ".concat(P))},function(){throw new Error("failed loading ".concat(P))}).then(function(M){return C(null,M)}).catch(C)}}])&&A(S.prototype,T),k}();b.type="backend",y.translator=function(k,S){console.debug("p5.js translator called before translations were loaded"),p.default.t(k,S)},y.initialize=function(){return p.default.use(x.default).use(b).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:m}).then(function(k){y.translator=k},function(k){return console.debug("Translations failed to load (".concat(k,")"))})},y.availableTranslatorLanguages=function(){return p.default.languages},y.currentTranslatorLanguage=function(k){return p.default.language},y.setTranslatorLanguage=function(k){return p.default.changeLanguage(k||void 0,function(S){return console.debug("Translations failed to load (".concat(S,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238,i18next:3,"i18next-browser-languagedetector":3}],274:[function(c,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("./main"))&&c.__esModule?c:{default:c},c.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},c.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},c.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},c.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},c=c.default,y.default=c},{"./main":275}],275:[function(c,g,y){function m(k){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(k)}function _(k){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(S){return m(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":m(S)})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-own-property-names"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.get-own-property-names"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c("./shim");var p=function(k){if(k&&k.__esModule)return k;if(k===null||_(k)!=="object"&&typeof k!="function")return{default:k};var S=x();if(S&&S.has(k))return S.get(k);var T,P={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in k){var M;Object.prototype.hasOwnProperty.call(k,T)&&((M=C?Object.getOwnPropertyDescriptor(k,T):null)&&(M.get||M.set)?Object.defineProperty(P,T,M):P[T]=k[T])}return P.default=k,S&&S.set(k,P),P}(c("./constants"));function x(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,x=function(){return k},k)}function E(k,S){for(var T=0;T<S.length;T++){var P=S[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,P.key,P)}}var A,b=function(){function k(P,j){var M=this;if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=j,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var j=Object.getOwnPropertyNames(k.prototype._registeredMethods),I=!0,O=!1,R=void 0;try{for(var D,N=j[Symbol.iterator]();!(I=(D=N.next()).done);I=!0){var U=D.value;this._registeredMethods[U]=k.prototype._registeredMethods[U].slice()}}catch(B){O=!0,R=B}finally{try{I||N.return==null||N.return()}finally{if(O)throw R}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),k.prototype.callRegisteredHooksFor=function(B){var Y=this||k.prototype,ie=this._isGlobal?window:this;if(Y._registeredMethods.hasOwnProperty(B)){var Y=Y._registeredMethods[B],ne=!0,B=!1,Z=void 0;try{for(var H,z=Y[Symbol.iterator]();!(ne=(H=z.next()).done);ne=!0){var ee=H.value;typeof ee=="function"&&ee.call(ie)}}catch(ue){B=!0,Z=ue}finally{try{ne||z.return==null||z.return()}finally{if(B)throw Z}}}},this._start=function(){M._userNode&&typeof M._userNode=="string"&&(M._userNode=document.getElementById(M._userNode));var B=M._isGlobal?window:M;if(B.preload){M.callRegisteredHooksFor("beforePreload");var Y,ie=document.getElementById(M._loadingScreenId),ne=(ie||((ie=document.createElement("div")).innerHTML="Loading...",ie.style.position="absolute",ie.id=M._loadingScreenId,(M._userNode||document.body).appendChild(ie)),M._preloadMethods);for(Y in ne){ne[Y]=ne[Y]||k;var Z=ne[Y];Z!==k.prototype&&Z!==k||(M._isGlobal&&(window[Y]=M._wrapPreload(M,Y)),Z=M),M._registeredPreloadMethods[Y]=Z[Y],Z[Y]=M._wrapPreload(Z,Y)}B.preload(),M._runIfPreloadsAreDone()}else M._setup(),M._recording||M._draw()},this._runIfPreloadsAreDone=function(){var B,Y=this._isGlobal?window:this;Y._preloadCount===0&&((B=document.getElementById(Y._loadingScreenId))&&B.parentNode.removeChild(B),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),Y._setup(),this._recording||Y._draw()))},this._decrementPreload=function(){var B=this._isGlobal?window:this;B._preloadDone||typeof B.preload!="function"||(B._setProperty("_preloadCount",B._preloadCount-1),B._runIfPreloadsAreDone())},this._wrapPreload=function(B,Y){var ie=this;return function(){ie._incrementPreload();for(var ne=arguments.length,Z=new Array(ne),H=0;H<ne;H++)Z[H]=arguments[H];return ie._registeredPreloadMethods[Y].apply(B,Z)}},this._incrementPreload=function(){var B=this._isGlobal?window:this;B._preloadDone||B._setProperty("_preloadCount",B._preloadCount+1)},this._setup=function(){M.callRegisteredHooksFor("beforeSetup"),M.createCanvas(M._defaultCanvasSize.width,M._defaultCanvasSize.height,"p2d");var B=M._isGlobal?window:M;if(typeof B.preload=="function")for(var Y in M._preloadMethods)B[Y]=M._preloadMethods[Y][Y],B[Y]&&M&&(B[Y]=B[Y].bind(M));M._millisStart=window.performance.now(),B._preloadDone=!0,typeof B.setup=="function"&&B.setup();var ie=document.getElementsByTagName("canvas"),ne=!0,Z=!1,H=void 0;try{for(var z,ee=ie[Symbol.iterator]();!(ne=(z=ee.next()).done);ne=!0){var se=z.value;se.dataset.hidden==="true"&&(se.style.visibility="",delete se.dataset.hidden)}}catch(le){Z=!0,H=le}finally{try{ne||ee.return==null||ee.return()}finally{if(Z)throw H}}M._lastTargetFrameTime=window.performance.now(),M._lastRealFrameTime=window.performance.now(),M._setupDone=!0,(M._accessibleOutputs.grid||M._accessibleOutputs.text)&&M._updateAccsOutput(),M.callRegisteredHooksFor("afterSetup")},this._draw=function(){var B=window.performance.now(),Y=B-M._lastTargetFrameTime,ie=1e3/M._targetFrameRate;(!M._loop||ie-5<=Y)&&(M.deltaTime=B-M._lastRealFrameTime,M._setProperty("deltaTime",M.deltaTime),M._frameRate=1e3/M.deltaTime,M.redraw(),M._lastTargetFrameTime=Math.max(M._lastTargetFrameTime+ie,B),M._lastRealFrameTime=B,M._updateMouseCoords!==void 0&&(M._updateMouseCoords(),M._setProperty("movedX",0),M._setProperty("movedY",0))),M._loop&&(M._requestAnimId=window.requestAnimationFrame(M._draw))},this._setProperty=function(B,Y){M[B]=Y,M._isGlobal&&(window[B]=Y)},this.remove=function(){M._startListener&&window.removeEventListener("load",M._startListener,!1);var B=document.getElementById(M._loadingScreenId);if(B&&(B.parentNode.removeChild(B),M._incrementPreload()),M._curElement){for(var Y in M._loop=!1,M._requestAnimId&&window.cancelAnimationFrame(M._requestAnimId),M._events)window.removeEventListener(Y,M._events[Y]);var ie=!0,B=!1,ne=void 0;try{for(var Z,H=M._elements[Symbol.iterator]();!(ie=(Z=H.next()).done);ie=!0){var z,ee=Z.value;for(z in ee.elt&&ee.elt.parentNode&&ee.elt.parentNode.removeChild(ee.elt),ee._events)ee.elt.removeEventListener(z,ee._events[z])}}catch(Te){B=!0,ne=Te}finally{try{ie||H.return==null||H.return()}finally{if(B)throw ne}}var se=M;M._registeredMethods.remove.forEach(function(Te){Te!==void 0&&Te.call(se)})}if(M._isGlobal){for(var le in k.prototype)try{delete window[le]}catch{window[le]=void 0}for(var ue in M)if(M.hasOwnProperty(ue))try{delete window[ue]}catch{window[ue]=void 0}k.instance=null}},this._registeredMethods.init.forEach(function(B){B!==void 0&&B.call(this)},this),this._setupPromisePreloads();var X,V,K=this._createFriendlyGlobalFunctionBinder();if(P)P(this),k._checkForUserDefinedFunctions(this);else{for(var W in this._isGlobal=!0,k.instance=this,k.prototype)typeof k.prototype[W]=="function"?(X=W.substring(2),this._events.hasOwnProperty(X)||(Math.hasOwnProperty(W)&&Math[W]===k.prototype[W]?K(W,k.prototype[W]):K(W,k.prototype[W].bind(this)))):K(W,k.prototype[W]);for(var Q in this)this.hasOwnProperty(Q)&&K(Q,this[Q])}for(V in this._events){var L=this["_on".concat(V)];L&&(L=L.bind(this),window.addEventListener(V,L,{passive:!1}),this._events[V]=L)}function G(){M._setProperty("focused",!0)}function J(){M._setProperty("focused",!1)}window.addEventListener("focus",G),window.addEventListener("blur",J),this.registerMethod("remove",function(){window.removeEventListener("focus",G),window.removeEventListener("blur",J)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var S,T;return S=k,(T=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=p.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(P,C){k.prototype._preloadMethods.hasOwnProperty(P)||(k.prototype._preloadMethods[P]=C)}},{key:"registerMethod",value:function(P,C){var M=this||k.prototype;M._registeredMethods.hasOwnProperty(P)||(M._registeredMethods[P]=[]),M._registeredMethods[P].push(C)}},{key:"unregisterMethod",value:function(P,C){var M=this||k.prototype;if(M._registeredMethods.hasOwnProperty(P)){for(var j=M._registeredMethods[P],I=[],O=0;O<j.length;O++)j[O]===C&&I.push(O);for(var R=I.length-1;0<=R;R--)j.splice(I[R],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},C=P.globalObject||window;return P.log||console.log.bind(console),function(M,j){k.disableFriendlyErrors,C[M]=j}}}])&&E(S.prototype,T),k}();for(A in b.instance=null,b.disableFriendlyErrors=!1,p)b.prototype[A]=p[A];b.VERSION=p.VERSION,b.prototype._preloadMethods={loadJSON:b.prototype,loadImage:b.prototype,loadStrings:b.prototype,loadXML:b.prototype,loadBytes:b.prototype,loadTable:b.prototype,loadFont:b.prototype,loadModel:b.prototype,loadShader:b.prototype},b.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},b.prototype._registeredPreloadMethods={},y.default=b},{"./constants":264,"./shim":286,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],276:[function(c,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("./main"))&&c.__esModule?c:{default:c};function _(p,x){for(var E=0;E<x.length;E++){var A=x[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,A.key,A)}}m.default.Element=function(){function p(b,k){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.elt=b,this._pInst=this._pixelsState=k,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var x,E,A;return x=p,A=[{key:"_adjustListener",value:function(b,k,S){return k===!1?m.default.Element._detachListener(b,S):m.default.Element._attachListener(b,k,S),this}},{key:"_attachListener",value:function(b,k,S){S._events[b]&&m.default.Element._detachListener(b,S),k=k.bind(S),S.elt.addEventListener(b,k,!1),S._events[b]=k}},{key:"_detachListener",value:function(b,k){var S=k._events[b];k.elt.removeEventListener(b,S,!1),k._events[b]=null}}],(E=[{key:"parent",value:function(b){return b===void 0?this.elt.parentNode:(typeof b=="string"?(b[0]==="#"&&(b=b.substring(1)),b=document.getElementById(b)):b instanceof m.default.Element&&(b=b.elt),b.appendChild(this.elt),this)}},{key:"id",value:function(b){return b===void 0?this.elt.id:(this.elt.id=b,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(b){return b===void 0?this.elt.className:(this.elt.className=b,this)}},{key:"mousePressed",value:function(b){return m.default.Element._adjustListener("mousedown",function(k){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(k),b.call(this,k)},this),this}},{key:"doubleClicked",value:function(b){return m.default.Element._adjustListener("dblclick",b,this),this}},{key:"mouseWheel",value:function(b){return m.default.Element._adjustListener("wheel",b,this),this}},{key:"mouseReleased",value:function(b){return m.default.Element._adjustListener("mouseup",b,this),this}},{key:"mouseClicked",value:function(b){return m.default.Element._adjustListener("click",b,this),this}},{key:"mouseMoved",value:function(b){return m.default.Element._adjustListener("mousemove",b,this),this}},{key:"mouseOver",value:function(b){return m.default.Element._adjustListener("mouseover",b,this),this}},{key:"mouseOut",value:function(b){return m.default.Element._adjustListener("mouseout",b,this),this}},{key:"touchStarted",value:function(b){return m.default.Element._adjustListener("touchstart",b,this),this}},{key:"touchMoved",value:function(b){return m.default.Element._adjustListener("touchmove",b,this),this}},{key:"touchEnded",value:function(b){return m.default.Element._adjustListener("touchend",b,this),this}},{key:"dragOver",value:function(b){return m.default.Element._adjustListener("dragover",b,this),this}},{key:"dragLeave",value:function(b){return m.default.Element._adjustListener("dragleave",b,this),this}},{key:"_setProperty",value:function(b,k){this[b]=k}}])&&_(x.prototype,E),A&&_(x,A),p}(),c=m.default.Element,y.default=c},{"./main":275}],277:[function(c,g,y){function m(M){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(M)}function _(M){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(j){return m(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":m(j)})(M)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(C=c("./main"))&&C.__esModule?C:{default:C},x=function(M){if(M&&M.__esModule)return M;if(M===null||_(M)!=="object"&&typeof M!="function")return{default:M};var j=E();if(j&&j.has(M))return j.get(M);var I,O={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in M){var D;Object.prototype.hasOwnProperty.call(M,I)&&((D=R?Object.getOwnPropertyDescriptor(M,I):null)&&(D.get||D.set)?Object.defineProperty(O,I,D):O[I]=M[I])}return O.default=M,j&&j.set(M,O),O}(c("./constants"));function E(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,E=function(){return M},M)}function A(M,j){for(var I=0;I<j.length;I++){var O=j[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}function b(M,j){return(b=Object.setPrototypeOf||function(I,O){return I.__proto__=O,I})(M,j)}function k(M){return function(){var j,I=P(M);return S(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=P(this).constructor,Reflect.construct(I,arguments,j)):I.apply(this,arguments))}}function S(M,j){return!j||_(j)!=="object"&&typeof j!="function"?T(M):j}function T(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function P(M){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(M)}p.default.Graphics=function(M){var j=O;if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(M&&M.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),M&&b(j,M);var I=k(O);function O(R,D,Q,U,X){var V;if(!(this instanceof O))throw new TypeError("Cannot call a class as a function");W=X||document.createElement("canvas"),(V=I.call(this,W,U)).canvas=W;var K,W=Q||x.P2D,Q=U._userNode||document.body;for(K in X||Q.appendChild(V.canvas),p.default.prototype)V[K]||(typeof p.default.prototype[K]=="function"?V[K]=p.default.prototype[K].bind(T(V)):V[K]=p.default.prototype[K]);return p.default.prototype._initializeInstanceVariables.apply(T(V)),V.width=R,V.height=D,V._pixelDensity=U._pixelDensity,W===x.WEBGL?V._renderer=new p.default.RendererGL(V.canvas,T(V),!1):V._renderer=new p.default.Renderer2D(V.canvas,T(V),!1),U._elements.push(T(V)),Object.defineProperty(T(V),"deltaTime",{get:function(){return this._pInst.deltaTime}}),V._renderer.resize(R,D),V._renderer._applyDefaults(),S(V,T(V))}return j=O,(M=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var R,D=this._pInst._elements.indexOf(this);for(R in D!==-1&&this._pInst._elements.splice(D,1),this._events)this.elt.removeEventListener(R,this._events[R])}},{key:"createFramebuffer",value:function(R){return new p.default.Framebuffer(this,R)}}])&&A(j.prototype,M),O}(p.default.Element);var C=p.default.Graphics;y.default=C},{"./constants":264,"./main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],278:[function(c,g,y){function m(M){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(M)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _=(P=c("./main"))&&P.__esModule?P:{default:P},p=function(M){if(M&&M.__esModule)return M;if(M===null||E(M)!=="object"&&typeof M!="function")return{default:M};var j=x();if(j&&j.has(M))return j.get(M);var I,O={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in M){var D;Object.prototype.hasOwnProperty.call(M,I)&&((D=R?Object.getOwnPropertyDescriptor(M,I):null)&&(D.get||D.set)?Object.defineProperty(O,I,D):O[I]=M[I])}return O.default=M,j&&j.set(M,O),O}(c("../core/constants"));function x(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,x=function(){return M},M)}function E(M){return(E=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(j){return m(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":m(j)})(M)}function A(M,j){for(var I=0;I<j.length;I++){var O=j[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(M,O.key,O)}}function b(M,j){return(b=Object.setPrototypeOf||function(I,O){return I.__proto__=O,I})(M,j)}function k(M){return function(){var j,I,O=T(M);return j=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(j=T(this).constructor,Reflect.construct(O,arguments,j)):O.apply(this,arguments),O=this,!(I=j)||E(I)!=="object"&&typeof I!="function"?S(O):I}}function S(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function T(M){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(M)}var P=function(M){var j=O;if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(M&&M.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),M&&b(j,M);var I=k(O);function O(R,D,N){var U;if(this instanceof O)return(U=I.call(this,R,D)).canvas=R,U._pixelsState=D,N?(U._isMainCanvas=!0,U._pInst._setProperty("_curElement",S(U)),U._pInst._setProperty("canvas",U.canvas),U._pInst._setProperty("width",U.width),U._pInst._setProperty("height",U.height)):(U.canvas.style.display="none",U._styles=[]),U._clipping=!1,U._clipInvert=!1,U._textSize=12,U._textLeading=15,U._textFont="sans-serif",U._textStyle=p.NORMAL,U._textAscent=null,U._textDescent=null,U._textAlign=p.LEFT,U._textBaseline=p.BASELINE,U._textWrap=p.WORD,U._rectMode=p.CORNER,U._ellipseMode=p.CENTER,U._curveTightness=0,U._imageMode=p.CORNER,U._tint=null,U._doStroke=!0,U._doFill=!0,U._strokeSet=!1,U._fillSet=!1,U._leadingSet=!1,U._pushPopDepth=0,U;throw new TypeError("Cannot call a class as a function")}return j=O,(M=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(R){this._pushPopDepth--,R.properties&&Object.assign(this,R.properties)}},{key:"beginClip",value:function(){var R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=R.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(R,D){this.width=R,this.height=D,this.elt.width=R*this._pInst._pixelDensity,this.elt.height=D*this._pInst._pixelDensity,this.elt.style.width="".concat(R,"px"),this.elt.style.height="".concat(D,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(R,D,N,U){var X=this._pixelsState,V=X._pixelDensity,K=this.canvas;if(R===void 0&&D===void 0)R=D=0,N=X.width,U=X.height;else if(R*=V,D*=V,N===void 0&&U===void 0)return R<0||D<0||R>=K.width||D>=K.height?[0,0,0,0]:this._getPixel(R,D);return X=new _.default.Image(N*V,U*V),X.pixelDensity(V),X.canvas.getContext("2d").drawImage(K,R,D,N*V,U*V,0,0,N*V,U*V),X}},{key:"textLeading",value:function(R){return typeof R=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",R),this._pInst):this._textLeading}},{key:"textStyle",value:function(R){return R?(R!==p.NORMAL&&R!==p.ITALIC&&R!==p.BOLD&&R!==p.BOLDITALIC||this._setProperty("_textStyle",R),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(R,D){return R!==void 0?(this._setProperty("_textAlign",R),D!==void 0&&this._setProperty("_textBaseline",D),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(R){return this._setProperty("_textWrap",R),this._textWrap}},{key:"text",value:function(R,D,N,U,X){var V,K,W,Q,L=this._pInst,G=this._textWrap,J=Number.MAX_VALUE,B=N;if((this._doFill||this._doStroke)&&R!==void 0){if(V=(R=(R=typeof R!="string"?R.toString():R).replace(/(\t)/g,"  ")).split(`
`),U!==void 0){switch(this._rectMode===p.CENTER&&(D-=U/2),this._textAlign){case p.CENTER:D+=U/2;break;case p.RIGHT:D+=U}if(X!==void 0){this._rectMode===p.CENTER&&(N-=X/2,B-=X/2);var R=N,Y=L.textAscent();switch(this._textBaseline){case p.BOTTOM:Q=N+X,N=Math.max(Q,N),B+=Y;break;case p.CENTER:Q=N+X/2,N=Math.max(Q,N),B+=Y/2}J=N+X-Y,this._textBaseline===p.CENTER&&(J=R+X-Y/2)}else this._textBaseline!==p.BOTTOM&&this._textBaseline!==p.CENTER||(B=N-(R=L.textSize()*this._textLeading)/2,J=N+R/2);if(G===p.WORD){for(var ie=[],ne=0;ne<V.length;ne++){for(var Z="",H=V[ne].split(" "),z=0;z<H.length;z++)K="".concat(Z+H[z])+" ",Z=U<(W=this.textWidth(K))&&0<Z.length?(ie.push(Z),"".concat(H[z])+" "):K;ie.push(Z)}var ee=0;this._textBaseline===p.CENTER?ee=(ie.length-1)*L.textLeading()/2:this._textBaseline===p.BOTTOM&&(ee=(ie.length-1)*L.textLeading());for(var se=0;se<V.length;se++){Z="",H=V[se].split(" ");for(var le=0;le<H.length;le++)K="".concat(Z+H[le])+" ",U<(W=this.textWidth(K))&&0<Z.length?(this._renderText(L,Z.trim(),D,N-ee,J,B),Z="".concat(H[le])+" ",N+=L.textLeading()):Z=K;this._renderText(L,Z.trim(),D,N-ee,J,B),N+=L.textLeading()}}else{for(var ue=[],_e=0;_e<V.length;_e++)for(var Te=V[_e].split(Z=""),me=0;me<Te.length;me++)K="".concat(Z+Te[me]),(W=this.textWidth(K))<=U?Z+=Te[me]:U<W&&0<Z.length&&(ue.push(Z),Z="".concat(Te[me]));ue.push(Z);var Se=0;this._textBaseline===p.CENTER?Se=(ue.length-1)*L.textLeading()/2:this._textBaseline===p.BOTTOM&&(Se=(ue.length-1)*L.textLeading());for(var ve=0;ve<V.length;ve++){Te=V[ve].split(Z="");for(var fe=0;fe<Te.length;fe++)K="".concat(Z+Te[fe]),(W=this.textWidth(K))<=U?Z+=Te[fe]:U<W&&0<Z.length&&(this._renderText(L,Z.trim(),D,N-Se,J,B),N+=L.textLeading(),Z="".concat(Te[fe]))}this._renderText(L,Z.trim(),D,N-Se,J,B),N+=L.textLeading()}}else{var ye=0;this._textBaseline===p.CENTER?ye=(V.length-1)*L.textLeading()/2:this._textBaseline===p.BOTTOM&&(ye=(V.length-1)*L.textLeading());for(var Ae=0;Ae<V.length;Ae++)this._renderText(L,V[Ae],D,N-ye,J,B-ye),N+=L.textLeading()}return L}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return E(R)==="object"&&R.font&&R.font.supported}},{key:"_updateTextMetrics",value:function(){var R,D,N,U,X,V;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((R=document.createElement("span")).style.fontFamily=this._textFont,R.style.fontSize="".concat(this._textSize,"px"),R.innerHTML="ABCjgq|",(V=document.createElement("div")).style.display="inline-block",V.style.width="1px",V.style.height="0px",U=((D=document.createElement("div")).appendChild(R),D.appendChild(V),D.style.height="0px",D.style.overflow="hidden",document.body.appendChild(D),V.style.verticalAlign="baseline",C(V)),X=C(R),N=U[1]-X[1],U=(V.style.verticalAlign="bottom",C(V)),X=C(R),V=U[1]-X[1]-N,document.body.removeChild(D),this._setProperty("_textAscent",N),this._setProperty("_textDescent",V)),this}}])&&A(j.prototype,M),O}(_.default.Element);function C(M){var j=0,I=0;if(M.offsetParent)for(;j+=M.offsetLeft,I+=M.offsetTop,M=M.offsetParent;);else j+=M.offsetLeft,I+=M.offsetTop;return[j,I]}P.prototype.textSize=function(M){return typeof M=="number"?(this._setProperty("_textSize",M),this._leadingSet||this._setProperty("_textLeading",M*p._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},_.default.Renderer=P,c=_.default.Renderer,y.default=c},{"../core/constants":264,"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],279:[function(M,g,y){function m(j){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(j)}function _(j){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(I){return m(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":m(I)})(j)}M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.concat"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.for-each"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.array.join"),M("core-js/modules/es.array.slice"),M("core-js/modules/es.function.name"),M("core-js/modules/es.number.to-fixed"),M("core-js/modules/es.object.get-own-property-descriptor"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.reflect.construct"),M("core-js/modules/es.reflect.get"),M("core-js/modules/es.regexp.to-string"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.weak-map"),M("core-js/modules/web.dom-collections.iterator"),M("core-js/modules/es.array.concat"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.for-each"),M("core-js/modules/es.array.join"),M("core-js/modules/es.array.slice"),M("core-js/modules/es.function.name"),M("core-js/modules/es.number.to-fixed"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(C=M("./main"))&&C.__esModule?C:{default:C},x=function(j){if(j&&j.__esModule)return j;if(j===null||_(j)!=="object"&&typeof j!="function")return{default:j};var I=E();if(I&&I.has(j))return I.get(j);var O,R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in j){var N;Object.prototype.hasOwnProperty.call(j,O)&&((N=D?Object.getOwnPropertyDescriptor(j,O):null)&&(N.get||N.set)?Object.defineProperty(R,O,N):R[O]=j[O])}return R.default=j,I&&I.set(j,R),R}(M("./constants"));function E(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,E=function(){return j},j)}function A(j,I){for(var O=0;O<I.length;O++){var R=I[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(j,R.key,R)}}function b(j,I,O){return(b=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(U,D,N){var U=function(X,V){for(;!Object.prototype.hasOwnProperty.call(X,V)&&(X=T(X))!==null;);return X}(U,D);if(U)return(U=Object.getOwnPropertyDescriptor(U,D)).get?U.get.call(N):U.value})(j,I,O||j)}function k(j,I){return(k=Object.setPrototypeOf||function(O,R){return O.__proto__=R,O})(j,I)}function S(j){return function(){var I,O=T(j),O=(I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(I=T(this).constructor,Reflect.construct(O,arguments,I)):O.apply(this,arguments),this);if(!I||_(I)!=="object"&&typeof I!="function"){if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return I}}function T(j){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(j)}M("./p5.Renderer");var P="rgba(0,0,0,0)",C=function(j){var I=R;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(j&&j.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),j&&k(I,j);var O=S(R);function R(D,N,U){if(this instanceof R)return(D=O.call(this,D,N,U)).drawingContext=D.canvas.getContext("2d"),D._pInst._setProperty("drawingContext",D.drawingContext),D;throw new TypeError("Cannot call a class as a function")}return I=R,(j=[{key:"getFilterGraphicsLayer",value:function(){var D;return this.filterGraphicsLayer||(D=(this._pInst instanceof p.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new p.default.Graphics(this.width,this.height,x.WEBGL,D)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=x.BLEND,this._setFill(x._DEFAULT_FILL),this._setStroke(x._DEFAULT_STROKE),this.drawingContext.lineCap=x.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(D,N){b(T(R.prototype),"resize",this).call(this,D,N),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var D,N;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof p.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(D=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(D,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(D=this._getFill(),N=(N=this._pInst).color.apply(N,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(N.levels),N=N.toString(),this._setFill(N),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(D),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var D=(D=this._pInst).color.apply(D,arguments);this._setFill(D.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",D.levels)}},{key:"stroke",value:function(){var D=(D=this._pInst).color.apply(D,arguments);this._setStroke(D.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",D.levels)}},{key:"erase",value:function(D,N){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,D=this._pInst.color(255,D).toString(),this.drawingContext.fillStyle=D,this._cachedStrokeStyle=this.drawingContext.strokeStyle,D=this._pInst.color(255,N).toString(),this.drawingContext.strokeStyle=D,N=this._cachedBlendMode,this.blendMode(x.REMOVE),this._cachedBlendMode=N,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},D=(b(T(R.prototype),"beginClip",this).call(this,D),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),D=(this.drawingContext.fillStyle=D,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),D=(this.drawingContext.strokeStyle=D,this._cachedBlendMode);this.blendMode(x.BLEND),this._cachedBlendMode=D,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),b(T(R.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(D,N,U,X,V,K,W,Q,L){D.gifProperties&&D._animateGif(this._pInst);try{p.default.MediaElement&&D instanceof p.default.MediaElement&&D._ensureCanvas();var G=(G=this._tint&&D.canvas?this._getTintedImageCanvas(D):G)||D.canvas||D.elt,J=1;D.width&&0<D.width&&(J=G.width/D.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(G,J*N,J*U,J*X,J*V,K,W,Q,L),this._isErasing&&this._pInst.erase()}catch(B){if(B.name!=="NS_ERROR_NOT_AVAILABLE")throw B}}},{key:"_getTintedImageCanvas",value:function(D){if(!D.canvas)return D;D.tintCanvas||(D.tintCanvas=document.createElement("canvas")),D.tintCanvas.width!==D.canvas.width&&(D.tintCanvas.width=D.canvas.width),D.tintCanvas.height!==D.canvas.height&&(D.tintCanvas.height=D.canvas.height);var N=D.tintCanvas.getContext("2d");return N.save(),N.clearRect(0,0,D.canvas.width,D.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(N.drawImage(D.canvas,0,0),N.globalCompositeOperation="luminosity",N.drawImage(D.canvas,0,0),N.globalCompositeOperation="color",N.drawImage(D.canvas,0,0),N.globalCompositeOperation="multiply",N.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),N.fillRect(0,0,D.canvas.width,D.canvas.height),N.globalCompositeOperation="destination-in"),N.globalAlpha=this._tint[3]/255,N.drawImage(D.canvas,0,0),N.restore(),D.tintCanvas}},{key:"blendMode",value:function(D){if(D===x.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(D!==x.BLEND&&D!==x.REMOVE&&D!==x.DARKEST&&D!==x.LIGHTEST&&D!==x.DIFFERENCE&&D!==x.MULTIPLY&&D!==x.EXCLUSION&&D!==x.SCREEN&&D!==x.REPLACE&&D!==x.OVERLAY&&D!==x.HARD_LIGHT&&D!==x.SOFT_LIGHT&&D!==x.DODGE&&D!==x.BURN&&D!==x.ADD)throw new Error("Mode ".concat(D," not recognized."));this._cachedBlendMode=D,this.drawingContext.globalCompositeOperation=D}}},{key:"blend",value:function(){for(var D=this.drawingContext.globalCompositeOperation,N=arguments.length,U=new Array(N),X=0;X<N;X++)U[X]=arguments[X];var V=U[U.length-1],K=Array.prototype.slice.call(U,0,U.length-1);this.drawingContext.globalCompositeOperation=V,p.default.prototype.copy.apply(this,K),this.drawingContext.globalCompositeOperation=D}},{key:"_getPixel",value:function(D,N){return D=this.drawingContext.getImageData(D,N,1,1).data,[D[0],D[1],D[2],D[3]]}},{key:"loadPixels",value:function(){var D=this._pixelsState,N=D._pixelDensity,U=this.width*N,N=this.height*N,U=this.drawingContext.getImageData(0,0,U,N);D._setProperty("imageData",U),D._setProperty("pixels",U.data)}},{key:"set",value:function(D,N,U){D=Math.floor(D),N=Math.floor(N);var X=this._pixelsState;if(U instanceof p.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(X._pixelDensity,X._pixelDensity),this.drawingContext.clearRect(D,N,U.width,U.height),this.drawingContext.drawImage(U.canvas,D,N),this.drawingContext.restore();else{var V=0,K=0,W=0,Q=0,L=4*(N*X._pixelDensity*(this.width*X._pixelDensity)+D*X._pixelDensity);if(X.imageData||X.loadPixels.call(X),typeof U=="number")L<X.pixels.length&&(W=K=V=U,Q=255);else if(U instanceof Array){if(U.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");L<X.pixels.length&&(V=U[0],K=U[1],W=U[2],Q=U[3])}else U instanceof p.default.Color&&L<X.pixels.length&&(V=U.levels[0],K=U.levels[1],W=U.levels[2],Q=U.levels[3]);for(var G=0;G<X._pixelDensity;G++)for(var J=0;J<X._pixelDensity;J++)L=4*((N*X._pixelDensity+J)*this.width*X._pixelDensity+(D*X._pixelDensity+G)),X.pixels[L]=V,X.pixels[L+1]=K,X.pixels[L+2]=W,X.pixels[L+3]=Q}}},{key:"updatePixels",value:function(D,N,U,X){var V=this._pixelsState,K=V._pixelDensity;D===void 0&&N===void 0&&U===void 0&&X===void 0&&(N=D=0,U=this.width,X=this.height),D*=K,N*=K,U*=K,X*=K,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=V.imageData),this.drawingContext.putImageData(V.imageData,D,N,0,0,U,X)}},{key:"_acuteArcToBezier",value:function(D,N){var K=N/2,U=Math.cos(K),Q=Math.sin(K),X=1/Math.tan(K),K=D+K,V=Math.cos(K),K=Math.sin(K),W=(4-U)/3,Q=Q+(U-W)*X;return{ax:Math.cos(D).toFixed(7),ay:Math.sin(D).toFixed(7),bx:(W*V+Q*K).toFixed(7),by:(W*K-Q*V).toFixed(7),cx:(W*V-Q*K).toFixed(7),cy:(W*K+Q*V).toFixed(7),dx:Math.cos(D+N).toFixed(7),dy:Math.sin(D+N).toFixed(7)}}},{key:"arc",value:function(D,N,U,X,V,K,W){var Q,L=this.drawingContext,G=U/2,J=X/2,B=[];for(D+=G,N+=J;1e-5<=K-V;)Q=Math.min(K-V,x.HALF_PI),B.push(this._acuteArcToBezier(V,Q)),V+=Q;return this._doFill&&(this._clipping||L.beginPath(),B.forEach(function(Y,ie){ie===0&&L.moveTo(D+Y.ax*G,N+Y.ay*J),L.bezierCurveTo(D+Y.bx*G,N+Y.by*J,D+Y.cx*G,N+Y.cy*J,D+Y.dx*G,N+Y.dy*J)}),W!==x.PIE&&W!=null||L.lineTo(D,N),L.closePath(),this._clipping||L.fill()),this._doStroke&&(this._clipping||L.beginPath(),B.forEach(function(Y,ie){ie===0&&L.moveTo(D+Y.ax*G,N+Y.ay*J),L.bezierCurveTo(D+Y.bx*G,N+Y.by*J,D+Y.cx*G,N+Y.cy*J,D+Y.dx*G,N+Y.dy*J)}),W===x.PIE?(L.lineTo(D,N),L.closePath()):W===x.CHORD&&L.closePath(),this._clipping||L.stroke()),this}},{key:"ellipse",value:function(B){var N=this.drawingContext,U=this._doFill,X=this._doStroke,V=parseFloat(B[0]),K=parseFloat(B[1]),J=parseFloat(B[2]),B=parseFloat(B[3]);if(U&&!X){if(this._getFill()===P)return this}else if(!U&&X&&this._getStroke()===P)return this;var W=J/2*.5522847498,Q=B/2*.5522847498,L=V+J,G=K+B,J=V+J/2,B=K+B/2;this._clipping||N.beginPath(),N.moveTo(V,B),N.bezierCurveTo(V,B-Q,J-W,K,J,K),N.bezierCurveTo(J+W,K,L,B-Q,L,B),N.bezierCurveTo(L,B+Q,J+W,G,J,G),N.bezierCurveTo(J-W,G,V,B+Q,V,B),!this._clipping&&U&&N.fill(),!this._clipping&&X&&N.stroke()}},{key:"line",value:function(D,N,U,X){var V=this.drawingContext;return this._doStroke&&this._getStroke()!==P&&(this._clipping||V.beginPath(),V.moveTo(D,N),V.lineTo(U,X),V.stroke()),this}},{key:"point",value:function(D,N){var U,X,V=this.drawingContext;return!this._doStroke||this._getStroke()===P?this:(U=this._getStroke(),X=this._getFill(),this._clipping||this._setFill(U),this._clipping||V.beginPath(),V.arc(D,N,V.lineWidth/2,0,x.TWO_PI,!1),void(this._clipping||(V.fill(),this._setFill(X))))}},{key:"quad",value:function(D,N,U,X,V,K,W,Q){var L=this.drawingContext,G=this._doFill,J=this._doStroke;if(G&&!J){if(this._getFill()===P)return this}else if(!G&&J&&this._getStroke()===P)return this;return this._clipping||L.beginPath(),L.moveTo(D,N),L.lineTo(U,X),L.lineTo(V,K),L.lineTo(W,Q),L.closePath(),!this._clipping&&G&&L.fill(),!this._clipping&&J&&L.stroke(),this}},{key:"rect",value:function(J){var N,U,X=J[0],V=J[1],K=J[2],W=J[3],Q=J[4],L=J[5],G=J[6],J=J[7],B=this.drawingContext,Y=this._doFill,ie=this._doStroke;if(Y&&!ie){if(this._getFill()===P)return this}else if(!Y&&ie&&this._getStroke()===P)return this;return this._clipping||B.beginPath(),Q===void 0?B.rect(X,V,K,W):(L===void 0&&(L=Q),G===void 0&&(G=L),J===void 0&&(J=G),ie=(Y=Math.abs(K))/2,U=(N=Math.abs(W))/2,N<2*(Q=Y<2*Q?ie:Q)&&(Q=U),N<2*(L=Y<2*L?ie:L)&&(L=U),N<2*(G=Y<2*G?ie:G)&&(G=U),N<2*(J=Y<2*J?ie:J)&&(J=U),this._clipping||B.beginPath(),B.moveTo(X+Q,V),B.arcTo(X+K,V,X+K,V+W,L),B.arcTo(X+K,V+W,X,V+W,G),B.arcTo(X,V+W,X,V,J),B.arcTo(X,V,X+K,V,Q),B.closePath()),!this._clipping&&this._doFill&&B.fill(),!this._clipping&&this._doStroke&&B.stroke(),this}},{key:"triangle",value:function(G){var N=this.drawingContext,U=this._doFill,X=this._doStroke,V=G[0],K=G[1],W=G[2],Q=G[3],L=G[4],G=G[5];if(U&&!X){if(this._getFill()===P)return this}else if(!U&&X&&this._getStroke()===P)return this;this._clipping||N.beginPath(),N.moveTo(V,K),N.lineTo(W,Q),N.lineTo(L,G),N.closePath(),!this._clipping&&U&&N.fill(),!this._clipping&&X&&N.stroke()}},{key:"endShape",value:function(D,N,U,X,V,K,W){if(N.length!==0&&(this._doStroke||this._doFill)){var Q,L,G,J=D===x.CLOSE,B=(J&&!K&&N.push(N[0]),N.length);if(U&&W===null){if(3<B){var Y=[],ie=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(N[1][0],N[1][1]),L=1;L+2<B;L++)Q=N[L],Y[0]=[Q[0],Q[1]],Y[1]=[Q[0]+(ie*N[L+1][0]-ie*N[L-1][0])/6,Q[1]+(ie*N[L+1][1]-ie*N[L-1][1])/6],Y[2]=[N[L+1][0]+(ie*N[L][0]-ie*N[L+2][0])/6,N[L+1][1]+(ie*N[L][1]-ie*N[L+2][1])/6],Y[3]=[N[L+1][0],N[L+1][1]],this.drawingContext.bezierCurveTo(Y[1][0],Y[1][1],Y[2][0],Y[2][1],Y[3][0],Y[3][1]);J&&this.drawingContext.lineTo(N[L+1][0],N[L+1][1]),this._doFillStrokeClose(J)}}else if(X&&W===null){for(this._clipping||this.drawingContext.beginPath(),L=0;L<B;L++)N[L].isVert?N[L].moveTo?this.drawingContext.moveTo(N[L][0],N[L][1]):this.drawingContext.lineTo(N[L][0],N[L][1]):this.drawingContext.bezierCurveTo(N[L][0],N[L][1],N[L][2],N[L][3],N[L][4],N[L][5]);this._doFillStrokeClose(J)}else if(V&&W===null){for(this._clipping||this.drawingContext.beginPath(),L=0;L<B;L++)N[L].isVert?N[L].moveTo?this.drawingContext.moveTo(N[L][0],N[L][1]):this.drawingContext.lineTo(N[L][0],N[L][1]):this.drawingContext.quadraticCurveTo(N[L][0],N[L][1],N[L][2],N[L][3]);this._doFillStrokeClose(J)}else if(W===x.POINTS)for(L=0;L<B;L++)Q=N[L],this._doStroke&&this._pInst.stroke(Q[6]),this._pInst.point(Q[0],Q[1]);else if(W===x.LINES)for(L=0;L+1<B;L+=2)Q=N[L],this._doStroke&&this._pInst.stroke(N[L+1][6]),this._pInst.line(Q[0],Q[1],N[L+1][0],N[L+1][1]);else if(W===x.TRIANGLES)for(L=0;L+2<B;L+=3)Q=N[L],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(Q[0],Q[1]),this.drawingContext.lineTo(N[L+1][0],N[L+1][1]),this.drawingContext.lineTo(N[L+2][0],N[L+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(N[L+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(N[L+2][6]),this.drawingContext.stroke());else if(W===x.TRIANGLE_STRIP)for(L=0;L+1<B;L++)Q=N[L],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(N[L+1][0],N[L+1][1]),this.drawingContext.lineTo(Q[0],Q[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(N[L+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(N[L+1][5]),L+2<B&&(this.drawingContext.lineTo(N[L+2][0],N[L+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(N[L+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(N[L+2][5])),this._doFillStrokeClose(J);else if(W===x.TRIANGLE_FAN){if(2<B){for(this._clipping||this.drawingContext.beginPath(),L=2;L<B;L++)Q=N[L],this.drawingContext.moveTo(N[0][0],N[0][1]),this.drawingContext.lineTo(N[L-1][0],N[L-1][1]),this.drawingContext.lineTo(Q[0],Q[1]),this.drawingContext.lineTo(N[0][0],N[0][1]),L<B-1&&(this._doFill&&Q[5]!==N[L+1][5]||this._doStroke&&Q[6]!==N[L+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(Q[5]),this.drawingContext.fill(),this._pInst.fill(N[L+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(Q[6]),this.drawingContext.stroke(),this._pInst.stroke(N[L+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(J)}}else if(W===x.QUADS)for(L=0;L+3<B;L+=4){for(Q=N[L],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(Q[0],Q[1]),G=1;G<4;G++)this.drawingContext.lineTo(N[L+G][0],N[L+G][1]);this.drawingContext.lineTo(Q[0],Q[1]),!this._clipping&&this._doFill&&this._pInst.fill(N[L+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(N[L+3][6]),this._doFillStrokeClose(J)}else if(W===x.QUAD_STRIP){if(3<B)for(L=0;L+1<B;L+=2)Q=N[L],this._clipping||this.drawingContext.beginPath(),L+3<B?(this.drawingContext.moveTo(N[L+2][0],N[L+2][1]),this.drawingContext.lineTo(Q[0],Q[1]),this.drawingContext.lineTo(N[L+1][0],N[L+1][1]),this.drawingContext.lineTo(N[L+3][0],N[L+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(N[L+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(N[L+3][6])):(this.drawingContext.moveTo(Q[0],Q[1]),this.drawingContext.lineTo(N[L+1][0],N[L+1][1])),this._doFillStrokeClose(J)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(N[0][0],N[0][1]),L=1;L<B;L++)(Q=N[L]).isVert&&(Q.moveTo?(J&&this.drawingContext.closePath(),this.drawingContext.moveTo(Q[0],Q[1])):this.drawingContext.lineTo(Q[0],Q[1]));this._doFillStrokeClose(J)}K=V=X=U=!1,J&&N.pop()}return this}},{key:"strokeCap",value:function(D){return D!==x.ROUND&&D!==x.SQUARE&&D!==x.PROJECT||(this.drawingContext.lineCap=D),this}},{key:"strokeJoin",value:function(D){return D!==x.ROUND&&D!==x.BEVEL&&D!==x.MITER||(this.drawingContext.lineJoin=D),this}},{key:"strokeWeight",value:function(D){return this.drawingContext.lineWidth=D===void 0||D===0?1e-4:D,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(D){D!==this._cachedFillStyle&&(this.drawingContext.fillStyle=D,this._cachedFillStyle=D)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(D){D!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=D,this._cachedStrokeStyle=D)}},{key:"bezier",value:function(D,N,U,X,V,K,W,Q){return this._pInst.beginShape(),this._pInst.vertex(D,N),this._pInst.bezierVertex(U,X,V,K,W,Q),this._pInst.endShape(),this}},{key:"curve",value:function(D,N,U,X,V,K,W,Q){return this._pInst.beginShape(),this._pInst.curveVertex(D,N),this._pInst.curveVertex(U,X),this._pInst.curveVertex(V,K),this._pInst.curveVertex(W,Q),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(D){D&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(D,N,U,X,V,K){this.drawingContext.transform(D,N,U,X,V,K)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(D){this.drawingContext.rotate(D)}},{key:"scale",value:function(D,N){return this.drawingContext.scale(D,N),this}},{key:"translate",value:function(D,N){return D instanceof p.default.Vector&&(N=D.y,D=D.x),this.drawingContext.translate(D,N),this}},{key:"_renderText",value:function(D,N,U,X,V,K){if(!(X<K||V<=X))return D.push(),this._isOpenType()?this._textFont._renderPath(N,U,X,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(N,U,X),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(x._DEFAULT_TEXT_FILL),this.drawingContext.fillText(N,U,X))),D.pop(),D}},{key:"textWidth",value:function(D){return this._isOpenType()?this._textFont._textWidth(D,this._textSize):this.drawingContext.measureText(D).width}},{key:"_applyTextProperties",value:function(){var D,N=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),D=this._textFont,this._isOpenType()&&(D=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(D||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===x.CENTER?this.drawingContext.textBaseline=x._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,N}},{key:"push",value:function(){return this.drawingContext.save(),b(T(R.prototype),"push",this).call(this)}},{key:"pop",value:function(D){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,b(T(R.prototype),"pop",this).call(this,D)}}])&&A(I.prototype,j),R}(p.default.Renderer),M=(C.prototype.text=function(j,I,O,U,D){U!==void 0&&this.drawingContext.textBaseline===x.BASELINE&&(N=!0,this.drawingContext.textBaseline=x.TOP);var N,U=p.default.Renderer.prototype.text.apply(this,arguments);return N&&(this.drawingContext.textBaseline=x.BASELINE),U},p.default.Renderer2D=C,p.default.Renderer2D);y.default=M},{"./constants":264,"./main":275,"./p5.Renderer":278,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],280:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator");var m=(c=c("./main"))&&c.__esModule?c:{default:c};m.default.prototype._promisePreloads=[];function _(){return{}}var p=!(m.default.prototype.registerPromisePreload=function(x){m.default.prototype._promisePreloads.push(x)});m.default.prototype._setupPromisePreloads=function(){var x=!0,E=!1,A=void 0;try{for(var b,k=this._promisePreloads[Symbol.iterator]();!(x=(b=k.next()).done);x=!0){var S=b.value,T=this,P=S.method,C=S.addCallbacks,M=S.legacyPreloadSetup,j=S.target||this,I=j[P].bind(j);if(j===m.default.prototype){if(p)continue;T=null,I=j[P]}j[P]=this._wrapPromisePreload(T,I,C),M&&(j[M.method]=this._legacyPreloadGenerator(T,M,j[P]))}}catch(O){E=!0,A=O}finally{try{x||k.return==null||k.return()}finally{if(E)throw A}}p=!0},m.default.prototype._wrapPromisePreload=function(x,E,A){var b=function(){for(var k=this,S=(this._incrementPreload(),null),T=null,P=arguments.length,C=new Array(P),M=0;M<P;M++)C[M]=arguments[M];if(A)for(var j=C.length-1;0<=j&&!T&&typeof C[j]=="function";j--)T=S,S=C.pop();var I=Promise.resolve(E.apply(this,C));return S&&I.then(S),T&&I.catch(T),I.then(function(){return k._decrementPreload()}),I};return b=x?b.bind(x):b},m.default.prototype._legacyPreloadGenerator=function(x,k,A){var b=k.createBaseObject||_,k=function(){var S=this;this._incrementPreload();for(var T=arguments.length,P=new Array(T),C=0;C<T;C++)P[C]=arguments[C];var M=b.apply(this,P);return A.apply(this,P).then(function(j){Object.assign(M,j),S._decrementPreload()}),M};return k=x?k.bind(x):k}},{"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],281:[function(c,g,y){function m(k){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _=(b=c("./main"))&&b.__esModule?b:{default:b},p=function(k){if(k&&k.__esModule)return k;if(k===null||E(k)!=="object"&&typeof k!="function")return{default:k};var S=x();if(S&&S.has(k))return S.get(k);var T,P={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in k){var M;Object.prototype.hasOwnProperty.call(k,T)&&((M=C?Object.getOwnPropertyDescriptor(k,T):null)&&(M.get||M.set)?Object.defineProperty(P,T,M):P[T]=k[T])}return P.default=k,S&&S.set(k,P),P}(c("./constants"));function x(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,x=function(){return k},k)}function E(k){return(E=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(S){return m(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":m(S)})(k)}c("./p5.Graphics"),c("./p5.Renderer2D"),c("../webgl/p5.RendererGL");var A="defaultCanvas0",b=(_.default.prototype.createCanvas=function(k,S,T,P){var C,M,j;if(_.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(T=p.P2D,P=arguments[2]):C=T||p.P2D,P)(j=document.getElementById(A))&&j.parentNode.removeChild(j),j=P,this._defaultGraphicsCreated=!1;else{if(C===p.WEBGL)(j=document.getElementById(A))&&(j.parentNode.removeChild(j),M=this._renderer,this._elements=this._elements.filter(function(O){return O!==M})),(j=document.createElement("canvas")).id=A,j.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)j=this.canvas;else{j=P||document.createElement("canvas");for(var I=0;document.getElementById("defaultCanvas".concat(I));)I++;A="defaultCanvas".concat(I),j.id=A,j.classList.add("p5Canvas")}this._setupDone||(j.dataset.hidden=!0,j.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(T=document.createElement("main"),document.body.appendChild(T)),document.getElementsByTagName("main")[0])).appendChild(j)}return C===p.WEBGL?(this._setProperty("_renderer",new _.default.RendererGL(j,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new _.default.Renderer2D(j,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(k,S),this._renderer._applyDefaults(),this._renderer},_.default.prototype.resizeCanvas=function(k,S,T){if(_.default._validateParameters("resizeCanvas",arguments),this._renderer){var P,C,M={};for(P in this.drawingContext){var j=this.drawingContext[P];E(j)!=="object"&&typeof j!="function"&&(M[P]=j)}for(C in this.width=k,this.height=S,this._renderer.resize(k,S),M)try{this.drawingContext[C]=M[C]}catch{}T||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},_.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},_.default.prototype.createGraphics=function(k,S){for(var T=arguments.length,P=new Array(2<T?T-2:0),C=2;C<T;C++)P[C-2]=arguments[C];return P[0]instanceof HTMLCanvasElement&&(P[1]=P[0],P[0]=p.P2D),_.default._validateParameters("createGraphics",arguments),new _.default.Graphics(k,S,P[0],this,P[1])},_.default.prototype.createFramebuffer=function(k){return new _.default.Framebuffer(this,k)},_.default.prototype.blendMode=function(k){_.default._validateParameters("blendMode",arguments),k===p.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),k=p.BLEND),this._renderer.blendMode(k)},_.default);y.default=b},{"../webgl/p5.RendererGL":332,"./constants":264,"./main":275,"./p5.Graphics":277,"./p5.Renderer2D":279,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],282:[function(c,g,y){function m(S){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(S)}function _(S){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(T){return m(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":m(T)})(S)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=b(c("../main")),x=function(S){if(S&&S.__esModule)return S;if(S===null||_(S)!=="object"&&typeof S!="function")return{default:S};var T=A();if(T&&T.has(S))return T.get(S);var P,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in S){var j;Object.prototype.hasOwnProperty.call(S,P)&&((j=M?Object.getOwnPropertyDescriptor(S,P):null)&&(j.get||j.set)?Object.defineProperty(C,P,j):C[P]=S[P])}return C.default=S,T&&T.set(S,C),C}(c("../constants")),E=b(c("../helpers"));function A(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,A=function(){return S},S)}function b(S){return S&&S.__esModule?S:{default:S}}function k(S){return function(T){if(Array.isArray(T)){for(var P=0,C=new Array(T.length);P<T.length;P++)C[P]=T[P];return C}}(S)||function(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}c("../friendly_errors/fes_core"),c("../friendly_errors/file_errors"),c("../friendly_errors/validate_params"),p.default.prototype._normalizeArcAngles=function(S,T,P,C,M){var j;return S-=x.TWO_PI*Math.floor(S/x.TWO_PI),T-=x.TWO_PI*Math.floor(T/x.TWO_PI),j=Math.min(Math.abs(S-T),x.TWO_PI-Math.abs(S-T)),M&&(S=S<=x.HALF_PI?Math.atan(P/C*Math.tan(S)):S>x.HALF_PI&&S<=3*x.HALF_PI?Math.atan(P/C*Math.tan(S))+x.PI:Math.atan(P/C*Math.tan(S))+x.TWO_PI,T=T<=x.HALF_PI?Math.atan(P/C*Math.tan(T)):T>x.HALF_PI&&T<=3*x.HALF_PI?Math.atan(P/C*Math.tan(T))+x.PI:Math.atan(P/C*Math.tan(T))+x.TWO_PI),T<S&&(T+=x.TWO_PI),{start:S,stop:T,correspondToSamePoint:j<1e-5}},p.default.prototype.arc=function(S,T,P,C,M,j,I,O){return p.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&M!==j&&(M=this._toRadians(M),j=this._toRadians(j),P=Math.abs(P),C=Math.abs(C),S=E.default.modeAdjust(S,T,P,C,this._renderer._ellipseMode),(T=this._normalizeArcAngles(M,j,S.w,S.h,!0)).correspondToSamePoint?this._renderer.ellipse([S.x,S.y,S.w,S.h,O]):(this._renderer.arc(S.x,S.y,S.w,S.h,T.start,T.stop,I,O),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[S.x,S.y,S.w,S.h,T.start,T.stop,I]))),this},p.default.prototype.ellipse=function(S,T,P,C,M){return p.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},p.default.prototype.circle=function(){p.default._validateParameters("circle",arguments);var S=Array.prototype.slice.call(arguments,0,2);return S.push(arguments[2]),S.push(arguments[2]),this._renderEllipse.apply(this,k(S))},p.default.prototype._renderEllipse=function(S,T,P,C,M){return(this._renderer._doStroke||this._renderer._doFill)&&(P<0&&(P=Math.abs(P)),C===void 0?C=P:C<0&&(C=Math.abs(C)),S=E.default.modeAdjust(S,T,P,C,this._renderer._ellipseMode),this._renderer.ellipse([S.x,S.y,S.w,S.h,M]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[S.x,S.y,S.w,S.h])),this},p.default.prototype.line=function(){for(var S,T=arguments.length,P=new Array(T),C=0;C<T;C++)P[C]=arguments[C];return p.default._validateParameters("line",P),this._renderer._doStroke&&(S=this._renderer).line.apply(S,P),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",P),this},p.default.prototype.point=function(){for(var S,T=arguments.length,P=new Array(T),C=0;C<T;C++)P[C]=arguments[C];return p.default._validateParameters("point",P),this._renderer._doStroke&&(P.length===1&&P[0]instanceof p.default.Vector?this._renderer.point.call(this._renderer,P[0].x,P[0].y,P[0].z):((S=this._renderer).point.apply(S,P),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",P))),this},p.default.prototype.quad=function(){for(var S,T=arguments.length,P=new Array(T),C=0;C<T;C++)P[C]=arguments[C];return p.default._validateParameters("quad",P),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&P.length<12?this._renderer.quad.call(this._renderer,P[0],P[1],0,P[2],P[3],0,P[4],P[5],0,P[6],P[7],0,P[8],P[9]):((S=this._renderer).quad.apply(S,P),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",P))),this},p.default.prototype.rect=function(){for(var S=arguments.length,T=new Array(S),P=0;P<S;P++)T[P]=arguments[P];return p.default._validateParameters("rect",T),this._renderRect.apply(this,T)},p.default.prototype.square=function(S,T,P,C,M,j,I){return p.default._validateParameters("square",arguments),this._renderRect.call(this,S,T,P,P,C,M,j,I)},p.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var S=E.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),T=[S.x,S.y,S.w,S.h],P=4;P<arguments.length;P++)T[P]=arguments[P];this._renderer.rect(T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[S.x,S.y,S.w,S.h])}return this},p.default.prototype.triangle=function(){for(var S=arguments.length,T=new Array(S),P=0;P<S;P++)T[P]=arguments[P];return p.default._validateParameters("triangle",T),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",T),this},c=p.default,y.default=c},{"../constants":264,"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../helpers":271,"../main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],283:[function(c,g,y){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(b)}function _(b){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(k){return m(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":m(k)})(b)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(A=c("../main"))&&A.__esModule?A:{default:A},x=function(b){if(b&&b.__esModule)return b;if(b===null||_(b)!=="object"&&typeof b!="function")return{default:b};var k=E();if(k&&k.has(b))return k.get(b);var S,T={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var C;Object.prototype.hasOwnProperty.call(b,S)&&((C=P?Object.getOwnPropertyDescriptor(b,S):null)&&(C.get||C.set)?Object.defineProperty(T,S,C):T[S]=b[S])}return T.default=b,k&&k.set(b,T),T}(c("../constants"));function E(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,E=function(){return b},b)}p.default.prototype.ellipseMode=function(b){return p.default._validateParameters("ellipseMode",arguments),b!==x.CORNER&&b!==x.CORNERS&&b!==x.RADIUS&&b!==x.CENTER||(this._renderer._ellipseMode=b),this},p.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},p.default.prototype.rectMode=function(b){return p.default._validateParameters("rectMode",arguments),b!==x.CORNER&&b!==x.CORNERS&&b!==x.RADIUS&&b!==x.CENTER||(this._renderer._rectMode=b),this},p.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},p.default.prototype.strokeCap=function(b){return p.default._validateParameters("strokeCap",arguments),b!==x.ROUND&&b!==x.SQUARE&&b!==x.PROJECT||this._renderer.strokeCap(b),this},p.default.prototype.strokeJoin=function(b){return p.default._validateParameters("strokeJoin",arguments),b!==x.ROUND&&b!==x.BEVEL&&b!==x.MITER||this._renderer.strokeJoin(b),this},p.default.prototype.strokeWeight=function(b){return p.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(b),this};var A=p.default;y.default=A},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],284:[function(c,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(_=c("../main"))&&_.__esModule?_:{default:_};c("../friendly_errors/fes_core"),c("../friendly_errors/file_errors"),c("../friendly_errors/validate_params"),m.default.prototype.bezier=function(){for(var p,x=arguments.length,E=new Array(x),A=0;A<x;A++)E[A]=arguments[A];return m.default._validateParameters("bezier",E),(this._renderer._doStroke||this._renderer._doFill)&&(p=this._renderer).bezier.apply(p,E),this},m.default.prototype.bezierDetail=function(p){return m.default._validateParameters("bezierDetail",arguments),this._bezierDetail=p,this},m.default.prototype.bezierPoint=function(p,x,E,A,b){m.default._validateParameters("bezierPoint",arguments);var k=1-b;return Math.pow(k,3)*p+3*Math.pow(k,2)*b*x+3*k*Math.pow(b,2)*E+Math.pow(b,3)*A},m.default.prototype.bezierTangent=function(p,x,E,A,b){m.default._validateParameters("bezierTangent",arguments);var k=1-b;return 3*A*Math.pow(b,2)-3*E*Math.pow(b,2)+6*E*k*b-6*x*k*b+3*x*Math.pow(k,2)-3*p*Math.pow(k,2)},m.default.prototype.curve=function(){for(var p,x=arguments.length,E=new Array(x),A=0;A<x;A++)E[A]=arguments[A];return m.default._validateParameters("curve",E),this._renderer._doStroke&&(p=this._renderer).curve.apply(p,E),this},m.default.prototype.curveDetail=function(p){return m.default._validateParameters("curveDetail",arguments),this._curveDetail=p<3?3:p,this},m.default.prototype.curveTightness=function(p){return m.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=p,this},m.default.prototype.curvePoint=function(p,x,E,A,b){m.default._validateParameters("curvePoint",arguments);var k=this._renderer._curveTightness,S=b*b*b,T=b*b;return p*((k-1)/2*S+(1-k)*T+(k-1)/2*b)+x*((k+3)/2*S+(-5-k)/2*T+1)+E*((-3-k)/2*S+(k+2)*T+(1-k)/2*b)+A*((1-k)/2*S+(k-1)/2*T)},m.default.prototype.curveTangent=function(p,x,E,A,T){m.default._validateParameters("curveTangent",arguments);var k=this._renderer._curveTightness,S=T*T*3,T=2*T;return p*((k-1)/2*S+(1-k)*T+(k-1)/2)+x*((k+3)/2*S+(-5-k)/2*T)+E*((-3-k)/2*S+(k+2)*T+(1-k)/2)+A*((1-k)/2*S+(k-1)/2*T)};var _=m.default;y.default=_},{"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../main":275}],285:[function(c,g,y){function m(I){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}function _(I){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(O){return m(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":m(O)})(I)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(j=c("../main"))&&j.__esModule?j:{default:j},x=function(I){if(I&&I.__esModule)return I;if(I===null||_(I)!=="object"&&typeof I!="function")return{default:I};var O=E();if(O&&O.has(I))return O.get(I);var R,D={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in I){var U;Object.prototype.hasOwnProperty.call(I,R)&&((U=N?Object.getOwnPropertyDescriptor(I,R):null)&&(U.get||U.set)?Object.defineProperty(D,R,U):D[R]=I[R])}return D.default=I,O&&O.set(I,D),D}(c("../constants"));function E(){var I;return typeof WeakMap!="function"?null:(I=new WeakMap,E=function(){return I},I)}var A=null,b=[],k=[],S=!1,T=!1,P=!1,C=!1,M=!0,j=(p.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(k=[],C=!0),this},p.default.prototype.beginShape=function(I){var O;return p.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(O=this._renderer).beginShape.apply(O,arguments):(A=I===x.POINTS||I===x.LINES||I===x.TRIANGLES||I===x.TRIANGLE_FAN||I===x.TRIANGLE_STRIP||I===x.QUADS||I===x.QUAD_STRIP?I:null,b=[],k=[]),this},p.default.prototype.bezierVertex=function(){for(var I,O=arguments.length,R=new Array(O),D=0;D<O;D++)R[D]=arguments[D];if(p.default._validateParameters("bezierVertex",R),this._renderer.isP3D)(I=this._renderer).bezierVertex.apply(I,R);else if(b.length===0)p.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{S=!0;for(var N=[],U=0;U<R.length;U++)N[U]=R[U];N.isVert=!1,(C?k:b).push(N)}return this},p.default.prototype.curveVertex=function(){for(var I,O=arguments.length,R=new Array(O),D=0;D<O;D++)R[D]=arguments[D];return p.default._validateParameters("curveVertex",R),this._renderer.isP3D?(I=this._renderer).curveVertex.apply(I,R):(T=!0,this.vertex(R[0],R[1])),this},p.default.prototype.endContour=function(){if(!this._renderer.isP3D){var I=k[0].slice();I.isVert=k[0].isVert,I.moveTo=!1,k.push(I),M&&(b.push(b[0]),M=!1);for(var O=0;O<k.length;O++)b.push(k[O])}return this},p.default.prototype.endShape=function(I){var O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(p.default._validateParameters("endShape",arguments),O<1&&(console.log(" p5.js says: You can not have less than one instance"),O=1),this._renderer.isP3D)this._renderer.endShape(I,T,S,P,C,A,O);else{if(O!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),b.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;O=I===x.CLOSE,O&&!C&&b.push(b[0]),this._renderer.endShape(I,b,T,S,P,C,A),M=!(C=P=S=T=!1),O&&b.pop()}return this},p.default.prototype.quadraticVertex=function(){for(var I,O=arguments.length,R=new Array(O),D=0;D<O;D++)R[D]=arguments[D];if(p.default._validateParameters("quadraticVertex",R),this._renderer.isP3D)(I=this._renderer).quadraticVertex.apply(I,R);else{if(this._contourInited)return(I={}).x=R[0],I.y=R[1],I.x3=R[2],I.y3=R[3],I.type=x.QUADRATIC,this._contourVertices.push(I),this;if(0<b.length){P=!0;for(var N=[],U=0;U<R.length;U++)N[U]=R[U];N.isVert=!1,(C?k:b).push(N)}else p.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},p.default.prototype.vertex=function(I,O,R,D,N){var U;return this._renderer.isP3D?(U=this._renderer).vertex.apply(U,arguments):((U=[]).isVert=!0,U[0]=I,U[1]=O,U[2]=0,U[3]=0,U[4]=0,U[5]=this._renderer._getFill(),U[6]=this._renderer._getStroke(),R&&(U.moveTo=R),(C?(k.length===0&&(U.moveTo=!0),k):b).push(U)),this},p.default.prototype.normal=function(I,O,R){var D;return this._assert3d("normal"),p.default._validateParameters("normal",arguments),(D=this._renderer).normal.apply(D,arguments),this},p.default);y.default=j},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],286:[function(c,g,y){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(b)}function _(b){return function(k){if(Array.isArray(k)){for(var S=0,T=new Array(k.length);S<k.length;S++)T[S]=k[S];return T}}(b)||function(k){if(Symbol.iterator in Object(k)||Object.prototype.toString.call(k)==="[object Arguments]")return Array.from(k)}(b)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(b){return(p=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(k){return m(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":m(k)})(b)}var x,E,A;c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-clamped-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-clamped-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b,k){window.setTimeout(b,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(x=Object.keys,c=Object.defineProperty,E=typeof Symbol=="function"&&p(Symbol())==="symbol",A=Object.prototype.propertyIsEnumerable,c(Object,"assign",{value:function(b,k){if(b==null)throw new TypeError("target must be an object");for(var S,T=Object(b),P=1;P<arguments.length;++P){var C=Object(arguments[P]),M=x(C);for(E&&Object.getOwnPropertySymbols&&M.push.apply(M,_(Object.getOwnPropertySymbols(C).filter(function(j){return function(I){return A.call(j,I)}}(C)))),S=0;S<M.length;++S)T[M[S]]=C[M[S]]}return T},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/web.dom-collections.iterator":238}],287:[function(c,g,y){c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.assign"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("./main"))&&c.__esModule?c:{default:c},c.default.prototype.noLoop=function(){this._loop=!1},c.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},c.default.prototype.isLooping=function(){return this._loop},c.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},c.default.prototype.pop=function(){var m=this._styles.pop();m?(this._renderer.pop(m.renderer),Object.assign(this,m.props)):console.warn("pop() was called without matching push()")},c.default.prototype.redraw=function(m){if(!this._inUserDraw&&this._setupDone){var _=parseInt(m),p=((isNaN(_)||_<1)&&(_=1),this._isGlobal?window:this);if(typeof p.draw=="function"){p.setup===void 0&&p.scale(p._pixelDensity,p._pixelDensity);for(var x=0;x<_;x++){p.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),p._renderer.isP3D&&p._renderer._update(),p._setProperty("frameCount",p.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{p.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},c=c.default,y.default=c},{"./main":275,"core-js/modules/es.object.assign":176}],288:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("./main"))&&c.__esModule?c:{default:c};function _(p){return function(x){if(Array.isArray(x)){for(var E=0,A=new Array(x.length);E<x.length;E++)A[E]=x[E];return A}}(p)||function(x){if(Symbol.iterator in Object(x)||Object.prototype.toString.call(x)==="[object Arguments]")return Array.from(x)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}m.default.prototype.applyMatrix=function(){var p=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||p?(p=this._renderer).applyMatrix.apply(p,_(arguments.length<=0?void 0:arguments[0])):(p=this._renderer).applyMatrix.apply(p,arguments),this},m.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},m.default.prototype.rotate=function(p,x){return m.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(p),x),this},m.default.prototype.rotateX=function(p){return this._assert3d("rotateX"),m.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(p)),this},m.default.prototype.rotateY=function(p){return this._assert3d("rotateY"),m.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(p)),this},m.default.prototype.rotateZ=function(p){return this._assert3d("rotateZ"),m.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(p)),this},m.default.prototype.scale=function(p,x,E){var A;return m.default._validateParameters("scale",arguments),p instanceof m.default.Vector?(p=(A=p).x,x=A.y,E=A.z):p instanceof Array&&(p=(A=p)[0],x=A[1],E=A[2]||1),isNaN(x)?x=E=p:isNaN(E)&&(E=1),this._renderer.scale.call(this._renderer,p,x,E),this},m.default.prototype.shearX=function(p){return m.default._validateParameters("shearX",arguments),p=this._toRadians(p),this._renderer.applyMatrix(1,0,Math.tan(p),1,0,0),this},m.default.prototype.shearY=function(p){return m.default._validateParameters("shearY",arguments),p=this._toRadians(p),this._renderer.applyMatrix(1,Math.tan(p),0,1,0,0),this},m.default.prototype.translate=function(p,x,E){return m.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(p,x,E):this._renderer.translate(p,x),this},c=m.default,y.default=c},{"./main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238}],289:[function(c,g,y){function m(E){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(E)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.ends-with"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.ends-with"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator");var _=(c=c("../core/main"))&&c.__esModule?c:{default:c};function p(E){return function(A){if(Array.isArray(A)){for(var b=0,k=new Array(A.length);b<A.length;b++)k[b]=A[b];return k}}(E)||function(A){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]")return Array.from(A)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(E){return(x=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(A){return m(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":m(A)})(E)}_.default.prototype.storeItem=function(E,A){typeof E!="string"&&console.log("The argument that you passed to storeItem() - ".concat(E," is not a string.")),E.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(E," must not end with 'p5TypeID'.")),A===void 0&&console.log("You cannot store undefined variables using storeItem().");var b=x(A);switch(b){case"number":case"boolean":A=A.toString();break;case"object":A instanceof _.default.Color?b="p5.Color":A instanceof _.default.Vector&&(b="p5.Vector",A=[A.x,A.y,A.z]),A=JSON.stringify(A)}localStorage.setItem(E,A),E="".concat(E,"p5TypeID"),localStorage.setItem(E,b)},_.default.prototype.getItem=function(E){var A=localStorage.getItem(E),b=localStorage.getItem("".concat(E,"p5TypeID"));if(b===void 0)console.log("Unable to determine type of item stored under ".concat(E,"in local storage. Did you save the item with something other than setItem()?"));else if(A!==null)switch(b){case"number":A=parseFloat(A);break;case"boolean":A=A==="true";break;case"object":A=JSON.parse(A);break;case"p5.Color":A=JSON.parse(A),A=this.color.apply(this,p(A.levels));break;case"p5.Vector":A=JSON.parse(A),A=this.createVector.apply(this,p(A))}return A},_.default.prototype.clearStorage=function(){localStorage.clear()},_.default.prototype.removeItem=function(E){typeof E!="string"&&console.log("The argument that you passed to removeItem() - ".concat(E," is not a string.")),localStorage.removeItem(E),localStorage.removeItem("".concat(E,"p5TypeID"))}},{"../core/main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],290:[function(c,g,y){function m(P){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(P)}function _(P){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(C){return m(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":m(C)})(P)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.object.keys"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(c=c("../core/main"))&&c.__esModule?c:{default:c};function x(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&E(P,C)}function E(P,C){return(E=Object.setPrototypeOf||function(M,j){return M.__proto__=j,M})(P,C)}function A(P){return function(){var C,M=b(P),M=(C=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(C=b(this).constructor,Reflect.construct(M,arguments,C)):M.apply(this,arguments),this);if(!C||_(C)!=="object"&&typeof C!="function"){if(M!==void 0)return M;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return C}}function b(P){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(P)}function k(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}function S(P,C){for(var M=0;M<C.length;M++){var j=C[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(P,j.key,j)}}function T(P,C,M){C&&S(P.prototype,C),M&&S(P,M)}p.default.prototype.createStringDict=function(P,C){return p.default._validateParameters("createStringDict",arguments),new p.default.StringDict(P,C)},p.default.prototype.createNumberDict=function(P,C){return p.default._validateParameters("createNumberDict",arguments),new p.default.NumberDict(P,C)},p.default.TypedDict=function(){function P(C,M){return k(this,P),C instanceof Object?this.data=C:(this.data={},this.data[C]=M),this}return T(P,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(C){return this.data.hasOwnProperty(C)}},{key:"get",value:function(C){if(this.data.hasOwnProperty(C))return this.data[C];console.log("".concat(C," does not exist in this Dictionary"))}},{key:"set",value:function(C,M){this._validate(M)?this.data[C]=M:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(C){for(var M in C)this.set(M,C[M])}},{key:"create",value:function(C,M){C instanceof Object&&M===void 0?this._addObj(C):C!==void 0?this.set(C,M):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(C){if(!this.data.hasOwnProperty(C))throw new Error("".concat(C," does not exist in this Dictionary"));delete this.data[C]}},{key:"print",value:function(){for(var C in this.data)console.log("key:".concat(C," value:").concat(this.data[C]))}},{key:"saveTable",value:function(C){var M,j="";for(M in this.data)j+="".concat(M,",").concat(this.data[M],`
`);var I=new Blob([j],{type:"text/csv"});p.default.prototype.downloadFile(I,C||"mycsv","csv")}},{key:"saveJSON",value:function(C,M){p.default.prototype.saveJSON(this.data,C,M)}},{key:"_validate",value:function(C){return!0}}]),P}(),p.default.StringDict=function(){x(C,p.default.TypedDict);var P=A(C);function C(){k(this,C);for(var M=arguments.length,j=new Array(M),I=0;I<M;I++)j[I]=arguments[I];return P.call.apply(P,[this].concat(j))}return T(C,[{key:"_validate",value:function(M){return typeof M=="string"}}]),C}(),p.default.NumberDict=function(){x(C,p.default.TypedDict);var P=A(C);function C(){k(this,C);for(var M=arguments.length,j=new Array(M),I=0;I<M;I++)j[I]=arguments[I];return P.call.apply(P,[this].concat(j))}return T(C,[{key:"_validate",value:function(M){return typeof M=="number"}},{key:"add",value:function(M,j){this.data.hasOwnProperty(M)?this.data[M]+=j:console.log("The key - ".concat(M," does not exist in this dictionary."))}},{key:"sub",value:function(M,j){this.add(M,-j)}},{key:"mult",value:function(M,j){this.data.hasOwnProperty(M)?this.data[M]*=j:console.log("The key - ".concat(M," does not exist in this dictionary."))}},{key:"div",value:function(M,j){this.data.hasOwnProperty(M)?this.data[M]/=j:console.log("The key - ".concat(M," does not exist in this dictionary."))}},{key:"_valueTest",value:function(M){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var j,I=this.data[Object.keys(this.data)[0]];for(j in this.data)this.data[j]*M<I*M&&(I=this.data[j]);return I}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(M){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var j=Object.keys(this.data)[0],I=1;I<Object.keys(this.data).length;I++)Object.keys(this.data)[I]*M<j*M&&(j=Object.keys(this.data)[I]);return j}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),C}(),c=p.default.TypedDict,y.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],291:[function(c,g,y){function m(j){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(j)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/web.url"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _=(c=c("../core/main"))&&c.__esModule?c:{default:c};function p(j,I){for(var O=0;O<I.length;O++){var R=I[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(j,R.key,R)}}function x(j,I,O){I&&p(j.prototype,I),O&&p(j,O)}function E(j,I){return(E=Object.setPrototypeOf||function(O,R){return O.__proto__=R,O})(j,I)}function A(j){return function(){var I,O,R=k(j);return I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(I=k(this).constructor,Reflect.construct(R,arguments,I)):R.apply(this,arguments),R=this,!(O=I)||T(O)!=="object"&&typeof O!="function"?b(R):O}}function b(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function k(j){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(j)}function S(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")}function T(j){return(T=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(I){return m(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":m(I)})(j)}function P(j,I,O){return(I._userNode||document.body).appendChild(j),O=new(O?_.default.MediaElement:_.default.Element)(j,I),I._elements.push(O),O}function C(j,U,O,R){var D=document.createElement(U),N=(typeof(O=O||"")=="string"&&(O=[O]),!0),U=!1,X=void 0;try{for(var V,K=O[Symbol.iterator]();!(N=(V=K.next()).done);N=!0){var W=V.value,Q=document.createElement("source");Q.setAttribute("src",W),D.appendChild(Q)}}catch(G){U=!0,X=G}finally{try{N||K.return==null||K.return()}finally{if(U)throw X}}typeof R=="function"&&D.addEventListener("canplaythrough",function G(){R(),D.removeEventListener("canplaythrough",G)});var L=P(D,j,!0);return L.loadedmetadata=!1,D.addEventListener("loadedmetadata",function(){L.width=D.videoWidth,L.height=D.videoHeight,L.elt.width===0&&(L.elt.width=D.videoWidth),L.elt.height===0&&(L.elt.height=D.videoHeight),L.presetPlaybackRate&&(L.elt.playbackRate=L.presetPlaybackRate,delete L.presetPlaybackRate),L.loadedmetadata=!0}),L}_.default.prototype.select=function(j,I){return _.default._validateParameters("select",arguments),I=this._getContainer(I).querySelector(j),I?this._wrapElement(I):null},_.default.prototype.selectAll=function(j,I){_.default._validateParameters("selectAll",arguments);var O=[],R=this._getContainer(I).querySelectorAll(j);if(R)for(var D=0;D<R.length;D++){var N=this._wrapElement(R[D]);O.push(N)}return O},_.default.prototype._getContainer=function(j){var I=document;return typeof j=="string"?I=document.querySelector(j)||document:j instanceof _.default.Element?I=j.elt:j instanceof HTMLElement&&(I=j),I},_.default.prototype._wrapElement=function(j){var I,O=Array.prototype.slice.call(j.children);return j.tagName==="INPUT"&&j.type==="checkbox"?((I=new _.default.Element(j,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},I):j.tagName==="VIDEO"||j.tagName==="AUDIO"?new _.default.MediaElement(j,this):j.tagName==="SELECT"?this.createSelect(new _.default.Element(j,this)):0<O.length&&O.every(function(R){return R.tagName==="INPUT"||R.tagName==="LABEL"})?this.createRadio(new _.default.Element(j,this)):new _.default.Element(j,this)},_.default.prototype.removeElements=function(j){_.default._validateParameters("removeElements",arguments),this._elements.filter(function(I){return!(I.elt instanceof HTMLCanvasElement)}).map(function(I){return I.remove()})},_.default.Element.prototype.changed=function(j){return _.default.Element._adjustListener("change",j,this),this},_.default.Element.prototype.input=function(j){return _.default.Element._adjustListener("input",j,this),this},_.default.prototype.createDiv=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",I=document.createElement("div");return I.innerHTML=j,P(I,this)},_.default.prototype.createP=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",I=document.createElement("p");return I.innerHTML=j,P(I,this)},_.default.prototype.createSpan=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",I=document.createElement("span");return I.innerHTML=j,P(I,this)},_.default.prototype.createImg=function(){_.default._validateParameters("createImg",arguments);var j,I=document.createElement("img"),O=arguments;return 1<O.length&&typeof O[1]=="string"&&(I.alt=O[1]),2<O.length&&typeof O[2]=="string"&&(I.crossOrigin=O[2]),I.src=O[0],j=P(I,this),I.addEventListener("load",function(){j.width=I.offsetWidth||I.width,j.height=I.offsetHeight||I.height;var R=O[O.length-1];typeof R=="function"&&R(j)}),j},_.default.prototype.createA=function(j,I,O){_.default._validateParameters("createA",arguments);var R=document.createElement("a");return R.href=j,R.innerHTML=I,O&&(R.target=O),P(R,this)},_.default.prototype.createSlider=function(j,I,O,R){_.default._validateParameters("createSlider",arguments);var D=document.createElement("input");return D.type="range",D.min=j,D.max=I,R===0?D.step=1e-18:R&&(D.step=R),typeof O=="number"&&(D.value=O),P(D,this)},_.default.prototype.createButton=function(j,I){_.default._validateParameters("createButton",arguments);var O=document.createElement("button");return O.innerHTML=j,I&&(O.value=I),P(O,this)},_.default.prototype.createCheckbox=function(){for(var j=arguments.length,I=new Array(j),O=0;O<j;O++)I[O]=arguments[O];_.default._validateParameters("createCheckbox",I);var R=document.createElement("div"),D=document.createElement("input"),N=(D.type="checkbox",document.createElement("label")),U=(N.appendChild(D),R.appendChild(N),P(R,this));return U.checked=function(){var X=U.elt.firstElementChild.getElementsByTagName("input")[0];if(X){if(arguments.length===0)return X.checked;X.checked=!(arguments.length<=0||!arguments[0])}return U},this.value=function(X){return U.value=X,this},I[0]&&(U.value(I[0]),(R=document.createElement("span")).innerHTML=I[0],N.appendChild(R)),I[1]&&(D.checked=!0),U},_.default.prototype.createSelect=function(){for(var j,I=arguments.length,O=new Array(I),R=0;R<I;R++)O[R]=arguments[R];_.default._validateParameters("createSelect",O);var D,N=O[0];return N instanceof _.default.Element&&N.elt instanceof HTMLSelectElement?this.elt=(j=N).elt:N instanceof HTMLSelectElement?(j=P(N,this),this.elt=N):(D=document.createElement("select"),N&&typeof N=="boolean"&&D.setAttribute("multiple","true"),j=P(D,this),this.elt=D),j.option=function(U,X){var V;if(U!==void 0){for(var K,W=0;W<this.elt.length;W+=1)if(this.elt[W].textContent===U){V=W;break}V!==void 0?X===!1?this.elt.remove(V):this.elt[V].value=X:((K=document.createElement("option")).textContent=U,K.value=X===void 0?U:X,this.elt.appendChild(K),this._pInst._elements.push(K))}},j.selected=function(U){if(U!==void 0){for(var X=0;X<this.elt.length;X+=1)this.elt[X].value.toString()===U.toString()&&(this.elt.selectedIndex=X);return this}if(this.elt.getAttribute("multiple")){var V=[],K=!0,W=!1,Q=void 0;try{for(var L,G=this.elt.selectedOptions[Symbol.iterator]();!(K=(L=G.next()).done);K=!0){var J=L.value;V.push(J.value)}}catch(B){W=!0,Q=B}finally{try{K||G.return==null||G.return()}finally{if(W)throw Q}}return V}return this.elt.value},j.disable=function(U){if(typeof U=="string")for(var X=0;X<this.elt.length;X++)this.elt[X].value.toString()===U&&(this.elt[X].disabled=!0,this.elt[X].selected=!1);else this.elt.disabled=!0;return this},j.enable=function(U){if(typeof U=="string")for(var X=0;X<this.elt.length;X++)this.elt[X].value.toString()===U&&(this.elt[X].disabled=!1,this.elt[X].selected=!1);else{this.elt.disabled=!1;for(var V=0;V<this.elt.length;V++)this.elt[V].disabled=!1,this.elt[V].selected=!1}return this},j},_.default.prototype.createRadio=function(){function j(U){return U instanceof HTMLInputElement&&U.type==="radio"}function I(U){return U instanceof HTMLLabelElement}var O,R,D,N=arguments.length<=0?void 0:arguments[0];return N instanceof _.default.Element&&(N.elt instanceof HTMLDivElement||N.elt instanceof HTMLSpanElement)?(O=N,this.elt=N.elt):N instanceof HTMLDivElement||N instanceof HTMLSpanElement?(O=P(N,this),R=this.elt=N,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(D=arguments.length<=1?void 0:arguments[1])):(typeof N=="string"&&(D=N),R=document.createElement("div"),O=P(R,this),this.elt=R),O._name=D||"radioOption",O._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(U){return j(U)||I(U)&&j(U.firstElementChild)}).map(function(U){return j(U)?U:U.firstElementChild})},O.option=function(U,X){var V,K,W,Q=!0,L=!1,G=void 0;try{for(var J,B=O._getOptionsArray()[Symbol.iterator]();!(Q=(J=B.next()).done);Q=!0){var Y=J.value;if(Y.value===U){V=Y;break}}}catch(ie){L=!0,G=ie}finally{try{Q||B.return==null||B.return()}finally{if(L)throw G}}return V===void 0&&((V=document.createElement("input")).setAttribute("type","radio"),V.setAttribute("value",U)),V.setAttribute("name",O._name),I(V.parentElement)?K=V.parentElement:(K=document.createElement("label")).insertAdjacentElement("afterbegin",V),K.lastElementChild instanceof HTMLSpanElement?W=K.lastElementChild:(W=document.createElement("span"),V.insertAdjacentElement("afterend",W)),W.innerHTML=X===void 0?U:X,this.elt.appendChild(K),V},O.remove=function(U){var X=!0,V=!1,K=void 0;try{for(var W,Q=O._getOptionsArray()[Symbol.iterator]();!(X=(W=Q.next()).done);X=!0){var L=W.value;if(L.value===U)return void(I(L.parentElement)?L.parentElement:L).remove()}}catch(G){V=!0,K=G}finally{try{X||Q.return==null||Q.return()}finally{if(V)throw K}}},O.value=function(){var U="",X=!0,V=!1,K=void 0;try{for(var W,Q=O._getOptionsArray()[Symbol.iterator]();!(X=(W=Q.next()).done);X=!0){var L=W.value;if(L.checked){U=L.value;break}}}catch(G){V=!0,K=G}finally{try{X||Q.return==null||Q.return()}finally{if(V)throw K}}return U},O.selected=function(U){var X=null;if(U===void 0){var V=!0,K=!1,W=void 0;try{for(var Q,L=O._getOptionsArray()[Symbol.iterator]();!(V=(Q=L.next()).done);V=!0){var G=Q.value;if(G.checked){X=G;break}}}catch(ne){K=!0,W=ne}finally{try{V||L.return==null||L.return()}finally{if(K)throw W}}}else{O._getOptionsArray().forEach(function(H){H.checked=!1,H.removeAttribute("checked")});var J=!0,K=!1,W=void 0;try{for(var B,Y=O._getOptionsArray()[Symbol.iterator]();!(J=(B=Y.next()).done);J=!0){var ie=B.value;ie.value===U&&(ie.setAttribute("checked",!0),ie.checked=!0,X=ie)}}catch(H){K=!0,W=H}finally{try{J||Y.return==null||Y.return()}finally{if(K)throw W}}}return X},O.disable=function(){var U=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],X=!0,V=!1,K=void 0;try{for(var W,Q=O._getOptionsArray()[Symbol.iterator]();!(X=(W=Q.next()).done);X=!0)W.value.setAttribute("disabled",U)}catch(L){V=!0,K=L}finally{try{X||Q.return==null||Q.return()}finally{if(V)throw K}}},O},_.default.prototype.createColorPicker=function(j){_.default._validateParameters("createColorPicker",arguments);var I=document.createElement("input");return I.type="color",j?j instanceof _.default.Color?I.value=j.toString("#rrggbb"):(_.default.prototype._colorMode="rgb",_.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},I.value=_.default.prototype.color(j).toString("#rrggbb")):I.value="#000000",(I=P(I,this)).color=function(){return j&&(j.mode&&(_.default.prototype._colorMode=j.mode),j.maxes&&(_.default.prototype._colorMaxes=j.maxes)),_.default.prototype.color(this.elt.value)},I},_.default.prototype.createInput=function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",O=(_.default._validateParameters("createInput",arguments),document.createElement("input"));return O.setAttribute("value",j),O.setAttribute("type",I),P(O,this)},_.default.prototype.createFileInput=function(j){var I,O=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(_.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(I=document.createElement("input")).setAttribute("type","file"),O&&I.setAttribute("multiple",!0),I.addEventListener("change",function(R){var D=!0,N=!1,U=void 0;try{for(var X,V=R.target.files[Symbol.iterator]();!(D=(X=V.next()).done);D=!0){var K=X.value;_.default.File._load(K,j)}}catch(W){N=!0,U=W}finally{try{D||V.return==null||V.return()}finally{if(N)throw U}}},!1),P(I,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},_.default.prototype.createVideo=function(j,I){return _.default._validateParameters("createVideo",arguments),C(this,"video",j,I)},_.default.prototype.createAudio=function(j,I){return _.default._validateParameters("createAudio",arguments),C(this,"audio",j,I)},_.default.prototype.VIDEO="video",_.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(j){var I=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return I?new Promise(function(O,R){I.call(navigator,j,O,R)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),_.default.prototype.createCapture=function(){for(var j=arguments.length,I=new Array(j),O=0;O<j;O++)I[O]=arguments[O];if(_.default._validateParameters("createCapture",I),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var R,D=!0,N=!0,U=0,X=I;U<X.length;U++){var V=X[U];V===_.default.prototype.VIDEO?N=!1:V===_.default.prototype.AUDIO?D=!1:T(V)==="object"?K=V:typeof V=="function"&&(R=V)}var K=K||{video:D,audio:N},W=document.createElement("video"),Q=(W.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(K).then(function(L){try{"srcObject"in W?W.srcObject=L:W.src=window.URL.createObjectURL(L)}catch{W.src=L}},console.log),P(W,this,!0));return Q.loadedmetadata=!1,W.addEventListener("loadedmetadata",function(){W.play(),W.width?(Q.width=W.width,Q.height=W.height):(Q.width=Q.elt.width=W.videoWidth,Q.height=Q.elt.height=W.videoHeight),Q.loadedmetadata=!0,R&&R(W.srcObject)}),Q},_.default.prototype.createElement=function(j,I){return _.default._validateParameters("createElement",arguments),j=document.createElement(j),I!==void 0&&(j.innerHTML=I),P(j,this)},_.default.Element.prototype.addClass=function(j){return this.elt.className?this.hasClass(j)||(this.elt.className=this.elt.className+" "+j):this.elt.className=j,this},_.default.Element.prototype.removeClass=function(j){return this.elt.classList.remove(j),this},_.default.Element.prototype.hasClass=function(j){return this.elt.classList.contains(j)},_.default.Element.prototype.toggleClass=function(j){return this.elt.classList.contains(j)?this.elt.classList.remove(j):this.elt.classList.add(j),this},_.default.Element.prototype.child=function(j){return j===void 0?this.elt.childNodes:(typeof j=="string"?(j[0]==="#"&&(j=j.substring(1)),j=document.getElementById(j)):j instanceof _.default.Element&&(j=j.elt),j instanceof HTMLElement&&this.elt.appendChild(j),this)},_.default.Element.prototype.center=function(j){var I=this.elt.style.display,O=this.elt.style.display==="none",R=this.parent().style.display==="none",D={x:this.elt.offsetLeft,y:this.elt.offsetTop},N=(O&&this.show(),R&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),U=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return j==="both"||j===void 0?this.position(N/2+this.parent().offsetLeft,U/2+this.parent().offsetTop):j==="horizontal"?this.position(N/2+this.parent().offsetLeft,D.y):j==="vertical"&&this.position(D.x,U/2+this.parent().offsetTop),this.style("display",I),O&&this.hide(),R&&this.parent().hide(),this},_.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},_.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},_.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var j="";return this.elt.style.transform&&(j=(j=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=j,this},_.default.Element.prototype._rotate=function(){var j="";return this.elt.style.transform&&(j=(j=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=j,this},_.default.Element.prototype.style=function(j,I){if((I=I instanceof _.default.Color?"rgba("+I.levels[0]+","+I.levels[1]+","+I.levels[2]+","+I.levels[3]/255+")":I)===void 0){if(j.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(j);for(var O=j.split(";"),R=0;R<O.length;R++){var D=O[R].split(":");D[0]&&D[1]&&(this.elt.style[D[0].trim()]=D[1].trim())}}else this.elt.style[j]=I,j!=="width"&&j!=="height"&&j!=="left"&&j!=="top"||(I=window.getComputedStyle(this.elt).getPropertyValue(j).replace(/[^\d.]/g,""),this[j]=Math.round(parseFloat(I,10)));return this},_.default.Element.prototype.attribute=function(j,I){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return I===void 0?this.elt.getAttribute(j):(this.elt.setAttribute(j,I),this);if(I===void 0)return this.elt.firstChild.getAttribute(j);for(var O=0;O<this.elt.childNodes.length;O++)this.elt.childNodes[O].setAttribute(j,I)},_.default.Element.prototype.removeAttribute=function(j){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var I=0;I<this.elt.childNodes.length;I++)this.elt.childNodes[I].removeAttribute(j);return this.elt.removeAttribute(j),this},_.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},_.default.Element.prototype.show=function(){return this.elt.style.display="block",this},_.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},_.default.Element.prototype.size=function(j,I){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var O=j,R=I,D=_.default.prototype.AUTO;if(O!==D||R!==D){if(O===D?O=I*this.width/this.height:R===D&&(R=j*this.height/this.width),this.elt instanceof HTMLCanvasElement){var N,U={},X=this.elt.getContext("2d");for(N in X)U[N]=X[N];for(N in this.elt.setAttribute("width",O*this._pInst._pixelDensity),this.elt.setAttribute("height",R*this._pInst._pixelDensity),this.elt.style.width=O+"px",this.elt.style.height=R+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),U)this.elt.getContext("2d")[N]=U[N]}else this.elt.style.width=O+"px",this.elt.style.height=R+"px",this.elt.width=O,this.elt.height=R;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},_.default.Element.prototype.remove=function(){this instanceof _.default.MediaElement&&(this.stop(),(I=this.elt.srcObject)!==null&&I.getTracks().forEach(function(O){O.stop()}));var j,I=this._pInst._elements.indexOf(this);for(j in I!==-1&&this._pInst._elements.splice(I,1),this._events)this.elt.removeEventListener(j,this._events[j]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},_.default.Element.prototype.drop=function(j,I){var O;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",O=function(R){R.preventDefault()}),this.elt.addEventListener("dragleave",O)),_.default.Element._attachListener("drop",function(D){D.preventDefault(),typeof I=="function"&&I.call(this,D);var D=D.dataTransfer.files,N=!0,U=!1,X=void 0;try{for(var V,K=D[Symbol.iterator]();!(N=(V=K.next()).done);N=!0){var W=V.value;_.default.File._load(W,j)}}catch(Q){U=!0,X=Q}finally{try{N||K.return==null||K.return()}finally{if(U)throw X}}},this)):console.log("The File APIs are not fully supported in this browser."),this},_.default.Element.prototype.draggable=function(j){var I,O="ontouchstart"in window,R=0,D=0,N=0,U=0,X=O?"touchend":"mouseup",V=O?"touchmove":"mousemove";function K(Q){var L;Q=Q||window.event,U=O?(L=Q.changedTouches,R=N-parseInt(L[0].clientX),D=U-parseInt(L[0].clientY),N=parseInt(L[0].clientX),parseInt(L[0].clientY)):(R=N-parseInt(Q.clientX),D=U-parseInt(Q.clientY),N=parseInt(Q.clientX),parseInt(Q.clientY)),j.style.left=j.offsetLeft-R+"px",j.style.top=j.offsetTop-D+"px"}function W(){document.removeEventListener(X,W,!1),document.removeEventListener(V,K,!1)}return j===void 0?I=j=this.elt:j!==this.elt&&j.elt!==this.elt&&(j=j.elt,I=this.elt),I.addEventListener(O?"touchstart":"mousedown",function(Q){{var L;Q=Q||window.event,U=O?(L=Q.changedTouches,N=parseInt(L[0].clientX),parseInt(L[0].clientY)):(N=parseInt(Q.clientX),parseInt(Q.clientY))}return document.addEventListener(X,W,!1),document.addEventListener(V,K,!1),!1},!1),I.style.cursor="move",this};function M(j,I,O,R){S(this,M),this.callback=j,this.time=I,this.id=O,this.val=R}c=function(j){var I=R;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(j&&j.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),j&&E(I,j);var O=A(R);function R(D,N){S(this,R);var U=b(N=O.call(this,D,N));return N.elt.crossOrigin="anonymous",N._prevTime=0,N._cueIDCounter=0,N._cues=[],N.pixels=[],N._pixelsState=b(N),N._pixelDensity=1,N._modified=!1,N._frameOnCanvas=-1,Object.defineProperty(U,"src",{get:function(){var X=U.elt.children[0].src,V=U.elt.src===window.location.href?"":U.elt.src;return X===window.location.href?V:X},set:function(X){for(var V=0;V<U.elt.children.length;V++)U.elt.removeChild(U.elt.children[V]);var K=document.createElement("source");K.src=X,D.appendChild(K),U.elt.src=X,U.modified=!0}}),U._onended=function(){},U.elt.onended=function(){U._onended(U)},N}return x(R,[{key:"play",value:function(){var D;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(D=this.elt.play())&&D.catch&&D.catch(function(N){N.name==="NotAllowedError"?console.error(N):console.error("Media play method encountered an unexpected error",N)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var D=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(D)},{passive:!0,once:!0})}},{key:"autoplay",value:function(D){var N=this,U=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",D),D&&!U&&(D=function(){return N._setupAutoplayFailDetection()},this.elt.readyState===4?D():this.elt.addEventListener("canplay",D,{passive:!0,once:!0})),this}},{key:"volume",value:function(D){if(D===void 0)return this.elt.volume;this.elt.volume=D}},{key:"speed",value:function(D){if(D===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=D:this.presetPlaybackRate=D}},{key:"time",value:function(D){return D===void 0?this.elt.currentTime:(this.elt.currentTime=D,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var D=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&D&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var D=arguments.length,N=new Array(D),U=0;U<D;U++)N[U]=arguments[U];return _.default.Renderer2D.prototype.loadPixels.apply(this,N)}},{key:"updatePixels",value:function(D,N,U,X){return this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.updatePixels.call(this,D,N,U,X)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var D=arguments.length,N=new Array(D),U=0;U<D;U++)N[U]=arguments[U];return _.default.Renderer2D.prototype.get.apply(this,N)}},{key:"_getPixel",value:function(){this.loadPixels();for(var D=arguments.length,N=new Array(D),U=0;U<D;U++)N[U]=arguments[U];return _.default.Renderer2D.prototype._getPixel.apply(this,N)}},{key:"set",value:function(D,N,U){this.loadedmetadata&&(this._ensureCanvas(),_.default.Renderer2D.prototype.set.call(this,D,N,U),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var D=arguments.length,N=new Array(D),U=0;U<D;U++)N[U]=arguments[U];_.default.prototype.copy.apply(this,N)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var D=arguments.length,N=new Array(D),U=0;U<D;U++)N[U]=arguments[U];_.default.Image.prototype.mask.apply(this,N)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(D){this._modified=D}},{key:"onended",value:function(D){return this._onended=D,this}},{key:"connect",value:function(D){var N,U;if(typeof _.default.prototype.getAudioContext=="function")N=_.default.prototype.getAudioContext(),U=_.default.soundOut.input;else try{U=(N=D.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=N.createMediaElementSource(this.elt),this.audioSourceNode.connect(U)),D?D.input?this.audioSourceNode.connect(D.input):this.audioSourceNode.connect(D):this.audioSourceNode.connect(U)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(D,V,U){var X=this._cueIDCounter++,V=new M(V,D,X,U);return this._cues.push(V),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),X}},{key:"removeCue",value:function(D){for(var N=0;N<this._cues.length;N++)this._cues[N].id===D&&(console.log(D),this._cues.splice(N,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var D=this.time(),N=0;N<this._cues.length;N++){var U=this._cues[N].time,X=this._cues[N].val;this._prevTime<U&&U<=D&&this._cues[N].callback(X)}this._prevTime=D}}]),R}(_.default.Element),_.default.MediaElement=c,c=function(){function j(I,O){S(this,j),this.file=I,this._pInst=O,O=I.type.split("/"),this.type=O[0],this.subtype=O[1],this.name=I.name,this.size=I.size,this.data=void 0}return x(j,null,[{key:"_createLoader",value:function(I,O){var R=new FileReader;return R.onload=function(D){var N,U=new _.default.File(I);U.file.type==="application/json"?U.data=JSON.parse(D.target.result):U.file.type==="text/xml"?(N=new DOMParser().parseFromString(D.target.result,"text/xml"),U.data=new _.default.XML(N.documentElement)):U.data=D.target.result,O(U)},R}},{key:"_load",value:function(I,O){var R;/^text\//.test(I.type)||I.type==="application/json"?_.default.File._createLoader(I,O).readAsText(I):/^(video|audio)\//.test(I.type)?((R=new _.default.File(I)).data=URL.createObjectURL(I),O(R)):_.default.File._createLoader(I,O).readAsDataURL(I)}}]),j}(),_.default.File=c,c=_.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240}],292:[function(c,g,y){function m(I){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(I)}function _(I){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(O){return m(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":m(O)})(I)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(j=c("../core/main"))&&j.__esModule?j:{default:j},x=function(I){if(I&&I.__esModule)return I;if(I===null||_(I)!=="object"&&typeof I!="function")return{default:I};var O=E();if(O&&O.has(I))return O.get(I);var R,D={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(R in I){var U;Object.prototype.hasOwnProperty.call(I,R)&&((U=N?Object.getOwnPropertyDescriptor(I,R):null)&&(U.get||U.set)?Object.defineProperty(D,R,U):D[R]=I[R])}return D.default=I,O&&O.set(I,D),D}(c("../core/constants"));function E(){var I;return typeof WeakMap!="function"?null:(I=new WeakMap,E=function(){return I},I)}p.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",p.default.prototype.accelerationX=0,p.default.prototype.accelerationY=0,p.default.prototype.accelerationZ=0,p.default.prototype.pAccelerationX=0,p.default.prototype.pAccelerationY=0,p.default.prototype.pAccelerationZ=0,p.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},p.default.prototype.rotationX=0,p.default.prototype.rotationY=0,p.default.prototype.rotationZ=0,p.default.prototype.pRotationX=0,p.default.prototype.pRotationY=0;var A=p.default.prototype.pRotationZ=0,b=0,k=0,S="clockwise",T="clockwise",P="clockwise",C=(p.default.prototype.pRotateDirectionX=void 0,p.default.prototype.pRotateDirectionY=void 0,p.default.prototype.pRotateDirectionZ=void 0,p.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},p.default.prototype.turnAxis=void 0,.5),M=30,j=(p.default.prototype.setMoveThreshold=function(I){p.default._validateParameters("setMoveThreshold",arguments),C=I},p.default.prototype.setShakeThreshold=function(I){p.default._validateParameters("setShakeThreshold",arguments),M=I},p.default.prototype._ondeviceorientation=function(I){this._updatePRotations(),this._angleMode===x.radians&&(I.beta=I.beta*(_PI/180),I.gamma=I.gamma*(_PI/180),I.alpha=I.alpha*(_PI/180)),this._setProperty("rotationX",I.beta),this._setProperty("rotationY",I.gamma),this._setProperty("rotationZ",I.alpha),this._handleMotion()},p.default.prototype._ondevicemotion=function(I){this._updatePAccelerations(),this._setProperty("accelerationX",2*I.acceleration.x),this._setProperty("accelerationY",2*I.acceleration.y),this._setProperty("accelerationZ",2*I.acceleration.z),this._handleMotion()},p.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var I,O,R,D,N,U=this._isGlobal?window:this;typeof U.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>C||Math.abs(this.accelerationY-this.pAccelerationY)>C||Math.abs(this.accelerationZ-this.pAccelerationZ)>C)&&U.deviceMoved(),typeof U.deviceTurned=="function"&&(O=this.rotationX+180,I=this.pRotationX+180,R=A+180,0<O-I&&O-I<270||O-I<-270?S="clockwise":(O-I<0||270<O-I)&&(S="counter-clockwise"),S!==this.pRotateDirectionX&&(R=O),90<Math.abs(O-R)&&Math.abs(O-R)<270&&(R=O,this._setProperty("turnAxis","X"),U.deviceTurned()),this.pRotateDirectionX=S,A=R-180,I=this.rotationY+180,O=this.pRotationY+180,R=b+180,0<I-O&&I-O<270||I-O<-270?T="clockwise":(I-O<0||270<I-this.pRotationY)&&(T="counter-clockwise"),T!==this.pRotateDirectionY&&(R=I),90<Math.abs(I-R)&&Math.abs(I-R)<270&&(R=I,this._setProperty("turnAxis","Y"),U.deviceTurned()),this.pRotateDirectionY=T,b=R-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?P="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(P="counter-clockwise"),P!==this.pRotateDirectionZ&&(k=this.rotationZ),90<Math.abs(this.rotationZ-k)&&Math.abs(this.rotationZ-k)<270&&(k=this.rotationZ,this._setProperty("turnAxis","Z"),U.deviceTurned()),this.pRotateDirectionZ=P,this._setProperty("turnAxis",void 0)),typeof U.deviceShaken=="function"&&(this.pAccelerationX!==null&&(D=Math.abs(this.accelerationX-this.pAccelerationX),N=Math.abs(this.accelerationY-this.pAccelerationY)),M<D+N&&U.deviceShaken())},p.default);y.default=j},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],293:[function(c,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};m.default.prototype.isKeyPressed=!1,m.default.prototype.keyIsPressed=!1,m.default.prototype.key="",m.default.prototype.keyCode=0,m.default.prototype._onkeydown=function(_){var p;this._downKeys[_.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",_.which),this._downKeys[_.which]=!0,this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),typeof(p=this._isGlobal?window:this).keyPressed!="function"||_.charCode||p.keyPressed(_)===!1&&_.preventDefault())},m.default.prototype._onkeyup=function(_){this._downKeys[_.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),this._setProperty("keyCode",_.which);var p=this._isGlobal?window:this;typeof p.keyReleased=="function"&&p.keyReleased(_)===!1&&_.preventDefault()},m.default.prototype._onkeypress=function(_){var p;_.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",_.which),this._setProperty("key",_.key||String.fromCharCode(_.which)||_.which),typeof(p=this._isGlobal?window:this).keyTyped=="function"&&p.keyTyped(_)===!1&&_.preventDefault())},m.default.prototype._onblur=function(_){this._downKeys={}},m.default.prototype.keyIsDown=function(_){return m.default._validateParameters("keyIsDown",arguments),this._downKeys[_]||!1},m.default.prototype._areDownKeys=function(){for(var _ in this._downKeys)if(this._downKeys.hasOwnProperty(_)&&this._downKeys[_]===!0)return!0;return!1},c=m.default,y.default=c},{"../core/main":275}],294:[function(c,g,y){function m(A){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(A)}function _(A){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(b){return m(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":m(b)})(A)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(p=c("../core/main"))&&p.__esModule?p:{default:p},x=function(A){if(A&&A.__esModule)return A;if(A===null||_(A)!=="object"&&typeof A!="function")return{default:A};var b=E();if(b&&b.has(A))return b.get(A);var k,S={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in A){var P;Object.prototype.hasOwnProperty.call(A,k)&&((P=T?Object.getOwnPropertyDescriptor(A,k):null)&&(P.get||P.set)?Object.defineProperty(S,k,P):S[k]=A[k])}return S.default=A,b&&b.set(A,S),S}(c("../core/constants"));function E(){var A;return typeof WeakMap!="function"?null:(A=new WeakMap,E=function(){return A},A)}p.default.prototype.movedX=0,p.default.prototype.movedY=0,p.default.prototype._hasMouseInteracted=!1,p.default.prototype.mouseX=0,p.default.prototype.mouseY=0,p.default.prototype.pmouseX=0,p.default.prototype.pmouseY=0,p.default.prototype.winMouseX=0,p.default.prototype.winMouseY=0,p.default.prototype.pwinMouseX=0,p.default.prototype.pwinMouseY=0,p.default.prototype.mouseButton=0,p.default.prototype.mouseIsPressed=!1,p.default.prototype._updateNextMouseCoords=function(A){var b,k,S,T,P;this._curElement!==null&&(!A.touches||0<A.touches.length)&&(b=this._curElement.elt,k=this.width,S=this.height,(T=A)&&!T.clientX&&(T.touches?T=T.touches[0]:T.changedTouches&&(T=T.changedTouches[0])),P=b.getBoundingClientRect(),k=b.scrollWidth/k||1,b=b.scrollHeight/S||1,S={x:(T.clientX-P.left)/k,y:(T.clientY-P.top)/b,winX:T.clientX,winY:T.clientY,id:T.identifier},this._setProperty("movedX",A.movementX),this._setProperty("movedY",A.movementY),this._setProperty("mouseX",S.x),this._setProperty("mouseY",S.y),this._setProperty("winMouseX",S.winX),this._setProperty("winMouseY",S.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},p.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},p.default.prototype._setMouseButton=function(A){A.button===1?this._setProperty("mouseButton",x.CENTER):A.button===2?this._setProperty("mouseButton",x.RIGHT):this._setProperty("mouseButton",x.LEFT)},p.default.prototype._onmousemove=function(A){var b=this._isGlobal?window:this;this._updateNextMouseCoords(A),this.mouseIsPressed?typeof b.mouseDragged=="function"?b.mouseDragged(A)===!1&&A.preventDefault():typeof b.touchMoved=="function"&&b.touchMoved(A)===!1&&A.preventDefault():typeof b.mouseMoved=="function"&&b.mouseMoved(A)===!1&&A.preventDefault()},p.default.prototype._onmousedown=function(A){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(A),this._updateNextMouseCoords(A),typeof b.mousePressed=="function"?b.mousePressed(A)===!1&&A.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof b.touchStarted=="function"&&b.touchStarted(A)===!1&&A.preventDefault()},p.default.prototype._onmouseup=function(A){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof b.mouseReleased=="function"?b.mouseReleased(A)===!1&&A.preventDefault():typeof b.touchEnded=="function"&&b.touchEnded(A)===!1&&A.preventDefault()},p.default.prototype._ondragend=p.default.prototype._onmouseup,p.default.prototype._ondragover=p.default.prototype._onmousemove,p.default.prototype._onclick=function(A){var b=this._isGlobal?window:this;typeof b.mouseClicked=="function"&&b.mouseClicked(A)===!1&&A.preventDefault()},p.default.prototype._ondblclick=function(A){var b=this._isGlobal?window:this;typeof b.doubleClicked=="function"&&b.doubleClicked(A)===!1&&A.preventDefault()},p.default.prototype._mouseWheelDeltaY=0,p.default.prototype._pmouseWheelDeltaY=0,p.default.prototype._onwheel=function(A){var b=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",A.deltaY),typeof b.mouseWheel=="function"&&(A.delta=A.deltaY,b.mouseWheel(A)===!1&&A.preventDefault())},p.default.prototype.requestPointerLock=function(){var A=this._curElement.elt;return A.requestPointerLock=A.requestPointerLock||A.mozRequestPointerLock,A.requestPointerLock?(A.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},p.default.prototype.exitPointerLock=function(){document.exitPointerLock()},c=p.default,y.default=c},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],295:[function(c,g,y){c("core-js/modules/es.array.includes"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype.touches=[],c.default.prototype._updateTouchCoords=function(m){if(this._curElement!==null){for(var _=[],p=0;p<m.touches.length;p++)_[p]=function(P,T,C,b){var k=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,S=P.getBoundingClientRect(),T=P.scrollWidth/T||1,P=P.scrollHeight/C||1,C=b.touches[k]||b.changedTouches[k];return{x:(C.clientX-S.left)/T,y:(C.clientY-S.top)/P,winX:C.clientX,winY:C.clientY,id:C.identifier}}(this._curElement.elt,this.width,this.height,m,p);this._setProperty("touches",_)}},c.default.prototype._ontouchstart=function(m){var _=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(m),this._updateNextMouseCoords(m),this._updateMouseCoords(),typeof _.touchStarted=="function"?_.touchStarted(m)===!1&&m.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof _.mousePressed=="function"&&_.mousePressed(m)===!1&&m.preventDefault()},c.default.prototype._ontouchmove=function(m){var _=this._isGlobal?window:this;this._updateTouchCoords(m),this._updateNextMouseCoords(m),typeof _.touchMoved=="function"?_.touchMoved(m)===!1&&m.preventDefault():typeof _.mouseDragged=="function"&&_.mouseDragged(m)===!1&&m.preventDefault()},c.default.prototype._ontouchend=function(m){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(m),this._updateNextMouseCoords(m);var _=this._isGlobal?window:this;typeof _.touchEnded=="function"?_.touchEnded(m)===!1&&m.preventDefault():typeof _.mouseReleased=="function"&&_.mouseReleased(m)===!1&&m.preventDefault()},c=c.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.string.includes":191}],296:[function(c,g,y){c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.int32-array"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.int32-array"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m,_,p,x,E={_toPixels:function(A){var b,k;return A instanceof ImageData?A.data:A.getContext("2d")?A.getContext("2d").getImageData(0,0,A.width,A.height).data:A.getContext("webgl")?(k=(b=A.getContext("webgl")).drawingBufferWidth*b.drawingBufferHeight*4,k=new Uint8Array(k),b.readPixels(0,0,A.width,A.height,b.RGBA,b.UNSIGNED_BYTE,k),k):void 0},_getARGB:function(A,b){return b*=4,A[3+b]<<24&4278190080|A[b]<<16&16711680|A[1+b]<<8&65280|255&A[2+b]},_setPixels:function(A,b){for(var k,S=0,T=A.length;S<T;S++)A[0+(k=4*S)]=(16711680&b[S])>>>16,A[1+k]=(65280&b[S])>>>8,A[2+k]=255&b[S],A[3+k]=(4278190080&b[S])>>>24},_toImageData:function(A){return A instanceof ImageData?A:A.getContext("2d").getImageData(0,0,A.width,A.height)},_createImageData:function(A,b){return E._tmpCanvas=document.createElement("canvas"),E._tmpCtx=E._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(A,b)},apply:function(A,P,k){var S=A.getContext("2d"),T=S.getImageData(0,0,A.width,A.height),P=P(T,k);P instanceof ImageData?S.putImageData(P,0,0,0,0,A.width,A.height):S.putImageData(T,0,0,0,0,A.width,A.height)},threshold:function(A,b){for(var k=E._toPixels(A),S=(b===void 0&&(b=.5),Math.floor(255*b)),T=0;T<k.length;T+=4){var P=void 0,P=S<=.2126*k[T]+.7152*k[T+1]+.0722*k[T+2]?255:0;k[T]=k[T+1]=k[T+2]=P}},gray:function(A){for(var b=E._toPixels(A),k=0;k<b.length;k+=4){var S=b[k],T=b[k+1],P=b[k+2];b[k]=b[k+1]=b[k+2]=.2126*S+.7152*T+.0722*P}},opaque:function(A){for(var b=E._toPixels(A),k=0;k<b.length;k+=4)b[k+3]=255;return b},invert:function(A){for(var b=E._toPixels(A),k=0;k<b.length;k+=4)b[k]=255-b[k],b[k+1]=255-b[k+1],b[k+2]=255-b[k+2]},posterize:function(A,b){var k=E._toPixels(A);if((b=b===void 0?4:b)<2||255<b)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var S=b-1,T=0;T<k.length;T+=4){var P=k[T],C=k[T+1],M=k[T+2];k[T]=255*(P*b>>8)/S,k[T+1]=255*(C*b>>8)/S,k[T+2]=255*(M*b>>8)/S}},dilate:function(A){for(var b,k,S,T,P,C,M,j,I,O=E._toPixels(A),R=0,D=O.length?O.length/4:0,N=new Int32Array(D);R<D;)for(k=(b=R)+A.width;R<k;)T=S=E._getARGB(O,R),(I=R-1)<b&&(I=R),k<=(j=R+1)&&(j=R),(P=R-A.width)<0&&(P=0),D<=(C=R+A.width)&&(C=R),P=E._getARGB(O,P),I=E._getARGB(O,I),C=E._getARGB(O,C),(T=77*(T>>16&255)+151*(T>>8&255)+28*(255&T))<(M=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))&&(S=I,T=M),T<(M=77*((I=E._getARGB(O,j))>>16&255)+151*(I>>8&255)+28*(255&I))&&(S=I,T=M),T<(j=77*(P>>16&255)+151*(P>>8&255)+28*(255&P))&&(S=P,T=j),T<(I=77*(C>>16&255)+151*(C>>8&255)+28*(255&C))&&(S=C,T=I),N[R++]=S;E._setPixels(O,N)},erode:function(A){for(var b,k,S,T,P,C,M,j,I,O=E._toPixels(A),R=0,D=O.length?O.length/4:0,N=new Int32Array(D);R<D;)for(k=(b=R)+A.width;R<k;)T=S=E._getARGB(O,R),(I=R-1)<b&&(I=R),k<=(j=R+1)&&(j=R),(P=R-A.width)<0&&(P=0),D<=(C=R+A.width)&&(C=R),P=E._getARGB(O,P),I=E._getARGB(O,I),C=E._getARGB(O,C),(M=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))<(T=77*(T>>16&255)+151*(T>>8&255)+28*(255&T))&&(S=I,T=M),(M=77*((I=E._getARGB(O,j))>>16&255)+151*(I>>8&255)+28*(255&I))<T&&(S=I,T=M),(j=77*(P>>16&255)+151*(P>>8&255)+28*(255&P))<T&&(S=P,T=j),(I=77*(C>>16&255)+151*(C>>8&255)+28*(255&C))<T&&(S=C,T=I),N[R++]=S;E._setPixels(O,N)},blur:function(A,b){for(var k,S,T,P,C,M,j,I,O,R,D=E._toPixels(A),N=A.width,U=A.height,X=N*U,V=new Int32Array(X),K=0;K<X;K++)V[K]=E._getARGB(D,K);var W,Q,L,G,J,B,Y,ie,ne=new Int32Array(X),Z=new Int32Array(X),H=new Int32Array(X),z=new Int32Array(X),ee=0,se=3.5*b|0;if(m!==(se=se<1?1:se<248?se:248)){_=1+(m=se)<<1,p=new Int32Array(_),x=new Array(_);for(var le=0;le<_;le++)x[le]=new Int32Array(256);for(var ue=1,_e=se-1;ue<se;ue++){p[se+ue]=p[_e]=B=_e*_e,Y=x[se+ue],ie=x[_e--];for(var Te=0;Te<256;Te++)Y[Te]=ie[Te]=B*Te}J=p[se]=se*se,Y=x[se];for(var me=0;me<256;me++)Y[me]=J*me}for(Q=0;Q<U;Q++){for(W=0;W<N;W++){if(P=T=S=C=k=0,(M=W-m)<0)R=-M,M=0;else{if(N<=M)break;R=0}for(L=R;L<_&&!(N<=M);L++){var Se=V[M+ee];G=x[L],C+=G[(-16777216&Se)>>>24],S+=G[(16711680&Se)>>16],T+=G[(65280&Se)>>8],P+=G[255&Se],k+=p[L],M++}ne[j=ee+W]=C/k,Z[j]=S/k,H[j]=T/k,z[j]=P/k}ee+=N}for(O=(I=-m)*N,Q=ee=0;Q<U;Q++){for(W=0;W<N;W++){if(P=T=S=C=k=0,I<0)R=j=-I,M=W;else{if(U<=I)break;R=0,j=I,M=W+O}for(L=R;L<_&&!(U<=j);L++)G=x[L],C+=G[ne[M]],S+=G[Z[M]],T+=G[H[M]],P+=G[z[M]],k+=p[L],j++,M+=N;V[W+ee]=C/k<<24|S/k<<16|T/k<<8|P/k}ee+=N,O+=N,I++}E._setPixels(D,V)}};y.default=E},{"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int32-array":217,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234}],297:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=p(c("../core/main")),_=p(c("omggif"));function p(E){return E&&E.__esModule?E:{default:E}}function x(E){return function(A){if(Array.isArray(A)){for(var b=0,k=new Array(A.length);b<A.length;b++)k[b]=A[b];return k}}(E)||function(A){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]")return Array.from(A)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}m.default.prototype.createImage=function(E,A){return m.default._validateParameters("createImage",arguments),new m.default.Image(E,A)},m.default.prototype.saveCanvas=function(){m.default._validateParameters("saveCanvas",arguments);var E,A,b,k,S,T,P=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(E=arguments[0],P.shift()):arguments[0]instanceof m.default.Element?(E=arguments[0].elt,P.shift()):arguments[0]instanceof m.default.Framebuffer?((S=this.createGraphics((k=arguments[0]).width,k.height)).pixelDensity(pixelDensity()),k.loadPixels(),S.loadPixels(),S.pixels.set(k.pixels),S.updatePixels(),E=S.elt,P.shift()):E=this._curElement&&this._curElement.elt,1<=P.length&&(A=P[0]),b=(b=2<=P.length?P[1]:b)||m.default.prototype._checkFileExtension(A,b)[1]||"png"){default:T="image/png";break;case"jpeg":case"jpg":T="image/jpeg"}E.toBlob(function(C){m.default.prototype.downloadFile(C,A,b),S&&S.remove()},T)},m.default.prototype.encodeAndDownloadGif=function(E,A){for(var b=E.gifProperties,k=b.loopLimit,S=(k===1?k=null:k===null&&(k=0),new Uint8Array(E.width*E.height*b.numFrames)),T=[],P={},C=0;C<b.numFrames;C++){for(var M=new Set,j=b.frames[C].image.data,I=j.length,O=new Uint32Array(E.width*E.height),R=0,D=0;R<I;R+=4,D++){var N=j[R+0]<<16|j[R+1]<<8|j[R+2]<<0;M.add(N),O[D]=N}var U=x(M).sort().toString();P[U]===void 0?P[U]={freq:1,frames:[C]}:(P[U].freq+=1,P[U].frames.push(C)),T.push(O)}for(var K=[],X=Object.keys(P).sort(function(H,z){return P[z].freq-P[H].freq}),V=X[0].split(",").map(function(H){return parseInt(H)}),K=K.concat(P[V].frames),W=new Set(V),Q=1;Q<X.length;Q++){var L=X[Q].split(",").map(function(H){return parseInt(H)}).filter(function(H){return!W.has(H)});if(V.length+L.length<=256){for(var G=0;G<L.length;G++)V.push(L[G]),W.add(L[G]);K=K.concat(P[X[Q]].frames)}}K=new Set(K);for(var J={},B=0;B<V.length;B++)J[V[B]]||(J[V[B]]=B);for(var Y=1;Y<V.length;)Y<<=1;V.length=Y;for(var k={loop:k,palette:new Uint32Array(V)},ie=new _.default.GifWriter(S,E.width,E.height,k),ne={},Z=0;Z<b.numFrames;Z++)(function(z){var ee=!K.has(z),se=ee?[]:V,le=new Uint8Array(E.width*E.height),ue={},_e=new Set,Te=(T[z].forEach(function(ye,Ae){ee?(ue[ye]===void 0&&(ue[ye]=se.length,se.push(ye)),le[Ae]=ue[ye]):le[Ae]=J[ye],0<z&&T[z-1][Ae]!==ye&&_e.add(ye)}),{}),me=se.filter(function(ye){return!_e.has(ye)});if(0<me.length){var me=me[0],Se=(ee?ue:J)[me];if(0<z){for(var ve=0;ve<T[z].length;ve++)T[z-1][ve]===T[z][ve]&&(le[ve]=Se);Te.transparent=Se,ne.frameOpts.disposal=1}}if(Te.delay=b.frames[z].delay/10,ee){for(var fe=1;fe<se.length;)fe<<=1;se.length=fe,Te.palette=new Uint32Array(se)}0<z&&ie.addFrame(0,0,E.width,E.height,ne.pixelPaletteIndex,ne.frameOpts),ne={pixelPaletteIndex:le,frameOpts:Te}})(Z);ne.frameOpts.disposal=1,ie.addFrame(0,0,E.width,E.height,ne.pixelPaletteIndex,ne.frameOpts),k=new Blob([S.slice(0,ie.end())],{type:"image/gif"}),m.default.prototype.downloadFile(k,A,"gif")},m.default.prototype.saveFrames=function(E,A,b,T,S){m.default._validateParameters("saveFrames",arguments),b=m.default.prototype.constrain(b=b||3,0,15),b*=1e3;var T=m.default.prototype.constrain(T||15,0,22),P=0,C=m.default.prototype._makeFrame,M=this._curElement.elt,j=[],I=setInterval(function(){j.push(C(E+P,A,M)),P++},1e3/T);setTimeout(function(){if(clearInterval(I),S)S(j);else for(var O=0,R=j;O<R.length;O++){var D=R[O];m.default.prototype.downloadFile(D.imageData,D.filename,D.ext)}j=[]},.01+b)},m.default.prototype._makeFrame=function(E,A,S){var k,S=this?this._curElement.elt:S;if(A)switch(A.toLowerCase()){case"png":k="image/png";break;case"jpeg":case"jpg":k="image/jpeg";break;default:k="image/png"}else A="png",k="image/png";var S=(S=S.toDataURL(k)).replace(k,"image/octet-stream"),T={};return T.imageData=S,T.filename=E,T.ext=A,T},c=m.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,omggif:248}],298:[function(c,g,y){function m(M){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(M)}function _(M){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(j){return m(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":m(j)})(M)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.copy-within"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint8-clamped-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.copy-within"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint8-clamped-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c("regenerator-runtime/runtime");var p=S(c("../core/main")),x=S(c("../core/helpers")),E=function(M){if(M&&M.__esModule)return M;if(M===null||_(M)!=="object"&&typeof M!="function")return{default:M};var j=k();if(j&&j.has(M))return j.get(M);var I,O={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in M){var D;Object.prototype.hasOwnProperty.call(M,I)&&((D=R?Object.getOwnPropertyDescriptor(M,I):null)&&(D.get||D.set)?Object.defineProperty(O,I,D):O[I]=M[I])}return O.default=M,j&&j.set(M,O),O}(c("../core/constants")),A=S(c("omggif")),b=c("gifenc");function k(){var M;return typeof WeakMap!="function"?null:(M=new WeakMap,k=function(){return M},M)}function S(M){return M&&M.__esModule?M:{default:M}}function T(M,j,I,O,R,D,N){try{var U=M[D](N),X=U.value}catch(V){return void I(V)}U.done?j(X):Promise.resolve(X).then(O,R)}function P(M,j,I,O,R,D,N,U,X,V,K){var W,Q,L,G,J,B,Y,ie,ne;return M===E.COVER&&(W=j,L=I,Y=D,ie=N,B=U,ne=X,Q=V,G=K,J=Math.max(Y/Q,ie/G),Y/=J,ie/=J,J=B,B=ne,W===E.CENTER?J+=(Q-Y)/2:W===E.RIGHT&&(J+=Q-Y),L===E.CENTER?B+=(G-ie)/2:L===E.BOTTOM&&(B+=G-ie),U=(ne={x:J,y:B,w:Y,h:ie}).x,X=ne.y,V=ne.w,K=ne.h),M===E.CONTAIN&&(W=j,Q=I,L=O,G=R,J=D,B=N,Y=V,ie=K,ne=Math.max(Y/J,ie/B),Y/=ne,ie/=ne,ne=L,L=G,W===E.CENTER?ne+=(J-Y)/2:W===E.RIGHT&&(ne+=J-Y),Q===E.CENTER?L+=(B-ie)/2:Q===E.BOTTOM&&(L+=B-ie),O=(M={x:ne,y:L,w:Y,h:ie}).x,R=M.y,D=M.w,N=M.h),{sx:U,sy:X,sw:V,sh:K,dx:O,dy:R,dw:D,dh:N}}function C(M,j){return 0<M&&M<j?M:j}c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),p.default.prototype.loadImage=function(M,j,I){p.default._validateParameters("loadImage",arguments);var O=new p.default.Image(1,1,this),R=this,D=new Request(M,{method:"GET",mode:"cors"});return fetch(M,D).then(function(N){var U,X=N.headers.get("content-type");X===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),X&&X.includes("image/gif")?N.arrayBuffer().then(function(V){if(V){for(var V=new Uint8Array(V),K=O,W=j,Q=I,L=(function(ee){R._decrementPreload()}).bind(R),G=new A.default.GifReader(V),J=(K.width=K.canvas.width=G.width,K.height=K.canvas.height=G.height,[]),B=G.numFrames(),Y=new Uint8ClampedArray(K.width*K.height*4),ie=0;ie<B;ie++){var ne=G.frameInfo(ie),Z=K.drawingContext.getImageData(0,0,K.width,K.height),H=(Y=Z.data.slice(),function(ee,se){try{se.decodeAndBlitFrameRGBA(ee,Y)}catch(le){p.default._friendlyFileLoadError(8,K.src),typeof Q=="function"?Q(le):console.error(le)}}(ie,G),new ImageData(Y,K.width,K.height)),H=(K.drawingContext.putImageData(H,0,0),ne.delay);H===0&&(H=10),J.push({image:K.drawingContext.getImageData(0,0,K.width,K.height),delay:10*H}),ne.disposal===2?K.drawingContext.clearRect(ne.x,ne.y,ne.width,ne.height):ne.disposal===3&&K.drawingContext.putImageData(Z,0,0,ne.x,ne.y,ne.width,ne.height)}(V=G.loopCount())===null?V=1:V===0&&(V=null),K.drawingContext.putImageData(J[0].image,0,0),1<J.length&&(K.gifProperties={displayIndex:0,loopLimit:V,loopCount:0,frames:J,numFrames:B,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof W=="function"&&W(K),L()}},function(V){typeof I=="function"?(I(V),R._decrementPreload()):console.error(V)}):((U=new Image).onload=function(){O.width=O.canvas.width=U.width,O.height=O.canvas.height=U.height,O.drawingContext.drawImage(U,0,0),O.modified=!0,typeof j=="function"&&j(O),R._decrementPreload()},U.onerror=function(V){p.default._friendlyFileLoadError(0,U.src),typeof I=="function"?(I(V),R._decrementPreload()):console.error(V)},M.indexOf("data:image/")!==0&&(U.crossOrigin="Anonymous"),U.src=M),O.modified=!0}).catch(function(N){p.default._friendlyFileLoadError(0,M),typeof I=="function"?(I(N),R._decrementPreload()):console.error(N)}),O},p.default.prototype.saveGif=function(){M=regeneratorRuntime.mark(function I(O,R){var D,N,U,X,V,K,W,Q,L,G,J,B,Y,ie,ne,Z,H,z,ee,se,le,ue,_e,Te,me,Se,ve=arguments;return regeneratorRuntime.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(D=2<ve.length&&ve[2]!==void 0?ve[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof O!="string")throw TypeError("fileName parameter must be a string");fe.next=3;break;case 3:if(typeof R!="number")throw TypeError("Duration parameter must be a number");fe.next=5;break;case 5:if(N=D&&D.delay||0,U=D&&D.units||"seconds",X=D&&D.silent||!1,V=D&&D.notificationDuration||0,K=D&&D.notificationID||"progressBar",typeof N!="number")throw TypeError("Delay parameter must be a number");fe.next=12;break;case 12:if(U!=="seconds"&&U!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');fe.next=14;break;case 14:if(typeof X!="boolean")throw TypeError("Silent parameter must be a boolean");fe.next=16;break;case 16:if(typeof V!="number")throw TypeError("Notification duration parameter must be a number");fe.next=18;break;case 18:if(typeof K!="string")throw TypeError("Notification ID parameter must be a string");fe.next=20;break;case 20:return this._recording=!0,G=this._targetFrameRate,W=(W=1/(G=G!==1/0&&G!==void 0&&G!==0?G:60)*1e3)<20?20:W,L=(Q=U==="seconds"?R*G:R)+(G=U==="seconds"?N*G:N),G=G,this.frameCount=G,J=this._pixelDensity,this.pixelDensity(1),B=[],document.getElementById(K)!==null&&document.getElementById(K).remove(),X||((Y=this.createP("")).id(K),Y.style("font-size","16px"),Y.style("font-family","Montserrat"),Y.style("background-color","#ffffffa0"),Y.style("padding","8px"),Y.style("border-radius","10px"),Y.position(0,0)),this._renderer instanceof p.default.RendererGL&&(ne=this.drawingContext,ie=new Uint8Array(ne.drawingBufferWidth*ne.drawingBufferHeight*4)),this.noLoop(),fe.next=39,Promise.resolve();case 39:if(G<L)return this.redraw(),Te=void 0,Te=this._renderer instanceof p.default.RendererGL?(ie=new Uint8Array(ne.drawingBufferWidth*ne.drawingBufferHeight*4),ne.readPixels(0,0,ne.drawingBufferWidth,ne.drawingBufferHeight,ne.RGBA,ne.UNSIGNED_BYTE,ie),function(ye){for(var Ae=parseInt(height/2),Ne=4*width,re=new Uint8Array(4*width),ae=0;ae<Ae;++ae){var ce=ae*Ne,Ee=(height-ae-1)*Ne;re.set(ye.subarray(ce,ce+Ne)),ye.copyWithin(ce,Ee,Ee+Ne),ye.set(re,Ee)}return ye}(ie)):this.drawingContext.getImageData(0,0,this.width,this.height).data,B.push(Te),G++,X||Y.html("Saved frame <b>"+B.length.toString()+"</b> out of "+Q.toString()),fe.next=48,new Promise(function(ye){return setTimeout(ye,0)});fe.next=50;break;case 48:fe.next=39;break;case 50:X||Y.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(J),Z=(0,b.GIFEncoder)(),H=function(ye){for(var Ae=new Uint8Array(ye.length*ye[0].length),Ne=0;Ne<ye.length;Ne++)Ae.set(ye[Ne],Ne*ye[0].length);var re=(0,b.quantize)(Ae,256,{format:"rgba4444",oneBitAlpha:!0});return re.length===256?re[re.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:re.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),re}(B),z={},ee=function(ye){for(var Ae=ye.length/4,Ne=new Uint8Array(Ae),re=0;re<Ae;re++){var ae=ye[4*re]<<24|ye[4*re+1]<<16|ye[4*re+2]<<8|ye[4*re+3];z[ae]===void 0&&(z[ae]=(0,b.nearestColorIndex)(H,ye.slice(4*re,4*(re+1)))),Ne[re]=z[ae]}return Ne},se=H.length-1,le=[],ue=0;case 60:if(!(ue<B.length)){fe.next=71;break}if(_e=ee(B[ue]),Te=_e.slice(),ue===0)Z.writeFrame(_e,this.width,this.height,{palette:H,delay:W,dispose:1});else{for(me=0;me<_e.length;me++)_e[me]===le[me]&&(_e[me]=se);Z.writeFrame(_e,this.width,this.height,{delay:W,transparent:!0,transparentIndex:se,dispose:1})}return le=Te,X||Y.html("Rendered frame <b>"+ue.toString()+"</b> out of "+Q.toString()),fe.next=68,new Promise(function(ye){return setTimeout(ye,0)});case 68:ue++,fe.next=60;break;case 71:Z.finish(),Se=Z.bytesView(),Se=new Blob([Se],{type:"image/gif"}),B=[],this._recording=!1,this.loop(),X||(Y.html("Done. Downloading your gif!"),0<V&&setTimeout(function(){return Y.remove()},1e3*V)),p.default.prototype.downloadFile(Se,O,"gif");case 80:case"end":return fe.stop()}},I,this)});var M,j=function(){var I=this,O=arguments;return new Promise(function(R,D){var N=M.apply(I,O);function U(V){T(N,R,D,U,X,"next",V)}function X(V){T(N,R,D,U,X,"throw",V)}U(void 0)})};return function(I,O){return j.apply(this,arguments)}}(),p.default.prototype.image=function(M,j,I,O,G,J,B,Y,ne,V,K,W){p.default._validateParameters("image",arguments);var ie=M.width,Q=M.height,L=(W=W||E.CENTER,K=K||E.CENTER,M.elt&&(ie=ie!==void 0?ie:M.elt.width,Q=Q!==void 0?Q:M.elt.height),M.elt&&M.elt.videoWidth&&!M.canvas&&(ie=ie!==void 0?ie:M.elt.videoWidth,Q=Q!==void 0?Q:M.elt.videoHeight),O||ie),G=G||Q,J=J||0,B=B||0,Y=C(Y!==void 0?Y:ie,ie),ie=C(ne!==void 0?ne:Q,Q),ne=1;M.elt&&!M.canvas&&M.elt.style.width&&(ne=M.elt.videoWidth&&!O?M.elt.videoWidth:M.elt.width,ne/=parseInt(M.elt.style.width,10)),J*=ne,B*=ne,ie*=ne,Y*=ne,Q=P(V,K,W,(Q=x.default.modeAdjust(j,I,L,G,this._renderer._imageMode)).x,Q.y,Q.w,Q.h,J,B,Y,ie),this._renderer.image(M,Q.sx,Q.sy,Q.sw,Q.sh,Q.dx,Q.dy,Q.dw,Q.dh)},p.default.prototype.tint=function(){for(var M=arguments.length,j=new Array(M),I=0;I<M;I++)j[I]=arguments[I];p.default._validateParameters("tint",j);var O=this.color.apply(this,j);this._renderer._tint=O.levels},p.default.prototype.noTint=function(){this._renderer._tint=null},p.default.prototype._getTintedImageCanvas=p.default.Renderer2D.prototype._getTintedImageCanvas,p.default.prototype.imageMode=function(M){p.default._validateParameters("imageMode",arguments),M!==E.CORNER&&M!==E.CORNERS&&M!==E.CENTER||(this._renderer._imageMode=M)},c=p.default,y.default=c},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/helpers":271,"../core/main":275,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,gifenc:245,omggif:248,"regenerator-runtime/runtime":252}],299:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=p(c("../core/main")),_=p(c("./filters"));function p(E){return E&&E.__esModule?E:{default:E}}function x(E,A){for(var b=0;b<A.length;b++){var k=A[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}m.default.Image=function(){function E(k,S){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.width=k,this.height=S,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var A,b;return A=E,(b=[{key:"pixelDensity",value:function(k){return k!==void 0?(k<=0&&(m.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),k=1),this._pixelDensity=k,this.width/=k,this.height/=k,this):this._pixelDensity}},{key:"_animateGif",value:function(P){var S,T=this.gifProperties,P=P._lastRealFrameTime;T.lastChangeTime===0&&(T.lastChangeTime=P),T.playing&&(T.timeDisplayed=P-T.lastChangeTime,S=T.frames[T.displayIndex].delay,T.timeDisplayed>=S&&(S=Math.floor(T.timeDisplayed/S),T.timeDisplayed=0,T.lastChangeTime=P,T.displayIndex+=S,T.loopCount=Math.floor(T.displayIndex/T.numFrames),T.loopLimit!==null&&T.loopCount>=T.loopLimit?T.playing=!1:(P=T.displayIndex%T.numFrames,this.drawingContext.putImageData(T.frames[P].image,0,0),T.displayIndex=P,this.setModified(!0))))}},{key:"_setProperty",value:function(k,S){this[k]=S,this.setModified(!0)}},{key:"loadPixels",value:function(){m.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(k,S,T,P){m.default.Renderer2D.prototype.updatePixels.call(this,k,S,T,P),this.setModified(!0)}},{key:"get",value:function(k,S,T,P){return m.default._validateParameters("p5.Image.get",arguments),m.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var k=arguments.length,S=new Array(k),T=0;T<k;T++)S[T]=arguments[T];return m.default.Renderer2D.prototype._getPixel.apply(this,S)}},{key:"set",value:function(k,S,T){m.default.Renderer2D.prototype.set.call(this,k,S,T),this.setModified(!0)}},{key:"resize",value:function(k,S){k===0&&S===0?(k=this.canvas.width,S=this.canvas.height):k===0?k=this.canvas.width*S/this.canvas.height:S===0&&(S=this.canvas.height*k/this.canvas.width),k=Math.floor(k),S=Math.floor(S);var T=document.createElement("canvas");if(T.width=k,T.height=S,this.gifProperties)for(var P=this.gifProperties,C=0;C<P.numFrames;C++){for(var M=this.drawingContext.createImageData(k,S),j=(N=N=D=R=O=void 0,P.frames[C].image),I=M,O=0,R=0;R<I.height;R++)for(var D=0;D<I.width;D++){var N=Math.floor(D*j.width/I.width),N=4*(Math.floor(R*j.height/I.height)*j.width+N);I.data[O++]=j.data[N++],I.data[O++]=j.data[N++],I.data[O++]=j.data[N++],I.data[O++]=j.data[+N]}P.frames[C].image=M}T.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,T.width,T.height),this.canvas.width=this.width=k,this.canvas.height=this.height=S,this.drawingContext.drawImage(T,0,0,k,S,0,0,k,S),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var k=arguments.length,S=new Array(k),T=0;T<k;T++)S[T]=arguments[T];m.default.prototype.copy.apply(this,S)}},{key:"mask",value:function(k){var S=this.drawingContext.globalCompositeOperation,T=1,P=[k=k===void 0?this:k,0,0,(T=k instanceof m.default.Renderer?k._pInst._pixelDensity:T)*k.width,T*k.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var C=0;C<this.gifProperties.frames.length;C++)this.drawingContext.putImageData(this.gifProperties.frames[C].image,0,0),this.copy.apply(this,P),this.gifProperties.frames[C].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,P);this.drawingContext.globalCompositeOperation=S,this.setModified(!0)}},{key:"filter",value:function(k,S){_.default.apply(this.canvas,_.default[k],S),this.setModified(!0)}},{key:"blend",value:function(){for(var k=arguments.length,S=new Array(k),T=0;T<k;T++)S[T]=arguments[T];m.default._validateParameters("p5.Image.blend",arguments),m.default.prototype.blend.apply(this,S),this.setModified(!0)}},{key:"setModified",value:function(k){this._modified=k}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(k,S){this.gifProperties?m.default.prototype.encodeAndDownloadGif(this,k):m.default.prototype.saveCanvas(this.canvas,k,S)}},{key:"reset",value:function(){var k;this.gifProperties&&((k=this.gifProperties).playing=!0,k.timeSinceStart=0,k.timeDisplayed=0,k.lastChangeTime=0,k.loopCount=0,k.displayIndex=0,this.drawingContext.putImageData(k.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var k;if(this.gifProperties)return(k=this.gifProperties).displayIndex%k.numFrames}},{key:"setFrame",value:function(k){var S;this.gifProperties&&(k<(S=this.gifProperties).numFrames&&0<=k?(S.timeDisplayed=0,S.lastChangeTime=0,S.displayIndex=k,this.drawingContext.putImageData(S.frames[k].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(k,S){if(this.gifProperties){var T=this.gifProperties;if(S<T.numFrames&&0<=S)T.frames[S].delay=k;else{var P=!0,S=!1,C=void 0;try{for(var M,j=T.frames[Symbol.iterator]();!(P=(M=j.next()).done);P=!0)M.value.delay=k}catch(O){S=!0,C=O}finally{try{P||j.return==null||j.return()}finally{if(S)throw C}}}}}}])&&x(A.prototype,b),E}(),c=m.default.Image,y.default=c},{"../core/main":275,"./filters":296,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],300:[function(c,g,y){c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.filter"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=p(c("../core/main")),_=p(c("./filters"));function p(x){return x&&x.__esModule?x:{default:x}}c("../color/p5.Color"),m.default.prototype.pixels=[],m.default.prototype.blend=function(){for(var x,E=arguments.length,A=new Array(E),b=0;b<E;b++)A[b]=arguments[b];m.default._validateParameters("blend",A),this._renderer?(x=this._renderer).blend.apply(x,A):m.default.Renderer2D.prototype.blend.apply(this,A)},m.default.prototype.copy=function(){for(var x,E,A,b,k,S,T,P,C,M=arguments.length,j=new Array(M),I=0;I<M;I++)j[I]=arguments[I];if(m.default._validateParameters("copy",j),j.length===9)x=j[0],E=j[1],A=j[2],b=j[3],k=j[4],S=j[5],T=j[6],P=j[7],C=j[8];else{if(j.length!==8)throw new Error("Signature not supported");x=this,E=j[0],A=j[1],b=j[2],k=j[3],S=j[4],T=j[5],P=j[6],C=j[7]}m.default.prototype._copyHelper(this,x,E,A,b,k,S,T,P,C)},m.default.prototype._copyHelper=function(x,E,A,b,k,S,T,P,C,M){var j=E.canvas.width/E.width,I=0,O=0;E._renderer&&E._renderer.isP3D&&(I=E.width/2,O=E.height/2),x._renderer&&x._renderer.isP3D?m.default.RendererGL.prototype.image.call(x._renderer,E,A+I,b+O,k,S,T,P,C,M):x.drawingContext.drawImage(E.canvas,j*(A+I),j*(b+O),j*k,j*S,T,P,C,M)},m.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},m.default.prototype.filter=function(){for(var x=arguments.length,E=new Array(x),A=0;A<x;A++)E[A]=arguments[A];m.default._validateParameters("filter",arguments);var T=(function(){var P,C={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof m.default.Shader?C.shader=arguments.length<=0?void 0:arguments[0]:(C.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(C.value=arguments.length<=1?void 0:arguments[1]),((P=arguments.length-1)<0||arguments.length<=P?void 0:arguments[P])===!1&&(C.useWebGL=!1)),C}).apply(void 0,E),b=T.shader,k=T.operation,S=T.value,T=T.useWebGL;this._renderer.isP3D&&b?m.default.RendererGL.prototype.filter.call(this._renderer,b):T||this._renderer.isP3D?(!T&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?m.default.RendererGL.prototype.filter.call(this._renderer,k,S):((b=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),b.filter.apply(b,E),this._renderer._pInst.image(b,0,0),b.clear())):this.canvas!==void 0?_.default.apply(this.canvas,_.default[k],S):_.default.apply(this.elt,_.default[k],S)},m.default.prototype.get=function(x,E,A,b){var k;return m.default._validateParameters("get",arguments),(k=this._renderer).get.apply(k,arguments)},m.default.prototype.loadPixels=function(){for(var x=arguments.length,E=new Array(x),A=0;A<x;A++)E[A]=arguments[A];m.default._validateParameters("loadPixels",E),this._renderer.loadPixels()},m.default.prototype.set=function(x,E,A){this._renderer.set(x,E,A)},m.default.prototype.updatePixels=function(x,E,A,b){m.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(x,E,A,b)},c=m.default,y.default=c},{"../color/p5.Color":262,"../core/main":275,"./filters":296,"core-js/modules/es.array.filter":155}],301:[function(c,g,y){function m(S){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(S)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.from-entries"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/web.url"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.from-entries"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _=E(c("../core/main")),p=(c("whatwg-fetch"),c("es6-promise/auto"),E(c("fetch-jsonp"))),x=E(c("file-saver"));function E(S){return S&&S.__esModule?S:{default:S}}function A(S){return(A=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(T){return m(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":m(T)})(S)}function b(S){return S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function k(S,T){T&&T!==!0&&T!=="true"||(T="");var P="";return(S=S||"untitled")&&S.includes(".")&&(P=S.split(".").pop()),T&&P!==T&&(P=T,S="".concat(S,".").concat(P)),[S,P]}c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),_.default.prototype.loadJSON=function(){for(var S=arguments.length,T=new Array(S),P=0;P<S;P++)T[P]=arguments[P];_.default._validateParameters("loadJSON",T);for(var C,M,j,I=T[0],O={},R="json",D=1;D<T.length;D++){var N=T[D];typeof N=="string"?N!=="jsonp"&&N!=="json"||(R=N):typeof N=="function"?C?M=N:C=N:A(N)==="object"&&(N.hasOwnProperty("jsonpCallback")||N.hasOwnProperty("jsonpCallbackFunction"))&&(R="jsonp",j=N)}var U=this;return this.httpDo(I,"GET",j,R,function(X){for(var V in X)O[V]=X[V];C!==void 0&&C(X),U._decrementPreload()},function(X){if(_.default._friendlyFileLoadError(5,I),!M)throw X;M(X)}),O},_.default.prototype.loadStrings=function(){for(var S=arguments.length,T=new Array(S),P=0;P<S;P++)T[P]=arguments[P];_.default._validateParameters("loadStrings",T);for(var C,M,j=[],I=1;I<T.length;I++){var O=T[I];typeof O=="function"&&(C===void 0?C=O:M===void 0&&(M=O))}var R=this;return _.default.prototype.httpDo.call(this,T[0],"GET","text",function(D){for(var N=D.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),U=0,X=N.length;U<X;U+=32768)Array.prototype.push.apply(j,N.slice(U,Math.min(U+32768,X)));C!==void 0&&C(j),R._decrementPreload()},function(D){if(_.default._friendlyFileLoadError(3,D),!M)throw D;M(D)}),j},_.default.prototype.loadTable=function(S){var T,P,C,M=!1,j=S.substring(S.lastIndexOf(".")+1,S.length);j==="csv"?C=",":j==="ssv"?C=";":j==="tsv"&&(C="	");for(var I=1;I<arguments.length;I++)typeof arguments[I]=="function"?T===void 0?T=arguments[I]:P===void 0&&(P=arguments[I]):typeof arguments[I]=="string"&&(arguments[I]==="header"&&(M=!0),arguments[I]==="csv"?C=",":arguments[I]==="ssv"?C=";":arguments[I]==="tsv"&&(C="	"));var O=new _.default.Table,R=this;return this.httpDo(S,"GET","table",function(D){for(var N,U,X={},V=0,K=[],W=0,Q=null,L=function(){X.currentState=V,X.token=""},G=function(){Q.push(X.token),L()},J=function(){X.currentState=4,K.push(Q),Q=null};;){if((N=D[W++])==null){if(X.escaped)throw new Error("Unclosed quote in file.");if(Q){G(),J();break}}if(Q===null&&(X.escaped=!1,Q=[],L()),X.currentState===V){if(N==='"'){X.escaped=!0,X.currentState=1;continue}X.currentState=1}if(X.currentState===1&&X.escaped)if(N==='"')D[W]==='"'?(X.token+='"',W++):(X.escaped=!1,X.currentState=2);else{if(N==="\r")continue;X.token+=N}else N==="\r"?(D[W]===`
`&&W++,G(),J()):N===`
`?(G(),J()):N===C?G():X.currentState===1&&(X.token+=N)}if(M)O.columns=K.shift();else for(var B=0;B<K[0].length;B++)O.columns[B]="null";for(var Y=0;Y<K.length;Y++)(K[Y].length!==1||K[Y][0]!=="undefined"&&K[Y][0]!=="")&&((U=new _.default.TableRow).arr=K[Y],U.obj=function(ie,ne){if((ne=ne||[])===void 0)for(var Z=0;Z<ie.length;Z++)ne[Z.toString()]=Z;return Object.fromEntries(ne.map(function(H,z){return[H,ie[z]]}))}(K[Y],O.columns),O.addRow(U));typeof T=="function"&&T(O),R._decrementPreload()},function(D){_.default._friendlyFileLoadError(2,S),P?P(D):console.error(D)}),O},_.default.prototype.loadXML=function(){for(var S=arguments.length,T=new Array(S),P=0;P<S;P++)T[P]=arguments[P];for(var C,M,j=new _.default.XML,I=1;I<T.length;I++){var O=T[I];typeof O=="function"&&(C===void 0?C=O:M===void 0&&(M=O))}var R=this;return this.httpDo(T[0],"GET","xml",function(D){for(var N in D)j[N]=D[N];C!==void 0&&C(j),R._decrementPreload()},function(D){if(_.default._friendlyFileLoadError(1,D),!M)throw D;M(D)}),j},_.default.prototype.loadBytes=function(S,T,P){var C={},M=this;return this.httpDo(S,"GET","arrayBuffer",function(j){C.bytes=new Uint8Array(j),typeof T=="function"&&T(C),M._decrementPreload()},function(j){if(_.default._friendlyFileLoadError(6,S),!P)throw j;P(j)}),C},_.default.prototype.httpGet=function(){_.default._validateParameters("httpGet",arguments);var S=Array.prototype.slice.call(arguments);return S.splice(1,0,"GET"),_.default.prototype.httpDo.apply(this,S)},_.default.prototype.httpPost=function(){_.default._validateParameters("httpPost",arguments);var S=Array.prototype.slice.call(arguments);return S.splice(1,0,"POST"),_.default.prototype.httpDo.apply(this,S)},_.default.prototype.httpDo=function(){for(var S,T,P,C={},M=0,j="text/plain",I=arguments.length-1;0<I&&typeof(I<0||arguments.length<=I?void 0:arguments[I])=="function";I--)M++;var O=arguments.length-M,R=arguments.length<=0?void 0:arguments[0];if(O==2&&typeof R=="string"&&A(arguments.length<=1?void 0:arguments[1])==="object")K=new Request(R,arguments.length<=1?void 0:arguments[1]),T=arguments.length<=2?void 0:arguments[2],P=arguments.length<=3?void 0:arguments[3];else{for(var D,N="GET",U=1;U<arguments.length;U++){var X=U<0||arguments.length<=U?void 0:arguments[U];if(typeof X=="string")X==="GET"||X==="POST"||X==="PUT"||X==="DELETE"?N=X:X==="json"||X==="jsonp"||X==="binary"||X==="arrayBuffer"||X==="xml"||X==="text"||X==="table"?S=X:D=X;else if(typeof X=="number")D=X.toString();else if(A(X)==="object")if(X.hasOwnProperty("jsonpCallback")||X.hasOwnProperty("jsonpCallbackFunction"))for(var V in X)C[V]=X[V];else j=X instanceof _.default.XML?(D=X.serialize(),"application/xml"):(D=JSON.stringify(X),"application/json");else typeof X=="function"&&(T?P=X:T=X)}var O=N==="GET"?new Headers:new Headers({"Content-Type":j}),K=new Request(R,{method:N,mode:"cors",body:D,headers:O})}return(O=(O=(S=S||(R.includes("json")?"json":R.includes("xml")?"xml":"text"))==="jsonp"?(0,p.default)(R,C):fetch(K)).then(function(W){if(!W.ok)throw(Q=new Error(W.body)).status=W.status,Q.ok=!1,Q;var Q=0;switch((Q=S!=="jsonp"?W.headers.get("content-length"):Q)&&64e6<Q&&_.default._friendlyFileLoadError(7,R),S){case"json":case"jsonp":return W.json();case"binary":return W.blob();case"arrayBuffer":return W.arrayBuffer();case"xml":return W.text().then(function(L){return L=new DOMParser().parseFromString(L,"text/xml"),new _.default.XML(L.documentElement)});default:return W.text()}})).then(T||function(){}),O.catch(P||console.error),O},window.URL=window.URL||window.webkitURL,_.default.prototype._pWriters=[],_.default.prototype.createWriter=function(S,T){var P,C;for(C in _.default.prototype._pWriters)if(_.default.prototype._pWriters[C].name===S)return P=new _.default.PrintWriter(S+this.millis(),T),_.default.prototype._pWriters.push(P),P;return P=new _.default.PrintWriter(S,T),_.default.prototype._pWriters.push(P),P},_.default.PrintWriter=function(S,T){var P=this;this.name=S,this.content="",this.write=function(C){this.content+=C},this.print=function(C){this.content+="".concat(C,`
`)},this.clear=function(){this.content=""},this.close=function(){var C,M=[];for(C in M.push(this.content),_.default.prototype.writeFile(M,S,T),_.default.prototype._pWriters)_.default.prototype._pWriters[C].name===this.name&&_.default.prototype._pWriters.splice(C,1);P.clear(),P={}}},_.default.prototype.save=function(S,T,P){var C=arguments,M=(this._curElement||this).elt;if(C.length===0)_.default.prototype.saveCanvas(M);else if(C[0]instanceof _.default.Renderer||C[0]instanceof _.default.Graphics)_.default.prototype.saveCanvas(C[0].elt,C[1],C[2]);else if(C.length===1&&typeof C[0]=="string")_.default.prototype.saveCanvas(M,C[0]);else switch(k(C[1],C[2])[1]){case"json":return void _.default.prototype.saveJSON(C[0],C[1],C[2]);case"txt":return void _.default.prototype.saveStrings(C[0],C[1],C[2]);default:C[0]instanceof Array?_.default.prototype.saveStrings(C[0],C[1],C[2]):C[0]instanceof _.default.Table?_.default.prototype.saveTable(C[0],C[1],C[2]):C[0]instanceof _.default.Image?_.default.prototype.saveCanvas(C[0].canvas,C[1]):C[0]instanceof _.default.SoundFile&&_.default.prototype.saveSound(C[0],C[1],C[2],C[3])}},_.default.prototype.saveJSON=function(S,T,P){_.default._validateParameters("saveJSON",arguments),P=P?JSON.stringify(S):JSON.stringify(S,void 0,2),this.saveStrings(P.split(`
`),T,"json")},_.default.prototype.saveJSONObject=_.default.prototype.saveJSON,_.default.prototype.saveJSONArray=_.default.prototype.saveJSON,_.default.prototype.saveStrings=function(S,T,P,C){_.default._validateParameters("saveStrings",arguments);for(var M=this.createWriter(T,P||"txt"),j=0;j<S.length;j++)C?M.write(S[j]+`\r
`):M.write(S[j]+`
`);M.close(),M.clear()},_.default.prototype.saveTable=function(S,T,P){_.default._validateParameters("saveTable",arguments),C=P===void 0?T.substring(T.lastIndexOf(".")+1,T.length):P;var C,M=this.createWriter(T,C),j=S.columns,I=C==="tsv"?"	":",";if(C!=="html"){if(j[0]!=="0"){for(var O=0;O<j.length;O++)O<j.length-1?M.write(j[O]+I):M.write(j[O]);M.write(`
`)}for(var R=0;R<S.rows.length;R++){for(var D=void 0,D=0;D<S.rows[R].arr.length;D++)D<S.rows[R].arr.length-1?C==="csv"&&String(S.rows[R].arr[D]).includes(",")?M.write('"'+S.rows[R].arr[D]+'"'+I):M.write(S.rows[R].arr[D]+I):C==="csv"&&String(S.rows[R].arr[D]).includes(",")?M.write('"'+S.rows[R].arr[D]+'"'):M.write(S.rows[R].arr[D]);M.write(`
`)}}else{if(M.print("<html>"),M.print("<head>"),M.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),M.print("</head>"),M.print("<body>"),M.print("  <table>"),j[0]!=="0"){M.print("    <tr>");for(var N=0;N<j.length;N++){var U=b(j[N]);M.print("      <td>".concat(U)),M.print("      </td>")}M.print("    </tr>")}for(var X=0;X<S.rows.length;X++){M.print("    <tr>");for(var V=0;V<S.columns.length;V++){var K=b(S.rows[X].getString(V));M.print("      <td>".concat(K)),M.print("      </td>")}M.print("    </tr>")}M.print("  </table>"),M.print("</body>"),M.print("</html>")}M.close(),M.clear()},_.default.prototype.writeFile=function(M,T,P){var C="application/octet-stream",M=(_.default.prototype._isSafari()&&(C="text/plain"),new Blob(M,{type:C}));_.default.prototype.downloadFile(M,T,P)},_.default.prototype.downloadFile=function(S,M,j){var C,M=k(M,j),j=M[0];S instanceof Blob?x.default.saveAs(S,j):((C=document.createElement("a")).href=S,C.download=j,C.onclick=function(I){document.body.removeChild(I.target),I.stopPropagation()},C.style.display="none",document.body.appendChild(C),_.default.prototype._isSafari()&&(S=(S=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(M[1],'"'),alert(S)),C.click())},_.default.prototype._checkFileExtension=k,_.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},c=_.default,y.default=c},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240,"es6-promise/auto":241,"fetch-jsonp":243,"file-saver":244,"whatwg-fetch":253}],302:[function(c,g,y){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};function _(p,x){for(var E=0;E<x.length;E++){var A=x[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,A.key,A)}}m.default.Table=function(){function p(A){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var x,E;return x=p,(E=[{key:"addRow",value:function(A){if(A=A||new m.default.TableRow,A.arr===void 0||A.obj===void 0)throw new Error("invalid TableRow: ".concat(A));return(A.table=this).rows.push(A),A}},{key:"removeRow",value:function(A){this.rows[A].table=null,A=this.rows.splice(A+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(A)}},{key:"getRow",value:function(A){return this.rows[A]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(A,b){if(typeof b=="string"){for(var k=0;k<this.rows.length;k++)if(this.rows[k].obj[b]===A)return this.rows[k]}else for(var S=0;S<this.rows.length;S++)if(this.rows[S].arr[b]===A)return this.rows[S];return null}},{key:"findRows",value:function(A,b){var k=[];if(typeof b=="string")for(var S=0;S<this.rows.length;S++)this.rows[S].obj[b]===A&&k.push(this.rows[S]);else for(var T=0;T<this.rows.length;T++)this.rows[T].arr[b]===A&&k.push(this.rows[T]);return k}},{key:"matchRow",value:function(A,b){if(typeof b=="number"){for(var k=0;k<this.rows.length;k++)if(this.rows[k].arr[b].match(A))return this.rows[k]}else for(var S=0;S<this.rows.length;S++)if(this.rows[S].obj[b].match(A))return this.rows[S];return null}},{key:"matchRows",value:function(A,b){var k=[];if(typeof b=="number")for(var S=0;S<this.rows.length;S++)this.rows[S].arr[b].match(A)&&k.push(this.rows[S]);else for(var T=0;T<this.rows.length;T++)this.rows[T].obj[b].match(A)&&k.push(this.rows[T]);return k}},{key:"getColumn",value:function(A){var b=[];if(typeof A=="string")for(var k=0;k<this.rows.length;k++)b.push(this.rows[k].obj[A]);else for(var S=0;S<this.rows.length;S++)b.push(this.rows[S].arr[A]);return b}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(A){this.columns.push(A||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(A,b){for(var k=[],S=0;S<A.length;S++)k.push(A.charAt(S).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var T=new RegExp(k.join("|"),"g");if(b===void 0)for(var P=0;P<this.columns.length;P++)for(var C=0;C<this.rows.length;C++){var M=(M=this.rows[C].arr[P]).replace(T,"");this.rows[C].arr[P]=M,this.rows[C].obj[this.columns[P]]=M}else if(typeof b=="string")for(var j=0;j<this.rows.length;j++){var I=(I=this.rows[j].obj[b]).replace(T,""),O=(this.rows[j].obj[b]=I,this.columns.indexOf(b));this.rows[j].arr[O]=I}else for(var R=0;R<this.rows.length;R++){var D=(D=this.rows[R].arr[b]).replace(T,"");this.rows[R].arr[b]=D,this.rows[R].obj[this.columns[b]]=D}}},{key:"trim",value:function(A){var b=new RegExp(" ","g");if(A===void 0)for(var k=0;k<this.columns.length;k++)for(var S=0;S<this.rows.length;S++){var T=(T=this.rows[S].arr[k]).replace(b,"");this.rows[S].arr[k]=T,this.rows[S].obj[this.columns[k]]=T}else if(typeof A=="string")for(var P=0;P<this.rows.length;P++){var C=(C=this.rows[P].obj[A]).replace(b,""),M=(this.rows[P].obj[A]=C,this.columns.indexOf(A));this.rows[P].arr[M]=C}else for(var j=0;j<this.rows.length;j++){var I=(I=this.rows[j].arr[A]).replace(b,"");this.rows[j].arr[A]=I,this.rows[j].obj[this.columns[A]]=I}}},{key:"removeColumn",value:function(S){typeof S=="string"?k=this.columns.indexOf(b=S):b=this.columns[k=S];var b,k,S=this.columns.splice(k+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(S);for(var T=0;T<this.rows.length;T++){var P=this.rows[T].arr,C=P.splice(k+1,P.length);P.pop(),this.rows[T].arr=P.concat(C),delete this.rows[T].obj[b]}}},{key:"set",value:function(A,b,k){this.rows[A].set(b,k)}},{key:"setNum",value:function(A,b,k){this.rows[A].setNum(b,k)}},{key:"setString",value:function(A,b,k){this.rows[A].setString(b,k)}},{key:"get",value:function(A,b){return this.rows[A].get(b)}},{key:"getNum",value:function(A,b){return this.rows[A].getNum(b)}},{key:"getString",value:function(A,b){return this.rows[A].getString(b)}},{key:"getObject",value:function(A){for(var b,k={},S=0;S<this.rows.length;S++)if(b=this.rows[S].obj,typeof A=="string"){if(!(0<=this.columns.indexOf(A)))throw new Error('This table has no column named "'.concat(A,'"'));k[b[A]]=b}else k[S]=this.rows[S].obj;return k}},{key:"getArray",value:function(){for(var A=[],b=0;b<this.rows.length;b++)A.push(this.rows[b].arr);return A}}])&&_(x.prototype,E),p}(),c=m.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.splice":167,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196}],303:[function(c,g,y){c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.from-entries"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.from-entries"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c};function m(_,p){for(var x=0;x<p.length;x++){var E=p[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}c.default.TableRow=function(){function _(E,A){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");var b=[];E&&(b=E.split(A=A||",")),this.arr=b,this.obj=Object.fromEntries(b.entries()),this.table=null}var p,x;return p=_,(x=[{key:"set",value:function(E,A){if(typeof E=="string"){var b=this.table.columns.indexOf(E);if(!(0<=b))throw new Error('This table has no column named "'.concat(E,'"'));this.obj[E]=A,this.arr[b]=A}else{if(!(E<this.table.columns.length))throw new Error("Column #".concat(E," is out of the range of this table"));this.arr[E]=A,b=this.table.columns[E],this.obj[b]=A}}},{key:"setNum",value:function(E,A){A=parseFloat(A),this.set(E,A)}},{key:"setString",value:function(E,A){A=A.toString(),this.set(E,A)}},{key:"get",value:function(E){return(typeof E=="string"?this.obj:this.arr)[E]}},{key:"getNum",value:function(E){var A=parseFloat(typeof E=="string"?this.obj[E]:this.arr[E]);if(A.toString()==="NaN")throw"Error: ".concat(this.obj[E]," is NaN (Not a Number)");return A}},{key:"getString",value:function(E){return(typeof E=="string"?this.obj:this.arr)[E].toString()}}])&&m(p.prototype,x),_}(),c=c.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238}],304:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};function _(x,E){for(var A=0;A<E.length;A++){var b=E[A];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}function p(x){for(var E=[],A=0;A<x.length;A++)E.push(new m.default.XML(x[A]));return E}m.default.XML=function(){function x(b){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");b?this.DOM=b:(b=document.implementation.createDocument(null,"doc"),this.DOM=b.createElement("root"))}var E,A;return E=x,(A=[{key:"getParent",value:function(){return new m.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(b){var k=this.DOM.innerHTML,S=this.DOM.attributes,T=document.implementation.createDocument(null,"default").createElement(b);T.innerHTML=k;for(var P=0;P<S.length;P++)T.setAttribute(S[P].nodeName,S.nodeValue);this.DOM=T}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var b=[],k=0;k<this.DOM.childNodes.length;k++)b.push(this.DOM.childNodes[k].nodeName);return b}},{key:"getChildren",value:function(b){return p(b?this.DOM.getElementsByTagName(b):this.DOM.children)}},{key:"getChild",value:function(b){if(typeof b!="string")return new m.default.XML(this.DOM.children[b]);var k=!0,S=!1,T=void 0;try{for(var P,C=this.DOM.children[Symbol.iterator]();!(k=(P=C.next()).done);k=!0){var M=P.value;if(M.tagName===b)return new m.default.XML(M)}}catch(j){S=!0,T=j}finally{try{k||C.return==null||C.return()}finally{if(S)throw T}}}},{key:"addChild",value:function(b){b instanceof m.default.XML&&this.DOM.appendChild(b.DOM)}},{key:"removeChild",value:function(b){var k=-1;if(typeof b=="string"){for(var S=0;S<this.DOM.children.length;S++)if(this.DOM.children[S].tagName===b){k=S;break}}else k=b;k!==-1&&this.DOM.removeChild(this.DOM.children[k])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var b=[],k=!0,S=!1,T=void 0;try{for(var P,C=this.DOM.attributes[Symbol.iterator]();!(k=(P=C.next()).done);k=!0){var M=P.value;b.push(M.nodeName)}}catch(j){S=!0,T=j}finally{try{k||C.return==null||C.return()}finally{if(S)throw T}}return b}},{key:"hasAttribute",value:function(b){var k={},S=!0,T=!1,P=void 0;try{for(var C,M=this.DOM.attributes[Symbol.iterator]();!(S=(C=M.next()).done);S=!0){var j=C.value;k[j.nodeName]=j.nodeValue}}catch(I){T=!0,P=I}finally{try{S||M.return==null||M.return()}finally{if(T)throw P}}return!!k[b]}},{key:"getNum",value:function(b,k){var S={},T=!0,P=!1,C=void 0;try{for(var M,j=this.DOM.attributes[Symbol.iterator]();!(T=(M=j.next()).done);T=!0){var I=M.value;S[I.nodeName]=I.nodeValue}}catch(O){P=!0,C=O}finally{try{T||j.return==null||j.return()}finally{if(P)throw C}}return Number(S[b])||k||0}},{key:"getString",value:function(b,k){var S={},T=!0,P=!1,C=void 0;try{for(var M,j=this.DOM.attributes[Symbol.iterator]();!(T=(M=j.next()).done);T=!0){var I=M.value;S[I.nodeName]=I.nodeValue}}catch(O){P=!0,C=O}finally{try{T||j.return==null||j.return()}finally{if(P)throw C}}return S[b]?String(S[b]):k||null}},{key:"setAttribute",value:function(b,k){this.DOM.setAttribute(b,k)}},{key:"getContent",value:function(b){var k=this.DOM.textContent;return(k=k.replace(/\s\s+/g,","))||b||null}},{key:"setContent",value:function(b){this.DOM.children.length||(this.DOM.textContent=b)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&_(E.prototype,A),x}(),c=m.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],305:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};m.default.prototype.abs=Math.abs,m.default.prototype.ceil=Math.ceil,m.default.prototype.constrain=function(_,p,x){return m.default._validateParameters("constrain",arguments),Math.max(Math.min(_,x),p)},m.default.prototype.dist=function(){for(var _=arguments.length,p=new Array(_),x=0;x<_;x++)p[x]=arguments[x];return m.default._validateParameters("dist",p),p.length===4?Math.hypot(p[2]-p[0],p[3]-p[1]):p.length===6?Math.hypot(p[3]-p[0],p[4]-p[1],p[5]-p[2]):void 0},m.default.prototype.exp=Math.exp,m.default.prototype.floor=Math.floor,m.default.prototype.lerp=function(_,p,x){return m.default._validateParameters("lerp",arguments),x*(p-_)+_},m.default.prototype.log=Math.log,m.default.prototype.mag=function(_,p){return m.default._validateParameters("mag",arguments),Math.hypot(_,p)},m.default.prototype.map=function(_,p,x,E,A,b){return m.default._validateParameters("map",arguments),_=(_-p)/(x-p)*(A-E)+E,b?E<A?this.constrain(_,E,A):this.constrain(_,A,E):_},m.default.prototype.max=function(){for(var _=function(A){var b=-1/0,k=!0,S=!1,T=void 0;try{for(var P,C=A[Symbol.iterator]();!(k=(P=C.next()).done);k=!0)var M=P.value,b=b<M?M:b}catch(j){S=!0,T=j}finally{try{k||C.return==null||C.return()}finally{if(S)throw T}}return b},p=arguments.length,x=new Array(p),E=0;E<p;E++)x[E]=arguments[E];return x[0]instanceof Array?_(x[0]):_(x)},m.default.prototype.min=function(){for(var _=function(A){var b=1/0,k=!0,S=!1,T=void 0;try{for(var P,C=A[Symbol.iterator]();!(k=(P=C.next()).done);k=!0)var M=P.value,b=M<b?M:b}catch(j){S=!0,T=j}finally{try{k||C.return==null||C.return()}finally{if(S)throw T}}return b},p=arguments.length,x=new Array(p),E=0;E<p;E++)x[E]=arguments[E];return x[0]instanceof Array?_(x[0]):_(x)},m.default.prototype.norm=function(_,p,x){return m.default._validateParameters("norm",arguments),this.map(_,p,x,0,1)},m.default.prototype.pow=Math.pow,m.default.prototype.round=function(_,p){return p?(p=Math.pow(10,p),Math.round(_*p)/p):Math.round(_)},m.default.prototype.sq=function(_){return _*_},m.default.prototype.sqrt=Math.sqrt,m.default.prototype.fract=function(E){m.default._validateParameters("fract",arguments);var p,x=0,E=Number(E);return isNaN(E)||Math.abs(E)===1/0?E:(E<0&&(E=-E,x=1),String(E).includes(".")&&!String(E).includes("e")?(p=String(E),p=+("0"+p.slice(p.indexOf("."))),Math.abs(x-p)):E<1?Math.abs(x-E):0)},c=m.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],306:[function(c,g,y){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};function _(x,E,A){return(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(b,k,S){var T=[null];return T.push.apply(T,k),k=new(Function.bind.apply(b,T)),S&&p(k,S.prototype),k}).apply(null,arguments)}function p(x,E){return(p=Object.setPrototypeOf||function(A,b){return A.__proto__=b,A})(x,E)}m.default.prototype.createVector=function(x,E,A){return this instanceof m.default?_(m.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new m.default.Vector(x,E,A)},c=m.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188}],307:[function(A,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,A=(A=A("../core/main"))&&A.__esModule?A:{default:A};function m(b){return .5*(1-Math.cos(b*Math.PI))}var _,p=4095,x=4,E=.5,A=(A.default.prototype.noise=function(b){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(_==null){_=new Array(4096);for(var T=0;T<4096;T++)_[T]=Math.random()}b<0&&(b=-b),k<0&&(k=-k),S<0&&(S=-S);for(var P,C,M=Math.floor(b),j=Math.floor(k),I=Math.floor(S),O=b-M,R=k-j,D=S-I,N=0,U=.5,X=0;X<x;X++){var V=M+(j<<4)+(I<<8),K=m(O),W=m(R),Q=_[V&p];Q+=K*(_[V+1&p]-Q),P=_[V+16&p],Q+=W*((P+=K*(_[V+16+1&p]-P))-Q),P=_[(V+=256)&p],P+=K*(_[V+1&p]-P),C=_[V+16&p],P+=W*((C+=K*(_[V+16+1&p]-C))-P),N+=(Q+=m(D)*(P-Q))*U,U*=E,M<<=1,j<<=1,I<<=1,1<=(O*=2)&&(M++,O--),1<=(R*=2)&&(j++,R--),1<=(D*=2)&&(I++,D--)}return N},A.default.prototype.noiseDetail=function(b,k){0<b&&(x=b),0<k&&(E=k)},A.default.prototype.noiseSeed=function(b){T=4294967296;var k,S,T,P={setSeed:function(M){S=k=(M??Math.random()*T)>>>0},getSeed:function(){return k},rand:function(){return(S=(1664525*S+1013904223)%T)/T}};P.setSeed(b),_=new Array(4096);for(var C=0;C<4096;C++)_[C]=P.rand()},A.default);y.default=A},{"../core/main":275}],308:[function(c,g,y){function m(T){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(T)}function _(T){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(P){return m(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":m(P)})(T)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.number.is-finite"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.sub"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.number.is-finite"),c("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(S=c("../core/main"))&&S.__esModule?S:{default:S},x=function(T){if(T&&T.__esModule)return T;if(T===null||_(T)!=="object"&&typeof T!="function")return{default:T};var P=E();if(P&&P.has(T))return P.get(T);var C,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in T){var I;Object.prototype.hasOwnProperty.call(T,C)&&((I=j?Object.getOwnPropertyDescriptor(T,C):null)&&(I.get||I.set)?Object.defineProperty(M,C,I):M[C]=T[C])}return M.default=T,P&&P.set(T,M),M}(c("../core/constants"));function E(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,E=function(){return T},T)}function A(T,P){for(var C=0;C<P.length;C++){var M=P[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(T,M.key,M)}}function b(T,P){return T!==0&&(this.x=this.x%T),P!==0&&(this.y=this.y%P),this}function k(T,P,C){return T!==0&&(this.x=this.x%T),P!==0&&(this.y=this.y%P),C!==0&&(this.z=this.z%C),this}p.default.Vector=function(){function T(){var R=this,j=T;if(!(R instanceof j))throw new TypeError("Cannot call a class as a function");var I,O,R=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],I=(arguments.length<=2?void 0:arguments[2])||0,O=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(I=(arguments.length<=0?void 0:arguments[0])||0,O=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=I,this.y=O,this.z=R}var P,C,M;return P=T,M=[{key:"fromAngle",value:function(j,I){return new p.default.Vector((I=I===void 0?1:I)*Math.cos(j),I*Math.sin(j),0)}},{key:"fromAngles",value:function(U,D,O){O===void 0&&(O=1);var R=Math.cos(D),D=Math.sin(D),N=Math.cos(U),U=Math.sin(U);return new p.default.Vector(O*U*D,-O*N,O*U*R)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*x.TWO_PI)}},{key:"random3D",value:function(){var j=Math.random()*x.TWO_PI,I=2*Math.random()-1,R=Math.sqrt(1-I*I),O=R*Math.cos(j),R=R*Math.sin(j);return new p.default.Vector(O,R,I)}},{key:"copy",value:function(j){return j.copy(j)}},{key:"add",value:function(j,I,O){return O?O.set(j):(O=j.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),O.add(I),O}},{key:"rem",value:function(j,I){if(j instanceof p.default.Vector&&I instanceof p.default.Vector)return(j=j.copy()).rem(I),j}},{key:"sub",value:function(j,I,O){return O?O.set(j):(O=j.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),O.sub(I),O}},{key:"mult",value:function(j,I,O){return O?O.set(j):(O=j.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),O.mult(I),O}},{key:"rotate",value:function(j,I,O){return arguments.length===2?O=j.copy():(O instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),O.set(j)),O.rotate(I),O}},{key:"div",value:function(j,I,O){return O?O.set(j):(O=j.copy(),arguments.length===3&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),O.div(I),O}},{key:"dot",value:function(j,I){return j.dot(I)}},{key:"cross",value:function(j,I){return j.cross(I)}},{key:"dist",value:function(j,I){return j.dist(I)}},{key:"lerp",value:function(j,I,O,R){return R?R.set(j):(R=j.copy(),arguments.length===4&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),R.lerp(I,O),R}},{key:"slerp",value:function(j,I,O,R){return R?R.set(j):(R=j.copy(),arguments.length===4&&p.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),R.slerp(I,O),R}},{key:"mag",value:function(j){return j.mag()}},{key:"magSq",value:function(j){return j.magSq()}},{key:"normalize",value:function(j,I){return arguments.length<2?I=j.copy():(I instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),I.set(j)),I.normalize()}},{key:"limit",value:function(j,I,O){return arguments.length<3?O=j.copy():(O instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),O.set(j)),O.limit(I)}},{key:"setMag",value:function(j,I,O){return arguments.length<3?O=j.copy():(O instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),O.set(j)),O.setMag(I)}},{key:"heading",value:function(j){return j.heading()}},{key:"angleBetween",value:function(j,I){return j.angleBetween(I)}},{key:"reflect",value:function(j,I,O){return arguments.length<3?O=j.copy():(O instanceof p.default.Vector||p.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),O.set(j)),O.reflect(I)}},{key:"array",value:function(j){return j.array()}},{key:"equals",value:function(j,I){var O;return j instanceof p.default.Vector?O=j:j instanceof Array?O=new p.default.Vector().set(j):p.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),O.equals(I)}}],(C=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(j,I,O){return j instanceof p.default.Vector?(this.x=j.x||0,this.y=j.y||0,this.z=j.z||0):Array.isArray(j)?(this.x=j[0]||0,this.y=j[1]||0,this.z=j[2]||0):(this.x=j||0,this.y=I||0,this.z=O||0),this}},{key:"copy",value:function(){return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new p.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(j,I,O){return j instanceof p.default.Vector?(this.x+=j.x||0,this.y+=j.y||0,this.z+=j.z||0):Array.isArray(j)?(this.x+=j[0]||0,this.y+=j[1]||0,this.z+=j[2]||0):(this.x+=j||0,this.y+=I||0,this.z+=O||0),this}},{key:"rem",value:function(j,I,O){var R;if(j instanceof p.default.Vector){if([j.x,j.y,j.z].every(Number.isFinite))return D=parseFloat(j.x),N=parseFloat(j.y),R=parseFloat(j.z),k.call(this,D,N,R)}else if(Array.isArray(j)){if(j.every(function(U){return Number.isFinite(U)}))return j.length===2?b.call(this,j[0],j[1]):j.length===3?k.call(this,j[0],j[1],j[2]):void 0}else if(arguments.length===1){if(Number.isFinite(j)&&j!==0)return this.x=this.x%j,this.y=this.y%j,this.z=this.z%j,this}else if(arguments.length===2){var D=Array.prototype.slice.call(arguments);if(D.every(function(U){return Number.isFinite(U)})&&D.length===2)return b.call(this,D[0],D[1])}else if(arguments.length===3){var N=Array.prototype.slice.call(arguments);if(N.every(function(U){return Number.isFinite(U)})&&N.length===3)return k.call(this,N[0],N[1],N[2])}}},{key:"sub",value:function(j,I,O){return j instanceof p.default.Vector?(this.x-=j.x||0,this.y-=j.y||0,this.z-=j.z||0):Array.isArray(j)?(this.x-=j[0]||0,this.y-=j[1]||0,this.z-=j[2]||0):(this.x-=j||0,this.y-=I||0,this.z-=O||0),this}},{key:"mult",value:function(j,I,O){var R;return j instanceof p.default.Vector?Number.isFinite(j.x)&&Number.isFinite(j.y)&&Number.isFinite(j.z)&&typeof j.x=="number"&&typeof j.y=="number"&&typeof j.z=="number"?(this.x*=j.x,this.y*=j.y,this.z*=j.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(j)?j.every(function(D){return Number.isFinite(D)})&&j.every(function(D){return typeof D=="number"})?j.length===1?(this.x*=j[0],this.y*=j[0],this.z*=j[0]):j.length===2?(this.x*=j[0],this.y*=j[1]):j.length===3&&(this.x*=j[0],this.y*=j[1],this.z*=j[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(R=Array.prototype.slice.call(arguments)).every(function(D){return Number.isFinite(D)})&&R.every(function(D){return typeof D=="number"})?(arguments.length===1&&(this.x*=j,this.y*=j,this.z*=j),arguments.length===2&&(this.x*=j,this.y*=I),arguments.length===3&&(this.x*=j,this.y*=I,this.z*=O)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(j,I,O){if(j instanceof p.default.Vector)if(Number.isFinite(j.x)&&Number.isFinite(j.y)&&Number.isFinite(j.z)&&typeof j.x=="number"&&typeof j.y=="number"&&typeof j.z=="number"){var R=j.z===0&&this.z===0;if(j.x===0||j.y===0||!R&&j.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=j.x,this.y/=j.y,R||(this.z/=j.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(j))if(j.every(function(D){return Number.isFinite(D)})&&j.every(function(D){return typeof D=="number"})){if(j.some(function(D){return D===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;j.length===1?(this.x/=j[0],this.y/=j[0],this.z/=j[0]):j.length===2?(this.x/=j[0],this.y/=j[1]):j.length===3&&(this.x/=j[0],this.y/=j[1],this.z/=j[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(R=Array.prototype.slice.call(arguments),R.every(function(D){return Number.isFinite(D)})&&R.every(function(D){return typeof D=="number"})){if(R.some(function(D){return D===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=j,this.y/=j,this.z/=j),arguments.length===2&&(this.x/=j,this.y/=I),arguments.length===3&&(this.x/=j,this.y/=I,this.z/=O)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var j=this.x,I=this.y,O=this.z;return j*j+I*I+O*O}},{key:"dot",value:function(j,I,O){return j instanceof p.default.Vector?this.dot(j.x,j.y,j.z):this.x*(j||0)+this.y*(I||0)+this.z*(O||0)}},{key:"cross",value:function(R){var I=this.y*R.z-this.z*R.y,O=this.z*R.x-this.x*R.z,R=this.x*R.y-this.y*R.x;return this.isPInst?new p.default.Vector(this._fromRadians,this._toRadians,I,O,R):new p.default.Vector(I,O,R)}},{key:"dist",value:function(j){return j.copy().sub(this).mag()}},{key:"normalize",value:function(){var j=this.mag();return j!==0&&this.mult(1/j),this}},{key:"limit",value:function(j){var I=this.magSq();return j*j<I&&this.div(Math.sqrt(I)).mult(j),this}},{key:"setMag",value:function(j){return this.normalize().mult(j)}},{key:"heading",value:function(){var j=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(j):j}},{key:"setHeading",value:function(j){this.isPInst&&(j=this._toRadians(j));var I=this.mag();return this.x=I*Math.cos(j),this.y=I*Math.sin(j),this}},{key:"rotate",value:function(I){var I=this.heading()+I,O=(this.isPInst&&(I=this._toRadians(I)),this.mag());return this.x=Math.cos(I)*O,this.y=Math.sin(I)*O,this}},{key:"angleBetween",value:function(j){var I;return this.magSq()*j.magSq()==0?NaN:(I=this.cross(j),j=Math.atan2(I.mag(),this.dot(j))*Math.sign(I.z||1),this.isPInst?this._fromRadians(j):j)}},{key:"lerp",value:function(j,I,O,R){return j instanceof p.default.Vector?this.lerp(j.x,j.y,j.z,I):(this.x+=(j-this.x)*R||0,this.y+=(I-this.y)*R||0,this.z+=(O-this.z)*R||0,this)}},{key:"slerp",value:function(j,I){if(I!==0){if(I===1)return this.set(j);var O=this.mag(),R=j.mag();if(O*R==0)this.mult(1-I).add(j.x*I,j.y*I,j.z*I);else{var D=this.cross(j),N=D.mag(),U=Math.atan2(N,this.dot(j));if(0<N)D.x/=N,D.y/=N,D.z/=N;else{if(U<.5*Math.PI)return this.mult(1-I).add(j.x*I,j.y*I,j.z*I),this;this.z===0&&j.z===0?D.set(0,0,1):this.x!==0?D.set(this.y,-this.x,0).normalize():D.set(1,0,0)}N=D.cross(this),j=1-I+I*R/O,D=j*Math.cos(I*U),R=j*Math.sin(I*U),this.x=this.x*D+N.x*R,this.y=this.y*D+N.y*R,this.z=this.z*D+N.z*R}}return this}},{key:"reflect",value:function(j){return j.normalize(),this.sub(j.mult(2*this.dot(j)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(N,I,O){var R,D,N=N instanceof p.default.Vector?(R=N.x||0,D=N.y||0,N.z||0):Array.isArray(N)?(R=N[0]||0,D=N[1]||0,N[2]||0):(R=N||0,D=I||0,O||0);return this.x===R&&this.y===D&&this.z===N}}])&&A(P.prototype,C),M&&A(P,M),T}();var S=p.default.Vector;y.default=S},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.constructor":173,"core-js/modules/es.number.is-finite":174,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],309:[function(E,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(E=E("../core/main"))&&E.__esModule?E:{default:E},_="_lcg_random_state",p=4294967296,x=0,E=(m.default.prototype._lcg=function(A){return this[A]=(1664525*this[A]+1013904223)%p,this[A]/p},m.default.prototype._lcgSetSeed=function(A,b){this[A]=(b??Math.random()*p)>>>0},m.default.prototype.randomSeed=function(A){this._lcgSetSeed(_,A),this._gaussian_previous=!1},m.default.prototype.random=function(A,b){var k,S;return m.default._validateParameters("random",arguments),k=this[_]!=null?this._lcg(_):Math.random(),A===void 0?k:b===void 0?A instanceof Array?A[Math.floor(k*A.length)]:k*A:(b<A&&(S=A,A=b,b=S),k*(b-A)+A)},m.default.prototype.randomGaussian=function(A){var b,k,S,T,P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)b=x,this._gaussian_previous=!1;else{for(;1<=(T=(k=this.random(2)-1)*k+(S=this.random(2)-1)*S););b=k*(T=Math.sqrt(-2*Math.log(T)/T)),x=S*T,this._gaussian_previous=!0}return b*P+(A||0)},m.default);y.default=E},{"../core/main":275}],310:[function(c,g,y){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(b)}function _(b){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(k){return m(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":m(k)})(b)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(A=c("../core/main"))&&A.__esModule?A:{default:A},x=function(b){if(b&&b.__esModule)return b;if(b===null||_(b)!=="object"&&typeof b!="function")return{default:b};var k=E();if(k&&k.has(b))return k.get(b);var S,T={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var C;Object.prototype.hasOwnProperty.call(b,S)&&((C=P?Object.getOwnPropertyDescriptor(b,S):null)&&(C.get||C.set)?Object.defineProperty(T,S,C):T[S]=b[S])}return T.default=b,k&&k.set(b,T),T}(c("../core/constants"));function E(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,E=function(){return b},b)}p.default.prototype._angleMode=x.RADIANS,p.default.prototype.acos=function(b){return this._fromRadians(Math.acos(b))},p.default.prototype.asin=function(b){return this._fromRadians(Math.asin(b))},p.default.prototype.atan=function(b){return this._fromRadians(Math.atan(b))},p.default.prototype.atan2=function(b,k){return this._fromRadians(Math.atan2(b,k))},p.default.prototype.cos=function(b){return Math.cos(this._toRadians(b))},p.default.prototype.sin=function(b){return Math.sin(this._toRadians(b))},p.default.prototype.tan=function(b){return Math.tan(this._toRadians(b))},p.default.prototype.degrees=function(b){return b*x.RAD_TO_DEG},p.default.prototype.radians=function(b){return b*x.DEG_TO_RAD},p.default.prototype.angleMode=function(b){if(p.default._validateParameters("angleMode",arguments),b===void 0)return this._angleMode;b!==x.DEGREES&&b!==x.RADIANS||(this._angleMode=b)},p.default.prototype._toRadians=function(b){return this._angleMode===x.DEGREES?b*x.DEG_TO_RAD:b},p.default.prototype._toDegrees=function(b){return this._angleMode===x.RADIANS?b*x.RAD_TO_DEG:b},p.default.prototype._fromRadians=function(b){return this._angleMode===x.DEGREES?b*x.RAD_TO_DEG:b};var A=p.default;y.default=A},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],311:[function(c,g,y){c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};m.default.prototype.textAlign=function(_,p){var x;return m.default._validateParameters("textAlign",arguments),(x=this._renderer).textAlign.apply(x,arguments)},m.default.prototype.textLeading=function(_){var p;return m.default._validateParameters("textLeading",arguments),(p=this._renderer).textLeading.apply(p,arguments)},m.default.prototype.textSize=function(_){var p;return m.default._validateParameters("textSize",arguments),(p=this._renderer).textSize.apply(p,arguments)},m.default.prototype.textStyle=function(_){var p;return m.default._validateParameters("textStyle",arguments),(p=this._renderer).textStyle.apply(p,arguments)},m.default.prototype.textWidth=function(){for(var _=arguments.length,p=new Array(_),x=0;x<_;x++)p[x]=arguments[x];if(p[0]+="",m.default._validateParameters("textWidth",p),p[0].length===0)return 0;for(var E=p[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),A=[],b=0;b<E.length;b++)A.push(this._renderer.textWidth(E[b]));return Math.max.apply(Math,A)},m.default.prototype.textAscent=function(){for(var _=arguments.length,p=new Array(_),x=0;x<_;x++)p[x]=arguments[x];return m.default._validateParameters("textAscent",p),this._renderer.textAscent()},m.default.prototype.textDescent=function(){for(var _=arguments.length,p=new Array(_),x=0;x<_;x++)p[x]=arguments[x];return m.default._validateParameters("textDescent",p),this._renderer.textDescent()},m.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},m.default.prototype.textWrap=function(_){if(_!=="WORD"&&_!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(_)},c=m.default,y.default=c},{"../core/main":275,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],312:[function(c,g,y){function m(S){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(S)}function _(S){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(T){return m(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":m(T)})(S)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(k=c("../core/main"))&&k.__esModule?k:{default:k},x=b(c("../core/constants")),E=b(c("opentype.js"));function A(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,A=function(){return S},S)}function b(S){if(S&&S.__esModule)return S;if(S===null||_(S)!=="object"&&typeof S!="function")return{default:S};var T=A();if(T&&T.has(S))return T.get(S);var P,C,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in S)Object.prototype.hasOwnProperty.call(S,P)&&((C=j?Object.getOwnPropertyDescriptor(S,P):null)&&(C.get||C.set)?Object.defineProperty(M,P,C):M[P]=S[P]);return M.default=S,T&&T.set(S,M),M}c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),p.default.prototype.loadFont=function(S,T,P){p.default._validateParameters("loadFont",arguments);var C=new p.default.Font(this),M=this;return E.load(S,function(O,R){if(O)return p.default._friendlyFileLoadError(4,S),P!==void 0?P(O):void console.error(O,S);C.font=R,T!==void 0&&T(C),M._decrementPreload();var O=S.split("\\").pop().split("/").pop(),R=O.lastIndexOf("."),D=R<1?null:O.slice(R+1);["ttf","otf","woff","woff2"].includes(D)&&(D=O.slice(0,R!==-1?R:0),(O=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(D,`;
src: url(`).concat(S,`);
}
`))),document.head.appendChild(O))}),C},p.default.prototype.text=function(S,T,P,C,M){var j;return p.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(j=this._renderer).text.apply(j,arguments):this},p.default.prototype.textFont=function(S,T){if(p.default._validateParameters("textFont",arguments),arguments.length){if(S)return this._renderer._setProperty("_textFont",S),T&&(this._renderer._setProperty("_textSize",T),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",T*x._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var k=p.default;y.default=k},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,"opentype.js":249}],313:[function(c,g,y){function m(N){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(N)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _=(_=c("../core/main"))&&_.__esModule?_:{default:_},p=function(N){if(N&&N.__esModule)return N;if(N===null||E(N)!=="object"&&typeof N!="function")return{default:N};var U=x();if(U&&U.has(N))return U.get(N);var X,V={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(X in N){var W;Object.prototype.hasOwnProperty.call(N,X)&&((W=K?Object.getOwnPropertyDescriptor(N,X):null)&&(W.get||W.set)?Object.defineProperty(V,X,W):V[X]=N[X])}return V.default=N,U&&U.set(N,V),V}(c("../core/constants"));function x(){var N;return typeof WeakMap!="function"?null:(N=new WeakMap,x=function(){return N},N)}function E(N){return(E=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(U){return m(U)}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":m(U)})(N)}function A(N,U){for(var X=0;X<U.length;X++){var V=U[X];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}function b(N,U){var X=N.length;return N[U<0?U%X+X:U%X]}function k(N,U,X,V){var K,W,Q;return V?(k.tmpPoint1===void 0&&(k.tmpPoint1=[],k.tmpPoint2=[]),W=k.tmpPoint1,Q=k.tmpPoint2,W.x=U.x-N.x,W.y=U.y-N.y,Q.x=X.x-U.x,Q.y=X.y-U.y,K=W.x*Q.x+W.y*Q.y,W=Math.sqrt(W.x*W.x+W.y*W.y),Q=Math.sqrt(Q.x*Q.x+Q.y*Q.y),Math.acos(K/(W*Q))<V):(U[0]-N[0])*(X[1]-N[1])-(X[0]-N[0])*(U[1]-N[1])==0}function S(z,se,ee,le,ue,W,Q,L,G){var J=1-G,Y=Math.pow(J,3),ie=Math.pow(J,2),H=G*G,ne=H*G,B=Y*z+3*ie*G*ee+3*J*G*G*ue+ne*Q,Y=Y*se+3*ie*G*le+3*J*G*G*W+ne*L,ie=z+2*G*(ee-z)+H*(ue-2*ee+z),ne=se+2*G*(le-se)+H*(W-2*le+se),Z=ee+2*G*(ue-ee)+H*(Q-2*ue+ee),H=le+2*G*(W-le)+H*(L-2*W+le),z=J*z+G*ee,ee=J*se+G*le,se=J*ue+G*Q,le=J*W+G*L,ue=90-180*Math.atan2(ie-Z,ne-H)/Math.PI;return(Z<ie||ne<H)&&(ue+=180),{x:B,y:Y,m:{x:ie,y:ne},n:{x:Z,y:H},start:{x:z,y:ee},end:{x:se,y:le},alpha:ue}}function T(N,U,X,V,K,W,Q,L,G){return G==null?R(N,U,X,V,K,W,Q,L):S(N,U,X,V,K,W,Q,L,function(J,B,Y,ie,ne,Z,H,z,ee){if(!(ee<0||R(J,B,Y,ie,ne,Z,H,z)<ee)){var se,le=.5,ue=1-le;for(se=R(J,B,Y,ie,ne,Z,H,z,ue);.01<Math.abs(se-ee);)se=R(J,B,Y,ie,ne,Z,H,z,ue+=(se<ee?1:-1)*(le/=2));return ue}}(N,U,X,V,K,W,Q,L,G))}function P(N,U,X){for(var V,K,W,Q,L,G=0,J=0,B=(N=function(Y,ie){function ne(re,ae,ce){var Ee,xe;if(!re)return["C",ae.x,ae.y,ae.x,ae.y,ae.x,ae.y];switch(re[0]in{T:1,Q:1}||(ae.qx=ae.qy=null),re[0]){case"M":ae.X=re[1],ae.Y=re[2];break;case"A":re=["C"].concat(M.apply(0,[ae.x,ae.y].concat(re.slice(1))));break;case"S":xe=ce==="C"||ce==="S"?(Ee=2*ae.x-ae.bx,2*ae.y-ae.by):(Ee=ae.x,ae.y),re=["C",Ee,xe].concat(re.slice(1));break;case"T":ce==="Q"||ce==="T"?(ae.qx=2*ae.x-ae.qx,ae.qy=2*ae.y-ae.qy):(ae.qx=ae.x,ae.qy=ae.y),re=["C"].concat(O(ae.x,ae.y,ae.qx,ae.qy,re[1],re[2]));break;case"Q":ae.qx=re[1],ae.qy=re[2],re=["C"].concat(O(ae.x,ae.y,re[1],re[2],re[3],re[4]));break;case"L":re=["C"].concat(I(ae.x,ae.y,re[1],re[2]));break;case"H":re=["C"].concat(I(ae.x,ae.y,re[1],ae.y));break;case"V":re=["C"].concat(I(ae.x,ae.y,ae.x,re[1]));break;case"Z":re=["C"].concat(I(ae.x,ae.y,ae.X,ae.Y))}return re}function Z(re,ae){if(7<re[ae].length){re[ae].shift();for(var ce=re[ae];ce.length;)_e[ae]="A",se&&(Te[ae]="A"),re.splice(ae++,0,["C"].concat(ce.splice(0,6)));re.splice(ae,1),z=Math.max(ee.length,se&&se.length||0)}}function H(re,ae,ce,Ee,xe){re&&ae&&re[xe][0]==="M"&&ae[xe][0]!=="M"&&(ae.splice(xe,0,["M",Ee.x,Ee.y]),ce.bx=0,ce.by=0,ce.x=re[xe][1],ce.y=re[xe][2],z=Math.max(ee.length,se&&se.length||0))}var z,ee=C(Y),se=ie&&C(ie),le={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ue={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},_e=[],Te=[],me="",Se="";z=Math.max(ee.length,se&&se.length||0);for(var ve=0;ve<z;ve++){(me=ee[ve]?ee[ve][0]:me)!=="C"&&(_e[ve]=me,ve&&(Se=_e[ve-1])),ee[ve]=ne(ee[ve],le,Se),_e[ve]!=="A"&&me==="C"&&(_e[ve]="C"),Z(ee,ve),se&&((me=se[ve]?se[ve][0]:me)!=="C"&&(Te[ve]=me,ve&&(Se=Te[ve-1])),se[ve]=ne(se[ve],ue,Se),Te[ve]!=="A"&&me==="C"&&(Te[ve]="C"),Z(se,ve)),H(ee,se,le,ue,ve),H(se,ee,ue,le,ve);var fe=ee[ve],ye=se&&se[ve],Ae=fe.length,Ne=se&&ye.length;le.x=fe[Ae-2],le.y=fe[Ae-1],le.bx=parseFloat(fe[Ae-4])||le.x,le.by=parseFloat(fe[Ae-3])||le.y,ue.bx=se&&(parseFloat(ye[Ne-4])||ue.x),ue.by=se&&(parseFloat(ye[Ne-3])||ue.y),ue.x=se&&ye[Ne-2],ue.y=se&&ye[Ne-1]}return se?[ee,se]:ee}(N)).length;J<B;J++){if((W=N[J])[0]==="M")V=+W[1],K=+W[2];else{if(U<G+(Q=T(V,K,W[1],W[2],W[3],W[4],W[5],W[6]))&&!X)return{x:(L=T(V,K,W[1],W[2],W[3],W[4],W[5],W[6],U-G)).x,y:L.y,alpha:L.alpha};G+=Q,V=+W[5],K=+W[6]}W.shift()}return L=(L=X?G:S(V,K,W[0],W[1],W[2],W[3],W[4],W[5],1)).alpha?{x:L.x,y:L.y,alpha:L.alpha}:L}function C(N){var U=[],X=0,V=0,K=0,W=0,Q=0;if(N){N[0][0]==="M"&&(K=X=+N[0][1],W=V=+N[0][2],Q++,U[0]=["M",X,V]);for(var L,G,J=N.length===3&&N[0][0]==="M"&&N[1][0].toUpperCase()==="R"&&N[2][0].toUpperCase()==="Z",B=Q,Y=N.length;B<Y;B++){if(U.push(L=[]),(G=N[B])[0]!==String.prototype.toUpperCase.call(G[0]))switch(L[0]=String.prototype.toUpperCase.call(G[0]),L[0]){case"A":L[1]=G[1],L[2]=G[2],L[3]=G[3],L[4]=G[4],L[5]=G[5],L[6]=+(G[6]+X),L[7]=+(G[7]+V);break;case"V":L[1]=+G[1]+V;break;case"H":L[1]=+G[1]+X;break;case"R":for(var ie,ne=2,Z=(ie=[X,V].concat(G.slice(1))).length;ne<Z;ne++)ie[ne]=+ie[ne]+X,ie[++ne]=+ie[ne]+V;U.pop(),U=U.concat(j(ie,J));break;case"M":K=+G[1]+X,W=+G[2]+V;break;default:for(var H=1,z=G.length;H<z;H++)L[H]=+G[H]+(H%2?X:V)}else if(G[0]==="R")ie=[X,V].concat(G.slice(1)),U.pop(),U=U.concat(j(ie,J)),L=["R"].concat(G.slice(-2));else for(var ee=0,se=G.length;ee<se;ee++)L[ee]=G[ee];switch(L[0]){case"Z":X=K,V=W;break;case"H":X=L[1];break;case"V":V=L[1];break;case"M":K=L[L.length-2],W=L[L.length-1];break;default:X=L[L.length-2],V=L[L.length-1]}}}return U}function M(N,U,X,V,se,_e,le,L,G,J){function B(Ne,re,ae){return{x:Ne*Math.cos(ae)-re*Math.sin(ae),y:Ne*Math.sin(ae)+re*Math.cos(ae)}}var Y,z=Math.PI,ee=120*z/180,ie=z/180*(+se||0),ne=[],Z=(J?(ve=J[0],Y=J[1],me=J[2],Se=J[3]):(N=(ue=B(N,U,-ie)).x,U=ue.y,1<(Z=(H=(N-(L=(ue=B(L,G,-ie)).x))/2)*H/(X*X)+(ue=(U-(G=ue.y))/2)*ue/(V*V))&&(X*=Z=Math.sqrt(Z),V*=Z),Z=X*X,Te=V*V,me=(_e=(_e===le?-1:1)*Math.sqrt(Math.abs((Z*Te-Z*ue*ue-Te*H*H)/(Z*ue*ue+Te*H*H))))*X*ue/V+(N+L)/2,Se=_e*-V*H/X+(U+G)/2,ve=Math.asin(((U-Se)/V).toFixed(9)),Y=Math.asin(((G-Se)/V).toFixed(9)),(ve=N<me?z-ve:ve)<0&&(ve=2*z+ve),(Y=L<me?z-Y:Y)<0&&(Y=2*z+Y),le&&Y<ve&&(ve-=2*z),!le&&ve<Y&&(Y-=2*z)),Y-ve),H=(Math.abs(Z)>ee&&(Te=Y,ue=L,_e=G,Y=ve+ee*(le&&ve<Y?1:-1),ne=M(L=me+X*Math.cos(Y),G=Se+V*Math.sin(Y),X,V,se,0,le,ue,_e,[Y,Te,me,Se])),Z=Y-ve,Math.cos(ve)),z=Math.sin(ve),ee=Math.cos(Y),se=Math.sin(Y),le=Math.tan(Z/4),ue=4/3*X*le,_e=4/3*V*le,Te=[N,U],me=[N+ue*z,U-_e*H],Se=[L+ue*se,G-_e*ee],ve=[L,G];if(me[0]=2*Te[0]-me[0],me[1]=2*Te[1]-me[1],J)return[me,Se,ve].concat(ne);for(var fe=[],ye=0,Ae=(ne=[me,Se,ve].concat(ne).join().split(",")).length;ye<Ae;ye++)fe[ye]=ye%2?B(ne[ye-1],ne[ye],ie).y:B(ne[ye],ne[ye+1],ie).x;return fe}function j(N,U){for(var X=[],V=0,K=N.length;V<K-2*!U;V+=2){var W=[{x:+N[V-2],y:+N[V-1]},{x:+N[V],y:+N[V+1]},{x:+N[V+2],y:+N[V+3]},{x:+N[V+4],y:+N[V+5]}];U?V?K-4===V?W[3]={x:+N[0],y:+N[1]}:K-2===V&&(W[2]={x:+N[0],y:+N[1]},W[3]={x:+N[2],y:+N[3]}):W[0]={x:+N[K-2],y:+N[K-1]}:K-4===V?W[3]=W[2]:V||(W[0]={x:+N[V],y:+N[V+1]}),X.push(["C",(-W[0].x+6*W[1].x+W[2].x)/6,(-W[0].y+6*W[1].y+W[2].y)/6,(W[1].x+6*W[2].x-W[3].x)/6,(W[1].y+6*W[2].y-W[3].y)/6,W[2].x,W[2].y])}return X}function I(N,U,X,V){return[N,U,X,V,X,V]}function O(N,U,X,V,K,W){return[1/3*N+2/3*X,1/3*U+2/3*V,1/3*K+2/3*X,1/3*W+2/3*V,K,W]}function R(N,U,X,V,K,W,Q,L,G){for(var J=(G=1<(G=G??1)?1:G<0?0:G)/2,B=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Y=0,ie=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ne=0;ne<12;ne++){var H=J*B[ne]+J,Z=D(H,N,X,K,Q),H=D(H,U,V,W,L);Y+=ie[ne]*Math.sqrt(Z*Z+H*H)}return J*Y}function D(N,U,X,V,K){return N*(N*(-3*U+9*X-9*V+3*K)+6*U-12*X+6*V)-3*U+3*X}_.default.Font=function(){function N(V){if(!(this instanceof N))throw new TypeError("Cannot call a class as a function");this.parent=V,this.cache={},this.font=void 0}var U,X;return U=N,(X=[{key:"textBounds",value:function(V){var K=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,W=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,J=3<arguments.length?arguments[3]:void 0,Q=4<arguments.length?arguments[4]:void 0,L=Q&&Q.renderer&&Q.renderer._pInst||this.parent,G=L._renderer.drawingContext,J=(G.textAlign||p.LEFT,G.textBaseline||p.BASELINE,J||L._renderer._textSize);if(!ue){for(var B=[],Y=[],ie=[],ne=(ie[0]=[],[]),Z=this._scale(J),H=L._renderer.textLeading(),z=0,ee=(this.font.forEachGlyph(V,K,W,J,Q,function(me,Se,ve,fe){var ye=me.getMetrics();me.index===0||me.index===10?ie[z+=1]=[]:(ie[z].push(Se+ye.xMin*Z),ie[z].push(Se+ye.xMax*Z),ne.push(ve+z*H+-ye.yMin*Z),ne.push(ve+z*H+-ye.yMax*Z))}),0<ie[z].length&&(B[z]=Math.min.apply(null,ie[z]),Y[z]=Math.max.apply(null,ie[z])),0),se=0;se<=z;se++){B[se]=Math.min.apply(null,ie[se]),Y[se]=Math.max.apply(null,ie[se]);var le=Y[se]-B[se];ee<le&&(ee=le)}var G=Math.min.apply(null,B),ue={x:G,y:W=Math.min.apply(null,ne),h:Math.max.apply(null,ne)-W,w:ee,advance:G-K},J=this._handleAlignment(L._renderer,V,ue.x,ue.y,ue.w+ue.advance);ue.x=J.x,ue.y=J.y}return ue}},{key:"textToPoints",value:function(V,K,W,Q,L){var G=K,J=[],B=V.split(/\r?\n|\r|\n/g);Q=Q||this.parent._renderer._textSize;for(var Y,ie,ne,Z=0;Z<B.length;Z++){var H=0;K=G;for(var z=(z=B[Z]).replace("	","  "),ee=this._getGlyphs(z),se=0;se<ee.length;se++){if(ie=z,!((ne=ee)[Y=se].name&&ne[Y].name==="space"||ie.length===ne.length&&ie[Y]===" "))for(var le=function(me){for(var Se,ve=[],fe=0;fe<me.length;fe++)me[fe].type==="M"&&(Se&&ve.push(Se),Se=[]),Se.push(function(ye){var Ae=[ye.type];return ye.type==="M"||ye.type==="L"?Ae.push(ye.x,ye.y):ye.type==="C"?Ae.push(ye.x1,ye.y1,ye.x2,ye.y2,ye.x,ye.y):ye.type==="Q"&&Ae.push(ye.x1,ye.y1,ye.x,ye.y),Ae}(me[fe]));return ve.push(Se),ve}(ee[se].getPath(K,W,Q).commands),ue=0;ue<le.length;ue++)for(var _e=function(me,Se){for(var Se=function(re,ae){if(E(re)!=="object")re=ae;else for(var ce in ae)re[ce]===void 0&&(re[ce]=ae[ce]);return re}(Se,{sampleFactor:.1,simplifyThreshold:0}),ve=P(me,0,1),fe=ve/(ve*Se.sampleFactor),ye=[],Ae=0;Ae<ve;Ae+=fe)ye.push(P(me,Ae));return Se.simplifyThreshold&&function(Ne){for(var re=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ae=0,ce=Ne.length-1;3<Ne.length&&0<=ce;--ce)k(b(Ne,ce-1),b(Ne,ce),b(Ne,ce+1),re)&&(Ne.splice(ce%Ne.length,1),ae++)}(ye,Se.simplifyThreshold),ye}(le[ue],L),Te=0;Te<_e.length;Te++)_e[Te].x+=H,J.push(_e[Te]);H+=ee[se].advanceWidth*this._scale(Q)}W+=this.parent._renderer._textLeading}return J}},{key:"_getGlyphs",value:function(V){return this.font.stringToGlyphs(V)}},{key:"_getPath",value:function(V,G,W,Q){var L=(Q&&Q.renderer&&Q.renderer._pInst||this.parent)._renderer,G=this._handleAlignment(L,V,G,W);return this.font.getPath(V,G.x,G.y,L._textSize,Q)}},{key:"_getPathData",value:function(V,K,W,Q){var L=3;return typeof V=="string"&&2<arguments.length?V=this._getPath(V,K,W,Q):E(K)==="object"&&(Q=K),Q&&typeof Q.decimals=="number"&&(L=Q.decimals),V.toPathData(L)}},{key:"_getSVG",value:function(V,K,W,Q){var L=3;return typeof V=="string"&&2<arguments.length?V=this._getPath(V,K,W,Q):E(K)==="object"&&(Q=K),Q&&(typeof Q.decimals=="number"&&(L=Q.decimals),typeof Q.strokeWidth=="number"&&(V.strokeWidth=Q.strokeWidth),Q.fill!==void 0&&(V.fill=Q.fill),Q.stroke!==void 0&&(V.stroke=Q.stroke)),V.toSVG(L)}},{key:"_renderPath",value:function(J,Y,ie,Q){var L=Q&&Q.renderer||this.parent._renderer,G=L.drawingContext,J=(E(J)==="object"&&J.commands?J:this._getPath(J,Y,ie,Q)).commands,B=(G.beginPath(),!0),Y=!1,ie=void 0;try{for(var ne,Z=J[Symbol.iterator]();!(B=(ne=Z.next()).done);B=!0){var H=ne.value;H.type==="M"?G.moveTo(H.x,H.y):H.type==="L"?G.lineTo(H.x,H.y):H.type==="C"?G.bezierCurveTo(H.x1,H.y1,H.x2,H.y2,H.x,H.y):H.type==="Q"?G.quadraticCurveTo(H.x1,H.y1,H.x,H.y):H.type==="Z"&&G.closePath()}}catch(z){Y=!0,ie=z}finally{try{B||Z.return==null||Z.return()}finally{if(Y)throw ie}}return L._doStroke&&L._strokeSet&&!L._clipping&&G.stroke(),L._doFill&&!L._clipping&&(L._fillSet||L._setFill(p._DEFAULT_TEXT_FILL),G.fill()),this}},{key:"_textWidth",value:function(V,K){return this.font.getAdvanceWidth(V,K)}},{key:"_textAscent",value:function(V){return this.font.ascender*this._scale(V)}},{key:"_textDescent",value:function(V){return-this.font.descender*this._scale(V)}},{key:"_scale",value:function(V){return 1/this.font.unitsPerEm*(V||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(V,K,W,Q,L){var G=V._textSize;switch(L===void 0&&(L=this._textWidth(K,G)),V._textAlign){case p.CENTER:W-=L/2;break;case p.RIGHT:W-=L}switch(V._textBaseline){case p.TOP:Q+=this._textAscent(G);break;case p.CENTER:Q+=this._textAscent(G)/2;break;case p.BOTTOM:Q-=this._textDescent(G)}return{x:W,y:Q}}}])&&A(U.prototype,X),N}(),c=_.default,y.default=c},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],314:[function(c,g,y){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.array-buffer.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.array-buffer.constructor"),c("core-js/modules/es.object.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype.append=function(m,_){return m.push(_),m},c.default.prototype.arrayCopy=function(m,_,p,x,E){var A,b;m=E!==void 0?(b=Math.min(E,m.length),A=x,m.slice(_,b+_)):(b=p!==void 0?(b=p,Math.min(b,m.length)):m.length,p=_,m.slice(A=0,b)),Array.prototype.splice.apply(p,[A,b].concat(m))},c.default.prototype.concat=function(m,_){return m.concat(_)},c.default.prototype.reverse=function(m){return m.reverse()},c.default.prototype.shorten=function(m){return m.pop(),m},c.default.prototype.shuffle=function(m,_){for(var p,x,E=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(m),A=(m=_||E?m:m.slice()).length;1<A;)p=this.random(0,1)*A|0,x=m[--A],m[A]=m[p],m[p]=x;return m},c.default.prototype.sort=function(m,x){var p=x?m.slice(0,Math.min(x,m.length)):m,x=x?m.slice(Math.min(x,m.length)):[];return(p=typeof p[0]=="string"?p.sort():p.sort(function(E,A){return E-A})).concat(x)},c.default.prototype.splice=function(m,_,p){return Array.prototype.splice.apply(m,[p,0].concat(_)),m},c.default.prototype.subset=function(m,_,p){return p!==void 0?m.slice(_,_+p):m.slice(_,m.length)},c=c.default,y.default=c},{"../core/main":275,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182}],315:[function(c,g,y){c("core-js/modules/es.array.map"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.repeat"),c("core-js/modules/es.array.map"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.repeat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};m.default.prototype.float=function(_){return _ instanceof Array?_.map(parseFloat):parseFloat(_)},m.default.prototype.int=function(_){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return _===1/0||_==="Infinity"?1/0:_===-1/0||_==="-Infinity"?-1/0:typeof _=="string"?parseInt(_,p):typeof _=="number"?0|_:typeof _=="boolean"?_?1:0:_ instanceof Array?_.map(function(x){return m.default.prototype.int(x,p)}):void 0},m.default.prototype.str=function(_){return _ instanceof Array?_.map(m.default.prototype.str):String(_)},m.default.prototype.boolean=function(_){return typeof _=="number"?_!==0:typeof _=="string"?_.toLowerCase()==="true":typeof _=="boolean"?_:_ instanceof Array?_.map(m.default.prototype.boolean):void 0},m.default.prototype.byte=function(_){return _=m.default.prototype.int(_,10),typeof _=="number"?(_+128)%256-128:_ instanceof Array?_.map(m.default.prototype.byte):void 0},m.default.prototype.char=function(_){return typeof _!="number"||isNaN(_)?_ instanceof Array?_.map(m.default.prototype.char):typeof _=="string"?m.default.prototype.char(parseInt(_,10)):void 0:String.fromCharCode(_)},m.default.prototype.unchar=function(_){return typeof _=="string"&&_.length===1?_.charCodeAt(0):_ instanceof Array?_.map(m.default.prototype.unchar):void 0},m.default.prototype.hex=function(_,p){if(p=p??8,_ instanceof Array)return _.map(function(E){return m.default.prototype.hex(E,p)});if(_===1/0||_===-1/0)return(_===1/0?"F":"0").repeat(p);if(typeof _=="number"){_<0&&(_=4294967295+_+1);for(var x=Number(_).toString(16).toUpperCase();x.length<p;)x="0".concat(x);return x=x.length>=p?x.substring(x.length-p,x.length):x}},m.default.prototype.unhex=function(_){return _ instanceof Array?_.map(m.default.prototype.unhex):parseInt("0x".concat(_),16)},c=m.default,y.default=c},{"../core/main":275,"core-js/modules/es.array.map":164,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.repeat":195}],316:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.pad-start"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.pad-start"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(b=c("../core/main"))&&b.__esModule?b:{default:b};function _(k,S){return function(T){if(Array.isArray(T))return T}(k)||function(T,P){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]"){var C=[],M=!0,j=!1,I=void 0;try{for(var O,R=T[Symbol.iterator]();!(M=(O=R.next()).done)&&(C.push(O.value),!P||C.length!==P);M=!0);}catch(D){j=!0,I=D}finally{try{M||R.return==null||R.return()}finally{if(j)throw I}}return C}}(k,S)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(k,S,T){var C=_(k.toString().split("."),2),P=C[0],C=C[1];return T===void 0?(P=P.padStart(S,"0"),C?P+"."+C:P):(P=(k=_(k.toFixed(T).toString().split("."),2))[0],C=k[1],P=P.padStart(S,"0"),C===void 0?P:P+"."+C)}function x(C,S){var T=(C=C.toString()).indexOf("."),P=T!==-1?C.substring(T):"",C=(C=T!==-1?C.substring(0,T):C).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(S===0)P="";else if(S!==void 0)if(S>P.length)for(var M=S-(P+=T===-1?".":"").length+1,j=0;j<M;j++)P+="0";else P=P.substring(0,S+1);return C+P}function E(k){return 0<parseFloat(k)?"+".concat(k.toString()):k.toString()}function A(k){return 0<=parseFloat(k)?" ".concat(k.toString()):k.toString()}c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),m.default.prototype.join=function(k,S){return m.default._validateParameters("join",arguments),k.join(S)},m.default.prototype.match=function(k,S){return m.default._validateParameters("match",arguments),k.match(S)},m.default.prototype.matchAll=function(k,S){m.default._validateParameters("matchAll",arguments);for(var T=new RegExp(S,"g"),P=T.exec(k),C=[];P!==null;)C.push(P),P=T.exec(k);return C},m.default.prototype.nf=function(k,S,T){return m.default._validateParameters("nf",arguments),k instanceof Array?k.map(function(P){return p(P,S,T)}):Object.prototype.toString.call(k)==="[object Arguments]"?k.length===3?this.nf(k[0],k[1],k[2]):k.length===2?this.nf(k[0],k[1]):this.nf(k[0]):p(k,S,T)},m.default.prototype.nfc=function(k,S){return m.default._validateParameters("nfc",arguments),k instanceof Array?k.map(function(T){return x(T,S)}):x(k,S)},m.default.prototype.nfp=function(){for(var k=arguments.length,S=new Array(k),T=0;T<k;T++)S[T]=arguments[T];m.default._validateParameters("nfp",S);var P=m.default.prototype.nf.apply(this,S);return P instanceof Array?P.map(E):E(P)},m.default.prototype.nfs=function(){for(var k=arguments.length,S=new Array(k),T=0;T<k;T++)S[T]=arguments[T];m.default._validateParameters("nfs",S);var P=m.default.prototype.nf.apply(this,S);return P instanceof Array?P.map(A):A(P)},m.default.prototype.split=function(k,S){return m.default._validateParameters("split",arguments),k.split(S)},m.default.prototype.splitTokens=function(k,S){var T,P;return m.default._validateParameters("splitTokens",arguments),P=S!==void 0?(P=/\]/g.exec(S=S),(T=/\[/g.exec(S))&&P?(S=S.slice(0,P.index)+S.slice(P.index+1),T=/\[/g.exec(S),S=S.slice(0,T.index)+S.slice(T.index+1),new RegExp("[\\[".concat(S,"\\]]"),"g")):P?(S=S.slice(0,P.index)+S.slice(P.index+1),new RegExp("[".concat(S,"\\]]"),"g")):T?(S=S.slice(0,T.index)+S.slice(T.index+1),new RegExp("[".concat(S,"\\[]"),"g")):new RegExp("[".concat(S,"]"),"g")):/\s/g,k.split(P).filter(function(C){return C})},m.default.prototype.trim=function(k){return m.default._validateParameters("trim",arguments),k instanceof Array?k.map(this.trim):k.trim()};var b=m.default;y.default=b},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.pad-start":194,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],317:[function(c,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype.day=function(){return new Date().getDate()},c.default.prototype.hour=function(){return new Date().getHours()},c.default.prototype.minute=function(){return new Date().getMinutes()},c.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},c.default.prototype.month=function(){return new Date().getMonth()+1},c.default.prototype.second=function(){return new Date().getSeconds()},c.default.prototype.year=function(){return new Date().getFullYear()},c=c.default,y.default=c},{"../core/main":275}],318:[function(c,g,y){function m(k){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(k)}function _(k){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(S){return m(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":m(S)})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(b=c("../core/main"))&&b.__esModule?b:{default:b},x=(c("./p5.Geometry"),function(k){if(k&&k.__esModule)return k;if(k===null||_(k)!=="object"&&typeof k!="function")return{default:k};var S=E();if(S&&S.has(k))return S.get(k);var T,P={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in k){var M;Object.prototype.hasOwnProperty.call(k,T)&&((M=C?Object.getOwnPropertyDescriptor(k,T):null)&&(M.get||M.set)?Object.defineProperty(P,T,M):P[T]=k[T])}return P.default=k,S&&S.set(k,P),P}(c("../core/constants")));function E(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,E=function(){return k},k)}p.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},p.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},p.default.prototype.buildGeometry=function(k){return this._renderer.buildGeometry(k)},p.default.prototype.freeGeometry=function(k){this._renderer._freeBuffers(k.gid)},p.default.prototype.plane=function(k,S,T,P){this._assert3d("plane"),p.default._validateParameters("plane",arguments),k===void 0&&(k=50),S===void 0&&(S=k),P===void 0&&(P=1);var C,M="plane|".concat(T=T===void 0?1:T,"|").concat(P);return this._renderer.geometryInHash(M)||((C=new p.default.Geometry(T,P,function(){for(var j,I,O=0;O<=this.detailY;O++)for(var R=O/this.detailY,D=0;D<=this.detailX;D++)j=D/this.detailX,I=new p.default.Vector(j-.5,R-.5,0),this.vertices.push(I),this.uvs.push(j,R)})).computeFaces().computeNormals(),T<=1&&P<=1?C._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(M,C)),this._renderer.drawBuffersScaled(M,k,S,1),this},p.default.prototype.box=function(k,S,T,P,C){this._assert3d("box"),p.default._validateParameters("box",arguments),k===void 0&&(k=50),S===void 0&&(S=k),T===void 0&&(T=S);var M,j=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,j=(C===void 0&&(C=j?1:4),"box|".concat(P=P===void 0?j?1:4:P,"|").concat(C));return this._renderer.geometryInHash(j)||((M=new p.default.Geometry(P,C,function(){var I=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(O,R){for(var R=4*R,D=0;D<4;D++){var N=O[D],N=new p.default.Vector((2*(1&N)-1)/2,((2&N)-1)/2,((4&N)/2-1)/2);I.vertices.push(N),I.uvs.push(1&D,(2&D)/2)}I.faces.push([R,1+R,2+R]),I.faces.push([2+R,1+R,3+R])})})).computeNormals(),P<=4&&C<=4?M._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(j,M)),this._renderer.drawBuffersScaled(j,k,S,T),this},p.default.prototype.sphere=function(k,S,T){return this._assert3d("sphere"),p.default._validateParameters("sphere",arguments),this.ellipsoid(k=k===void 0?50:k,k,k,S=S===void 0?24:S,T=T===void 0?16:T),this};function A(k,S,T,P,C,M,j){k=k<=0?1:k,S=S<0?0:S,T=T<=0?k:T,P=P<3?3:P;for(var I,O,R=(M=M===void 0||M)?-2:0,D=(C=C<1?1:C)+((j=j===void 0?S!==0:j)?2:0),N=Math.atan2(k-S,T),U=Math.sin(N),X=Math.cos(N),V=R;V<=D;++V){var K=V/C,W=T*K,Q=void 0,Q=V<0?(K=W=0,k):C<V?(W=T,K=1,S):k+(S-k)*K;for(V!==-2&&V!==C+2||(Q=0),W-=T/2,I=0;I<P;++I){var L=I/(P-1),J=2*Math.PI*L,G=Math.sin(J),J=Math.cos(J),B=(this.vertices.push(new p.default.Vector(G*Q,W,J*Q)),void 0),B=V<0?new p.default.Vector(0,-1,0):C<V&&S?new p.default.Vector(0,1,0):new p.default.Vector(G*X,U,J*X);this.vertexNormals.push(B),this.uvs.push(L,K)}}var Y=0;if(M){for(O=0;O<P;++O)this.faces.push([Y+O,Y+P+(O+1)%P,Y+P+O]);Y+=2*P}for(V=0;V<C;++V){for(I=0;I<P;++I){var ie=(I+1)%P;this.faces.push([Y+I,Y+ie,Y+P+ie]),this.faces.push([Y+I,Y+P+ie,Y+P+I])}Y+=P}if(j)for(Y+=P,I=0;I<P;++I)this.faces.push([Y+I,Y+(I+1)%P,Y+P])}p.default.prototype.cylinder=function(k,S,T,P,C,M){this._assert3d("cylinder"),p.default._validateParameters("cylinder",arguments),k===void 0&&(k=50),S===void 0&&(S=k),P===void 0&&(P=1),M===void 0&&(M=!0),C===void 0&&(C=!0);var j,I="cylinder|".concat(T=T===void 0?24:T,"|").concat(P,"|").concat(C,"|").concat(M);return this._renderer.geometryInHash(I)||(j=new p.default.Geometry(T,P),A.call(j,1,1,1,T,P,C,M),T<=24&&P<=16?j._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(I,j)),this._renderer.drawBuffersScaled(I,k,S,k),this},p.default.prototype.cone=function(k,S,T,P,C){this._assert3d("cone"),p.default._validateParameters("cone",arguments),k===void 0&&(k=50),S===void 0&&(S=k),P===void 0&&(P=1),C===void 0&&(C=!0);var M,j="cone|".concat(T=T===void 0?24:T,"|").concat(P,"|").concat(C);return this._renderer.geometryInHash(j)||(M=new p.default.Geometry(T,P),A.call(M,1,0,1,T,P,C,!1),T<=24&&P<=16?M._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(j,M)),this._renderer.drawBuffersScaled(j,k,S,k),this},p.default.prototype.ellipsoid=function(k,S,T,P,C){this._assert3d("ellipsoid"),p.default._validateParameters("ellipsoid",arguments),k===void 0&&(k=50),S===void 0&&(S=k),T===void 0&&(T=k),C===void 0&&(C=16);var M,j="ellipsoid|".concat(P=P===void 0?24:P,"|").concat(C);return this._renderer.geometryInHash(j)||((M=new p.default.Geometry(P,C,function(){for(var I=0;I<=this.detailY;I++)for(var O=I/this.detailY,R=Math.PI*O-Math.PI/2,D=Math.cos(R),N=Math.sin(R),U=0;U<=this.detailX;U++){var X=U/this.detailX,K=2*Math.PI*X,V=Math.cos(K),K=Math.sin(K),K=new p.default.Vector(D*K,N,D*V);this.vertices.push(K),this.vertexNormals.push(K),this.uvs.push(X,O)}})).computeFaces(),P<=24&&C<=24?M._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(j,M)),this._renderer.drawBuffersScaled(j,k,S,T),this},p.default.prototype.torus=function(k,j,T,P){if(this._assert3d("torus"),p.default._validateParameters("torus",arguments),k===void 0)k=50;else if(!k)return;if(j===void 0)j=10;else if(!j)return;T===void 0&&(T=24),P===void 0&&(P=16);var C,M=(j/k).toPrecision(4),j="torus|".concat(M,"|").concat(T,"|").concat(P);return this._renderer.geometryInHash(j)||((C=new p.default.Geometry(T,P,function(){for(var I=0;I<=this.detailY;I++)for(var O=I/this.detailY,R=2*Math.PI*O,D=Math.cos(R),N=Math.sin(R),U=1+M*D,X=0;X<=this.detailX;X++){var V=X/this.detailX,K=2*Math.PI*V,Q=Math.cos(K),K=Math.sin(K),W=new p.default.Vector(U*Q,U*K,M*N),Q=new p.default.Vector(D*Q,D*K,N);this.vertices.push(W),this.vertexNormals.push(Q),this.uvs.push(V,O)}})).computeFaces(),T<=24&&P<=16?C._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(j,C)),this._renderer.drawBuffersScaled(j,k,k,k),this},p.default.RendererGL.prototype.point=function(k,S,T){var P=[];return P.push(new p.default.Vector(k,S,T=T===void 0?0:T)),this._drawPoints(P,this.immediateMode.buffers.point),this},p.default.RendererGL.prototype.triangle=function(j){var S=j[0],T=j[1],P=j[2],C=j[3],M=j[4],j=j[5],I=(this.geometryInHash("tri")||((I=new p.default.Geometry(1,1,function(){var D=[];D.push(new p.default.Vector(0,0,0)),D.push(new p.default.Vector(1,0,0)),D.push(new p.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=D,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),I.computeNormals(),this.createBuffers("tri",I)),this.uMVMatrix.copy());try{var O=Math.sign(S*C-P*T+P*j-M*C+M*T-S*j),R=new p.default.Matrix([P-S,C-T,0,0,M-S,j-T,0,0,0,0,O,0,S,T,0,1]).mult(this.uMVMatrix);this.uMVMatrix=R,this.drawBuffers("tri")}finally{this.uMVMatrix=I}return this},p.default.RendererGL.prototype.ellipse=function(k){this.arc(k[0],k[1],k[2],k[3],0,x.TWO_PI,x.OPEN,k[4])},p.default.RendererGL.prototype.arc=function(k){var S,T=arguments[1],P=arguments[2],C=arguments[3],M=arguments[4],j=arguments[5],I=arguments[6],O=arguments[7]||25,R=(Math.abs(j-M)>=x.TWO_PI?"".concat(D="ellipse","|"):"".concat(D="arc","|").concat(M,"|").concat(j,"|").concat(I,"|")).concat(O,"|"),D=(this.geometryInHash(R)||((S=new p.default.Geometry(O,1,function(){if(M.toFixed(10)!==j.toFixed(10)){I!==x.PIE&&I!==void 0||(this.vertices.push(new p.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var N=0;N<=O;N++){var X=(j-M)*(N/O)+M,U=.5+Math.cos(X)/2,X=.5+Math.sin(X)/2;this.vertices.push(new p.default.Vector(U,X,0)),this.uvs.push([U,X]),N<O-1&&(this.faces.push([0,N+1,N+2]),this.edges.push([N+1,N+2]))}switch(I){case x.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case x.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case x.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),O<=50?S._edgesToVertices(S):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(D," with more than 50 detail")),this.createBuffers(R,S)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([k,T,0]),this.uMVMatrix.scale(P,C,1),this.drawBuffers(R)}finally{this.uMVMatrix=D}return this},p.default.RendererGL.prototype.rect=function(k){var S=k[0],T=k[1],P=k[2],C=k[3];if(k[4]===void 0){var I=this._pInst._glAttributes.perPixelLighting,M=k[4]||(I?1:24),j=k[5]||(I?1:16),I="rect|".concat(M,"|").concat(j),O=(this.geometryInHash(I)||((O=new p.default.Geometry(M,j,function(){for(var B=0;B<=this.detailY;B++)for(var Y=B/this.detailY,ie=0;ie<=this.detailX;ie++){var ne=ie/this.detailX,Z=new p.default.Vector(ne,Y,0);this.vertices.push(Z),this.uvs.push(ne,Y)}0<M&&0<j&&(this.edges=[[0,M],[M,(M+1)*(j+1)-1],[(M+1)*(j+1)-1,(M+1)*j],[(M+1)*j,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(I,O)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([S,T,0]),this.uMVMatrix.scale(P,C,1),this.drawBuffers(I)}finally{this.uMVMatrix=O}}else{var I=k[4],O=k[5]===void 0?I:k[5],R=k[6]===void 0?O:k[6],k=k[7]===void 0?R:k[7],K=P,D=C,X=((K+=S)<S&&(X=S,S=K,K=X),(D+=T)<T&&(X=T,T=D,D=X),Math.min((K-S)/2,(D-T)/2)),N=(X<I&&(I=X),X<O&&(O=X),X<R&&(R=X),X<k&&(k=X),S),U=T,X=K,S=D,V=(this.beginShape(),O!==0?(this.vertex(X-O,U),this.quadraticVertex(X,U,X,U+O)):this.vertex(X,U),R!==0?(this.vertex(X,S-R),this.quadraticVertex(X,S,X-R,S)):this.vertex(X,S),k!==0?(this.vertex(N+k,S),this.quadraticVertex(N,S,N,S-k)):this.vertex(N,S),I!==0?(this.vertex(N,U+I),this.quadraticVertex(N,U,N+I,U)):this.vertex(N,U),!(this.immediateMode.geometry.uvs.length=0)),T=!1,K=void 0;try{for(var W,Q=this.immediateMode.geometry.vertices[Symbol.iterator]();!(V=(W=Q.next()).done);V=!0){var L=W.value,G=(L.x-N)/P,J=(L.y-U)/C;this.immediateMode.geometry.uvs.push(G,J)}}catch(H){T=!0,K=H}finally{try{V||Q.return==null||Q.return()}finally{if(T)throw K}}this.endShape(x.CLOSE)}return this},p.default.RendererGL.prototype.quad=function(k,S,T,P,C,M,j,I,O,R,D,N,U,X){U===void 0&&(U=2),X===void 0&&(X=2);var V="quad|".concat(k,"|").concat(S,"|").concat(T,"|").concat(P,"|").concat(C,"|").concat(M,"|").concat(j,"|").concat(I,"|").concat(O,"|").concat(R,"|").concat(D,"|").concat(N,"|").concat(U,"|").concat(X);if(!this.geometryInHash(V)){var K=new p.default.Geometry(U,X,function(){for(var ie=1/(this.detailX-1),ne=1/(this.detailY-1),Z=0;Z<this.detailY;Z++)for(var H=0;H<this.detailX;H++){var z=H*ie,ee=Z*ne;this.vertices.push(new p.default.Vector((1-z)*((1-ee)*k+ee*R)+z*((1-ee)*P+ee*j),(1-z)*((1-ee)*S+ee*D)+z*((1-ee)*C+ee*I),(1-z)*((1-ee)*T+ee*N)+z*((1-ee)*M+ee*O))),this.uvs.push([z,ee])}});K.faces=[];for(var W=0;W<X-1;W++)for(var Q=0;Q<U-1;Q++){var L=Q+W*U,G=Q+1+(W+1)*U,J=Q+(W+1)*U;K.faces.push([L,Q+1+W*U,G]),K.faces.push([L,G,J])}K.computeNormals();for(var B=[K.edges.length=0,2,3,1],Y=0;Y<B.length;Y++)K.edges.push([B[Y],B[(Y+1)%B.length]]);K._edgesToVertices(),this.createBuffers(V,K)}return this.drawBuffers(V),this},p.default.RendererGL.prototype.bezier=function(k,S,T,P,C,M,j,I,O,R,D,N){arguments.length===8&&(D=I,R=j,I=M,j=C,C=P,P=T,T=M=O=N=0);var U=this._pInst._bezierDetail||20;this.beginShape();for(var X=0;X<=U;X++){var V=Math.pow(1-X/U,3),K=X/U*3*Math.pow(1-X/U,2),W=3*Math.pow(X/U,2)*(1-X/U),Q=Math.pow(X/U,3);this.vertex(k*V+P*K+j*W+R*Q,S*V+C*K+I*W+D*Q,T*V+M*K+O*W+N*Q)}return this.endShape(),this},p.default.RendererGL.prototype.curve=function(k,S,T,P,C,M,j,I,O,R,D,N){arguments.length===8&&(R=j,D=I,j=C,I=P,C=P=T,T=M=O=N=0);var U=this._pInst._curveDetail;this.beginShape();for(var X=0;X<=U;X++){var V=.5*Math.pow(X/U,3),K=.5*Math.pow(X/U,2),W=X/U*.5;this.vertex(V*(3*P-k-3*j+R)+K*(2*k-5*P+4*j-R)+W*(-k+j)+2*P*.5,V*(3*C-S-3*I+D)+K*(2*S-5*C+4*I-D)+W*(-S+I)+2*C*.5,V*(3*M-T-3*O+N)+K*(2*T-5*M+4*O-N)+W*(-T+O)+2*M*.5)}return this.endShape(),this},p.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(x.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(x.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},p.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var k,S,T,P,C,M,j=[],I=[],O=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var R=1/this._lutBezierDetail,D=0,N=1,U=0;D<1;){if(M=parseFloat(D.toFixed(6)),this._lookUpTableBezier[U]=this._bezierCoefficients(M),N.toFixed(6)===R.toFixed(6)){M=parseFloat(N.toFixed(6))+parseFloat(D.toFixed(6)),++U,this._lookUpTableBezier[U]=this._bezierCoefficients(M);break}D+=R,N-=R,++U}}for(var X=this._lookUpTableBezier.length,V=[],K=0;K<4;K++)V.push([]);V[0]=this.immediateMode.geometry.vertexColors.slice(-4),V[3]=this.curFillColor.slice();var W=[];for(K=0;K<4;K++)W.push([]);if(W[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),W[3]=this.curStrokeColor.slice(),O===6){this.isBezier=!0;var j=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],I=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],Q=Math.hypot(j[0]-j[1],I[0]-I[1]),G=Math.hypot(j[1]-j[2],I[1]-I[2]),L=Math.hypot(j[2]-j[3],I[2]-I[3]),G=Q+G+L;for(Q/=G,L/=G,C=0;C<4;C++)V[1].push(V[0][C]*(1-Q)+V[3][C]*Q),V[2].push(V[0][C]*L+V[3][C]*(1-L)),W[1].push(W[0][C]*(1-Q)+W[3][C]*Q),W[2].push(W[0][C]*L+W[3][C]*(1-L));for(P=0;P<X;P++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],K=k=S=0;K<4;K++){for(C=0;C<4;C++)this.curFillColor[C]+=this._lookUpTableBezier[P][K]*V[K][C],this.curStrokeColor[C]+=this._lookUpTableBezier[P][K]*W[K][C];k+=j[K]*this._lookUpTableBezier[P][K],S+=I[K]*this._lookUpTableBezier[P][K]}this.vertex(k,S)}this.curFillColor=V[3],this.curStrokeColor=W[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(O===9){this.isBezier=!0,j=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],I=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var J=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],B=Math.hypot(j[0]-j[1],I[0]-I[1],J[0]-J[1]),G=Math.hypot(j[1]-j[2],I[1]-I[2],J[1]-J[2]),Y=Math.hypot(j[2]-j[3],I[2]-I[3],J[2]-J[3]),O=B+G+Y;for(B/=O,Y/=O,C=0;C<4;C++)V[1].push(V[0][C]*(1-B)+V[3][C]*B),V[2].push(V[0][C]*Y+V[3][C]*(1-Y)),W[1].push(W[0][C]*(1-B)+W[3][C]*B),W[2].push(W[0][C]*Y+W[3][C]*(1-Y));for(P=0;P<X;P++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],K=k=S=T=0;K<4;K++){for(C=0;C<4;C++)this.curFillColor[C]+=this._lookUpTableBezier[P][K]*V[K][C],this.curStrokeColor[C]+=this._lookUpTableBezier[P][K]*W[K][C];k+=j[K]*this._lookUpTableBezier[P][K],S+=I[K]*this._lookUpTableBezier[P][K],T+=J[K]*this._lookUpTableBezier[P][K]}this.vertex(k,S,T)}this.curFillColor=V[3],this.curStrokeColor=W[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},p.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var k,S,T,P,C,M,j=[],I=[],O=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var R=1/this._lutQuadraticDetail,D=0,N=1,U=0;D<1;){if(M=parseFloat(D.toFixed(6)),this._lookUpTableQuadratic[U]=this._quadraticCoefficients(M),N.toFixed(6)===R.toFixed(6)){M=parseFloat(N.toFixed(6))+parseFloat(D.toFixed(6)),++U,this._lookUpTableQuadratic[U]=this._quadraticCoefficients(M);break}D+=R,N-=R,++U}}for(var X=this._lookUpTableQuadratic.length,V=[],K=0;K<3;K++)V.push([]);V[0]=this.immediateMode.geometry.vertexColors.slice(-4),V[2]=this.curFillColor.slice();var W=[];for(K=0;K<3;K++)W.push([]);if(W[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),W[2]=this.curStrokeColor.slice(),O===4){this.isQuadratic=!0;var j=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],I=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],Q=Math.hypot(j[0]-j[1],I[0]-I[1]);for(Q/=Q+Math.hypot(j[1]-j[2],I[1]-I[2]),C=0;C<4;C++)V[1].push(V[0][C]*(1-Q)+V[2][C]*Q),W[1].push(W[0][C]*(1-Q)+W[2][C]*Q);for(P=0;P<X;P++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],K=k=S=0;K<3;K++){for(C=0;C<4;C++)this.curFillColor[C]+=this._lookUpTableQuadratic[P][K]*V[K][C],this.curStrokeColor[C]+=this._lookUpTableQuadratic[P][K]*W[K][C];k+=j[K]*this._lookUpTableQuadratic[P][K],S+=I[K]*this._lookUpTableQuadratic[P][K]}this.vertex(k,S)}this.curFillColor=V[2],this.curStrokeColor=W[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(O===6){this.isQuadratic=!0,j=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],I=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var L=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],G=Math.hypot(j[0]-j[1],I[0]-I[1],L[0]-L[1]);for(G/=G+Math.hypot(j[1]-j[2],I[1]-I[2],L[1]-L[2]),C=0;C<4;C++)V[1].push(V[0][C]*(1-G)+V[2][C]*G),W[1].push(W[0][C]*(1-G)+W[2][C]*G);for(P=0;P<X;P++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],K=k=S=T=0;K<3;K++){for(C=0;C<4;C++)this.curFillColor[C]+=this._lookUpTableQuadratic[P][K]*V[K][C],this.curStrokeColor[C]+=this._lookUpTableQuadratic[P][K]*W[K][C];k+=j[K]*this._lookUpTableQuadratic[P][K],S+=I[K]*this._lookUpTableQuadratic[P][K],T+=L[K]*this._lookUpTableQuadratic[P][K]}this.vertex(k,S,T)}this.curFillColor=V[2],this.curStrokeColor=W[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},p.default.RendererGL.prototype.curveVertex=function(){var k,S,T,P,C,M,j=[],I=[],O=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var R=1/this._lutBezierDetail,D=0,N=1,U=0;D<1;){if(M=parseFloat(D.toFixed(6)),this._lookUpTableBezier[U]=this._bezierCoefficients(M),N.toFixed(6)===R.toFixed(6)){M=parseFloat(N.toFixed(6))+parseFloat(D.toFixed(6)),++U,this._lookUpTableBezier[U]=this._bezierCoefficients(M);break}D+=R,N-=R,++U}}var X=this._lookUpTableBezier.length;if(O===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,j=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),I=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),C=0;C<X;C++)S=j[0]*this._lookUpTableBezier[C][0]+j[1]*this._lookUpTableBezier[C][1]+j[2]*this._lookUpTableBezier[C][2]+j[3]*this._lookUpTableBezier[C][3],T=I[0]*this._lookUpTableBezier[C][0]+I[1]*this._lookUpTableBezier[C][1]+I[2]*this._lookUpTableBezier[C][2]+I[3]*this._lookUpTableBezier[C][3],this.vertex(S,T);for(C=0;C<O;C++)this.immediateMode._curveVertex.shift()}}else if(O===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,j=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),I=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),k=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),C=0;C<X;C++)S=j[0]*this._lookUpTableBezier[C][0]+j[1]*this._lookUpTableBezier[C][1]+j[2]*this._lookUpTableBezier[C][2]+j[3]*this._lookUpTableBezier[C][3],T=I[0]*this._lookUpTableBezier[C][0]+I[1]*this._lookUpTableBezier[C][1]+I[2]*this._lookUpTableBezier[C][2]+I[3]*this._lookUpTableBezier[C][3],P=k[0]*this._lookUpTableBezier[C][0]+k[1]*this._lookUpTableBezier[C][1]+k[2]*this._lookUpTableBezier[C][2]+k[3]*this._lookUpTableBezier[C][3],this.vertex(S,T,P);for(C=0;C<O;C++)this.immediateMode._curveVertex.shift()}},p.default.RendererGL.prototype.image=function(k,N,T,U,C,M,j,I,O){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(k),this._pInst.textureMode(x.NORMAL);var R=0,D=(N<=k.width&&(R=N/k.width),1),N=(N+U<=k.width&&(D=(N+U)/k.width),0),U=(T<=k.height&&(N=T/k.height),1);T+C<=k.height&&(U=(T+C)/k.height),this.beginShape(),this.vertex(M,j,0,R,N),this.vertex(M+I,j,0,D,N),this.vertex(M+I,j+O,0,D,U),this.vertex(M,j+O,0,R,U),this.endShape(x.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(x.REMOVE)};var b=p.default;y.default=b},{"../core/constants":264,"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],319:[function(c,g,y){function m(S){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(S)}function _(S){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(T){return m(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":m(T)})(S)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.map"),c("core-js/modules/es.object.assign"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(k=c("../core/main"))&&k.__esModule?k:{default:k},x=function(S){if(S&&S.__esModule)return S;if(S===null||_(S)!=="object"&&typeof S!="function")return{default:S};var T=E();if(T&&T.has(S))return T.get(S);var P,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in S){var j;Object.prototype.hasOwnProperty.call(S,P)&&((j=M?Object.getOwnPropertyDescriptor(S,P):null)&&(j.get||j.set)?Object.defineProperty(C,P,j):C[P]=S[P])}return C.default=S,T&&T.set(S,C),C}(c("../core/constants"));function E(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,E=function(){return S},S)}function A(S){return function(T){if(Array.isArray(T)){for(var P=0,C=new Array(T.length);P<T.length;P++)C[P]=T[P];return C}}(S)||function(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(S,T){for(var P=0;P<T.length;P++){var C=T[P];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}var k=function(){function S(C){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");(this.renderer=C)._pInst.push(),this.identityMatrix=new p.default.Matrix,C.uMVMatrix=new p.default.Matrix,this.geometry=new p.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(S.nextGeometryId),S.nextGeometryId++,this.hasTransform=!1}var T,P;return T=S,(P=[{key:"transformVertices",value:function(C){var M=this;return this.hasTransform?C.map(function(j){return M.renderer.uMVMatrix.multiplyPoint(j)}):C}},{key:"transformNormals",value:function(C){var M=this;return this.hasTransform?C.map(function(j){return M.renderer.uNMatrix.multiplyVec3(j)}):C}},{key:"addGeometry",value:function(C){for(var M,j=this,I=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(R,D){return R===j.identityMatrix.mat4[D]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),O=((M=this.geometry.vertices).push.apply(M,A(this.transformVertices(C.vertices))),(M=this.geometry.vertexNormals).push.apply(M,A(this.transformNormals(C.vertexNormals))),(M=this.geometry.uvs).push.apply(M,A(C.uvs)),this.renderer._doFill&&(M=this.geometry.faces).push.apply(M,A(C.faces.map(function(R){return R.map(function(D){return D+I})}))),this.renderer._doStroke&&(M=this.geometry.edges).push.apply(M,A(C.edges.map(function(R){return R.map(function(D){return D+I})}))),A(C.vertexColors));O.length<4*C.vertices.length;)O.push.apply(O,A(this.renderer.curFillColor));(M=this.geometry.vertexColors).push.apply(M,A(O))}},{key:"addImmediate",value:function(){var C=this.renderer.immediateMode.geometry,M=this.renderer.immediateMode.shapeMode,j=[];if(this.renderer._doFill)if(M===x.TRIANGLE_STRIP||M===x.QUAD_STRIP)for(var I=2;I<C.vertices.length;I++)I%2==0?j.push([I,I-1,I-2]):j.push([I,I-2,I-1]);else if(M===x.TRIANGLE_FAN)for(var O=2;O<C.vertices.length;O++)j.push([0,O-1,O]);else for(var R=0;R<C.vertices.length;R+=3)j.push([R,R+1,R+2]);this.addGeometry(Object.assign({},C,{faces:j}))}},{key:"addRetained",value:function(C){this.addGeometry(C.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&b(T.prototype,P),S}();k.nextGeometryId=0,y.default=k},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],320:[function(c,g,y){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(b)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var _=(A=c("../core/main"))&&A.__esModule?A:{default:A},p=function(b){if(b&&b.__esModule)return b;if(b===null||E(b)!=="object"&&typeof b!="function")return{default:b};var k=x();if(k&&k.has(b))return k.get(b);var S,T={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var C;Object.prototype.hasOwnProperty.call(b,S)&&((C=P?Object.getOwnPropertyDescriptor(b,S):null)&&(C.get||C.set)?Object.defineProperty(T,S,C):T[S]=b[S])}return T.default=b,k&&k.set(b,T),T}(c("../core/constants"));function x(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,x=function(){return b},b)}function E(b){return(E=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(k){return m(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":m(k)})(b)}_.default.prototype.orbitControl=function(b,k,S,O){var P=this,C=(this._assert3d("orbitControl"),_.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);b===void 0&&(b=1),k===void 0&&(k=b),S===void 0&&(S=1),E(O)!=="object"&&(O={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var D=O.disableTouchActions;this.touchActionsDisabled===!0||D!==void 0&&!D||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var M,j,I,D=O.freeRotation,O=D!==void 0&&D,R=[],D=(this.touches.forEach(function(Q){P._renderer.prevTouches.forEach(function(L){Q.id===L.id&&(L={x:Q.x,y:Q.y,px:L.x,py:L.y},R.push(L))})}),this._renderer.prevTouches=this.touches,0),N=0,U=0,X=0,V=0,K=this.height<this.width?this.height:this.width,W=!1;return 0<R.length?(W=0<R[0].x&&R[0].x<this.width&&0<R[0].y&&R[0].y<this.height,R.length===1?(N=-b*((M=R[0]).x-M.px)/K,U=k*(M.y-M.py)/K):(M=R[0],j=R[1],D=-(Math.hypot(M.x-j.x,M.y-j.y)-Math.hypot(M.px-j.px,M.py-j.py))*S*4e-4,X=.5*(M.x+j.x)-.5*(M.px+j.px),V=.5*(M.y+j.y)-.5*(M.py+j.py)),0<this.touches.length?W&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(W=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(D=Math.sign(this._mouseWheelDeltaY)*S,D*=.01,this._mouseWheelDeltaY=0,W&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(N=-b*this.movedX/K,U=k*this.movedY/K):this.mouseButton===this.RIGHT&&(X=this.movedX,V=this.movedY*C.yScale),W&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),D!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=D),.001<Math.abs(this._renderer.zoomVelocity)?(O?C._orbitFree(0,0,this._renderer.zoomVelocity):C._orbit(0,0,this._renderer.zoomVelocity),C.projMatrix.mat4[15]!==0&&(C.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),C.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=C.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=C.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,N===0&&U===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*N,.6*U),1e-6<this._renderer.rotateVelocity.magSq()?(O?C._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):C._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),X===0&&V===0||!this._renderer.executeRotateAndMove||(M=2*X/this.width,j=2*-V/this.height,this._renderer.moveVelocity.add(.15*M,.15*j)),1e-6<this._renderer.moveVelocity.magSq()?(S=C._getLocalAxes(),b=C.eyeX-C.centerX,k=C.eyeY-C.centerY,K=C.eyeZ-C.centerZ,W=Math.sqrt(b*b+k*k+K*K),D=new _.default.Vector(C.centerX,C.centerY,C.centerZ),D=C.cameraMatrix.multiplyPoint(D),(D=this._renderer.uPMatrix.multiplyAndNormalizePoint(D)).x-=this._renderer.moveVelocity.x,D.y-=this._renderer.moveVelocity.y,U=(N=this._renderer.uPMatrix.mat4)[15]===0?(I=(N[8]+D.x)/N[0]*W,(N[9]+D.y)/N[5]*W):(I=(D.x-N[12])/N[0],(D.y-N[13])/N[5]),C.setPosition(C.eyeX+I*S.x[0]+U*S.y[0],C.eyeY+I*S.x[1]+U*S.y[1],C.eyeZ+I*S.x[2]+U*S.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},_.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var b=arguments.length,k=new Array(b),S=0;S<b;S++)k[S]=arguments[S];_.default._validateParameters("debugMode",k);for(var T=this._registeredMethods.post.length-1;0<=T;T--)this._registeredMethods.post[T].toString()!==this._grid().toString()&&this._registeredMethods.post[T].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(T,1);k[0]===p.GRID?this.registerMethod("post",this._grid.call(this,k[1],k[2],k[3],k[4],k[5])):k[0]===p.AXES?this.registerMethod("post",this._axesIcon.call(this,k[1],k[2],k[3],k[4])):(this.registerMethod("post",this._grid.call(this,k[0],k[1],k[2],k[3],k[4])),this.registerMethod("post",this._axesIcon.call(this,k[5],k[6],k[7],k[8])))},_.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var b=this._registeredMethods.post.length-1;0<=b;b--)this._registeredMethods.post[b].toString()!==this._grid().toString()&&this._registeredMethods.post[b].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(b,1)},_.default.prototype._grid=function(b,k,S,T,P){b===void 0&&(b=this.width/2),k===void 0&&(k=Math.round(b/30)<4?4:Math.round(b/30)),S===void 0&&(S=0),T===void 0&&(T=0),P===void 0&&(P=0);var C=b/k,M=b/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var j=0;j<=k;j++)this.beginShape(this.LINES),this.vertex(-M+S,T,j*C-M+P),this.vertex(M+S,T,j*C-M+P),this.endShape();for(var I=0;I<=k;I++)this.beginShape(this.LINES),this.vertex(I*C-M+S,T,-M+P),this.vertex(I*C-M+S,T,M+P),this.endShape();this.pop()}},_.default.prototype._axesIcon=function(b,k,S,T){return b===void 0&&(b=40<this.width/20?this.width/20:40),k===void 0&&(k=-this.width/4),S===void 0&&(S=k),T===void 0&&(T=k),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(k,S,T),this.vertex(k+b,S,T),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(k,S,T),this.vertex(k,S+b,T),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(k,S,T),this.vertex(k,S,T+b),this.endShape(),this.pop()}};var A=_.default;y.default=A},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],321:[function(c,g,y){Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};m.default.prototype.ambientLight=function(_,p,x,E){this._assert3d("ambientLight"),m.default._validateParameters("ambientLight",arguments);var A=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(A._array[0],A._array[1],A._array[2]),this._renderer._enableLighting=!0,this},m.default.prototype.specularColor=function(_,p,x){this._assert3d("specularColor"),m.default._validateParameters("specularColor",arguments);var E=this.color.apply(this,arguments);return this._renderer.specularColors=[E._array[0],E._array[1],E._array[2]],this},m.default.prototype.directionalLight=function(_,P,T,E,A,b){this._assert3d("directionalLight"),m.default._validateParameters("directionalLight",arguments),_=_ instanceof m.default.Color?_:this.color(_,P,T);var k,S,P=arguments[arguments.length-1],T=typeof P=="number"?(k=arguments[arguments.length-3],S=arguments[arguments.length-2],arguments[arguments.length-1]):(k=P.x,S=P.y,P.z),P=Math.sqrt(k*k+S*S+T*T);return this._renderer.directionalLightDirections.push(k/P,S/P,T/P),this._renderer.directionalLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},m.default.prototype.pointLight=function(_,T,P,E,A,b){this._assert3d("pointLight"),m.default._validateParameters("pointLight",arguments),_=_ instanceof m.default.Color?_:this.color(_,T,P);var k,S,T=arguments[arguments.length-1],P=typeof T=="number"?(k=arguments[arguments.length-3],S=arguments[arguments.length-2],arguments[arguments.length-1]):(k=T.x,S=T.y,T.z);return this._renderer.pointLightPositions.push(k,S,P),this._renderer.pointLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},m.default.prototype.imageLight=function(_){this._renderer.activeImageLight=_,this._renderer._enableLighting=!0},m.default.prototype.lights=function(){this._assert3d("lights");var _=this.color("rgb(128,128,128)");return this.ambientLight(_),this.directionalLight(_,0,0,-1),this},m.default.prototype.lightFalloff=function(_,p,x){return this._assert3d("lightFalloff"),m.default._validateParameters("lightFalloff",arguments),_<0&&(_=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),p<0&&(p=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),x<0&&(x=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),_===0&&p===0&&x===0&&(_=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=_,this._renderer.linearAttenuation=p,this._renderer.quadraticAttenuation=x,this},m.default.prototype.spotLight=function(_,p,x,E,A,b,k,S,T,P,C){this._assert3d("spotLight"),m.default._validateParameters("spotLight",arguments);var M,j,I,O=arguments.length;switch(O){case 11:case 10:M=this.color(_,p,x),j=new m.default.Vector(E,A,b),I=new m.default.Vector(k,S,T);break;case 9:_ instanceof m.default.Color?(M=_,j=new m.default.Vector(p,x,E),I=new m.default.Vector(A,b,k),P=S,C=T):E instanceof m.default.Vector?(M=this.color(_,p,x),j=E,I=new m.default.Vector(A,b,k),P=S,C=T):k instanceof m.default.Vector?(M=this.color(_,p,x),j=new m.default.Vector(E,A,b),I=k,P=S,C=T):(M=this.color(_,p,x),j=new m.default.Vector(E,A,b),I=new m.default.Vector(k,S,T));break;case 8:P=(I=_ instanceof m.default.Color?(M=_,j=new m.default.Vector(p,x,E),new m.default.Vector(A,b,k)):E instanceof m.default.Vector?(M=this.color(_,p,x),j=E,new m.default.Vector(A,b,k)):(M=this.color(_,p,x),j=new m.default.Vector(E,A,b),k),S);break;case 7:_ instanceof m.default.Color&&p instanceof m.default.Vector?(M=_,j=p,I=new m.default.Vector(x,E,A),P=b,C=k):_ instanceof m.default.Color&&A instanceof m.default.Vector?(M=_,j=new m.default.Vector(p,x,E),I=A,P=b,C=k):E instanceof m.default.Vector&&A instanceof m.default.Vector?(M=this.color(_,p,x),j=E,I=A,P=b,C=k):I=_ instanceof m.default.Color?(M=_,j=new m.default.Vector(p,x,E),new m.default.Vector(A,b,k)):E instanceof m.default.Vector?(M=this.color(_,p,x),j=E,new m.default.Vector(A,b,k)):(M=this.color(_,p,x),j=new m.default.Vector(E,A,b),k);break;case 6:E instanceof m.default.Vector&&A instanceof m.default.Vector?(M=this.color(_,p,x),j=E,I=A,P=b):_ instanceof m.default.Color&&A instanceof m.default.Vector?(M=_,j=new m.default.Vector(p,x,E),I=A,P=b):_ instanceof m.default.Color&&p instanceof m.default.Vector&&(M=_,j=p,I=new m.default.Vector(x,E,A),P=b);break;case 5:_ instanceof m.default.Color&&p instanceof m.default.Vector&&x instanceof m.default.Vector?(M=_,j=p,I=x,P=E,C=A):E instanceof m.default.Vector&&A instanceof m.default.Vector?(M=this.color(_,p,x),j=E,I=A):_ instanceof m.default.Color&&A instanceof m.default.Vector?(M=_,j=new m.default.Vector(p,x,E),I=A):_ instanceof m.default.Color&&p instanceof m.default.Vector&&(M=_,j=p,I=new m.default.Vector(x,E,A));break;case 4:M=_,j=p,I=x,P=E;break;case 3:M=_,j=p,I=x;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(O<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(M._array[0],M._array[1],M._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(j.x,j.y,j.z),I.normalize(),this._renderer.spotLightDirections.push(I.x,I.y,I.z),P===void 0&&(P=Math.PI/3),C!==void 0&&C<1?(C=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):C===void 0&&(C=100),P=this._renderer._pInst._toRadians(P),this._renderer.spotLightAngle.push(Math.cos(P)),this._renderer.spotLightConc.push(C),this._renderer._enableLighting=!0,this},m.default.prototype.noLights=function(){this._assert3d("noLights");for(var _=arguments.length,p=new Array(_),x=0;x<_;x++)p[x]=arguments[x];return m.default._validateParameters("noLights",p),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},c=m.default,y.default=c},{"../core/main":275}],322:[function(c,g,y){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(_=c("../core/main"))&&_.__esModule?_:{default:_};c("./p5.Geometry"),m.default.prototype.loadModel=function(p){m.default._validateParameters("loadModel",arguments);var x,E,A,b=p.slice(-4),k=(typeof arguments[1]=="boolean"?(x=arguments[1],E=arguments[2],A=arguments[3],arguments[4]!==void 0&&(b=arguments[4])):(x=!1,E=arguments[1],A=arguments[2],arguments[3]!==void 0&&(b=arguments[3])),new m.default.Geometry),S=(k.gid="".concat(p,"|").concat(x),this);return b.match(/\.stl$/i)?this.httpDo(p,"GET","arrayBuffer",function(T){(function(P,C){if(function(M){for(var j=new DataView(M),I=[115,111,108,105,100],O=0;O<5;O++)if(function(R,D,N){for(var U=0,X=R.length;U<X;U++)if(R[U]!==D.getUint8(N+U,!1))return;return 1}(I,j,O))return;return 1}(C))(function(M,j){for(var I,O,R,D,N,U,X,V=new DataView(j),K=V.getUint32(80,!0),W=!1,Q=0;Q<70;Q++)V.getUint32(Q,!1)===1129270351&&V.getUint8(Q+4)===82&&V.getUint8(Q+5)===61&&(W=!0,D=[],N=V.getUint8(Q+6)/255,U=V.getUint8(Q+7)/255,X=V.getUint8(Q+8)/255);for(var L=0;L<K;L++){for(var G,J=84+50*L,B=V.getFloat32(J,!0),Y=V.getFloat32(4+J,!0),ie=V.getFloat32(8+J,!0),ne=(W&&(G=V.getUint16(48+J,!0),R=32768&G?(I=N,O=U,X):(I=(31&G)/31,O=(G>>5&31)/31,(G>>10&31)/31)),new m.default.Vector(B,Y,ie)),Z=1;Z<=3;Z++){var H=J+12*Z,H=new m.default.Vector(V.getFloat32(H,!0),V.getFloat32(4+H,!0),V.getFloat32(8+H,!0));M.vertices.push(H),M.vertexNormals.push(ne),W&&D.push(I,O,R)}M.faces.push([3*L,3*L+1,3*L+2]),M.uvs.push([0,0],[0,0],[0,0])}})(P,C);else{if(C=new DataView(C),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");C=new TextDecoder("utf-8").decode(C).split(`
`),function(M,j){for(var I,O,R="",D=[],N=0;N<j.length;++N){for(var U=j[N].trim(),X=U.split(" "),V=0;V<X.length;++V)X[V]===""&&X.splice(V,1);if(X.length!==0)switch(R){case"":if(X[0]!=="solid")return console.error(U),console.error('Invalid state "'.concat(X[0],'", should be "solid"'));R="solid";break;case"solid":if(X[0]!=="facet"||X[1]!=="normal")return console.error(U),console.error('Invalid state "'.concat(X[0],'", should be "facet normal"'));I=new m.default.Vector(parseFloat(X[2]),parseFloat(X[3]),parseFloat(X[4])),M.vertexNormals.push(I,I,I),R="facet normal";break;case"facet normal":if(X[0]!=="outer"||X[1]!=="loop")return console.error(U),console.error('Invalid state "'.concat(X[0],'", should be "outer loop"'));R="vertex";break;case"vertex":if(X[0]==="vertex")O=new m.default.Vector(parseFloat(X[1]),parseFloat(X[2]),parseFloat(X[3])),M.vertices.push(O),M.uvs.push([0,0]),D.push(M.vertices.indexOf(O));else{if(X[0]!=="endloop")return console.error(U),console.error('Invalid state "'.concat(X[0],'", should be "vertex" or "endloop"'));M.faces.push(D),D=[],R="endloop"}break;case"endloop":if(X[0]!=="endfacet")return console.error(U),console.error('Invalid state "'.concat(X[0],'", should be "endfacet"'));R="endfacet";break;case"endfacet":if(X[0]!=="endsolid"){if(X[0]!=="facet"||X[1]!=="normal")return console.error(U),console.error('Invalid state "'.concat(X[0],'", should be "endsolid" or "facet normal"'));I=new m.default.Vector(parseFloat(X[2]),parseFloat(X[3]),parseFloat(X[4])),M.vertexNormals.push(I,I,I),R="facet normal"}break;default:console.error('Invalid state "'.concat(R,'"'))}}}(P,C)}})(k,T),x&&k.normalize(),S._decrementPreload(),typeof E=="function"&&E(k)},A):b.match(/\.obj$/i)?this.loadStrings(p,function(T){for(var P=k,C=T,M={v:[],vt:[],vn:[]},j={},I=0;I<C.length;++I){var O=C[I].trim().split(/\b\s+/);if(0<O.length){if(O[0]==="v"||O[0]==="vn"){var R=new m.default.Vector(parseFloat(O[1]),parseFloat(O[2]),parseFloat(O[3]));M[O[0]].push(R)}else if(O[0]==="vt")R=[parseFloat(O[1]),1-parseFloat(O[2])],M[O[0]].push(R);else if(O[0]==="f")for(var D=3;D<O.length;++D){for(var N=[],U=[1,D-1,D],X=0;X<U.length;++X){var V=O[U[X]],K=0;if(j[V]!==void 0)K=j[V];else{for(var W=V.split("/"),Q=0;Q<W.length;Q++)W[Q]=parseInt(W[Q])-1;K=j[V]=P.vertices.length,P.vertices.push(M.v[W[0]].copy()),M.vt[W[1]]?P.uvs.push(M.vt[W[1]].slice()):P.uvs.push([0,0]),M.vn[W[2]]&&P.vertexNormals.push(M.vn[W[2]].copy())}N.push(K)}N[0]!==N[1]&&N[0]!==N[2]&&N[1]!==N[2]&&P.faces.push(N)}}}P.vertexNormals.length===0&&P.computeNormals(),x&&k.normalize(),S._decrementPreload(),typeof E=="function"&&E(k)},A):(m.default._friendlyFileLoadError(3,p),A?A():m.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),k},m.default.prototype.model=function(p){this._assert3d("model"),m.default._validateParameters("model",arguments),0<p.vertices.length&&(this._renderer.geometryInHash(p.gid)||(p.edges.length===0&&p._makeTriangleEdges(),p._edgesToVertices(),this._renderer.createBuffers(p.gid,p)),this._renderer.drawBuffers(p.gid))};var _=m.default;y.default=_},{"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201}],323:[function(c,g,y){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(b)}function _(b){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(k){return m(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":m(k)})(b)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(A=c("../core/main"))&&A.__esModule?A:{default:A},x=function(b){if(b&&b.__esModule)return b;if(b===null||_(b)!=="object"&&typeof b!="function")return{default:b};var k=E();if(k&&k.has(b))return k.get(b);var S,T={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var C;Object.prototype.hasOwnProperty.call(b,S)&&((C=P?Object.getOwnPropertyDescriptor(b,S):null)&&(C.get||C.set)?Object.defineProperty(T,S,C):T[S]=b[S])}return T.default=b,k&&k.set(b,T),T}(c("../core/constants"));function E(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,E=function(){return b},b)}c("./p5.Texture"),p.default.prototype.loadShader=function(b,k,S,T){p.default._validateParameters("loadShader",arguments),T=T||console.error;function P(){M._decrementPreload(),S&&S(C)}var C=new p.default.Shader,M=this,j=!1,I=!1;return this.loadStrings(b,function(O){C._vertSrc=O.join(`
`),I=!0,j&&P()},T),this.loadStrings(k,function(O){C._fragSrc=O.join(`
`),j=!0,I&&P()},T),C},p.default.prototype.createShader=function(b,k){return p.default._validateParameters("createShader",arguments),new p.default.Shader(this._renderer,b,k)},p.default.prototype.createFilterShader=function(b){p.default._validateParameters("createFilterShader",arguments);var k=b.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,k=new p.default.Shader(this._renderer,k,b);return this._renderer.GL?k.ensureCompiledOnContext(this):k.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),k},p.default.prototype.shader=function(b){return this._assert3d("shader"),p.default._validateParameters("shader",arguments),b.ensureCompiledOnContext(this),b.isStrokeShader()?this._renderer.userStrokeShader=b:(this._renderer.userFillShader=b,this._renderer._useNormalMaterial=!1),this},p.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},p.default.prototype.texture=function(b){return this._assert3d("texture"),p.default._validateParameters("texture",arguments),b.gifProperties&&b._animateGif(this),this._renderer.drawMode=x.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=b,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.textureMode=function(b){b!==x.IMAGE&&b!==x.NORMAL?console.warn("You tried to set ".concat(b," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=b},p.default.prototype.textureWrap=function(b){var k=1<arguments.length&&arguments[1]!==void 0?arguments[1]:b,S=(this._renderer.textureWrapX=b,this._renderer.textureWrapY=k,!0),T=!1,P=void 0;try{for(var C,M=this._renderer.textures.values()[Symbol.iterator]();!(S=(C=M.next()).done);S=!0)C.value.setWrapMode(b,k)}catch(j){T=!0,P=j}finally{try{S||M.return==null||M.return()}finally{if(T)throw P}}},p.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var b=arguments.length,k=new Array(b),S=0;S<b;S++)k[S]=arguments[S];return p.default._validateParameters("normalMaterial",k),this._renderer.drawMode=x.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},p.default.prototype.ambientMaterial=function(b,k,S){this._assert3d("ambientMaterial"),p.default._validateParameters("ambientMaterial",arguments);var T=p.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=T._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},p.default.prototype.emissiveMaterial=function(b,k,S,T){this._assert3d("emissiveMaterial"),p.default._validateParameters("emissiveMaterial",arguments);var P=p.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=P._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},p.default.prototype.specularMaterial=function(b,k,S,T){this._assert3d("specularMaterial"),p.default._validateParameters("specularMaterial",arguments);var P=p.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=P._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},p.default.prototype.shininess=function(b){return this._assert3d("shininess"),p.default._validateParameters("shininess",arguments),this._renderer._useShininess=b=b<1?1:b,this},p.default.RendererGL.prototype._applyColorBlend=function(b){var k=this.GL,S=this.drawMode===x.TEXTURE,S=this.userFillShader||this.userStrokeShader||this.userPointShader||S||this.curBlendMode!==x.BLEND||b[b.length-1]<1||this._isErasing;return S!==this._isBlending&&(S||this.curBlendMode!==x.BLEND&&this.curBlendMode!==x.ADD?k.enable(k.BLEND):k.disable(k.BLEND),k.depthMask(!0),this._isBlending=S),this._applyBlendMode(),b},p.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var b=this.GL;switch(this.curBlendMode){case x.BLEND:b.blendEquation(b.FUNC_ADD),b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);break;case x.ADD:b.blendEquation(b.FUNC_ADD),b.blendFunc(b.ONE,b.ONE);break;case x.REMOVE:b.blendEquation(b.FUNC_ADD),b.blendFunc(b.ZERO,b.ONE_MINUS_SRC_ALPHA);break;case x.MULTIPLY:b.blendEquation(b.FUNC_ADD),b.blendFunc(b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA);break;case x.SCREEN:b.blendEquation(b.FUNC_ADD),b.blendFunc(b.ONE,b.ONE_MINUS_SRC_COLOR);break;case x.EXCLUSION:b.blendEquationSeparate(b.FUNC_ADD,b.FUNC_ADD),b.blendFuncSeparate(b.ONE_MINUS_DST_COLOR,b.ONE_MINUS_SRC_COLOR,b.ONE,b.ONE);break;case x.REPLACE:b.blendEquation(b.FUNC_ADD),b.blendFunc(b.ONE,b.ZERO);break;case x.SUBTRACT:b.blendEquationSeparate(b.FUNC_REVERSE_SUBTRACT,b.FUNC_ADD),b.blendFuncSeparate(b.ONE,b.ONE,b.ONE,b.ONE_MINUS_SRC_ALPHA);break;case x.DARKEST:this.blendExt?(b.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,b.FUNC_ADD),b.blendFuncSeparate(b.ONE,b.ONE,b.ONE,b.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case x.LIGHTEST:this.blendExt?(b.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,b.FUNC_ADD),b.blendFuncSeparate(b.ONE,b.ONE,b.ONE,b.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var A=p.default;y.default=A},{"../core/constants":264,"../core/main":275,"./p5.Texture":334,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],324:[function(c,g,y){c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.string.sub"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};function _(p,x){for(var E=0;E<x.length;E++){var A=x[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,A.key,A)}}m.default.prototype.camera=function(){var p;this._assert3d("camera");for(var x=arguments.length,E=new Array(x),A=0;A<x;A++)E[A]=arguments[A];return m.default._validateParameters("camera",E),(p=this._renderer._curCamera).camera.apply(p,E),this},m.default.prototype.perspective=function(){var p;this._assert3d("perspective");for(var x=arguments.length,E=new Array(x),A=0;A<x;A++)E[A]=arguments[A];return m.default._validateParameters("perspective",E),(p=this._renderer._curCamera).perspective.apply(p,E),this},m.default.prototype.ortho=function(){var p;this._assert3d("ortho");for(var x=arguments.length,E=new Array(x),A=0;A<x;A++)E[A]=arguments[A];return m.default._validateParameters("ortho",E),(p=this._renderer._curCamera).ortho.apply(p,E),this},m.default.prototype.frustum=function(){var p;this._assert3d("frustum");for(var x=arguments.length,E=new Array(x),A=0;A<x;A++)E[A]=arguments[A];return m.default._validateParameters("frustum",E),(p=this._renderer._curCamera).frustum.apply(p,E),this},m.default.prototype.createCamera=function(){this._assert3d("createCamera");var p=new m.default.Camera(this._renderer);return p._computeCameraDefaultSettings(),p._setDefaultCamera(),this._renderer._curCamera=p},m.default.Camera=function(){function p(A){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=A,this.cameraType="default",this.cameraMatrix=new m.default.Matrix,this.projMatrix=new m.default.Matrix,this.yScale=1}var x,E;return x=p,(E=[{key:"perspective",value:function(T,b,k,S){this.cameraType=0<arguments.length?"custom":"default",T===void 0?(T=this.defaultCameraFOV,this.cameraFOV=T):this.cameraFOV=this._renderer._pInst._toRadians(T),b===void 0&&(b=this.defaultAspectRatio),k===void 0&&(k=this.defaultCameraNear),S===void 0&&(S=this.defaultCameraFar),k<=1e-4&&(k=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),S<k&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=b,this.cameraNear=k,this.cameraFar=S,this.projMatrix=m.default.Matrix.identity();var T=1/Math.tan(this.cameraFOV/2),P=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(T/b,0,0,0,0,-T*this.yScale,0,0,0,0,(S+k)*P,-1,0,0,2*S*k*P,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(D,R,k,S,T,P){D===void 0&&(D=-this._renderer.width/2),R===void 0&&(R=+this._renderer.width/2),k===void 0&&(k=-this._renderer.height/2),S===void 0&&(S=+this._renderer.height/2),T===void 0&&(T=0),P===void 0&&(P=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=T;var N=R-D,C=S-k,M=(this.cameraFar=P)-T,j=2/N,I=2/C*this.yScale,O=-2/M,R=-(R+D)/N,D=-(S+k)/C,N=-(P+T)/M;this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(j,0,0,0,0,-I,0,0,0,0,O,0,R,D,N,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(D,R,k,S,T,P){D===void 0&&(D=.05*-this._renderer.width),R===void 0&&(R=.05*+this._renderer.width),k===void 0&&(k=.05*+this._renderer.height),S===void 0&&(S=.05*-this._renderer.height),T===void 0&&(T=this.defaultCameraNear),P===void 0&&(P=this.defaultCameraFar),this.cameraNear=T;var N=R-D,C=S-k,M=(this.cameraFar=P)-T,j=2*T/N,I=2*T/C*this.yScale,O=-2*P*T/M,R=(R+D)/N,D=(S+k)/C,N=-(P+T)/M;this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(j,0,0,0,0,-I,0,0,R,D,N,-1,0,0,O,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(j,b,k,S){var T=this.centerX,P=this.centerY,C=this.centerZ,M=(T-=this.eyeX,P-=this.eyeY,C-=this.eyeZ,m.default.Matrix.identity(this._renderer._pInst)),j=(M.rotate(this._renderer._pInst._toRadians(j),b,k,S),[T*M.mat4[0]+P*M.mat4[4]+C*M.mat4[8],T*M.mat4[1]+P*M.mat4[5]+C*M.mat4[9],T*M.mat4[2]+P*M.mat4[6]+C*M.mat4[10]]);j[0]+=this.eyeX,j[1]+=this.eyeY,j[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,j[0],j[1],j[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(A){var b=this._getLocalAxes();this._rotateView(A,b.y[0],b.y[1],b.y[2])}},{key:"tilt",value:function(A){var b=this._getLocalAxes();this._rotateView(A,b.x[0],b.x[1],b.x[2])}},{key:"lookAt",value:function(A,b,k){this.camera(this.eyeX,this.eyeY,this.eyeZ,A,b,k,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(A,b,k,S,T,P,C,M,j){return A===void 0&&(A=this.defaultEyeX,b=this.defaultEyeY,k=this.defaultEyeZ,S=A,T=b,M=1,j=C=P=0),this.eyeX=A,this.eyeY=b,this.eyeZ=k,S!==void 0&&(this.centerX=S,this.centerY=T,this.centerZ=P),C!==void 0&&(this.upX=C,this.upY=M,this.upZ=j),S=this._getLocalAxes(),this.cameraMatrix.set(S.x[0],S.y[0],S.z[0],0,S.x[1],S.y[1],S.z[1],0,S.x[2],S.y[2],S.z[2],0,0,0,0,1),T=-A,this.cameraMatrix.translate([T,-b,-k]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(S,T,k){var P=this._getLocalAxes(),S=[P.x[0]*S,P.x[1]*S,P.x[2]*S],T=[P.y[0]*T,P.y[1]*T,P.y[2]*T],P=[P.z[0]*k,P.z[1]*k,P.z[2]*k];this.camera(this.eyeX+S[0]+T[0]+P[0],this.eyeY+S[1]+T[1]+P[1],this.eyeZ+S[2]+T[2]+P[2],this.centerX+S[0]+T[0]+P[0],this.centerY+S[1]+T[1]+P[1],this.centerZ+S[2]+T[2]+P[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(A,b,k){var S=A-this.eyeX,T=b-this.eyeY,P=k-this.eyeZ;this.camera(A,b,k,this.centerX+S,this.centerY+T,this.centerZ+P,this.upX,this.upY,this.upZ)}},{key:"set",value:function(A){for(var b=0,k=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];b<k.length;b++){var S=k[b];this[S]=A[S]}this.cameraMatrix=A.cameraMatrix.copy(),this.projMatrix=A.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(A,b,k){var S,T,P,C,M,j,I,O,R,D,N,U,X,V,K,W,Q,L;k===0?this.set(A):k===1?this.set(b):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=A.projMatrix.mat4[0]*Math.pow(b.projMatrix.mat4[0]/A.projMatrix.mat4[0],k),this.projMatrix.mat4[5]=A.projMatrix.mat4[5]*Math.pow(b.projMatrix.mat4[5]/A.projMatrix.mat4[5],k),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),C=new m.default.Vector(A.eyeX,A.eyeY,A.eyeZ),M=new m.default.Vector(b.eyeX,b.eyeY,b.eyeZ),W=new m.default.Vector(A.centerX,A.centerY,A.centerZ),L=new m.default.Vector(b.centerX,b.centerY,b.centerZ),P=m.default.Vector.dist(C,W),S=m.default.Vector.dist(M,L),S=P*Math.pow(S/P,k),P=m.default.Vector.sub(C,M),T=1,1e-6<(Q=(V=C.copy().sub(M).sub(W).add(L)).magSq())&&(T=m.default.Vector.dot(P,V)/Q,T=Math.max(0,Math.min(T,1))),P=m.default.Vector.lerp(m.default.Vector.lerp(C,W,T),m.default.Vector.lerp(M,L,T),k),V=A.cameraMatrix.createSubMatrix3x3(),Q=b.cameraMatrix.createSubMatrix3x3(),C=V.row(2),W=Q.row(2),M=V.row(1),L=Q.row(1),A=new m.default.Vector,b=new m.default.Vector,j=new m.default.Vector,I=new m.default.Vector,1-(O=.5*((V=(Q=Q.mult3x3(V.copy().transpose3x3())).diagonal())[0]+V[1]+V[2]-1))<1e-7?(A.set(m.default.Vector.lerp(C,W,k)).normalize(),j.set(A).mult(T*S).add(P),I.set(A).mult((T-1)*S).add(P),b.set(m.default.Vector.lerp(M,L,k)).normalize()):(W=1/(1-O),L=Math.max(V[0],V[1],V[2]),U=Q.mat3[1]+Q.mat3[3],X=Q.mat3[2]+Q.mat3[6],K=Q.mat3[5]+Q.mat3[7],L=L===V[0]?(D=.5*U*(W/=R=Math.sqrt((V[0]-O)*W)),N=.5*X*W,.5*(Q.mat3[7]-Q.mat3[5])/R):L===V[1]?(N=.5*K*(W/=D=Math.sqrt((V[1]-O)*W)),R=.5*U*W,.5*(Q.mat3[2]-Q.mat3[6])/D):(R=.5*X*(W/=N=Math.sqrt((V[2]-O)*W)),D=.5*K*W,.5*(Q.mat3[3]-Q.mat3[1])/N),U=k*Math.atan2(L,O),X=Math.cos(U),V=Math.sin(U),(L=new m.default.Matrix("mat3",[X+(K=1-X)*R*R,K*(W=R*D)+V*N,K*(Q=N*R)-V*D,K*W-V*N,X+K*D*D,K*(k=D*N)+V*R,K*Q+V*D,K*k-V*R,X+K*N*N])).multiplyVec3(C,A),j.set(A).mult(T*S).add(P),I.set(A).mult((T-1)*S).add(P),L.multiplyVec3(M,b)),this.camera(j.x,j.y,j.z,I.x,I.y,I.z,b.x,b.y,b.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var A=new m.default.Camera(this._renderer);return A.cameraFOV=this.cameraFOV,A.aspectRatio=this.aspectRatio,A.eyeX=this.eyeX,A.eyeY=this.eyeY,A.eyeZ=this.eyeZ,A.centerX=this.centerX,A.centerY=this.centerY,A.centerZ=this.centerZ,A.upX=this.upX,A.upY=this.upY,A.upZ=this.upZ,A.cameraNear=this.cameraNear,A.cameraFar=this.cameraFar,A.cameraType=this.cameraType,A.cameraMatrix=this.cameraMatrix.copy(),A.projMatrix=this.projMatrix.copy(),A.yScale=this.yScale,A}},{key:"_getLocalAxes",value:function(){var A=this.eyeX-this.centerX,b=this.eyeY-this.centerY,k=this.eyeZ-this.centerZ,C=Math.sqrt(A*A+b*b+k*k),C=(C!==0&&(A/=C,b/=C,k/=C),this.upX),S=(M=this.upY)*k-(j=this.upZ)*b,T=-C*k+j*A,P=C*b-M*A,C=b*P-k*T,M=-A*P+k*S,j=A*T-b*S,I=Math.sqrt(S*S+T*T+P*P),I=(I!==0&&(S/=I,T/=I,P/=I),Math.sqrt(C*C+M*M+j*j));return I!==0&&(C/=I,M/=I,j/=I),{x:[S,T,P],y:[C,M,j],z:[A,b,k]}}},{key:"_orbit",value:function(A,I,j){var T=this.eyeX-this.centerX,P=this.eyeY-this.centerY,C=this.eyeZ-this.centerZ,S=Math.hypot(T,P,C),T=new m.default.Vector(T,P,C).normalize(),P=new m.default.Vector(this.upX,this.upY,this.upZ).normalize(),C=new m.default.Vector.cross(P,T).normalize(),M=new m.default.Vector.cross(C,P),j=((S=(S*=Math.pow(10,j))<this.cameraNear?this.cameraNear:S)>this.cameraFar&&(S=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,m.default.Vector.dot(T,P))))+I),I=A;(j<=0||j>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),P.mult(Math.cos(j)),M.mult(Math.cos(I)*Math.sin(j)),C.mult(Math.sin(I)*Math.sin(j)),T.set(P).add(M).add(C),this.eyeX=S*T.x+this.centerX,this.eyeY=S*T.y+this.centerY,this.eyeZ=S*T.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(j,I,R){var T=this.eyeX-this.centerX,P=this.eyeY-this.centerY,C=this.eyeZ-this.centerZ,S=Math.hypot(T,P,C),T=new m.default.Vector(T,P,C).normalize(),P=new m.default.Vector(this.upX,this.upY,this.upZ),C=new m.default.Vector.cross(P,T).normalize(),M=new m.default.Vector.cross(T,C),D=Math.atan2(I,j),D=(M.mult(Math.sin(D)),C.mult(Math.cos(D)).add(M),Math.sqrt(j*j+I*I)),M=new m.default.Vector.cross(T,C),j=((S=(S*=Math.pow(10,R))<this.cameraNear?this.cameraNear:S)>this.cameraFar&&(S=this.cameraFar),Math.cos(D)),I=Math.sin(D),R=P.dot(T),D=P.dot(C),O=R*j+D*I,R=-R*I+D*j,D=P.dot(M);P.x=O*T.x+R*C.x+D*M.x,P.y=O*T.y+R*C.y+D*M.y,P.z=O*T.z+R*C.z+D*M.z,C.mult(-I),T.mult(j).add(C).mult(S),this.camera(T.x+this.centerX,T.y+this.centerY,T.z+this.centerZ,this.centerX,this.centerY,this.centerZ,P.x,P.y,P.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&_(x.prototype,E),p}(),m.default.prototype.setCamera=function(p){this._renderer._curCamera=p,this._renderer.uPMatrix.set(p.projMatrix.mat4[0],p.projMatrix.mat4[1],p.projMatrix.mat4[2],p.projMatrix.mat4[3],p.projMatrix.mat4[4],p.projMatrix.mat4[5],p.projMatrix.mat4[6],p.projMatrix.mat4[7],p.projMatrix.mat4[8],p.projMatrix.mat4[9],p.projMatrix.mat4[10],p.projMatrix.mat4[11],p.projMatrix.mat4[12],p.projMatrix.mat4[13],p.projMatrix.mat4[14],p.projMatrix.mat4[15])},c=m.default.Camera,y.default=c},{"../core/main":275,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.string.sub":200}],325:[function(c,g,y){c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.log2"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.log2"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c};function m(_,p){for(var x=0;x<p.length;x++){var E=p[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}c.default.DataArray=function(){function _(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,A=this,b=_;if(!(A instanceof b))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(E),this.initialLength=E}var p,x;return p=_,(x=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var E;this.length<this.data.length/2&&(E=1<<Math.ceil(Math.log2(this.length)),(E=new Float32Array(E)).set(this.data.subarray(0,this.length),0),this.data=E)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var E=arguments.length,A=new Array(E),b=0;b<E;b++)A[b]=arguments[b];this.ensureLength(this.length+A.length),this.data.set(A,this.length),this.length+=A.length}},{key:"slice",value:function(E,A){return this.data.slice(E,Math.min(A,this.length))}},{key:"subArray",value:function(E,A){return this.data.subarray(E,Math.min(A,this.length))}},{key:"ensureLength",value:function(E){for(;this.data.length<E;){var A=new Float32Array(2*this.data.length);A.set(this.data,0),this.data=A}}}])&&m(p.prototype,x),_}(),c=c.default.DataArray,y.default=c},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.log2":171,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],326:[function(U,g,y){function m(X){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(X)}function _(X){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(V){return m(V)}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":m(V)})(X)}U("core-js/modules/es.symbol"),U("core-js/modules/es.symbol.description"),U("core-js/modules/es.symbol.iterator"),U("core-js/modules/es.array.fill"),U("core-js/modules/es.array.includes"),U("core-js/modules/es.array.iterator"),U("core-js/modules/es.object.get-own-property-descriptor"),U("core-js/modules/es.object.get-prototype-of"),U("core-js/modules/es.object.to-string"),U("core-js/modules/es.reflect.construct"),U("core-js/modules/es.reflect.get"),U("core-js/modules/es.regexp.to-string"),U("core-js/modules/es.string.includes"),U("core-js/modules/es.string.iterator"),U("core-js/modules/es.typed-array.float32-array"),U("core-js/modules/es.typed-array.uint8-array"),U("core-js/modules/es.typed-array.uint8-clamped-array"),U("core-js/modules/es.typed-array.copy-within"),U("core-js/modules/es.typed-array.every"),U("core-js/modules/es.typed-array.fill"),U("core-js/modules/es.typed-array.filter"),U("core-js/modules/es.typed-array.find"),U("core-js/modules/es.typed-array.find-index"),U("core-js/modules/es.typed-array.for-each"),U("core-js/modules/es.typed-array.includes"),U("core-js/modules/es.typed-array.index-of"),U("core-js/modules/es.typed-array.iterator"),U("core-js/modules/es.typed-array.join"),U("core-js/modules/es.typed-array.last-index-of"),U("core-js/modules/es.typed-array.map"),U("core-js/modules/es.typed-array.reduce"),U("core-js/modules/es.typed-array.reduce-right"),U("core-js/modules/es.typed-array.reverse"),U("core-js/modules/es.typed-array.set"),U("core-js/modules/es.typed-array.slice"),U("core-js/modules/es.typed-array.some"),U("core-js/modules/es.typed-array.sort"),U("core-js/modules/es.typed-array.subarray"),U("core-js/modules/es.typed-array.to-locale-string"),U("core-js/modules/es.typed-array.to-string"),U("core-js/modules/es.weak-map"),U("core-js/modules/web.dom-collections.iterator"),U("core-js/modules/es.array.fill"),U("core-js/modules/es.array.includes"),U("core-js/modules/es.array.iterator"),U("core-js/modules/es.object.get-prototype-of"),U("core-js/modules/es.object.to-string"),U("core-js/modules/es.string.includes"),U("core-js/modules/es.typed-array.float32-array"),U("core-js/modules/es.typed-array.uint8-array"),U("core-js/modules/es.typed-array.uint8-clamped-array"),U("core-js/modules/es.typed-array.copy-within"),U("core-js/modules/es.typed-array.every"),U("core-js/modules/es.typed-array.fill"),U("core-js/modules/es.typed-array.filter"),U("core-js/modules/es.typed-array.find"),U("core-js/modules/es.typed-array.find-index"),U("core-js/modules/es.typed-array.for-each"),U("core-js/modules/es.typed-array.includes"),U("core-js/modules/es.typed-array.index-of"),U("core-js/modules/es.typed-array.iterator"),U("core-js/modules/es.typed-array.join"),U("core-js/modules/es.typed-array.last-index-of"),U("core-js/modules/es.typed-array.map"),U("core-js/modules/es.typed-array.reduce"),U("core-js/modules/es.typed-array.reduce-right"),U("core-js/modules/es.typed-array.reverse"),U("core-js/modules/es.typed-array.set"),U("core-js/modules/es.typed-array.slice"),U("core-js/modules/es.typed-array.some"),U("core-js/modules/es.typed-array.sort"),U("core-js/modules/es.typed-array.subarray"),U("core-js/modules/es.typed-array.to-locale-string"),U("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(N=U("../core/main"))&&N.__esModule?N:{default:N},x=function(X){if(X&&X.__esModule)return X;if(X===null||_(X)!=="object"&&typeof X!="function")return{default:X};var V=b();if(V&&V.has(X))return V.get(X);var K,W={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(K in X){var L;Object.prototype.hasOwnProperty.call(X,K)&&((L=Q?Object.getOwnPropertyDescriptor(X,K):null)&&(L.get||L.set)?Object.defineProperty(W,K,L):W[K]=X[K])}return W.default=X,V&&V.set(X,W),W}(U("../core/constants")),E=U("./p5.Texture"),A=U("./p5.RendererGL");function b(){var X;return typeof WeakMap!="function"?null:(X=new WeakMap,b=function(){return X},X)}function k(X,V){return function(K){if(Array.isArray(K))return K}(X)||function(K,W){if(Symbol.iterator in Object(K)||Object.prototype.toString.call(K)==="[object Arguments]"){var Q=[],L=!0,G=!1,J=void 0;try{for(var B,Y=K[Symbol.iterator]();!(L=(B=Y.next()).done)&&(Q.push(B.value),!W||Q.length!==W);L=!0);}catch(ie){G=!0,J=ie}finally{try{L||Y.return==null||Y.return()}finally{if(G)throw J}}return Q}}(X,V)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function S(X,V,K){return V in X?Object.defineProperty(X,V,{value:K,enumerable:!0,configurable:!0,writable:!0}):X[V]=K,X}function T(X,V){if(!(X instanceof V))throw new TypeError("Cannot call a class as a function")}function P(X,V){for(var K=0;K<V.length;K++){var W=V[K];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(X,W.key,W)}}function C(X,V,K){V&&P(X.prototype,V),K&&P(X,K)}function M(X,V,K){return(M=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(G,Q,L){var G=function(J,B){for(;!Object.prototype.hasOwnProperty.call(J,B)&&(J=O(J))!==null;);return J}(G,Q);if(G)return(G=Object.getOwnPropertyDescriptor(G,Q)).get?G.get.call(L):G.value})(X,V,K||X)}function j(X,V){return(j=Object.setPrototypeOf||function(K,W){return K.__proto__=W,K})(X,V)}function I(X){return function(){var V,K=O(X),K=(V=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(V=O(this).constructor,Reflect.construct(K,arguments,V)):K.apply(this,arguments),this);if(!V||_(V)!=="object"&&typeof V!="function"){if(K!==void 0)return K;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return V}}function O(X){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)})(X)}var R=function(X){var V=W;if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(X&&X.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),X&&j(V,X);var K=I(W);function W(Q){var L;return T(this,W),(L=K.call(this,Q.target._renderer)).fbo=Q,L.yScale=-1,L}return C(W,[{key:"_computeCameraDefaultSettings",value:function(){M(O(W.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),W}(p.default.Camera),D=(p.default.FramebufferCamera=R,function(){function X(V,K){T(this,X),this.framebuffer=V,this.property=K}return C(X,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),X}()),N=(p.default.FramebufferTexture=D,function(){function X(Q){var K=this,W=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},Q=(T(this,X),this.target=Q,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=W.format||x.UNSIGNED_BYTE,this.channels=W.channels||(Q._renderer._pInst._glAttributes.alpha?x.RGBA:x.RGB),this.useDepth=W.depth===void 0||W.depth,this.depthFormat=W.depthFormat||x.FLOAT,this.textureFiltering=W.textureFiltering||x.LINEAR,W.antialias===void 0?this.antialiasSamples=Q._renderer._pInst._glAttributes.antialias?2:0:typeof W.antialias=="number"?this.antialiasSamples=W.antialias:this.antialiasSamples=W.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&Q.webglVersion!==x.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),W.width&&W.height?(this.width=W.width,this.height=W.height,this.autoSized=!1):(W.width===void 0!=(W.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=Q.width,this.height=Q.height,this.autoSized=!0),this.density=W.density||Q.pixelDensity(),Q._renderer.GL);if(this.gl=Q,this._checkIfFormatsAvailable(),W.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(W.stencil===void 0||W.stencil),this.framebuffer=Q.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=Q.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),W=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=W,this.draw(function(){return K.target.clear()})}return C(X,[{key:"resize",value:function(V,K){this.autoSized=!1,this.width=V,this.height=K,this._handleResize()}},{key:"pixelDensity",value:function(V){if(!V)return this.density;this.autoSized=!1,this.density=V,this._handleResize()}},{key:"autoSized",value:function(V){if(V===void 0)return this.autoSized;this.autoSized=V,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var V=this.gl,V=(this.useDepth&&this.target.webglVersion===x.WEBGL&&!V.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===x.WEBGL&&this.depthFormat===x.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=x.UNSIGNED_INT),[x.UNSIGNED_BYTE,x.FLOAT,x.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=x.UNSIGNED_BYTE),this.useDepth&&![x.UNSIGNED_INT,x.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=x.FLOAT),(0,E.checkWebGLCapabilities)(this.target._renderer));V.float||this.format!==x.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=x.UNSIGNED_BYTE),this.useDepth&&!V.float&&this.depthFormat===x.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=x.UNSIGNED_INT),V.halfFloat||this.format!==x.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=x.UNSIGNED_BYTE),this.channels===x.RGB&&[x.FLOAT,x.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=x.RGBA)}},{key:"_recreateTextures",value:function(){var V=this.gl,K=(this._updateSize(),V.getParameter(V.TEXTURE_BINDING_2D)),W=V.getParameter(V.FRAMEBUFFER_BINDING),Q=V.createTexture();if(!Q)throw new Error("Unable to create color texture");V.bindTexture(V.TEXTURE_2D,Q);var L=this._glColorFormat();if(V.texImage2D(V.TEXTURE_2D,0,L.internalFormat,this.width*this.density,this.height*this.density,0,L.format,L.type,null),this.colorTexture=Q,V.bindFramebuffer(V.FRAMEBUFFER,this.framebuffer),V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Q,0),this.useDepth){var Q=V.createTexture();if(!Q)throw new Error("Unable to create depth texture");var G=this._glDepthFormat();V.bindTexture(V.TEXTURE_2D,Q),V.texImage2D(V.TEXTURE_2D,0,G.internalFormat,this.width*this.density,this.height*this.density,0,G.format,G.type,null),V.framebufferTexture2D(V.FRAMEBUFFER,this.useStencil?V.DEPTH_STENCIL_ATTACHMENT:V.DEPTH_ATTACHMENT,V.TEXTURE_2D,Q,0),this.depthTexture=Q}this.antialias&&(this.colorRenderbuffer=V.createRenderbuffer(),V.bindRenderbuffer(V.RENDERBUFFER,this.colorRenderbuffer),V.renderbufferStorageMultisample(V.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,V.getParameter(V.MAX_SAMPLES))),L.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(G=this._glDepthFormat(),this.depthRenderbuffer=V.createRenderbuffer(),V.bindRenderbuffer(V.RENDERBUFFER,this.depthRenderbuffer),V.renderbufferStorageMultisample(V.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,V.getParameter(V.MAX_SAMPLES))),G.internalFormat,this.width*this.density,this.height*this.density)),V.bindFramebuffer(V.FRAMEBUFFER,this.aaFramebuffer),V.framebufferRenderbuffer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&V.framebufferRenderbuffer(V.FRAMEBUFFER,this.useStencil?V.DEPTH_STENCIL_ATTACHMENT:V.DEPTH_ATTACHMENT,V.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new D(this,"depthTexture"),Q=V.NEAREST,this.depthP5Texture=new p.default.Texture(this.target._renderer,this.depth,{minFilter:Q,magFilter:Q}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new D(this,"colorTexture"),L=this.textureFiltering===x.LINEAR?V.LINEAR:V.NEAREST,this.colorP5Texture=new p.default.Texture(this.target._renderer,this.color,{minFilter:L,magFilter:L}),this.target._renderer.textures.set(this.color,this.colorP5Texture),V.bindTexture(V.TEXTURE_2D,K),V.bindFramebuffer(V.FRAMEBUFFER,W)}},{key:"_glColorFormat",value:function(){var V,K,W=this.gl,Q=this.format===x.FLOAT?W.FLOAT:this.format===x.HALF_FLOAT?this.target.webglVersion===x.WEBGL2?W.HALF_FLOAT:W.getExtension("OES_texture_half_float").HALF_FLOAT_OES:W.UNSIGNED_BYTE,L=this.channels===x.RGBA?W.RGBA:W.RGB;return{internalFormat:this.target.webglVersion===x.WEBGL2?(S(K={},W.FLOAT,S({},W.RGBA,W.RGBA32F)),S(K,W.HALF_FLOAT,S({},W.RGBA,W.RGBA16F)),S(K,W.UNSIGNED_BYTE,(S(V={},W.RGBA,W.RGBA8),S(V,W.RGB,W.RGB8),V)),K[Q][L]):this.format===x.HALF_FLOAT?W.RGBA:L,format:L,type:Q}}},{key:"_glDepthFormat",value:function(){var W=this.gl,V=this.useStencil?this.depthFormat===x.FLOAT?W.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===x.WEBGL2?W.UNSIGNED_INT_24_8:W.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===x.FLOAT?W.FLOAT:W.UNSIGNED_INT,K=this.useStencil?W.DEPTH_STENCIL:W.DEPTH_COMPONENT,W=this.useStencil?this.depthFormat===x.FLOAT?W.DEPTH32F_STENCIL8:this.target.webglVersion===x.WEBGL2?W.DEPTH24_STENCIL8:W.DEPTH_STENCIL:this.target.webglVersion===x.WEBGL2?this.depthFormat===x.FLOAT?W.DEPTH_COMPONENT32F:W.DEPTH_COMPONENT24:W.DEPTH_COMPONENT;return{internalFormat:W,format:K,type:V}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var Q=this.color,V=this.depth,K=this.colorRenderbuffer,W=this.depthRenderbuffer,Q=(this._deleteTexture(Q),V&&this._deleteTexture(V),this.gl);K&&Q.deleteRenderbuffer(K),W&&Q.deleteRenderbuffer(W),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var V=new R(this);return V._computeCameraDefaultSettings(),V._setDefaultCamera(),this.target._renderer._curCamera=V}},{key:"_deleteTexture",value:function(V){this.gl.deleteTexture(V.rawTexture()),this.target._renderer.textures.delete(V)}},{key:"remove",value:function(){var V=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),V.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&V.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&V.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&V.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var V=this.gl;V.bindFramebuffer(V.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var V=this.gl,K=(V.bindFramebuffer(V.READ_FRAMEBUFFER,this.aaFramebuffer),V.bindFramebuffer(V.DRAW_FRAMEBUFFER,this.framebuffer),[[V.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&K.push([V.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var W=0,Q=K;W<Q.length;W++){var G=k(Q[W],2),L=G[0],G=G[1];V.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,L,G)}}}},{key:"end",value:function(){var V=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(V.bindFramebuffer(V.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(V){this.begin(),V(),this.end()}},{key:"loadPixels",value:function(){var V=this.gl,K=this.target._renderer.activeFramebuffer(),W=(V.bindFramebuffer(V.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,A.readPixelsWebGL)(this.pixels,V,this.framebuffer,0,0,this.width*this.density,this.height*this.density,W.format,W.type),K?V.bindFramebuffer(V.FRAMEBUFFER,K._framebufferToBind()):V.bindFramebuffer(V.FRAMEBUFFER,null)}},{key:"get",value:function(V,K,W,Q){p.default._validateParameters("p5.Framebuffer.get",arguments);var L=this._glColorFormat();if(V===void 0&&K===void 0)K=V=0,W=this.width,Q=this.height;else if(W===void 0&&Q===void 0)return(V<0||K<0||V>=this.width||K>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),V=this.target.constrain(V,0,this.width-1),K=this.target.constrain(K,0,this.height-1)),(0,A.readPixelWebGL)(this.gl,this.framebuffer,V*this.density,K*this.density,L.format,L.type);V=this.target.constrain(V,0,this.width-1),K=this.target.constrain(K,0,this.height-1),W=this.target.constrain(W,1,this.width-V),Q=this.target.constrain(Q,1,this.height-K);for(var G=(0,A.readPixelsWebGL)(void 0,this.gl,this.framebuffer,V*this.density,K*this.density,W*this.density,Q*this.density,L.format,L.type),J=new Uint8ClampedArray(W*Q*this.density*this.density*4),B=(J.fill(255),L.type===this.gl.RGB?3:4),Y=0;Y<Q*this.density;Y++)for(var ie=0;ie<W*this.density;ie++)for(var ne=0;ne<4;ne++){var Z,H=4*(Y*W*this.density+ie)+ne;ne<B&&(Z=B==4?H:(Y*W*this.density+ie)*B+ne,J[H]=G[Z])}return V=new p.default.Image(W*this.density,Q*this.density),V.imageData=V.canvas.getContext("2d").createImageData(V.width,V.height),V.imageData.data.set(J),V.pixels=V.imageData.data,V.updatePixels(),this.density!==1&&V.resize(W,Q),V}},{key:"updatePixels",value:function(){var V=this.gl,K=(this.colorP5Texture.bindTexture(),this._glColorFormat()),W=K.format===V.RGBA?4:3,W=this.width*this.height*this.density*this.density*W,Q=K.type===V.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof Q)||this.pixels.length!==W)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");V.texImage2D(V.TEXTURE_2D,0,K.internalFormat,this.width*this.density,this.height*this.density,0,K.format,K.type,this.pixels),this.colorP5Texture.unbindTexture(),Q=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(V.clearDepth(1),V.clear(V.DEPTH_BUFFER_BIT)),this.end()):(V.bindFramebuffer(V.FRAMEBUFFER,this.framebuffer),this.useDepth&&(V.clearDepth(1),V.clear(V.DEPTH_BUFFER_BIT)),Q?V.bindFramebuffer(V.FRAMEBUFFER,Q._framebufferToBind()):V.bindFramebuffer(V.FRAMEBUFFER,null))}}]),X}()),U=p.default.Framebuffer=N;y.default=U},{"../core/constants":264,"../core/main":275,"./p5.RendererGL":332,"./p5.Texture":334,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],327:[function(c,g,y){function m(S){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(S)}function _(S){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(T){return m(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":m(T)})(S)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.map"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.sub"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.map"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.sub"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(k=c("../core/main"))&&k.__esModule?k:{default:k},x=function(S){if(S&&S.__esModule)return S;if(S===null||_(S)!=="object"&&typeof S!="function")return{default:S};var T=E();if(T&&T.has(S))return T.get(S);var P,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in S){var j;Object.prototype.hasOwnProperty.call(S,P)&&((j=M?Object.getOwnPropertyDescriptor(S,P):null)&&(j.get||j.set)?Object.defineProperty(C,P,j):C[P]=S[P])}return C.default=S,T&&T.set(S,C),C}(c("../core/constants"));function E(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,E=function(){return S},S)}function A(S){return function(T){if(Array.isArray(T)){for(var P=0,C=new Array(T.length);P<T.length;P++)C[P]=T[P];return C}}(S)||function(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(S,T){for(var P=0;P<T.length;P++){var C=T[P];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}p.default.Geometry=function(){function S(C,M,j){if(this instanceof S)return this.vertices=[],this.lineVertices=new p.default.DataArray,this.lineTangentsIn=new p.default.DataArray,this.lineTangentsOut=new p.default.DataArray,this.lineSides=new p.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new p.default.DataArray,this.detailX=C!==void 0?C:1,this.detailY=M!==void 0?M:1,this.dirtyFlags={},j instanceof Function&&j.call(this),this;throw new TypeError("Cannot call a class as a function")}var T,P;return T=S,(P=[{key:"reset",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"computeFaces",value:function(){this.faces.length=0;for(var C,M,j,I=this.detailX+1,O=0;O<this.detailY;O++)for(var R=0;R<this.detailX;R++)M=(O+1)*I+R+1,this.faces.push([O*I+R,C=O*I+R+1,j=(O+1)*I+R]),this.faces.push([j,C,M]);return this}},{key:"_getFaceNormal",value:function(M){var M=this.faces[M],j=this.vertices[M[0]],O=this.vertices[M[1]],M=this.vertices[M[2]],O=p.default.Vector.sub(O,j),M=p.default.Vector.sub(M,j),j=p.default.Vector.cross(O,M),I=p.default.Vector.mag(j),O=I/(p.default.Vector.mag(O)*p.default.Vector.mag(M));return O===0||isNaN(O)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),j):(1<O&&(O=1),j.mult(Math.asin(O)/I))}},{key:"computeNormals",value:function(){var C,M=this,j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:x.FLAT,I=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,O=this.vertexNormals,R=this.vertices,D=this.faces;if(j===x.SMOOTH){for(var N={},U=[],X=Math.pow(10,I===void 0?3:I),V=function(G){return Math.round(G*X)/X},K=function(G){return"".concat(V(G.x),",").concat(V(G.y),",").concat(V(G.z))},W=0;W<R.length;W++){var Q=R[W],L=K(Q);N[L]===void 0&&(N[L]=U.length,U.push(Q))}D.forEach(function(G){for(var J=0;J<3;++J){var B=G[J],B=R[B],B=K(B);G[J]=N[B]}}),this.edges.forEach(function(G){for(var J=0;J<2;++J){var B=G[J],B=R[B],B=K(B);G[J]=N[B]}}),this.vertices=R=U}for(C=O.length=0;C<R.length;++C)O.push(new p.default.Vector);for(D.forEach(function(G,J){for(var B=M._getFaceNormal(J),Y=0;Y<3;++Y){var ie=G[Y];O[ie].add(B)}}),C=0;C<R.length;++C)O[C].normalize();return this}},{key:"averageNormals",value:function(){for(var C=0;C<=this.detailY;C++){var M=this.detailX+1,j=p.default.Vector.add(this.vertexNormals[C*M],this.vertexNormals[C*M+this.detailX]),j=p.default.Vector.div(j,2);this.vertexNormals[C*M]=j,this.vertexNormals[C*M+this.detailX]=j}return this}},{key:"averagePoleNormals",value:function(){for(var C=new p.default.Vector(0,0,0),M=0;M<this.detailX;M++)C.add(this.vertexNormals[M]);for(var C=p.default.Vector.div(C,this.detailX),j=0;j<this.detailX;j++)this.vertexNormals[j]=C;C=new p.default.Vector(0,0,0);for(var I=this.vertices.length-1;I>this.vertices.length-1-this.detailX;I--)C.add(this.vertexNormals[I]);C=p.default.Vector.div(C,this.detailX);for(var O=this.vertices.length-1;O>this.vertices.length-1-this.detailX;O--)this.vertexNormals[O]=C;return this}},{key:"_makeTriangleEdges",value:function(){for(var C=this.edges.length=0;C<this.faces.length;C++)this.edges.push([this.faces[C][0],this.faces[C][1]]),this.edges.push([this.faces[C][1],this.faces[C][2]]),this.edges.push([this.faces[C][2],this.faces[C][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var C,M=new Map,j=new Set,I=0;I<this.edges.length;I++){var O,R=this.edges[I-1],D=this.edges[I],N=this.vertices[D[0]],U=this.vertices[D[1]],X=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*D[0],4*(D[0]+1)):[0,0,0,0],V=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*D[1],4*(D[1]+1)):[0,0,0,0],K=U.copy().sub(N).normalize(),W=0<K.magSq();W&&this._addSegment(N,U,X,V,K),0<I&&R[1]===D[0]?j.has(D[0])||(j.add(D[0]),M.delete(D[0]),C&&W&&K.dot(C)<1-1e-8&&this._addJoin(N,C,K,X)):(W&&!j.has(D[0])&&((O=M.get(D[0]))?(this._addJoin(N,O.dir,K,X),M.delete(D[0]),j.add(D[0])):M.set(D[0],{point:N,dir:K.copy().mult(-1),color:X})),C&&!j.has(R[1])&&((O=M.get(R[1]))?(this._addJoin(this.vertices[R[1]],C,O.dir.copy().mult(-1),X),M.delete(R[1]),j.add(R[1])):M.set(R[1],{point:this.vertices[R[1]],dir:C,color:X}),C=void 0)),I!==this.edges.length-1||j.has(D[1])||((N=M.get(D[1]))?(this._addJoin(U,K,N.dir.copy().mult(-1),V),M.delete(D[1]),j.add(D[1])):M.set(D[1],{point:U,dir:K,color:V})),W&&(C=K)}var Q=!0,L=!1,G=void 0;try{for(var J,B=M.values()[Symbol.iterator]();!(Q=(J=B.next()).done);Q=!0){var Y=J.value,ie=Y.point,ne=Y.dir,Z=Y.color;this._addCap(ie,ne,Z)}}catch(H){L=!0,G=H}finally{try{Q||B.return==null||B.return()}finally{if(L)throw G}}return this}},{key:"_addSegment",value:function(R,D,j,I,O){var R=R.array(),D=D.array(),N=O.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var U=0,X=[this.lineTangentsIn,this.lineTangentsOut];U<X.length;U++)for(var V=X[U],K=0;K<6;K++)V.push.apply(V,A(N));return(O=this.lineVertices).push.apply(O,A(R).concat(A(D),A(R),A(D),A(D),A(R))),(O=this.lineVertexColors).push.apply(O,A(j).concat(A(I),A(j),A(I),A(I),A(j))),this}},{key:"_addCap",value:function(C,M,j){for(var I,O=C.array(),R=M.array(),D=[0,0,0],N=0;N<6;N++)(I=this.lineVertices).push.apply(I,A(O)),(I=this.lineTangentsIn).push.apply(I,A(R)),(I=this.lineTangentsOut).push.apply(I,D),(I=this.lineVertexColors).push.apply(I,A(j));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(C,M,j,I){for(var O,R=C.array(),D=M.array(),N=j.array(),U=0;U<12;U++)(O=this.lineVertices).push.apply(O,A(R)),(O=this.lineTangentsIn).push.apply(O,A(D)),(O=this.lineTangentsOut).push.apply(O,A(N)),(O=this.lineVertexColors).push.apply(O,A(I));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var C=this.vertices[0].copy(),M=this.vertices[0].copy(),j=0;j<this.vertices.length;j++)C.x=Math.max(C.x,this.vertices[j].x),M.x=Math.min(M.x,this.vertices[j].x),C.y=Math.max(C.y,this.vertices[j].y),M.y=Math.min(M.y,this.vertices[j].y),C.z=Math.max(C.z,this.vertices[j].z),M.z=Math.min(M.z,this.vertices[j].z);for(var I=p.default.Vector.lerp(C,M,.5),O=p.default.Vector.sub(C,M),R=200/Math.max(Math.max(O.x,O.y),O.z),D=0;D<this.vertices.length;D++)this.vertices[D].sub(I),this.vertices[D].mult(R)}return this}}])&&b(T.prototype,P),S}();var k=p.default.Geometry;y.default=k},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],328:[function(E,g,y){E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(E=E("../core/main"))&&E.__esModule?E:{default:E};function _(A,b){for(var k=0;k<b.length;k++){var S=b[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(A,S.key,S)}}var p=Array,x=function(A){return Array.isArray(A)},E=(typeof Float32Array<"u"&&(p=Float32Array,x=function(A){return Array.isArray(A)||A instanceof Float32Array}),m.default.Matrix=function(){function A(){var T=this,P=A;if(T instanceof P)return arguments.length&&((T=arguments.length-1)<0||arguments.length<=T?void 0:arguments[T])instanceof m.default&&(this.p5=(P=arguments.length-1)<0||arguments.length<=P?void 0:arguments[P]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new p([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new p([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var b,k,S;return b=A,S=[{key:"identity",value:function(T){return new m.default.Matrix(T)}}],(k=[{key:"set",value:function(T){return T instanceof m.default.Matrix?this.mat4=T.mat4:x(T)?this.mat4=T:arguments.length===16&&(this.mat4[0]=T,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new m.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var T;return this.mat3!==void 0?((T=new m.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],T.mat3[1]=this.mat3[1],T.mat3[2]=this.mat3[2],T.mat3[3]=this.mat3[3],T.mat3[4]=this.mat3[4],T.mat3[5]=this.mat3[5],T.mat3[6]=this.mat3[6],T.mat3[7]=this.mat3[7],T.mat3[8]=this.mat3[8]):((T=new m.default.Matrix(this.p5)).mat4[0]=this.mat4[0],T.mat4[1]=this.mat4[1],T.mat4[2]=this.mat4[2],T.mat4[3]=this.mat4[3],T.mat4[4]=this.mat4[4],T.mat4[5]=this.mat4[5],T.mat4[6]=this.mat4[6],T.mat4[7]=this.mat4[7],T.mat4[8]=this.mat4[8],T.mat4[9]=this.mat4[9],T.mat4[10]=this.mat4[10],T.mat4[11]=this.mat4[11],T.mat4[12]=this.mat4[12],T.mat4[13]=this.mat4[13],T.mat4[14]=this.mat4[14],T.mat4[15]=this.mat4[15]),T}},{key:"transpose",value:function(T){var P,C,M,j,I,O;return T instanceof m.default.Matrix?(P=T.mat4[1],C=T.mat4[2],M=T.mat4[3],j=T.mat4[6],I=T.mat4[7],O=T.mat4[11],this.mat4[0]=T.mat4[0],this.mat4[1]=T.mat4[4],this.mat4[2]=T.mat4[8],this.mat4[3]=T.mat4[12],this.mat4[4]=P,this.mat4[5]=T.mat4[5],this.mat4[6]=T.mat4[9],this.mat4[7]=T.mat4[13],this.mat4[8]=C,this.mat4[9]=j,this.mat4[10]=T.mat4[10],this.mat4[11]=T.mat4[14],this.mat4[12]=M,this.mat4[13]=I,this.mat4[14]=O,this.mat4[15]=T.mat4[15]):x(T)&&(P=T[1],C=T[2],M=T[3],j=T[6],I=T[7],O=T[11],this.mat4[0]=T[0],this.mat4[1]=T[4],this.mat4[2]=T[8],this.mat4[3]=T[12],this.mat4[4]=P,this.mat4[5]=T[5],this.mat4[6]=T[9],this.mat4[7]=T[13],this.mat4[8]=C,this.mat4[9]=j,this.mat4[10]=T[10],this.mat4[11]=T[14],this.mat4[12]=M,this.mat4[13]=I,this.mat4[14]=O,this.mat4[15]=T[15]),this}},{key:"invert",value:function(G){G instanceof m.default.Matrix?(P=G.mat4[0],C=G.mat4[1],M=G.mat4[2],j=G.mat4[3],I=G.mat4[4],O=G.mat4[5],R=G.mat4[6],D=G.mat4[7],N=G.mat4[8],U=G.mat4[9],X=G.mat4[10],V=G.mat4[11],K=G.mat4[12],W=G.mat4[13],Q=G.mat4[14],L=G.mat4[15]):x(G)&&(P=G[0],C=G[1],M=G[2],j=G[3],I=G[4],O=G[5],R=G[6],D=G[7],N=G[8],U=G[9],X=G[10],V=G[11],K=G[12],W=G[13],Q=G[14],L=G[15]);var P,C,M,j,I,O,R,D,N,U,X,V,K,W,Q,L,G=P*O-C*I,J=P*R-M*I,B=P*D-j*I,Y=C*R-M*O,ie=C*D-j*O,ne=M*D-j*R,Z=N*W-U*K,H=N*Q-X*K,z=N*L-V*K,ee=U*Q-X*W,se=U*L-V*W,le=X*L-V*Q,ue=G*le-J*se+B*ee+Y*z-ie*H+ne*Z;return ue?(this.mat4[0]=(O*le-R*se+D*ee)*(ue=1/ue),this.mat4[1]=(M*se-C*le-j*ee)*ue,this.mat4[2]=(W*ne-Q*ie+L*Y)*ue,this.mat4[3]=(X*ie-U*ne-V*Y)*ue,this.mat4[4]=(R*z-I*le-D*H)*ue,this.mat4[5]=(P*le-M*z+j*H)*ue,this.mat4[6]=(Q*B-K*ne-L*J)*ue,this.mat4[7]=(N*ne-X*B+V*J)*ue,this.mat4[8]=(I*se-O*z+D*Z)*ue,this.mat4[9]=(C*z-P*se-j*Z)*ue,this.mat4[10]=(K*ie-W*B+L*G)*ue,this.mat4[11]=(U*B-N*ie-V*G)*ue,this.mat4[12]=(O*H-I*ee-R*Z)*ue,this.mat4[13]=(P*ee-C*H+M*Z)*ue,this.mat4[14]=(W*J-K*Y-Q*G)*ue,this.mat4[15]=(N*Y-U*J+X*G)*ue,this):null}},{key:"invert3x3",value:function(){var T=this.mat3[0],P=this.mat3[1],C=this.mat3[2],M=this.mat3[3],j=this.mat3[4],I=this.mat3[5],O=this.mat3[6],R=this.mat3[7],D=this.mat3[8],N=D*j-I*R,U=-D*M+I*O,X=R*M-j*O,V=T*N+P*U+C*X;return V?(this.mat3[0]=N*(V=1/V),this.mat3[1]=(-D*P+C*R)*V,this.mat3[2]=(I*P-C*j)*V,this.mat3[3]=U*V,this.mat3[4]=(D*T-C*O)*V,this.mat3[5]=(-I*T+C*M)*V,this.mat3[6]=X*V,this.mat3[7]=(-R*T+P*O)*V,this.mat3[8]=(j*T-P*M)*V,this):null}},{key:"transpose3x3",value:function(T){var P=(T=T===void 0?this.mat3:T)[1],C=T[2],M=T[5];return this.mat3[0]=T[0],this.mat3[1]=T[3],this.mat3[2]=T[6],this.mat3[3]=P,this.mat3[4]=T[4],this.mat3[5]=T[7],this.mat3[6]=C,this.mat3[7]=M,this.mat3[8]=T[8],this}},{key:"inverseTranspose",value:function(T){if(T=T.mat4,this.mat3===void 0?m.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=T[0],this.mat3[1]=T[1],this.mat3[2]=T[2],this.mat3[3]=T[4],this.mat3[4]=T[5],this.mat3[5]=T[6],this.mat3[6]=T[8],this.mat3[7]=T[9],this.mat3[8]=T[10]),T=this.invert3x3(),T)T.transpose3x3(this.mat3);else for(var P=0;P<9;P++)this.mat3[P]=0;return this}},{key:"determinant",value:function(){var T=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],P=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],C=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],M=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],j=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],I=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],O=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],R=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],D=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],N=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],U=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return T*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-P*U+C*N+M*D-j*R+I*O}},{key:"mult",value:function(C){var P;if(C===this||C===this.mat4)P=this.copy().mat4;else if(C instanceof m.default.Matrix)P=C.mat4;else if(x(C))P=C;else{if(arguments.length!==16)return;P=arguments}var C=this.mat4[0],M=this.mat4[1],j=this.mat4[2],I=this.mat4[3];return this.mat4[0]=C*P[0]+M*P[4]+j*P[8]+I*P[12],this.mat4[1]=C*P[1]+M*P[5]+j*P[9]+I*P[13],this.mat4[2]=C*P[2]+M*P[6]+j*P[10]+I*P[14],this.mat4[3]=C*P[3]+M*P[7]+j*P[11]+I*P[15],C=this.mat4[4],M=this.mat4[5],j=this.mat4[6],I=this.mat4[7],this.mat4[4]=C*P[0]+M*P[4]+j*P[8]+I*P[12],this.mat4[5]=C*P[1]+M*P[5]+j*P[9]+I*P[13],this.mat4[6]=C*P[2]+M*P[6]+j*P[10]+I*P[14],this.mat4[7]=C*P[3]+M*P[7]+j*P[11]+I*P[15],C=this.mat4[8],M=this.mat4[9],j=this.mat4[10],I=this.mat4[11],this.mat4[8]=C*P[0]+M*P[4]+j*P[8]+I*P[12],this.mat4[9]=C*P[1]+M*P[5]+j*P[9]+I*P[13],this.mat4[10]=C*P[2]+M*P[6]+j*P[10]+I*P[14],this.mat4[11]=C*P[3]+M*P[7]+j*P[11]+I*P[15],C=this.mat4[12],M=this.mat4[13],j=this.mat4[14],I=this.mat4[15],this.mat4[12]=C*P[0]+M*P[4]+j*P[8]+I*P[12],this.mat4[13]=C*P[1]+M*P[5]+j*P[9]+I*P[13],this.mat4[14]=C*P[2]+M*P[6]+j*P[10]+I*P[14],this.mat4[15]=C*P[3]+M*P[7]+j*P[11]+I*P[15],this}},{key:"apply",value:function(C){var P;if(C===this||C===this.mat4)P=this.copy().mat4;else if(C instanceof m.default.Matrix)P=C.mat4;else if(x(C))P=C;else{if(arguments.length!==16)return;P=arguments}var C=this.mat4,M=C[0],j=C[4],I=C[8],O=C[12],M=(C[0]=P[0]*M+P[1]*j+P[2]*I+P[3]*O,C[4]=P[4]*M+P[5]*j+P[6]*I+P[7]*O,C[8]=P[8]*M+P[9]*j+P[10]*I+P[11]*O,C[12]=P[12]*M+P[13]*j+P[14]*I+P[15]*O,C[1]),j=C[5],I=C[9],O=C[13],M=(C[1]=P[0]*M+P[1]*j+P[2]*I+P[3]*O,C[5]=P[4]*M+P[5]*j+P[6]*I+P[7]*O,C[9]=P[8]*M+P[9]*j+P[10]*I+P[11]*O,C[13]=P[12]*M+P[13]*j+P[14]*I+P[15]*O,C[2]),j=C[6],I=C[10],O=C[14],M=(C[2]=P[0]*M+P[1]*j+P[2]*I+P[3]*O,C[6]=P[4]*M+P[5]*j+P[6]*I+P[7]*O,C[10]=P[8]*M+P[9]*j+P[10]*I+P[11]*O,C[14]=P[12]*M+P[13]*j+P[14]*I+P[15]*O,C[3]),j=C[7],I=C[11],O=C[15];return C[3]=P[0]*M+P[1]*j+P[2]*I+P[3]*O,C[7]=P[4]*M+P[5]*j+P[6]*I+P[7]*O,C[11]=P[8]*M+P[9]*j+P[10]*I+P[11]*O,C[15]=P[12]*M+P[13]*j+P[14]*I+P[15]*O,this}},{key:"scale",value:function(T,P,C){return T instanceof m.default.Vector?(P=T.y,C=T.z,T=T.x):T instanceof Array&&(P=T[1],C=T[2],T=T[0]),this.mat4[0]*=T,this.mat4[1]*=T,this.mat4[2]*=T,this.mat4[3]*=T,this.mat4[4]*=P,this.mat4[5]*=P,this.mat4[6]*=P,this.mat4[7]*=P,this.mat4[8]*=C,this.mat4[9]*=C,this.mat4[10]*=C,this.mat4[11]*=C,this}},{key:"rotate",value:function(G,se,ee,M){se instanceof m.default.Vector?(ee=se.y,M=se.z,se=se.x):se instanceof Array&&(ee=se[1],M=se[2],se=se[0]);var j=Math.sqrt(se*se+ee*ee+M*M),j=(se*=1/j,ee*=1/j,M*=1/j,this.mat4[0]),I=this.mat4[1],O=this.mat4[2],R=this.mat4[3],D=this.mat4[4],N=this.mat4[5],U=this.mat4[6],X=this.mat4[7],V=this.mat4[8],K=this.mat4[9],W=this.mat4[10],Q=this.mat4[11],L=Math.sin(G),G=Math.cos(G),J=1-G,B=se*se*J+G,Y=ee*se*J+M*L,ie=M*se*J-ee*L,ne=se*ee*J-M*L,Z=ee*ee*J+G,H=M*ee*J+se*L,z=se*M*J+ee*L,ee=ee*M*J-se*L,se=M*M*J+G;return this.mat4[0]=j*B+D*Y+V*ie,this.mat4[1]=I*B+N*Y+K*ie,this.mat4[2]=O*B+U*Y+W*ie,this.mat4[3]=R*B+X*Y+Q*ie,this.mat4[4]=j*ne+D*Z+V*H,this.mat4[5]=I*ne+N*Z+K*H,this.mat4[6]=O*ne+U*Z+W*H,this.mat4[7]=R*ne+X*Z+Q*H,this.mat4[8]=j*z+D*ee+V*se,this.mat4[9]=I*z+N*ee+K*se,this.mat4[10]=O*z+U*ee+W*se,this.mat4[11]=R*z+X*ee+Q*se,this}},{key:"translate",value:function(M){var P=M[0],C=M[1],M=M[2]||0;this.mat4[12]+=this.mat4[0]*P+this.mat4[4]*C+this.mat4[8]*M,this.mat4[13]+=this.mat4[1]*P+this.mat4[5]*C+this.mat4[9]*M,this.mat4[14]+=this.mat4[2]*P+this.mat4[6]*C+this.mat4[10]*M,this.mat4[15]+=this.mat4[3]*P+this.mat4[7]*C+this.mat4[11]*M}},{key:"rotateX",value:function(T){this.rotate(T,1,0,0)}},{key:"rotateY",value:function(T){this.rotate(T,0,1,0)}},{key:"rotateZ",value:function(T){this.rotate(T,0,0,1)}},{key:"perspective",value:function(j,P,C,M){var j=1/Math.tan(j/2),I=1/(C-M);return this.mat4[0]=j/P,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=j,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(M+C)*I,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*M*C*I,this.mat4[15]=0,this}},{key:"ortho",value:function(T,P,C,M,j,I){var O=1/(T-P),R=1/(C-M),D=1/(j-I);return this.mat4[0]=-2*O,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*R,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*D,this.mat4[11]=0,this.mat4[12]=(T+P)*O,this.mat4[13]=(M+C)*R,this.mat4[14]=(I+j)*D,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(T,P,C,M){var j=new Array(4),I=this.mat4;return j[0]=I[0]*T+I[4]*P+I[8]*C+I[12]*M,j[1]=I[1]*T+I[5]*P+I[9]*C+I[13]*M,j[2]=I[2]*T+I[6]*P+I[10]*C+I[14]*M,j[3]=I[3]*T+I[7]*P+I[11]*C+I[15]*M,j}},{key:"multiplyPoint",value:function(C){var M=C.x,P=C.y,C=C.z,M=this.multiplyVec4(M,P,C,1);return new m.default.Vector(M[0],M[1],M[2])}},{key:"multiplyAndNormalizePoint",value:function(C){var M=C.x,P=C.y,C=C.z,M=this.multiplyVec4(M,P,C,1);return M[0]/=M[3],M[1]/=M[3],M[2]/=M[3],new m.default.Vector(M[0],M[1],M[2])}},{key:"multiplyDirection",value:function(C){var M=C.x,P=C.y,C=C.z,M=this.multiplyVec4(M,P,C,0);return new m.default.Vector(M[0],M[1],M[2])}},{key:"mult3x3",value:function(C){var P;if(C===this||C===this.mat3)P=this.copy().mat3;else if(C instanceof m.default.Matrix)P=C.mat3;else if(x(C))P=C;else{if(arguments.length!==9)return;P=arguments}var C=this.mat3[0],M=this.mat3[1],j=this.mat3[2];return this.mat3[0]=C*P[0]+M*P[3]+j*P[6],this.mat3[1]=C*P[1]+M*P[4]+j*P[7],this.mat3[2]=C*P[2]+M*P[5]+j*P[8],C=this.mat3[3],M=this.mat3[4],j=this.mat3[5],this.mat3[3]=C*P[0]+M*P[3]+j*P[6],this.mat3[4]=C*P[1]+M*P[4]+j*P[7],this.mat3[5]=C*P[2]+M*P[5]+j*P[8],C=this.mat3[6],M=this.mat3[7],j=this.mat3[8],this.mat3[6]=C*P[0]+M*P[3]+j*P[6],this.mat3[7]=C*P[1]+M*P[4]+j*P[7],this.mat3[8]=C*P[2]+M*P[5]+j*P[8],this}},{key:"column",value:function(T){return new m.default.Vector(this.mat3[3*T],this.mat3[3*T+1],this.mat3[3*T+2])}},{key:"row",value:function(T){return new m.default.Vector(this.mat3[T],this.mat3[T+3],this.mat3[T+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(T,P){return(P=P===void 0?T.copy():P).x=this.row(0).dot(T),P.y=this.row(1).dot(T),P.z=this.row(2).dot(T),P}},{key:"createSubMatrix3x3",value:function(){var T=new m.default.Matrix("mat3");return T.mat3[0]=this.mat4[0],T.mat3[1]=this.mat4[1],T.mat3[2]=this.mat4[2],T.mat3[3]=this.mat4[4],T.mat3[4]=this.mat4[5],T.mat3[5]=this.mat4[6],T.mat3[6]=this.mat4[8],T.mat3[7]=this.mat4[9],T.mat3[8]=this.mat4[10],T}}])&&_(b.prototype,k),S&&_(b,S),A}(),m.default.Matrix);y.default=E},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],329:[function(c,g,y){c("core-js/modules/es.array.map"),c("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c};function m(_,p){for(var x=0;x<p.length;x++){var E=p[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}c.default.RenderBuffer=function(){function _(E,A,b,k,S,T){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");this.size=E,this.src=A,this.dst=b,this.attr=k,this._renderer=S,this.map=T}var p,x;return p=_,(x=[{key:"_prepareBuffer",value:function(E,A){var b,k,S,C=A.attributes,T=this._renderer.GL,P=E.model||E,C=C[this.attr];C&&(b=E[this.dst],0<(k=P[this.src]).length?((S=!b)&&(E[this.dst]=b=T.createBuffer()),T.bindBuffer(T.ARRAY_BUFFER,b),!S&&P.dirtyFlags[this.src]===!1||(S=(E=this.map)?E(k):k,this._renderer._bindBuffer(b,T.ARRAY_BUFFER,S),P.dirtyFlags[this.src]=!1),A.enableAttrib(C,this.size)):(E=C.location)!==-1&&this._renderer.registerEnabled.has(E)&&(T.disableVertexAttribArray(E),this._renderer.registerEnabled.delete(E)))}}])&&m(p.prototype,x),_}(),c=c.default.RenderBuffer,y.default=c},{"../core/main":275,"core-js/modules/es.array.map":164}],330:[function(c,g,y){function m(S){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(S)}function _(S){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(T){return m(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":m(T)})(S)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.find-index"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.map"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.find-index"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.map"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(k=c("../core/main"))&&k.__esModule?k:{default:k},x=function(S){if(S&&S.__esModule)return S;if(S===null||_(S)!=="object"&&typeof S!="function")return{default:S};var T=E();if(T&&T.has(S))return T.get(S);var P,C={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in S){var j;Object.prototype.hasOwnProperty.call(S,P)&&((j=M?Object.getOwnPropertyDescriptor(S,P):null)&&(j.get||j.set)?Object.defineProperty(C,P,j):C[P]=S[P])}return C.default=S,T&&T.set(S,C),C}(c("../core/constants"));function E(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,E=function(){return S},S)}function A(S){return function(T){if(Array.isArray(T)){for(var P=0,C=new Array(T.length);P<T.length;P++)C[P]=T[P];return C}}(S)||function(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}c("./p5.RenderBuffer"),p.default.RendererGL.prototype.beginShape=function(S){return this.immediateMode.shapeMode=S!==void 0?S:x.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var b={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},k=(p.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==x.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},p.default.RendererGL.prototype.vertex=function(S,T){if(this.immediateMode.shapeMode===x.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var P in b){var C=b[P],P=this.immediateMode.geometry[P];P.push.apply(P,A(P.slice(P.length-3*C,P.length-2*C)).concat(A(P.slice(P.length-C,P.length))))}var M,j,I=M=j=0,O=(arguments.length===3?I=arguments[2]:arguments.length===4?(M=arguments[2],j=arguments[3]):arguments.length===5&&(I=arguments[2],M=arguments[3],j=arguments[4]),new p.default.Vector(S,T,I)),O=(this.immediateMode.geometry.vertices.push(O),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),O=(this.immediateMode.geometry.vertexColors.push(O[0],O[1],O[2],O[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(O[0],O[1],O[2],O[3]),this.textureMode!==x.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(M/=this._tex.width,j/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(M,j),this.immediateMode._bezierVertex[0]=S,this.immediateMode._bezierVertex[1]=T,this.immediateMode._bezierVertex[2]=I,this.immediateMode._quadraticVertex[0]=S,this.immediateMode._quadraticVertex[1]=T,this.immediateMode._quadraticVertex[2]=I,this},p.default.RendererGL.prototype.normal=function(S,T,P){return S instanceof p.default.Vector?this._currentNormal=S:this._currentNormal=new p.default.Vector(S,T,P),this},p.default.RendererGL.prototype.endShape=function(S,T,P,C,M,j){var I=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===x.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===x.TESS&&(this.immediateMode.shapeMode,x.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this.immediateMode.shapeMode!==x.LINE_STRIP&&this.immediateMode.shapeMode!==x.LINES||(this.immediateMode.shapeMode=x.TRIANGLE_FAN),this.immediateMode.shapeMode===x.QUADS?this.immediateMode.shapeMode=x.TRIANGLES:this.immediateMode.shapeMode===x.QUAD_STRIP&&(this.immediateMode.shapeMode=x.TRIANGLE_STRIP),this._doFill&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(I),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},p.default.RendererGL.prototype._processVertices=function(S){var T;this.immediateMode.geometry.vertices.length!==0&&(T=this._doStroke,S=S===x.CLOSE,T&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,S),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),T=this.immediateMode.shapeMode===x.TESS,S=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||T||S)&&this.immediateMode.shapeMode!==x.LINES&&this._tesselateShape())},p.default.RendererGL.prototype._calculateEdges=function(S,T,P){var C=[],M=0,j=this.immediateMode.contourIndices.slice(),I=0;switch(S){case x.TRIANGLE_STRIP:for(M=0;M<T.length-2;M++)C.push([M,M+1]),C.push([M,M+2]);C.push([M,M+1]);break;case x.TRIANGLE_FAN:for(M=1;M<T.length-1;M++)C.push([0,M]),C.push([M,M+1]);C.push([0,T.length-1]);break;case x.TRIANGLES:for(M=0;M<T.length-2;M+=3)C.push([M,M+1]),C.push([M+1,M+2]),C.push([M+2,M]);break;case x.LINES:for(M=0;M<T.length-1;M+=2)C.push([M,M+1]);break;case x.QUADS:for(M=0;M<T.length-5;M+=6)C.push([M,M+1]),C.push([M+1,M+2]),C.push([M+3,M+5]),C.push([M+4,M+5]);break;case x.QUAD_STRIP:for(M=0;M<T.length-2;M+=2)C.push([M,M+1]),C.push([M,M+2]),C.push([M+1,M+3]);C.push([M,M+1]);break;default:for(M=0;M<T.length;M++)M+1<T.length&&M+1!==j[0]?C.push([M,M+1]):((P||I)&&C.push([M,I]),0<j.length&&(I=j.shift()))}return S!==x.TESS&&P&&C.push([T.length-1,0]),C},p.default.RendererGL.prototype._tesselateShape=function(){for(var S=this,T=(this.immediateMode.shapeMode=x.TRIANGLES,[[]]),P=0;P<this.immediateMode.geometry.vertices.length;P++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===P&&(this.immediateMode.contourIndices.shift(),T.push([])),T[T.length-1].push(this.immediateMode.geometry.vertices[P].x,this.immediateMode.geometry.vertices[P].y,this.immediateMode.geometry.vertices[P].z,this.immediateMode.geometry.uvs[2*P],this.immediateMode.geometry.uvs[2*P+1],this.immediateMode.geometry.vertexColors[4*P],this.immediateMode.geometry.vertexColors[4*P+1],this.immediateMode.geometry.vertexColors[4*P+2],this.immediateMode.geometry.vertexColors[4*P+3],this.immediateMode.geometry.vertexNormals[P].x,this.immediateMode.geometry.vertexNormals[P].y,this.immediateMode.geometry.vertexNormals[P].z);for(var C,M=this._triangulate(T),j=this.immediateMode.geometry.vertices,I=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),O=0,R=M.length;O<R;O+=p.default.RendererGL.prototype.tessyVertexSize)I.push.apply(I,A(M.slice(O+5,O+9))),this.normal.apply(this,A(M.slice(O+9,O+12))),this.vertex.apply(this,A(M.slice(O,O+5)));this.geometryBuilder&&(C=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(D){return D.map(function(N){if(!C.has(N)){var U=j[N],X=S.immediateMode.geometry.vertices.findIndex(function(J){return U.x===J.x&&U.y===J.y&&U.z===J.z});if(X===-1){for(var V=1/0,K=0,W=0;W<S.immediateMode.geometry.vertices.length;W++){var L=S.immediateMode.geometry.vertices[W],G=U.x-L.x,Q=U.y-L.y,L=U.z-L.z,G=G*G+Q*Q+L*L;G<V&&(V=G,K=W)}X=K}C.set(N,X)}return C.get(N)})})),this.immediateMode.geometry.vertexColors=I},p.default.RendererGL.prototype._drawImmediateFill=function(){var S,T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,P=this.GL,C=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,S=this._getImmediateFillShader(),this._setFillUniforms(S),!0),M=!1,j=void 0;try{for(var I,O=this.immediateMode.buffers.fill[Symbol.iterator]();!(C=(I=O.next()).done);C=!0)I.value._prepareBuffer(this.immediateMode.geometry,S)}catch(R){M=!0,j=R}finally{try{C||O.return==null||O.return()}finally{if(M)throw j}}if(S.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor),T===1)P.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{P.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,T)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}S.unbindShader()},p.default.RendererGL.prototype._drawImmediateStroke=function(){var S=this.GL,T=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),P=(this._setStrokeUniforms(T),!0),C=!1,M=void 0;try{for(var j,I=this.immediateMode.buffers.stroke[Symbol.iterator]();!(P=(j=I.next()).done);P=!0)j.value._prepareBuffer(this.immediateMode.geometry,T)}catch(O){C=!0,M=O}finally{try{P||I.return==null||I.return()}finally{if(C)throw M}}T.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),S.drawArrays(S.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),T.unbindShader()},p.default.RendererGL);y.default=k},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.find-index":156,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],331:[function(c,g,y){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(b)}function _(b){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(k){return m(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":m(k)})(b)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.some"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.uint16-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.some"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.uint16-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(A=c("../core/main"))&&A.__esModule?A:{default:A},x=(c("./p5.RendererGL"),c("./p5.RenderBuffer"),function(b){if(b&&b.__esModule)return b;if(b===null||_(b)!=="object"&&typeof b!="function")return{default:b};var k=E();if(k&&k.has(b))return k.get(b);var S,T={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var C;Object.prototype.hasOwnProperty.call(b,S)&&((C=P?Object.getOwnPropertyDescriptor(b,S):null)&&(C.get||C.set)?Object.defineProperty(T,S,C):T[S]=b[S])}return T.default=b,k&&k.set(b,T),T}(c("../core/constants")));function E(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,E=function(){return b},b)}p.default.RendererGL.prototype.freeGeometry=function(b){b.gid?this._freeBuffers(b.gid):console.warn("The model you passed to freeGeometry does not have an id!")},p.default.RendererGL.prototype._initBufferDefaults=function(b){var k;return this._freeBuffers(b),1e3<Object.keys(this.retainedMode.geometry).length&&(k=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(k)),this.retainedMode.geometry[b]={}},p.default.RendererGL.prototype._freeBuffers=function(b){var k,S=this.retainedMode.geometry[b];function T(P){var C=!0,M=!1,j=void 0;try{for(var I,O=P[Symbol.iterator]();!(C=(I=O.next()).done);C=!0){var R=I.value;S[R.dst]&&(k.deleteBuffer(S[R.dst]),S[R.dst]=null)}}catch(D){M=!0,j=D}finally{try{C||O.return==null||O.return()}finally{if(M)throw j}}}S&&(delete this.retainedMode.geometry[b],k=this.GL,S.indexBuffer&&k.deleteBuffer(S.indexBuffer),T(this.retainedMode.buffers.stroke),T(this.retainedMode.buffers.fill))},p.default.RendererGL.prototype.createBuffers=function(M,k){var S,T,P,C=this.GL,M=this._initBufferDefaults(M),j=(M.model=k,M.indexBuffer);return k.faces.length?(j=j||(M.indexBuffer=C.createBuffer()),P=(T=(S=p.default.RendererGL.prototype._flatten(k.faces)).some(function(I){return 65535<I}))?Uint32Array:Uint16Array,this._bindBuffer(j,C.ELEMENT_ARRAY_BUFFER,S,P),M.indexBufferType=T?C.UNSIGNED_INT:C.UNSIGNED_SHORT,M.vertexCount=3*k.faces.length):(j&&(C.deleteBuffer(j),M.indexBuffer=null),M.vertexCount=k.vertices?k.vertices.length:0),M.lineVertexCount=k.lineVertices?k.lineVertices.length/3:0,M},p.default.RendererGL.prototype.drawBuffers=function(b){var k=this.GL,S=this.retainedMode.geometry[b];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[b].vertexCount){this._useVertexColor=0<S.model.vertexColors.length;var T=this._getRetainedFillShader(),P=(this._setFillUniforms(T),!0),C=!1,M=void 0;try{for(var j,I=this.retainedMode.buffers.fill[Symbol.iterator]();!(P=(j=I.next()).done);P=!0)j.value._prepareBuffer(S,T)}catch(U){C=!0,M=U}finally{try{P||I.return==null||I.return()}finally{if(C)throw M}}T.disableRemainingAttributes(),S.indexBuffer&&this._bindBuffer(S.indexBuffer,k.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(k.TRIANGLES,b),T.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<S.lineVertexCount){this._useLineColor=0<S.model.vertexStrokeColors.length;var O=this._getRetainedStrokeShader(),R=(this._setStrokeUniforms(O),!0),C=!1,M=void 0;try{for(var D,N=this.retainedMode.buffers.stroke[Symbol.iterator]();!(R=(D=N.next()).done);R=!0)D.value._prepareBuffer(S,O)}catch(V){C=!0,M=V}finally{try{R||N.return==null||N.return()}finally{if(C)throw M}}O.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),this._drawArrays(k.TRIANGLES,b),O.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(S),this},p.default.RendererGL.prototype.drawBuffersScaled=function(b,k,S,T){var P=this.uMVMatrix.copy();try{this.uMVMatrix.scale(k,S,T),this.drawBuffers(b)}finally{this.uMVMatrix=P}},p.default.RendererGL.prototype._drawArrays=function(b,k){return this.GL.drawArrays(b,0,this.retainedMode.geometry[k].lineVertexCount),this},p.default.RendererGL.prototype._drawElements=function(b,S){var S=this.retainedMode.geometry[S],T=this.GL;if(S.indexBuffer){if(this._pInst.webglVersion!==x.WEBGL2&&S.indexBufferType===T.UNSIGNED_INT&&!T.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");T.drawElements(T.TRIANGLES,S.vertexCount,S.indexBufferType,0)}else T.drawArrays(b||T.TRIANGLES,0,S.vertexCount)},p.default.RendererGL.prototype._drawPoints=function(b,k){var S=this.GL,T=this._getImmediatePointShader();this._setPointUniforms(T),this._bindBuffer(k,S.ARRAY_BUFFER,this._vToNArray(b),Float32Array,S.STATIC_DRAW),T.enableAttrib(T.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),S.drawArrays(S.Points,0,b.length),T.unbindShader()};var A=p.default.RendererGL;y.default=A},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"./p5.RendererGL":332,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.some":166,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],332:[function(W,g,y){function m(B){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(B)}function _(B){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(Y){return m(Y)}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":m(Y)})(B)}W("core-js/modules/es.symbol"),W("core-js/modules/es.symbol.description"),W("core-js/modules/es.symbol.iterator"),W("core-js/modules/es.array.concat"),W("core-js/modules/es.array.copy-within"),W("core-js/modules/es.array.every"),W("core-js/modules/es.array.fill"),W("core-js/modules/es.array.from"),W("core-js/modules/es.array.includes"),W("core-js/modules/es.array.iterator"),W("core-js/modules/es.array.slice"),W("core-js/modules/es.array.some"),W("core-js/modules/es.map"),W("core-js/modules/es.object.assign"),W("core-js/modules/es.object.get-own-property-descriptor"),W("core-js/modules/es.object.get-prototype-of"),W("core-js/modules/es.object.to-string"),W("core-js/modules/es.reflect.construct"),W("core-js/modules/es.reflect.get"),W("core-js/modules/es.regexp.to-string"),W("core-js/modules/es.set"),W("core-js/modules/es.string.includes"),W("core-js/modules/es.string.iterator"),W("core-js/modules/es.typed-array.float32-array"),W("core-js/modules/es.typed-array.float64-array"),W("core-js/modules/es.typed-array.int16-array"),W("core-js/modules/es.typed-array.uint8-array"),W("core-js/modules/es.typed-array.uint16-array"),W("core-js/modules/es.typed-array.uint32-array"),W("core-js/modules/es.typed-array.copy-within"),W("core-js/modules/es.typed-array.every"),W("core-js/modules/es.typed-array.fill"),W("core-js/modules/es.typed-array.filter"),W("core-js/modules/es.typed-array.find"),W("core-js/modules/es.typed-array.find-index"),W("core-js/modules/es.typed-array.for-each"),W("core-js/modules/es.typed-array.includes"),W("core-js/modules/es.typed-array.index-of"),W("core-js/modules/es.typed-array.iterator"),W("core-js/modules/es.typed-array.join"),W("core-js/modules/es.typed-array.last-index-of"),W("core-js/modules/es.typed-array.map"),W("core-js/modules/es.typed-array.reduce"),W("core-js/modules/es.typed-array.reduce-right"),W("core-js/modules/es.typed-array.reverse"),W("core-js/modules/es.typed-array.set"),W("core-js/modules/es.typed-array.slice"),W("core-js/modules/es.typed-array.some"),W("core-js/modules/es.typed-array.sort"),W("core-js/modules/es.typed-array.subarray"),W("core-js/modules/es.typed-array.to-locale-string"),W("core-js/modules/es.typed-array.to-string"),W("core-js/modules/es.weak-map"),W("core-js/modules/web.dom-collections.iterator"),W("core-js/modules/es.symbol"),W("core-js/modules/es.symbol.description"),W("core-js/modules/es.symbol.iterator"),W("core-js/modules/es.array.concat"),W("core-js/modules/es.array.copy-within"),W("core-js/modules/es.array.every"),W("core-js/modules/es.array.fill"),W("core-js/modules/es.array.from"),W("core-js/modules/es.array.includes"),W("core-js/modules/es.array.iterator"),W("core-js/modules/es.array.slice"),W("core-js/modules/es.array.some"),W("core-js/modules/es.map"),W("core-js/modules/es.object.assign"),W("core-js/modules/es.object.to-string"),W("core-js/modules/es.set"),W("core-js/modules/es.string.includes"),W("core-js/modules/es.string.iterator"),W("core-js/modules/es.typed-array.float32-array"),W("core-js/modules/es.typed-array.float64-array"),W("core-js/modules/es.typed-array.int16-array"),W("core-js/modules/es.typed-array.uint8-array"),W("core-js/modules/es.typed-array.uint16-array"),W("core-js/modules/es.typed-array.uint32-array"),W("core-js/modules/es.typed-array.copy-within"),W("core-js/modules/es.typed-array.every"),W("core-js/modules/es.typed-array.fill"),W("core-js/modules/es.typed-array.filter"),W("core-js/modules/es.typed-array.find"),W("core-js/modules/es.typed-array.find-index"),W("core-js/modules/es.typed-array.for-each"),W("core-js/modules/es.typed-array.includes"),W("core-js/modules/es.typed-array.index-of"),W("core-js/modules/es.typed-array.iterator"),W("core-js/modules/es.typed-array.join"),W("core-js/modules/es.typed-array.last-index-of"),W("core-js/modules/es.typed-array.map"),W("core-js/modules/es.typed-array.reduce"),W("core-js/modules/es.typed-array.reduce-right"),W("core-js/modules/es.typed-array.reverse"),W("core-js/modules/es.typed-array.set"),W("core-js/modules/es.typed-array.slice"),W("core-js/modules/es.typed-array.some"),W("core-js/modules/es.typed-array.sort"),W("core-js/modules/es.typed-array.subarray"),W("core-js/modules/es.typed-array.to-locale-string"),W("core-js/modules/es.typed-array.to-string"),W("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.readPixelsWebGL=G,y.readPixelWebGL=J,y.default=void 0;var p=S(W("../core/main")),x=function(B){if(B&&B.__esModule)return B;if(B===null||_(B)!=="object"&&typeof B!="function")return{default:B};var Y=k();if(Y&&Y.has(B))return Y.get(B);var ie,ne={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ie in B){var H;Object.prototype.hasOwnProperty.call(B,ie)&&((H=Z?Object.getOwnPropertyDescriptor(B,ie):null)&&(H.get||H.set)?Object.defineProperty(ne,ie,H):ne[ie]=B[ie])}return ne.default=B,Y&&Y.set(B,ne),ne}(W("../core/constants")),E=S(W("./GeometryBuilder")),A=S(W("libtess")),b=(W("./p5.Shader"),W("./p5.Camera"),W("../core/p5.Renderer"),W("./p5.Matrix"),W("./p5.Framebuffer"),W("path"),W("./p5.Texture"));function k(){var B;return typeof WeakMap!="function"?null:(B=new WeakMap,k=function(){return B},B)}function S(B){return B&&B.__esModule?B:{default:B}}function T(B){return function(Y){if(Array.isArray(Y)){for(var ie=0,ne=new Array(Y.length);ie<Y.length;ie++)ne[ie]=Y[ie];return ne}}(B)||function(Y){if(Symbol.iterator in Object(Y)||Object.prototype.toString.call(Y)==="[object Arguments]")return Array.from(Y)}(B)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(B,Y){for(var ie=0;ie<Y.length;ie++){var ne=Y[ie];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(B,ne.key,ne)}}function C(B,Y,ie){return(C=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,Z,H){var z=function(ee,se){for(;!Object.prototype.hasOwnProperty.call(ee,se)&&(ee=O(ee))!==null;);return ee}(z,Z);if(z)return(z=Object.getOwnPropertyDescriptor(z,Z)).get?z.get.call(H):z.value})(B,Y,ie||B)}function M(B,Y){return(M=Object.setPrototypeOf||function(ie,ne){return ie.__proto__=ne,ie})(B,Y)}function j(B){return function(){var Y,ie,ne=O(B);return Y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Y=O(this).constructor,Reflect.construct(ne,arguments,Y)):ne.apply(this,arguments),ne=this,!(ie=Y)||_(ie)!=="object"&&typeof ie!="function"?I(ne):ie}}function I(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function O(B){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(B)}function R(B,Y,ie){Y in B?Object.defineProperty(B,Y,{value:ie,enumerable:!0,configurable:!0,writable:!0}):B[Y]=ie}function D(B,Y){K+="#define STROKE_CAP_".concat(B," ").concat(Y,`
`),X[x[B]]=Y}function N(B,Y){K+="#define STROKE_JOIN_".concat(B," ").concat(Y,`
`),V[x[B]]=Y}var U,X={},V={},K="",W=(D("ROUND",0),D("PROJECT",1),D("SQUARE",2),N("ROUND",0),N("MITER",1),N("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return smoothstep(vec3(0.0), vec3(0.8), texture.xyz);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal);
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return pow(outColor.xyz, vec3(10.0));
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),Q={immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:W+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:W+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:K+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:K+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.025;
	float nrSamples = 0.0;
  
	for(float phi = 0.0; phi < 2.0 * PI; phi += sampleDelta)
	{
    for(float theta = 0.0; theta < ( 0.5 ) * PI; theta += sampleDelta)
    {
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 1024; // 4096\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
	if (n > 0)\r
	{\r
  	denom = mod(float(n), 2.0);\r
  	result += denom * invBase;\r
  	invBase = invBase / 2.0;\r
  	n = int(float(n) / 2.0);\r
	}\r
  }\r
\r
  return result;\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`};for(U in Q)Q[U]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+Q[U];R(W={},x.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),R(W,x.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),R(W,x.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),R(W,x.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),R(W,x.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),R(W,x.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),R(W,x.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),R(W,x.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var L=W;function G(B,Y,_e,ne,Z,H,z,ee,se,le){var ue=Y.getParameter(Y.FRAMEBUFFER_BINDING),_e=(Y.bindFramebuffer(Y.FRAMEBUFFER,_e),ee===Y.RGBA?4:3),Te=H*z*_e,me=se===Y.UNSIGNED_BYTE?Uint8Array:Float32Array;if(B instanceof me&&B.length===Te||(B=new me(Te)),Y.readPixels(ne,le?le-Z-z:Z,H,z,ee,se,B),Y.bindFramebuffer(Y.FRAMEBUFFER,ue),le)for(var Se=Math.floor(z/2),ve=new me(H*_e),fe=0;fe<Se;fe++){var ye=fe*H*4,Ae=(z-fe-1)*H*4;ve.set(B.subarray(ye,ye+4*H)),B.copyWithin(ye,Ae,Ae+4*H),B.set(ve,Ae)}return B}function J(B,se,ie,ne,Z,H,z){var ee=B.getParameter(B.FRAMEBUFFER_BINDING),se=(B.bindFramebuffer(B.FRAMEBUFFER,se),Z===B.RGBA?4:3),se=new(H===B.UNSIGNED_BYTE?Uint8Array:Float32Array)(se);return B.readPixels(ie,z?z-ne-1:ne,1,1,Z,H,se),B.bindFramebuffer(B.FRAMEBUFFER,ee),Array.from(se)}p.default.prototype.setAttributes=function(B,Y){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var ie=!0;if(Y!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[B]!==Y&&(this._glAttributes[B]=Y,ie=!1)):B instanceof Object&&this._glAttributes!==B&&(this._glAttributes=B,ie=!1),this._renderer.isP3D&&!ie){if(!this._setupDone){for(var ne in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ne))return void p.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},p.default.RendererGL=function(B){var Y=ne;if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(B&&B.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),B&&M(Y,B);var ie=j(ne);function ne(Z,H,z,ee){if(this instanceof ne)return(Z=ie.call(this,Z,H,z))._setAttributeDefaults(H),Z._initContext(),Z.isP3D=!0,Z.geometryBuilder=void 0,Z.GL=Z.drawingContext,Z._pInst._setProperty("drawingContext",Z.drawingContext),Z._isErasing=!1,Z._clipDepths=[],Z._isClipApplied=!1,Z._stencilTestOn=!1,Z._enableLighting=!1,Z.ambientLightColors=[],Z.specularColors=[1,1,1],Z.directionalLightDirections=[],Z.directionalLightDiffuseColors=[],Z.directionalLightSpecularColors=[],Z.pointLightPositions=[],Z.pointLightDiffuseColors=[],Z.pointLightSpecularColors=[],Z.spotLightPositions=[],Z.spotLightDirections=[],Z.spotLightDiffuseColors=[],Z.spotLightSpecularColors=[],Z.spotLightAngle=[],Z.spotLightConc=[],Z.activeImageLight=null,Z.diffusedTextures=new Map,Z.specularTextures=new Map,Z.drawMode=x.FILL,Z.curFillColor=Z._cachedFillStyle=[1,1,1,1],Z.curAmbientColor=Z._cachedFillStyle=[1,1,1,1],Z.curSpecularColor=Z._cachedFillStyle=[0,0,0,0],Z.curEmissiveColor=Z._cachedFillStyle=[0,0,0,0],Z.curStrokeColor=Z._cachedStrokeStyle=[0,0,0,1],Z.curBlendMode=x.BLEND,Z._cachedBlendMode=void 0,Z.webglVersion===x.WEBGL2?Z.blendExt=Z.GL:Z.blendExt=Z.GL.getExtension("EXT_blend_minmax"),Z._isBlending=!1,Z._hasSetAmbient=!1,Z._useSpecularMaterial=!1,Z._useEmissiveMaterial=!1,Z._useNormalMaterial=!1,Z._useShininess=1,Z._useLineColor=!1,Z._useVertexColor=!1,Z.registerEnabled=new Set,Z._tint=[255,255,255,255],Z.constantAttenuation=1,Z.linearAttenuation=0,Z.quadraticAttenuation=0,Z.uMVMatrix=new p.default.Matrix,Z.uPMatrix=new p.default.Matrix,Z.uNMatrix=new p.default.Matrix("mat3"),Z._currentNormal=new p.default.Vector(0,0,1),Z._curCamera=new p.default.Camera(I(Z)),Z._curCamera._computeCameraDefaultSettings(),Z._curCamera._setDefaultCamera(),Z.filterCamera=new p.default.Camera(I(Z)),Z.filterCamera._computeCameraDefaultSettings(),Z.filterCamera._setDefaultCamera(),Z.prevTouches=[],Z.zoomVelocity=0,Z.rotateVelocity=new p.default.Vector(0,0),Z.moveVelocity=new p.default.Vector(0,0),Z.executeZoom=!1,Z.executeRotateAndMove=!1,Z._defaultLightShader=void 0,Z._defaultImmediateModeShader=void 0,Z._defaultNormalShader=void 0,Z._defaultColorShader=void 0,Z._defaultPointShader=void 0,Z.userFillShader=void 0,Z.userStrokeShader=void 0,Z.userPointShader=void 0,Z.retainedMode={geometry:{},buffers:{stroke:[new p.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",I(Z)),new p.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",I(Z)),new p.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",I(Z)),new p.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",I(Z)),new p.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",I(Z))],fill:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",I(Z),Z._vToNArray),new p.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",I(Z),Z._vToNArray),new p.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",I(Z)),new p.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",I(Z)),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",I(Z),Z._flatten)],text:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",I(Z),Z._vToNArray),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",I(Z),Z._flatten)]}},Z.immediateMode={geometry:new p.default.Geometry,shapeMode:x.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new p.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",I(Z),Z._vToNArray),new p.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",I(Z),Z._vToNArray),new p.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",I(Z)),new p.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",I(Z)),new p.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",I(Z),Z._flatten)],stroke:[new p.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",I(Z)),new p.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",I(Z)),new p.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",I(Z)),new p.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",I(Z)),new p.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",I(Z))],point:Z.GL.createBuffer()}},Z.pointSize=5,Z.curStrokeWeight=1,Z.curStrokeCap=x.ROUND,Z.curStrokeJoin=x.ROUND,Z.textures=new Map,Z.framebuffers=new Set,Z.activeFramebuffers=[],Z.filterShader=void 0,Z.filterLayer=void 0,Z.filterLayerTemp=void 0,Z.defaultFilterShaders={},Z.textureMode=x.IMAGE,Z.textureWrapX=x.CLAMP,Z.textureWrapY=x.CLAMP,Z._tex=null,Z._curveTightness=6,Z._lookUpTableBezier=[],Z._lookUpTableQuadratic=[],Z._lutBezierDetail=0,Z._lutQuadraticDetail=0,Z.isProcessingVertices=!1,Z._tessy=Z._initTessy(),Z.fontInfos={},Z._curShader=void 0,Z;throw new TypeError("Cannot call a class as a function")}return Y=ne,(B=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new E.default(this)}},{key:"endGeometry",value:function(){var Z;if(this.geometryBuilder)return Z=this.geometryBuilder.finish(),this.geometryBuilder=void 0,Z;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(Z){return this.beginGeometry(),Z(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(Z){var H={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};Z._glAttributes===null?Z._glAttributes=H:Z._glAttributes=Object.assign(H,Z._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?x.WEBGL2:x.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var Z=this.drawingContext;Z.enable(Z.DEPTH_TEST),Z.depthFunc(Z.LEQUAL),Z.viewport(0,0,Z.drawingBufferWidth,Z.drawingBufferHeight),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(Z,H){var z,ee=this.width,se=this.height,ue=this.canvas.id,le=this._pInst instanceof p.default.Graphics,ue=(le?((z=this._pInst).canvas.parentNode.removeChild(z.canvas),z.canvas=document.createElement("canvas"),(z._pInst._userNode||document.body).appendChild(z.canvas),p.default.Element.call(z,z.canvas,z._pInst),z.width=ee,z.height=se):((z=this.canvas)&&z.parentNode.removeChild(z),(z=document.createElement("canvas")).id=ue,(this._pInst._userNode||document.body).appendChild(z),this._pInst.canvas=z,this.canvas=z),new p.default.RendererGL(this._pInst.canvas,this._pInst,!le));this._pInst._setProperty("_renderer",ue),ue.resize(ee,se),ue._applyDefaults(),le||this._pInst._elements.push(ue),typeof H=="function"&&setTimeout(function(){H.apply(window._renderer,Z)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var ee=(ee=this._pInst).color.apply(ee,arguments),Z=ee.levels[0]/255,H=ee.levels[1]/255,z=ee.levels[2]/255,ee=ee.levels[3]/255;this.clear(Z,H,z,ee)}},{key:"fill",value:function(Z,H,z,ee){var se=p.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=se._array,this.drawMode=x.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(Z,H,z,ee){var se=p.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=se._array}},{key:"strokeCap",value:function(Z){this.curStrokeCap=Z}},{key:"strokeJoin",value:function(Z){this.curStrokeJoin=Z}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(Z,H){Z.width===H.width&&Z.height===H.height||Z.resize(H.width,H.height),Z.pixelDensity()!==H.pixelDensity()&&Z.pixelDensity(H.pixelDensity())}},{key:"filter",value:function(){var Z,H,z=this,ee=this.getFilterLayer(),se=void 0,le=void 0,ue=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(le=arguments.length<=0?void 0:arguments[0],R(Z={},x.BLUR,3),R(Z,x.POSTERIZE,4),R(Z,x.THRESHOLD,.5),se=le in(Z=Z)&&(arguments.length<=1?void 0:arguments[1])===void 0?Z[le]:arguments.length<=1?void 0:arguments[1],le in this.defaultFilterShaders||(this.defaultFilterShaders[le]=new p.default.Shader(ee._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,L[le])),this.filterShader=this.defaultFilterShaders[le]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),_e=(this.matchSize(ee,ue),ue!==this&&(this.filterCamera=this.getFilterLayer().createCamera()),ee.draw(function(){return z._pInst.clear()}),[1/(ue.width*ue.pixelDensity()),1/(ue.height*ue.pixelDensity())]);le===x.BLUR?(H=this.getFilterLayerTemp(),this.matchSize(H,ue),this._pInst.push(),this._pInst.noStroke(),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",_e),this.filterShader.setUniform("canvasSize",[ue.width,ue.height]),this.filterShader.setUniform("radius",Math.max(1,se)),H.draw(function(){z.filterShader.setUniform("direction",[1,0]),z.filterShader.setUniform("tex0",ue),z._pInst.clear(),z._pInst.shader(z.filterShader),z._pInst.rect(-ue.width/2,-ue.height/2,ue.width,ue.height)}),ee.draw(function(){z.filterShader.setUniform("direction",[0,1]),z.filterShader.setUniform("tex0",H),z._pInst.clear(),z._pInst.shader(z.filterShader),z._pInst.rect(-ue.width/2,-ue.height/2,ue.width,ue.height)}),this._pInst.pop()):ee.draw(function(){z._pInst.noStroke(),z._pInst.shader(z.filterShader),z.filterShader.setUniform("tex0",ue),z.filterShader.setUniform("texelSize",_e),z.filterShader.setUniform("canvasSize",[ue.width,ue.height]),z.filterShader.setUniform("filterParameter",se),z._pInst.rect(-ue.width/2,-ue.height/2,ue.width,ue.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(x.CORNER),this._pInst.blendMode(x.BLEND),this.filterCamera._resize(),this._pInst.setCamera(this.filterCamera),this._pInst.resetMatrix(),this._pInst.image(ee,-this.width/2,-this.height/2,this.width,this.height),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(Z){return Z?this._pInst.pixelDensity(Z):this._pInst.pixelDensity()}},{key:"blendMode",value:function(Z){Z===x.DARKEST||Z===x.LIGHTEST||Z===x.ADD||Z===x.BLEND||Z===x.SUBTRACT||Z===x.SCREEN||Z===x.EXCLUSION||Z===x.REPLACE||Z===x.MULTIPLY||Z===x.REMOVE?this.curBlendMode=Z:Z!==x.BURN&&Z!==x.OVERLAY&&Z!==x.HARD_LIGHT&&Z!==x.SOFT_LIGHT&&Z!==x.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(Z,H){this._isErasing||(this._cachedBlendMode=this.curBlendMode,this._isErasing=!0,this.blendMode(x.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,Z/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,H/255])}},{key:"noErase",value:function(){var Z;this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),Z=this.curBlendMode,this.blendMode(this._cachedBlendMode),this._cachedBlendMode=Z,this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var Z=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},Z=(C(O(ne.prototype),"beginClip",this).call(this,Z),this.drawTarget()._isClipApplied=!0,this.GL);Z.clearStencil(0),Z.clear(Z.STENCIL_BUFFER_BIT),Z.enable(Z.STENCIL_TEST),this._stencilTestOn=!0,Z.stencilFunc(Z.ALWAYS,1,255),Z.stencilOp(Z.KEEP,Z.KEEP,Z.REPLACE),Z.disable(Z.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var Z=this.GL;Z.stencilOp(Z.KEEP,Z.KEEP,Z.KEEP),Z.stencilFunc(this._clipInvert?Z.EQUAL:Z.NOTEQUAL,0,255),Z.enable(Z.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),C(O(ne.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(Z){this.curStrokeWeight!==Z&&(this.pointSize=Z,this.curStrokeWeight=Z)}},{key:"_getPixel",value:function(Z,H){var z=this.GL;return J(z,null,Z,H,z.RGBA,z.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var Z,H,z=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(Z=this._pInst._pixelDensity,H=this.GL,z._setProperty("pixels",G(z.pixels,H,null,0,0,this.width*Z,this.height*Z,H.RGBA,H.UNSIGNED_BYTE,this.height*Z)))}},{key:"updatePixels",value:function(){var Z=this._getTempFramebuffer();Z.pixels=this._pixelsState.pixels,Z.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(x.CENTER),this._pInst.image(Z,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:x.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:x.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(Z){return this.retainedMode.geometry[Z]!==void 0}},{key:"viewport",value:function(Z,H){this._viewport=[0,0,Z,H],this.GL.viewport(0,0,Z,H)}},{key:"resize",value:function(se,ee){p.default.Renderer.prototype.resize.call(this,se,ee),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var se=this._pixelsState,z=(se.pixels!==void 0&&se._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),ee=!1,se=void 0;try{for(var le,ue=this.framebuffers[Symbol.iterator]();!(z=(le=ue.next()).done);z=!0)le.value._canvasSizeChanged()}catch(_e){ee=!0,se=_e}finally{try{z||ue.return==null||ue.return()}finally{if(ee)throw se}}}},{key:"clear",value:function(){var Z=(arguments.length<=0?void 0:arguments[0])||0,H=(arguments.length<=1?void 0:arguments[1])||0,z=(arguments.length<=2?void 0:arguments[2])||0,ee=(arguments.length<=3?void 0:arguments[3])||0,se=this.activeFramebuffer();se&&se.format===x.UNSIGNED_BYTE&&!se.antialias&&ee===0&&(ee=1e-10),this.GL.clearColor(Z*ee,H*ee,z*ee,ee),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(Z,H,z,ee,se,le){arguments.length===16?p.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([Z,H,0,0,z,ee,0,0,0,0,1,0,se,le,0,1])}},{key:"translate",value:function(Z,H,z){return Z instanceof p.default.Vector&&(z=Z.z,H=Z.y,Z=Z.x),this.uMVMatrix.translate([Z,H,z]),this}},{key:"scale",value:function(Z,H,z){return this.uMVMatrix.scale(Z,H,z),this}},{key:"rotate",value:function(Z,H){return H===void 0?this.rotateZ(Z):(p.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(Z){return this.rotate(Z,1,0,0),this}},{key:"rotateY",value:function(Z){return this.rotate(Z,0,1,0),this}},{key:"rotateZ",value:function(Z){return this.rotate(Z,0,0,1),this}},{key:"push",value:function(){var Z=p.default.Renderer.prototype.push.apply(this),H=Z.properties;return H.uMVMatrix=this.uMVMatrix.copy(),H.uPMatrix=this.uPMatrix.copy(),H._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),H.ambientLightColors=this.ambientLightColors.slice(),H.specularColors=this.specularColors.slice(),H.directionalLightDirections=this.directionalLightDirections.slice(),H.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),H.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),H.pointLightPositions=this.pointLightPositions.slice(),H.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),H.pointLightSpecularColors=this.pointLightSpecularColors.slice(),H.spotLightPositions=this.spotLightPositions.slice(),H.spotLightDirections=this.spotLightDirections.slice(),H.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),H.spotLightSpecularColors=this.spotLightSpecularColors.slice(),H.spotLightAngle=this.spotLightAngle.slice(),H.spotLightConc=this.spotLightConc.slice(),H.userFillShader=this.userFillShader,H.userStrokeShader=this.userStrokeShader,H.userPointShader=this.userPointShader,H.pointSize=this.pointSize,H.curStrokeWeight=this.curStrokeWeight,H.curStrokeColor=this.curStrokeColor,H.curFillColor=this.curFillColor,H.curAmbientColor=this.curAmbientColor,H.curSpecularColor=this.curSpecularColor,H.curEmissiveColor=this.curEmissiveColor,H._hasSetAmbient=this._hasSetAmbient,H._useSpecularMaterial=this._useSpecularMaterial,H._useEmissiveMaterial=this._useEmissiveMaterial,H._useShininess=this._useShininess,H.constantAttenuation=this.constantAttenuation,H.linearAttenuation=this.linearAttenuation,H.quadraticAttenuation=this.quadraticAttenuation,H._enableLighting=this._enableLighting,H._useNormalMaterial=this._useNormalMaterial,H._tex=this._tex,H.drawMode=this.drawMode,H._currentNormal=this._currentNormal,H.curBlendMode=this.curBlendMode,H.activeImageLight=this.activeImageLight,Z}},{key:"pop",value:function(){var Z;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var H=arguments.length,z=new Array(H),ee=0;ee<H;ee++)z[ee]=arguments[ee];(Z=C(O(ne.prototype),"pop",this)).call.apply(Z,[this].concat(z)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var Z=this.drawTarget();Z._isClipApplied!==this._stencilTestOn&&(Z._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var Z=this.userStrokeShader;return Z&&Z.isStrokeShader()?Z:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var Z=this.userFillShader;if(this._useNormalMaterial&&(!Z||!Z.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!Z||!Z.isLightShader())return this._getLightShader()}else if(this._tex){if(!Z||!Z.isTextureShader())return this._getLightShader()}else if(!Z)return this._getImmediateModeShader();return Z}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var Z=this.userFillShader;if(this._enableLighting){if(!Z||!Z.isLightShader())return this._getLightShader()}else if(this._tex){if(!Z||!Z.isTextureShader())return this._getLightShader()}else if(!Z)return this._getColorShader();return Z}},{key:"_getImmediatePointShader",value:function(){var Z=this.userPointShader;return Z&&Z.isPointShader()?Z:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Q.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Q.phongFrag):this._defaultLightShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+Q.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Q.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===x.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new p.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+Q.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+Q.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(Z,H){var z="";return this.webglVersion===x.WEBGL2&&(z+=`#version 300 es
#define WEBGL2
`),Z==="vert"?z+=`#define VERTEX_SHADER
`:Z==="frag"&&(z+=`#define FRAGMENT_SHADER
`),H&&(z+="precision ".concat(H,` float;
`)),z}},{key:"_getEmptyTexture",value:function(){var Z;return this._emptyTexture||((Z=new p.default.Image(1,1)).set(0,0,255),this._emptyTexture=new p.default.Texture(this,Z)),this._emptyTexture}},{key:"getTexture",value:function(Z){Z instanceof p.default.Framebuffer&&(Z=Z.color);var H=this.textures.get(Z);return H||(H=new p.default.Texture(this,Z),this.textures.set(Z,H),H)}},{key:"getDiffusedTexture",value:function(Z){var H,z;return this.diffusedTextures.get(Z)!=null?this.diffusedTextures.get(Z):(H=Math.floor(Z.height/Z.width*200),z=(H=this._pInst.createGraphics(200,H,x.WEBGL)).createShader(Q.imageLightVert,Q.imageLightDiffusedFrag),H.shader(z),z.setUniform("environmentMap",Z),H.noStroke(),H.rectMode(H.CENTER),H.rect(0,0,H.width,H.height),this.diffusedTextures.set(Z,H),H)}},{key:"getSpecularTexture",value:function(Z){if(this.specularTextures.get(Z)!=null)return this.specularTextures.get(Z);var H,z=[],ee=this._pInst.createGraphics(512,512,x.WEBGL),se=Math.log(512)/Math.log(2);ee.pixelDensity(1);for(var le=512;1<=le;le/=2){ee.resizeCanvas(le,le);var ue=1-Math.log(le)/Math.log(2)/se,_e=ee.createShader(Q.imageLightVert,Q.imageLightSpecularFrag);ee.shader(_e),ee.clear(),_e.setUniform("environmentMap",Z),_e.setUniform("roughness",ue),ee.noStroke(),ee.plane(le,le),z.push(ee.get().drawingContext.getImageData(0,0,le,le))}return ee.remove(),H=new b.MipmapTexture(this,z,{}),this.specularTextures.set(Z,H),H}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(Z){return new p.default.Framebuffer(this,Z)}},{key:"_setStrokeUniforms",value:function(Z){Z.bindShader(),Z.setUniform("uUseLineColor",this._useLineColor),Z.setUniform("uMaterialColor",this.curStrokeColor),Z.setUniform("uStrokeWeight",this.curStrokeWeight),Z.setUniform("uStrokeCap",X[this.curStrokeCap]),Z.setUniform("uStrokeJoin",V[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(Z){Z.bindShader(),Z.setUniform("uUseVertexColor",this._useVertexColor),Z.setUniform("uMaterialColor",this.curFillColor),Z.setUniform("isTexture",!!this._tex),this._tex&&Z.setUniform("uSampler",this._tex),Z.setUniform("uTint",this._tint),Z.setUniform("uHasSetAmbient",this._hasSetAmbient),Z.setUniform("uAmbientMatColor",this.curAmbientColor),Z.setUniform("uSpecularMatColor",this.curSpecularColor),Z.setUniform("uEmissiveMatColor",this.curEmissiveColor),Z.setUniform("uSpecular",this._useSpecularMaterial),Z.setUniform("uEmissive",this._useEmissiveMaterial),Z.setUniform("uShininess",this._useShininess),this._setImageLightUniforms(Z),Z.setUniform("uUseLighting",this._enableLighting);var H=this.pointLightDiffuseColors.length/3,H=(Z.setUniform("uPointLightCount",H),Z.setUniform("uPointLightLocation",this.pointLightPositions),Z.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),Z.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),H=(Z.setUniform("uDirectionalLightCount",H),Z.setUniform("uLightingDirection",this.directionalLightDirections),Z.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),Z.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),H=(Z.setUniform("uAmbientLightCount",H),Z.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);Z.setUniform("uSpotLightCount",H),Z.setUniform("uSpotLightAngle",this.spotLightAngle),Z.setUniform("uSpotLightConc",this.spotLightConc),Z.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),Z.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),Z.setUniform("uSpotLightLocation",this.spotLightPositions),Z.setUniform("uSpotLightDirection",this.spotLightDirections),Z.setUniform("uConstantAttenuation",this.constantAttenuation),Z.setUniform("uLinearAttenuation",this.linearAttenuation),Z.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),Z.bindTextures()}},{key:"_setImageLightUniforms",value:function(Z){var H,z;Z.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(H=this.getDiffusedTexture(this.activeImageLight),Z.setUniform("environmentMapDiffused",H),H=this.getSpecularTexture(this.activeImageLight),z=20/this._useShininess,Z.setUniform("levelOfDetail",8*z),Z.setUniform("environmentMapSpecular",H))}},{key:"_setPointUniforms",value:function(Z){Z.bindShader(),Z.setUniform("uMaterialColor",this.curStrokeColor),Z.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(Z,H,z,ee,se){H=H||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(H,Z),z!==void 0&&((Z=z)instanceof p.default.DataArray?Z=z.dataArray():Z instanceof(ee||Float32Array)||(Z=new(ee||Float32Array)(Z)),this.GL.bufferData(H,Z,se||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(Z,H){return Z.length===H.length&&Z.every(function(z,ee){return z===H[ee]})}},{key:"_isTypedArray",value:function(Z){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(H){return Z instanceof H})}},{key:"_flatten",value:function(Z){if(Z.length===0)return[];var H;if(2e4<Z.length){for(var z=[],ee=Z.slice(),se=ee.pop();Array.isArray(se)?ee.push.apply(ee,T(se)):z.push(se),ee.length&&(se=ee.pop())!==void 0;);return z.reverse(),z}return(H=[]).concat.apply(H,T(Z))}},{key:"_vToNArray",value:function(Z){var H=[],z=!0,ee=!1,se=void 0;try{for(var le,ue=Z[Symbol.iterator]();!(z=(le=ue.next()).done);z=!0){var _e=le.value;H.push(_e.x,_e.y,_e.z)}}catch(Te){ee=!0,se=Te}finally{try{z||ue.return==null||ue.return()}finally{if(ee)throw se}}return H}},{key:"_bezierCoefficients",value:function(Z){var H=Z*Z,z=1-Z,ee=z*z;return[ee*z,3*ee*Z,3*z*H,H*Z]}},{key:"_quadraticCoefficients",value:function(Z){var H=1-Z;return[H*H,2*H*Z,Z*Z]}},{key:"_bezierToCatmull",value:function(Z){return[Z[1],Z[1]+(Z[2]-Z[0])/this._curveTightness,Z[2]-(Z[3]-Z[1])/this._curveTightness,Z[2]]}},{key:"_initTessy",value:function(){var Z=new A.default.GluTesselator;return Z.gluTessCallback(A.default.gluEnum.GLU_TESS_VERTEX_DATA,function(H,z){for(var ee=0;ee<H.length;ee++)z.push(H[ee])}),Z.gluTessCallback(A.default.gluEnum.GLU_TESS_BEGIN,function(H){H!==A.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(H))}),Z.gluTessCallback(A.default.gluEnum.GLU_TESS_ERROR,function(H){console.log("error callback"),console.log("error number: ".concat(H))}),Z.gluTessCallback(A.default.gluEnum.GLU_TESS_COMBINE,function(H,z,ee){for(var se=new Array(p.default.RendererGL.prototype.tessyVertexSize).fill(0),le=0;le<ee.length;le++)for(var ue=0;ue<se.length;ue++)ee[le]!==0&&z[le]&&(se[ue]+=z[le][ue]*ee[le]);return se}),Z.gluTessCallback(A.default.gluEnum.GLU_TESS_EDGE_FLAG,function(H){}),Z.gluTessProperty(A.default.gluEnum.GLU_TESS_WINDING_RULE,A.default.windingRule.GLU_TESS_WINDING_NONZERO),Z}},{key:"_triangulate",value:function(Z){var H=Z[0]?Z[0][2]:void 0,z=!0,ee=!0,Te=!1,Se=void 0;try{for(var se,le=Z[Symbol.iterator]();!(ee=(se=le.next()).done);ee=!0)for(var ue=se.value,_e=0;_e<ue.length;_e+=p.default.RendererGL.prototype.tessyVertexSize)if(ue[_e+2]!==H){z=!1;break}}catch(ae){Te=!0,Se=ae}finally{try{ee||le.return==null||le.return()}finally{if(Te)throw Se}}z?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var Te=[],me=(this._tessy.gluTessBeginPolygon(Te),!0),Se=!1,ve=void 0;try{for(var fe,ye=Z[Symbol.iterator]();!(me=(fe=ye.next()).done);me=!0){var Ae=fe.value;this._tessy.gluTessBeginContour();for(var Ne=0;Ne<Ae.length;Ne+=p.default.RendererGL.prototype.tessyVertexSize){var re=Ae.slice(Ne,Ne+p.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(re,re)}this._tessy.gluTessEndContour()}}catch(ae){Se=!0,ve=ae}finally{try{me||ye.return==null||ye.return()}finally{if(Se)throw ve}}return this._tessy.gluTessEndPolygon(),Te}}])&&P(Y.prototype,B),ne}(p.default.Renderer),p.default.prototype._assert3d=function(B){if(!this._renderer.isP3D)throw new Error("".concat(B,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},p.default.RendererGL.prototype.tessyVertexSize=12,W=p.default.RendererGL,y.default=W},{"../core/constants":264,"../core/main":275,"../core/p5.Renderer":278,"./GeometryBuilder":319,"./p5.Camera":324,"./p5.Framebuffer":326,"./p5.Matrix":328,"./p5.Shader":333,"./p5.Texture":334,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.map":169,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.float64-array":212,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int16-array":216,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,libtess:247,path:250}],333:[function(c,g,y){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var m=(c=c("../core/main"))&&c.__esModule?c:{default:c};function _(p,x){for(var E=0;E<x.length;E++){var A=x[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,A.key,A)}}m.default.Shader=function(){function p(A,b,k){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=A,this._vertSrc=b,this._fragSrc=k,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var x,E;return x=p,(E=[{key:"init",value:function(){if(this._glProgram===0){var A=this._renderer.GL;if(this._vertShader=A.createShader(A.VERTEX_SHADER),A.shaderSource(this._vertShader,this._vertSrc),A.compileShader(this._vertShader),!A.getShaderParameter(this._vertShader,A.COMPILE_STATUS))return m.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(A.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=A.createShader(A.FRAGMENT_SHADER),A.shaderSource(this._fragShader,this._fragSrc),A.compileShader(this._fragShader),!A.getShaderParameter(this._fragShader,A.COMPILE_STATUS))return m.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(A.getShaderInfoLog(this._fragShader))),null;this._glProgram=A.createProgram(),A.attachShader(this._glProgram,this._vertShader),A.attachShader(this._glProgram,this._fragShader),A.linkProgram(this._glProgram),A.getProgramParameter(this._glProgram,A.LINK_STATUS)||m.default._friendlyError("Snap! Error linking shader program: ".concat(A.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(A){var b=new m.default.Shader(A._renderer,this._vertSrc,this._fragSrc);return b.ensureCompiledOnContext(A),b}},{key:"ensureCompiledOnContext",value:function(A){if(this._glProgram!==0&&this._renderer!==A._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=A._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var A=this._renderer.GL,b=A.getProgramParameter(this._glProgram,A.ACTIVE_ATTRIBUTES),k=0;k<b;++k){var S=A.getActiveAttrib(this._glProgram,k),T=S.name,P=A.getAttribLocation(this._glProgram,T),C={};C.name=T,C.location=P,C.index=k,C.type=S.type,C.size=S.size,this.attributes[T]=C}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var A=this._renderer.GL,b=A.getProgramParameter(this._glProgram,A.ACTIVE_UNIFORMS),k=0,S=0;S<b;++S){var T=A.getActiveUniform(this._glProgram,S),P={},C=(P.location=A.getUniformLocation(this._glProgram,T.name),P.size=T.size,T.name);1<T.size&&(C=C.substring(0,C.indexOf("[0]"))),P.name=C,P.type=T.type,P._cachedData=void 0,P.type===A.SAMPLER_2D&&(P.samplerIndex=k,k++,this.samplers.push(P)),P.isArray=1<T.size||P.type===A.FLOAT_MAT3||P.type===A.FLOAT_MAT4||P.type===A.FLOAT_VEC2||P.type===A.FLOAT_VEC3||P.type===A.FLOAT_VEC4||P.type===A.INT_VEC2||P.type===A.INT_VEC4||P.type===A.INT_VEC3,this.uniforms[C]=P}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var A=this._renderer.GL,b=!0,k=!1,S=void 0;try{for(var T,P=this.samplers[Symbol.iterator]();!(b=(T=P.next()).done);b=!0){var C=T.value,M=C.texture;M===void 0&&(M=this._renderer._getEmptyTexture()),A.activeTexture(A.TEXTURE0+C.samplerIndex),M.bindTexture(),M.update(),A.uniform1i(C.location,C.samplerIndex)}}catch(j){k=!0,S=j}finally{try{b||P.return==null||P.return()}finally{if(k)throw S}}}},{key:"updateTextures",value:function(){var A=!0,b=!1,k=void 0;try{for(var S,T=this.samplers[Symbol.iterator]();!(A=(S=T.next()).done);A=!0){var P=S.value.texture;P&&P.update()}}catch(C){b=!0,k=C}finally{try{A||T.return==null||T.return()}finally{if(b)throw k}}}},{key:"unbindTextures",value:function(){var A=!0,b=!1,k=void 0;try{for(var S,T=this.samplers[Symbol.iterator]();!(A=(S=T.next()).done);A=!0){var P=S.value;this.setUniform(P.name,this._renderer._getEmptyTexture())}}catch(C){b=!0,k=C}finally{try{A||T.return==null||T.return()}finally{if(b)throw k}}}},{key:"_setMatrixUniforms",value:function(){var A=this._renderer._curCamera.cameraMatrix,b=this._renderer.uPMatrix,k=this._renderer.uMVMatrix,S=k.copy();S.mult(b),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",A.mat4),this.setUniform("uProjectionMatrix",b.mat4),this.setUniform("uModelViewMatrix",k.mat4),this.setUniform("uModelViewProjectionMatrix",S.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var A=this._renderer.GL;return this._renderer._curShader!==this&&(A.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(A,b){var k=this.uniforms[A];if(k){var S=this._renderer.GL;if(k.isArray){if(k._cachedData&&this._renderer._arraysEqual(k._cachedData,b))return;k._cachedData=b.slice(0)}else{if(k._cachedData&&k._cachedData===b)return;Array.isArray(b)?k._cachedData=b.slice(0):k._cachedData=b}var T=k.location;switch(this.useProgram(),k.type){case S.BOOL:b===!0?S.uniform1i(T,1):S.uniform1i(T,0);break;case S.INT:1<k.size?b.length&&S.uniform1iv(T,b):S.uniform1i(T,b);break;case S.FLOAT:1<k.size?b.length&&S.uniform1fv(T,b):S.uniform1f(T,b);break;case S.FLOAT_MAT3:S.uniformMatrix3fv(T,!1,b);break;case S.FLOAT_MAT4:S.uniformMatrix4fv(T,!1,b);break;case S.FLOAT_VEC2:1<k.size?b.length&&S.uniform2fv(T,b):S.uniform2f(T,b[0],b[1]);break;case S.FLOAT_VEC3:1<k.size?b.length&&S.uniform3fv(T,b):S.uniform3f(T,b[0],b[1],b[2]);break;case S.FLOAT_VEC4:1<k.size?b.length&&S.uniform4fv(T,b):S.uniform4f(T,b[0],b[1],b[2],b[3]);break;case S.INT_VEC2:1<k.size?b.length&&S.uniform2iv(T,b):S.uniform2i(T,b[0],b[1]);break;case S.INT_VEC3:1<k.size?b.length&&S.uniform3iv(T,b):S.uniform3i(T,b[0],b[1],b[2]);break;case S.INT_VEC4:1<k.size?b.length&&S.uniform4iv(T,b):S.uniform4i(T,b[0],b[1],b[2],b[3]);break;case S.SAMPLER_2D:S.activeTexture(S.TEXTURE0+k.samplerIndex),k.texture=b instanceof m.default.Texture?b:this._renderer.getTexture(b),S.uniform1i(T,k.samplerIndex),k.texture.src.gifProperties&&k.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(A,b,k,S,T,P){var C;return A&&(A=A.location)!==-1&&(C=this._renderer.GL,this._renderer.registerEnabled.has(A)||(C.enableVertexAttribArray(A),this._renderer.registerEnabled.add(A)),this._renderer.GL.vertexAttribPointer(A,b,k||C.FLOAT,S||!1,T||0,P||0)),this}},{key:"disableRemainingAttributes",value:function(){var A=this,b=!0,k=!1,S=void 0;try{for(var T,P=this._renderer.registerEnabled.values()[Symbol.iterator]();!(b=(T=P.next()).done);b=!0)(function(){var C=T.value;Object.keys(A.attributes).some(function(M){return A.attributes[M].location===C})||(A._renderer.GL.disableVertexAttribArray(C),A._renderer.registerEnabled.delete(C))})()}catch(C){k=!0,S=C}finally{try{b||P.return==null||P.return()}finally{if(k)throw S}}}}])&&_(x.prototype,E),p}(),c=m.default.Shader,y.default=c},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],334:[function(c,g,y){function m(j){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(j)}function _(j){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(I){return m(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":m(I)})(j)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.checkWebGLCapabilities=M,y.default=y.MipmapTexture=void 0;var p=(C=c("../core/main"))&&C.__esModule?C:{default:C},x=function(j){if(j&&j.__esModule)return j;if(j===null||_(j)!=="object"&&typeof j!="function")return{default:j};var I=E();if(I&&I.has(j))return I.get(j);var O,R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in j){var N;Object.prototype.hasOwnProperty.call(j,O)&&((N=D?Object.getOwnPropertyDescriptor(j,O):null)&&(N.get||N.set)?Object.defineProperty(R,O,N):R[O]=j[O])}return R.default=j,I&&I.set(j,R),R}(c("../core/constants"));function E(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,E=function(){return j},j)}function A(j,I){return(A=Object.setPrototypeOf||function(O,R){return O.__proto__=R,O})(j,I)}function b(j){return function(){var I,O=k(j),O=(I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(I=k(this).constructor,Reflect.construct(O,arguments,I)):O.apply(this,arguments),this);if(!I||_(I)!=="object"&&typeof I!="function"){if(O!==void 0)return O;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return I}}function k(j){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(j)}function S(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")}function T(j,I){for(var O=0;O<I.length;O++){var R=I[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(j,R.key,R)}}function P(j,I,O){I&&T(j.prototype,I),O&&T(j,O)}p.default.Texture=function(){function j(U,O,N){S(this,j),this._renderer=U;var D=this._renderer.GL,N=(N=N||{},this.src=O,this.glTex=void 0,this.glTarget=D.TEXTURE_2D,this.glFormat=N.format||D.RGBA,this.mipmaps=!1,this.glMinFilter=N.minFilter||D.LINEAR,this.glMagFilter=N.magFilter||D.LINEAR,this.glWrapS=N.wrapS||D.CLAMP_TO_EDGE,this.glWrapT=N.wrapT||D.CLAMP_TO_EDGE,this.glDataType=N.dataType||D.UNSIGNED_BYTE,M(U)),U=(this.glFormat!==D.HALF_FLOAT||N.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=D.FLOAT),this.glFormat!==D.HALF_FLOAT||this.glMinFilter!==D.LINEAR&&this.glMagFilter!==D.LINEAR||N.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===D.LINEAR&&(this.glMinFilter=D.NEAREST),this.glMagFilter===D.LINEAR&&(this.glMagFilter=D.NEAREST)),this.glFormat!==D.FLOAT||N.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=D.UNSIGNED_BYTE),this.glFormat!==D.FLOAT||this.glMinFilter!==D.LINEAR&&this.glMagFilter!==D.LINEAR||N.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===D.LINEAR&&(this.glMinFilter=D.NEAREST),this.glMagFilter===D.LINEAR&&(this.glMagFilter=D.NEAREST)),this.isSrcMediaElement=p.default.MediaElement!==void 0&&O instanceof p.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=p.default.Element!==void 0&&O instanceof p.default.Element&&!(O instanceof p.default.Graphics)&&!(O instanceof p.default.Renderer),this.isSrcP5Image=O instanceof p.default.Image,this.isSrcP5Graphics=O instanceof p.default.Graphics,this.isSrcP5Renderer=O instanceof p.default.Renderer,this.isImageData=typeof ImageData<"u"&&O instanceof ImageData,this.isFramebufferTexture=O instanceof p.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=U.width,this.height=U.height,this.init(U),this}return P(j,[{key:"_getTextureDataFromSource",value:function(){var I;return this.isFramebufferTexture?I=this.src.rawTexture():this.isSrcP5Image?I=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?I=this.src.elt:this.isImageData&&(I=this.src),I}},{key:"init",value:function(I){var O,R=this._renderer.GL;this.isFramebufferTexture||(this.glTex=R.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,this.glMagFilter),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(O=new Uint8Array([1,1,1,1]),R.texImage2D(this.glTarget,0,R.RGBA,1,1,0,this.glFormat,this.glDataType,O)):R.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,I))}},{key:"update",value:function(){var I,O,R,D=this.src;return D.width!==0&&D.height!==0&&!this.isFramebufferTexture&&(I=this._getTextureDataFromSource(),O=!1,R=this._renderer.GL,I.width!==this.width||I.height!==this.height?(O=!0,this.width=I.width||D.width,this.height=I.height||D.height,this.isSrcP5Image?D.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&D.setModified(!0)):this.isSrcP5Image?D.isModified()&&D.setModified(!(O=!0)):this.isSrcMediaElement?D.isModified()?D.setModified(!(O=!0)):D.loadedmetadata&&this._videoPrevUpdateTime!==D.time()&&(this._videoPrevUpdateTime=D.time(),O=!0):this.isImageData?D._dirty&&(O=!(D._dirty=!1)):O=!0,O&&(this.bindTexture(),R.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,I)),O)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(I,O){var R=this._renderer.GL;this.glMinFilter=this.glFilter(I),this.glMagFilter=this.glFilter(O),this.bindTexture(),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,this.glMinFilter),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(I){var O=this._renderer.GL;return I===x.NEAREST?O.NEAREST:O.LINEAR}},{key:"setWrapMode",value:function(I,O){function R(X){return(X&X-1)==0}var D=this._renderer.GL,U=this._getTextureDataFromSource(),U=U.naturalWidth&&U.naturalHeight?(N=U.naturalWidth,U.naturalHeight):(N=this.width,this.height),N=R(N),U=R(U);I===x.REPEAT?this._renderer.webglVersion===x.WEBGL2||N&&U?this.glWrapS=D.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=D.CLAMP_TO_EDGE):I===x.MIRROR?this._renderer.webglVersion===x.WEBGL2||N&&U?this.glWrapS=D.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=D.CLAMP_TO_EDGE):this.glWrapS=D.CLAMP_TO_EDGE,O===x.REPEAT?this._renderer.webglVersion===x.WEBGL2||N&&U?this.glWrapT=D.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=D.CLAMP_TO_EDGE):O===x.MIRROR?this._renderer.webglVersion===x.WEBGL2||N&&U?this.glWrapT=D.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=D.CLAMP_TO_EDGE):this.glWrapT=D.CLAMP_TO_EDGE,this.bindTexture(),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,this.glWrapS),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),j}();var C=function(j){var I=R;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(j&&j.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),j&&A(I,j);var O=b(R);function R(D,N,U){return S(this,R),N=(D=O.call(this,D,N,U))._renderer.GL,D.glMinFilter===N.LINEAR&&(D.glMinFilter=N.LINEAR_MIPMAP_LINEAR),D}return P(R,[{key:"glFilter",value:function(D){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(D){var N=this._renderer.GL;this.glTex=N.createTexture(),this.bindTexture();for(var U=0;U<D.length;U++)N.texImage2D(this.glTarget,U,this.glFormat,this.glFormat,this.glDataType,D[U]);this.glMinFilter=N.LINEAR_MIPMAP_LINEAR,N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,this.glMagFilter),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),R}(p.default.Texture);function M(D){var I=D.GL,D=D.webglVersion,O=D===x.WEBGL2?I.getExtension("EXT_color_buffer_float")&&I.getExtension("EXT_float_blend"):I.getExtension("OES_texture_float"),R=O&&I.getExtension("OES_texture_float_linear"),D=D===x.WEBGL2?I.getExtension("EXT_color_buffer_float"):I.getExtension("OES_texture_half_float");return{float:O,floatLinear:R,halfFloat:D,halfFloatLinear:D&&I.getExtension("OES_texture_half_float_linear")}}y.MipmapTexture=C,c=p.default.Texture,y.default=c},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],335:[function(c,g,y){function m(j){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(j)}function _(j){return(_=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(I){return m(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":m(I)})(j)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.sub"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.sub"),c("core-js/modules/web.dom-collections.iterator");var p,x=(p=c("../core/main"))&&p.__esModule?p:{default:p},E=function(j){if(j&&j.__esModule)return j;if(j===null||_(j)!=="object"&&typeof j!="function")return{default:j};var I=A();if(I&&I.has(j))return I.get(j);var O,R={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in j){var N;Object.prototype.hasOwnProperty.call(j,O)&&((N=D?Object.getOwnPropertyDescriptor(j,O):null)&&(N.get||N.set)?Object.defineProperty(R,O,N):R[O]=j[O])}return R.default=j,I&&I.set(j,R),R}(c("../core/constants"));function A(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,A=function(){return j},j)}function b(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")}function k(j,I){for(var O=0;O<I.length;O++){var R=I[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(j,R.key,R)}}function S(j,I,O){I&&k(j.prototype,I),O&&k(j,O)}c("./p5.Shader"),c("./p5.RendererGL.Retained"),x.default.RendererGL.prototype._applyTextProperties=function(){},x.default.RendererGL.prototype.textWidth=function(j){return this._isOpenType()?this._textFont._textWidth(j,this._textSize):0};var T=function(){function j(I,O){b(this,j),this.width=I,this.height=O,this.infos=[]}return S(j,[{key:"findImage",value:function(I){var O,R,D=this.width*this.height;if(D<I)throw new Error("font is too complex to render in 3D");for(var N=this.infos.length-1;0<=N;--N){var U=this.infos[N];if(U.index+I<D){R=(O=U).imageData;break}}if(!O){try{R=new ImageData(this.width,this.height)}catch{var X=document.getElementsByTagName("canvas")[0],V=!X,K=(X||((X=document.createElement("canvas")).style.display="none",document.body.appendChild(X)),X.getContext("2d"));K&&(R=K.createImageData(this.width,this.height)),V&&document.body.removeChild(X)}this.infos.push(O={index:0,imageData:R})}return K=O.index,O.index+=I,R._dirty=!0,{imageData:R,index:K}}}]),j}();function P(U,I,O,R,D){var N=U.imageData.data,U=4*U.index++;N[U++]=I,N[U++]=O,N[U++]=R,N[+U]=D}var C=Math.sqrt(3),M=function(){function j(I){b(this,j),this.font=I,this.strokeImageInfos=new T(64,64),this.colDimImageInfos=new T(64,64),this.rowDimImageInfos=new T(64,64),this.colCellImageInfos=new T(64,64),this.rowCellImageInfos=new T(64,64),this.glyphInfos={}}return S(j,[{key:"getGlyphInfo",value:function(I){var O=this.glyphInfos[I.index];if(!O){var R=I.getBoundingBox(),D=R.x1,N=R.y1,U=R.x2-D,X=R.y2-N,V=I.path.commands;if(U==0||X==0||!V.length)return this.glyphInfos[I.index]={};for(var K=[],W=[],Q=[],L=8;0<=L;--L)Q.push([]);for(L=8;0<=L;--L)W.push([]);var G,J,B,Y,ie=function(){function Fe(Xe,Ze,Je,Oe){b(this,Fe),this.p0=Xe,this.c0=Ze,this.c1=Je,this.p1=Oe}return S(Fe,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return x.default.Vector.sub(x.default.Vector.sub(this.p1,this.p0),x.default.Vector.mult(x.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(qe){var Ze=x.default.Vector.lerp(this.p0,this.c0,qe),Oe=x.default.Vector.lerp(this.c0,this.c1,qe),Je=x.default.Vector.lerp(Ze,Oe,qe),Oe=(this.c1=x.default.Vector.lerp(this.c1,this.p1,qe),this.c0=x.default.Vector.lerp(Oe,this.c1,qe),x.default.Vector.lerp(Je,this.c0,qe)),qe=new Fe(this.p0,Ze,Je,Oe);return this.p0=Oe,qe}},{key:"splitInflections",value:function(){var Xe=x.default.Vector.sub(this.c0,this.p0),Ze=x.default.Vector.sub(x.default.Vector.sub(this.c1,this.c0),Xe),Je=x.default.Vector.sub(x.default.Vector.sub(x.default.Vector.sub(this.p1,this.c1),Xe),x.default.Vector.mult(Ze,2)),Oe=[],qe=Ze.x*Je.y-Ze.y*Je.x;return qe!==0&&0<=(Xe=(Je=Xe.x*Je.y-Xe.y*Je.x)*Je-4*qe*(Xe.x*Ze.y-Xe.y*Ze.x))&&(qe<0&&(qe=-qe,Je=-Je),Xe=(-Je+(Ze=Math.sqrt(Xe)))/(2*qe),0<(Je=(-Je-Ze)/(2*qe))&&Je<1&&(Oe.push(this.split(Je)),Xe=1-(1-Xe)/(1-Je)),0<Xe&&Xe<1&&Oe.push(this.split(Xe))),Oe.push(this),Oe}}]),Fe}(),ne=!0,Z=!1,H=void 0;try{for(var z,ee=V[Symbol.iterator]();!(ne=(z=ee.next()).done);ne=!0){var se=z.value,le=(se.x-D)/U,ue=(se.y-N)/X;if(!xe(G,J,le,ue)){switch(se.type){case"M":B=le,Y=ue;break;case"L":Ee(G,J,le,ue);break;case"Q":var _e=(se.x1-D)/U,Te=(se.y1-N)/X;ae([G,le,_e],[J,ue,Te],{x:G,y:J,cx:_e,cy:Te});break;case"Z":xe(G,J,B,Y)?K.push({x:G,y:J}):(Ee(G,J,B,Y),K.push({x:B,y:Y}));break;case"C":for(var me=function(we,Be,He,Je,Oe,qe,Ve,ge){var we=new ie(new x.default.Vector(we,Be),new x.default.Vector(He,Je),new x.default.Vector(Oe,qe),new x.default.Vector(Ve,ge)).splitInflections(),pe=[],ke=30/C,De=!0,Be=!1,He=void 0;try{for(var et,rt=we[Symbol.iterator]();!(De=(et=rt.next()).done);De=!0){for(var nt=et.value,it=[],yt=void 0;!(.125<=(yt=ke/nt.quadError()));){var pt=Math.pow(yt,.3333333333333333),lt=nt.split(pt),mt=nt.split(1-pt/(1-pt));pe.push(lt),it.push(nt),nt=mt}yt<1&&pe.push(nt.split(.5)),pe.push(nt),Array.prototype.push.apply(pe,it.reverse())}}catch(ft){Be=!0,He=ft}finally{try{De||rt.return==null||rt.return()}finally{if(Be)throw He}}return pe}(G,J,(se.x1-D)/U,(se.y1-N)/X,(se.x2-D)/U,(se.y2-N)/X,le,ue),Se=0;Se<me.length;Se++){var ve=me[Se].toQuadratic();ae([ve.x,ve.x1,ve.cx],[ve.y,ve.y1,ve.cy],ve)}break;default:throw new Error("unknown command type: ".concat(se.type))}G=le,J=ue}}}catch(Fe){Z=!0,H=Fe}finally{try{ne||ee.return==null||ee.return()}finally{if(Z)throw H}}for(var fe=K.length,ye=this.strokeImageInfos.findImage(fe),Ae=ye.index,Ne=0;Ne<fe;++Ne){var re=K[Ne];P(ye,ce(re.x),ce(re.y),ce(re.cx),ce(re.cy))}(O=this.glyphInfos[I.index]={glyph:I,uGlyphRect:[R.x1,-R.y1,R.x2,-R.y2],strokeImageInfo:ye,strokes:K,colInfo:Ie(Q,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Ie(W,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[O.colInfo.dimOffset,O.rowInfo.dimOffset]}return O;function ae(Fe,Xe,Ze){var Je=K.length;function Oe(pe,ke,De){for(var Be=pe.length;0<Be--;){var He=pe[Be];He<ke&&(ke=He),De<He&&(De=He)}return{min:ke,max:De}}K.push(Ze);for(var Ze=Oe(Fe,1,0),Fe=Math.max(Math.floor(9*Ze.min-.5),0),qe=Math.min(Math.ceil(9*Ze.max+.5),9),Ve=Fe;Ve<qe;++Ve)Q[Ve].push(Je);for(var Ze=Oe(Xe,1,0),Fe=Math.max(Math.floor(9*Ze.min-.5),0),ge=Math.min(Math.ceil(9*Ze.max+.5),9),we=Fe;we<ge;++we)W[we].push(Je)}function ce(Fe){return(Fe=(Ze=255)*Fe)<(Xe=0)?Xe:Ze<Fe?Ze:Fe;var Xe,Ze}function Ee(Fe,Xe,Ze,Je){ae([Fe,Ze],[Xe,Je],{x:Fe,y:Xe,cx:(Fe+Ze)/2,cy:(Xe+Je)/2})}function xe(Fe,Xe,Ze,Je){return Math.abs(Ze-Fe)<1e-5&&Math.abs(Je-Xe)<1e-5}function Ie(Fe,Xe,Ze){for(var Je=Fe.length,Oe=Xe.findImage(Je),Xe=Oe.index,qe=0,Ve=0;Ve<Je;++Ve)qe+=Fe[Ve].length;for(var ge=Ze.findImage(qe),we=0;we<Je;++we){var pe=Fe[we],ke=pe.length,De=ge.index;P(Oe,De>>7,127&De,ke>>7,127&ke);for(var Be=0;Be<ke;++Be){var He=pe[Be]+Ae;P(ge,He>>7,127&He,0,0)}}return{cellImageInfo:ge,dimOffset:Xe,dimImageInfo:Oe}}}}]),j}();x.default.RendererGL.prototype._renderText=function(j,I,O,R,D){if(this._textFont&&typeof this._textFont!="string"){if(!(D<=R)&&this._doFill){if(this._isOpenType()){j.push();var D=this._doStroke,N=this.drawMode,U=(this._doStroke=!1,this.drawMode=E.TEXTURE,this._textFont.font),X=(X=this._textFont._fontInfo)||(this._textFont._fontInfo=new M(U)),O=this._textFont._handleAlignment(this,I,O,R),R=this._textSize/U.unitsPerEm,V=(this.translate(O.x,O.y,0),this.scale(R,R,1),this.GL),O=!this._defaultFontShader,K=this._getFontShader(),W=(K.init(),K.bindShader(),O&&(K.setUniform("uGridImageSize",[64,64]),K.setUniform("uCellsImageSize",[64,64]),K.setUniform("uStrokeImageSize",[64,64]),K.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),Q=(W||((R=this._textGeom=new x.default.Geometry(1,1,function(){for(var Se=0;Se<=1;Se++)for(var ve=0;ve<=1;ve++)this.vertices.push(new x.default.Vector(ve,Se,0)),this.uvs.push(ve,Se)})).computeFaces().computeNormals(),W=this.createBuffers("glyph",R)),!0),O=!1,R=void 0;try{for(var L,G=this.retainedMode.buffers.text[Symbol.iterator]();!(Q=(L=G.next()).done);Q=!0)L.value._prepareBuffer(W,K)}catch(Se){O=!0,R=Se}finally{try{Q||G.return==null||G.return()}finally{if(O)throw R}}this._bindBuffer(W.indexBuffer,V.ELEMENT_ARRAY_BUFFER),K.setUniform("uMaterialColor",this.curFillColor),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var J=0,B=null,Y=U.stringToGlyphs(I),ie=!0,ne=!1,Z=void 0;try{for(var H,z=Y[Symbol.iterator]();!(ie=(H=z.next()).done);ie=!0){var ee,se,le=H.value,ue=(B&&(J+=U.getKerningValue(B,le)),X.getGlyphInfo(le));ue.uGlyphRect&&(ee=ue.rowInfo,se=ue.colInfo,K.setUniform("uSamplerStrokes",ue.strokeImageInfo.imageData),K.setUniform("uSamplerRowStrokes",ee.cellImageInfo.imageData),K.setUniform("uSamplerRows",ee.dimImageInfo.imageData),K.setUniform("uSamplerColStrokes",se.cellImageInfo.imageData),K.setUniform("uSamplerCols",se.dimImageInfo.imageData),K.setUniform("uGridOffset",ue.uGridOffset),K.setUniform("uGlyphRect",ue.uGlyphRect),K.setUniform("uGlyphOffset",J),K.bindTextures(),V.drawElements(V.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),J+=le.advanceWidth,B=le}}catch(Se){ne=!0,Z=Se}finally{try{ie||z.return==null||z.return()}finally{if(ne)throw Z}}}finally{K.unbindShader(),this._doStroke=D,this.drawMode=N,V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),j.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return j}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":264,"../core/main":275,"./p5.RendererGL.Retained":331,"./p5.Shader":333,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}]},{},[259])(259)})})(p5_min$2);var p5_minExports=p5_min$2.exports;const p5_min=getDefaultExportFromCjs(p5_minExports),p5_min$1=_mergeNamespaces({__proto__:null,default:p5_min},[p5_minExports]),Qubit_svelte_svelte_type_style_lang="";function create_fragment$c(f){let l,u,c,g,y;return u=new P5({props:{sketch:f[4]}}),u.$on("instance",f[3]),{c(){l=element("div"),create_component(u.$$.fragment),this.h()},l(m){l=claim_element(m,"DIV",{class:!0});var _=children(l);claim_component(u.$$.fragment,_),_.forEach(detach),this.h()},h(){attr(l,"class","qubit svelte-8wldun"),toggle_class(l,"disabled",f[0])},m(m,_){insert_hydration(m,l,_),mount_component(u,l,null),f[9](l),c=!0,g||(y=listen(window,"resize",function(){is_function(f[2])&&f[2].apply(this,arguments)}),g=!0)},p(m,[_]){f=m,(!c||_&1)&&toggle_class(l,"disabled",f[0])},i(m){c||(transition_in(u.$$.fragment,m),c=!0)},o(m){transition_out(u.$$.fragment,m),c=!1},d(m){m&&detach(l),destroy_component(u),f[9](null),g=!1,y()}}}function instance$c(f,l,u){let{id:c}=l,{phase:g=0}=l,{phi:y=0}=l,{theta:m=0}=l,{disabled:_=!1}=l,p,x,E=100,A=E/3,b;const k=C=>{C.detail===c&&x&&x.draw()};onMount(()=>(document.addEventListener("redrawQubit",k),activeQubitCount.subscribe(()=>x&&setTimeout(b,100)),()=>{document.removeEventListener("redrawQubit",k)}));const S=C=>{x=C.detail},T=C=>{function M(R,D){return R>0&&R<C.height&&D>0&&D<C.height}function j(){const R=p.getBoundingClientRect();E=min(R.width-100,500),A=E/3}function I(){j(),C.resizeCanvas(E,E),redrawCables()}C.mouseIsPressed=!1,C.mousePressed=R=>{const D=R.target instanceof HTMLCanvasElement;C.mouseIsPressed=D&&M(C.mouseX,C.mouseY)},C.mouseReleased=R=>C.mouseIsPressed=!1,C.setup=()=>{j(),C.createCanvas(E,E,C.WEBGL),C.smooth(),C.noLoop(),u(2,b=debounce(I,100))};const O=debounce(()=>!M(C.mouseX,C.mouseY)||!C.mouseIsPressed?void 0:(C.keyIsPressed&&C.key==="Shift"?u(5,g=clamp$1(C.mouseX/(C.width*.95))):(u(6,y=clamp$1(C.mouseX/(C.width*.95))),u(7,m=clamp$1(C.mouseY/(C.height*.95)))),!1),10);C.mouseDragged=()=>{_||O()},C.draw=()=>{C.smooth(),C.background("#404040");const R=p5_minExports.Vector.fromAngles(C.radians(m*180),C.radians(y*180),A);C.push(),C.rotateY(C.radians(90)),C.ambientMaterial(194);let D=C.color("rgb(209, 206, 199)");D.setAlpha(50),C.stroke(D),C.strokeWeight(.25),C.noFill();const N=C.cos(C.radians(-y*180)),U=C.sin(C.radians(-y*180));C.applyMatrix(N,0,U,0,0,1,0,0,-U,0,N,0,0,0,0,1);const X=C.cos(C.radians(-m*180)),V=C.sin(C.radians(-m*180));C.applyMatrix(X,V,-V,X,0,0);const K=C.cos(C.radians(g*180)),W=C.sin(C.radians(g*180));C.applyMatrix(K,0,W,0,0,1,0,0,-W,0,K,0,0,0,0,1),C.sphere(A-2,20,20),C.pop(),C.push(),C.stroke("white"),C.translate(R.x,R.y,R.z),C.sphere(4),C.pop(),C.push(),C.noFill(),C.stroke("#FF695A"),C.strokeWeight(4),C.rotateY(C.radians(90)),C.rotateY(C.radians(y*180)),C.circle(0,0,A*2),C.pop(),C.push(),C.noFill(),C.stroke("#E5007F"),C.strokeWeight(4),C.rotateX(C.radians(90)),C.translate(0,0,-R.y),C.circle(0,0,C.sin(C.radians(m*180))*A*2),C.pop()}};function P(C){binding_callbacks[C?"unshift":"push"](()=>{p=C,u(1,p)})}return f.$$set=C=>{"id"in C&&u(8,c=C.id),"phase"in C&&u(5,g=C.phase),"phi"in C&&u(6,y=C.phi),"theta"in C&&u(7,m=C.theta),"disabled"in C&&u(0,_=C.disabled)},[_,p,b,S,T,g,y,m,c,P]}class Qubit extends SvelteComponent{constructor(l){super(),init(this,l,instance$c,create_fragment$c,safe_not_equal,{id:8,phase:5,phi:6,theta:7,disabled:0})}}const Patchbay_svelte_svelte_type_style_lang="";function get_each_context$3(f,l,u){const c=f.slice();return c[4]=l[u],c[6]=u,c}function create_each_block$3(f){let l,u,c=f[1][f[6]]+"",g,y,m,_,p;return m=new Socket({props:{id:f[4],type:"remote",colour:f[2][f[6]],offset:f[3][f[6]]}}),{c(){l=element("div"),u=element("h3"),g=text(c),y=space(),create_component(m.$$.fragment),_=space(),this.h()},l(x){l=claim_element(x,"DIV",{class:!0});var E=children(l);u=claim_element(E,"H3",{style:!0,class:!0});var A=children(u);g=claim_text(A,c),A.forEach(detach),y=claim_space(E),claim_component(m.$$.fragment,E),_=claim_space(E),E.forEach(detach),this.h()},h(){set_style(u,"color",f[2][f[6]]),attr(u,"class","svelte-147su5n"),attr(l,"class","socket svelte-147su5n")},m(x,E){insert_hydration(x,l,E),append_hydration(l,u),append_hydration(u,g),append_hydration(l,y),mount_component(m,l,null),append_hydration(l,_),p=!0},p(x,E){(!p||E&2)&&c!==(c=x[1][x[6]]+"")&&set_data(g,c);const A={};E&1&&(A.id=x[4]),m.$set(A)},i(x){p||(transition_in(m.$$.fragment,x),p=!0)},o(x){transition_out(m.$$.fragment,x),p=!1},d(x){x&&detach(l),destroy_component(m)}}}function create_fragment$b(f){let l,u,c=f[0],g=[];for(let m=0;m<c.length;m+=1)g[m]=create_each_block$3(get_each_context$3(f,c,m));const y=m=>transition_out(g[m],1,1,()=>{g[m]=null});return{c(){l=element("div");for(let m=0;m<g.length;m+=1)g[m].c();this.h()},l(m){l=claim_element(m,"DIV",{class:!0});var _=children(l);for(let p=0;p<g.length;p+=1)g[p].l(_);_.forEach(detach),this.h()},h(){attr(l,"class","patchbay svelte-147su5n")},m(m,_){insert_hydration(m,l,_);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(l,null);u=!0},p(m,[_]){if(_&15){c=m[0];let p;for(p=0;p<c.length;p+=1){const x=get_each_context$3(m,c,p);g[p]?(g[p].p(x,_),transition_in(g[p],1)):(g[p]=create_each_block$3(x),g[p].c(),transition_in(g[p],1),g[p].m(l,null))}for(group_outros(),p=c.length;p<g.length;p+=1)y(p);check_outros()}},i(m){if(!u){for(let _=0;_<c.length;_+=1)transition_in(g[_]);u=!0}},o(m){g=g.filter(Boolean);for(let _=0;_<g.length;_+=1)transition_out(g[_]);u=!1},d(m){m&&detach(l),destroy_each(g,m)}}}function instance$b(f,l,u){let{ids:c}=l,{labels:g}=l;const y=["#FF695A","#E5007F","#00A399"],m=[5,0,-5];return f.$$set=_=>{"ids"in _&&u(0,c=_.ids),"labels"in _&&u(1,g=_.labels)},[c,g,y,m]}class Patchbay extends SvelteComponent{constructor(l){super(),init(this,l,instance$b,create_fragment$b,safe_not_equal,{ids:0,labels:1})}}function cubicInOut(f){return f<.5?4*f*f*f:.5*Math.pow(2*f-2,3)+1}function cubicOut(f){const l=f-1;return l*l*l+1}function sineIn(f){const l=Math.cos(f*Math.PI*.5);return Math.abs(l)<1e-14?1:1-l}function is_date(f){return Object.prototype.toString.call(f)==="[object Date]"}function get_interpolator(f,l){if(f===l||f!==f)return()=>f;const u=typeof f;if(u!==typeof l||Array.isArray(f)!==Array.isArray(l))throw new Error("Cannot interpolate values of different type");if(Array.isArray(f)){const c=l.map((g,y)=>get_interpolator(f[y],g));return g=>c.map(y=>y(g))}if(u==="object"){if(!f||!l)throw new Error("Object cannot be null");if(is_date(f)&&is_date(l)){f=f.getTime(),l=l.getTime();const y=l-f;return m=>new Date(f+m*y)}const c=Object.keys(l),g={};return c.forEach(y=>{g[y]=get_interpolator(f[y],l[y])}),y=>{const m={};return c.forEach(_=>{m[_]=g[_](y)}),m}}if(u==="number"){const c=l-f;return g=>f+g*c}throw new Error(`Cannot interpolate ${u} values`)}function tweened(f,l={}){const u=writable$1(f);let c,g=f;function y(m,_){if(f==null)return u.set(f=m),Promise.resolve();g=m;let p=c,x=!1,{delay:E=0,duration:A=400,easing:b=identity,interpolate:k=get_interpolator}=assign(assign({},l),_);if(A===0)return p&&(p.abort(),p=null),u.set(f=g),Promise.resolve();const S=now()+E;let T;return c=loop(P=>{if(P<S)return!0;x||(T=k(f,m),typeof A=="function"&&(A=A(f,m)),x=!0),p&&(p.abort(),p=null);const C=P-S;return C>A?(u.set(f=m),!1):(u.set(f=T(b(C/A))),!0)}),c.promise}return{set:y,update:(m,_)=>y(m(g,f),_),subscribe:u.subscribe}}const Slider_svelte_svelte_type_style_lang="",{window:window_1$2}=globals;function create_fragment$a(f){let l,u,c,g,y,m,_,p,x,E,A,b,k,S,T,P;return{c(){l=element("div"),u=element("span"),c=text(f[1]),m=space(),_=element("div"),p=element("div"),E=space(),A=element("div"),this.h()},l(C){l=claim_element(C,"DIV",{class:!0});var M=children(l);u=claim_element(M,"SPAN",{class:!0,style:!0});var j=children(u);c=claim_text(j,f[1]),j.forEach(detach),m=claim_space(M),_=claim_element(M,"DIV",{class:!0});var I=children(_);p=claim_element(I,"DIV",{class:!0,style:!0}),children(p).forEach(detach),E=claim_space(I),A=claim_element(I,"DIV",{class:!0,style:!0}),children(A).forEach(detach),I.forEach(detach),M.forEach(detach),this.h()},h(){attr(u,"class",g=null_to_empty("label label--"+f[3])+" svelte-x90gh6"),attr(u,"style",y=`color: ${f[2]}`),attr(p,"class","slider__track svelte-x90gh6"),attr(p,"style",x=`background: ${f[2]}`),attr(A,"class","slider__thumb svelte-x90gh6"),attr(A,"style",b=`${f[3]==="vertical"?"top":"left"}: calc(${f[0]*100}% - 4px)`),attr(_,"class",k=null_to_empty(`slider slider--${f[3]}`)+" svelte-x90gh6"),attr(l,"class",S=null_to_empty(`slider__container slider__container--${f[3]}`)+" svelte-x90gh6"),toggle_class(l,"disabled",f[4])},m(C,M){insert_hydration(C,l,M),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,p),append_hydration(_,E),append_hydration(_,A),f[13](_),T||(P=[listen(window_1$2,"mousemove",f[9]),listen(window_1$2,"touchmove",f[10]),listen(window_1$2,"mouseup",f[11]),listen(window_1$2,"touchend",f[12]),listen(_,"mousedown",f[7]),listen(_,"touchstart",f[8])],T=!0)},p(C,[M]){M&2&&set_data(c,C[1]),M&8&&g!==(g=null_to_empty("label label--"+C[3])+" svelte-x90gh6")&&attr(u,"class",g),M&4&&y!==(y=`color: ${C[2]}`)&&attr(u,"style",y),M&4&&x!==(x=`background: ${C[2]}`)&&attr(p,"style",x),M&9&&b!==(b=`${C[3]==="vertical"?"top":"left"}: calc(${C[0]*100}% - 4px)`)&&attr(A,"style",b),M&8&&k!==(k=null_to_empty(`slider slider--${C[3]}`)+" svelte-x90gh6")&&attr(_,"class",k),M&8&&S!==(S=null_to_empty(`slider__container slider__container--${C[3]}`)+" svelte-x90gh6")&&attr(l,"class",S),M&24&&toggle_class(l,"disabled",C[4])},i:noop,o:noop,d(C){C&&detach(l),f[13](null),T=!1,run_all(P)}}}function instance$a(f,l,u){let{name:c=""}=l,{value:g=0}=l,{colour:y="#000"}=l,{orientation:m="vertical"}=l,{disabled:_=!1}=l,p=tweened(0,{duration:400,easing:cubicOut}),x,E=!1;function A(j,I){const{height:O,width:R,top:D,left:N}=x==null?void 0:x.getBoundingClientRect(),U=m==="vertical"?O:R,X=I-(D+window.scrollY),V=j-(N+window.scrollX),K=m==="vertical"?X:V;p.set(clamp$1(1-(U-K)/U,0,1))}const b=j=>{if(_)return;u(6,E=!0);const{pageX:I,pageY:O}=j;A(I,O)},k=j=>{if(_)return;u(6,E=!0);const{pageX:I,pageY:O}=j.touches[0];A(I,O)},S=j=>{if(_||!E)return;const{pageX:I,pageY:O}=j;A(I,O)},T=j=>{if(_||!E)return;const{pageX:I,pageY:O}=j.touches[0];A(I,O)};onMount(()=>p.subscribe(debounce(j=>u(0,g=j),10)));const P=()=>u(6,E=!1),C=()=>u(6,E=!1);function M(j){binding_callbacks[j?"unshift":"push"](()=>{x=j,u(5,x)})}return f.$$set=j=>{"name"in j&&u(1,c=j.name),"value"in j&&u(0,g=j.value),"colour"in j&&u(2,y=j.colour),"orientation"in j&&u(3,m=j.orientation),"disabled"in j&&u(4,_=j.disabled)},[g,c,y,m,_,x,E,b,k,S,T,P,C,M]}class Slider extends SvelteComponent{constructor(l){super(),init(this,l,instance$a,create_fragment$a,safe_not_equal,{name:1,value:0,colour:2,orientation:3,disabled:4})}}const Qubits_svelte_svelte_type_style_lang="",{window:window_1$1}=globals;function get_each_context$2(f,l,u){const c=f.slice();return c[17]=l[u],c[18]=l,c[19]=u,c}function get_each_context_1(f,l,u){const c=f.slice();return c[20]=l[u].value,c[21]=l[u].name,c[22]=l[u].colour,c[23]=l,c[24]=u,c}function create_if_block$6(f){let l,u,c=(f[19]+1).toString().padStart(2,"0")+"",g,y,m,_=getUserName(f[17].user)+"",p;return{c(){l=element("h3"),u=element("span"),g=text(c),y=space(),m=element("span"),p=text(_),this.h()},l(x){l=claim_element(x,"H3",{class:!0});var E=children(l);u=claim_element(E,"SPAN",{style:!0,class:!0});var A=children(u);g=claim_text(A,c),A.forEach(detach),y=claim_space(E),m=claim_element(E,"SPAN",{style:!0,class:!0});var b=children(m);p=claim_text(b,_),b.forEach(detach),E.forEach(detach),this.h()},h(){set_style(u,"background-color",getUserColour(f[17].user)),attr(u,"class","svelte-hjih4o"),set_style(m,"background-color",getUserColour(f[17].user)),attr(m,"class","svelte-hjih4o"),attr(l,"class","qubit__info svelte-hjih4o")},m(x,E){insert_hydration(x,l,E),append_hydration(l,u),append_hydration(u,g),append_hydration(l,y),append_hydration(l,m),append_hydration(m,p)},p(x,E){E&32&&set_style(u,"background-color",getUserColour(x[17].user)),E&32&&_!==(_=getUserName(x[17].user)+"")&&set_data(p,_),E&32&&set_style(m,"background-color",getUserColour(x[17].user))},d(x){x&&detach(l)}}}function create_each_block_1(f,l){let u,c,g,y;function m(p){l[15](p,l[20],l[23],l[24])}let _={disabled:l[17].user!=="you",name:l[21],colour:l[22]};return l[20]!==void 0&&(_.value=l[20]),c=new Slider({props:_}),binding_callbacks.push(()=>bind(c,"value",m)),{key:f,first:null,c(){u=empty(),create_component(c.$$.fragment),this.h()},l(p){u=empty(),claim_component(c.$$.fragment,p),this.h()},h(){this.first=u},m(p,x){insert_hydration(p,u,x),mount_component(c,p,x),y=!0},p(p,x){l=p;const E={};x&32&&(E.disabled=l[17].user!=="you"),x&32&&(E.name=l[21]),x&32&&(E.colour=l[22]),!g&&x&32&&(g=!0,E.value=l[20],add_flush_callback(()=>g=!1)),c.$set(E)},i(p){y||(transition_in(c.$$.fragment,p),y=!0)},o(p){transition_out(c.$$.fragment,p),y=!1},d(p){p&&detach(u),destroy_component(c,p)}}}function create_each_block$2(f){let l,u=isApp(),c,g,y,m,_,p,x,E,A,b,k,S=[],T=new Map,P,C,M=u&&create_if_block$6(f);function j(X){f[11](X,f[17])}function I(X){f[12](X,f[17])}function O(X){f[13](X,f[17])}let R={id:f[19],disabled:f[17].user!=="you"};f[17].axes[1].value!==void 0&&(R.phi=f[17].axes[1].value),f[17].axes[2].value!==void 0&&(R.theta=f[17].axes[2].value),f[17].axes[0].value!==void 0&&(R.phase=f[17].axes[0].value),y=new Qubit({props:R}),binding_callbacks.push(()=>bind(y,"phi",j)),binding_callbacks.push(()=>bind(y,"theta",I)),binding_callbacks.push(()=>bind(y,"phase",O));function D(...X){return f[14](f[19],...X)}A=new Patchbay({props:{ids:f[6].map(D).reverse(),labels:f[7].reverse()}});let N=f[17].axes;const U=X=>X[21];for(let X=0;X<N.length;X+=1){let V=get_each_context_1(f,N,X),K=U(V);T.set(K,S[X]=create_each_block_1(K,V))}return{c(){l=element("div"),M&&M.c(),c=space(),g=element("div"),create_component(y.$$.fragment),x=space(),E=element("div"),create_component(A.$$.fragment),b=space(),k=element("div");for(let X=0;X<S.length;X+=1)S[X].c();P=space(),this.h()},l(X){l=claim_element(X,"DIV",{class:!0,style:!0});var V=children(l);M&&M.l(V),c=claim_space(V),g=claim_element(V,"DIV",{class:!0});var K=children(g);claim_component(y.$$.fragment,K),K.forEach(detach),x=claim_space(V),E=claim_element(V,"DIV",{class:!0});var W=children(E);claim_component(A.$$.fragment,W),W.forEach(detach),b=claim_space(V),k=claim_element(V,"DIV",{class:!0});var Q=children(k);for(let L=0;L<S.length;L+=1)S[L].l(Q);Q.forEach(detach),P=claim_space(V),V.forEach(detach),this.h()},h(){attr(g,"class","qubit__qubit svelte-hjih4o"),attr(E,"class","qubit__patchbay svelte-hjih4o"),attr(k,"class","qubit__sliders svelte-hjih4o"),attr(l,"class","qubit svelte-hjih4o"),set_style(l,"border-color",getUserColour(f[17].user)),toggle_class(l,"qubit--single",f[2]),toggle_class(l,"qubit--double",f[1]),toggle_class(l,"qubit--triple",f[4]),toggle_class(l,"qubit--full-height",f[3]),toggle_class(l,"qubit--border",f[17].user!=="you")},m(X,V){insert_hydration(X,l,V),M&&M.m(l,null),append_hydration(l,c),append_hydration(l,g),mount_component(y,g,null),append_hydration(l,x),append_hydration(l,E),mount_component(A,E,null),append_hydration(l,b),append_hydration(l,k);for(let K=0;K<S.length;K+=1)S[K]&&S[K].m(k,null);append_hydration(l,P),C=!0},p(X,V){f=X,u&&M.p(f,V);const K={};V&32&&(K.disabled=f[17].user!=="you"),!m&&V&32&&(m=!0,K.phi=f[17].axes[1].value,add_flush_callback(()=>m=!1)),!_&&V&32&&(_=!0,K.theta=f[17].axes[2].value,add_flush_callback(()=>_=!1)),!p&&V&32&&(p=!0,K.phase=f[17].axes[0].value,add_flush_callback(()=>p=!1)),y.$set(K),V&32&&(N=f[17].axes,group_outros(),S=update_keyed_each(S,V,U,1,f,N,T,k,outro_and_destroy_block,create_each_block_1,null,get_each_context_1),check_outros()),(!C||V&32)&&set_style(l,"border-color",getUserColour(f[17].user)),(!C||V&4)&&toggle_class(l,"qubit--single",f[2]),(!C||V&2)&&toggle_class(l,"qubit--double",f[1]),(!C||V&16)&&toggle_class(l,"qubit--triple",f[4]),(!C||V&8)&&toggle_class(l,"qubit--full-height",f[3]),(!C||V&32)&&toggle_class(l,"qubit--border",f[17].user!=="you")},i(X){if(!C){transition_in(y.$$.fragment,X),transition_in(A.$$.fragment,X);for(let V=0;V<N.length;V+=1)transition_in(S[V]);C=!0}},o(X){transition_out(y.$$.fragment,X),transition_out(A.$$.fragment,X);for(let V=0;V<S.length;V+=1)transition_out(S[V]);C=!1},d(X){X&&detach(l),M&&M.d(),destroy_component(y),destroy_component(A);for(let V=0;V<S.length;V+=1)S[V].d()}}}function create_fragment$9(f){let l,u,c,g,y=f[5].filter(func),m=[];for(let p=0;p<y.length;p+=1)m[p]=create_each_block$2(get_each_context$2(f,y,p));const _=p=>transition_out(m[p],1,1,()=>{m[p]=null});return{c(){l=element("div");for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){l=claim_element(p,"DIV",{class:!0});var x=children(l);for(let E=0;E<m.length;E+=1)m[E].l(x);x.forEach(detach),this.h()},h(){attr(l,"class","qubits svelte-hjih4o")},m(p,x){insert_hydration(p,l,x);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(l,null);u=!0,c||(g=[listen(window_1$1,"resize",f[10]),listen(l,"scroll",f[16])],c=!0)},p(p,[x]){if(x&254){y=p[5].filter(func);let E;for(E=0;E<y.length;E+=1){const A=get_each_context$2(p,y,E);m[E]?(m[E].p(A,x),transition_in(m[E],1)):(m[E]=create_each_block$2(A),m[E].c(),transition_in(m[E],1),m[E].m(l,null))}for(group_outros(),E=y.length;E<m.length;E+=1)_(E);check_outros()}},i(p){if(!u){for(let x=0;x<y.length;x+=1)transition_in(m[x]);u=!0}},o(p){m=m.filter(Boolean);for(let x=0;x<m.length;x+=1)transition_out(m[x]);u=!1},d(p){p&&detach(l),destroy_each(m,p),c=!1,run_all(g)}}}const func=f=>f.active;function instance$9(f,l,u){let c,g,y,m,_,p;component_subscribe(f,activeQubitCount,I=>u(9,_=I)),component_subscribe(f,qubits,I=>u(5,p=I));let x=p[0].axes.map(({key:I})=>I),E=p[0].axes.map(({name:I})=>I),A=window.innerWidth;const b=debounce(()=>redrawCables(),1),k=()=>u(0,A=window.innerWidth);function S(I,O){f.$$.not_equal(O.axes[1].value,I)&&(O.axes[1].value=I,qubits.set(p))}function T(I,O){f.$$.not_equal(O.axes[2].value,I)&&(O.axes[2].value=I,qubits.set(p))}function P(I,O){f.$$.not_equal(O.axes[0].value,I)&&(O.axes[0].value=I,qubits.set(p))}const C=(I,O)=>`${O}${I}`;function M(I,O,R,D){R[D].value=I,qubits.set(p)}const j=()=>b();return f.$$.update=()=>{f.$$.dirty&513&&u(2,c=_===1||A<1e3),f.$$.dirty&517&&u(1,g=(_%2===0||_===3||A<1500)&&!c),f.$$.dirty&6&&u(4,y=!c&&!g),f.$$.dirty&513&&u(3,m=_===1&&A>1e3||_===2&&A>1e3)},[A,g,c,m,y,p,x,E,b,_,k,S,T,P,C,M,j]}class Qubits extends SvelteComponent{constructor(l){super(),init(this,l,instance$9,create_fragment$9,safe_not_equal,{})}}const index_svelte_svelte_type_style_lang="";function get_each_context$1(f,l,u){const c=f.slice();return c[4]=l[u].name,c}function create_each_block$1(f){let l,u;function c(){return f[3](f[4])}return l=new Button({props:{onClick:c,active:f[1]===f[4],disabled:f[1]!==f[4],colour:"yellow",text:f[4],icon:f[2][f[4]],classes:f[0]==="horizontal"?"mr-2":"mb-2"}}),{c(){create_component(l.$$.fragment)},l(g){claim_component(l.$$.fragment,g)},m(g,y){mount_component(l,g,y),u=!0},p(g,y){f=g;const m={};y&2&&(m.active=f[1]===f[4]),y&2&&(m.disabled=f[1]!==f[4]),y&1&&(m.classes=f[0]==="horizontal"?"mr-2":"mb-2"),l.$set(m)},i(g){u||(transition_in(l.$$.fragment,g),u=!0)},o(g){transition_out(l.$$.fragment,g),u=!1},d(g){destroy_component(l,g)}}}function create_fragment$8(f){let l,u,c,g=instruments$1,y=[];for(let _=0;_<g.length;_+=1)y[_]=create_each_block$1(get_each_context$1(f,g,_));const m=_=>transition_out(y[_],1,1,()=>{y[_]=null});return{c(){l=element("div");for(let _=0;_<y.length;_+=1)y[_].c();this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var p=children(l);for(let x=0;x<y.length;x+=1)y[x].l(p);p.forEach(detach),this.h()},h(){attr(l,"class",u=null_to_empty(`instrument-buttons instrument-buttons--${f[0]}`)+" svelte-1r8c0w4")},m(_,p){insert_hydration(_,l,p);for(let x=0;x<y.length;x+=1)y[x]&&y[x].m(l,null);c=!0},p(_,[p]){if(p&7){g=instruments$1;let x;for(x=0;x<g.length;x+=1){const E=get_each_context$1(_,g,x);y[x]?(y[x].p(E,p),transition_in(y[x],1)):(y[x]=create_each_block$1(E),y[x].c(),transition_in(y[x],1),y[x].m(l,null))}for(group_outros(),x=g.length;x<y.length;x+=1)m(x);check_outros()}(!c||p&1&&u!==(u=null_to_empty(`instrument-buttons instrument-buttons--${_[0]}`)+" svelte-1r8c0w4"))&&attr(l,"class",u)},i(_){if(!c){for(let p=0;p<g.length;p+=1)transition_in(y[p]);c=!0}},o(_){y=y.filter(Boolean);for(let p=0;p<y.length;p+=1)transition_out(y[p]);c=!1},d(_){_&&detach(l),destroy_each(y,_)}}}function instance$8(f,l,u){let c;component_subscribe(f,instrument,_=>u(1,c=_)),library$1.add(faSmileWink,faNetworkWired,faCompactDisc,faBraille,faTable);const g={synth:faNetworkWired,sampler:faCompactDisc,granular:faBraille,wavetable:faTable};let{orientation:y="horizontal"}=l;const m=_=>instrument.set(_);return f.$$set=_=>{"orientation"in _&&u(0,y=_.orientation)},[y,c,g,m]}class InstrumentButtons extends SvelteComponent{constructor(l){super(),init(this,l,instance$8,create_fragment$8,safe_not_equal,{orientation:0})}}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(f){(function(){var l={}.hasOwnProperty;function u(){for(var y="",m=0;m<arguments.length;m++){var _=arguments[m];_&&(y=g(y,c(_)))}return y}function c(y){if(typeof y=="string"||typeof y=="number")return y;if(typeof y!="object")return"";if(Array.isArray(y))return u.apply(null,y);if(y.toString!==Object.prototype.toString&&!y.toString.toString().includes("[native code]"))return y.toString();var m="";for(var _ in y)l.call(y,_)&&y[_]&&(m=g(m,_));return m}function g(y,m){return m?y?y+" "+m:y+m:y}f.exports?(u.default=u,f.exports=u):window.classNames=u})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function create_else_block$1(f){let l=f[1],u,c,g=f[1]&&create_dynamic_element_1(f);return{c(){g&&g.c(),u=empty()},l(y){g&&g.l(y),u=empty()},m(y,m){g&&g.m(y,m),insert_hydration(y,u,m),c=!0},p(y,m){y[1]?l?safe_not_equal(l,y[1])?(g.d(1),g=create_dynamic_element_1(y),l=y[1],g.c(),g.m(u.parentNode,u)):g.p(y,m):(g=create_dynamic_element_1(y),l=y[1],g.c(),g.m(u.parentNode,u)):l&&(g.d(1),g=null,l=y[1])},i(y){c||(transition_in(g),c=!0)},o(y){transition_out(g),c=!1},d(y){y&&detach(u),g&&g.d(y)}}}function create_if_block$5(f){let l=f[1],u,c=!1,g,y=f[1]&&create_dynamic_element(f);return{c(){y&&y.c(),u=empty()},l(m){y&&y.l(m),u=empty()},m(m,_){y&&y.m(m,_),insert_hydration(m,u,_),g=!0},p(m,_){m[1]?l?safe_not_equal(l,m[1])?(y.d(1),y=create_dynamic_element(m),l=m[1],y.c(),c&&(c=!1,transition_in(y)),y.m(u.parentNode,u)):(c&&(c=!1,transition_in(y)),y.p(m,_)):(y=create_dynamic_element(m),l=m[1],y.c(),transition_in(y),y.m(u.parentNode,u)):l&&(c=!0,group_outros(),transition_out(y,1,1,()=>{y=null,l=m[1],c=!1}),check_outros())},i(m){g||(transition_in(y),g=!0)},o(m){transition_out(y),g=!1},d(m){m&&detach(u),y&&y.d(m)}}}function create_dynamic_element_1(f){let l,u,c,g,y;const m=f[13].default,_=create_slot(m,f,f[12],null);let p=[f[7],{class:f[6]}],x={};for(let E=0;E<p.length;E+=1)x=assign(x,p[E]);return{c(){l=element(f[1]),_&&_.c(),this.h()},l(E){l=claim_element(E,(f[1]||"null").toUpperCase(),{class:!0});var A=children(l);_&&_.l(A),A.forEach(detach),this.h()},h(){set_dynamic_element_data(f[1])(l,x)},m(E,A){insert_hydration(E,l,A),_&&_.m(l,null),f[23](l),c=!0,g||(y=[action_destroyer(u=f[4].call(null,l,f[5])),listen(l,"mouseenter",f[18]),listen(l,"mouseleave",f[19]),listen(l,"focusin",f[20]),listen(l,"focusout",f[21])],g=!0)},p(E,A){_&&_.p&&(!c||A&4096)&&update_slot_base(_,m,E,E[12],c?get_slot_changes(m,E[12],A,null):get_all_dirty_from_scope(E[12]),null),set_dynamic_element_data(E[1])(l,x=get_spread_update(p,[A&128&&E[7],(!c||A&64)&&{class:E[6]}])),u&&is_function(u.update)&&A&32&&u.update.call(null,E[5])},i(E){c||(transition_in(_,E),c=!0)},o(E){transition_out(_,E),c=!1},d(E){E&&detach(l),_&&_.d(E),f[23](null),g=!1,run_all(y)}}}function create_dynamic_element(f){let l,u,c,g,y,m;const _=f[13].default,p=create_slot(_,f,f[12],null);let x=[f[7],{class:f[6]}],E={};for(let A=0;A<x.length;A+=1)E=assign(E,x[A]);return{c(){l=element(f[1]),p&&p.c(),this.h()},l(A){l=claim_element(A,(f[1]||"null").toUpperCase(),{class:!0});var b=children(l);p&&p.l(b),b.forEach(detach),this.h()},h(){set_dynamic_element_data(f[1])(l,E)},m(A,b){insert_hydration(A,l,b),p&&p.m(l,null),f[22](l),g=!0,y||(m=[action_destroyer(u=f[4].call(null,l,f[5])),listen(l,"mouseenter",f[14]),listen(l,"mouseleave",f[15]),listen(l,"focusin",f[16]),listen(l,"focusout",f[17])],y=!0)},p(A,b){f=A,p&&p.p&&(!g||b&4096)&&update_slot_base(p,_,f,f[12],g?get_slot_changes(_,f[12],b,null):get_all_dirty_from_scope(f[12]),null),set_dynamic_element_data(f[1])(l,E=get_spread_update(x,[b&128&&f[7],(!g||b&64)&&{class:f[6]}])),u&&is_function(u.update)&&b&32&&u.update.call(null,f[5])},i(A){g||(transition_in(p,A),add_render_callback(()=>{g&&(c||(c=create_bidirectional_transition(l,f[2],f[3],!0)),c.run(1))}),g=!0)},o(A){transition_out(p,A),c||(c=create_bidirectional_transition(l,f[2],f[3],!1)),c.run(0),g=!1},d(A){A&&detach(l),p&&p.d(A),f[22](null),A&&c&&c.end(),y=!1,run_all(m)}}}function create_fragment$7(f){let l,u,c,g;const y=[create_if_block$5,create_else_block$1],m=[];function _(p,x){return p[2]?0:1}return l=_(f),u=m[l]=y[l](f),{c(){u.c(),c=empty()},l(p){u.l(p),c=empty()},m(p,x){m[l].m(p,x),insert_hydration(p,c,x),g=!0},p(p,[x]){let E=l;l=_(p),l===E?m[l].p(p,x):(group_outros(),transition_out(m[E],1,1,()=>{m[E]=null}),check_outros(),u=m[l],u?u.p(p,x):(u=m[l]=y[l](p),u.c()),transition_in(u,1),u.m(c.parentNode,c))},i(p){g||(transition_in(u),g=!0)},o(p){transition_out(u),g=!1},d(p){m[l].d(p),p&&detach(c)}}}function instance$7(f,l,u){const c=["tag","color","rounded","border","shadow","transition","params","node","use","options"];let g=compute_rest_props(l,c),{$$slots:y={},$$scope:m}=l;setContext$1("background",!0);let{tag:_="div"}=l,{color:p="default"}=l,{rounded:x=!1}=l,{border:E=!1}=l,{shadow:A=!1}=l,{transition:b=void 0}=l,{params:k={}}=l,{node:S=void 0}=l,{use:T=noop}=l,{options:P={}}=l;const C={gray:"bg-gray-50 dark:bg-gray-800",red:"bg-red-50 dark:bg-gray-800",yellow:"bg-yellow-50 dark:bg-gray-800 ",green:"bg-green-50 dark:bg-gray-800 ",indigo:"bg-indigo-50 dark:bg-gray-800 ",purple:"bg-purple-50 dark:bg-gray-800 ",pink:"bg-pink-50 dark:bg-gray-800 ",blue:"bg-blue-50 dark:bg-gray-800 ",light:"bg-gray-50 dark:bg-gray-700",dark:"bg-gray-50 dark:bg-gray-800",default:"bg-white dark:bg-gray-800",dropdown:"bg-white dark:bg-gray-700",navbar:"bg-white dark:bg-gray-900",navbarUl:"bg-gray-50 dark:bg-gray-800",form:"bg-gray-50 dark:bg-gray-700",primary:"bg-primary-50 dark:bg-gray-800 ",none:""},M={gray:"text-gray-800 dark:text-gray-300",red:"text-red-800 dark:text-red-400",yellow:"text-yellow-800 dark:text-yellow-300",green:"text-green-800 dark:text-green-400",indigo:"text-indigo-800 dark:text-indigo-400",purple:"text-purple-800 dark:text-purple-400",pink:"text-pink-800 dark:text-pink-400",blue:"text-blue-800 dark:text-blue-400",light:"text-gray-700 dark:text-gray-300",dark:"text-gray-700 dark:text-gray-300",default:"text-gray-500 dark:text-gray-400",dropdown:"text-gray-700 dark:text-gray-200",navbar:"text-gray-700 dark:text-gray-200",navbarUl:"text-gray-700 dark:text-gray-400",form:"text-gray-900 dark:text-white",primary:"text-primary-800 dark:text-primary-400",none:""},j={gray:"border-gray-300 dark:border-gray-800",red:"border-red-300 dark:border-red-800",yellow:"border-yellow-300 dark:border-yellow-800",green:"border-green-300 dark:border-green-800",indigo:"border-indigo-300 dark:border-indigo-800",purple:"border-purple-300 dark:border-purple-800",pink:"border-pink-300 dark:border-pink-800",blue:"border-blue-300 dark:border-blue-800",light:"border-gray-500",dark:"border-gray-500",default:"border-gray-200 dark:border-gray-700",dropdown:"border-gray-100 dark:border-gray-700",navbar:"border-gray-100 dark:border-gray-700",navbarUl:"border-gray-100 dark:border-gray-700",form:"border-gray-300 dark:border-gray-700",primary:"border-primary-500 dark:bg-primary-200 ",none:""};let I;function O(L){bubble.call(this,f,L)}function R(L){bubble.call(this,f,L)}function D(L){bubble.call(this,f,L)}function N(L){bubble.call(this,f,L)}function U(L){bubble.call(this,f,L)}function X(L){bubble.call(this,f,L)}function V(L){bubble.call(this,f,L)}function K(L){bubble.call(this,f,L)}function W(L){binding_callbacks[L?"unshift":"push"](()=>{S=L,u(0,S)})}function Q(L){binding_callbacks[L?"unshift":"push"](()=>{S=L,u(0,S)})}return f.$$set=L=>{u(27,l=assign(assign({},l),exclude_internal_props(L))),u(7,g=compute_rest_props(l,c)),"tag"in L&&u(1,_=L.tag),"color"in L&&u(8,p=L.color),"rounded"in L&&u(9,x=L.rounded),"border"in L&&u(10,E=L.border),"shadow"in L&&u(11,A=L.shadow),"transition"in L&&u(2,b=L.transition),"params"in L&&u(3,k=L.params),"node"in L&&u(0,S=L.node),"use"in L&&u(4,T=L.use),"options"in L&&u(5,P=L.options),"$$scope"in L&&u(12,m=L.$$scope)},f.$$.update=()=>{f.$$.dirty&256&&setContext$1("color",p),u(6,I=classNames(C[p],M[p],x&&(p==="dropdown"?"rounded":"rounded-lg"),E&&"border",j[p],A&&"shadow-md",l.class))},l=exclude_internal_props(l),[S,_,b,k,T,P,I,g,p,x,E,A,m,y,O,R,D,N,U,X,V,K,W,Q]}class Frame extends SvelteComponent{constructor(l){super(),init(this,l,instance$7,create_fragment$7,safe_not_equal,{tag:1,color:8,rounded:9,border:10,shadow:11,transition:2,params:3,node:0,use:4,options:5})}}function blur(f,{delay:l=0,duration:u=400,easing:c=cubicInOut,amount:g=5,opacity:y=0}={}){const m=getComputedStyle(f),_=+m.opacity,p=m.filter==="none"?"":m.filter,x=_*(1-y),[E,A]=split_css_unit(g);return{delay:l,duration:u,easing:c,css:(b,k)=>`opacity: ${_-x*k}; filter: ${p} blur(${k*E}${A});`}}function fade(f,{delay:l=0,duration:u=400,easing:c=identity}={}){const g=+getComputedStyle(f).opacity;return{delay:l,duration:u,easing:c,css:y=>`opacity: ${y*g}`}}function fly(f,{delay:l=0,duration:u=400,easing:c=cubicOut,x:g=0,y=0,opacity:m=0}={}){const _=getComputedStyle(f),p=+_.opacity,x=_.transform==="none"?"":_.transform,E=p*(1-m),[A,b]=split_css_unit(g),[k,S]=split_css_unit(y);return{delay:l,duration:u,easing:c,css:(T,P)=>`
			transform: ${x} translate(${(1-T)*A}${b}, ${(1-T)*k}${S});
			opacity: ${p-E*P}`}}function slide(f,{delay:l=0,duration:u=400,easing:c=cubicOut,axis:g="y"}={}){const y=getComputedStyle(f),m=+y.opacity,_=g==="y"?"height":"width",p=parseFloat(y[_]),x=g==="y"?["top","bottom"]:["left","right"],E=x.map(C=>`${C[0].toUpperCase()}${C.slice(1)}`),A=parseFloat(y[`padding${E[0]}`]),b=parseFloat(y[`padding${E[1]}`]),k=parseFloat(y[`margin${E[0]}`]),S=parseFloat(y[`margin${E[1]}`]),T=parseFloat(y[`border${E[0]}Width`]),P=parseFloat(y[`border${E[1]}Width`]);return{delay:l,duration:u,easing:c,css:C=>`overflow: hidden;opacity: ${Math.min(C*20,1)*m};${_}: ${C*p}px;padding-${x[0]}: ${C*A}px;padding-${x[1]}: ${C*b}px;margin-${x[0]}: ${C*k}px;margin-${x[1]}: ${C*S}px;border-${x[0]}-width: ${C*T}px;border-${x[1]}-width: ${C*P}px;`}}const get_default_slot_changes$1=f=>({svgSize:f&4}),get_default_slot_context$1=f=>({svgSize:f[4][f[2]]});function create_if_block$4(f){let l,u;return{c(){l=element("span"),u=text(f[0]),this.h()},l(c){l=claim_element(c,"SPAN",{class:!0});var g=children(l);u=claim_text(g,f[0]),g.forEach(detach),this.h()},h(){attr(l,"class","sr-only")},m(c,g){insert_hydration(c,l,g),append_hydration(l,u)},p(c,g){g&1&&set_data(u,c[0])},d(c){c&&detach(l)}}}function create_fragment$6(f){let l,u,c,g,y,m,_=f[0]&&create_if_block$4(f);const p=f[8].default,x=create_slot(p,f,f[7],get_default_slot_context$1);let E=[{type:"button"},f[5],{class:f[3]},{"aria-label":c=f[1]??f[0]}],A={};for(let b=0;b<E.length;b+=1)A=assign(A,E[b]);return{c(){l=element("button"),_&&_.c(),u=space(),x&&x.c(),this.h()},l(b){l=claim_element(b,"BUTTON",{type:!0,class:!0,"aria-label":!0});var k=children(l);_&&_.l(k),u=claim_space(k),x&&x.l(k),k.forEach(detach),this.h()},h(){set_attributes(l,A)},m(b,k){insert_hydration(b,l,k),_&&_.m(l,null),append_hydration(l,u),x&&x.m(l,null),l.autofocus&&l.focus(),g=!0,y||(m=listen(l,"click",f[9]),y=!0)},p(b,[k]){b[0]?_?_.p(b,k):(_=create_if_block$4(b),_.c(),_.m(l,u)):_&&(_.d(1),_=null),x&&x.p&&(!g||k&132)&&update_slot_base(x,p,b,b[7],g?get_slot_changes(p,b[7],k,get_default_slot_changes$1):get_all_dirty_from_scope(b[7]),get_default_slot_context$1),set_attributes(l,A=get_spread_update(E,[{type:"button"},k&32&&b[5],(!g||k&8)&&{class:b[3]},(!g||k&3&&c!==(c=b[1]??b[0]))&&{"aria-label":c}]))},i(b){g||(transition_in(x,b),g=!0)},o(b){transition_out(x,b),g=!1},d(b){b&&detach(l),_&&_.d(),x&&x.d(b),y=!1,m()}}}function instance$6(f,l,u){const c=["color","name","ariaLabel","size"];let g=compute_rest_props(l,c),{$$slots:y={},$$scope:m}=l;const _=getContext$1("background");let{color:p="default"}=l,{name:x=void 0}=l,{ariaLabel:E=void 0}=l,{size:A="md"}=l;const b={dark:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700",gray:"text-gray-500 focus:ring-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",red:"text-red-500 focus:ring-red-400 hover:bg-red-200 dark:hover:bg-gray-700",yellow:"text-yellow-500 focus:ring-yellow-400 hover:bg-yellow-200 dark:hover:bg-gray-700",green:"text-green-500 focus:ring-green-400 hover:bg-green-200 dark:hover:bg-gray-700",indigo:"text-indigo-500 focus:ring-indigo-400 hover:bg-indigo-200 dark:hover:bg-gray-700",purple:"text-purple-500 focus:ring-purple-400 hover:bg-purple-200 dark:hover:bg-gray-700",pink:"text-pink-500 focus:ring-pink-400 hover:bg-pink-200 dark:hover:bg-gray-700",blue:"text-blue-500 focus:ring-blue-400 hover:bg-blue-200 dark:hover:bg-gray-700",default:"focus:ring-gray-400 "},k={xs:"m-0.5 rounded focus:ring-1 p-0.5",sm:"m-0.5 rounded focus:ring-1 p-0.5",md:"rounded-lg focus:ring-2 p-1.5"};let S;const T={xs:"w-3 h-3",sm:"w-3.5 h-3.5",md:"w-5 h-5"};function P(C){bubble.call(this,f,C)}return f.$$set=C=>{u(13,l=assign(assign({},l),exclude_internal_props(C))),u(5,g=compute_rest_props(l,c)),"color"in C&&u(6,p=C.color),"name"in C&&u(0,x=C.name),"ariaLabel"in C&&u(1,E=C.ariaLabel),"size"in C&&u(2,A=C.size),"$$scope"in C&&u(7,m=C.$$scope)},f.$$.update=()=>{u(3,S=classNames("focus:outline-none whitespace-normal",k[A],b[p],p==="default"&&(_?"hover:bg-gray-100 dark:hover:bg-gray-600":"hover:bg-gray-100 dark:hover:bg-gray-700"),l.class))},l=exclude_internal_props(l),[x,E,A,S,T,g,p,m,y,P]}class ToolbarButton extends SvelteComponent{constructor(l){super(),init(this,l,instance$6,create_fragment$6,safe_not_equal,{color:6,name:0,ariaLabel:1,size:2})}}function create_default_slot$3(f){let l,u,c;return{c(){l=svg_element("svg"),u=svg_element("path"),this.h()},l(g){l=claim_svg_element(g,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var y=children(l);u=claim_svg_element(y,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(u).forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"fill-rule","evenodd"),attr(u,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),attr(u,"clip-rule","evenodd"),attr(l,"class",c=f[4]),attr(l,"fill","currentColor"),attr(l,"viewBox","0 0 20 20"),attr(l,"xmlns","http://www.w3.org/2000/svg")},m(g,y){insert_hydration(g,l,y),append_hydration(l,u)},p(g,y){y&16&&c!==(c=g[4])&&attr(l,"class",c)},d(g){g&&detach(l)}}}function create_fragment$5(f){let l,u;const c=[{name:f[0]},f[1],{class:classNames("ml-auto",f[2].class)}];let g={$$slots:{default:[create_default_slot$3,({svgSize:y})=>({4:y}),({svgSize:y})=>y?16:0]},$$scope:{ctx:f}};for(let y=0;y<c.length;y+=1)g=assign(g,c[y]);return l=new ToolbarButton({props:g}),l.$on("click",f[3]),{c(){create_component(l.$$.fragment)},l(y){claim_component(l.$$.fragment,y)},m(y,m){mount_component(l,y,m),u=!0},p(y,[m]){const _=m&7?get_spread_update(c,[m&1&&{name:y[0]},m&2&&get_spread_object(y[1]),m&4&&{class:classNames("ml-auto",y[2].class)}]):{};m&48&&(_.$$scope={dirty:m,ctx:y}),l.$set(_)},i(y){u||(transition_in(l.$$.fragment,y),u=!0)},o(y){transition_out(l.$$.fragment,y),u=!1},d(y){destroy_component(l,y)}}}function instance$5(f,l,u){const c=["name"];let g=compute_rest_props(l,c),{name:y="Close"}=l;function m(_){bubble.call(this,f,_)}return f.$$set=_=>{u(2,l=assign(assign({},l),exclude_internal_props(_))),u(1,g=compute_rest_props(l,c)),"name"in _&&u(0,y=_.name)},l=exclude_internal_props(l),[y,g,l,m]}class CloseButton extends SvelteComponent{constructor(l){super(),init(this,l,instance$5,create_fragment$5,safe_not_equal,{name:0})}}const Thumbnail_svelte_svelte_type_style_lang="",Indicator_svelte_svelte_type_style_lang="",clickOutside=(f,l)=>{const u=c=>{c!=null&&c.target&&f&&!f.contains(c.target)&&!c.defaultPrevented&&l()};return document.addEventListener("click",u,!0),{destroy(){document.removeEventListener("click",u,!0)}}},get_default_slot_changes_1=f=>({hidden:f&1}),get_default_slot_context_1=f=>({hidden:f[0]}),get_default_slot_changes=f=>({hidden:f&1}),get_default_slot_context=f=>({hidden:f[0]});function create_if_block$3(f){let l,u,c,g,y;function m(b,k){if(b[4]&&b[1])return create_if_block_2$2;if(b[4]&&!b[1])return create_if_block_3}let _=m(f),p=_&&_(f);const x=[create_if_block_1$2,create_else_block],E=[];function A(b,k){return b[1]?0:1}return u=A(f),c=E[u]=x[u](f),{c(){p&&p.c(),l=space(),c.c(),g=empty()},l(b){p&&p.l(b),l=claim_space(b),c.l(b),g=empty()},m(b,k){p&&p.m(b,k),insert_hydration(b,l,k),E[u].m(b,k),insert_hydration(b,g,k),y=!0},p(b,k){_===(_=m(b))&&p?p.p(b,k):(p&&p.d(1),p=_&&_(b),p&&(p.c(),p.m(l.parentNode,l)));let S=u;u=A(b),u===S?E[u].p(b,k):(group_outros(),transition_out(E[S],1,1,()=>{E[S]=null}),check_outros(),c=E[u],c?c.p(b,k):(c=E[u]=x[u](b),c.c()),transition_in(c,1),c.m(g.parentNode,g))},i(b){y||(transition_in(c),y=!0)},o(b){transition_out(c),y=!1},d(b){p&&p.d(b),b&&detach(l),E[u].d(b),b&&detach(g)}}}function create_if_block_3(f){let l;return{c(){l=element("div"),this.h()},l(u){l=claim_element(u,"DIV",{role:!0,class:!0}),children(l).forEach(detach),this.h()},h(){attr(l,"role","presentation"),attr(l,"class",f[12])},m(u,c){insert_hydration(u,l,c)},p:noop,d(u){u&&detach(l)}}}function create_if_block_2$2(f){let l,u,c;return{c(){l=element("div"),this.h()},l(g){l=claim_element(g,"DIV",{role:!0,class:!0}),children(l).forEach(detach),this.h()},h(){attr(l,"role","presentation"),attr(l,"class",f[12])},m(g,y){insert_hydration(g,l,y),u||(c=listen(l,"click",f[24]),u=!0)},p:noop,d(g){g&&detach(l),u=!1,c()}}}function create_else_block(f){let l,u,c,g;const y=f[23].default,m=create_slot(y,f,f[22],get_default_slot_context_1);let _=[{id:f[6]},f[13],{class:u=classNames(f[7],f[3],f[2],f[10][f[5]],f[14].class)},{tabindex:"-1"},{"aria-controls":f[6]},{"aria-labelledby":f[6]}],p={};for(let x=0;x<_.length;x+=1)p=assign(p,_[x]);return{c(){l=element("div"),m&&m.c(),this.h()},l(x){l=claim_element(x,"DIV",{id:!0,class:!0,tabindex:!0,"aria-controls":!0,"aria-labelledby":!0});var E=children(l);m&&m.l(E),E.forEach(detach),this.h()},h(){set_attributes(l,p)},m(x,E){insert_hydration(x,l,E),m&&m.m(l,null),g=!0},p(x,E){f=x,m&&m.p&&(!g||E&4194305)&&update_slot_base(m,y,f,f[22],g?get_slot_changes(y,f[22],E,get_default_slot_changes_1):get_all_dirty_from_scope(f[22]),get_default_slot_context_1),set_attributes(l,p=get_spread_update(_,[(!g||E&64)&&{id:f[6]},E&8192&&f[13],(!g||E&16556&&u!==(u=classNames(f[7],f[3],f[2],f[10][f[5]],f[14].class)))&&{class:u},{tabindex:"-1"},(!g||E&64)&&{"aria-controls":f[6]},(!g||E&64)&&{"aria-labelledby":f[6]}]))},i(x){g||(transition_in(m,x),add_render_callback(()=>{g&&(c||(c=create_bidirectional_transition(l,f[9],f[8],!0)),c.run(1))}),g=!0)},o(x){transition_out(m,x),c||(c=create_bidirectional_transition(l,f[9],f[8],!1)),c.run(0),g=!1},d(x){x&&detach(l),m&&m.d(x),x&&c&&c.end()}}}function create_if_block_1$2(f){let l,u,c,g,y,m,_;const p=f[23].default,x=create_slot(p,f,f[22],get_default_slot_context);let E=[{id:f[6]},f[13],{class:u=classNames(f[7],f[3],f[2],f[10][f[5]],f[14].class)},{tabindex:"-1"},{"aria-controls":f[6]},{"aria-labelledby":f[6]}],A={};for(let b=0;b<E.length;b+=1)A=assign(A,E[b]);return{c(){l=element("div"),x&&x.c(),this.h()},l(b){l=claim_element(b,"DIV",{id:!0,class:!0,tabindex:!0,"aria-controls":!0,"aria-labelledby":!0});var k=children(l);x&&x.l(k),k.forEach(detach),this.h()},h(){set_attributes(l,A)},m(b,k){insert_hydration(b,l,k),x&&x.m(l,null),y=!0,m||(_=action_destroyer(c=clickOutside.call(null,l,f[25])),m=!0)},p(b,k){f=b,x&&x.p&&(!y||k&4194305)&&update_slot_base(x,p,f,f[22],y?get_slot_changes(p,f[22],k,get_default_slot_changes):get_all_dirty_from_scope(f[22]),get_default_slot_context),set_attributes(l,A=get_spread_update(E,[(!y||k&64)&&{id:f[6]},k&8192&&f[13],(!y||k&16556&&u!==(u=classNames(f[7],f[3],f[2],f[10][f[5]],f[14].class)))&&{class:u},{tabindex:"-1"},(!y||k&64)&&{"aria-controls":f[6]},(!y||k&64)&&{"aria-labelledby":f[6]}])),c&&is_function(c.update)&&k&1&&c.update.call(null,f[25])},i(b){y||(transition_in(x,b),add_render_callback(()=>{y&&(g||(g=create_bidirectional_transition(l,f[9],f[8],!0)),g.run(1))}),y=!0)},o(b){transition_out(x,b),g||(g=create_bidirectional_transition(l,f[9],f[8],!1)),g.run(0),y=!1},d(b){b&&detach(l),x&&x.d(b),b&&g&&g.end(),m=!1,_()}}}function create_fragment$4(f){let l,u,c=!f[0]&&create_if_block$3(f);return{c(){c&&c.c(),l=empty()},l(g){c&&c.l(g),l=empty()},m(g,y){c&&c.m(g,y),insert_hydration(g,l,y),u=!0},p(g,[y]){g[0]?c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros()):c?(c.p(g,y),y&1&&transition_in(c,1)):(c=create_if_block$3(g),c.c(),transition_in(c,1),c.m(l.parentNode,l))},i(g){u||(transition_in(c),u=!0)},o(g){transition_out(c),u=!1},d(g){c&&c.d(g),g&&detach(l)}}}function instance$4(f,l,u){const c=["activateClickOutside","hidden","position","leftOffset","rightOffset","topOffset","bottomOffset","width","backdrop","bgColor","bgOpacity","placement","id","divClass","transitionParams","transitionType"];let g=compute_rest_props(l,c),{$$slots:y={},$$scope:m}=l,{activateClickOutside:_=!0}=l,{hidden:p=!0}=l,{position:x="fixed"}=l,{leftOffset:E="inset-y-0 left-0"}=l,{rightOffset:A="inset-y-0 right-0"}=l,{topOffset:b="inset-x-0 top-0"}=l,{bottomOffset:k="inset-x-0 bottom-0"}=l,{width:S="w-80"}=l,{backdrop:T=!0}=l,{bgColor:P="bg-gray-900"}=l,{bgOpacity:C="bg-opacity-75"}=l,{placement:M="left"}=l,{id:j="drawer-example"}=l,{divClass:I="overflow-y-auto z-50 p-4 bg-white dark:bg-gray-800"}=l,{transitionParams:O={}}=l,{transitionType:R="fly"}=l;function D(W,Q){switch(R){case"slide":return slide(W,Q);case"blur":return blur(W,Q);case"fade":return fade(W,Q);default:return fly(W,Q)}}const N={left:E,right:A,top:b,bottom:k},U=()=>{u(0,p=!p)};let X=classNames("fixed top-0 left-0 z-50 w-full h-full",T&&P,T&&C);const V=()=>!p&&U(),K=()=>!p&&U();return f.$$set=W=>{u(14,l=assign(assign({},l),exclude_internal_props(W))),u(13,g=compute_rest_props(l,c)),"activateClickOutside"in W&&u(1,_=W.activateClickOutside),"hidden"in W&&u(0,p=W.hidden),"position"in W&&u(2,x=W.position),"leftOffset"in W&&u(15,E=W.leftOffset),"rightOffset"in W&&u(16,A=W.rightOffset),"topOffset"in W&&u(17,b=W.topOffset),"bottomOffset"in W&&u(18,k=W.bottomOffset),"width"in W&&u(3,S=W.width),"backdrop"in W&&u(4,T=W.backdrop),"bgColor"in W&&u(19,P=W.bgColor),"bgOpacity"in W&&u(20,C=W.bgOpacity),"placement"in W&&u(5,M=W.placement),"id"in W&&u(6,j=W.id),"divClass"in W&&u(7,I=W.divClass),"transitionParams"in W&&u(8,O=W.transitionParams),"transitionType"in W&&u(21,R=W.transitionType),"$$scope"in W&&u(22,m=W.$$scope)},l=exclude_internal_props(l),[p,_,x,S,T,M,j,I,O,D,N,U,X,g,l,E,A,b,k,P,C,R,m,y,V,K]}class Drawer extends SvelteComponent{constructor(l){super(),init(this,l,instance$4,create_fragment$4,safe_not_equal,{activateClickOutside:1,hidden:0,position:2,leftOffset:15,rightOffset:16,topOffset:17,bottomOffset:18,width:3,backdrop:4,bgColor:19,bgOpacity:20,placement:5,id:6,divClass:7,transitionParams:8,transitionType:21})}}const get_extra_slot_changes=f=>({}),get_extra_slot_context=f=>({}),get_icon_slot_changes=f=>({}),get_icon_slot_context=f=>({});function create_if_block$2(f){let l,u;const c=[{rounded:!0},{border:!0},{transition:fade},f[5],{class:f[3]},{role:"alert"}];let g={$$slots:{default:[create_default_slot$2]},$$scope:{ctx:f}};for(let y=0;y<c.length;y+=1)g=assign(g,c[y]);return l=new Frame({props:g}),{c(){create_component(l.$$.fragment)},l(y){claim_component(l.$$.fragment,y)},m(y,m){mount_component(l,y,m),u=!0},p(y,m){const _=m&40?get_spread_update(c,[c[0],c[1],m&0&&{transition:fade},m&32&&get_spread_object(y[5]),m&8&&{class:y[3]},c[5]]):{};m&2135&&(_.$$scope={dirty:m,ctx:y}),l.$set(_)},i(y){u||(transition_in(l.$$.fragment,y),u=!0)},o(y){transition_out(l.$$.fragment,y),u=!1},d(y){destroy_component(l,y)}}}function create_if_block_2$1(f){let l,u;return l=new Frame({props:{color:f[1],rounded:!0,class:f[4],$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:f}}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g&2&&(y.color=c[1]),g&16&&(y.class=c[4]),g&2048&&(y.$$scope={dirty:g,ctx:c}),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_default_slot_1$1(f){let l;const u=f[9].icon,c=create_slot(u,f,f[11],get_icon_slot_context);return{c(){c&&c.c()},l(g){c&&c.l(g)},m(g,y){c&&c.m(g,y),l=!0},p(g,y){c&&c.p&&(!l||y&2048)&&update_slot_base(c,u,g,g[11],l?get_slot_changes(u,g[11],y,get_icon_slot_changes):get_all_dirty_from_scope(g[11]),get_icon_slot_context)},i(g){l||(transition_in(c,g),l=!0)},o(g){transition_out(c,g),l=!1},d(g){c&&c.d(g)}}}function create_if_block_1$1(f){let l,u;return l=new CloseButton({}),l.$on("click",f[10]),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p:noop,i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_default_slot$2(f){let l,u,c,g,y,m,_,p=f[6].icon&&create_if_block_2$1(f);const x=f[9].default,E=create_slot(x,f,f[11],null),A=f[9].extra,b=create_slot(A,f,f[11],get_extra_slot_context);let k=!f[2]&&create_if_block_1$1(f);return{c(){l=element("div"),p&&p.c(),u=space(),c=element("div"),E&&E.c(),g=space(),b&&b.c(),y=space(),k&&k.c(),this.h()},l(S){l=claim_element(S,"DIV",{class:!0});var T=children(l);p&&p.l(T),u=claim_space(T),c=claim_element(T,"DIV",{class:!0});var P=children(c);E&&E.l(P),g=claim_space(P),b&&b.l(P),P.forEach(detach),y=claim_space(T),k&&k.l(T),T.forEach(detach),this.h()},h(){attr(c,"class","text-sm font-normal w-full"),attr(l,"class",m="flex "+(f[6].extra?"items-start":"items-center"))},m(S,T){insert_hydration(S,l,T),p&&p.m(l,null),append_hydration(l,u),append_hydration(l,c),E&&E.m(c,null),append_hydration(c,g),b&&b.m(c,null),append_hydration(l,y),k&&k.m(l,null),_=!0},p(S,T){S[6].icon?p?(p.p(S,T),T&64&&transition_in(p,1)):(p=create_if_block_2$1(S),p.c(),transition_in(p,1),p.m(l,u)):p&&(group_outros(),transition_out(p,1,1,()=>{p=null}),check_outros()),E&&E.p&&(!_||T&2048)&&update_slot_base(E,x,S,S[11],_?get_slot_changes(x,S[11],T,null):get_all_dirty_from_scope(S[11]),null),b&&b.p&&(!_||T&2048)&&update_slot_base(b,A,S,S[11],_?get_slot_changes(A,S[11],T,get_extra_slot_changes):get_all_dirty_from_scope(S[11]),get_extra_slot_context),S[2]?k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros()):k?(k.p(S,T),T&4&&transition_in(k,1)):(k=create_if_block_1$1(S),k.c(),transition_in(k,1),k.m(l,null)),(!_||T&64&&m!==(m="flex "+(S[6].extra?"items-start":"items-center")))&&attr(l,"class",m)},i(S){_||(transition_in(p),transition_in(E,S),transition_in(b,S),transition_in(k),_=!0)},o(S){transition_out(p),transition_out(E,S),transition_out(b,S),transition_out(k),_=!1},d(S){S&&detach(l),p&&p.d(),E&&E.d(S),b&&b.d(S),k&&k.d()}}}function create_fragment$3(f){let l,u,c=f[0]&&create_if_block$2(f);return{c(){c&&c.c(),l=empty()},l(g){c&&c.l(g),l=empty()},m(g,y){c&&c.m(g,y),insert_hydration(g,l,y),u=!0},p(g,[y]){g[0]?c?(c.p(g,y),y&1&&transition_in(c,1)):(c=create_if_block$2(g),c.c(),transition_in(c,1),c.m(l.parentNode,l)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros())},i(g){u||(transition_in(c),u=!0)},o(g){transition_out(c),u=!1},d(g){c&&c.d(g),g&&detach(l)}}}function instance$3(f,l,u){const c=["color","simple","position","open","divClass"];let g=compute_rest_props(l,c),{$$slots:y={},$$scope:m}=l;const _=compute_slots(y);let{color:p="blue"}=l,{simple:x=!1}=l,{position:E="none"}=l,{open:A=!0}=l,{divClass:b="w-full max-w-xs p-4"}=l;const k={"top-left":"absolute top-5 left-5","top-right":"absolute top-5 right-5","bottom-left":"absolute bottom-5 left-5","bottom-right":"absolute bottom-5 right-5",none:""};let S,T;const P=()=>u(0,A=!1);return f.$$set=C=>{u(13,l=assign(assign({},l),exclude_internal_props(C))),u(5,g=compute_rest_props(l,c)),"color"in C&&u(1,p=C.color),"simple"in C&&u(2,x=C.simple),"position"in C&&u(7,E=C.position),"open"in C&&u(0,A=C.open),"divClass"in C&&u(8,b=C.divClass),"$$scope"in C&&u(11,m=C.$$scope)},f.$$.update=()=>{u(3,S=classNames(b,k[E],l.class))},u(4,T=classNames("inline-flex items-center justify-center flex-shrink-0 w-8 h-8 mr-3")),l=exclude_internal_props(l),[A,p,x,S,T,g,_,E,b,y,P,m]}class Toast extends SvelteComponent{constructor(l){super(),init(this,l,instance$3,create_fragment$3,safe_not_equal,{color:1,simple:2,position:7,open:0,divClass:8})}}function create_if_block_2(f){let l,u,c;function g(m){f[8](m)}let y={color:"pink",class:"mb-2",$$slots:{icon:[create_icon_slot_2],default:[create_default_slot_2]},$$scope:{ctx:f}};return f[2]!==void 0&&(y.open=f[2]),l=new Toast({props:y}),binding_callbacks.push(()=>bind(l,"open",g)),l.$on("close",f[9]),{c(){create_component(l.$$.fragment)},l(m){claim_component(l.$$.fragment,m)},m(m,_){mount_component(l,m,_),c=!0},p(m,_){const p={};_&4097&&(p.$$scope={dirty:_,ctx:m}),!u&&_&4&&(u=!0,p.open=m[2],add_flush_callback(()=>u=!1)),l.$set(p)},i(m){c||(transition_in(l.$$.fragment,m),c=!0)},o(m){transition_out(l.$$.fragment,m),c=!1},d(m){destroy_component(l,m)}}}function create_if_block_1(f){let l,u,c;function g(m){f[6](m)}let y={color:"red",class:"mb-2",$$slots:{icon:[create_icon_slot_1],default:[create_default_slot_1]},$$scope:{ctx:f}};return f[2]!==void 0&&(y.open=f[2]),l=new Toast({props:y}),binding_callbacks.push(()=>bind(l,"open",g)),l.$on("close",f[7]),{c(){create_component(l.$$.fragment)},l(m){claim_component(l.$$.fragment,m)},m(m,_){mount_component(l,m,_),c=!0},p(m,_){const p={};_&4097&&(p.$$scope={dirty:_,ctx:m}),!u&&_&4&&(u=!0,p.open=m[2],add_flush_callback(()=>u=!1)),l.$set(p)},i(m){c||(transition_in(l.$$.fragment,m),c=!0)},o(m){transition_out(l.$$.fragment,m),c=!1},d(m){destroy_component(l,m)}}}function create_if_block$1(f){let l,u,c;function g(m){f[4](m)}let y={color:"green",class:"mb-2",$$slots:{icon:[create_icon_slot],default:[create_default_slot$1]},$$scope:{ctx:f}};return f[2]!==void 0&&(y.open=f[2]),l=new Toast({props:y}),binding_callbacks.push(()=>bind(l,"open",g)),l.$on("close",f[5]),{c(){create_component(l.$$.fragment)},l(m){claim_component(l.$$.fragment,m)},m(m,_){mount_component(l,m,_),c=!0},p(m,_){const p={};_&4097&&(p.$$scope={dirty:_,ctx:m}),!u&&_&4&&(u=!0,p.open=m[2],add_flush_callback(()=>u=!1)),l.$set(p)},i(m){c||(transition_in(l.$$.fragment,m),c=!0)},o(m){transition_out(l.$$.fragment,m),c=!1},d(m){destroy_component(l,m)}}}function create_default_slot_2(f){let l;return{c(){l=text(f[0])},l(u){l=claim_text(u,f[0])},m(u,c){insert_hydration(u,l,c)},p(u,c){c&1&&set_data(l,u[0])},d(u){u&&detach(l)}}}function create_icon_slot_2(f){let l,u,c,g,y;return{c(){l=svg_element("svg"),u=svg_element("path"),c=space(),g=element("span"),y=text("Warning icon"),this.h()},l(m){l=claim_svg_element(m,"svg",{"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var _=children(l);u=claim_svg_element(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(u).forEach(detach),_.forEach(detach),c=claim_space(m),g=claim_element(m,"SPAN",{class:!0});var p=children(g);y=claim_text(p,"Warning icon"),p.forEach(detach),this.h()},h(){attr(u,"fill-rule","evenodd"),attr(u,"d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"),attr(u,"clip-rule","evenodd"),attr(l,"aria-hidden","true"),attr(l,"class","w-5 h-5"),attr(l,"fill","currentColor"),attr(l,"viewBox","0 0 20 20"),attr(l,"xmlns","http://www.w3.org/2000/svg"),attr(g,"class","sr-only")},m(m,_){insert_hydration(m,l,_),append_hydration(l,u),insert_hydration(m,c,_),insert_hydration(m,g,_),append_hydration(g,y)},p:noop,d(m){m&&detach(l),m&&detach(c),m&&detach(g)}}}function create_default_slot_1(f){let l;return{c(){l=text(f[0])},l(u){l=claim_text(u,f[0])},m(u,c){insert_hydration(u,l,c)},p(u,c){c&1&&set_data(l,u[0])},d(u){u&&detach(l)}}}function create_icon_slot_1(f){let l,u,c,g,y;return{c(){l=svg_element("svg"),u=svg_element("path"),c=space(),g=element("span"),y=text("Error icon"),this.h()},l(m){l=claim_svg_element(m,"svg",{"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var _=children(l);u=claim_svg_element(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(u).forEach(detach),_.forEach(detach),c=claim_space(m),g=claim_element(m,"SPAN",{class:!0});var p=children(g);y=claim_text(p,"Error icon"),p.forEach(detach),this.h()},h(){attr(u,"fill-rule","evenodd"),attr(u,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),attr(u,"clip-rule","evenodd"),attr(l,"aria-hidden","true"),attr(l,"class","w-5 h-5"),attr(l,"fill","currentColor"),attr(l,"viewBox","0 0 20 20"),attr(l,"xmlns","http://www.w3.org/2000/svg"),attr(g,"class","sr-only")},m(m,_){insert_hydration(m,l,_),append_hydration(l,u),insert_hydration(m,c,_),insert_hydration(m,g,_),append_hydration(g,y)},p:noop,d(m){m&&detach(l),m&&detach(c),m&&detach(g)}}}function create_default_slot$1(f){let l;return{c(){l=text(f[0])},l(u){l=claim_text(u,f[0])},m(u,c){insert_hydration(u,l,c)},p(u,c){c&1&&set_data(l,u[0])},d(u){u&&detach(l)}}}function create_icon_slot(f){let l,u,c,g,y;return{c(){l=svg_element("svg"),u=svg_element("path"),c=space(),g=element("span"),y=text("Check icon"),this.h()},l(m){l=claim_svg_element(m,"svg",{"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var _=children(l);u=claim_svg_element(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(u).forEach(detach),_.forEach(detach),c=claim_space(m),g=claim_element(m,"SPAN",{class:!0});var p=children(g);y=claim_text(p,"Check icon"),p.forEach(detach),this.h()},h(){attr(u,"fill-rule","evenodd"),attr(u,"d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"),attr(u,"clip-rule","evenodd"),attr(l,"aria-hidden","true"),attr(l,"class","w-5 h-5"),attr(l,"fill","currentColor"),attr(l,"viewBox","0 0 20 20"),attr(l,"xmlns","http://www.w3.org/2000/svg"),attr(g,"class","sr-only")},m(m,_){insert_hydration(m,l,_),append_hydration(l,u),insert_hydration(m,c,_),insert_hydration(m,g,_),append_hydration(g,y)},p:noop,d(m){m&&detach(l),m&&detach(c),m&&detach(g)}}}function create_fragment$2(f){let l,u,c,g;const y=[create_if_block$1,create_if_block_1,create_if_block_2],m=[];function _(p,x){return p[1]==="success"?0:p[1]==="error"?1:p[1]==="warning"?2:-1}return~(l=_(f))&&(u=m[l]=y[l](f)),{c(){u&&u.c(),c=empty()},l(p){u&&u.l(p),c=empty()},m(p,x){~l&&m[l].m(p,x),insert_hydration(p,c,x),g=!0},p(p,[x]){let E=l;l=_(p),l===E?~l&&m[l].p(p,x):(u&&(group_outros(),transition_out(m[E],1,1,()=>{m[E]=null}),check_outros()),~l?(u=m[l],u?u.p(p,x):(u=m[l]=y[l](p),u.c()),transition_in(u,1),u.m(c.parentNode,c)):u=null)},i(p){g||(transition_in(u),g=!0)},o(p){transition_out(u),g=!1},d(p){~l&&m[l].d(p),p&&detach(c)}}}function instance$2(f,l,u){let{message:c}=l,{type:g}=l,{onClose:y=()=>{}}=l,m=!0,_=5;function p(){if(--_>0&&m)return setTimeout(p,1e3);u(2,m=!1),y()}onMount(()=>{p()});function x(T){m=T,u(2,m)}const E=()=>u(2,m=!1);function A(T){m=T,u(2,m)}const b=()=>u(2,m=!1);function k(T){m=T,u(2,m)}const S=()=>u(2,m=!1);return f.$$set=T=>{"message"in T&&u(0,c=T.message),"type"in T&&u(1,g=T.type),"onClose"in T&&u(3,y=T.onClose)},[c,g,m,y,x,E,A,b,k,S]}class Toast_1 extends SvelteComponent{constructor(l){super(),init(this,l,instance$2,create_fragment$2,safe_not_equal,{message:0,type:1,onClose:3})}}const toasts=writable$1([]);function addToast(f,l="success"){toasts.update(u=>[...u,{message:f,type:l}])}isChrome()||addToast("Please use Chrome for optimum audio performance","warning");const Toasts_svelte_svelte_type_style_lang="";function get_each_context(f,l,u){const c=f.slice();return c[1]=l[u].message,c[2]=l[u].type,c}function create_each_block(f){let l,u;return l=new Toast_1({props:{message:f[1],type:f[2]}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,g){mount_component(l,c,g),u=!0},p(c,g){const y={};g&1&&(y.message=c[1]),g&1&&(y.type=c[2]),l.$set(y)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_fragment$1(f){let l,u,c=f[0],g=[];for(let m=0;m<c.length;m+=1)g[m]=create_each_block(get_each_context(f,c,m));const y=m=>transition_out(g[m],1,1,()=>{g[m]=null});return{c(){l=element("div");for(let m=0;m<g.length;m+=1)g[m].c();this.h()},l(m){l=claim_element(m,"DIV",{class:!0});var _=children(l);for(let p=0;p<g.length;p+=1)g[p].l(_);_.forEach(detach),this.h()},h(){attr(l,"class","toasts svelte-1eqygg0")},m(m,_){insert_hydration(m,l,_);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(l,null);u=!0},p(m,[_]){if(_&1){c=m[0];let p;for(p=0;p<c.length;p+=1){const x=get_each_context(m,c,p);g[p]?(g[p].p(x,_),transition_in(g[p],1)):(g[p]=create_each_block(x),g[p].c(),transition_in(g[p],1),g[p].m(l,null))}for(group_outros(),p=c.length;p<g.length;p+=1)y(p);check_outros()}},i(m){if(!u){for(let _=0;_<c.length;_+=1)transition_in(g[_]);u=!0}},o(m){g=g.filter(Boolean);for(let _=0;_<g.length;_+=1)transition_out(g[_]);u=!1},d(m){m&&detach(l),destroy_each(g,m)}}}function instance$1(f,l,u){let c;return component_subscribe(f,toasts,g=>u(0,c=g)),[c]}class Toasts extends SvelteComponent{constructor(l){super(),init(this,l,instance$1,create_fragment$1,safe_not_equal,{})}}const _page_svelte_svelte_type_style_lang="",{window:window_1}=globals;function create_default_slot(f){let l,u,c,g,y,m,_,p,x,E,A,b;return _=new InstrumentButtons({props:{orientation:"vertical"}}),x=new Parameters({props:{showSockets:!1}}),{c(){l=element("div"),u=element("button"),c=svg_element("svg"),g=svg_element("path"),y=space(),m=element("div"),create_component(_.$$.fragment),p=space(),create_component(x.$$.fragment),this.h()},l(k){l=claim_element(k,"DIV",{class:!0});var S=children(l);u=claim_element(S,"BUTTON",{});var T=children(u);c=claim_svg_element(T,"svg",{class:!0,viewBox:!0,xmlns:!0});var P=children(c);g=claim_svg_element(P,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(g).forEach(detach),P.forEach(detach),T.forEach(detach),y=claim_space(S),m=claim_element(S,"DIV",{class:!0});var C=children(m);claim_component(_.$$.fragment,C),C.forEach(detach),p=claim_space(S),claim_component(x.$$.fragment,S),S.forEach(detach),this.h()},h(){attr(g,"fill-rule","evenodd"),attr(g,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),attr(g,"clip-rule","evenodd"),attr(c,"class","sidebar__close w-5 h-5 mb-4 svelte-9ka51h"),attr(c,"viewBox","0 0 20 20"),attr(c,"xmlns","http://www.w3.org/2000/svg"),attr(m,"class","sidebar__instruments svelte-9ka51h"),attr(l,"class","sidebar")},m(k,S){insert_hydration(k,l,S),append_hydration(l,u),append_hydration(u,c),append_hydration(c,g),append_hydration(l,y),append_hydration(l,m),mount_component(_,m,null),append_hydration(l,p),mount_component(x,l,null),E=!0,A||(b=listen(u,"click",f[7]),A=!0)},p:noop,i(k){E||(transition_in(_.$$.fragment,k),transition_in(x.$$.fragment,k),E=!0)},o(k){transition_out(_.$$.fragment,k),transition_out(x.$$.fragment,k),E=!1},d(k){k&&detach(l),destroy_component(_),destroy_component(x),A=!1,b()}}}function create_if_block(f){let l,u,c,g,y,m,_;return c=new Controls$1({}),m=new Measure({}),{c(){l=element("div"),u=element("div"),create_component(c.$$.fragment),g=space(),y=element("div"),create_component(m.$$.fragment),this.h()},l(p){l=claim_element(p,"DIV",{class:!0});var x=children(l);u=claim_element(x,"DIV",{class:!0});var E=children(u);claim_component(c.$$.fragment,E),E.forEach(detach),g=claim_space(x),y=claim_element(x,"DIV",{class:!0});var A=children(y);claim_component(m.$$.fragment,A),A.forEach(detach),x.forEach(detach),this.h()},h(){attr(u,"class","keyboard svelte-9ka51h"),attr(y,"class","measure"),attr(l,"class","controls svelte-9ka51h")},m(p,x){insert_hydration(p,l,x),append_hydration(l,u),mount_component(c,u,null),append_hydration(l,g),append_hydration(l,y),mount_component(m,y,null),_=!0},i(p){_||(transition_in(c.$$.fragment,p),transition_in(m.$$.fragment,p),_=!0)},o(p){transition_out(c.$$.fragment,p),transition_out(m.$$.fragment,p),_=!1},d(p){p&&detach(l),destroy_component(c),destroy_component(m)}}}function create_fragment(f){let l,u,c,g,y,m,_,p,x,E,A,b,k,S,T,P,C,M,j,I,O,R,D,N,U,X,V,K,W,Q,L;function G(Y){f[8](Y)}let J={transitionType:"fly",transitionParams:f[5],id:"sidebar",$$slots:{default:[create_default_slot]},$$scope:{ctx:f}};f[0]!==void 0&&(J.hidden=f[0]),c=new Drawer({props:J}),binding_callbacks.push(()=>bind(c,"hidden",G)),m=new Toasts({}),A=new Button({props:{colour:"grey",border:!0,active:f[1],narrow:!0,onClick:f[9],icon:faBars,classes:"mr-2"}}),k=new InstrumentButtons({}),P=new Button({props:{onClick:f[10],active:!f[0],colour:"yellow",text:"Parameters"}}),M=new Presets({}),R=new Parameters({}),X=new Qubits({});let B=f[4]&&create_if_block();return{c(){l=element("meta"),u=space(),create_component(c.$$.fragment),y=space(),create_component(m.$$.fragment),_=space(),p=element("section"),x=element("div"),E=element("div"),create_component(A.$$.fragment),b=space(),create_component(k.$$.fragment),S=space(),T=element("div"),create_component(P.$$.fragment),C=space(),create_component(M.$$.fragment),j=space(),I=element("section"),O=element("div"),create_component(R.$$.fragment),D=space(),N=element("div"),U=element("div"),create_component(X.$$.fragment),V=space(),B&&B.c(),this.h()},l(Y){const ie=head_selector("svelte-17uodp2",document.head);l=claim_element(ie,"META",{name:!0,content:!0}),ie.forEach(detach),u=claim_space(Y),claim_component(c.$$.fragment,Y),y=claim_space(Y),claim_component(m.$$.fragment,Y),_=claim_space(Y),p=claim_element(Y,"SECTION",{class:!0});var ne=children(p);x=claim_element(ne,"DIV",{class:!0});var Z=children(x);E=claim_element(Z,"DIV",{class:!0});var H=children(E);claim_component(A.$$.fragment,H),b=claim_space(H),claim_component(k.$$.fragment,H),H.forEach(detach),S=claim_space(Z),T=claim_element(Z,"DIV",{class:!0});var z=children(T);claim_component(P.$$.fragment,z),z.forEach(detach),C=claim_space(Z),claim_component(M.$$.fragment,Z),Z.forEach(detach),ne.forEach(detach),j=claim_space(Y),I=claim_element(Y,"SECTION",{class:!0});var ee=children(I);O=claim_element(ee,"DIV",{class:!0});var se=children(O);claim_component(R.$$.fragment,se),se.forEach(detach),D=claim_space(ee),N=claim_element(ee,"DIV",{class:!0});var le=children(N);U=claim_element(le,"DIV",{class:!0,style:!0});var ue=children(U);claim_component(X.$$.fragment,ue),ue.forEach(detach),V=claim_space(le),B&&B.l(le),le.forEach(detach),ee.forEach(detach),this.h()},h(){document.title="Home",attr(l,"name","description"),attr(l,"content","TODO: please write a description"),attr(E,"class","buttons__instruments svelte-9ka51h"),attr(T,"class","buttons__parameters svelte-9ka51h"),attr(x,"class","buttons__inner svelte-9ka51h"),attr(p,"class","buttons container mx-auto svelte-9ka51h"),attr(O,"class","parameters svelte-9ka51h"),attr(U,"class","qubits svelte-9ka51h"),set_style(U,"max-height",f[4]?"40rem":"none"),toggle_class(U,"qubits--full",f[3]<3),attr(N,"class","interface svelte-9ka51h"),attr(I,"class",K=null_to_empty(`container synth ${f[2]?"synth--fullscreen":""}`)+" svelte-9ka51h")},m(Y,ie){append_hydration(document.head,l),insert_hydration(Y,u,ie),mount_component(c,Y,ie),insert_hydration(Y,y,ie),mount_component(m,Y,ie),insert_hydration(Y,_,ie),insert_hydration(Y,p,ie),append_hydration(p,x),append_hydration(x,E),mount_component(A,E,null),append_hydration(E,b),mount_component(k,E,null),append_hydration(x,S),append_hydration(x,T),mount_component(P,T,null),append_hydration(x,C),mount_component(M,x,null),insert_hydration(Y,j,ie),insert_hydration(Y,I,ie),append_hydration(I,O),mount_component(R,O,null),append_hydration(I,D),append_hydration(I,N),append_hydration(N,U),mount_component(X,U,null),append_hydration(N,V),B&&B.m(N,null),W=!0,Q||(L=[listen(window_1,"click",startAudio),listen(window_1,"touchstart",startAudio),listen(window_1,"keydown",startAudio),listen(window_1,"resize",f[6])],Q=!0)},p(Y,[ie]){const ne={};ie&4097&&(ne.$$scope={dirty:ie,ctx:Y}),!g&&ie&1&&(g=!0,ne.hidden=Y[0],add_flush_callback(()=>g=!1)),c.$set(ne);const Z={};ie&2&&(Z.active=Y[1]),A.$set(Z);const H={};ie&1&&(H.onClick=Y[10]),ie&1&&(H.active=!Y[0]),P.$set(H),(!W||ie&16)&&set_style(U,"max-height",Y[4]?"40rem":"none"),(!W||ie&8)&&toggle_class(U,"qubits--full",Y[3]<3),Y[4]?B?ie&16&&transition_in(B,1):(B=create_if_block(),B.c(),transition_in(B,1),B.m(N,null)):B&&(group_outros(),transition_out(B,1,1,()=>{B=null}),check_outros()),(!W||ie&4&&K!==(K=null_to_empty(`container synth ${Y[2]?"synth--fullscreen":""}`)+" svelte-9ka51h"))&&attr(I,"class",K)},i(Y){W||(transition_in(c.$$.fragment,Y),transition_in(m.$$.fragment,Y),transition_in(A.$$.fragment,Y),transition_in(k.$$.fragment,Y),transition_in(P.$$.fragment,Y),transition_in(M.$$.fragment,Y),transition_in(R.$$.fragment,Y),transition_in(X.$$.fragment,Y),transition_in(B),W=!0)},o(Y){transition_out(c.$$.fragment,Y),transition_out(m.$$.fragment,Y),transition_out(A.$$.fragment,Y),transition_out(k.$$.fragment,Y),transition_out(P.$$.fragment,Y),transition_out(M.$$.fragment,Y),transition_out(R.$$.fragment,Y),transition_out(X.$$.fragment,Y),transition_out(B),W=!1},d(Y){detach(l),Y&&detach(u),destroy_component(c,Y),Y&&detach(y),destroy_component(m,Y),Y&&detach(_),Y&&detach(p),destroy_component(A),destroy_component(k),destroy_component(P),destroy_component(M),Y&&detach(j),Y&&detach(I),destroy_component(R),destroy_component(X),B&&B.d(),Q=!1,run_all(L)}}}function instance(f,l,u){let c,g,y,m;component_subscribe(f,showSideMenu,S=>u(1,c=S)),component_subscribe(f,fullscreen,S=>u(2,g=S)),component_subscribe(f,activeQubitCount,S=>u(3,y=S)),component_subscribe(f,showKeyboard,S=>u(4,m=S)),library$1.add(faBars);let _=!0,p={x:-320,duration:200,easing:sineIn};const x=()=>{u(0,_=!0)};onMount(()=>{redrawCables(500)});const E=()=>u(0,_=!0);function A(S){_=S,u(0,_)}return[_,c,g,y,m,p,x,E,A,()=>showSideMenu.update(S=>!S),()=>u(0,_=!1)]}class Page extends SvelteComponent{constructor(l){super(),init(this,l,instance,create_fragment,safe_not_equal,{})}}export{Page as component,_page as universal};
