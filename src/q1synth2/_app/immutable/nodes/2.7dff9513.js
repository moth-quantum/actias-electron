var Qn=Object.defineProperty;var es=(f,l,u)=>l in f?Qn(f,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):f[l]=u;var Ct=(f,l,u)=>(es(f,typeof l!="symbol"?l+"":l,u),u);import{K as get_store_value,S as SvelteComponent,i as init,s as safe_not_equal,L as svg_element,M as claim_svg_element,m as children,h as detach,n as attr,b as insert_hydration,D as append_hydration,N as listen,E as noop$3,O as destroy_each,o as onMount,P as onDestroy,Q as globals,k as element,a as space,l as claim_element,c as claim_space,R as null_to_empty,T as action_destroyer,U as is_function,v as group_outros,V as update_keyed_each,W as outro_and_destroy_block,f as check_outros,g as transition_in,d as transition_out,X as run_all,J as component_subscribe,t as tick,e as empty$1,y as create_component,z as claim_component,A as mount_component,B as destroy_component,w as binding_callbacks,q as text,r as claim_text,u as set_data,p as set_style,Y as HtmlTagHydration,Z as claim_html_tag,_ as beforeUpdate,$ as assign,a0 as exclude_internal_props,a1 as set_input_value,a2 as to_number,a3 as destroy_block,a4 as toggle_class,a5 as bind,a6 as add_flush_callback,a7 as compute_rest_props,a8 as setContext$1,a9 as bubble,F as create_slot,aa as set_dynamic_element_data,G as update_slot_base,H as get_all_dirty_from_scope,I as get_slot_changes,ab as get_spread_update,ac as add_render_callback,ad as create_bidirectional_transition,ae as split_css_unit,af as identity,ag as set_attributes,ah as getContext$1,ai as get_spread_object,aj as compute_slots,ak as createEventDispatcher,al as set_svg_attributes,am as add_iframe_resize_listener,an as prevent_default,ao as now$1,ap as loop,aq as head_selector}from"../chunks/index.a1222453.js";import{w as writable$1,d as derived}from"../chunks/index.474aff22.js";import{_ as __vitePreload}from"../chunks/preload-helper.a4192956.js";function _mergeNamespaces(f,l){for(var u=0;u<l.length;u++){const c=l[u];if(typeof c!="string"&&!Array.isArray(c)){for(const m in c)if(m!=="default"&&!(m in f)){const _=Object.getOwnPropertyDescriptor(c,m);_&&Object.defineProperty(f,m,_.get?_:{enumerable:!0,get:()=>c[m]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}const prerender=!0,_page=Object.freeze(Object.defineProperty({__proto__:null,prerender},Symbol.toStringTag,{value:"Module"})),version="14.7.77",createExtendedExponentialRampToValueAutomationEvent=(f,l,u)=>({endTime:l,insertTime:u,type:"exponentialRampToValue",value:f}),createExtendedLinearRampToValueAutomationEvent=(f,l,u)=>({endTime:l,insertTime:u,type:"linearRampToValue",value:f}),createSetValueAutomationEvent=(f,l)=>({startTime:l,type:"setValue",value:f}),createSetValueCurveAutomationEvent=(f,l,u)=>({duration:u,startTime:l,type:"setValueCurve",values:f}),getTargetValueAtTime=(f,l,{startTime:u,target:c,timeConstant:m})=>c+(l-c)*Math.exp((u-f)/m),isExponentialRampToValueAutomationEvent=f=>f.type==="exponentialRampToValue",isLinearRampToValueAutomationEvent=f=>f.type==="linearRampToValue",isAnyRampToValueAutomationEvent=f=>isExponentialRampToValueAutomationEvent(f)||isLinearRampToValueAutomationEvent(f),isSetValueAutomationEvent=f=>f.type==="setValue",isSetValueCurveAutomationEvent=f=>f.type==="setValueCurve",getValueOfAutomationEventAtIndexAtTime=(f,l,u,c)=>{const m=f[l];return m===void 0?c:isAnyRampToValueAutomationEvent(m)||isSetValueAutomationEvent(m)?m.value:isSetValueCurveAutomationEvent(m)?m.values[m.values.length-1]:getTargetValueAtTime(u,getValueOfAutomationEventAtIndexAtTime(f,l-1,m.startTime,c),m)},getEndTimeAndValueOfPreviousAutomationEvent=(f,l,u,c,m)=>u===void 0?[c.insertTime,m]:isAnyRampToValueAutomationEvent(u)?[u.endTime,u.value]:isSetValueAutomationEvent(u)?[u.startTime,u.value]:isSetValueCurveAutomationEvent(u)?[u.startTime+u.duration,u.values[u.values.length-1]]:[u.startTime,getValueOfAutomationEventAtIndexAtTime(f,l-1,u.startTime,m)],isCancelAndHoldAutomationEvent=f=>f.type==="cancelAndHold",isCancelScheduledValuesAutomationEvent=f=>f.type==="cancelScheduledValues",getEventTime=f=>isCancelAndHoldAutomationEvent(f)||isCancelScheduledValuesAutomationEvent(f)?f.cancelTime:isExponentialRampToValueAutomationEvent(f)||isLinearRampToValueAutomationEvent(f)?f.endTime:f.startTime,getExponentialRampValueAtTime=(f,l,u,{endTime:c,value:m})=>u===m?m:0<u&&0<m||u<0&&m<0?u*(m/u)**((f-l)/(c-l)):0,getLinearRampValueAtTime=(f,l,u,{endTime:c,value:m})=>u+(f-l)/(c-l)*(m-u),interpolateValue=(f,l)=>{const u=Math.floor(l),c=Math.ceil(l);return u===c?f[u]:(1-(l-u))*f[u]+(1-(c-l))*f[c]},getValueCurveValueAtTime=(f,{duration:l,startTime:u,values:c})=>{const m=(f-u)/l*(c.length-1);return interpolateValue(c,m)},isSetTargetAutomationEvent=f=>f.type==="setTarget";class AutomationEventList{constructor(l){this._automationEvents=[],this._currenTime=0,this._defaultValue=l}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(l){const u=getEventTime(l);if(isCancelAndHoldAutomationEvent(l)||isCancelScheduledValuesAutomationEvent(l)){const c=this._automationEvents.findIndex(_=>isCancelScheduledValuesAutomationEvent(l)&&isSetValueCurveAutomationEvent(_)?_.startTime+_.duration>=u:getEventTime(_)>=u),m=this._automationEvents[c];if(c!==-1&&(this._automationEvents=this._automationEvents.slice(0,c)),isCancelAndHoldAutomationEvent(l)){const _=this._automationEvents[this._automationEvents.length-1];if(m!==void 0&&isAnyRampToValueAutomationEvent(m)){if(_!==void 0&&isSetTargetAutomationEvent(_))throw new Error("The internal list is malformed.");const g=_===void 0?m.insertTime:isSetValueCurveAutomationEvent(_)?_.startTime+_.duration:getEventTime(_),b=_===void 0?this._defaultValue:isSetValueCurveAutomationEvent(_)?_.values[_.values.length-1]:_.value,y=isExponentialRampToValueAutomationEvent(m)?getExponentialRampValueAtTime(u,g,b,m):getLinearRampValueAtTime(u,g,b,m),S=isExponentialRampToValueAutomationEvent(m)?createExtendedExponentialRampToValueAutomationEvent(y,u,this._currenTime):createExtendedLinearRampToValueAutomationEvent(y,u,this._currenTime);this._automationEvents.push(S)}if(_!==void 0&&isSetTargetAutomationEvent(_)&&this._automationEvents.push(createSetValueAutomationEvent(this.getValue(u),u)),_!==void 0&&isSetValueCurveAutomationEvent(_)&&_.startTime+_.duration>u){const g=u-_.startTime,b=(_.values.length-1)/_.duration,y=Math.max(2,1+Math.ceil(g*b)),S=g/(y-1)*b,A=_.values.slice(0,y);if(S<1)for(let C=1;C<y;C+=1){const x=S*C%1;A[C]=_.values[C-1]*(1-x)+_.values[C]*x}this._automationEvents[this._automationEvents.length-1]=createSetValueCurveAutomationEvent(A,_.startTime,g)}}}else{const c=this._automationEvents.findIndex(g=>getEventTime(g)>u),m=c===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[c-1];if(m!==void 0&&isSetValueCurveAutomationEvent(m)&&getEventTime(m)+m.duration>u)return!1;const _=isExponentialRampToValueAutomationEvent(l)?createExtendedExponentialRampToValueAutomationEvent(l.value,l.endTime,this._currenTime):isLinearRampToValueAutomationEvent(l)?createExtendedLinearRampToValueAutomationEvent(l.value,u,this._currenTime):l;if(c===-1)this._automationEvents.push(_);else{if(isSetValueCurveAutomationEvent(l)&&u+l.duration>getEventTime(this._automationEvents[c]))return!1;this._automationEvents.splice(c,0,_)}}return!0}flush(l){const u=this._automationEvents.findIndex(c=>getEventTime(c)>l);if(u>1){const c=this._automationEvents.slice(u-1),m=c[0];isSetTargetAutomationEvent(m)&&c.unshift(createSetValueAutomationEvent(getValueOfAutomationEventAtIndexAtTime(this._automationEvents,u-2,m.startTime,this._defaultValue),m.startTime)),this._automationEvents=c}}getValue(l){if(this._automationEvents.length===0)return this._defaultValue;const u=this._automationEvents.findIndex(g=>getEventTime(g)>l),c=this._automationEvents[u],m=(u===-1?this._automationEvents.length:u)-1,_=this._automationEvents[m];if(_!==void 0&&isSetTargetAutomationEvent(_)&&(c===void 0||!isAnyRampToValueAutomationEvent(c)||c.insertTime>l))return getTargetValueAtTime(l,getValueOfAutomationEventAtIndexAtTime(this._automationEvents,m-1,_.startTime,this._defaultValue),_);if(_!==void 0&&isSetValueAutomationEvent(_)&&(c===void 0||!isAnyRampToValueAutomationEvent(c)))return _.value;if(_!==void 0&&isSetValueCurveAutomationEvent(_)&&(c===void 0||!isAnyRampToValueAutomationEvent(c)||_.startTime+_.duration>l))return l<_.startTime+_.duration?getValueCurveValueAtTime(l,_):_.values[_.values.length-1];if(_!==void 0&&isAnyRampToValueAutomationEvent(_)&&(c===void 0||!isAnyRampToValueAutomationEvent(c)))return _.value;if(c!==void 0&&isExponentialRampToValueAutomationEvent(c)){const[g,b]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,m,_,c,this._defaultValue);return getExponentialRampValueAtTime(l,g,b,c)}if(c!==void 0&&isLinearRampToValueAutomationEvent(c)){const[g,b]=getEndTimeAndValueOfPreviousAutomationEvent(this._automationEvents,m,_,c,this._defaultValue);return getLinearRampValueAtTime(l,g,b,c)}return this._defaultValue}}const createCancelAndHoldAutomationEvent=f=>({cancelTime:f,type:"cancelAndHold"}),createCancelScheduledValuesAutomationEvent=f=>({cancelTime:f,type:"cancelScheduledValues"}),createExponentialRampToValueAutomationEvent=(f,l)=>({endTime:l,type:"exponentialRampToValue",value:f}),createLinearRampToValueAutomationEvent=(f,l)=>({endTime:l,type:"linearRampToValue",value:f}),createSetTargetAutomationEvent=(f,l,u)=>({startTime:l,target:f,timeConstant:u,type:"setTarget"}),createAbortError=()=>new DOMException("","AbortError"),createAddActiveInputConnectionToAudioNode=f=>(l,u,[c,m,_],g)=>{f(l[m],[u,c,_],b=>b[0]===u&&b[1]===c,g)},createAddAudioNodeConnections=f=>(l,u,c)=>{const m=[];for(let _=0;_<c.numberOfInputs;_+=1)m.push(new Set);f.set(l,{activeInputs:m,outputs:new Set,passiveInputs:new WeakMap,renderer:u})},createAddAudioParamConnections=f=>(l,u)=>{f.set(l,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:u})},ACTIVE_AUDIO_NODE_STORE=new WeakSet,AUDIO_NODE_CONNECTIONS_STORE=new WeakMap,AUDIO_NODE_STORE=new WeakMap,AUDIO_PARAM_CONNECTIONS_STORE=new WeakMap,AUDIO_PARAM_STORE=new WeakMap,CONTEXT_STORE=new WeakMap,EVENT_LISTENERS=new WeakMap,CYCLE_COUNTERS=new WeakMap,NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS=new WeakMap,NODE_TO_PROCESSOR_MAPS=new WeakMap,handler={construct(){return handler}},isConstructible=f=>{try{const l=new Proxy(f,handler);new l}catch{return!1}return!0},IMPORT_STATEMENT_REGEX=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,splitImportStatements=(f,l)=>{const u=[];let c=f.replace(/^[\s]+/,""),m=c.match(IMPORT_STATEMENT_REGEX);for(;m!==null;){const _=m[1].slice(1,-1),g=m[0].replace(/([\s]+)?;?$/,"").replace(_,new URL(_,l).toString());u.push(g),c=c.slice(m[0].length).replace(/^[\s]+/,""),m=c.match(IMPORT_STATEMENT_REGEX)}return[u.join(";"),c]},verifyParameterDescriptors=f=>{if(f!==void 0&&!Array.isArray(f))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},verifyProcessorCtor=f=>{if(!isConstructible(f))throw new TypeError("The given value for processorCtor should be a constructor.");if(f.prototype===null||typeof f.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},createAddAudioWorkletModule=(f,l,u,c,m,_,g,b,y,S,A,C,x)=>{let E=0;return(k,T,I={credentials:"omit"})=>{const M=A.get(k);if(M!==void 0&&M.has(T))return Promise.resolve();const j=S.get(k);if(j!==void 0){const N=j.get(T);if(N!==void 0)return N}const P=_(k),O=P.audioWorklet===void 0?m(T).then(([N,D])=>{const[L,R]=splitImportStatements(N,D),G=`${L};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${R}
})})(window,'_AWGS')`;return u(G)}).then(()=>{const N=x._AWGS.pop();if(N===void 0)throw new SyntaxError;c(P.currentTime,P.sampleRate,()=>N(class{},void 0,(D,L)=>{if(D.trim()==="")throw l();const R=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(P);if(R!==void 0){if(R.has(D))throw l();verifyProcessorCtor(L),verifyParameterDescriptors(L.parameterDescriptors),R.set(D,L)}else verifyProcessorCtor(L),verifyParameterDescriptors(L.parameterDescriptors),NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.set(P,new Map([[D,L]]))},P.sampleRate,void 0,void 0))}):Promise.all([m(T),Promise.resolve(f(C,C))]).then(([[N,D],L])=>{const R=E+1;E=R;const[G,Z]=splitImportStatements(N,D),ee=`${G};((AudioWorkletProcessor,registerProcessor)=>{${Z}
})(${L?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${L?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${L?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${R}',class extends AudioWorkletProcessor{process(){return !1}})`,V=new Blob([ee],{type:"application/javascript; charset=utf-8"}),z=URL.createObjectURL(V);return P.audioWorklet.addModule(z,I).then(()=>{if(b(P))return P;const X=g(P);return X.audioWorklet.addModule(z,I).then(()=>X)}).then(X=>{if(y===null)throw new SyntaxError;try{new y(X,`__sac${R}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(z))});return j===void 0?S.set(k,new Map([[T,O]])):j.set(T,O),O.then(()=>{const N=A.get(k);N===void 0?A.set(k,new Set([T])):N.add(T)}).finally(()=>{const N=S.get(k);N!==void 0&&N.delete(T)}),O}},getValueForKey=(f,l)=>{const u=f.get(l);if(u===void 0)throw new Error("A value with the given key could not be found.");return u},pickElementFromSet=(f,l)=>{const u=Array.from(f).filter(l);if(u.length>1)throw Error("More than one element was found.");if(u.length===0)throw Error("No element was found.");const[c]=u;return f.delete(c),c},deletePassiveInputConnectionToAudioNode=(f,l,u,c)=>{const m=getValueForKey(f,l),_=pickElementFromSet(m,g=>g[0]===u&&g[1]===c);return m.size===0&&f.delete(l),_},getEventListenersOfAudioNode=f=>getValueForKey(EVENT_LISTENERS,f),setInternalStateToActive=f=>{if(ACTIVE_AUDIO_NODE_STORE.has(f))throw new Error("The AudioNode is already stored.");ACTIVE_AUDIO_NODE_STORE.add(f),getEventListenersOfAudioNode(f).forEach(l=>l(!0))},isAudioWorkletNode=f=>"port"in f,setInternalStateToPassive=f=>{if(!ACTIVE_AUDIO_NODE_STORE.has(f))throw new Error("The AudioNode is not stored.");ACTIVE_AUDIO_NODE_STORE.delete(f),getEventListenersOfAudioNode(f).forEach(l=>l(!1))},setInternalStateToPassiveWhenNecessary=(f,l)=>{!isAudioWorkletNode(f)&&l.every(u=>u.size===0)&&setInternalStateToPassive(f)},createAddConnectionToAudioNode=(f,l,u,c,m,_,g,b,y,S,A,C,x)=>{const E=new WeakMap;return(k,T,I,M,j)=>{const{activeInputs:P,passiveInputs:O}=_(T),{outputs:N}=_(k),D=b(k),L=R=>{const G=y(T),Z=y(k);if(R){const B=deletePassiveInputConnectionToAudioNode(O,k,I,M);f(P,k,B,!1),!j&&!C(k)&&u(Z,G,I,M),x(T)&&setInternalStateToActive(T)}else{const B=c(P,k,I,M);l(O,M,B,!1),!j&&!C(k)&&m(Z,G,I,M);const J=g(T);if(J===0)A(T)&&setInternalStateToPassiveWhenNecessary(T,P);else{const K=E.get(T);K!==void 0&&clearTimeout(K),E.set(T,setTimeout(()=>{A(T)&&setInternalStateToPassiveWhenNecessary(T,P)},J*1e3))}}};return S(N,[T,I,M],R=>R[0]===T&&R[1]===I&&R[2]===M,!0)?(D.add(L),A(k)?f(P,k,[I,M,L],!0):l(O,M,[k,I,L],!0),!0):!1}},createAddPassiveInputConnectionToAudioNode=f=>(l,u,[c,m,_],g)=>{const b=l.get(c);b===void 0?l.set(c,new Set([[m,u,_]])):f(b,[m,u,_],y=>y[0]===m&&y[1]===u,g)},createAddSilentConnection=f=>(l,u)=>{const c=f(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});u.connect(c).connect(l.destination);const m=()=>{u.removeEventListener("ended",m),u.disconnect(c),c.disconnect()};u.addEventListener("ended",m)},createAddUnrenderedAudioWorkletNode=f=>(l,u)=>{f(l).add(u)},DEFAULT_OPTIONS$j={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},createAnalyserNodeConstructor=(f,l,u,c,m,_)=>class extends f{constructor(b,y){const S=m(b),A={...DEFAULT_OPTIONS$j,...y},C=c(S,A),x=_(S)?l():null;super(b,!1,C,x),this._nativeAnalyserNode=C}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(b){this._nativeAnalyserNode.fftSize=b}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(b){const y=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=b,!(b>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=y,u()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(b){const y=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=b,!(this._nativeAnalyserNode.maxDecibels>b))throw this._nativeAnalyserNode.minDecibels=y,u()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(b){this._nativeAnalyserNode.smoothingTimeConstant=b}getByteFrequencyData(b){this._nativeAnalyserNode.getByteFrequencyData(b)}getByteTimeDomainData(b){this._nativeAnalyserNode.getByteTimeDomainData(b)}getFloatFrequencyData(b){this._nativeAnalyserNode.getFloatFrequencyData(b)}getFloatTimeDomainData(b){this._nativeAnalyserNode.getFloatTimeDomainData(b)}},isOwnedByContext=(f,l)=>f.context===l,createAnalyserNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,m=async(_,g)=>{let b=l(_);if(!isOwnedByContext(b,g)){const S={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,fftSize:b.fftSize,maxDecibels:b.maxDecibels,minDecibels:b.minDecibels,smoothingTimeConstant:b.smoothingTimeConstant};b=f(g,S)}return c.set(g,b),await u(_,g,b),b};return{render(_,g){const b=c.get(g);return b!==void 0?Promise.resolve(b):m(_,g)}}},testAudioBufferCopyChannelMethodsOutOfBoundsSupport=f=>{try{f.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},createIndexSizeError=()=>new DOMException("","IndexSizeError"),wrapAudioBufferGetChannelDataMethod=f=>{f.getChannelData=(l=>u=>{try{return l.call(f,u)}catch(c){throw c.code===12?createIndexSizeError():c}})(f.getChannelData)},DEFAULT_OPTIONS$i={numberOfChannels:1},createAudioBufferConstructor=(f,l,u,c,m,_,g,b)=>{let y=null;return class jn{constructor(A){if(m===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:C,numberOfChannels:x,sampleRate:E}={...DEFAULT_OPTIONS$i,...A};y===null&&(y=new m(1,1,44100));const k=c!==null&&l(_,_)?new c({length:C,numberOfChannels:x,sampleRate:E}):y.createBuffer(x,C,E);if(k.numberOfChannels===0)throw u();return typeof k.copyFromChannel!="function"?(g(k),wrapAudioBufferGetChannelDataMethod(k)):l(testAudioBufferCopyChannelMethodsOutOfBoundsSupport,()=>testAudioBufferCopyChannelMethodsOutOfBoundsSupport(k))||b(k),f.add(k),k}static[Symbol.hasInstance](A){return A!==null&&typeof A=="object"&&Object.getPrototypeOf(A)===jn.prototype||f.has(A)}}},MOST_NEGATIVE_SINGLE_FLOAT=-34028234663852886e22,MOST_POSITIVE_SINGLE_FLOAT=-MOST_NEGATIVE_SINGLE_FLOAT,isActiveAudioNode=f=>ACTIVE_AUDIO_NODE_STORE.has(f),DEFAULT_OPTIONS$h={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},createAudioBufferSourceNodeConstructor=(f,l,u,c,m,_,g,b)=>class extends f{constructor(S,A){const C=_(S),x={...DEFAULT_OPTIONS$h,...A},E=m(C,x),k=g(C),T=k?l():null;super(S,!1,E,T),this._audioBufferSourceNodeRenderer=T,this._isBufferNullified=!1,this._isBufferSet=x.buffer!==null,this._nativeAudioBufferSourceNode=E,this._onended=null,this._playbackRate=u(this,k,E.playbackRate,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(S){if(this._nativeAudioBufferSourceNode.buffer=S,S!==null){if(this._isBufferSet)throw c();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(S){this._nativeAudioBufferSourceNode.loop=S}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(S){this._nativeAudioBufferSourceNode.loopEnd=S}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(S){this._nativeAudioBufferSourceNode.loopStart=S}get onended(){return this._onended}set onended(S){const A=typeof S=="function"?b(this,S):null;this._nativeAudioBufferSourceNode.onended=A;const C=this._nativeAudioBufferSourceNode.onended;this._onended=C!==null&&C===A?S:C}get playbackRate(){return this._playbackRate}start(S=0,A=0,C){if(this._nativeAudioBufferSourceNode.start(S,A,C),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=C===void 0?[S,A]:[S,A,C]),this.context.state!=="closed"){setInternalStateToActive(this);const x=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",x),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",x)}}stop(S=0){this._nativeAudioBufferSourceNode.stop(S),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=S)}},createAudioBufferSourceNodeRendererFactory=(f,l,u,c,m)=>()=>{const _=new WeakMap;let g=null,b=null;const y=async(S,A)=>{let C=u(S);const x=isOwnedByContext(C,A);if(!x){const E={buffer:C.buffer,channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,loop:C.loop,loopEnd:C.loopEnd,loopStart:C.loopStart,playbackRate:C.playbackRate.value};C=l(A,E),g!==null&&C.start(...g),b!==null&&C.stop(b)}return _.set(A,C),x?await f(A,S.playbackRate,C.playbackRate):await c(A,S.playbackRate,C.playbackRate),await m(S,A,C),C};return{set start(S){g=S},set stop(S){b=S},render(S,A){const C=_.get(A);return C!==void 0?Promise.resolve(C):y(S,A)}}},isAudioBufferSourceNode=f=>"playbackRate"in f,isBiquadFilterNode=f=>"frequency"in f&&"gain"in f,isConstantSourceNode=f=>"offset"in f,isGainNode=f=>!("frequency"in f)&&"gain"in f,isOscillatorNode=f=>"detune"in f&&"frequency"in f,isStereoPannerNode=f=>"pan"in f,getAudioNodeConnections=f=>getValueForKey(AUDIO_NODE_CONNECTIONS_STORE,f),getAudioParamConnections=f=>getValueForKey(AUDIO_PARAM_CONNECTIONS_STORE,f),deactivateActiveAudioNodeInputConnections=(f,l)=>{const{activeInputs:u}=getAudioNodeConnections(f);u.forEach(m=>m.forEach(([_])=>{l.includes(f)||deactivateActiveAudioNodeInputConnections(_,[...l,f])}));const c=isAudioBufferSourceNode(f)?[f.playbackRate]:isAudioWorkletNode(f)?Array.from(f.parameters.values()):isBiquadFilterNode(f)?[f.Q,f.detune,f.frequency,f.gain]:isConstantSourceNode(f)?[f.offset]:isGainNode(f)?[f.gain]:isOscillatorNode(f)?[f.detune,f.frequency]:isStereoPannerNode(f)?[f.pan]:[];for(const m of c){const _=getAudioParamConnections(m);_!==void 0&&_.activeInputs.forEach(([g])=>deactivateActiveAudioNodeInputConnections(g,l))}isActiveAudioNode(f)&&setInternalStateToPassive(f)},deactivateAudioGraph=f=>{deactivateActiveAudioNodeInputConnections(f.destination,[])},isValidLatencyHint=f=>f===void 0||typeof f=="number"||typeof f=="string"&&(f==="balanced"||f==="interactive"||f==="playback"),createAudioContextConstructor=(f,l,u,c,m,_,g,b,y)=>class extends f{constructor(A={}){if(y===null)throw new Error("Missing the native AudioContext constructor.");let C;try{C=new y(A)}catch(k){throw k.code===12&&k.message==="sampleRate is not in range"?u():k}if(C===null)throw c();if(!isValidLatencyHint(A.latencyHint))throw new TypeError(`The provided value '${A.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(A.sampleRate!==void 0&&C.sampleRate!==A.sampleRate)throw u();super(C,2);const{latencyHint:x}=A,{sampleRate:E}=C;if(this._baseLatency=typeof C.baseLatency=="number"?C.baseLatency:x==="balanced"?512/E:x==="interactive"||x===void 0?256/E:x==="playback"?1024/E:Math.max(2,Math.min(128,Math.round(x*E/128)))*128/E,this._nativeAudioContext=C,y.name==="webkitAudioContext"?(this._nativeGainNode=C.createGain(),this._nativeOscillatorNode=C.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(C.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,C.state==="running"){this._state="suspended";const k=()=>{this._state==="suspended"&&(this._state=null),C.removeEventListener("statechange",k)};C.addEventListener("statechange",k)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw l()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),deactivateAudioGraph(this)}))}createMediaElementSource(A){return new m(this,{mediaElement:A})}createMediaStreamDestination(){return new _(this)}createMediaStreamSource(A){return new g(this,{mediaStream:A})}createMediaStreamTrackSource(A){return new b(this,{mediaStreamTrack:A})}resume(){return this._state==="suspended"?new Promise((A,C)=>{const x=()=>{this._nativeAudioContext.removeEventListener("statechange",x),this._nativeAudioContext.state==="running"?A():this.resume().then(A,C)};this._nativeAudioContext.addEventListener("statechange",x)}):this._nativeAudioContext.resume().catch(A=>{throw A===void 0||A.code===15?l():A})}suspend(){return this._nativeAudioContext.suspend().catch(A=>{throw A===void 0?l():A})}},createAudioDestinationNodeConstructor=(f,l,u,c,m,_,g,b)=>class extends f{constructor(S,A){const C=_(S),x=g(C),E=m(C,A,x),k=x?l(b):null;super(S,!1,E,k),this._isNodeOfNativeOfflineAudioContext=x,this._nativeAudioDestinationNode=E}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(S){if(this._isNodeOfNativeOfflineAudioContext)throw c();if(S>this._nativeAudioDestinationNode.maxChannelCount)throw u();this._nativeAudioDestinationNode.channelCount=S}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(S){if(this._isNodeOfNativeOfflineAudioContext)throw c();this._nativeAudioDestinationNode.channelCountMode=S}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},createAudioDestinationNodeRenderer=f=>{const l=new WeakMap,u=async(c,m)=>{const _=m.destination;return l.set(m,_),await f(c,m,_),_};return{render(c,m){const _=l.get(m);return _!==void 0?Promise.resolve(_):u(c,m)}}},createAudioListenerFactory=(f,l,u,c,m,_,g,b)=>(y,S)=>{const A=S.listener,C=()=>{const N=new Float32Array(1),D=l(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),L=g(S);let R=!1,G=[0,0,-1,0,1,0],Z=[0,0,0];const B=()=>{if(R)return;R=!0;const V=c(S,256,9,0);V.onaudioprocess=({inputBuffer:z})=>{const X=[_(z,N,0),_(z,N,1),_(z,N,2),_(z,N,3),_(z,N,4),_(z,N,5)];X.some(($,ae)=>$!==G[ae])&&(A.setOrientation(...X),G=X);const U=[_(z,N,6),_(z,N,7),_(z,N,8)];U.some(($,ae)=>$!==Z[ae])&&(A.setPosition(...U),Z=U)},D.connect(V)},J=V=>z=>{z!==G[V]&&(G[V]=z,A.setOrientation(...G))},K=V=>z=>{z!==Z[V]&&(Z[V]=z,A.setPosition(...Z))},ee=(V,z,X)=>{const U=u(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:z});U.connect(D,0,V),U.start(),Object.defineProperty(U.offset,"defaultValue",{get(){return z}});const $=f({context:y},L,U.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT);return b($,"value",ae=>()=>ae.call($),ae=>H=>{try{ae.call($,H)}catch(ie){if(ie.code!==9)throw ie}B(),L&&X(H)}),$.cancelAndHoldAtTime=(ae=>L?()=>{throw m()}:(...H)=>{const ie=ae.apply($,H);return B(),ie})($.cancelAndHoldAtTime),$.cancelScheduledValues=(ae=>L?()=>{throw m()}:(...H)=>{const ie=ae.apply($,H);return B(),ie})($.cancelScheduledValues),$.exponentialRampToValueAtTime=(ae=>L?()=>{throw m()}:(...H)=>{const ie=ae.apply($,H);return B(),ie})($.exponentialRampToValueAtTime),$.linearRampToValueAtTime=(ae=>L?()=>{throw m()}:(...H)=>{const ie=ae.apply($,H);return B(),ie})($.linearRampToValueAtTime),$.setTargetAtTime=(ae=>L?()=>{throw m()}:(...H)=>{const ie=ae.apply($,H);return B(),ie})($.setTargetAtTime),$.setValueAtTime=(ae=>L?()=>{throw m()}:(...H)=>{const ie=ae.apply($,H);return B(),ie})($.setValueAtTime),$.setValueCurveAtTime=(ae=>L?()=>{throw m()}:(...H)=>{const ie=ae.apply($,H);return B(),ie})($.setValueCurveAtTime),$};return{forwardX:ee(0,0,J(0)),forwardY:ee(1,0,J(1)),forwardZ:ee(2,-1,J(2)),positionX:ee(6,0,K(0)),positionY:ee(7,0,K(1)),positionZ:ee(8,0,K(2)),upX:ee(3,0,J(3)),upY:ee(4,1,J(4)),upZ:ee(5,0,J(5))}},{forwardX:x,forwardY:E,forwardZ:k,positionX:T,positionY:I,positionZ:M,upX:j,upY:P,upZ:O}=A.forwardX===void 0?C():A;return{get forwardX(){return x},get forwardY(){return E},get forwardZ(){return k},get positionX(){return T},get positionY(){return I},get positionZ(){return M},get upX(){return j},get upY(){return P},get upZ(){return O}}},isAudioNode$1=f=>"context"in f,isAudioNodeOutputConnection=f=>isAudioNode$1(f[0]),insertElementInSet=(f,l,u,c)=>{for(const m of f)if(u(m)){if(c)return!1;throw Error("The set contains at least one similar element.")}return f.add(l),!0},addActiveInputConnectionToAudioParam=(f,l,[u,c],m)=>{insertElementInSet(f,[l,u,c],_=>_[0]===l&&_[1]===u,m)},addPassiveInputConnectionToAudioParam=(f,[l,u,c],m)=>{const _=f.get(l);_===void 0?f.set(l,new Set([[u,c]])):insertElementInSet(_,[u,c],g=>g[0]===u,m)},isNativeAudioNodeFaker=f=>"inputs"in f,connectNativeAudioNodeToNativeAudioNode=(f,l,u,c)=>{if(isNativeAudioNodeFaker(l)){const m=l.inputs[c];return f.connect(m,u,0),[m,u,0]}return f.connect(l,u,c),[l,u,c]},deleteActiveInputConnection=(f,l,u)=>{for(const c of f)if(c[0]===l&&c[1]===u)return f.delete(c),c;return null},deleteActiveInputConnectionToAudioParam=(f,l,u)=>pickElementFromSet(f,c=>c[0]===l&&c[1]===u),deleteEventListenerOfAudioNode=(f,l)=>{if(!getEventListenersOfAudioNode(f).delete(l))throw new Error("Missing the expected event listener.")},deletePassiveInputConnectionToAudioParam=(f,l,u)=>{const c=getValueForKey(f,l),m=pickElementFromSet(c,_=>_[0]===u);return c.size===0&&f.delete(l),m},disconnectNativeAudioNodeFromNativeAudioNode=(f,l,u,c)=>{isNativeAudioNodeFaker(l)?f.disconnect(l.inputs[c],u,0):f.disconnect(l,u,c)},getNativeAudioNode=f=>getValueForKey(AUDIO_NODE_STORE,f),getNativeAudioParam=f=>getValueForKey(AUDIO_PARAM_STORE,f),isPartOfACycle=f=>CYCLE_COUNTERS.has(f),isPassiveAudioNode=f=>!ACTIVE_AUDIO_NODE_STORE.has(f),testAudioNodeDisconnectMethodSupport=(f,l)=>new Promise(u=>{if(l!==null)u(!0);else{const c=f.createScriptProcessor(256,1,1),m=f.createGain(),_=f.createBuffer(1,2,44100),g=_.getChannelData(0);g[0]=1,g[1]=1;const b=f.createBufferSource();b.buffer=_,b.loop=!0,b.connect(c).connect(f.destination),b.connect(m),b.disconnect(m),c.onaudioprocess=y=>{const S=y.inputBuffer.getChannelData(0);Array.prototype.some.call(S,A=>A===1)?u(!0):u(!1),b.stop(),c.onaudioprocess=null,b.disconnect(c),c.disconnect(f.destination)},b.start()}}),visitEachAudioNodeOnce=(f,l)=>{const u=new Map;for(const c of f)for(const m of c){const _=u.get(m);u.set(m,_===void 0?1:_+1)}u.forEach((c,m)=>l(m,c))},isNativeAudioNode$1=f=>"context"in f,wrapAudioNodeDisconnectMethod=f=>{const l=new Map;f.connect=(u=>(c,m=0,_=0)=>{const g=isNativeAudioNode$1(c)?u(c,m,_):u(c,m),b=l.get(c);return b===void 0?l.set(c,[{input:_,output:m}]):b.every(y=>y.input!==_||y.output!==m)&&b.push({input:_,output:m}),g})(f.connect.bind(f)),f.disconnect=(u=>(c,m,_)=>{if(u.apply(f),c===void 0)l.clear();else if(typeof c=="number")for(const[g,b]of l){const y=b.filter(S=>S.output!==c);y.length===0?l.delete(g):l.set(g,y)}else if(l.has(c))if(m===void 0)l.delete(c);else{const g=l.get(c);if(g!==void 0){const b=g.filter(y=>y.output!==m&&(y.input!==_||_===void 0));b.length===0?l.delete(c):l.set(c,b)}}for(const[g,b]of l)b.forEach(y=>{isNativeAudioNode$1(g)?f.connect(g,y.output,y.input):f.connect(g,y.output)})})(f.disconnect)},addConnectionToAudioParamOfAudioContext=(f,l,u,c)=>{const{activeInputs:m,passiveInputs:_}=getAudioParamConnections(l),{outputs:g}=getAudioNodeConnections(f),b=getEventListenersOfAudioNode(f),y=S=>{const A=getNativeAudioNode(f),C=getNativeAudioParam(l);if(S){const x=deletePassiveInputConnectionToAudioParam(_,f,u);addActiveInputConnectionToAudioParam(m,f,x,!1),!c&&!isPartOfACycle(f)&&A.connect(C,u)}else{const x=deleteActiveInputConnectionToAudioParam(m,f,u);addPassiveInputConnectionToAudioParam(_,x,!1),!c&&!isPartOfACycle(f)&&A.disconnect(C,u)}};return insertElementInSet(g,[l,u],S=>S[0]===l&&S[1]===u,!0)?(b.add(y),isActiveAudioNode(f)?addActiveInputConnectionToAudioParam(m,f,[u,y],!0):addPassiveInputConnectionToAudioParam(_,[f,u,y],!0),!0):!1},deleteInputConnectionOfAudioNode=(f,l,u,c)=>{const{activeInputs:m,passiveInputs:_}=getAudioNodeConnections(l),g=deleteActiveInputConnection(m[c],f,u);return g===null?[deletePassiveInputConnectionToAudioNode(_,f,u,c)[2],!1]:[g[2],!0]},deleteInputConnectionOfAudioParam=(f,l,u)=>{const{activeInputs:c,passiveInputs:m}=getAudioParamConnections(l),_=deleteActiveInputConnection(c,f,u);return _===null?[deletePassiveInputConnectionToAudioParam(m,f,u)[1],!1]:[_[2],!0]},deleteInputsOfAudioNode=(f,l,u,c,m)=>{const[_,g]=deleteInputConnectionOfAudioNode(f,u,c,m);if(_!==null&&(deleteEventListenerOfAudioNode(f,_),g&&!l&&!isPartOfACycle(f)&&disconnectNativeAudioNodeFromNativeAudioNode(getNativeAudioNode(f),getNativeAudioNode(u),c,m)),isActiveAudioNode(u)){const{activeInputs:b}=getAudioNodeConnections(u);setInternalStateToPassiveWhenNecessary(u,b)}},deleteInputsOfAudioParam=(f,l,u,c)=>{const[m,_]=deleteInputConnectionOfAudioParam(f,u,c);m!==null&&(deleteEventListenerOfAudioNode(f,m),_&&!l&&!isPartOfACycle(f)&&getNativeAudioNode(f).disconnect(getNativeAudioParam(u),c))},deleteAnyConnection=(f,l)=>{const u=getAudioNodeConnections(f),c=[];for(const m of u.outputs)isAudioNodeOutputConnection(m)?deleteInputsOfAudioNode(f,l,...m):deleteInputsOfAudioParam(f,l,...m),c.push(m[0]);return u.outputs.clear(),c},deleteConnectionAtOutput=(f,l,u)=>{const c=getAudioNodeConnections(f),m=[];for(const _ of c.outputs)_[1]===u&&(isAudioNodeOutputConnection(_)?deleteInputsOfAudioNode(f,l,..._):deleteInputsOfAudioParam(f,l,..._),m.push(_[0]),c.outputs.delete(_));return m},deleteConnectionToDestination=(f,l,u,c,m)=>{const _=getAudioNodeConnections(f);return Array.from(_.outputs).filter(g=>g[0]===u&&(c===void 0||g[1]===c)&&(m===void 0||g[2]===m)).map(g=>(isAudioNodeOutputConnection(g)?deleteInputsOfAudioNode(f,l,...g):deleteInputsOfAudioParam(f,l,...g),_.outputs.delete(g),g[0]))},createAudioNodeConstructor=(f,l,u,c,m,_,g,b,y,S,A,C,x,E,k,T)=>class extends S{constructor(M,j,P,O){super(P),this._context=M,this._nativeAudioNode=P;const N=A(M);C(N)&&u(testAudioNodeDisconnectMethodSupport,()=>testAudioNodeDisconnectMethodSupport(N,T))!==!0&&wrapAudioNodeDisconnectMethod(P),AUDIO_NODE_STORE.set(this,P),EVENT_LISTENERS.set(this,new Set),M.state!=="closed"&&j&&setInternalStateToActive(this),f(this,O,P)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(M){this._nativeAudioNode.channelCount=M}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(M){this._nativeAudioNode.channelCountMode=M}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(M){this._nativeAudioNode.channelInterpretation=M}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(M,j=0,P=0){if(j<0||j>=this._nativeAudioNode.numberOfOutputs)throw m();const O=A(this._context),N=k(O);if(x(M)||E(M))throw _();if(isAudioNode$1(M)){const R=getNativeAudioNode(M);try{const Z=connectNativeAudioNodeToNativeAudioNode(this._nativeAudioNode,R,j,P),B=isPassiveAudioNode(this);(N||B)&&this._nativeAudioNode.disconnect(...Z),this.context.state!=="closed"&&!B&&isPassiveAudioNode(M)&&setInternalStateToActive(M)}catch(Z){throw Z.code===12?_():Z}if(l(this,M,j,P,N)){const Z=y([this],M);visitEachAudioNodeOnce(Z,c(N))}return M}const D=getNativeAudioParam(M);if(D.name==="playbackRate"&&D.maxValue===1024)throw g();try{this._nativeAudioNode.connect(D,j),(N||isPassiveAudioNode(this))&&this._nativeAudioNode.disconnect(D,j)}catch(R){throw R.code===12?_():R}if(addConnectionToAudioParamOfAudioContext(this,M,j,N)){const R=y([this],M);visitEachAudioNodeOnce(R,c(N))}}disconnect(M,j,P){let O;const N=A(this._context),D=k(N);if(M===void 0)O=deleteAnyConnection(this,D);else if(typeof M=="number"){if(M<0||M>=this.numberOfOutputs)throw m();O=deleteConnectionAtOutput(this,D,M)}else{if(j!==void 0&&(j<0||j>=this.numberOfOutputs)||isAudioNode$1(M)&&P!==void 0&&(P<0||P>=M.numberOfInputs))throw m();if(O=deleteConnectionToDestination(this,D,M,j,P),O.length===0)throw _()}for(const L of O){const R=y([this],L);visitEachAudioNodeOnce(R,b)}}},createAudioParamFactory=(f,l,u,c,m,_,g,b,y,S,A,C,x)=>(E,k,T,I=null,M=null)=>{const j=T.value,P=new AutomationEventList(j),O=k?c(P):null,N={get defaultValue(){return j},get maxValue(){return I===null?T.maxValue:I},get minValue(){return M===null?T.minValue:M},get value(){return T.value},set value(D){T.value=D,N.setValueAtTime(D,E.context.currentTime)},cancelAndHoldAtTime(D){if(typeof T.cancelAndHoldAtTime=="function")O===null&&P.flush(E.context.currentTime),P.add(m(D)),T.cancelAndHoldAtTime(D);else{const L=Array.from(P).pop();O===null&&P.flush(E.context.currentTime),P.add(m(D));const R=Array.from(P).pop();T.cancelScheduledValues(D),L!==R&&R!==void 0&&(R.type==="exponentialRampToValue"?T.exponentialRampToValueAtTime(R.value,R.endTime):R.type==="linearRampToValue"?T.linearRampToValueAtTime(R.value,R.endTime):R.type==="setValue"?T.setValueAtTime(R.value,R.startTime):R.type==="setValueCurve"&&T.setValueCurveAtTime(R.values,R.startTime,R.duration))}return N},cancelScheduledValues(D){return O===null&&P.flush(E.context.currentTime),P.add(_(D)),T.cancelScheduledValues(D),N},exponentialRampToValueAtTime(D,L){if(D===0)throw new RangeError;if(!Number.isFinite(L)||L<0)throw new RangeError;const R=E.context.currentTime;return O===null&&P.flush(R),Array.from(P).length===0&&(P.add(S(j,R)),T.setValueAtTime(j,R)),P.add(g(D,L)),T.exponentialRampToValueAtTime(D,L),N},linearRampToValueAtTime(D,L){const R=E.context.currentTime;return O===null&&P.flush(R),Array.from(P).length===0&&(P.add(S(j,R)),T.setValueAtTime(j,R)),P.add(b(D,L)),T.linearRampToValueAtTime(D,L),N},setTargetAtTime(D,L,R){return O===null&&P.flush(E.context.currentTime),P.add(y(D,L,R)),T.setTargetAtTime(D,L,R),N},setValueAtTime(D,L){return O===null&&P.flush(E.context.currentTime),P.add(S(D,L)),T.setValueAtTime(D,L),N},setValueCurveAtTime(D,L,R){const G=D instanceof Float32Array?D:new Float32Array(D);if(C!==null&&C.name==="webkitAudioContext"){const Z=L+R,B=E.context.sampleRate,J=Math.ceil(L*B),K=Math.floor(Z*B),ee=K-J,V=new Float32Array(ee);for(let X=0;X<ee;X+=1){const U=(G.length-1)/R*((J+X)/B-L),$=Math.floor(U),ae=Math.ceil(U);V[X]=$===ae?G[$]:(1-(U-$))*G[$]+(1-(ae-U))*G[ae]}O===null&&P.flush(E.context.currentTime),P.add(A(V,L,R)),T.setValueCurveAtTime(V,L,R);const z=K/B;z<Z&&x(N,V[V.length-1],z),x(N,G[G.length-1],Z)}else O===null&&P.flush(E.context.currentTime),P.add(A(G,L,R)),T.setValueCurveAtTime(G,L,R);return N}};return u.set(N,T),l.set(N,E),f(N,O),N},createAudioParamRenderer=f=>({replay(l){for(const u of f)if(u.type==="exponentialRampToValue"){const{endTime:c,value:m}=u;l.exponentialRampToValueAtTime(m,c)}else if(u.type==="linearRampToValue"){const{endTime:c,value:m}=u;l.linearRampToValueAtTime(m,c)}else if(u.type==="setTarget"){const{startTime:c,target:m,timeConstant:_}=u;l.setTargetAtTime(m,c,_)}else if(u.type==="setValue"){const{startTime:c,value:m}=u;l.setValueAtTime(m,c)}else if(u.type==="setValueCurve"){const{duration:c,startTime:m,values:_}=u;l.setValueCurveAtTime(_,m,c)}else throw new Error("Can't apply an unknown automation.")}});class ReadOnlyMap{constructor(l){this._map=new Map(l)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(l,u=null){return this._map.forEach((c,m)=>l.call(u,c,m,this))}get(l){return this._map.get(l)}has(l){return this._map.has(l)}keys(){return this._map.keys()}values(){return this._map.values()}}const DEFAULT_OPTIONS$g={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},createAudioWorkletNodeConstructor=(f,l,u,c,m,_,g,b,y,S,A,C,x,E)=>class extends l{constructor(T,I,M){var j;const P=b(T),O=y(P),N=A({...DEFAULT_OPTIONS$g,...M});x(N);const D=NODE_NAME_TO_PROCESSOR_CONSTRUCTOR_MAPS.get(P),L=D==null?void 0:D.get(I),R=O||P.state!=="closed"?P:(j=g(P))!==null&&j!==void 0?j:P,G=m(R,O?null:T.baseLatency,S,I,L,N),Z=O?c(I,N,L):null;super(T,!0,G,Z);const B=[];G.parameters.forEach((K,ee)=>{const V=u(this,O,K);B.push([ee,V])}),this._nativeAudioWorkletNode=G,this._onprocessorerror=null,this._parameters=new ReadOnlyMap(B),O&&f(P,this);const{activeInputs:J}=_(this);C(G,J)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(T){const I=typeof T=="function"?E(this,T):null;this._nativeAudioWorkletNode.onprocessorerror=I;const M=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=M!==null&&M===I?T:M}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function copyFromChannel(f,l,u,c,m){if(typeof f.copyFromChannel=="function")l[u].byteLength===0&&(l[u]=new Float32Array(128)),f.copyFromChannel(l[u],c,m);else{const _=f.getChannelData(c);if(l[u].byteLength===0)l[u]=_.slice(m,m+128);else{const g=new Float32Array(_.buffer,m*Float32Array.BYTES_PER_ELEMENT,128);l[u].set(g)}}}const copyToChannel=(f,l,u,c,m)=>{typeof f.copyToChannel=="function"?l[u].byteLength!==0&&f.copyToChannel(l[u],c,m):l[u].byteLength!==0&&f.getChannelData(c).set(l[u],m)},createNestedArrays=(f,l)=>{const u=[];for(let c=0;c<f;c+=1){const m=[],_=typeof l=="number"?l:l[c];for(let g=0;g<_;g+=1)m.push(new Float32Array(128));u.push(m)}return u},getAudioWorkletProcessor=(f,l)=>{const u=getValueForKey(NODE_TO_PROCESSOR_MAPS,f),c=getNativeAudioNode(l);return getValueForKey(u,c)},processBuffer=async(f,l,u,c,m,_,g)=>{const b=l===null?Math.ceil(f.context.length/128)*128:l.length,y=c.channelCount*c.numberOfInputs,S=m.reduce((I,M)=>I+M,0),A=S===0?null:u.createBuffer(S,b,u.sampleRate);if(_===void 0)throw new Error("Missing the processor constructor.");const C=getAudioNodeConnections(f),x=await getAudioWorkletProcessor(u,f),E=createNestedArrays(c.numberOfInputs,c.channelCount),k=createNestedArrays(c.numberOfOutputs,m),T=Array.from(f.parameters.keys()).reduce((I,M)=>({...I,[M]:new Float32Array(128)}),{});for(let I=0;I<b;I+=128){if(c.numberOfInputs>0&&l!==null)for(let M=0;M<c.numberOfInputs;M+=1)for(let j=0;j<c.channelCount;j+=1)copyFromChannel(l,E[M],j,j,I);_.parameterDescriptors!==void 0&&l!==null&&_.parameterDescriptors.forEach(({name:M},j)=>{copyFromChannel(l,T,M,y+j,I)});for(let M=0;M<c.numberOfInputs;M+=1)for(let j=0;j<m[M];j+=1)k[M][j].byteLength===0&&(k[M][j]=new Float32Array(128));try{const M=E.map((P,O)=>C.activeInputs[O].size===0?[]:P),j=g(I/u.sampleRate,u.sampleRate,()=>x.process(M,k,T));if(A!==null)for(let P=0,O=0;P<c.numberOfOutputs;P+=1){for(let N=0;N<m[P];N+=1)copyToChannel(A,k[P],N,O+N,I);O+=m[P]}if(!j)break}catch(M){f.dispatchEvent(new ErrorEvent("processorerror",{colno:M.colno,filename:M.filename,lineno:M.lineno,message:M.message}));break}}return A},createAudioWorkletNodeRendererFactory=(f,l,u,c,m,_,g,b,y,S,A,C,x,E,k,T)=>(I,M,j)=>{const P=new WeakMap;let O=null;const N=async(D,L)=>{let R=A(D),G=null;const Z=isOwnedByContext(R,L),B=Array.isArray(M.outputChannelCount)?M.outputChannelCount:Array.from(M.outputChannelCount);if(C===null){const J=B.reduce((z,X)=>z+X,0),K=m(L,{channelCount:Math.max(1,J),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,J)}),ee=[];for(let z=0;z<D.numberOfOutputs;z+=1)ee.push(c(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:B[z]}));const V=g(L,{channelCount:M.channelCount,channelCountMode:M.channelCountMode,channelInterpretation:M.channelInterpretation,gain:1});V.connect=l.bind(null,ee),V.disconnect=y.bind(null,ee),G=[K,ee,V]}else Z||(R=new C(L,I));if(P.set(L,G===null?R:G[2]),G!==null){if(O===null){if(j===void 0)throw new Error("Missing the processor constructor.");if(x===null)throw new Error("Missing the native OfflineAudioContext constructor.");const X=D.channelCount*D.numberOfInputs,U=j.parameterDescriptors===void 0?0:j.parameterDescriptors.length,$=X+U;O=processBuffer(D,$===0?null:await(async()=>{const H=new x($,Math.ceil(D.context.length/128)*128,L.sampleRate),ie=[],Y=[];for(let oe=0;oe<M.numberOfInputs;oe+=1)ie.push(g(H,{channelCount:M.channelCount,channelCountMode:M.channelCountMode,channelInterpretation:M.channelInterpretation,gain:1})),Y.push(m(H,{channelCount:M.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:M.channelCount}));const q=await Promise.all(Array.from(D.parameters.values()).map(async oe=>{const he=_(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe.value});return await E(H,oe,he.offset),he})),ne=c(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,X+U)});for(let oe=0;oe<M.numberOfInputs;oe+=1){ie[oe].connect(Y[oe]);for(let he=0;he<M.channelCount;he+=1)Y[oe].connect(ne,he,oe*M.channelCount+he)}for(const[oe,he]of q.entries())he.connect(ne,0,X+oe),he.start(0);return ne.connect(H.destination),await Promise.all(ie.map(oe=>k(D,H,oe))),T(H)})(),L,M,B,j,S)}const J=await O,K=u(L,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ee,V,z]=G;J!==null&&(K.buffer=J,K.start(0)),K.connect(ee);for(let X=0,U=0;X<D.numberOfOutputs;X+=1){const $=V[X];for(let ae=0;ae<B[X];ae+=1)ee.connect($,U+ae,ae);U+=B[X]}return z}if(Z)for(const[J,K]of D.parameters.entries())await f(L,K,R.parameters.get(J));else for(const[J,K]of D.parameters.entries())await E(L,K,R.parameters.get(J));return await k(D,L,R),R};return{render(D,L){b(L,D);const R=P.get(L);return R!==void 0?Promise.resolve(R):N(D,L)}}},createBaseAudioContextConstructor=(f,l,u,c,m,_,g,b,y,S,A,C,x,E,k,T,I,M,j,P)=>class extends k{constructor(N,D){super(N,D),this._nativeContext=N,this._audioWorklet=f===void 0?void 0:{addModule:(L,R)=>f(this,L,R)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new l(this)}createBiquadFilter(){return new m(this)}createBuffer(N,D,L){return new u({length:D,numberOfChannels:N,sampleRate:L})}createBufferSource(){return new c(this)}createChannelMerger(N=6){return new _(this,{numberOfInputs:N})}createChannelSplitter(N=6){return new g(this,{numberOfOutputs:N})}createConstantSource(){return new b(this)}createConvolver(){return new y(this)}createDelay(N=1){return new A(this,{maxDelayTime:N})}createDynamicsCompressor(){return new C(this)}createGain(){return new x(this)}createIIRFilter(N,D){return new E(this,{feedback:D,feedforward:N})}createOscillator(){return new T(this)}createPanner(){return new I(this)}createPeriodicWave(N,D,L={disableNormalization:!1}){return new M(this,{...L,imag:D,real:N})}createStereoPanner(){return new j(this)}createWaveShaper(){return new P(this)}decodeAudioData(N,D,L){return S(this._nativeContext,N).then(R=>(typeof D=="function"&&D(R),R),R=>{throw typeof L=="function"&&L(R),R})}},DEFAULT_OPTIONS$f={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},createBiquadFilterNodeConstructor=(f,l,u,c,m,_,g,b)=>class extends f{constructor(S,A){const C=_(S),x={...DEFAULT_OPTIONS$f,...A},E=m(C,x),k=g(C),T=k?u():null;super(S,!1,E,T),this._Q=l(this,k,E.Q,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._detune=l(this,k,E.detune,1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT),-1200*Math.log2(MOST_POSITIVE_SINGLE_FLOAT)),this._frequency=l(this,k,E.frequency,S.sampleRate/2,0),this._gain=l(this,k,E.gain,40*Math.log10(MOST_POSITIVE_SINGLE_FLOAT),MOST_NEGATIVE_SINGLE_FLOAT),this._nativeBiquadFilterNode=E,b(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(S){this._nativeBiquadFilterNode.type=S}getFrequencyResponse(S,A,C){try{this._nativeBiquadFilterNode.getFrequencyResponse(S,A,C)}catch(x){throw x.code===11?c():x}if(S.length!==A.length||A.length!==C.length)throw c()}},createBiquadFilterNodeRendererFactory=(f,l,u,c,m)=>()=>{const _=new WeakMap,g=async(b,y)=>{let S=u(b);const A=isOwnedByContext(S,y);if(!A){const C={Q:S.Q.value,channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,detune:S.detune.value,frequency:S.frequency.value,gain:S.gain.value,type:S.type};S=l(y,C)}return _.set(y,S),A?(await f(y,b.Q,S.Q),await f(y,b.detune,S.detune),await f(y,b.frequency,S.frequency),await f(y,b.gain,S.gain)):(await c(y,b.Q,S.Q),await c(y,b.detune,S.detune),await c(y,b.frequency,S.frequency),await c(y,b.gain,S.gain)),await m(b,y,S),S};return{render(b,y){const S=_.get(y);return S!==void 0?Promise.resolve(S):g(b,y)}}},createCacheTestResult=(f,l)=>(u,c)=>{const m=l.get(u);if(m!==void 0)return m;const _=f.get(u);if(_!==void 0)return _;try{const g=c();return g instanceof Promise?(f.set(u,g),g.catch(()=>!1).then(b=>(f.delete(u),l.set(u,b),b))):(l.set(u,g),g)}catch{return l.set(u,!1),!1}},DEFAULT_OPTIONS$e={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},createChannelMergerNodeConstructor=(f,l,u,c,m)=>class extends f{constructor(g,b){const y=c(g),S={...DEFAULT_OPTIONS$e,...b},A=u(y,S),C=m(y)?l():null;super(g,!1,A,C)}},createChannelMergerNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,m=async(_,g)=>{let b=l(_);if(!isOwnedByContext(b,g)){const S={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,numberOfInputs:b.numberOfInputs};b=f(g,S)}return c.set(g,b),await u(_,g,b),b};return{render(_,g){const b=c.get(g);return b!==void 0?Promise.resolve(b):m(_,g)}}},DEFAULT_OPTIONS$d={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},createChannelSplitterNodeConstructor=(f,l,u,c,m,_)=>class extends f{constructor(b,y){const S=c(b),A=_({...DEFAULT_OPTIONS$d,...y}),C=u(S,A),x=m(S)?l():null;super(b,!1,C,x)}},createChannelSplitterNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,m=async(_,g)=>{let b=l(_);if(!isOwnedByContext(b,g)){const S={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,numberOfOutputs:b.numberOfOutputs};b=f(g,S)}return c.set(g,b),await u(_,g,b),b};return{render(_,g){const b=c.get(g);return b!==void 0?Promise.resolve(b):m(_,g)}}},createConnectAudioParam=f=>(l,u,c)=>f(u,l,c),createConnectMultipleOutputs=f=>(l,u,c=0,m=0)=>{const _=l[c];if(_===void 0)throw f();return isNativeAudioNode$1(u)?_.connect(u,0,m):_.connect(u,0)},createConnectedNativeAudioBufferSourceNodeFactory=f=>(l,u)=>{const c=f(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),m=l.createBuffer(1,2,44100);return c.buffer=m,c.loop=!0,c.connect(u),c.start(),()=>{c.stop(),c.disconnect(u)}},DEFAULT_OPTIONS$c={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},createConstantSourceNodeConstructor=(f,l,u,c,m,_,g)=>class extends f{constructor(y,S){const A=m(y),C={...DEFAULT_OPTIONS$c,...S},x=c(A,C),E=_(A),k=E?u():null;super(y,!1,x,k),this._constantSourceNodeRenderer=k,this._nativeConstantSourceNode=x,this._offset=l(this,E,x.offset,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(y){const S=typeof y=="function"?g(this,y):null;this._nativeConstantSourceNode.onended=S;const A=this._nativeConstantSourceNode.onended;this._onended=A!==null&&A===S?y:A}start(y=0){if(this._nativeConstantSourceNode.start(y),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=y),this.context.state!=="closed"){setInternalStateToActive(this);const S=()=>{this._nativeConstantSourceNode.removeEventListener("ended",S),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeConstantSourceNode.addEventListener("ended",S)}}stop(y=0){this._nativeConstantSourceNode.stop(y),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=y)}},createConstantSourceNodeRendererFactory=(f,l,u,c,m)=>()=>{const _=new WeakMap;let g=null,b=null;const y=async(S,A)=>{let C=u(S);const x=isOwnedByContext(C,A);if(!x){const E={channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,offset:C.offset.value};C=l(A,E),g!==null&&C.start(g),b!==null&&C.stop(b)}return _.set(A,C),x?await f(A,S.offset,C.offset):await c(A,S.offset,C.offset),await m(S,A,C),C};return{set start(S){g=S},set stop(S){b=S},render(S,A){const C=_.get(A);return C!==void 0?Promise.resolve(C):y(S,A)}}},createConvertNumberToUnsignedLong=f=>l=>(f[0]=l,f[0]),DEFAULT_OPTIONS$b={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},createConvolverNodeConstructor=(f,l,u,c,m,_)=>class extends f{constructor(b,y){const S=c(b),A={...DEFAULT_OPTIONS$b,...y},C=u(S,A),E=m(S)?l():null;super(b,!1,C,E),this._isBufferNullified=!1,this._nativeConvolverNode=C,A.buffer!==null&&_(this,A.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(b){if(this._nativeConvolverNode.buffer=b,b===null&&this._nativeConvolverNode.buffer!==null){const y=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=y.createBuffer(1,1,y.sampleRate),this._isBufferNullified=!0,_(this,0)}else this._isBufferNullified=!1,_(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(b){this._nativeConvolverNode.normalize=b}},createConvolverNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,m=async(_,g)=>{let b=l(_);if(!isOwnedByContext(b,g)){const S={buffer:b.buffer,channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,disableNormalization:!b.normalize};b=f(g,S)}return c.set(g,b),isNativeAudioNodeFaker(b)?await u(_,g,b.inputs[0]):await u(_,g,b),b};return{render(_,g){const b=c.get(g);return b!==void 0?Promise.resolve(b):m(_,g)}}},createCreateNativeOfflineAudioContext=(f,l)=>(u,c,m)=>{if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new l(u,c,m)}catch(_){throw _.name==="SyntaxError"?f():_}},createDataCloneError=()=>new DOMException("","DataCloneError"),detachArrayBuffer=f=>{const{port1:l,port2:u}=new MessageChannel;return new Promise(c=>{const m=()=>{u.onmessage=null,l.close(),u.close(),c()};u.onmessage=()=>m();try{l.postMessage(f,[f])}catch{}finally{m()}})},createDecodeAudioData=(f,l,u,c,m,_,g,b,y,S,A)=>(C,x)=>{const E=g(C)?C:_(C);if(m.has(x)){const k=u();return Promise.reject(k)}try{m.add(x)}catch{}return l(y,()=>y(E))?E.decodeAudioData(x).then(k=>(detachArrayBuffer(x).catch(()=>{}),l(b,()=>b(k))||A(k),f.add(k),k)):new Promise((k,T)=>{const I=async()=>{try{await detachArrayBuffer(x)}catch{}},M=j=>{T(j),I()};try{E.decodeAudioData(x,j=>{typeof j.copyFromChannel!="function"&&(S(j),wrapAudioBufferGetChannelDataMethod(j)),f.add(j),I().then(()=>k(j))},j=>{M(j===null?c():j)})}catch(j){M(j)}})},createDecrementCycleCounter=(f,l,u,c,m,_,g,b)=>(y,S)=>{const A=l.get(y);if(A===void 0)throw new Error("Missing the expected cycle count.");const C=_(y.context),x=b(C);if(A===S){if(l.delete(y),!x&&g(y)){const E=c(y),{outputs:k}=u(y);for(const T of k)if(isAudioNodeOutputConnection(T)){const I=c(T[0]);f(E,I,T[1],T[2])}else{const I=m(T[0]);E.connect(I,T[1])}}}else l.set(y,A-S)},DEFAULT_OPTIONS$a={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},createDelayNodeConstructor=(f,l,u,c,m,_,g)=>class extends f{constructor(y,S){const A=m(y),C={...DEFAULT_OPTIONS$a,...S},x=c(A,C),E=_(A),k=E?u(C.maxDelayTime):null;super(y,!1,x,k),this._delayTime=l(this,E,x.delayTime),g(this,C.maxDelayTime)}get delayTime(){return this._delayTime}},createDelayNodeRendererFactory=(f,l,u,c,m)=>_=>{const g=new WeakMap,b=async(y,S)=>{let A=u(y);const C=isOwnedByContext(A,S);if(!C){const x={channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,delayTime:A.delayTime.value,maxDelayTime:_};A=l(S,x)}return g.set(S,A),C?await f(S,y.delayTime,A.delayTime):await c(S,y.delayTime,A.delayTime),await m(y,S,A),A};return{render(y,S){const A=g.get(S);return A!==void 0?Promise.resolve(A):b(y,S)}}},createDeleteActiveInputConnectionToAudioNode=f=>(l,u,c,m)=>f(l[m],_=>_[0]===u&&_[1]===c),createDeleteUnrenderedAudioWorkletNode=f=>(l,u)=>{f(l).delete(u)},isDelayNode=f=>"delayTime"in f,createDetectCycles=(f,l,u)=>function c(m,_){const g=isAudioNode$1(_)?_:u(f,_);if(isDelayNode(g))return[];if(m[0]===g)return[m];if(m.includes(g))return[];const{outputs:b}=l(g);return Array.from(b).map(y=>c([...m,g],y[0])).reduce((y,S)=>y.concat(S),[])},getOutputAudioNodeAtIndex=(f,l,u)=>{const c=l[u];if(c===void 0)throw f();return c},createDisconnectMultipleOutputs=f=>(l,u=void 0,c=void 0,m=0)=>u===void 0?l.forEach(_=>_.disconnect()):typeof u=="number"?getOutputAudioNodeAtIndex(f,l,u).disconnect():isNativeAudioNode$1(u)?c===void 0?l.forEach(_=>_.disconnect(u)):m===void 0?getOutputAudioNodeAtIndex(f,l,c).disconnect(u,0):getOutputAudioNodeAtIndex(f,l,c).disconnect(u,0,m):c===void 0?l.forEach(_=>_.disconnect(u)):getOutputAudioNodeAtIndex(f,l,c).disconnect(u,0),DEFAULT_OPTIONS$9={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},createDynamicsCompressorNodeConstructor=(f,l,u,c,m,_,g,b)=>class extends f{constructor(S,A){const C=_(S),x={...DEFAULT_OPTIONS$9,...A},E=c(C,x),k=g(C),T=k?u():null;super(S,!1,E,T),this._attack=l(this,k,E.attack),this._knee=l(this,k,E.knee),this._nativeDynamicsCompressorNode=E,this._ratio=l(this,k,E.ratio),this._release=l(this,k,E.release),this._threshold=l(this,k,E.threshold),b(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(S){const A=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=S,S>2)throw this._nativeDynamicsCompressorNode.channelCount=A,m()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(S){const A=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=S,S==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=A,m()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},createDynamicsCompressorNodeRendererFactory=(f,l,u,c,m)=>()=>{const _=new WeakMap,g=async(b,y)=>{let S=u(b);const A=isOwnedByContext(S,y);if(!A){const C={attack:S.attack.value,channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,knee:S.knee.value,ratio:S.ratio.value,release:S.release.value,threshold:S.threshold.value};S=l(y,C)}return _.set(y,S),A?(await f(y,b.attack,S.attack),await f(y,b.knee,S.knee),await f(y,b.ratio,S.ratio),await f(y,b.release,S.release),await f(y,b.threshold,S.threshold)):(await c(y,b.attack,S.attack),await c(y,b.knee,S.knee),await c(y,b.ratio,S.ratio),await c(y,b.release,S.release),await c(y,b.threshold,S.threshold)),await m(b,y,S),S};return{render(b,y){const S=_.get(y);return S!==void 0?Promise.resolve(S):g(b,y)}}},createEncodingError=()=>new DOMException("","EncodingError"),createEvaluateSource=f=>l=>new Promise((u,c)=>{if(f===null){c(new SyntaxError);return}const m=f.document.head;if(m===null)c(new SyntaxError);else{const _=f.document.createElement("script"),g=new Blob([l],{type:"application/javascript"}),b=URL.createObjectURL(g),y=f.onerror,S=()=>{f.onerror=y,URL.revokeObjectURL(b)};f.onerror=(A,C,x,E,k)=>{if(C===b||C===f.location.href&&x===1&&E===1)return S(),c(k),!1;if(y!==null)return y(A,C,x,E,k)},_.onerror=()=>{S(),c(new SyntaxError)},_.onload=()=>{S(),u()},_.src=b,_.type="module",m.appendChild(_)}}),createEventTargetConstructor=f=>class{constructor(u){this._nativeEventTarget=u,this._listeners=new WeakMap}addEventListener(u,c,m){if(c!==null){let _=this._listeners.get(c);_===void 0&&(_=f(this,c),typeof c=="function"&&this._listeners.set(c,_)),this._nativeEventTarget.addEventListener(u,_,m)}}dispatchEvent(u){return this._nativeEventTarget.dispatchEvent(u)}removeEventListener(u,c,m){const _=c===null?void 0:this._listeners.get(c);this._nativeEventTarget.removeEventListener(u,_===void 0?null:_,m)}},createExposeCurrentFrameAndCurrentTime=f=>(l,u,c)=>{Object.defineProperties(f,{currentFrame:{configurable:!0,get(){return Math.round(l*u)}},currentTime:{configurable:!0,get(){return l}}});try{return c()}finally{f!==null&&(delete f.currentFrame,delete f.currentTime)}},createFetchSource=f=>async l=>{try{const u=await fetch(l);if(u.ok)return[await u.text(),u.url]}catch{}throw f()},DEFAULT_OPTIONS$8={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},createGainNodeConstructor=(f,l,u,c,m,_)=>class extends f{constructor(b,y){const S=m(b),A={...DEFAULT_OPTIONS$8,...y},C=c(S,A),x=_(S),E=x?u():null;super(b,!1,C,E),this._gain=l(this,x,C.gain,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT)}get gain(){return this._gain}},createGainNodeRendererFactory=(f,l,u,c,m)=>()=>{const _=new WeakMap,g=async(b,y)=>{let S=u(b);const A=isOwnedByContext(S,y);if(!A){const C={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:S.gain.value};S=l(y,C)}return _.set(y,S),A?await f(y,b.gain,S.gain):await c(y,b.gain,S.gain),await m(b,y,S),S};return{render(b,y){const S=_.get(y);return S!==void 0?Promise.resolve(S):g(b,y)}}},createGetActiveAudioWorkletNodeInputs=(f,l)=>u=>l(f,u),createGetAudioNodeRenderer=f=>l=>{const u=f(l);if(u.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return u.renderer},createGetAudioNodeTailTime=f=>l=>{var u;return(u=f.get(l))!==null&&u!==void 0?u:0},createGetAudioParamRenderer=f=>l=>{const u=f(l);if(u.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return u.renderer},createGetBackupOfflineAudioContext=f=>l=>f.get(l),createInvalidStateError=()=>new DOMException("","InvalidStateError"),createGetNativeContext=f=>l=>{const u=f.get(l);if(u===void 0)throw createInvalidStateError();return u},createGetOrCreateBackupOfflineAudioContext=(f,l)=>u=>{let c=f.get(u);if(c!==void 0)return c;if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");return c=new l(1,1,44100),f.set(u,c),c},createGetUnrenderedAudioWorkletNodes=f=>l=>{const u=f.get(l);if(u===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return u},createInvalidAccessError=()=>new DOMException("","InvalidAccessError"),wrapIIRFilterNodeGetFrequencyResponseMethod=f=>{f.getFrequencyResponse=(l=>(u,c,m)=>{if(u.length!==c.length||c.length!==m.length)throw createInvalidAccessError();return l.call(f,u,c,m)})(f.getFrequencyResponse)},DEFAULT_OPTIONS$7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},createIIRFilterNodeConstructor=(f,l,u,c,m,_)=>class extends f{constructor(b,y){const S=c(b),A=m(S),C={...DEFAULT_OPTIONS$7,...y},x=l(S,A?null:b.baseLatency,C),E=A?u(C.feedback,C.feedforward):null;super(b,!1,x,E),wrapIIRFilterNodeGetFrequencyResponseMethod(x),this._nativeIIRFilterNode=x,_(this,1)}getFrequencyResponse(b,y,S){return this._nativeIIRFilterNode.getFrequencyResponse(b,y,S)}},filterBuffer=(f,l,u,c,m,_,g,b,y,S,A)=>{const C=S.length;let x=b;for(let E=0;E<C;E+=1){let k=u[0]*S[E];for(let T=1;T<m;T+=1){const I=x-T&y-1;k+=u[T]*_[I],k-=f[T]*g[I]}for(let T=m;T<c;T+=1)k+=u[T]*_[x-T&y-1];for(let T=m;T<l;T+=1)k-=f[T]*g[x-T&y-1];_[x]=S[E],g[x]=k,x=x+1&y-1,A[E]=k}return x},filterFullBuffer=(f,l,u,c)=>{const m=u instanceof Float64Array?u:new Float64Array(u),_=c instanceof Float64Array?c:new Float64Array(c),g=m.length,b=_.length,y=Math.min(g,b);if(m[0]!==1){for(let k=0;k<g;k+=1)_[k]/=m[0];for(let k=1;k<b;k+=1)m[k]/=m[0]}const S=32,A=new Float32Array(S),C=new Float32Array(S),x=l.createBuffer(f.numberOfChannels,f.length,f.sampleRate),E=f.numberOfChannels;for(let k=0;k<E;k+=1){const T=f.getChannelData(k),I=x.getChannelData(k);A.fill(0),C.fill(0),filterBuffer(m,g,_,b,y,A,C,0,S,T,I)}return x},createIIRFilterNodeRendererFactory=(f,l,u,c,m)=>(_,g)=>{const b=new WeakMap;let y=null;const S=async(A,C)=>{let x=null,E=l(A);const k=isOwnedByContext(E,C);if(C.createIIRFilter===void 0?x=f(C,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):k||(E=C.createIIRFilter(g,_)),b.set(C,x===null?E:x),x!==null){if(y===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=new u(A.context.destination.channelCount,A.context.length,C.sampleRate);y=(async()=>{await c(A,I,I.destination);const M=await m(I);return filterFullBuffer(M,C,_,g)})()}const T=await y;return x.buffer=T,x.start(0),x}return await c(A,C,E),E};return{render(A,C){const x=b.get(C);return x!==void 0?Promise.resolve(x):S(A,C)}}},createIncrementCycleCounterFactory=(f,l,u,c,m,_)=>g=>(b,y)=>{const S=f.get(b);if(S===void 0){if(!g&&_(b)){const A=c(b),{outputs:C}=u(b);for(const x of C)if(isAudioNodeOutputConnection(x)){const E=c(x[0]);l(A,E,x[1],x[2])}else{const E=m(x[0]);A.disconnect(E,x[1])}}f.set(b,y)}else f.set(b,S+y)},createIsAnyAudioContext=(f,l)=>u=>{const c=f.get(u);return l(c)||l(u)},createIsAnyAudioNode=(f,l)=>u=>f.has(u)||l(u),createIsAnyAudioParam=(f,l)=>u=>f.has(u)||l(u),createIsAnyOfflineAudioContext=(f,l)=>u=>{const c=f.get(u);return l(c)||l(u)},createIsNativeAudioContext=f=>l=>f!==null&&l instanceof f,createIsNativeAudioNode=f=>l=>f!==null&&typeof f.AudioNode=="function"&&l instanceof f.AudioNode,createIsNativeAudioParam=f=>l=>f!==null&&typeof f.AudioParam=="function"&&l instanceof f.AudioParam,createIsNativeContext=(f,l)=>u=>f(u)||l(u),createIsNativeOfflineAudioContext=f=>l=>f!==null&&l instanceof f,createIsSecureContext=f=>f!==null&&f.isSecureContext,createMediaElementAudioSourceNodeConstructor=(f,l,u,c)=>class extends f{constructor(_,g){const b=u(_),y=l(b,g);if(c(b))throw TypeError();super(_,!0,y,null),this._nativeMediaElementAudioSourceNode=y}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},DEFAULT_OPTIONS$6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},createMediaStreamAudioDestinationNodeConstructor=(f,l,u,c)=>class extends f{constructor(_,g){const b=u(_);if(c(b))throw new TypeError;const y={...DEFAULT_OPTIONS$6,...g},S=l(b,y);super(_,!1,S,null),this._nativeMediaStreamAudioDestinationNode=S}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},createMediaStreamAudioSourceNodeConstructor=(f,l,u,c)=>class extends f{constructor(_,g){const b=u(_),y=l(b,g);if(c(b))throw new TypeError;super(_,!0,y,null),this._nativeMediaStreamAudioSourceNode=y}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},createMediaStreamTrackAudioSourceNodeConstructor=(f,l,u)=>class extends f{constructor(m,_){const g=u(m),b=l(g,_);super(m,!0,b,null)}},createMinimalBaseAudioContextConstructor=(f,l,u,c,m,_)=>class extends u{constructor(b,y){super(b),this._nativeContext=b,CONTEXT_STORE.set(this,b),c(b)&&m.set(b,new Set),this._destination=new f(this,y),this._listener=l(this,b),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(b){const y=typeof b=="function"?_(this,b):null;this._nativeContext.onstatechange=y;const S=this._nativeContext.onstatechange;this._onstatechange=S!==null&&S===y?b:S}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},testPromiseSupport=f=>{const l=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const u=f.decodeAudioData(l.buffer,()=>{});return u===void 0?!1:(u.catch(()=>{}),!0)}catch{}return!1},createMonitorConnections=(f,l)=>(u,c,m)=>{const _=new Set;return u.connect=(g=>(b,y=0,S=0)=>{const A=_.size===0;if(l(b))return g.call(u,b,y,S),f(_,[b,y,S],C=>C[0]===b&&C[1]===y&&C[2]===S,!0),A&&c(),b;g.call(u,b,y),f(_,[b,y],C=>C[0]===b&&C[1]===y,!0),A&&c()})(u.connect),u.disconnect=(g=>(b,y,S)=>{const A=_.size>0;if(b===void 0)g.apply(u),_.clear();else if(typeof b=="number"){g.call(u,b);for(const x of _)x[1]===b&&_.delete(x)}else{l(b)?g.call(u,b,y,S):g.call(u,b,y);for(const x of _)x[0]===b&&(y===void 0||x[1]===y)&&(S===void 0||x[2]===S)&&_.delete(x)}const C=_.size===0;A&&C&&m()})(u.disconnect),u},assignNativeAudioNodeOption=(f,l,u)=>{const c=l[u];c!==void 0&&c!==f[u]&&(f[u]=c)},assignNativeAudioNodeOptions=(f,l)=>{assignNativeAudioNodeOption(f,l,"channelCount"),assignNativeAudioNodeOption(f,l,"channelCountMode"),assignNativeAudioNodeOption(f,l,"channelInterpretation")},testAnalyserNodeGetFloatTimeDomainDataMethodSupport=f=>typeof f.getFloatTimeDomainData=="function",wrapAnalyserNodeGetFloatTimeDomainDataMethod=f=>{f.getFloatTimeDomainData=l=>{const u=new Uint8Array(l.length);f.getByteTimeDomainData(u);const c=Math.max(u.length,f.fftSize);for(let m=0;m<c;m+=1)l[m]=(u[m]-128)*.0078125;return l}},createNativeAnalyserNodeFactory=(f,l)=>(u,c)=>{const m=u.createAnalyser();if(assignNativeAudioNodeOptions(m,c),!(c.maxDecibels>c.minDecibels))throw l();return assignNativeAudioNodeOption(m,c,"fftSize"),assignNativeAudioNodeOption(m,c,"maxDecibels"),assignNativeAudioNodeOption(m,c,"minDecibels"),assignNativeAudioNodeOption(m,c,"smoothingTimeConstant"),f(testAnalyserNodeGetFloatTimeDomainDataMethodSupport,()=>testAnalyserNodeGetFloatTimeDomainDataMethodSupport(m))||wrapAnalyserNodeGetFloatTimeDomainDataMethod(m),m},createNativeAudioBufferConstructor=f=>f===null?null:f.hasOwnProperty("AudioBuffer")?f.AudioBuffer:null,assignNativeAudioNodeAudioParamValue=(f,l,u)=>{const c=l[u];c!==void 0&&c!==f[u].value&&(f[u].value=c)},wrapAudioBufferSourceNodeStartMethodConsecutiveCalls=f=>{f.start=(l=>{let u=!1;return(c=0,m=0,_)=>{if(u)throw createInvalidStateError();l.call(f,c,m,_),u=!0}})(f.start)},wrapAudioScheduledSourceNodeStartMethodNegativeParameters=f=>{f.start=(l=>(u=0,c=0,m)=>{if(typeof m=="number"&&m<0||c<0||u<0)throw new RangeError("The parameters can't be negative.");l.call(f,u,c,m)})(f.start)},wrapAudioScheduledSourceNodeStopMethodNegativeParameters=f=>{f.stop=(l=>(u=0)=>{if(u<0)throw new RangeError("The parameter can't be negative.");l.call(f,u)})(f.stop)},createNativeAudioBufferSourceNodeFactory=(f,l,u,c,m,_,g,b,y,S,A)=>(C,x)=>{const E=C.createBufferSource();return assignNativeAudioNodeOptions(E,x),assignNativeAudioNodeAudioParamValue(E,x,"playbackRate"),assignNativeAudioNodeOption(E,x,"buffer"),assignNativeAudioNodeOption(E,x,"loop"),assignNativeAudioNodeOption(E,x,"loopEnd"),assignNativeAudioNodeOption(E,x,"loopStart"),l(u,()=>u(C))||wrapAudioBufferSourceNodeStartMethodConsecutiveCalls(E),l(c,()=>c(C))||y(E),l(m,()=>m(C))||S(E,C),l(_,()=>_(C))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(E),l(g,()=>g(C))||A(E,C),l(b,()=>b(C))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(E),f(C,E),E},createNativeAudioContextConstructor=f=>f===null?null:f.hasOwnProperty("AudioContext")?f.AudioContext:f.hasOwnProperty("webkitAudioContext")?f.webkitAudioContext:null,createNativeAudioDestinationNodeFactory=(f,l)=>(u,c,m)=>{const _=u.destination;if(_.channelCount!==c)try{_.channelCount=c}catch{}m&&_.channelCountMode!=="explicit"&&(_.channelCountMode="explicit"),_.maxChannelCount===0&&Object.defineProperty(_,"maxChannelCount",{value:c});const g=f(u,{channelCount:c,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});return l(g,"channelCount",b=>()=>b.call(g),b=>y=>{b.call(g,y);try{_.channelCount=y}catch(S){if(y>_.maxChannelCount)throw S}}),l(g,"channelCountMode",b=>()=>b.call(g),b=>y=>{b.call(g,y),_.channelCountMode=y}),l(g,"channelInterpretation",b=>()=>b.call(g),b=>y=>{b.call(g,y),_.channelInterpretation=y}),Object.defineProperty(g,"maxChannelCount",{get:()=>_.maxChannelCount}),g.connect(_),g},createNativeAudioWorkletNodeConstructor=f=>f===null?null:f.hasOwnProperty("AudioWorkletNode")?f.AudioWorkletNode:null,testClonabilityOfAudioWorkletNodeOptions=f=>{const{port1:l}=new MessageChannel;try{l.postMessage(f)}finally{l.close()}},createNativeAudioWorkletNodeFactory=(f,l,u,c,m)=>(_,g,b,y,S,A)=>{if(b!==null)try{const C=new b(_,y,A),x=new Map;let E=null;if(Object.defineProperties(C,{channelCount:{get:()=>A.channelCount,set:()=>{throw f()}},channelCountMode:{get:()=>"explicit",set:()=>{throw f()}},onprocessorerror:{get:()=>E,set:k=>{typeof E=="function"&&C.removeEventListener("processorerror",E),E=typeof k=="function"?k:null,typeof E=="function"&&C.addEventListener("processorerror",E)}}}),C.addEventListener=(k=>(...T)=>{if(T[0]==="processorerror"){const I=typeof T[1]=="function"?T[1]:typeof T[1]=="object"&&T[1]!==null&&typeof T[1].handleEvent=="function"?T[1].handleEvent:null;if(I!==null){const M=x.get(T[1]);M!==void 0?T[1]=M:(T[1]=j=>{j.type==="error"?(Object.defineProperties(j,{type:{value:"processorerror"}}),I(j)):I(new ErrorEvent(T[0],{...j}))},x.set(I,T[1]))}}return k.call(C,"error",T[1],T[2]),k.call(C,...T)})(C.addEventListener),C.removeEventListener=(k=>(...T)=>{if(T[0]==="processorerror"){const I=x.get(T[1]);I!==void 0&&(x.delete(T[1]),T[1]=I)}return k.call(C,"error",T[1],T[2]),k.call(C,T[0],T[1],T[2])})(C.removeEventListener),A.numberOfOutputs!==0){const k=u(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return C.connect(k).connect(_.destination),m(C,()=>k.disconnect(),()=>k.connect(_.destination))}return C}catch(C){throw C.code===11?c():C}if(S===void 0)throw c();return testClonabilityOfAudioWorkletNodeOptions(A),l(_,g,S,A)},computeBufferSize=(f,l)=>f===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(f*l))))),cloneAudioWorkletNodeOptions=f=>new Promise((l,u)=>{const{port1:c,port2:m}=new MessageChannel;c.onmessage=({data:_})=>{c.close(),m.close(),l(_)},c.onmessageerror=({data:_})=>{c.close(),m.close(),u(_)},m.postMessage(f)}),createAudioWorkletProcessorPromise=async(f,l)=>{const u=await cloneAudioWorkletNodeOptions(l);return new f(u)},createAudioWorkletProcessor=(f,l,u,c)=>{let m=NODE_TO_PROCESSOR_MAPS.get(f);m===void 0&&(m=new WeakMap,NODE_TO_PROCESSOR_MAPS.set(f,m));const _=createAudioWorkletProcessorPromise(u,c);return m.set(l,_),_},createNativeAudioWorkletNodeFakerFactory=(f,l,u,c,m,_,g,b,y,S,A,C,x)=>(E,k,T,I)=>{if(I.numberOfInputs===0&&I.numberOfOutputs===0)throw y();const M=Array.isArray(I.outputChannelCount)?I.outputChannelCount:Array.from(I.outputChannelCount);if(M.some(_e=>_e<1))throw y();if(M.length!==I.numberOfOutputs)throw l();if(I.channelCountMode!=="explicit")throw y();const j=I.channelCount*I.numberOfInputs,P=M.reduce((_e,Me)=>_e+Me,0),O=T.parameterDescriptors===void 0?0:T.parameterDescriptors.length;if(j+O>6||P>6)throw y();const N=new MessageChannel,D=[],L=[];for(let _e=0;_e<I.numberOfInputs;_e+=1)D.push(g(E,{channelCount:I.channelCount,channelCountMode:I.channelCountMode,channelInterpretation:I.channelInterpretation,gain:1})),L.push(m(E,{channelCount:I.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:I.channelCount}));const R=[];if(T.parameterDescriptors!==void 0)for(const{defaultValue:_e,maxValue:Me,minValue:De,name:se}of T.parameterDescriptors){const ce=_(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:I.parameterData[se]!==void 0?I.parameterData[se]:_e===void 0?0:_e});Object.defineProperties(ce.offset,{defaultValue:{get:()=>_e===void 0?0:_e},maxValue:{get:()=>Me===void 0?MOST_POSITIVE_SINGLE_FLOAT:Me},minValue:{get:()=>De===void 0?MOST_NEGATIVE_SINGLE_FLOAT:De}}),R.push(ce)}const G=c(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,j+O)}),Z=computeBufferSize(k,E.sampleRate),B=b(E,Z,j+O,Math.max(1,P)),J=m(E,{channelCount:Math.max(1,P),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,P)}),K=[];for(let _e=0;_e<I.numberOfOutputs;_e+=1)K.push(c(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:M[_e]}));for(let _e=0;_e<I.numberOfInputs;_e+=1){D[_e].connect(L[_e]);for(let Me=0;Me<I.channelCount;Me+=1)L[_e].connect(G,Me,_e*I.channelCount+Me)}const ee=new ReadOnlyMap(T.parameterDescriptors===void 0?[]:T.parameterDescriptors.map(({name:_e},Me)=>{const De=R[Me];return De.connect(G,0,j+Me),De.start(0),[_e,De.offset]}));G.connect(B);let V=I.channelInterpretation,z=null;const X=I.numberOfOutputs===0?[B]:K,U={get bufferSize(){return Z},get channelCount(){return I.channelCount},set channelCount(_e){throw u()},get channelCountMode(){return I.channelCountMode},set channelCountMode(_e){throw u()},get channelInterpretation(){return V},set channelInterpretation(_e){for(const Me of D)Me.channelInterpretation=_e;V=_e},get context(){return B.context},get inputs(){return D},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},get onprocessorerror(){return z},set onprocessorerror(_e){typeof z=="function"&&U.removeEventListener("processorerror",z),z=typeof _e=="function"?_e:null,typeof z=="function"&&U.addEventListener("processorerror",z)},get parameters(){return ee},get port(){return N.port2},addEventListener(..._e){return B.addEventListener(_e[0],_e[1],_e[2])},connect:f.bind(null,X),disconnect:S.bind(null,X),dispatchEvent(..._e){return B.dispatchEvent(_e[0])},removeEventListener(..._e){return B.removeEventListener(_e[0],_e[1],_e[2])}},$=new Map;N.port1.addEventListener=(_e=>(...Me)=>{if(Me[0]==="message"){const De=typeof Me[1]=="function"?Me[1]:typeof Me[1]=="object"&&Me[1]!==null&&typeof Me[1].handleEvent=="function"?Me[1].handleEvent:null;if(De!==null){const se=$.get(Me[1]);se!==void 0?Me[1]=se:(Me[1]=ce=>{A(E.currentTime,E.sampleRate,()=>De(ce))},$.set(De,Me[1]))}}return _e.call(N.port1,Me[0],Me[1],Me[2])})(N.port1.addEventListener),N.port1.removeEventListener=(_e=>(...Me)=>{if(Me[0]==="message"){const De=$.get(Me[1]);De!==void 0&&($.delete(Me[1]),Me[1]=De)}return _e.call(N.port1,Me[0],Me[1],Me[2])})(N.port1.removeEventListener);let ae=null;Object.defineProperty(N.port1,"onmessage",{get:()=>ae,set:_e=>{typeof ae=="function"&&N.port1.removeEventListener("message",ae),ae=typeof _e=="function"?_e:null,typeof ae=="function"&&(N.port1.addEventListener("message",ae),N.port1.start())}}),T.prototype.port=N.port1;let H=null;createAudioWorkletProcessor(E,U,T,I).then(_e=>H=_e);const Y=createNestedArrays(I.numberOfInputs,I.channelCount),q=createNestedArrays(I.numberOfOutputs,M),ne=T.parameterDescriptors===void 0?[]:T.parameterDescriptors.reduce((_e,{name:Me})=>({..._e,[Me]:new Float32Array(128)}),{});let oe=!0;const he=()=>{I.numberOfOutputs>0&&B.disconnect(J);for(let _e=0,Me=0;_e<I.numberOfOutputs;_e+=1){const De=K[_e];for(let se=0;se<M[_e];se+=1)J.disconnect(De,Me+se,se);Me+=M[_e]}},de=new Map;B.onaudioprocess=({inputBuffer:_e,outputBuffer:Me})=>{if(H!==null){const De=C(U);for(let se=0;se<Z;se+=128){for(let ce=0;ce<I.numberOfInputs;ce+=1)for(let ue=0;ue<I.channelCount;ue+=1)copyFromChannel(_e,Y[ce],ue,ue,se);T.parameterDescriptors!==void 0&&T.parameterDescriptors.forEach(({name:ce},ue)=>{copyFromChannel(_e,ne,ce,j+ue,se)});for(let ce=0;ce<I.numberOfInputs;ce+=1)for(let ue=0;ue<M[ce];ue+=1)q[ce][ue].byteLength===0&&(q[ce][ue]=new Float32Array(128));try{const ce=Y.map((ve,Se)=>{if(De[Se].size>0)return de.set(Se,Z/128),ve;const Be=de.get(Se);return Be===void 0?[]:(ve.every($e=>$e.every(Ke=>Ke===0))&&(Be===1?de.delete(Se):de.set(Se,Be-1)),ve)});oe=A(E.currentTime+se/E.sampleRate,E.sampleRate,()=>H.process(ce,q,ne));for(let ve=0,Se=0;ve<I.numberOfOutputs;ve+=1){for(let Ie=0;Ie<M[ve];Ie+=1)copyToChannel(Me,q[ve],Ie,Se+Ie,se);Se+=M[ve]}}catch(ce){oe=!1,U.dispatchEvent(new ErrorEvent("processorerror",{colno:ce.colno,filename:ce.filename,lineno:ce.lineno,message:ce.message}))}if(!oe){for(let ce=0;ce<I.numberOfInputs;ce+=1){D[ce].disconnect(L[ce]);for(let ue=0;ue<I.channelCount;ue+=1)L[se].disconnect(G,ue,ce*I.channelCount+ue)}if(T.parameterDescriptors!==void 0){const ce=T.parameterDescriptors.length;for(let ue=0;ue<ce;ue+=1){const ve=R[ue];ve.disconnect(G,0,j+ue),ve.stop()}}G.disconnect(B),B.onaudioprocess=null,xe?he():Ae();break}}}};let xe=!1;const Ce=g(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ge=()=>B.connect(Ce).connect(E.destination),Ae=()=>{B.disconnect(Ce),Ce.disconnect()},we=()=>{if(oe){Ae(),I.numberOfOutputs>0&&B.connect(J);for(let _e=0,Me=0;_e<I.numberOfOutputs;_e+=1){const De=K[_e];for(let se=0;se<M[_e];se+=1)J.connect(De,Me+se,se);Me+=M[_e]}}xe=!0},me=()=>{oe&&(ge(),he()),xe=!1};return ge(),x(U,we,me)},createNativeBiquadFilterNode=(f,l)=>{const u=f.createBiquadFilter();return assignNativeAudioNodeOptions(u,l),assignNativeAudioNodeAudioParamValue(u,l,"Q"),assignNativeAudioNodeAudioParamValue(u,l,"detune"),assignNativeAudioNodeAudioParamValue(u,l,"frequency"),assignNativeAudioNodeAudioParamValue(u,l,"gain"),assignNativeAudioNodeOption(u,l,"type"),u},createNativeChannelMergerNodeFactory=(f,l)=>(u,c)=>{const m=u.createChannelMerger(c.numberOfInputs);return f!==null&&f.name==="webkitAudioContext"&&l(u,m),assignNativeAudioNodeOptions(m,c),m},wrapChannelSplitterNode=f=>{const l=f.numberOfOutputs;Object.defineProperty(f,"channelCount",{get:()=>l,set:u=>{if(u!==l)throw createInvalidStateError()}}),Object.defineProperty(f,"channelCountMode",{get:()=>"explicit",set:u=>{if(u!=="explicit")throw createInvalidStateError()}}),Object.defineProperty(f,"channelInterpretation",{get:()=>"discrete",set:u=>{if(u!=="discrete")throw createInvalidStateError()}})},createNativeChannelSplitterNode=(f,l)=>{const u=f.createChannelSplitter(l.numberOfOutputs);return assignNativeAudioNodeOptions(u,l),wrapChannelSplitterNode(u),u},createNativeConstantSourceNodeFactory=(f,l,u,c,m)=>(_,g)=>{if(_.createConstantSource===void 0)return u(_,g);const b=_.createConstantSource();return assignNativeAudioNodeOptions(b,g),assignNativeAudioNodeAudioParamValue(b,g,"offset"),l(c,()=>c(_))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(b),l(m,()=>m(_))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(b),f(_,b),b},interceptConnections=(f,l)=>(f.connect=l.connect.bind(l),f.disconnect=l.disconnect.bind(l),f),createNativeConstantSourceNodeFakerFactory=(f,l,u,c)=>(m,{offset:_,...g})=>{const b=m.createBuffer(1,2,44100),y=l(m,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),S=u(m,{...g,gain:_}),A=b.getChannelData(0);A[0]=1,A[1]=1,y.buffer=b,y.loop=!0;const C={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(k){S.channelCount=k},get channelCountMode(){return S.channelCountMode},set channelCountMode(k){S.channelCountMode=k},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(k){S.channelInterpretation=k},get context(){return S.context},get inputs(){return[]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get offset(){return S.gain},get onended(){return y.onended},set onended(k){y.onended=k},addEventListener(...k){return y.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return y.dispatchEvent(k[0])},removeEventListener(...k){return y.removeEventListener(k[0],k[1],k[2])},start(k=0){y.start.call(y,k)},stop(k=0){y.stop.call(y,k)}},x=()=>y.connect(S),E=()=>y.disconnect(S);return f(m,y),c(interceptConnections(C,S),x,E)},createNativeConvolverNodeFactory=(f,l)=>(u,c)=>{const m=u.createConvolver();if(assignNativeAudioNodeOptions(m,c),c.disableNormalization===m.normalize&&(m.normalize=!c.disableNormalization),assignNativeAudioNodeOption(m,c,"buffer"),c.channelCount>2||(l(m,"channelCount",_=>()=>_.call(m),_=>g=>{if(g>2)throw f();return _.call(m,g)}),c.channelCountMode==="max"))throw f();return l(m,"channelCountMode",_=>()=>_.call(m),_=>g=>{if(g==="max")throw f();return _.call(m,g)}),m},createNativeDelayNode=(f,l)=>{const u=f.createDelay(l.maxDelayTime);return assignNativeAudioNodeOptions(u,l),assignNativeAudioNodeAudioParamValue(u,l,"delayTime"),u},createNativeDynamicsCompressorNodeFactory=f=>(l,u)=>{const c=l.createDynamicsCompressor();if(assignNativeAudioNodeOptions(c,u),u.channelCount>2||u.channelCountMode==="max")throw f();return assignNativeAudioNodeAudioParamValue(c,u,"attack"),assignNativeAudioNodeAudioParamValue(c,u,"knee"),assignNativeAudioNodeAudioParamValue(c,u,"ratio"),assignNativeAudioNodeAudioParamValue(c,u,"release"),assignNativeAudioNodeAudioParamValue(c,u,"threshold"),c},createNativeGainNode=(f,l)=>{const u=f.createGain();return assignNativeAudioNodeOptions(u,l),assignNativeAudioNodeAudioParamValue(u,l,"gain"),u},createNativeIIRFilterNodeFactory=f=>(l,u,c)=>{if(l.createIIRFilter===void 0)return f(l,u,c);const m=l.createIIRFilter(c.feedforward,c.feedback);return assignNativeAudioNodeOptions(m,c),m};function divide(f,l){const u=l[0]*l[0]+l[1]*l[1];return[(f[0]*l[0]+f[1]*l[1])/u,(f[1]*l[0]-f[0]*l[1])/u]}function multiply(f,l){return[f[0]*l[0]-f[1]*l[1],f[0]*l[1]+f[1]*l[0]]}function evaluatePolynomial(f,l){let u=[0,0];for(let c=f.length-1;c>=0;c-=1)u=multiply(u,l),u[0]+=f[c];return u}const createNativeIIRFilterNodeFakerFactory=(f,l,u,c)=>(m,_,{channelCount:g,channelCountMode:b,channelInterpretation:y,feedback:S,feedforward:A})=>{const C=computeBufferSize(_,m.sampleRate),x=S instanceof Float64Array?S:new Float64Array(S),E=A instanceof Float64Array?A:new Float64Array(A),k=x.length,T=E.length,I=Math.min(k,T);if(k===0||k>20)throw c();if(x[0]===0)throw l();if(T===0||T>20)throw c();if(E[0]===0)throw l();if(x[0]!==1){for(let R=0;R<T;R+=1)E[R]/=x[0];for(let R=1;R<k;R+=1)x[R]/=x[0]}const M=u(m,C,g,g);M.channelCount=g,M.channelCountMode=b,M.channelInterpretation=y;const j=32,P=[],O=[],N=[];for(let R=0;R<g;R+=1){P.push(0);const G=new Float32Array(j),Z=new Float32Array(j);G.fill(0),Z.fill(0),O.push(G),N.push(Z)}M.onaudioprocess=R=>{const G=R.inputBuffer,Z=R.outputBuffer,B=G.numberOfChannels;for(let J=0;J<B;J+=1){const K=G.getChannelData(J),ee=Z.getChannelData(J);P[J]=filterBuffer(x,k,E,T,I,O[J],N[J],P[J],j,K,ee)}};const D=m.sampleRate/2;return interceptConnections({get bufferSize(){return C},get channelCount(){return M.channelCount},set channelCount(R){M.channelCount=R},get channelCountMode(){return M.channelCountMode},set channelCountMode(R){M.channelCountMode=R},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(R){M.channelInterpretation=R},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},addEventListener(...R){return M.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return M.dispatchEvent(R[0])},getFrequencyResponse(R,G,Z){if(R.length!==G.length||G.length!==Z.length)throw f();const B=R.length;for(let J=0;J<B;J+=1){const K=-Math.PI*(R[J]/D),ee=[Math.cos(K),Math.sin(K)],V=evaluatePolynomial(E,ee),z=evaluatePolynomial(x,ee),X=divide(V,z);G[J]=Math.sqrt(X[0]*X[0]+X[1]*X[1]),Z[J]=Math.atan2(X[1],X[0])}},removeEventListener(...R){return M.removeEventListener(R[0],R[1],R[2])}},M)},createNativeMediaElementAudioSourceNode=(f,l)=>f.createMediaElementSource(l.mediaElement),createNativeMediaStreamAudioDestinationNode=(f,l)=>{const u=f.createMediaStreamDestination();return assignNativeAudioNodeOptions(u,l),u.numberOfOutputs===1&&Object.defineProperty(u,"numberOfOutputs",{get:()=>0}),u},createNativeMediaStreamAudioSourceNode=(f,{mediaStream:l})=>{const u=l.getAudioTracks();u.sort((_,g)=>_.id<g.id?-1:_.id>g.id?1:0);const c=u.slice(0,1),m=f.createMediaStreamSource(new MediaStream(c));return Object.defineProperty(m,"mediaStream",{value:l}),m},createNativeMediaStreamTrackAudioSourceNodeFactory=(f,l)=>(u,{mediaStreamTrack:c})=>{if(typeof u.createMediaStreamTrackSource=="function")return u.createMediaStreamTrackSource(c);const m=new MediaStream([c]),_=u.createMediaStreamSource(m);if(c.kind!=="audio")throw f();if(l(u))throw new TypeError;return _},createNativeOfflineAudioContextConstructor=f=>f===null?null:f.hasOwnProperty("OfflineAudioContext")?f.OfflineAudioContext:f.hasOwnProperty("webkitOfflineAudioContext")?f.webkitOfflineAudioContext:null,createNativeOscillatorNodeFactory=(f,l,u,c,m,_)=>(g,b)=>{const y=g.createOscillator();return assignNativeAudioNodeOptions(y,b),assignNativeAudioNodeAudioParamValue(y,b,"detune"),assignNativeAudioNodeAudioParamValue(y,b,"frequency"),b.periodicWave!==void 0?y.setPeriodicWave(b.periodicWave):assignNativeAudioNodeOption(y,b,"type"),l(u,()=>u(g))||wrapAudioScheduledSourceNodeStartMethodNegativeParameters(y),l(c,()=>c(g))||_(y,g),l(m,()=>m(g))||wrapAudioScheduledSourceNodeStopMethodNegativeParameters(y),f(g,y),y},createNativePannerNodeFactory=f=>(l,u)=>{const c=l.createPanner();return c.orientationX===void 0?f(l,u):(assignNativeAudioNodeOptions(c,u),assignNativeAudioNodeAudioParamValue(c,u,"orientationX"),assignNativeAudioNodeAudioParamValue(c,u,"orientationY"),assignNativeAudioNodeAudioParamValue(c,u,"orientationZ"),assignNativeAudioNodeAudioParamValue(c,u,"positionX"),assignNativeAudioNodeAudioParamValue(c,u,"positionY"),assignNativeAudioNodeAudioParamValue(c,u,"positionZ"),assignNativeAudioNodeOption(c,u,"coneInnerAngle"),assignNativeAudioNodeOption(c,u,"coneOuterAngle"),assignNativeAudioNodeOption(c,u,"coneOuterGain"),assignNativeAudioNodeOption(c,u,"distanceModel"),assignNativeAudioNodeOption(c,u,"maxDistance"),assignNativeAudioNodeOption(c,u,"panningModel"),assignNativeAudioNodeOption(c,u,"refDistance"),assignNativeAudioNodeOption(c,u,"rolloffFactor"),c)},createNativePannerNodeFakerFactory=(f,l,u,c,m,_,g,b,y,S)=>(A,{coneInnerAngle:C,coneOuterAngle:x,coneOuterGain:E,distanceModel:k,maxDistance:T,orientationX:I,orientationY:M,orientationZ:j,panningModel:P,positionX:O,positionY:N,positionZ:D,refDistance:L,rolloffFactor:R,...G})=>{const Z=A.createPanner();if(G.channelCount>2||G.channelCountMode==="max")throw g();assignNativeAudioNodeOptions(Z,G);const B={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},J=u(A,{...B,channelInterpretation:"speakers",numberOfInputs:6}),K=c(A,{...G,gain:1}),ee=c(A,{...B,gain:1}),V=c(A,{...B,gain:0}),z=c(A,{...B,gain:0}),X=c(A,{...B,gain:0}),U=c(A,{...B,gain:0}),$=c(A,{...B,gain:0}),ae=m(A,256,6,1),H=_(A,{...B,curve:new Float32Array([1,1]),oversample:"none"});let ie=[I,M,j],Y=[O,N,D];const q=new Float32Array(1);ae.onaudioprocess=({inputBuffer:de})=>{const xe=[y(de,q,0),y(de,q,1),y(de,q,2)];xe.some((ge,Ae)=>ge!==ie[Ae])&&(Z.setOrientation(...xe),ie=xe);const Ce=[y(de,q,3),y(de,q,4),y(de,q,5)];Ce.some((ge,Ae)=>ge!==Y[Ae])&&(Z.setPosition(...Ce),Y=Ce)},Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0});const ne={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(de){if(de>2)throw g();K.channelCount=de,Z.channelCount=de},get channelCountMode(){return Z.channelCountMode},set channelCountMode(de){if(de==="max")throw g();K.channelCountMode=de,Z.channelCountMode=de},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(de){K.channelInterpretation=de,Z.channelInterpretation=de},get coneInnerAngle(){return Z.coneInnerAngle},set coneInnerAngle(de){Z.coneInnerAngle=de},get coneOuterAngle(){return Z.coneOuterAngle},set coneOuterAngle(de){Z.coneOuterAngle=de},get coneOuterGain(){return Z.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw l();Z.coneOuterGain=de},get context(){return Z.context},get distanceModel(){return Z.distanceModel},set distanceModel(de){Z.distanceModel=de},get inputs(){return[K]},get maxDistance(){return Z.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;Z.maxDistance=de},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get orientationX(){return ee.gain},get orientationY(){return V.gain},get orientationZ(){return z.gain},get panningModel(){return Z.panningModel},set panningModel(de){Z.panningModel=de},get positionX(){return X.gain},get positionY(){return U.gain},get positionZ(){return $.gain},get refDistance(){return Z.refDistance},set refDistance(de){if(de<0)throw new RangeError;Z.refDistance=de},get rolloffFactor(){return Z.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;Z.rolloffFactor=de},addEventListener(...de){return K.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return K.dispatchEvent(de[0])},removeEventListener(...de){return K.removeEventListener(de[0],de[1],de[2])}};C!==ne.coneInnerAngle&&(ne.coneInnerAngle=C),x!==ne.coneOuterAngle&&(ne.coneOuterAngle=x),E!==ne.coneOuterGain&&(ne.coneOuterGain=E),k!==ne.distanceModel&&(ne.distanceModel=k),T!==ne.maxDistance&&(ne.maxDistance=T),I!==ne.orientationX.value&&(ne.orientationX.value=I),M!==ne.orientationY.value&&(ne.orientationY.value=M),j!==ne.orientationZ.value&&(ne.orientationZ.value=j),P!==ne.panningModel&&(ne.panningModel=P),O!==ne.positionX.value&&(ne.positionX.value=O),N!==ne.positionY.value&&(ne.positionY.value=N),D!==ne.positionZ.value&&(ne.positionZ.value=D),L!==ne.refDistance&&(ne.refDistance=L),R!==ne.rolloffFactor&&(ne.rolloffFactor=R),(ie[0]!==1||ie[1]!==0||ie[2]!==0)&&Z.setOrientation(...ie),(Y[0]!==0||Y[1]!==0||Y[2]!==0)&&Z.setPosition(...Y);const oe=()=>{K.connect(Z),f(K,H,0,0),H.connect(ee).connect(J,0,0),H.connect(V).connect(J,0,1),H.connect(z).connect(J,0,2),H.connect(X).connect(J,0,3),H.connect(U).connect(J,0,4),H.connect($).connect(J,0,5),J.connect(ae).connect(A.destination)},he=()=>{K.disconnect(Z),b(K,H,0,0),H.disconnect(ee),ee.disconnect(J),H.disconnect(V),V.disconnect(J),H.disconnect(z),z.disconnect(J),H.disconnect(X),X.disconnect(J),H.disconnect(U),U.disconnect(J),H.disconnect($),$.disconnect(J),J.disconnect(ae),ae.disconnect(A.destination)};return S(interceptConnections(ne,Z),oe,he)},createNativePeriodicWaveFactory=f=>(l,{disableNormalization:u,imag:c,real:m})=>{const _=c instanceof Float32Array?c:new Float32Array(c),g=m instanceof Float32Array?m:new Float32Array(m),b=l.createPeriodicWave(g,_,{disableNormalization:u});if(Array.from(c).length<2)throw f();return b},createNativeScriptProcessorNode=(f,l,u,c)=>f.createScriptProcessor(l,u,c),createNativeStereoPannerNodeFactory=(f,l)=>(u,c)=>{const m=c.channelCountMode;if(m==="clamped-max")throw l();if(u.createStereoPanner===void 0)return f(u,c);const _=u.createStereoPanner();return assignNativeAudioNodeOptions(_,c),assignNativeAudioNodeAudioParamValue(_,c,"pan"),Object.defineProperty(_,"channelCountMode",{get:()=>m,set:g=>{if(g!==m)throw l()}}),_},createNativeStereoPannerNodeFakerFactory=(f,l,u,c,m,_)=>{const b=new Float32Array([1,1]),y=Math.PI/2,S={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A={...S,oversample:"none"},C=(k,T,I,M)=>{const j=new Float32Array(16385),P=new Float32Array(16385);for(let G=0;G<16385;G+=1){const Z=G/16384*y;j[G]=Math.cos(Z),P[G]=Math.sin(Z)}const O=u(k,{...S,gain:0}),N=c(k,{...A,curve:j}),D=c(k,{...A,curve:b}),L=u(k,{...S,gain:0}),R=c(k,{...A,curve:P});return{connectGraph(){T.connect(O),T.connect(D.inputs===void 0?D:D.inputs[0]),T.connect(L),D.connect(I),I.connect(N.inputs===void 0?N:N.inputs[0]),I.connect(R.inputs===void 0?R:R.inputs[0]),N.connect(O.gain),R.connect(L.gain),O.connect(M,0,0),L.connect(M,0,1)},disconnectGraph(){T.disconnect(O),T.disconnect(D.inputs===void 0?D:D.inputs[0]),T.disconnect(L),D.disconnect(I),I.disconnect(N.inputs===void 0?N:N.inputs[0]),I.disconnect(R.inputs===void 0?R:R.inputs[0]),N.disconnect(O.gain),R.disconnect(L.gain),O.disconnect(M,0,0),L.disconnect(M,0,1)}}},x=(k,T,I,M)=>{const j=new Float32Array(16385),P=new Float32Array(16385),O=new Float32Array(16385),N=new Float32Array(16385),D=Math.floor(16385/2);for(let X=0;X<16385;X+=1)if(X>D){const U=(X-D)/(16384-D)*y;j[X]=Math.cos(U),P[X]=Math.sin(U),O[X]=0,N[X]=1}else{const U=X/(16384-D)*y;j[X]=1,P[X]=0,O[X]=Math.cos(U),N[X]=Math.sin(U)}const L=l(k,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),R=u(k,{...S,gain:0}),G=c(k,{...A,curve:j}),Z=u(k,{...S,gain:0}),B=c(k,{...A,curve:P}),J=c(k,{...A,curve:b}),K=u(k,{...S,gain:0}),ee=c(k,{...A,curve:O}),V=u(k,{...S,gain:0}),z=c(k,{...A,curve:N});return{connectGraph(){T.connect(L),T.connect(J.inputs===void 0?J:J.inputs[0]),L.connect(R,0),L.connect(Z,0),L.connect(K,1),L.connect(V,1),J.connect(I),I.connect(G.inputs===void 0?G:G.inputs[0]),I.connect(B.inputs===void 0?B:B.inputs[0]),I.connect(ee.inputs===void 0?ee:ee.inputs[0]),I.connect(z.inputs===void 0?z:z.inputs[0]),G.connect(R.gain),B.connect(Z.gain),ee.connect(K.gain),z.connect(V.gain),R.connect(M,0,0),K.connect(M,0,0),Z.connect(M,0,1),V.connect(M,0,1)},disconnectGraph(){T.disconnect(L),T.disconnect(J.inputs===void 0?J:J.inputs[0]),L.disconnect(R,0),L.disconnect(Z,0),L.disconnect(K,1),L.disconnect(V,1),J.disconnect(I),I.disconnect(G.inputs===void 0?G:G.inputs[0]),I.disconnect(B.inputs===void 0?B:B.inputs[0]),I.disconnect(ee.inputs===void 0?ee:ee.inputs[0]),I.disconnect(z.inputs===void 0?z:z.inputs[0]),G.disconnect(R.gain),B.disconnect(Z.gain),ee.disconnect(K.gain),z.disconnect(V.gain),R.disconnect(M,0,0),K.disconnect(M,0,0),Z.disconnect(M,0,1),V.disconnect(M,0,1)}}},E=(k,T,I,M,j)=>{if(T===1)return C(k,I,M,j);if(T===2)return x(k,I,M,j);throw m()};return(k,{channelCount:T,channelCountMode:I,pan:M,...j})=>{if(I==="max")throw m();const P=f(k,{...j,channelCount:1,channelCountMode:I,numberOfInputs:2}),O=u(k,{...j,channelCount:T,channelCountMode:I,gain:1}),N=u(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:M});let{connectGraph:D,disconnectGraph:L}=E(k,T,O,N,P);Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"maxValue",{get:()=>1}),Object.defineProperty(N.gain,"minValue",{get:()=>-1});const R={get bufferSize(){},get channelCount(){return O.channelCount},set channelCount(J){O.channelCount!==J&&(G&&L(),{connectGraph:D,disconnectGraph:L}=E(k,J,O,N,P),G&&D()),O.channelCount=J},get channelCountMode(){return O.channelCountMode},set channelCountMode(J){if(J==="clamped-max"||J==="max")throw m();O.channelCountMode=J},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(J){O.channelInterpretation=J},get context(){return O.context},get inputs(){return[O]},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get pan(){return N.gain},addEventListener(...J){return O.addEventListener(J[0],J[1],J[2])},dispatchEvent(...J){return O.dispatchEvent(J[0])},removeEventListener(...J){return O.removeEventListener(J[0],J[1],J[2])}};let G=!1;const Z=()=>{D(),G=!0},B=()=>{L(),G=!1};return _(interceptConnections(R,P),Z,B)}},createNativeWaveShaperNodeFactory=(f,l,u,c,m,_,g)=>(b,y)=>{const S=b.createWaveShaper();if(_!==null&&_.name==="webkitAudioContext"&&b.createGain().gain.automationRate===void 0)return u(b,y);assignNativeAudioNodeOptions(S,y);const A=y.curve===null||y.curve instanceof Float32Array?y.curve:new Float32Array(y.curve);if(A!==null&&A.length<2)throw l();assignNativeAudioNodeOption(S,{curve:A},"curve"),assignNativeAudioNodeOption(S,y,"oversample");let C=null,x=!1;return g(S,"curve",T=>()=>T.call(S),T=>I=>(T.call(S,I),x&&(c(I)&&C===null?C=f(b,S):!c(I)&&C!==null&&(C(),C=null)),I)),m(S,()=>{x=!0,c(S.curve)&&(C=f(b,S))},()=>{x=!1,C!==null&&(C(),C=null)})},createNativeWaveShaperNodeFakerFactory=(f,l,u,c,m)=>(_,{curve:g,oversample:b,...y})=>{const S=_.createWaveShaper(),A=_.createWaveShaper();assignNativeAudioNodeOptions(S,y),assignNativeAudioNodeOptions(A,y);const C=u(_,{...y,gain:1}),x=u(_,{...y,gain:-1}),E=u(_,{...y,gain:1}),k=u(_,{...y,gain:-1});let T=null,I=!1,M=null;const j={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(N){C.channelCount=N,x.channelCount=N,S.channelCount=N,E.channelCount=N,A.channelCount=N,k.channelCount=N},get channelCountMode(){return S.channelCountMode},set channelCountMode(N){C.channelCountMode=N,x.channelCountMode=N,S.channelCountMode=N,E.channelCountMode=N,A.channelCountMode=N,k.channelCountMode=N},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(N){C.channelInterpretation=N,x.channelInterpretation=N,S.channelInterpretation=N,E.channelInterpretation=N,A.channelInterpretation=N,k.channelInterpretation=N},get context(){return S.context},get curve(){return M},set curve(N){if(N!==null&&N.length<2)throw l();if(N===null)S.curve=N,A.curve=N;else{const D=N.length,L=new Float32Array(D+2-D%2),R=new Float32Array(D+2-D%2);L[0]=N[0],R[0]=-N[D-1];const G=Math.ceil((D+1)/2),Z=(D+1)/2-1;for(let B=1;B<G;B+=1){const J=B/G*Z,K=Math.floor(J),ee=Math.ceil(J);L[B]=K===ee?N[K]:(1-(J-K))*N[K]+(1-(ee-J))*N[ee],R[B]=K===ee?-N[D-1-K]:-((1-(J-K))*N[D-1-K])-(1-(ee-J))*N[D-1-ee]}L[G]=D%2===1?N[G-1]:(N[G-2]+N[G-1])/2,S.curve=L,A.curve=R}M=N,I&&(c(M)&&T===null?T=f(_,C):T!==null&&(T(),T=null))},get inputs(){return[C]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get oversample(){return S.oversample},set oversample(N){S.oversample=N,A.oversample=N},addEventListener(...N){return C.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return C.dispatchEvent(N[0])},removeEventListener(...N){return C.removeEventListener(N[0],N[1],N[2])}};g!==null&&(j.curve=g instanceof Float32Array?g:new Float32Array(g)),b!==j.oversample&&(j.oversample=b);const P=()=>{C.connect(S).connect(E),C.connect(x).connect(A).connect(k).connect(E),I=!0,c(M)&&(T=f(_,C))},O=()=>{C.disconnect(S),S.disconnect(E),C.disconnect(x),x.disconnect(A),A.disconnect(k),k.disconnect(E),I=!1,T!==null&&(T(),T=null)};return m(interceptConnections(j,E),P,O)},createNotSupportedError=()=>new DOMException("","NotSupportedError"),DEFAULT_OPTIONS$5={numberOfChannels:1},createOfflineAudioContextConstructor=(f,l,u,c,m)=>class extends f{constructor(g,b,y){let S;if(typeof g=="number"&&b!==void 0&&y!==void 0)S={length:b,numberOfChannels:g,sampleRate:y};else if(typeof g=="object")S=g;else throw new Error("The given parameters are not valid.");const{length:A,numberOfChannels:C,sampleRate:x}={...DEFAULT_OPTIONS$5,...S},E=c(C,A,x);l(testPromiseSupport,()=>testPromiseSupport(E))||E.addEventListener("statechange",(()=>{let k=0;const T=I=>{this._state==="running"&&(k>0?(E.removeEventListener("statechange",T),I.stopImmediatePropagation(),this._waitForThePromiseToSettle(I)):k+=1)};return T})()),super(E,C),this._length=A,this._nativeOfflineAudioContext=E,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(u()):(this._state="running",m(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,deactivateAudioGraph(this)}))}_waitForThePromiseToSettle(g){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(g):setTimeout(()=>this._waitForThePromiseToSettle(g))}},DEFAULT_OPTIONS$4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},createOscillatorNodeConstructor=(f,l,u,c,m,_,g)=>class extends f{constructor(y,S){const A=m(y),C={...DEFAULT_OPTIONS$4,...S},x=u(A,C),E=_(A),k=E?c():null,T=y.sampleRate/2;super(y,!1,x,k),this._detune=l(this,E,x.detune,153600,-153600),this._frequency=l(this,E,x.frequency,T,-T),this._nativeOscillatorNode=x,this._onended=null,this._oscillatorNodeRenderer=k,this._oscillatorNodeRenderer!==null&&C.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=C.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(y){const S=typeof y=="function"?g(this,y):null;this._nativeOscillatorNode.onended=S;const A=this._nativeOscillatorNode.onended;this._onended=A!==null&&A===S?y:A}get type(){return this._nativeOscillatorNode.type}set type(y){this._nativeOscillatorNode.type=y,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(y){this._nativeOscillatorNode.setPeriodicWave(y),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=y)}start(y=0){if(this._nativeOscillatorNode.start(y),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=y),this.context.state!=="closed"){setInternalStateToActive(this);const S=()=>{this._nativeOscillatorNode.removeEventListener("ended",S),isActiveAudioNode(this)&&setInternalStateToPassive(this)};this._nativeOscillatorNode.addEventListener("ended",S)}}stop(y=0){this._nativeOscillatorNode.stop(y),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=y)}},createOscillatorNodeRendererFactory=(f,l,u,c,m)=>()=>{const _=new WeakMap;let g=null,b=null,y=null;const S=async(A,C)=>{let x=u(A);const E=isOwnedByContext(x,C);if(!E){const k={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,detune:x.detune.value,frequency:x.frequency.value,periodicWave:g===null?void 0:g,type:x.type};x=l(C,k),b!==null&&x.start(b),y!==null&&x.stop(y)}return _.set(C,x),E?(await f(C,A.detune,x.detune),await f(C,A.frequency,x.frequency)):(await c(C,A.detune,x.detune),await c(C,A.frequency,x.frequency)),await m(A,C,x),x};return{set periodicWave(A){g=A},set start(A){b=A},set stop(A){y=A},render(A,C){const x=_.get(C);return x!==void 0?Promise.resolve(x):S(A,C)}}},DEFAULT_OPTIONS$3={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},createPannerNodeConstructor=(f,l,u,c,m,_,g)=>class extends f{constructor(y,S){const A=m(y),C={...DEFAULT_OPTIONS$3,...S},x=u(A,C),E=_(A),k=E?c():null;super(y,!1,x,k),this._nativePannerNode=x,this._orientationX=l(this,E,x.orientationX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationY=l(this,E,x.orientationY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._orientationZ=l(this,E,x.orientationZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionX=l(this,E,x.positionX,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionY=l(this,E,x.positionY,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),this._positionZ=l(this,E,x.positionZ,MOST_POSITIVE_SINGLE_FLOAT,MOST_NEGATIVE_SINGLE_FLOAT),g(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(y){this._nativePannerNode.coneInnerAngle=y}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(y){this._nativePannerNode.coneOuterAngle=y}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(y){this._nativePannerNode.coneOuterGain=y}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(y){this._nativePannerNode.distanceModel=y}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(y){this._nativePannerNode.maxDistance=y}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(y){this._nativePannerNode.panningModel=y}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(y){this._nativePannerNode.refDistance=y}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(y){this._nativePannerNode.rolloffFactor=y}},createPannerNodeRendererFactory=(f,l,u,c,m,_,g,b,y,S)=>()=>{const A=new WeakMap;let C=null;const x=async(E,k)=>{let T=null,I=_(E);const M={channelCount:I.channelCount,channelCountMode:I.channelCountMode,channelInterpretation:I.channelInterpretation},j={...M,coneInnerAngle:I.coneInnerAngle,coneOuterAngle:I.coneOuterAngle,coneOuterGain:I.coneOuterGain,distanceModel:I.distanceModel,maxDistance:I.maxDistance,panningModel:I.panningModel,refDistance:I.refDistance,rolloffFactor:I.rolloffFactor},P=isOwnedByContext(I,k);if("bufferSize"in I)T=c(k,{...M,gain:1});else if(!P){const O={...j,orientationX:I.orientationX.value,orientationY:I.orientationY.value,orientationZ:I.orientationZ.value,positionX:I.positionX.value,positionY:I.positionY.value,positionZ:I.positionZ.value};I=m(k,O)}if(A.set(k,T===null?I:T),T!==null){if(C===null){if(g===null)throw new Error("Missing the native OfflineAudioContext constructor.");const B=new g(6,E.context.length,k.sampleRate),J=l(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});J.connect(B.destination),C=(async()=>{const K=await Promise.all([E.orientationX,E.orientationY,E.orientationZ,E.positionX,E.positionY,E.positionZ].map(async(ee,V)=>{const z=u(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V===0?1:0});return await b(B,ee,z.offset),z}));for(let ee=0;ee<6;ee+=1)K[ee].connect(J,0,ee),K[ee].start(0);return S(B)})()}const O=await C,N=c(k,{...M,gain:1});await y(E,k,N);const D=[];for(let B=0;B<O.numberOfChannels;B+=1)D.push(O.getChannelData(B));let L=[D[0][0],D[1][0],D[2][0]],R=[D[3][0],D[4][0],D[5][0]],G=c(k,{...M,gain:1}),Z=m(k,{...j,orientationX:L[0],orientationY:L[1],orientationZ:L[2],positionX:R[0],positionY:R[1],positionZ:R[2]});N.connect(G).connect(Z.inputs[0]),Z.connect(T);for(let B=128;B<O.length;B+=128){const J=[D[0][B],D[1][B],D[2][B]],K=[D[3][B],D[4][B],D[5][B]];if(J.some((ee,V)=>ee!==L[V])||K.some((ee,V)=>ee!==R[V])){L=J,R=K;const ee=B/k.sampleRate;G.gain.setValueAtTime(0,ee),G=c(k,{...M,gain:0}),Z=m(k,{...j,orientationX:L[0],orientationY:L[1],orientationZ:L[2],positionX:R[0],positionY:R[1],positionZ:R[2]}),G.gain.setValueAtTime(1,ee),N.connect(G).connect(Z.inputs[0]),Z.connect(T)}}return T}return P?(await f(k,E.orientationX,I.orientationX),await f(k,E.orientationY,I.orientationY),await f(k,E.orientationZ,I.orientationZ),await f(k,E.positionX,I.positionX),await f(k,E.positionY,I.positionY),await f(k,E.positionZ,I.positionZ)):(await b(k,E.orientationX,I.orientationX),await b(k,E.orientationY,I.orientationY),await b(k,E.orientationZ,I.orientationZ),await b(k,E.positionX,I.positionX),await b(k,E.positionY,I.positionY),await b(k,E.positionZ,I.positionZ)),isNativeAudioNodeFaker(I)?await y(E,k,I.inputs[0]):await y(E,k,I),I};return{render(E,k){const T=A.get(k);return T!==void 0?Promise.resolve(T):x(E,k)}}},DEFAULT_OPTIONS$2={disableNormalization:!1},createPeriodicWaveConstructor=(f,l,u,c)=>class In{constructor(_,g){const b=l(_),y=c({...DEFAULT_OPTIONS$2,...g}),S=f(b,y);return u.add(S),S}static[Symbol.hasInstance](_){return _!==null&&typeof _=="object"&&Object.getPrototypeOf(_)===In.prototype||u.has(_)}},createRenderAutomation=(f,l)=>(u,c,m)=>(f(c).replay(m),l(c,u,m)),createRenderInputsOfAudioNode=(f,l,u)=>async(c,m,_)=>{const g=f(c);await Promise.all(g.activeInputs.map((b,y)=>Array.from(b).map(async([S,A])=>{const x=await l(S).render(S,m),E=c.context.destination;!u(S)&&(c!==E||!u(c))&&x.connect(_,A,y)})).reduce((b,y)=>[...b,...y],[]))},createRenderInputsOfAudioParam=(f,l,u)=>async(c,m,_)=>{const g=l(c);await Promise.all(Array.from(g.activeInputs).map(async([b,y])=>{const A=await f(b).render(b,m);u(b)||A.connect(_,y)}))},createRenderNativeOfflineAudioContext=(f,l,u,c)=>m=>f(testPromiseSupport,()=>testPromiseSupport(m))?Promise.resolve(f(c,c)).then(_=>{if(!_){const g=u(m,512,0,1);m.oncomplete=()=>{g.onaudioprocess=null,g.disconnect()},g.onaudioprocess=()=>m.currentTime,g.connect(m.destination)}return m.startRendering()}):new Promise(_=>{const g=l(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});m.oncomplete=b=>{g.disconnect(),_(b.renderedBuffer)},g.connect(m.destination),m.startRendering()}),createSetActiveAudioWorkletNodeInputs=f=>(l,u)=>{f.set(l,u)},createSetAudioNodeTailTime=f=>(l,u)=>f.set(l,u),createStartRendering=(f,l,u,c,m,_,g,b)=>(y,S)=>u(y).render(y,S).then(()=>Promise.all(Array.from(c(S)).map(A=>u(A).render(A,S)))).then(()=>m(S)).then(A=>(typeof A.copyFromChannel!="function"?(g(A),wrapAudioBufferGetChannelDataMethod(A)):l(_,()=>_(A))||b(A),f.add(A),A)),DEFAULT_OPTIONS$1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},createStereoPannerNodeConstructor=(f,l,u,c,m,_)=>class extends f{constructor(b,y){const S=m(b),A={...DEFAULT_OPTIONS$1,...y},C=u(S,A),x=_(S),E=x?c():null;super(b,!1,C,E),this._pan=l(this,x,C.pan)}get pan(){return this._pan}},createStereoPannerNodeRendererFactory=(f,l,u,c,m)=>()=>{const _=new WeakMap,g=async(b,y)=>{let S=u(b);const A=isOwnedByContext(S,y);if(!A){const C={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,pan:S.pan.value};S=l(y,C)}return _.set(y,S),A?await f(y,b.pan,S.pan):await c(y,b.pan,S.pan),isNativeAudioNodeFaker(S)?await m(b,y,S.inputs[0]):await m(b,y,S),S};return{render(b,y){const S=_.get(y);return S!==void 0?Promise.resolve(S):g(b,y)}}},createTestAudioBufferConstructorSupport=f=>()=>{if(f===null)return!1;try{new f({length:1,sampleRate:44100})}catch{return!1}return!0},createTestAudioWorkletProcessorPostMessageSupport=(f,l)=>async()=>{if(f===null)return!0;if(l===null)return!1;const u=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),c=new l(1,128,44100),m=URL.createObjectURL(u);let _=!1,g=!1;try{await c.audioWorklet.addModule(m);const b=new f(c,"a",{numberOfOutputs:0}),y=c.createOscillator();b.port.onmessage=()=>_=!0,b.onprocessorerror=()=>g=!0,y.connect(b),y.start(0),await c.startRendering(),await new Promise(S=>setTimeout(S))}catch{}finally{URL.revokeObjectURL(m)}return _&&!g},createTestOfflineAudioContextCurrentTimeSupport=(f,l)=>()=>{if(l===null)return Promise.resolve(!1);const u=new l(1,1,44100),c=f(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(m=>{u.oncomplete=()=>{c.disconnect(),m(u.currentTime!==0)},u.startRendering()})},createUnknownError=()=>new DOMException("","UnknownError"),DEFAULT_OPTIONS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},createWaveShaperNodeConstructor=(f,l,u,c,m,_,g)=>class extends f{constructor(y,S){const A=m(y),C={...DEFAULT_OPTIONS,...S},x=u(A,C),k=_(A)?c():null;super(y,!0,x,k),this._isCurveNullified=!1,this._nativeWaveShaperNode=x,g(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(y){if(y===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(y.length<2)throw l();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=y}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(y){this._nativeWaveShaperNode.oversample=y}},createWaveShaperNodeRendererFactory=(f,l,u)=>()=>{const c=new WeakMap,m=async(_,g)=>{let b=l(_);if(!isOwnedByContext(b,g)){const S={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,curve:b.curve,oversample:b.oversample};b=f(g,S)}return c.set(g,b),isNativeAudioNodeFaker(b)?await u(_,g,b.inputs[0]):await u(_,g,b),b};return{render(_,g){const b=c.get(g);return b!==void 0?Promise.resolve(b):m(_,g)}}},createWindow=()=>typeof window>"u"?null:window,createWrapAudioBufferCopyChannelMethods=(f,l)=>u=>{u.copyFromChannel=(c,m,_=0)=>{const g=f(_),b=f(m);if(b>=u.numberOfChannels)throw l();const y=u.length,S=u.getChannelData(b),A=c.length;for(let C=g<0?-g:0;C+g<y&&C<A;C+=1)c[C]=S[C+g]},u.copyToChannel=(c,m,_=0)=>{const g=f(_),b=f(m);if(b>=u.numberOfChannels)throw l();const y=u.length,S=u.getChannelData(b),A=c.length;for(let C=g<0?-g:0;C+g<y&&C<A;C+=1)S[C+g]=c[C]}},createWrapAudioBufferCopyChannelMethodsOutOfBounds=f=>l=>{l.copyFromChannel=(u=>(c,m,_=0)=>{const g=f(_),b=f(m);if(g<l.length)return u.call(l,c,b,g)})(l.copyFromChannel),l.copyToChannel=(u=>(c,m,_=0)=>{const g=f(_),b=f(m);if(g<l.length)return u.call(l,c,b,g)})(l.copyToChannel)},createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer=f=>(l,u)=>{const c=u.createBuffer(1,1,44100);l.buffer===null&&(l.buffer=c),f(l,"buffer",m=>()=>{const _=m.call(l);return _===c?null:_},m=>_=>m.call(l,_===null?c:_))},createWrapChannelMergerNode=(f,l)=>(u,c)=>{c.channelCount=1,c.channelCountMode="explicit",Object.defineProperty(c,"channelCount",{get:()=>1,set:()=>{throw f()}}),Object.defineProperty(c,"channelCountMode",{get:()=>"explicit",set:()=>{throw f()}});const m=u.createBufferSource();l(c,()=>{const b=c.numberOfInputs;for(let y=0;y<b;y+=1)m.connect(c,0,y)},()=>m.disconnect(c))},getFirstSample=(f,l,u)=>f.copyFromChannel===void 0?f.getChannelData(u)[0]:(f.copyFromChannel(l,u),l[0]),isDCCurve=f=>{if(f===null)return!1;const l=f.length;return l%2!==0?f[Math.floor(l/2)]!==0:f[l/2-1]+f[l/2]!==0},overwriteAccessors=(f,l,u,c)=>{let m=f;for(;!m.hasOwnProperty(l);)m=Object.getPrototypeOf(m);const{get:_,set:g}=Object.getOwnPropertyDescriptor(m,l);Object.defineProperty(f,l,{get:u(_),set:c(g)})},sanitizeAudioWorkletNodeOptions=f=>({...f,outputChannelCount:f.outputChannelCount!==void 0?f.outputChannelCount:f.numberOfInputs===1&&f.numberOfOutputs===1?[f.channelCount]:Array.from({length:f.numberOfOutputs},()=>1)}),sanitizeChannelSplitterOptions=f=>({...f,channelCount:f.numberOfOutputs}),sanitizePeriodicWaveOptions=f=>{const{imag:l,real:u}=f;return l===void 0?u===void 0?{...f,imag:[0,0],real:[0,0]}:{...f,imag:Array.from(u,()=>0),real:u}:u===void 0?{...f,imag:l,real:Array.from(l,()=>0)}:{...f,imag:l,real:u}},setValueAtTimeUntilPossible=(f,l,u)=>{try{f.setValueAtTime(l,u)}catch(c){if(c.code!==9)throw c;setValueAtTimeUntilPossible(f,l,u+1e-7)}},testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport=f=>{const l=f.createBufferSource();l.start();try{l.start()}catch{return!0}return!1},testAudioBufferSourceNodeStartMethodOffsetClampingSupport=f=>{const l=f.createBufferSource(),u=f.createBuffer(1,1,44100);l.buffer=u;try{l.start(0,1)}catch{return!1}return!0},testAudioBufferSourceNodeStopMethodNullifiedBufferSupport=f=>{const l=f.createBufferSource();l.start();try{l.stop()}catch{return!1}return!0},testAudioScheduledSourceNodeStartMethodNegativeParametersSupport=f=>{const l=f.createOscillator();try{l.start(-1)}catch(u){return u instanceof RangeError}return!1},testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport=f=>{const l=f.createBuffer(1,1,44100),u=f.createBufferSource();u.buffer=l,u.start(),u.stop();try{return u.stop(),!0}catch{return!1}},testAudioScheduledSourceNodeStopMethodNegativeParametersSupport=f=>{const l=f.createOscillator();try{l.stop(-1)}catch(u){return u instanceof RangeError}return!1},testAudioWorkletNodeOptionsClonability=f=>{const{port1:l,port2:u}=new MessageChannel;try{l.postMessage(f)}finally{l.close(),u.close()}},wrapAudioBufferSourceNodeStartMethodOffsetClamping=f=>{f.start=(l=>(u=0,c=0,m)=>{const _=f.buffer,g=_===null?c:Math.min(_.duration,c);_!==null&&g>_.duration-.5/f.context.sampleRate?l.call(f,u,0,0):l.call(f,u,g,m)})(f.start)},wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls=(f,l)=>{const u=l.createGain();f.connect(u);const c=(m=>()=>{m.call(f,u),f.removeEventListener("ended",c)})(f.disconnect);f.addEventListener("ended",c),interceptConnections(f,u),f.stop=(m=>{let _=!1;return(g=0)=>{if(_)try{m.call(f,g)}catch{u.gain.setValueAtTime(0,g)}else m.call(f,g),_=!0}})(f.stop)},wrapEventListener=(f,l)=>u=>{const c={value:f};return Object.defineProperties(u,{currentTarget:c,target:c}),typeof l=="function"?l.call(f,u):l.handleEvent.call(f,u)},addActiveInputConnectionToAudioNode=createAddActiveInputConnectionToAudioNode(insertElementInSet),addPassiveInputConnectionToAudioNode=createAddPassiveInputConnectionToAudioNode(insertElementInSet),deleteActiveInputConnectionToAudioNode=createDeleteActiveInputConnectionToAudioNode(pickElementFromSet),audioNodeTailTimeStore=new WeakMap,getAudioNodeTailTime=createGetAudioNodeTailTime(audioNodeTailTimeStore),cacheTestResult=createCacheTestResult(new Map,new WeakMap),window$1=createWindow(),createNativeAnalyserNode=createNativeAnalyserNodeFactory(cacheTestResult,createIndexSizeError),getAudioNodeRenderer=createGetAudioNodeRenderer(getAudioNodeConnections),renderInputsOfAudioNode=createRenderInputsOfAudioNode(getAudioNodeConnections,getAudioNodeRenderer,isPartOfACycle),createAnalyserNodeRenderer=createAnalyserNodeRendererFactory(createNativeAnalyserNode,getNativeAudioNode,renderInputsOfAudioNode),getNativeContext=createGetNativeContext(CONTEXT_STORE),nativeOfflineAudioContextConstructor=createNativeOfflineAudioContextConstructor(window$1),isNativeOfflineAudioContext=createIsNativeOfflineAudioContext(nativeOfflineAudioContextConstructor),audioParamAudioNodeStore=new WeakMap,eventTargetConstructor=createEventTargetConstructor(wrapEventListener),nativeAudioContextConstructor=createNativeAudioContextConstructor(window$1),isNativeAudioContext=createIsNativeAudioContext(nativeAudioContextConstructor),isNativeAudioNode=createIsNativeAudioNode(window$1),isNativeAudioParam=createIsNativeAudioParam(window$1),nativeAudioWorkletNodeConstructor=createNativeAudioWorkletNodeConstructor(window$1),audioNodeConstructor=createAudioNodeConstructor(createAddAudioNodeConnections(AUDIO_NODE_CONNECTIONS_STORE),createAddConnectionToAudioNode(addActiveInputConnectionToAudioNode,addPassiveInputConnectionToAudioNode,connectNativeAudioNodeToNativeAudioNode,deleteActiveInputConnectionToAudioNode,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getAudioNodeTailTime,getEventListenersOfAudioNode,getNativeAudioNode,insertElementInSet,isActiveAudioNode,isPartOfACycle,isPassiveAudioNode),cacheTestResult,createIncrementCycleCounterFactory(CYCLE_COUNTERS,disconnectNativeAudioNodeFromNativeAudioNode,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,isActiveAudioNode),createIndexSizeError,createInvalidAccessError,createNotSupportedError,createDecrementCycleCounter(connectNativeAudioNodeToNativeAudioNode,CYCLE_COUNTERS,getAudioNodeConnections,getNativeAudioNode,getNativeAudioParam,getNativeContext,isActiveAudioNode,isNativeOfflineAudioContext),createDetectCycles(audioParamAudioNodeStore,getAudioNodeConnections,getValueForKey),eventTargetConstructor,getNativeContext,isNativeAudioContext,isNativeAudioNode,isNativeAudioParam,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor),analyserNodeConstructor=createAnalyserNodeConstructor(audioNodeConstructor,createAnalyserNodeRenderer,createIndexSizeError,createNativeAnalyserNode,getNativeContext,isNativeOfflineAudioContext),audioBufferStore=new WeakSet,nativeAudioBufferConstructor=createNativeAudioBufferConstructor(window$1),convertNumberToUnsignedLong=createConvertNumberToUnsignedLong(new Uint32Array(1)),wrapAudioBufferCopyChannelMethods=createWrapAudioBufferCopyChannelMethods(convertNumberToUnsignedLong,createIndexSizeError),wrapAudioBufferCopyChannelMethodsOutOfBounds=createWrapAudioBufferCopyChannelMethodsOutOfBounds(convertNumberToUnsignedLong),audioBufferConstructor=createAudioBufferConstructor(audioBufferStore,cacheTestResult,createNotSupportedError,nativeAudioBufferConstructor,nativeOfflineAudioContextConstructor,createTestAudioBufferConstructorSupport(nativeAudioBufferConstructor),wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),addSilentConnection=createAddSilentConnection(createNativeGainNode),renderInputsOfAudioParam=createRenderInputsOfAudioParam(getAudioNodeRenderer,getAudioParamConnections,isPartOfACycle),connectAudioParam=createConnectAudioParam(renderInputsOfAudioParam),createNativeAudioBufferSourceNode=createNativeAudioBufferSourceNodeFactory(addSilentConnection,cacheTestResult,testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport,testAudioBufferSourceNodeStartMethodOffsetClampingSupport,testAudioBufferSourceNodeStopMethodNullifiedBufferSupport,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioBufferSourceNodeStartMethodOffsetClamping,createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer(overwriteAccessors),wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),renderAutomation=createRenderAutomation(createGetAudioParamRenderer(getAudioParamConnections),renderInputsOfAudioParam),createAudioBufferSourceNodeRenderer=createAudioBufferSourceNodeRendererFactory(connectAudioParam,createNativeAudioBufferSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),createAudioParam=createAudioParamFactory(createAddAudioParamConnections(AUDIO_PARAM_CONNECTIONS_STORE),audioParamAudioNodeStore,AUDIO_PARAM_STORE,createAudioParamRenderer,createCancelAndHoldAutomationEvent,createCancelScheduledValuesAutomationEvent,createExponentialRampToValueAutomationEvent,createLinearRampToValueAutomationEvent,createSetTargetAutomationEvent,createSetValueAutomationEvent,createSetValueCurveAutomationEvent,nativeAudioContextConstructor,setValueAtTimeUntilPossible),audioBufferSourceNodeConstructor=createAudioBufferSourceNodeConstructor(audioNodeConstructor,createAudioBufferSourceNodeRenderer,createAudioParam,createInvalidStateError,createNativeAudioBufferSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),audioDestinationNodeConstructor=createAudioDestinationNodeConstructor(audioNodeConstructor,createAudioDestinationNodeRenderer,createIndexSizeError,createInvalidStateError,createNativeAudioDestinationNodeFactory(createNativeGainNode,overwriteAccessors),getNativeContext,isNativeOfflineAudioContext,renderInputsOfAudioNode),createBiquadFilterNodeRenderer=createBiquadFilterNodeRendererFactory(connectAudioParam,createNativeBiquadFilterNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),setAudioNodeTailTime=createSetAudioNodeTailTime(audioNodeTailTimeStore),biquadFilterNodeConstructor=createBiquadFilterNodeConstructor(audioNodeConstructor,createAudioParam,createBiquadFilterNodeRenderer,createInvalidAccessError,createNativeBiquadFilterNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),monitorConnections=createMonitorConnections(insertElementInSet,isNativeAudioNode),wrapChannelMergerNode=createWrapChannelMergerNode(createInvalidStateError,monitorConnections),createNativeChannelMergerNode=createNativeChannelMergerNodeFactory(nativeAudioContextConstructor,wrapChannelMergerNode),createChannelMergerNodeRenderer=createChannelMergerNodeRendererFactory(createNativeChannelMergerNode,getNativeAudioNode,renderInputsOfAudioNode),channelMergerNodeConstructor=createChannelMergerNodeConstructor(audioNodeConstructor,createChannelMergerNodeRenderer,createNativeChannelMergerNode,getNativeContext,isNativeOfflineAudioContext),createChannelSplitterNodeRenderer=createChannelSplitterNodeRendererFactory(createNativeChannelSplitterNode,getNativeAudioNode,renderInputsOfAudioNode),channelSplitterNodeConstructor=createChannelSplitterNodeConstructor(audioNodeConstructor,createChannelSplitterNodeRenderer,createNativeChannelSplitterNode,getNativeContext,isNativeOfflineAudioContext,sanitizeChannelSplitterOptions),createNativeConstantSourceNodeFaker=createNativeConstantSourceNodeFakerFactory(addSilentConnection,createNativeAudioBufferSourceNode,createNativeGainNode,monitorConnections),createNativeConstantSourceNode=createNativeConstantSourceNodeFactory(addSilentConnection,cacheTestResult,createNativeConstantSourceNodeFaker,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport),createConstantSourceNodeRenderer=createConstantSourceNodeRendererFactory(connectAudioParam,createNativeConstantSourceNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),constantSourceNodeConstructor=createConstantSourceNodeConstructor(audioNodeConstructor,createAudioParam,createConstantSourceNodeRenderer,createNativeConstantSourceNode,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createNativeConvolverNode=createNativeConvolverNodeFactory(createNotSupportedError,overwriteAccessors),createConvolverNodeRenderer=createConvolverNodeRendererFactory(createNativeConvolverNode,getNativeAudioNode,renderInputsOfAudioNode),convolverNodeConstructor=createConvolverNodeConstructor(audioNodeConstructor,createConvolverNodeRenderer,createNativeConvolverNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createDelayNodeRenderer=createDelayNodeRendererFactory(connectAudioParam,createNativeDelayNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),delayNodeConstructor=createDelayNodeConstructor(audioNodeConstructor,createAudioParam,createDelayNodeRenderer,createNativeDelayNode,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativeDynamicsCompressorNode=createNativeDynamicsCompressorNodeFactory(createNotSupportedError),createDynamicsCompressorNodeRenderer=createDynamicsCompressorNodeRendererFactory(connectAudioParam,createNativeDynamicsCompressorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),dynamicsCompressorNodeConstructor=createDynamicsCompressorNodeConstructor(audioNodeConstructor,createAudioParam,createDynamicsCompressorNodeRenderer,createNativeDynamicsCompressorNode,createNotSupportedError,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createGainNodeRenderer=createGainNodeRendererFactory(connectAudioParam,createNativeGainNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),gainNodeConstructor=createGainNodeConstructor(audioNodeConstructor,createAudioParam,createGainNodeRenderer,createNativeGainNode,getNativeContext,isNativeOfflineAudioContext),createNativeIIRFilterNodeFaker=createNativeIIRFilterNodeFakerFactory(createInvalidAccessError,createInvalidStateError,createNativeScriptProcessorNode,createNotSupportedError),renderNativeOfflineAudioContext=createRenderNativeOfflineAudioContext(cacheTestResult,createNativeGainNode,createNativeScriptProcessorNode,createTestOfflineAudioContextCurrentTimeSupport(createNativeGainNode,nativeOfflineAudioContextConstructor)),createIIRFilterNodeRenderer=createIIRFilterNodeRendererFactory(createNativeAudioBufferSourceNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderInputsOfAudioNode,renderNativeOfflineAudioContext),createNativeIIRFilterNode=createNativeIIRFilterNodeFactory(createNativeIIRFilterNodeFaker),iIRFilterNodeConstructor=createIIRFilterNodeConstructor(audioNodeConstructor,createNativeIIRFilterNode,createIIRFilterNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createAudioListener=createAudioListenerFactory(createAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeScriptProcessorNode,createNotSupportedError,getFirstSample,isNativeOfflineAudioContext,overwriteAccessors),unrenderedAudioWorkletNodeStore=new WeakMap,minimalBaseAudioContextConstructor=createMinimalBaseAudioContextConstructor(audioDestinationNodeConstructor,createAudioListener,eventTargetConstructor,isNativeOfflineAudioContext,unrenderedAudioWorkletNodeStore,wrapEventListener),createNativeOscillatorNode=createNativeOscillatorNodeFactory(addSilentConnection,cacheTestResult,testAudioScheduledSourceNodeStartMethodNegativeParametersSupport,testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport,testAudioScheduledSourceNodeStopMethodNegativeParametersSupport,wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls),createOscillatorNodeRenderer=createOscillatorNodeRendererFactory(connectAudioParam,createNativeOscillatorNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),oscillatorNodeConstructor=createOscillatorNodeConstructor(audioNodeConstructor,createAudioParam,createNativeOscillatorNode,createOscillatorNodeRenderer,getNativeContext,isNativeOfflineAudioContext,wrapEventListener),createConnectedNativeAudioBufferSourceNode=createConnectedNativeAudioBufferSourceNodeFactory(createNativeAudioBufferSourceNode),createNativeWaveShaperNodeFaker=createNativeWaveShaperNodeFakerFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeGainNode,isDCCurve,monitorConnections),createNativeWaveShaperNode=createNativeWaveShaperNodeFactory(createConnectedNativeAudioBufferSourceNode,createInvalidStateError,createNativeWaveShaperNodeFaker,isDCCurve,monitorConnections,nativeAudioContextConstructor,overwriteAccessors),createNativePannerNodeFaker=createNativePannerNodeFakerFactory(connectNativeAudioNodeToNativeAudioNode,createInvalidStateError,createNativeChannelMergerNode,createNativeGainNode,createNativeScriptProcessorNode,createNativeWaveShaperNode,createNotSupportedError,disconnectNativeAudioNodeFromNativeAudioNode,getFirstSample,monitorConnections),createNativePannerNode=createNativePannerNodeFactory(createNativePannerNodeFaker),createPannerNodeRenderer=createPannerNodeRendererFactory(connectAudioParam,createNativeChannelMergerNode,createNativeConstantSourceNode,createNativeGainNode,createNativePannerNode,getNativeAudioNode,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),pannerNodeConstructor=createPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativePannerNode,createPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),createNativePeriodicWave=createNativePeriodicWaveFactory(createIndexSizeError),periodicWaveConstructor=createPeriodicWaveConstructor(createNativePeriodicWave,getNativeContext,new WeakSet,sanitizePeriodicWaveOptions),nativeStereoPannerNodeFakerFactory=createNativeStereoPannerNodeFakerFactory(createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeGainNode,createNativeWaveShaperNode,createNotSupportedError,monitorConnections),createNativeStereoPannerNode=createNativeStereoPannerNodeFactory(nativeStereoPannerNodeFakerFactory,createNotSupportedError),createStereoPannerNodeRenderer=createStereoPannerNodeRendererFactory(connectAudioParam,createNativeStereoPannerNode,getNativeAudioNode,renderAutomation,renderInputsOfAudioNode),stereoPannerNodeConstructor=createStereoPannerNodeConstructor(audioNodeConstructor,createAudioParam,createNativeStereoPannerNode,createStereoPannerNodeRenderer,getNativeContext,isNativeOfflineAudioContext),createWaveShaperNodeRenderer=createWaveShaperNodeRendererFactory(createNativeWaveShaperNode,getNativeAudioNode,renderInputsOfAudioNode),waveShaperNodeConstructor=createWaveShaperNodeConstructor(audioNodeConstructor,createInvalidStateError,createNativeWaveShaperNode,createWaveShaperNodeRenderer,getNativeContext,isNativeOfflineAudioContext,setAudioNodeTailTime),isSecureContext$1=createIsSecureContext(window$1),exposeCurrentFrameAndCurrentTime=createExposeCurrentFrameAndCurrentTime(window$1),backupOfflineAudioContextStore=new WeakMap,getOrCreateBackupOfflineAudioContext=createGetOrCreateBackupOfflineAudioContext(backupOfflineAudioContextStore,nativeOfflineAudioContextConstructor),addAudioWorkletModule=isSecureContext$1?createAddAudioWorkletModule(cacheTestResult,createNotSupportedError,createEvaluateSource(window$1),exposeCurrentFrameAndCurrentTime,createFetchSource(createAbortError),getNativeContext,getOrCreateBackupOfflineAudioContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,new WeakMap,new WeakMap,createTestAudioWorkletProcessorPostMessageSupport(nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor),window$1):void 0,isNativeContext=createIsNativeContext(isNativeAudioContext,isNativeOfflineAudioContext),decodeAudioData=createDecodeAudioData(audioBufferStore,cacheTestResult,createDataCloneError,createEncodingError,new WeakSet,getNativeContext,isNativeContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,testPromiseSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),baseAudioContextConstructor=createBaseAudioContextConstructor(addAudioWorkletModule,analyserNodeConstructor,audioBufferConstructor,audioBufferSourceNodeConstructor,biquadFilterNodeConstructor,channelMergerNodeConstructor,channelSplitterNodeConstructor,constantSourceNodeConstructor,convolverNodeConstructor,decodeAudioData,delayNodeConstructor,dynamicsCompressorNodeConstructor,gainNodeConstructor,iIRFilterNodeConstructor,minimalBaseAudioContextConstructor,oscillatorNodeConstructor,pannerNodeConstructor,periodicWaveConstructor,stereoPannerNodeConstructor,waveShaperNodeConstructor),mediaElementAudioSourceNodeConstructor=createMediaElementAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaElementAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioDestinationNodeConstructor=createMediaStreamAudioDestinationNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioDestinationNode,getNativeContext,isNativeOfflineAudioContext),mediaStreamAudioSourceNodeConstructor=createMediaStreamAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamAudioSourceNode,getNativeContext,isNativeOfflineAudioContext),createNativeMediaStreamTrackAudioSourceNode=createNativeMediaStreamTrackAudioSourceNodeFactory(createInvalidStateError,isNativeOfflineAudioContext),mediaStreamTrackAudioSourceNodeConstructor=createMediaStreamTrackAudioSourceNodeConstructor(audioNodeConstructor,createNativeMediaStreamTrackAudioSourceNode,getNativeContext),audioContextConstructor=createAudioContextConstructor(baseAudioContextConstructor,createInvalidStateError,createNotSupportedError,createUnknownError,mediaElementAudioSourceNodeConstructor,mediaStreamAudioDestinationNodeConstructor,mediaStreamAudioSourceNodeConstructor,mediaStreamTrackAudioSourceNodeConstructor,nativeAudioContextConstructor),getUnrenderedAudioWorkletNodes=createGetUnrenderedAudioWorkletNodes(unrenderedAudioWorkletNodeStore),addUnrenderedAudioWorkletNode=createAddUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),connectMultipleOutputs=createConnectMultipleOutputs(createIndexSizeError),deleteUnrenderedAudioWorkletNode=createDeleteUnrenderedAudioWorkletNode(getUnrenderedAudioWorkletNodes),disconnectMultipleOutputs=createDisconnectMultipleOutputs(createIndexSizeError),activeAudioWorkletNodeInputsStore=new WeakMap,getActiveAudioWorkletNodeInputs=createGetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore,getValueForKey),createNativeAudioWorkletNodeFaker=createNativeAudioWorkletNodeFakerFactory(connectMultipleOutputs,createIndexSizeError,createInvalidStateError,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,createNativeScriptProcessorNode,createNotSupportedError,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getActiveAudioWorkletNodeInputs,monitorConnections),createNativeAudioWorkletNode=createNativeAudioWorkletNodeFactory(createInvalidStateError,createNativeAudioWorkletNodeFaker,createNativeGainNode,createNotSupportedError,monitorConnections),createAudioWorkletNodeRenderer=createAudioWorkletNodeRendererFactory(connectAudioParam,connectMultipleOutputs,createNativeAudioBufferSourceNode,createNativeChannelMergerNode,createNativeChannelSplitterNode,createNativeConstantSourceNode,createNativeGainNode,deleteUnrenderedAudioWorkletNode,disconnectMultipleOutputs,exposeCurrentFrameAndCurrentTime,getNativeAudioNode,nativeAudioWorkletNodeConstructor,nativeOfflineAudioContextConstructor,renderAutomation,renderInputsOfAudioNode,renderNativeOfflineAudioContext),getBackupOfflineAudioContext=createGetBackupOfflineAudioContext(backupOfflineAudioContextStore),setActiveAudioWorkletNodeInputs=createSetActiveAudioWorkletNodeInputs(activeAudioWorkletNodeInputsStore),audioWorkletNodeConstructor=isSecureContext$1?createAudioWorkletNodeConstructor(addUnrenderedAudioWorkletNode,audioNodeConstructor,createAudioParam,createAudioWorkletNodeRenderer,createNativeAudioWorkletNode,getAudioNodeConnections,getBackupOfflineAudioContext,getNativeContext,isNativeOfflineAudioContext,nativeAudioWorkletNodeConstructor,sanitizeAudioWorkletNodeOptions,setActiveAudioWorkletNodeInputs,testAudioWorkletNodeOptionsClonability,wrapEventListener):void 0,createNativeOfflineAudioContext=createCreateNativeOfflineAudioContext(createNotSupportedError,nativeOfflineAudioContextConstructor),startRendering=createStartRendering(audioBufferStore,cacheTestResult,getAudioNodeRenderer,getUnrenderedAudioWorkletNodes,renderNativeOfflineAudioContext,testAudioBufferCopyChannelMethodsOutOfBoundsSupport,wrapAudioBufferCopyChannelMethods,wrapAudioBufferCopyChannelMethodsOutOfBounds),offlineAudioContextConstructor=createOfflineAudioContextConstructor(baseAudioContextConstructor,cacheTestResult,createInvalidStateError,createNativeOfflineAudioContext,startRendering),isAnyAudioContext=createIsAnyAudioContext(CONTEXT_STORE,isNativeAudioContext),isAnyAudioNode=createIsAnyAudioNode(AUDIO_NODE_STORE,isNativeAudioNode),isAnyAudioParam=createIsAnyAudioParam(AUDIO_PARAM_STORE,isNativeAudioParam),isAnyOfflineAudioContext=createIsAnyOfflineAudioContext(CONTEXT_STORE,isNativeOfflineAudioContext);function assert(f,l){if(!f)throw new Error(l)}function assertRange(f,l,u=1/0){if(!(l<=f&&f<=u))throw new RangeError(`Value must be within [${l}, ${u}], got: ${f}`)}function assertContextRunning(f){!f.isOffline&&f.state!=="running"&&warn('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let defaultLogger=console;function log(...f){defaultLogger.log(...f)}function warn(...f){defaultLogger.warn(...f)}function isUndef(f){return typeof f>"u"}function isDefined(f){return!isUndef(f)}function isFunction(f){return typeof f=="function"}function isNumber(f){return typeof f=="number"}function isObject$2(f){return Object.prototype.toString.call(f)==="[object Object]"&&f.constructor===Object}function isBoolean(f){return typeof f=="boolean"}function isArray(f){return Array.isArray(f)}function isString(f){return typeof f=="string"}function isNote(f){return isString(f)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(f)}function createAudioContext(f){return new audioContextConstructor(f)}function createOfflineAudioContext(f,l,u){return new offlineAudioContextConstructor(f,l,u)}const theWindow=typeof self=="object"?self:null,hasAudioContext=theWindow&&(theWindow.hasOwnProperty("AudioContext")||theWindow.hasOwnProperty("webkitAudioContext"));function createAudioWorkletNode(f,l,u){return assert(isDefined(audioWorkletNodeConstructor),"This node only works in a secure context (https or localhost)"),new audioWorkletNodeConstructor(f,l,u)}function __decorate(f,l,u,c){var m=arguments.length,_=m<3?l:c===null?c=Object.getOwnPropertyDescriptor(l,u):c,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(f,l,u,c);else for(var b=f.length-1;b>=0;b--)(g=f[b])&&(_=(m<3?g(_):m>3?g(l,u,_):g(l,u))||_);return m>3&&_&&Object.defineProperty(l,u,_),_}function __awaiter(f,l,u,c){function m(_){return _ instanceof u?_:new u(function(g){g(_)})}return new(u||(u=Promise))(function(_,g){function b(A){try{S(c.next(A))}catch(C){g(C)}}function y(A){try{S(c.throw(A))}catch(C){g(C)}}function S(A){A.done?_(A.value):m(A.value).then(b,y)}S((c=c.apply(f,l||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;class Ticker{constructor(l,u,c){this._callback=l,this._type=u,this._updateInterval=c,this._createClock()}_createWorker(){const l=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),u=URL.createObjectURL(l),c=new Worker(u);c.onmessage=this._callback.bind(this),this._worker=c}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(l){this._updateInterval=Math.max(l,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(l*1e3,1))}get type(){return this._type}set type(l){this._disposeClock(),this._type=l,this._createClock()}dispose(){this._disposeClock()}}function isAudioParam(f){return isAnyAudioParam(f)}function isAudioNode(f){return isAnyAudioNode(f)}function isOfflineAudioContext(f){return isAnyOfflineAudioContext(f)}function isAudioContext(f){return isAnyAudioContext(f)}function isAudioBuffer(f){return f instanceof AudioBuffer}function noCopy(f,l){return f==="value"||isAudioParam(l)||isAudioNode(l)||isAudioBuffer(l)}function deepMerge(f,...l){if(!l.length)return f;const u=l.shift();if(isObject$2(f)&&isObject$2(u))for(const c in u)noCopy(c,u[c])?f[c]=u[c]:isObject$2(u[c])?(f[c]||Object.assign(f,{[c]:{}}),deepMerge(f[c],u[c])):Object.assign(f,{[c]:u[c]});return deepMerge(f,...l)}function deepEquals(f,l){return f.length===l.length&&f.every((u,c)=>l[c]===u)}function optionsFromArguments(f,l,u=[],c){const m={},_=Array.from(l);if(isObject$2(_[0])&&c&&!Reflect.has(_[0],c)&&(Object.keys(_[0]).some(b=>Reflect.has(f,b))||(deepMerge(m,{[c]:_[0]}),u.splice(u.indexOf(c),1),_.shift())),_.length===1&&isObject$2(_[0]))deepMerge(m,_[0]);else for(let g=0;g<u.length;g++)isDefined(_[g])&&(m[u[g]]=_[g]);return deepMerge(f,m)}function getDefaultsFromInstance(f){return f.constructor.getDefaults()}function defaultArg(f,l){return isUndef(f)?l:f}function omitFromObject(f,l){return l.forEach(u=>{Reflect.has(f,u)&&delete f[u]}),f}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Tone{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...l){(this.debug||theWindow&&this.toString()===theWindow.TONE_DEBUG_CLASS)&&log(this,...l)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Tone.version=version;const EPSILON=1e-6;function GT(f,l){return f>l+EPSILON}function GTE(f,l){return GT(f,l)||EQ(f,l)}function LT(f,l){return f+EPSILON<l}function EQ(f,l){return Math.abs(f-l)<EPSILON}function clamp$1(f,l,u){return Math.max(Math.min(f,u),l)}class Timeline extends Tone{constructor(){super(),this.name="Timeline",this._timeline=[];const l=optionsFromArguments(Timeline.getDefaults(),arguments,["memory"]);this.memory=l.memory,this.increasing=l.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(l){if(assert(Reflect.has(l,"time"),"Timeline: events must have a time attribute"),l.time=l.time.valueOf(),this.increasing&&this.length){const u=this._timeline[this.length-1];assert(GTE(l.time,u.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(l)}else{const u=this._search(l.time);this._timeline.splice(u+1,0,l)}if(this.length>this.memory){const u=this.length-this.memory;this._timeline.splice(0,u)}return this}remove(l){const u=this._timeline.indexOf(l);return u!==-1&&this._timeline.splice(u,1),this}get(l,u="time"){const c=this._search(l,u);return c!==-1?this._timeline[c]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(l,u="time"){const c=this._search(l,u);return c+1<this._timeline.length?this._timeline[c+1]:null}getBefore(l){const u=this._timeline.length;if(u>0&&this._timeline[u-1].time<l)return this._timeline[u-1];const c=this._search(l);return c-1>=0?this._timeline[c-1]:null}cancel(l){if(this._timeline.length>1){let u=this._search(l);if(u>=0)if(EQ(this._timeline[u].time,l)){for(let c=u;c>=0&&EQ(this._timeline[c].time,l);c--)u=c;this._timeline=this._timeline.slice(0,u)}else this._timeline=this._timeline.slice(0,u+1);else this._timeline=[]}else this._timeline.length===1&&GTE(this._timeline[0].time,l)&&(this._timeline=[]);return this}cancelBefore(l){const u=this._search(l);return u>=0&&(this._timeline=this._timeline.slice(u+1)),this}previousEvent(l){const u=this._timeline.indexOf(l);return u>0?this._timeline[u-1]:null}_search(l,u="time"){if(this._timeline.length===0)return-1;let c=0;const m=this._timeline.length;let _=m;if(m>0&&this._timeline[m-1][u]<=l)return m-1;for(;c<_;){let g=Math.floor(c+(_-c)/2);const b=this._timeline[g],y=this._timeline[g+1];if(EQ(b[u],l)){for(let S=g;S<this._timeline.length;S++){const A=this._timeline[S];if(EQ(A[u],l))g=S;else break}return g}else{if(LT(b[u],l)&&GT(y[u],l))return g;GT(b[u],l)?_=g:c=g+1}}return-1}_iterate(l,u=0,c=this._timeline.length-1){this._timeline.slice(u,c+1).forEach(l)}forEach(l){return this._iterate(l),this}forEachBefore(l,u){const c=this._search(l);return c!==-1&&this._iterate(u,0,c),this}forEachAfter(l,u){const c=this._search(l);return this._iterate(u,c+1),this}forEachBetween(l,u,c){let m=this._search(l),_=this._search(u);return m!==-1&&_!==-1?(this._timeline[m].time!==l&&(m+=1),this._timeline[_].time===u&&(_-=1),this._iterate(c,m,_)):m===-1&&this._iterate(c,0,_),this}forEachFrom(l,u){let c=this._search(l);for(;c>=0&&this._timeline[c].time>=l;)c--;return this._iterate(u,c+1),this}forEachAtTime(l,u){const c=this._search(l);if(c!==-1&&EQ(this._timeline[c].time,l)){let m=c;for(let _=c;_>=0&&EQ(this._timeline[_].time,l);_--)m=_;this._iterate(_=>{u(_)},m,c)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const notifyNewContext=[];function onContextInit(f){notifyNewContext.push(f)}function initializeContext(f){notifyNewContext.forEach(l=>l(f))}const notifyCloseContext=[];function onContextClose(f){notifyCloseContext.push(f)}function closeContext(f){notifyCloseContext.forEach(l=>l(f))}let Emitter$1=class On extends Tone{constructor(){super(...arguments),this.name="Emitter"}on(l,u){return l.split(/\W+/).forEach(m=>{isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(m)||(this._events[m]=[]),this._events[m].push(u)}),this}once(l,u){const c=(...m)=>{u(...m),this.off(l,c)};return this.on(l,c),this}off(l,u){return l.split(/\W+/).forEach(m=>{if(isUndef(this._events)&&(this._events={}),this._events.hasOwnProperty(l))if(isUndef(u))this._events[l]=[];else{const _=this._events[l];for(let g=_.length-1;g>=0;g--)_[g]===u&&_.splice(g,1)}}),this}emit(l,...u){if(this._events&&this._events.hasOwnProperty(l)){const c=this._events[l].slice(0);for(let m=0,_=c.length;m<_;m++)c[m].apply(this,u)}return this}static mixin(l){["on","once","off","emit"].forEach(u=>{const c=Object.getOwnPropertyDescriptor(On.prototype,u);Object.defineProperty(l.prototype,u,c)})}dispose(){return super.dispose(),this._events=void 0,this}};class BaseContext extends Emitter$1{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Context extends BaseContext{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Timeline,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const l=optionsFromArguments(Context.getDefaults(),arguments,["context"]);l.context?this._context=l.context:this._context=createAudioContext({latencyHint:l.latencyHint}),this._ticker=new Ticker(this.emit.bind(this,"tick"),l.clockSource,l.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(l.latencyHint),this.lookAhead=l.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(initializeContext(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(l,u,c){return this._context.createBuffer(l,u,c)}createChannelMerger(l){return this._context.createChannelMerger(l)}createChannelSplitter(l){return this._context.createChannelSplitter(l)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(l){return this._context.createDelay(l)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(l,u){return this._context.createIIRFilter(l,u)}createPanner(){return this._context.createPanner()}createPeriodicWave(l,u,c){return this._context.createPeriodicWave(l,u,c)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(l){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(l)}createMediaElementSource(l){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(l)}createMediaStreamDestination(){return assert(isAudioContext(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(l){return this._context.decodeAudioData(l)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(l){assert(!this._initialized,"The listener cannot be set after initialization."),this._listener=l}get transport(){return this.initialize(),this._transport}set transport(l){assert(!this._initialized,"The transport cannot be set after initialization."),this._transport=l}get draw(){return this.initialize(),this._draw}set draw(l){assert(!this._initialized,"Draw cannot be set after initialization."),this._draw=l}get destination(){return this.initialize(),this._destination}set destination(l){assert(!this._initialized,"The destination cannot be set after initialization."),this._destination=l}createAudioWorkletNode(l,u){return createAudioWorkletNode(this.rawContext,l,u)}addAudioWorkletModule(l,u){return __awaiter(this,void 0,void 0,function*(){assert(isDefined(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(u)||this._workletModules.set(u,this.rawContext.audioWorklet.addModule(l)),yield this._workletModules.get(u)})}workletsAreReady(){return __awaiter(this,void 0,void 0,function*(){const l=[];this._workletModules.forEach(u=>l.push(u)),yield Promise.all(l)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(l){this._ticker.updateInterval=l}get clockSource(){return this._ticker.type}set clockSource(l){this._ticker.type=l}get latencyHint(){return this._latencyHint}_setLatencyHint(l){let u=0;if(this._latencyHint=l,isString(l))switch(l){case"interactive":u=.1;break;case"playback":u=.5;break;case"balanced":u=.25;break}this.lookAhead=u,this.updateInterval=u/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return isAudioContext(this._context)?this._context.resume():Promise.resolve()}close(){return __awaiter(this,void 0,void 0,function*(){isAudioContext(this._context)&&(yield this._context.close()),this._initialized&&closeContext(this)})}getConstant(l){if(this._constants.has(l))return this._constants.get(l);{const u=this._context.createBuffer(1,128,this._context.sampleRate),c=u.getChannelData(0);for(let _=0;_<c.length;_++)c[_]=l;const m=this._context.createBufferSource();return m.channelCount=1,m.channelCountMode="explicit",m.buffer=u,m.loop=!0,m.start(0),this._constants.set(l,m),m}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(l=>this._constants[l].disconnect()),this}_timeoutLoop(){const l=this.now();let u=this._timeouts.peek();for(;this._timeouts.length&&u&&u.time<=l;)u.callback(),this._timeouts.shift(),u=this._timeouts.peek()}setTimeout(l,u){this._timeoutIds++;const c=this.now();return this._timeouts.add({callback:l,id:this._timeoutIds,time:c+u}),this._timeoutIds}clearTimeout(l){return this._timeouts.forEach(u=>{u.id===l&&this._timeouts.remove(u)}),this}clearInterval(l){return this.clearTimeout(l)}setInterval(l,u){const c=++this._timeoutIds,m=()=>{const _=this.now();this._timeouts.add({callback:()=>{l(),m()},id:c,time:_+u})};return m(),c}}class DummyContext extends BaseContext{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(l,u,c){return{}}createChannelMerger(l){return{}}createChannelSplitter(l){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(l){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(l,u){return{}}createPanner(){return{}}createPeriodicWave(l,u,c){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(l){return{}}createMediaElementSource(l){return{}}createMediaStreamDestination(){return{}}decodeAudioData(l){return Promise.resolve({})}createAudioWorkletNode(l,u){return{}}get rawContext(){return{}}addAudioWorkletModule(l,u){return __awaiter(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(l,u){return 0}clearTimeout(l){return this}setInterval(l,u){return 0}clearInterval(l){return this}getConstant(l){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(l){}get destination(){return{}}set destination(l){}now(){return 0}immediate(){return 0}}function readOnly(f,l){isArray(l)?l.forEach(u=>readOnly(f,u)):Object.defineProperty(f,l,{enumerable:!0,writable:!1})}function writable(f,l){isArray(l)?l.forEach(u=>writable(f,u)):Object.defineProperty(f,l,{writable:!0})}const noOp=()=>{};class ToneAudioBuffer extends Tone{constructor(){super(),this.name="ToneAudioBuffer",this.onload=noOp;const l=optionsFromArguments(ToneAudioBuffer.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=l.reverse,this.onload=l.onload,l.url&&isAudioBuffer(l.url)||l.url instanceof ToneAudioBuffer?this.set(l.url):isString(l.url)&&this.load(l.url).catch(l.onerror)}static getDefaults(){return{onerror:noOp,onload:noOp,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:getContext().sampleRate}set(l){return l instanceof ToneAudioBuffer?l.loaded?this._buffer=l.get():l.onload=()=>{this.set(l),this.onload(this)}:this._buffer=l,this._reversed&&this._reverse(),this}get(){return this._buffer}load(l){return __awaiter(this,void 0,void 0,function*(){const u=ToneAudioBuffer.load(l).then(c=>{this.set(c),this.onload(this)});ToneAudioBuffer.downloads.push(u);try{yield u}finally{const c=ToneAudioBuffer.downloads.indexOf(u);ToneAudioBuffer.downloads.splice(c,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(l){const u=isArray(l)&&l[0].length>0,c=u?l.length:1,m=u?l[0].length:l.length,_=getContext(),g=_.createBuffer(c,m,_.sampleRate),b=!u&&c===1?[l]:l;for(let y=0;y<c;y++)g.copyToChannel(b[y],y);return this._buffer=g,this}toMono(l){if(isNumber(l))this.fromArray(this.toArray(l));else{let u=new Float32Array(this.length);const c=this.numberOfChannels;for(let m=0;m<c;m++){const _=this.toArray(m);for(let g=0;g<_.length;g++)u[g]+=_[g]}u=u.map(m=>m/c),this.fromArray(u)}return this}toArray(l){if(isNumber(l))return this.getChannelData(l);if(this.numberOfChannels===1)return this.toArray(0);{const u=[];for(let c=0;c<this.numberOfChannels;c++)u[c]=this.getChannelData(c);return u}}getChannelData(l){return this._buffer?this._buffer.getChannelData(l):new Float32Array(0)}slice(l,u=this.duration){const c=Math.floor(l*this.sampleRate),m=Math.floor(u*this.sampleRate);assert(c<m,"The start time must be less than the end time");const _=m-c,g=getContext().createBuffer(this.numberOfChannels,_,this.sampleRate);for(let b=0;b<this.numberOfChannels;b++)g.copyToChannel(this.getChannelData(b).subarray(c,m),b);return new ToneAudioBuffer(g)}_reverse(){if(this.loaded)for(let l=0;l<this.numberOfChannels;l++)this.getChannelData(l).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(l){this._reversed!==l&&(this._reversed=l,this._reverse())}static fromArray(l){return new ToneAudioBuffer().fromArray(l)}static fromUrl(l){return __awaiter(this,void 0,void 0,function*(){return yield new ToneAudioBuffer().load(l)})}static load(l){return __awaiter(this,void 0,void 0,function*(){const u=l.match(/\[([^\]\[]+\|.+)\]$/);if(u){const b=u[1].split("|");let y=b[0];for(const S of b)if(ToneAudioBuffer.supportsType(S)){y=S;break}l=l.replace(u[0],y)}const c=ToneAudioBuffer.baseUrl===""||ToneAudioBuffer.baseUrl.endsWith("/")?ToneAudioBuffer.baseUrl:ToneAudioBuffer.baseUrl+"/",m=yield fetch(c+l);if(!m.ok)throw new Error(`could not load url: ${l}`);const _=yield m.arrayBuffer();return yield getContext().decodeAudioData(_)})}static supportsType(l){const u=l.split("."),c=u[u.length-1];return document.createElement("audio").canPlayType("audio/"+c)!==""}static loaded(){return __awaiter(this,void 0,void 0,function*(){for(yield Promise.resolve();ToneAudioBuffer.downloads.length;)yield ToneAudioBuffer.downloads[0]})}}ToneAudioBuffer.baseUrl="";ToneAudioBuffer.downloads=[];class OfflineContext extends Context{constructor(){super({clockSource:"offline",context:isOfflineAudioContext(arguments[0])?arguments[0]:createOfflineAudioContext(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:isOfflineAudioContext(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=isOfflineAudioContext(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(l){return __awaiter(this,void 0,void 0,function*(){let u=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,u++;const c=Math.floor(this.sampleRate/128);l&&u%c===0&&(yield new Promise(m=>setTimeout(m,1)))}})}render(l=!0){return __awaiter(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(l);const u=yield this._context.startRendering();return new ToneAudioBuffer(u)})}close(){return Promise.resolve()}}const dummyContext=new DummyContext;let globalContext=dummyContext;function getContext(){return globalContext===dummyContext&&hasAudioContext&&setContext(new Context),globalContext}function setContext(f){isAudioContext(f)?globalContext=new Context(f):isOfflineAudioContext(f)?globalContext=new OfflineContext(f):globalContext=f}function start(){return globalContext.resume()}if(theWindow&&!theWindow.TONE_SILENCE_LOGGING){const l=` * Tone.js v${version} * `;console.log(`%c${l}`,"background: #000; color: #fff")}function dbToGain(f){return Math.pow(10,f/20)}function gainToDb(f){return 20*(Math.log(f)/Math.LN10)}function intervalToFrequencyRatio(f){return Math.pow(2,f/12)}let A4=440;function getA4(){return A4}function setA4(f){A4=f}function ftom(f){return Math.round(ftomf(f))}function ftomf(f){return 69+12*Math.log2(f/A4)}function mtof(f){return A4*Math.pow(2,(f-69)/12)}class TimeBaseClass extends Tone{constructor(l,u,c){super(),this.defaultUnits="s",this._val=u,this._units=c,this.context=l,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:l=>this._frequencyToUnits(parseFloat(l)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:l=>this._ticksToUnits(parseInt(l,10)),regexp:/^(\d+)i$/i},m:{method:l=>this._beatsToUnits(parseInt(l,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(l,u)=>{const c=parseInt(l,10),m=u==="."?1.5:1;return c===1?this._beatsToUnits(this._getTimeSignature())*m:this._beatsToUnits(4/c)*m},regexp:/^(\d+)n(\.?)$/i},number:{method:l=>this._expressions[this.defaultUnits].method.call(this,l),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:l=>this._secondsToUnits(parseFloat(l)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:l=>parseInt(l,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:l=>{const u=parseInt(l,10);return this._beatsToUnits(8/(Math.floor(u)*3))},regexp:/^(\d+)t$/i},tr:{method:(l,u,c)=>{let m=0;return l&&l!=="0"&&(m+=this._beatsToUnits(this._getTimeSignature()*parseFloat(l))),u&&u!=="0"&&(m+=this._beatsToUnits(parseFloat(u))),c&&c!=="0"&&(m+=this._beatsToUnits(parseFloat(c)/4)),m},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof TimeBaseClass&&this.fromType(this._val),isUndef(this._val))return this._noArg();if(isString(this._val)&&isUndef(this._units)){for(const l in this._expressions)if(this._expressions[l].regexp.test(this._val.trim())){this._units=l;break}}else if(isObject$2(this._val)){let l=0;for(const u in this._val)if(isDefined(this._val[u])){const c=this._val[u],m=new this.constructor(this.context,u).valueOf()*c;l+=m}return l}if(isDefined(this._units)){const l=this._expressions[this._units],u=this._val.toString().trim().match(l.regexp);return u?l.method.apply(this,u.slice(1)):l.method.call(this,this._val)}else return isString(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(l){return 1/l}_beatsToUnits(l){return 60/this._getBpm()*l}_secondsToUnits(l){return l}_ticksToUnits(l){return l*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(l){switch(this._units=void 0,this.defaultUnits){case"s":this._val=l.toSeconds();break;case"i":this._val=l.toTicks();break;case"hz":this._val=l.toFrequency();break;case"midi":this._val=l.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class TimeClass extends TimeBaseClass{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:l=>this._now()+new this.constructor(this.context,l).valueOf(),regexp:/^\+(.+)/},quantize:{method:l=>{const u=new TimeClass(this.context,l).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(u))},regexp:/^@(.+)/}})}quantize(l,u=1){const c=new this.constructor(this.context,l).valueOf(),m=this.valueOf(),b=Math.round(m/c)*c-m;return m+b*u}toNotation(){const l=this.toSeconds(),u=["1m"];for(let _=1;_<9;_++){const g=Math.pow(2,_);u.push(g+"n."),u.push(g+"n"),u.push(g+"t")}u.push("0");let c=u[0],m=new TimeClass(this.context,u[0]).toSeconds();return u.forEach(_=>{const g=new TimeClass(this.context,_).toSeconds();Math.abs(g-l)<Math.abs(m-l)&&(c=_,m=g)}),c}toBarsBeatsSixteenths(){const l=this._beatsToUnits(1);let u=this.valueOf()/l;u=parseFloat(u.toFixed(4));const c=Math.floor(u/this._getTimeSignature());let m=u%1*4;u=Math.floor(u)%this._getTimeSignature();const _=m.toString();return _.length>3&&(m=parseFloat(parseFloat(_).toFixed(3))),[c,u,m].join(":")}toTicks(){const l=this._beatsToUnits(1),u=this.valueOf()/l;return Math.round(u*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return ftom(this.toFrequency())}_now(){return this.context.now()}}class FrequencyClass extends TimeClass{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return getA4()}static set A4(l){setA4(l)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(l){return this.defaultUnits==="midi"?l:FrequencyClass.mtof(l)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(l,u){const m=noteToScaleIndex[l.toLowerCase()]+(parseInt(u,10)+1)*12;return this.defaultUnits==="midi"?m:FrequencyClass.mtof(m)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(l,u,c){let m=1;return l&&l!=="0"&&(m*=this._beatsToUnits(this._getTimeSignature()*parseFloat(l))),u&&u!=="0"&&(m*=this._beatsToUnits(parseFloat(u))),c&&c!=="0"&&(m*=this._beatsToUnits(parseFloat(c)/4)),m}}})}transpose(l){return new FrequencyClass(this.context,this.valueOf()*intervalToFrequencyRatio(l))}harmonize(l){return l.map(u=>this.transpose(u))}toMidi(){return ftom(this.valueOf())}toNote(){const l=this.toFrequency(),u=Math.log2(l/FrequencyClass.A4);let c=Math.round(12*u)+57;const m=Math.floor(c/12);return m<0&&(c+=-12*m),scaleIndexToNote[c%12]+m.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const l=this._beatsToUnits(1),u=this.valueOf()/l;return Math.floor(u*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(l){return l}_ticksToUnits(l){return 1/(l*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(l){return 1/super._beatsToUnits(l)}_secondsToUnits(l){return 1/l}static mtof(l){return mtof(l)}static ftom(l){return ftom(l)}}const noteToScaleIndex={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},scaleIndexToNote=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class TransportTimeClass extends TimeClass{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ToneWithContext extends Tone{constructor(){super();const l=optionsFromArguments(ToneWithContext.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=l.context}static getDefaults(){return{context:getContext()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(l){return new TimeClass(this.context,l).toSeconds()}toFrequency(l){return new FrequencyClass(this.context,l).toFrequency()}toTicks(l){return new TransportTimeClass(this.context,l).toTicks()}_getPartialProperties(l){const u=this.get();return Object.keys(u).forEach(c=>{isUndef(l[c])&&delete u[c]}),u}get(){const l=getDefaultsFromInstance(this);return Object.keys(l).forEach(u=>{if(Reflect.has(this,u)){const c=this[u];isDefined(c)&&isDefined(c.value)&&isDefined(c.setValueAtTime)?l[u]=c.value:c instanceof ToneWithContext?l[u]=c._getPartialProperties(l[u]):isArray(c)||isNumber(c)||isString(c)||isBoolean(c)?l[u]=c:delete l[u]}}),l}set(l){return Object.keys(l).forEach(u=>{Reflect.has(this,u)&&isDefined(this[u])&&(this[u]&&isDefined(this[u].value)&&isDefined(this[u].setValueAtTime)?this[u].value!==l[u]&&(this[u].value=l[u]):this[u]instanceof ToneWithContext?this[u].set(l[u]):this[u]=l[u])}),this}}class StateTimeline extends Timeline{constructor(l="stopped"){super(),this.name="StateTimeline",this._initial=l,this.setStateAtTime(this._initial,0)}getValueAtTime(l){const u=this.get(l);return u!==null?u.state:this._initial}setStateAtTime(l,u,c){return assertRange(u,0),this.add(Object.assign({},c,{state:l,time:u})),this}getLastState(l,u){const c=this._search(u);for(let m=c;m>=0;m--){const _=this._timeline[m];if(_.state===l)return _}}getNextState(l,u){const c=this._search(u);if(c!==-1)for(let m=c;m<this._timeline.length;m++){const _=this._timeline[m];if(_.state===l)return _}}}class Param extends ToneWithContext{constructor(){super(optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const l=optionsFromArguments(Param.getDefaults(),arguments,["param","units","convert"]);for(assert(isDefined(l.param)&&(isAudioParam(l.param)||l.param instanceof Param),"param must be an AudioParam");!isAudioParam(l.param);)l.param=l.param._param;this._swappable=isDefined(l.swappable)?l.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=l.param,this.input.connect(this._param)):this._param=this.input=l.param,this._events=new Timeline(1e3),this._initialValue=this._param.defaultValue,this.units=l.units,this.convert=l.convert,this._minValue=l.minValue,this._maxValue=l.maxValue,isDefined(l.value)&&l.value!==this._toType(this._initialValue)&&this.setValueAtTime(l.value,0)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{convert:!0,units:"number"})}get value(){const l=this.now();return this.getValueAtTime(l)}set value(l){this.cancelScheduledValues(this.now()),this.setValueAtTime(l,this.now())}get minValue(){return isDefined(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return isDefined(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(l,u){return this.units===u}_assertRange(l){return isDefined(this.maxValue)&&isDefined(this.minValue)&&assertRange(l,this._fromType(this.minValue),this._fromType(this.maxValue)),l}_fromType(l){return this.convert&&!this.overridden?this._is(l,"time")?this.toSeconds(l):this._is(l,"decibels")?dbToGain(l):this._is(l,"frequency")?this.toFrequency(l):l:this.overridden?0:l}_toType(l){return this.convert&&this.units==="decibels"?gainToDb(l):l}setValueAtTime(l,u){const c=this.toSeconds(u),m=this._fromType(l);return assert(isFinite(m)&&isFinite(c),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(l)}, ${JSON.stringify(u)}`),this._assertRange(m),this.log(this.units,"setValueAtTime",l,c),this._events.add({time:c,type:"setValueAtTime",value:m}),this._param.setValueAtTime(m,c),this}getValueAtTime(l){const u=Math.max(this.toSeconds(l),0),c=this._events.getAfter(u),m=this._events.get(u);let _=this._initialValue;if(m===null)_=this._initialValue;else if(m.type==="setTargetAtTime"&&(c===null||c.type==="setValueAtTime")){const g=this._events.getBefore(m.time);let b;g===null?b=this._initialValue:b=g.value,m.type==="setTargetAtTime"&&(_=this._exponentialApproach(m.time,b,m.value,m.constant,u))}else if(c===null)_=m.value;else if(c.type==="linearRampToValueAtTime"||c.type==="exponentialRampToValueAtTime"){let g=m.value;if(m.type==="setTargetAtTime"){const b=this._events.getBefore(m.time);b===null?g=this._initialValue:g=b.value}c.type==="linearRampToValueAtTime"?_=this._linearInterpolate(m.time,g,c.time,c.value,u):_=this._exponentialInterpolate(m.time,g,c.time,c.value,u)}else _=m.value;return this._toType(_)}setRampPoint(l){l=this.toSeconds(l);let u=this.getValueAtTime(l);return this.cancelAndHoldAtTime(l),this._fromType(u)===0&&(u=this._toType(this._minOutput)),this.setValueAtTime(u,l),this}linearRampToValueAtTime(l,u){const c=this._fromType(l),m=this.toSeconds(u);return assert(isFinite(c)&&isFinite(m),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(l)}, ${JSON.stringify(u)}`),this._assertRange(c),this._events.add({time:m,type:"linearRampToValueAtTime",value:c}),this.log(this.units,"linearRampToValueAtTime",l,m),this._param.linearRampToValueAtTime(c,m),this}exponentialRampToValueAtTime(l,u){let c=this._fromType(l);c=EQ(c,0)?this._minOutput:c,this._assertRange(c);const m=this.toSeconds(u);return assert(isFinite(c)&&isFinite(m),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(l)}, ${JSON.stringify(u)}`),this._events.add({time:m,type:"exponentialRampToValueAtTime",value:c}),this.log(this.units,"exponentialRampToValueAtTime",l,m),this._param.exponentialRampToValueAtTime(c,m),this}exponentialRampTo(l,u,c){return c=this.toSeconds(c),this.setRampPoint(c),this.exponentialRampToValueAtTime(l,c+this.toSeconds(u)),this}linearRampTo(l,u,c){return c=this.toSeconds(c),this.setRampPoint(c),this.linearRampToValueAtTime(l,c+this.toSeconds(u)),this}targetRampTo(l,u,c){return c=this.toSeconds(c),this.setRampPoint(c),this.exponentialApproachValueAtTime(l,c,u),this}exponentialApproachValueAtTime(l,u,c){u=this.toSeconds(u),c=this.toSeconds(c);const m=Math.log(c+1)/Math.log(200);return this.setTargetAtTime(l,u,m),this.cancelAndHoldAtTime(u+c*.9),this.linearRampToValueAtTime(l,u+c),this}setTargetAtTime(l,u,c){const m=this._fromType(l);assert(isFinite(c)&&c>0,"timeConstant must be a number greater than 0");const _=this.toSeconds(u);return this._assertRange(m),assert(isFinite(m)&&isFinite(_),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(l)}, ${JSON.stringify(u)}`),this._events.add({constant:c,time:_,type:"setTargetAtTime",value:m}),this.log(this.units,"setTargetAtTime",l,_,c),this._param.setTargetAtTime(m,_,c),this}setValueCurveAtTime(l,u,c,m=1){c=this.toSeconds(c),u=this.toSeconds(u);const _=this._fromType(l[0])*m;this.setValueAtTime(this._toType(_),u);const g=c/(l.length-1);for(let b=1;b<l.length;b++){const y=this._fromType(l[b])*m;this.linearRampToValueAtTime(this._toType(y),u+b*g)}return this}cancelScheduledValues(l){const u=this.toSeconds(l);return assert(isFinite(u),`Invalid argument to cancelScheduledValues: ${JSON.stringify(l)}`),this._events.cancel(u),this._param.cancelScheduledValues(u),this.log(this.units,"cancelScheduledValues",u),this}cancelAndHoldAtTime(l){const u=this.toSeconds(l),c=this._fromType(this.getValueAtTime(u));assert(isFinite(u),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(l)}`),this.log(this.units,"cancelAndHoldAtTime",u,"value="+c);const m=this._events.get(u),_=this._events.getAfter(u);return m&&EQ(m.time,u)?_?(this._param.cancelScheduledValues(_.time),this._events.cancel(_.time)):(this._param.cancelAndHoldAtTime(u),this._events.cancel(u+this.sampleTime)):_&&(this._param.cancelScheduledValues(_.time),this._events.cancel(_.time),_.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(c),u):_.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(c),u)),this._events.add({time:u,type:"setValueAtTime",value:c}),this._param.setValueAtTime(c,u),this}rampTo(l,u=.1,c){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(l,u,c):this.linearRampTo(l,u,c),this}apply(l){const u=this.context.currentTime;l.setValueAtTime(this.getValueAtTime(u),u);const c=this._events.get(u);if(c&&c.type==="setTargetAtTime"){const m=this._events.getAfter(c.time),_=m?m.time:u+2,g=(_-u)/10;for(let b=u;b<_;b+=g)l.linearRampToValueAtTime(this.getValueAtTime(b),b)}return this._events.forEachAfter(this.context.currentTime,m=>{m.type==="cancelScheduledValues"?l.cancelScheduledValues(m.time):m.type==="setTargetAtTime"?l.setTargetAtTime(m.value,m.time,m.constant):l[m.type](m.value,m.time)}),this}setParam(l){assert(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const u=this.input;return u.disconnect(this._param),this.apply(l),this._param=l,u.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(l,u,c,m,_){return c+(u-c)*Math.exp(-(_-l)/m)}_linearInterpolate(l,u,c,m,_){return u+(m-u)*((_-l)/(c-l))}_exponentialInterpolate(l,u,c,m,_){return u*Math.pow(m/u,(_-l)/(c-l))}}class ToneAudioNode extends ToneWithContext{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return isDefined(this.input)?isAudioParam(this.input)||this.input instanceof Param?1:this.input.numberOfInputs:0}get numberOfOutputs(){return isDefined(this.output)?this.output.numberOfOutputs:0}_isAudioNode(l){return isDefined(l)&&(l instanceof ToneAudioNode||isAudioNode(l))}_getInternalNodes(){const l=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&l.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&l.push(this.output),l}_setChannelProperties(l){this._getInternalNodes().forEach(c=>{c.channelCount=l.channelCount,c.channelCountMode=l.channelCountMode,c.channelInterpretation=l.channelInterpretation})}_getChannelProperties(){const l=this._getInternalNodes();assert(l.length>0,"ToneAudioNode does not have any internal nodes");const u=l[0];return{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(l){const u=this._getChannelProperties();this._setChannelProperties(Object.assign(u,{channelCount:l}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(l){const u=this._getChannelProperties();this._setChannelProperties(Object.assign(u,{channelCountMode:l}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(l){const u=this._getChannelProperties();this._setChannelProperties(Object.assign(u,{channelInterpretation:l}))}connect(l,u=0,c=0){return connect(this,l,u,c),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return warn("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(l,u=0,c=0){return disconnect$1(this,l,u,c),this}chain(...l){return connectSeries(this,...l),this}fan(...l){return l.forEach(u=>this.connect(u)),this}dispose(){return super.dispose(),isDefined(this.input)&&(this.input instanceof ToneAudioNode?this.input.dispose():isAudioNode(this.input)&&this.input.disconnect()),isDefined(this.output)&&(this.output instanceof ToneAudioNode?this.output.dispose():isAudioNode(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function connectSeries(...f){const l=f.shift();f.reduce((u,c)=>(u instanceof ToneAudioNode?u.connect(c):isAudioNode(u)&&connect(u,c),c),l)}function connect(f,l,u=0,c=0){for(assert(isDefined(f),"Cannot connect from undefined node"),assert(isDefined(l),"Cannot connect to undefined node"),(l instanceof ToneAudioNode||isAudioNode(l))&&assert(l.numberOfInputs>0,"Cannot connect to node with no inputs"),assert(f.numberOfOutputs>0,"Cannot connect from node with no outputs");l instanceof ToneAudioNode||l instanceof Param;)isDefined(l.input)&&(l=l.input);for(;f instanceof ToneAudioNode;)isDefined(f.output)&&(f=f.output);isAudioParam(l)?f.connect(l,u):f.connect(l,u,c)}function disconnect$1(f,l,u=0,c=0){if(isDefined(l))for(;l instanceof ToneAudioNode;)l=l.input;for(;!isAudioNode(f);)isDefined(f.output)&&(f=f.output);isAudioParam(l)?f.disconnect(l,u):isAudioNode(l)?f.disconnect(l,u,c):f.disconnect()}class Gain extends ToneAudioNode{constructor(){super(optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const l=optionsFromArguments(Gain.getDefaults(),arguments,["gain","units"]);this.gain=new Param({context:this.context,convert:l.convert,param:this._gainNode.gain,units:l.units,value:l.gain,minValue:l.minValue,maxValue:l.maxValue}),readOnly(this,"gain")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class OneShotSource extends ToneAudioNode{constructor(l){super(l),this.onended=noOp,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Gain({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(u){const c=this.toSeconds(u);return this._startTime!==-1&&c>=this._startTime&&(this._stopTime===-1||c<=this._stopTime)?"started":"stopped"},this._fadeIn=l.fadeIn,this._fadeOut=l.fadeOut,this._curve=l.curve,this.onended=l.onended}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:noOp})}_startGain(l,u=1){assert(this._startTime===-1,"Source cannot be started more than once");const c=this.toSeconds(this._fadeIn);return this._startTime=l+c,this._startTime=Math.max(this._startTime,this.context.currentTime),c>0?(this._gainNode.gain.setValueAtTime(0,l),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(u,l+c):this._gainNode.gain.exponentialApproachValueAtTime(u,l,c)):this._gainNode.gain.setValueAtTime(u,l),this}stop(l){return this.log("stop",l),this._stopGain(this.toSeconds(l)),this}_stopGain(l){assert(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const u=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(l)+u,this._stopTime=Math.max(this._stopTime,this.context.currentTime),u>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,u,l):this._gainNode.gain.targetRampTo(0,u,l):(this._gainNode.gain.cancelAndHoldAtTime(l),this._gainNode.gain.setValueAtTime(0,l)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const c=this._curve==="exponential"?u*2:0;this._stopSource(this.now()+c),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==noOp&&(this.onended(this),this.onended=noOp,!this.context.isOffline)){const l=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(l):setTimeout(l,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),assert(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class ToneConstantSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const l=optionsFromArguments(ToneConstantSource.getDefaults(),arguments,["offset"]);connect(this._source,this._gainNode),this.offset=new Param({context:this.context,convert:l.convert,param:this._source.offset,units:l.units,value:l.offset,minValue:l.minValue,maxValue:l.maxValue})}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{convert:!0,offset:1,units:"number"})}start(l){const u=this.toSeconds(l);return this.log("start",u),this._startGain(u),this._source.start(u),this}_stopSource(l){this._source.stop(l)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Signal extends ToneAudioNode{constructor(){super(optionsFromArguments(Signal.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const l=optionsFromArguments(Signal.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ToneConstantSource({context:this.context,convert:l.convert,offset:l.value,units:l.units,minValue:l.minValue,maxValue:l.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{convert:!0,units:"number",value:0})}connect(l,u=0,c=0){return connectSignal(this,l,u,c),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(l,u){return this._param.setValueAtTime(l,u),this}getValueAtTime(l){return this._param.getValueAtTime(l)}setRampPoint(l){return this._param.setRampPoint(l),this}linearRampToValueAtTime(l,u){return this._param.linearRampToValueAtTime(l,u),this}exponentialRampToValueAtTime(l,u){return this._param.exponentialRampToValueAtTime(l,u),this}exponentialRampTo(l,u,c){return this._param.exponentialRampTo(l,u,c),this}linearRampTo(l,u,c){return this._param.linearRampTo(l,u,c),this}targetRampTo(l,u,c){return this._param.targetRampTo(l,u,c),this}exponentialApproachValueAtTime(l,u,c){return this._param.exponentialApproachValueAtTime(l,u,c),this}setTargetAtTime(l,u,c){return this._param.setTargetAtTime(l,u,c),this}setValueCurveAtTime(l,u,c,m){return this._param.setValueCurveAtTime(l,u,c,m),this}cancelScheduledValues(l){return this._param.cancelScheduledValues(l),this}cancelAndHoldAtTime(l){return this._param.cancelAndHoldAtTime(l),this}rampTo(l,u,c){return this._param.rampTo(l,u,c),this}get value(){return this._param.value}set value(l){this._param.value=l}get convert(){return this._param.convert}set convert(l){this._param.convert=l}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(l){this._param.overridden=l}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(l){return this._param.apply(l),this}}function connectSignal(f,l,u,c){(l instanceof Param||isAudioParam(l)||l instanceof Signal&&l.override)&&(l.cancelScheduledValues(0),l.setValueAtTime(0,0),l instanceof Signal&&(l.overridden=!0)),connect(f,l,u,c)}class TickParam extends Param{constructor(){super(optionsFromArguments(TickParam.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Timeline(1/0),this._multiplier=1;const l=optionsFromArguments(TickParam.getDefaults(),arguments,["value"]);this._multiplier=l.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(l.value)}),this.setValueAtTime(l.value,0)}static getDefaults(){return Object.assign(Param.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(l,u,c){u=this.toSeconds(u),this.setRampPoint(u);const m=this._fromType(l),_=this._events.get(u),g=Math.round(Math.max(1/c,1));for(let b=0;b<=g;b++){const y=c*b+u,S=this._exponentialApproach(_.time,_.value,m,c,y);this.linearRampToValueAtTime(this._toType(S),y)}return this}setValueAtTime(l,u){const c=this.toSeconds(u);super.setValueAtTime(l,u);const m=this._events.get(c),_=this._events.previousEvent(m),g=this._getTicksUntilEvent(_,c);return m.ticks=Math.max(g,0),this}linearRampToValueAtTime(l,u){const c=this.toSeconds(u);super.linearRampToValueAtTime(l,u);const m=this._events.get(c),_=this._events.previousEvent(m),g=this._getTicksUntilEvent(_,c);return m.ticks=Math.max(g,0),this}exponentialRampToValueAtTime(l,u){u=this.toSeconds(u);const c=this._fromType(l),m=this._events.get(u),_=Math.round(Math.max((u-m.time)*10,1)),g=(u-m.time)/_;for(let b=0;b<=_;b++){const y=g*b+m.time,S=this._exponentialInterpolate(m.time,m.value,u,c,y);this.linearRampToValueAtTime(this._toType(S),y)}return this}_getTicksUntilEvent(l,u){if(l===null)l={ticks:0,time:0,type:"setValueAtTime",value:0};else if(isUndef(l.ticks)){const g=this._events.previousEvent(l);l.ticks=this._getTicksUntilEvent(g,l.time)}const c=this._fromType(this.getValueAtTime(l.time));let m=this._fromType(this.getValueAtTime(u));const _=this._events.get(u);return _&&_.time===u&&_.type==="setValueAtTime"&&(m=this._fromType(this.getValueAtTime(u-this.sampleTime))),.5*(u-l.time)*(c+m)+l.ticks}getTicksAtTime(l){const u=this.toSeconds(l),c=this._events.get(u);return Math.max(this._getTicksUntilEvent(c,u),0)}getDurationOfTicks(l,u){const c=this.toSeconds(u),m=this.getTicksAtTime(u);return this.getTimeOfTick(m+l)-c}getTimeOfTick(l){const u=this._events.get(l,"ticks"),c=this._events.getAfter(l,"ticks");if(u&&u.ticks===l)return u.time;if(u&&c&&c.type==="linearRampToValueAtTime"&&u.value!==c.value){const m=this._fromType(this.getValueAtTime(u.time)),g=(this._fromType(this.getValueAtTime(c.time))-m)/(c.time-u.time),b=Math.sqrt(Math.pow(m,2)-2*g*(u.ticks-l)),y=(-m+b)/g,S=(-m-b)/g;return(y>0?y:S)+u.time}else return u?u.value===0?1/0:u.time+(l-u.ticks)/u.value:l/this._initialValue}ticksToTime(l,u){return this.getDurationOfTicks(l,u)}timeToTicks(l,u){const c=this.toSeconds(u),m=this.toSeconds(l),_=this.getTicksAtTime(c);return this.getTicksAtTime(c+m)-_}_fromType(l){return this.units==="bpm"&&this.multiplier?1/(60/l/this.multiplier):super._fromType(l)}_toType(l){return this.units==="bpm"&&this.multiplier?l/this.multiplier*60:super._toType(l)}get multiplier(){return this._multiplier}set multiplier(l){const u=this.value;this._multiplier=l,this.cancelScheduledValues(0),this.setValueAtTime(u,0)}}class TickSignal extends Signal{constructor(){super(optionsFromArguments(TickSignal.getDefaults(),arguments,["value"])),this.name="TickSignal";const l=optionsFromArguments(TickSignal.getDefaults(),arguments,["value"]);this.input=this._param=new TickParam({context:this.context,convert:l.convert,multiplier:l.multiplier,param:this._constantSource.offset,units:l.units,value:l.value})}static getDefaults(){return Object.assign(Signal.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(l,u){return this._param.ticksToTime(l,u)}timeToTicks(l,u){return this._param.timeToTicks(l,u)}getTimeOfTick(l){return this._param.getTimeOfTick(l)}getDurationOfTicks(l,u){return this._param.getDurationOfTicks(l,u)}getTicksAtTime(l){return this._param.getTicksAtTime(l)}get multiplier(){return this._param.multiplier}set multiplier(l){this._param.multiplier=l}dispose(){return super.dispose(),this._param.dispose(),this}}class TickSource extends ToneWithContext{constructor(){super(optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new StateTimeline,this._tickOffset=new Timeline;const l=optionsFromArguments(TickSource.getDefaults(),arguments,["frequency"]);this.frequency=new TickSignal({context:this.context,units:l.units,value:l.frequency}),readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ToneWithContext.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(l,u){const c=this.toSeconds(l);return this._state.getValueAtTime(c)!=="started"&&(this._state.setStateAtTime("started",c),isDefined(u)&&this.setTicksAtTime(u,c)),this}stop(l){const u=this.toSeconds(l);if(this._state.getValueAtTime(u)==="stopped"){const c=this._state.get(u);c&&c.time>0&&(this._tickOffset.cancel(c.time),this._state.cancel(c.time))}return this._state.cancel(u),this._state.setStateAtTime("stopped",u),this.setTicksAtTime(0,u),this}pause(l){const u=this.toSeconds(l);return this._state.getValueAtTime(u)==="started"&&this._state.setStateAtTime("paused",u),this}cancel(l){return l=this.toSeconds(l),this._state.cancel(l),this._tickOffset.cancel(l),this}getTicksAtTime(l){const u=this.toSeconds(l),c=this._state.getLastState("stopped",u),m={state:"paused",time:u};this._state.add(m);let _=c,g=0;return this._state.forEachBetween(c.time,u+this.sampleTime,b=>{let y=_.time;const S=this._tickOffset.get(b.time);S&&S.time>=_.time&&(g=S.ticks,y=S.time),_.state==="started"&&b.state!=="started"&&(g+=this.frequency.getTicksAtTime(b.time)-this.frequency.getTicksAtTime(y)),_=b}),this._state.remove(m),g}get ticks(){return this.getTicksAtTime(this.now())}set ticks(l){this.setTicksAtTime(l,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(l){const u=this.now(),c=this.frequency.timeToTicks(l,u);this.setTicksAtTime(c,u)}getSecondsAtTime(l){l=this.toSeconds(l);const u=this._state.getLastState("stopped",l),c={state:"paused",time:l};this._state.add(c);let m=u,_=0;return this._state.forEachBetween(u.time,l+this.sampleTime,g=>{let b=m.time;const y=this._tickOffset.get(g.time);y&&y.time>=m.time&&(_=y.seconds,b=y.time),m.state==="started"&&g.state!=="started"&&(_+=g.time-b),m=g}),this._state.remove(c),_}setTicksAtTime(l,u){return u=this.toSeconds(u),this._tickOffset.cancel(u),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(l,u),ticks:l,time:u}),this}getStateAtTime(l){return l=this.toSeconds(l),this._state.getValueAtTime(l)}getTimeOfTick(l,u=this.now()){const c=this._tickOffset.get(u),m=this._state.get(u),_=Math.max(c.time,m.time),g=this.frequency.getTicksAtTime(_)+l-c.ticks;return this.frequency.getTimeOfTick(g)}forEachTickBetween(l,u,c){let m=this._state.get(l);this._state.forEachBetween(l,u,g=>{m&&m.state==="started"&&g.state!=="started"&&this.forEachTickBetween(Math.max(m.time,l),g.time-this.sampleTime,c),m=g});let _=null;if(m&&m.state==="started"){const g=Math.max(m.time,l),b=this.frequency.getTicksAtTime(g),y=this.frequency.getTicksAtTime(m.time),S=b-y;let A=Math.ceil(S)-S;A=EQ(A,1)?0:A;let C=this.frequency.getTimeOfTick(b+A);for(;C<u;){try{c(C,Math.round(this.getTicksAtTime(C)))}catch(x){_=x;break}C+=this.frequency.getDurationOfTicks(1,C)}}if(_)throw _;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Clock extends ToneWithContext{constructor(){super(optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=noOp,this._lastUpdate=0,this._state=new StateTimeline("stopped"),this._boundLoop=this._loop.bind(this);const l=optionsFromArguments(Clock.getDefaults(),arguments,["callback","frequency"]);this.callback=l.callback,this._tickSource=new TickSource({context:this.context,frequency:l.frequency,units:l.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,readOnly(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{callback:noOp,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(l,u){assertContextRunning(this.context);const c=this.toSeconds(l);return this.log("start",c),this._state.getValueAtTime(c)!=="started"&&(this._state.setStateAtTime("started",c),this._tickSource.start(c,u),c<this._lastUpdate&&this.emit("start",c,u)),this}stop(l){const u=this.toSeconds(l);return this.log("stop",u),this._state.cancel(u),this._state.setStateAtTime("stopped",u),this._tickSource.stop(u),u<this._lastUpdate&&this.emit("stop",u),this}pause(l){const u=this.toSeconds(l);return this._state.getValueAtTime(u)==="started"&&(this._state.setStateAtTime("paused",u),this._tickSource.pause(u),u<this._lastUpdate&&this.emit("pause",u)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(l){this._tickSource.ticks=l}get seconds(){return this._tickSource.seconds}set seconds(l){this._tickSource.seconds=l}getSecondsAtTime(l){return this._tickSource.getSecondsAtTime(l)}setTicksAtTime(l,u){return this._tickSource.setTicksAtTime(l,u),this}getTimeOfTick(l,u=this.now()){return this._tickSource.getTimeOfTick(l,u)}getTicksAtTime(l){return this._tickSource.getTicksAtTime(l)}nextTickTime(l,u){const c=this.toSeconds(u),m=this.getTicksAtTime(c);return this._tickSource.getTimeOfTick(m+l,c)}_loop(){const l=this._lastUpdate,u=this.now();this._lastUpdate=u,this.log("loop",l,u),l!==u&&(this._state.forEachBetween(l,u,c=>{switch(c.state){case"started":const m=this._tickSource.getTicksAtTime(c.time);this.emit("start",c.time,m);break;case"stopped":c.time!==0&&this.emit("stop",c.time);break;case"paused":this.emit("pause",c.time);break}}),this._tickSource.forEachTickBetween(l,u,(c,m)=>{this.callback(c,m)}))}getStateAtTime(l){const u=this.toSeconds(l);return this._state.getValueAtTime(u)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Emitter$1.mixin(Clock);class ToneAudioBuffers extends Tone{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const l=optionsFromArguments(ToneAudioBuffers.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=l.baseUrl,Object.keys(l.urls).forEach(u=>{this._loadingCount++;const c=l.urls[u];this.add(u,c,this._bufferLoaded.bind(this,l.onload),l.onerror)})}static getDefaults(){return{baseUrl:"",onerror:noOp,onload:noOp,urls:{}}}has(l){return this._buffers.has(l.toString())}get(l){return assert(this.has(l),`ToneAudioBuffers has no buffer named: ${l}`),this._buffers.get(l.toString())}_bufferLoaded(l){this._loadingCount--,this._loadingCount===0&&l&&l()}get loaded(){return Array.from(this._buffers).every(([l,u])=>u.loaded)}add(l,u,c=noOp,m=noOp){return isString(u)?this._buffers.set(l.toString(),new ToneAudioBuffer(this.baseUrl+u,c,m)):this._buffers.set(l.toString(),new ToneAudioBuffer(u,c,m)),this}dispose(){return super.dispose(),this._buffers.forEach(l=>l.dispose()),this._buffers.clear(),this}}class TicksClass extends TransportTimeClass{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(l){return this._getPPQ()*l}_secondsToUnits(l){return Math.floor(l/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(l){return l}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Draw extends ToneWithContext{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Timeline,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(l,u){return this._events.add({callback:l,time:this.toSeconds(u)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(l){return this._events.cancel(this.toSeconds(l)),this}_drawLoop(){const l=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=l;){const u=this._events.shift();u&&l-u.time<=this.expiration&&u.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}onContextInit(f=>{f.draw=new Draw({context:f})});onContextClose(f=>{f.draw.dispose()});class IntervalTimeline extends Tone{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(l){assert(isDefined(l.time),"Events must have a time property"),assert(isDefined(l.duration),"Events must have a duration parameter"),l.time=l.time.valueOf();let u=new IntervalNode(l.time,l.time+l.duration,l);for(this._root===null?this._root=u:this._root.insert(u),this._length++;u!==null;)u.updateHeight(),u.updateMax(),this._rebalance(u),u=u.parent;return this}remove(l){if(this._root!==null){const u=[];this._root.search(l.time,u);for(const c of u)if(c.event===l){this._removeNode(c),this._length--;break}}return this}get length(){return this._length}cancel(l){return this.forEachFrom(l,u=>this.remove(u)),this}_setRoot(l){this._root=l,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(l,u){l.parent!==null?(l.isLeftChild()?l.parent.left=u:l.parent.right=u,this._rebalance(l.parent)):this._setRoot(u)}_removeNode(l){if(l.left===null&&l.right===null)this._replaceNodeInParent(l,null);else if(l.right===null)this._replaceNodeInParent(l,l.left);else if(l.left===null)this._replaceNodeInParent(l,l.right);else{const u=l.getBalance();let c,m=null;if(u>0)if(l.left.right===null)c=l.left,c.right=l.right,m=c;else{for(c=l.left.right;c.right!==null;)c=c.right;c.parent&&(c.parent.right=c.left,m=c.parent,c.left=l.left,c.right=l.right)}else if(l.right.left===null)c=l.right,c.left=l.left,m=c;else{for(c=l.right.left;c.left!==null;)c=c.left;c.parent&&(c.parent.left=c.right,m=c.parent,c.left=l.left,c.right=l.right)}l.parent!==null?l.isLeftChild()?l.parent.left=c:l.parent.right=c:this._setRoot(c),m&&this._rebalance(m)}l.dispose()}_rotateLeft(l){const u=l.parent,c=l.isLeftChild(),m=l.right;m&&(l.right=m.left,m.left=l),u!==null?c?u.left=m:u.right=m:this._setRoot(m)}_rotateRight(l){const u=l.parent,c=l.isLeftChild(),m=l.left;m&&(l.left=m.right,m.right=l),u!==null?c?u.left=m:u.right=m:this._setRoot(m)}_rebalance(l){const u=l.getBalance();u>1&&l.left?l.left.getBalance()<0?this._rotateLeft(l.left):this._rotateRight(l):u<-1&&l.right&&(l.right.getBalance()>0?this._rotateRight(l.right):this._rotateLeft(l))}get(l){if(this._root!==null){const u=[];if(this._root.search(l,u),u.length>0){let c=u[0];for(let m=1;m<u.length;m++)u[m].low>c.low&&(c=u[m]);return c.event}}return null}forEach(l){if(this._root!==null){const u=[];this._root.traverse(c=>u.push(c)),u.forEach(c=>{c.event&&l(c.event)})}return this}forEachAtTime(l,u){if(this._root!==null){const c=[];this._root.search(l,c),c.forEach(m=>{m.event&&u(m.event)})}return this}forEachFrom(l,u){if(this._root!==null){const c=[];this._root.searchAfter(l,c),c.forEach(m=>{m.event&&u(m.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(l=>l.dispose()),this._root=null,this}}class IntervalNode{constructor(l,u,c){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=c,this.low=l,this.high=u,this.max=this.high}insert(l){l.low<=this.low?this.left===null?this.left=l:this.left.insert(l):this.right===null?this.right=l:this.right.insert(l)}search(l,u){l>this.max||(this.left!==null&&this.left.search(l,u),this.low<=l&&this.high>l&&u.push(this),!(this.low>l)&&this.right!==null&&this.right.search(l,u))}searchAfter(l,u){this.low>=l&&(u.push(this),this.left!==null&&this.left.searchAfter(l,u)),this.right!==null&&this.right.searchAfter(l,u)}traverse(l){l(this),this.left!==null&&this.left.traverse(l),this.right!==null&&this.right.traverse(l)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let l=0;return this.left!==null&&this.right!==null?l=this.left.height-this.right.height:this.left!==null?l=this.left.height+1:this.right!==null&&(l=-(this.right.height+1)),l}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(l){this._left=l,l!==null&&(l.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(l){this._right=l,l!==null&&(l.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Volume extends ToneAudioNode{constructor(){super(optionsFromArguments(Volume.getDefaults(),arguments,["volume"])),this.name="Volume";const l=optionsFromArguments(Volume.getDefaults(),arguments,["volume"]);this.input=this.output=new Gain({context:this.context,gain:l.volume,units:"decibels"}),this.volume=this.output.gain,readOnly(this,"volume"),this._unmutedVolume=l.volume,this.mute=l.mute}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(l){!this.mute&&l?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!l&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Destination extends ToneAudioNode{constructor(){super(optionsFromArguments(Destination.getDefaults(),arguments)),this.name="Destination",this.input=new Volume({context:this.context}),this.output=new Gain({context:this.context}),this.volume=this.input.volume;const l=optionsFromArguments(Destination.getDefaults(),arguments);connectSeries(this.input,this.output,this.context.rawContext.destination),this.mute=l.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(l){this.input.mute=l}chain(...l){return this.input.disconnect(),l.unshift(this.input),l.push(this.output),connectSeries(...l),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}onContextInit(f=>{f.destination=new Destination({context:f})});onContextClose(f=>{f.destination.dispose()});class TimelineValue extends Tone{constructor(l){super(),this.name="TimelineValue",this._timeline=new Timeline({memory:10}),this._initialValue=l}set(l,u){return this._timeline.add({value:l,time:u}),this}get(l){const u=this._timeline.get(l);return u?u.value:this._initialValue}}class TransportEvent{constructor(l,u){this.id=TransportEvent._eventId++;const c=Object.assign(TransportEvent.getDefaults(),u);this.transport=l,this.callback=c.callback,this._once=c.once,this.time=c.time}static getDefaults(){return{callback:noOp,once:!1,time:0}}invoke(l){this.callback&&(this.callback(l),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}TransportEvent._eventId=0;class TransportRepeatEvent extends TransportEvent{constructor(l,u){super(l,u),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const c=Object.assign(TransportRepeatEvent.getDefaults(),u);this.duration=new TicksClass(l.context,c.duration).valueOf(),this._interval=new TicksClass(l.context,c.interval).valueOf(),this._nextTick=c.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},TransportEvent.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(l){this._createEvents(l),super.invoke(l)}_createEvents(l){const u=this.transport.getTicksAtTime(l);u>=this.time&&u>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()))}_restart(l){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const u=this.transport.getTicksAtTime(l);u>this.time&&(this._nextTick=this.time+Math.ceil((u-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new TicksClass(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}let Transport$1=class zr extends ToneWithContext{constructor(){super(optionsFromArguments(zr.getDefaults(),arguments)),this.name="Transport",this._loop=new TimelineValue(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Timeline,this._repeatedEvents=new IntervalTimeline,this._syncedSignals=[],this._swingAmount=0;const l=optionsFromArguments(zr.getDefaults(),arguments);this._ppq=l.ppq,this._clock=new Clock({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=l.ppq,this.bpm.setValueAtTime(l.bpm,0),readOnly(this,"bpm"),this._timeSignature=l.timeSignature,this._swingTicks=l.ppq/2}static getDefaults(){return Object.assign(ToneWithContext.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(l,u){if(this._loop.get(l)&&u>=this._loopEnd&&(this.emit("loopEnd",l),this._clock.setTicksAtTime(this._loopStart,l),u=this._loopStart,this.emit("loopStart",l,this._clock.getSecondsAtTime(l)),this.emit("loop",l)),this._swingAmount>0&&u%this._ppq!==0&&u%(this._swingTicks*2)!==0){const c=u%(this._swingTicks*2)/(this._swingTicks*2),m=Math.sin(c*Math.PI)*this._swingAmount;l+=new TicksClass(this.context,this._swingTicks*2/3).toSeconds()*m}this._timeline.forEachAtTime(u,c=>c.invoke(l))}schedule(l,u){const c=new TransportEvent(this,{callback:l,time:new TransportTimeClass(this.context,u).toTicks()});return this._addEvent(c,this._timeline)}scheduleRepeat(l,u,c,m=1/0){const _=new TransportRepeatEvent(this,{callback:l,duration:new TimeClass(this.context,m).toTicks(),interval:new TimeClass(this.context,u).toTicks(),time:new TransportTimeClass(this.context,c).toTicks()});return this._addEvent(_,this._repeatedEvents)}scheduleOnce(l,u){const c=new TransportEvent(this,{callback:l,once:!0,time:new TransportTimeClass(this.context,u).toTicks()});return this._addEvent(c,this._timeline)}clear(l){if(this._scheduledEvents.hasOwnProperty(l)){const u=this._scheduledEvents[l.toString()];u.timeline.remove(u.event),u.event.dispose(),delete this._scheduledEvents[l.toString()]}return this}_addEvent(l,u){return this._scheduledEvents[l.id.toString()]={event:l,timeline:u},u.add(l),l.id}cancel(l=0){const u=this.toTicks(l);return this._timeline.forEachFrom(u,c=>this.clear(c.id)),this._repeatedEvents.forEachFrom(u,c=>this.clear(c.id)),this}_bindClockEvents(){this._clock.on("start",(l,u)=>{u=new TicksClass(this.context,u).toSeconds(),this.emit("start",l,u)}),this._clock.on("stop",l=>{this.emit("stop",l)}),this._clock.on("pause",l=>{this.emit("pause",l)})}get state(){return this._clock.getStateAtTime(this.now())}start(l,u){let c;return isDefined(u)&&(c=this.toTicks(u)),this._clock.start(l,c),this}stop(l){return this._clock.stop(l),this}pause(l){return this._clock.pause(l),this}toggle(l){return l=this.toSeconds(l),this._clock.getStateAtTime(l)!=="started"?this.start(l):this.stop(l),this}get timeSignature(){return this._timeSignature}set timeSignature(l){isArray(l)&&(l=l[0]/l[1]*4),this._timeSignature=l}get loopStart(){return new TimeClass(this.context,this._loopStart,"i").toSeconds()}set loopStart(l){this._loopStart=this.toTicks(l)}get loopEnd(){return new TimeClass(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(l){this._loopEnd=this.toTicks(l)}get loop(){return this._loop.get(this.now())}set loop(l){this._loop.set(l,this.now())}setLoopPoints(l,u){return this.loopStart=l,this.loopEnd=u,this}get swing(){return this._swingAmount}set swing(l){this._swingAmount=l}get swingSubdivision(){return new TicksClass(this.context,this._swingTicks).toNotation()}set swingSubdivision(l){this._swingTicks=this.toTicks(l)}get position(){const l=this.now(),u=this._clock.getTicksAtTime(l);return new TicksClass(this.context,u).toBarsBeatsSixteenths()}set position(l){const u=this.toTicks(l);this.ticks=u}get seconds(){return this._clock.seconds}set seconds(l){const u=this.now(),c=this._clock.frequency.timeToTicks(l,u);this.ticks=c}get progress(){if(this.loop){const l=this.now();return(this._clock.getTicksAtTime(l)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(l){if(this._clock.ticks!==l){const u=this.now();if(this.state==="started"){const c=this._clock.getTicksAtTime(u),m=this._clock.frequency.getDurationOfTicks(Math.ceil(c)-c,u),_=u+m;this.emit("stop",_),this._clock.setTicksAtTime(l,_),this.emit("start",_,this._clock.getSecondsAtTime(_))}else this._clock.setTicksAtTime(l,u)}}getTicksAtTime(l){return Math.round(this._clock.getTicksAtTime(l))}getSecondsAtTime(l){return this._clock.getSecondsAtTime(l)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(l){this._clock.frequency.multiplier=l}nextSubdivision(l){if(l=this.toTicks(l),this.state!=="started")return 0;{const u=this.now(),c=this.getTicksAtTime(u),m=l-c%l;return this._clock.nextTickTime(m,u)}}syncSignal(l,u){if(!u){const m=this.now();if(l.getValueAtTime(m)!==0){const g=1/(60/this.bpm.getValueAtTime(m)/this.PPQ);u=l.getValueAtTime(m)/g}else u=0}const c=new Gain(u);return this.bpm.connect(c),c.connect(l._param),this._syncedSignals.push({initial:l.value,ratio:c,signal:l}),l.value=0,this}unsyncSignal(l){for(let u=this._syncedSignals.length-1;u>=0;u--){const c=this._syncedSignals[u];c.signal===l&&(c.ratio.dispose(),c.signal.value=c.initial,this._syncedSignals.splice(u,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),writable(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}};Emitter$1.mixin(Transport$1);onContextInit(f=>{f.transport=new Transport$1({context:f})});onContextClose(f=>{f.transport.dispose()});class Source extends ToneAudioNode{constructor(l){super(l),this.input=void 0,this._state=new StateTimeline("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=noOp,this._syncedStop=noOp,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Volume({context:this.context,mute:l.mute,volume:l.volume}),this.volume=this._volume.volume,readOnly(this,"volume"),this.onstop=l.onstop}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,onstop:noOp,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(l){this._volume.mute=l}_clampToCurrentTime(l){return this._synced?l:Math.max(l,this.context.currentTime)}start(l,u,c){let m=isUndef(l)&&this._synced?this.context.transport.seconds:this.toSeconds(l);if(m=this._clampToCurrentTime(m),!this._synced&&this._state.getValueAtTime(m)==="started")assert(GT(m,this._state.get(m).time),"Start time must be strictly greater than previous start time"),this._state.cancel(m),this._state.setStateAtTime("started",m),this.log("restart",m),this.restart(m,u,c);else if(this.log("start",m),this._state.setStateAtTime("started",m),this._synced){const _=this._state.get(m);_&&(_.offset=this.toSeconds(defaultArg(u,0)),_.duration=c?this.toSeconds(c):void 0);const g=this.context.transport.schedule(b=>{this._start(b,u,c)},m);this._scheduled.push(g),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>m&&this._syncedStart(this.now(),this.context.transport.seconds)}else assertContextRunning(this.context),this._start(m,u,c);return this}stop(l){let u=isUndef(l)&&this._synced?this.context.transport.seconds:this.toSeconds(l);if(u=this._clampToCurrentTime(u),this._state.getValueAtTime(u)==="started"||isDefined(this._state.getNextState("started",u))){if(this.log("stop",u),!this._synced)this._stop(u);else{const c=this.context.transport.schedule(this._stop.bind(this),u);this._scheduled.push(c)}this._state.cancel(u),this._state.setStateAtTime("stopped",u)}return this}restart(l,u,c){return l=this.toSeconds(l),this._state.getValueAtTime(l)==="started"&&(this._state.cancel(l),this._restart(l,u,c)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(l,u)=>{if(u>0){const c=this._state.get(u);if(c&&c.state==="started"&&c.time!==u){const m=u-this.toSeconds(c.time);let _;c.duration&&(_=this.toSeconds(c.duration)-m),this._start(l,this.toSeconds(c.offset)+m,_)}}},this._syncedStop=l=>{const u=this.context.transport.getSecondsAtTime(Math.max(l-this.sampleTime,0));this._state.getValueAtTime(u)==="started"&&this._stop(l)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(l=>this.context.transport.clear(l)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=noOp,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ToneBufferSource extends OneShotSource{constructor(){super(optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const l=optionsFromArguments(ToneBufferSource.getDefaults(),arguments,["url","onload"]);connect(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Param({context:this.context,param:this._source.playbackRate,units:"positive",value:l.playbackRate}),this.loop=l.loop,this.loopStart=l.loopStart,this.loopEnd=l.loopEnd,this._buffer=new ToneAudioBuffer(l.url,l.onload,l.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{url:new ToneAudioBuffer,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(l){this._fadeIn=l}get fadeOut(){return this._fadeOut}set fadeOut(l){this._fadeOut=l}get curve(){return this._curve}set curve(l){this._curve=l}start(l,u,c,m=1){assert(this.buffer.loaded,"buffer is either not set or not loaded");const _=this.toSeconds(l);this._startGain(_,m),this.loop?u=defaultArg(u,this.loopStart):u=defaultArg(u,0);let g=Math.max(this.toSeconds(u),0);if(this.loop){const b=this.toSeconds(this.loopEnd)||this.buffer.duration,y=this.toSeconds(this.loopStart),S=b-y;GTE(g,b)&&(g=(g-y)%S+y),EQ(g,this.buffer.duration)&&(g=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,LT(g,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(_,g)),isDefined(c)){let b=this.toSeconds(c);b=Math.max(b,0),this.stop(_+b)}return this}_stopSource(l){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(l)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(l){this._source.loopStart=this.toSeconds(l)}get loopEnd(){return this._source.loopEnd}set loopEnd(l){this._source.loopEnd=this.toSeconds(l)}get buffer(){return this._buffer}set buffer(l){this._buffer.set(l)}get loop(){return this._source.loop}set loop(l){this._source.loop=l,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function generateWaveform(f,l){return __awaiter(this,void 0,void 0,function*(){const u=l/f.context.sampleRate,c=new OfflineContext(1,u,f.context.sampleRate);return new f.constructor(Object.assign(f.get(),{frequency:2/u,detune:0,context:c})).toDestination().start(0),(yield c.render()).getChannelData(0)})}class ToneOscillatorNode extends OneShotSource{constructor(){super(optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const l=optionsFromArguments(ToneOscillatorNode.getDefaults(),arguments,["frequency","type"]);connect(this._oscillator,this._gainNode),this.type=l.type,this.frequency=new Param({context:this.context,param:this._oscillator.frequency,units:"frequency",value:l.frequency}),this.detune=new Param({context:this.context,param:this._oscillator.detune,units:"cents",value:l.detune}),readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(OneShotSource.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(l){const u=this.toSeconds(l);return this.log("start",u),this._startGain(u),this._oscillator.start(u),this}_stopSource(l){this._oscillator.stop(l)}setPeriodicWave(l){return this._oscillator.setPeriodicWave(l),this}get type(){return this._oscillator.type}set type(l){this._oscillator.type=l}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Oscillator extends Source{constructor(){super(optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const l=optionsFromArguments(Oscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:l.frequency}),readOnly(this,"frequency"),this.detune=new Signal({context:this.context,units:"cents",value:l.detune}),readOnly(this,"detune"),this._partials=l.partials,this._partialCount=l.partialCount,this._type=l.type,l.partialCount&&l.type!=="custom"&&(this._type=this.baseType+l.partialCount.toString()),this.phase=l.phase}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(l){const u=this.toSeconds(l),c=new ToneOscillatorNode({context:this.context,onended:()=>this.onstop(this)});this._oscillator=c,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(u)}_stop(l){const u=this.toSeconds(l);this._oscillator&&this._oscillator.stop(u)}_restart(l){const u=this.toSeconds(l);return this.log("restart",u),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(u),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Oscillator._periodicWaveCache.find(u=>u.phase===this._phase&&deepEquals(u.partials,this._partials));{const l=Oscillator._periodicWaveCache.find(u=>u.type===this._type&&u.phase===this._phase);return this._partialCount=l?l.partialCount:this._partialCount,l}}get type(){return this._type}set type(l){this._type=l;const u=["sine","square","sawtooth","triangle"].indexOf(l)!==-1;if(this._phase===0&&u)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=l);else{const c=this._getCachedPeriodicWave();if(isDefined(c)){const{partials:m,wave:_}=c;this._wave=_,this._partials=m,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[m,_]=this._getRealImaginary(l,this._phase),g=this.context.createPeriodicWave(m,_);this._wave=g,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Oscillator._periodicWaveCache.push({imag:_,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:m,type:this._type,wave:this._wave}),Oscillator._periodicWaveCache.length>100&&Oscillator._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(l){this.partialCount&&this._type!=="custom"&&l!=="custom"?this.type=l+this.partialCount:this.type=l}get partialCount(){return this._partialCount}set partialCount(l){assertRange(l,0);let u=this._type;const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(c&&(u=c[1]),this._type!=="custom")l===0?this.type=u:this.type=u+l.toString();else{const m=new Float32Array(l);this._partials.forEach((_,g)=>m[g]=_),this._partials=Array.from(m),this.type=this._type}}_getRealImaginary(l,u){let m=2048;const _=new Float32Array(m),g=new Float32Array(m);let b=1;if(l==="custom"){if(b=this._partials.length+1,this._partialCount=this._partials.length,m=b,this._partials.length===0)return[_,g]}else{const y=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(l);y?(b=parseInt(y[2],10)+1,this._partialCount=parseInt(y[2],10),l=y[1],b=Math.max(b,2),m=b):this._partialCount=0,this._partials=[]}for(let y=1;y<m;++y){const S=2/(y*Math.PI);let A;switch(l){case"sine":A=y<=b?1:0,this._partials[y-1]=A;break;case"square":A=y&1?2*S:0,this._partials[y-1]=A;break;case"sawtooth":A=S*(y&1?1:-1),this._partials[y-1]=A;break;case"triangle":y&1?A=2*(S*S)*(y-1>>1&1?-1:1):A=0,this._partials[y-1]=A;break;case"custom":A=this._partials[y-1];break;default:throw new TypeError("Oscillator: invalid type: "+l)}A!==0?(_[y]=-A*Math.sin(u*y),g[y]=A*Math.cos(u*y)):(_[y]=0,g[y]=0)}return[_,g]}_inverseFFT(l,u,c){let m=0;const _=l.length;for(let g=0;g<_;g++)m+=l[g]*Math.cos(g*c)+u[g]*Math.sin(g*c);return m}getInitialValue(){const[l,u]=this._getRealImaginary(this._type,0);let c=0;const m=Math.PI*2,_=32;for(let g=0;g<_;g++)c=Math.max(this._inverseFFT(l,u,g/_*m),c);return clamp$1(-this._inverseFFT(l,u,this._phase)/c,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(l){this._partials=l,this._partialCount=this._partials.length,l.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(l){this._phase=l*Math.PI/180,this.type=this._type}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Oscillator._periodicWaveCache=[];class SignalOperator extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(SignalOperator.getDefaults(),arguments,["context"])))}connect(l,u=0,c=0){return connectSignal(this,l,u,c),this}}class WaveShaper extends SignalOperator{constructor(){super(Object.assign(optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const l=optionsFromArguments(WaveShaper.getDefaults(),arguments,["mapping","length"]);isArray(l.mapping)||l.mapping instanceof Float32Array?this.curve=Float32Array.from(l.mapping):isFunction(l.mapping)&&this.setMap(l.mapping,l.length)}static getDefaults(){return Object.assign(Signal.getDefaults(),{length:1024})}setMap(l,u=1024){const c=new Float32Array(u);for(let m=0,_=u;m<_;m++){const g=m/(_-1)*2-1;c[m]=l(g,m)}return this.curve=c,this}get curve(){return this._shaper.curve}set curve(l){this._shaper.curve=l}get oversample(){return this._shaper.oversample}set oversample(l){const u=["none","2x","4x"].some(c=>c.includes(l));assert(u,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=l}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class AudioToGain extends SignalOperator{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new WaveShaper({context:this.context,mapping:l=>(l+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Multiply extends Signal{constructor(){super(Object.assign(optionsFromArguments(Multiply.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const l=optionsFromArguments(Multiply.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Gain({context:this.context,minValue:l.minValue,maxValue:l.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(l.value,0)}static getDefaults(){return Object.assign(Signal.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class AMOscillator extends Source{constructor(){super(optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new AudioToGain({context:this.context}),this._modulationNode=new Gain({context:this.context});const l=optionsFromArguments(AMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:l.detune,frequency:l.frequency,onstop:()=>this.onstop(this),phase:l.phase,type:l.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Oscillator({context:this.context,phase:l.phase,type:l.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:l.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),readOnly(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(l){this._modulator.start(l),this._carrier.start(l)}_stop(l){this._modulator.stop(l),this._carrier.stop(l)}_restart(l){this._modulator.restart(l),this._carrier.restart(l)}get type(){return this._carrier.type}set type(l){this._carrier.type=l}get baseType(){return this._carrier.baseType}set baseType(l){this._carrier.baseType=l}get partialCount(){return this._carrier.partialCount}set partialCount(l){this._carrier.partialCount=l}get modulationType(){return this._modulator.type}set modulationType(l){this._modulator.type=l}get phase(){return this._carrier.phase}set phase(l){this._carrier.phase=l,this._modulator.phase=l}get partials(){return this._carrier.partials}set partials(l){this._carrier.partials=l}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class FMOscillator extends Source{constructor(){super(optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Gain({context:this.context,gain:0});const l=optionsFromArguments(FMOscillator.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Oscillator({context:this.context,detune:l.detune,frequency:0,onstop:()=>this.onstop(this),phase:l.phase,type:l.type}),this.detune=this._carrier.detune,this.frequency=new Signal({context:this.context,units:"frequency",value:l.frequency}),this._modulator=new Oscillator({context:this.context,phase:l.phase,type:l.modulationType}),this.harmonicity=new Multiply({context:this.context,units:"positive",value:l.harmonicity}),this.modulationIndex=new Multiply({context:this.context,units:"positive",value:l.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),readOnly(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(l){this._modulator.start(l),this._carrier.start(l)}_stop(l){this._modulator.stop(l),this._carrier.stop(l)}_restart(l){return this._modulator.restart(l),this._carrier.restart(l),this}get type(){return this._carrier.type}set type(l){this._carrier.type=l}get baseType(){return this._carrier.baseType}set baseType(l){this._carrier.baseType=l}get partialCount(){return this._carrier.partialCount}set partialCount(l){this._carrier.partialCount=l}get modulationType(){return this._modulator.type}set modulationType(l){this._modulator.type=l}get phase(){return this._carrier.phase}set phase(l){this._carrier.phase=l,this._modulator.phase=l}get partials(){return this._carrier.partials}set partials(l){this._carrier.partials=l}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class PulseOscillator extends Source{constructor(){super(optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Gain({context:this.context,gain:0}),this._thresh=new WaveShaper({context:this.context,mapping:u=>u<=0?-1:1});const l=optionsFromArguments(PulseOscillator.getDefaults(),arguments,["frequency","width"]);this.width=new Signal({context:this.context,units:"audioRange",value:l.width}),this._triangle=new Oscillator({context:this.context,detune:l.detune,frequency:l.frequency,onstop:()=>this.onstop(this),phase:l.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),readOnly(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(l){l=this.toSeconds(l),this._triangle.start(l),this._widthGate.gain.setValueAtTime(1,l)}_stop(l){l=this.toSeconds(l),this._triangle.stop(l),this._widthGate.gain.cancelScheduledValues(l),this._widthGate.gain.setValueAtTime(0,l)}_restart(l){this._triangle.restart(l),this._widthGate.gain.cancelScheduledValues(l),this._widthGate.gain.setValueAtTime(1,l)}get phase(){return this._triangle.phase}set phase(l){this._triangle.phase=l}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(l){this._triangle.type=l}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class FatOscillator extends Source{constructor(){super(optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const l=optionsFromArguments(FatOscillator.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Signal({context:this.context,units:"frequency",value:l.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:l.detune}),this._spread=l.spread,this._type=l.type,this._phase=l.phase,this._partials=l.partials,this._partialCount=l.partialCount,this.count=l.count,readOnly(this,["frequency","detune"])}static getDefaults(){return Object.assign(Oscillator.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(l){l=this.toSeconds(l),this._forEach(u=>u.start(l))}_stop(l){l=this.toSeconds(l),this._forEach(u=>u.stop(l))}_restart(l){this._forEach(u=>u.restart(l))}_forEach(l){for(let u=0;u<this._oscillators.length;u++)l(this._oscillators[u],u)}get type(){return this._type}set type(l){this._type=l,this._forEach(u=>u.type=l)}get spread(){return this._spread}set spread(l){if(this._spread=l,this._oscillators.length>1){const u=-l/2,c=l/(this._oscillators.length-1);this._forEach((m,_)=>m.detune.value=u+c*_)}}get count(){return this._oscillators.length}set count(l){if(assertRange(l,1),this._oscillators.length!==l){this._forEach(u=>u.dispose()),this._oscillators=[];for(let u=0;u<l;u++){const c=new Oscillator({context:this.context,volume:-6-l*1.1,type:this._type,phase:this._phase+u/l*360,partialCount:this._partialCount,onstop:u===0?()=>this.onstop(this):noOp});this.type==="custom"&&(c.partials=this._partials),this.frequency.connect(c.frequency),this.detune.connect(c.detune),c.detune.overridden=!1,c.connect(this.output),this._oscillators[u]=c}this.spread=this._spread,this.state==="started"&&this._forEach(u=>u.start())}}get phase(){return this._phase}set phase(l){this._phase=l,this._forEach((u,c)=>u.phase=this._phase+c/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(l){this._forEach(u=>u.baseType=l),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(l){this._partials=l,this._partialCount=this._partials.length,l.length&&(this._type="custom",this._forEach(u=>u.partials=l))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(l){this._partialCount=l,this._forEach(u=>u.partialCount=l),this._type=this._oscillators[0].type}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(l=>l.dispose()),this}}class PWMOscillator extends Source{constructor(){super(optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Multiply({context:this.context,value:2});const l=optionsFromArguments(PWMOscillator.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new PulseOscillator({context:this.context,frequency:l.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Oscillator({context:this.context,detune:l.detune,frequency:l.frequency,onstop:()=>this.onstop(this),phase:l.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),readOnly(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Source.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(l){l=this.toSeconds(l),this._modulator.start(l),this._pulse.start(l)}_stop(l){l=this.toSeconds(l),this._modulator.stop(l),this._pulse.stop(l)}_restart(l){this._modulator.restart(l),this._pulse.restart(l)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(l){this._modulator.phase=l}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const OmniOscillatorSourceMap={am:AMOscillator,fat:FatOscillator,fm:FMOscillator,oscillator:Oscillator,pulse:PulseOscillator,pwm:PWMOscillator};class OmniOscillator extends Source{constructor(){super(optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const l=optionsFromArguments(OmniOscillator.getDefaults(),arguments,["frequency","type"]);this.frequency=new Signal({context:this.context,units:"frequency",value:l.frequency}),this.detune=new Signal({context:this.context,units:"cents",value:l.detune}),readOnly(this,["frequency","detune"]),this.set(l)}static getDefaults(){return Object.assign(Oscillator.getDefaults(),FMOscillator.getDefaults(),AMOscillator.getDefaults(),FatOscillator.getDefaults(),PulseOscillator.getDefaults(),PWMOscillator.getDefaults())}_start(l){this._oscillator.start(l)}_stop(l){this._oscillator.stop(l)}_restart(l){return this._oscillator.restart(l),this}get type(){let l="";return["am","fm","fat"].some(u=>this._sourceType===u)&&(l=this._sourceType),l+this._oscillator.type}set type(l){l.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=l.substr(2)):l.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=l.substr(2)):l.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=l.substr(3)):l==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):l==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=l)}get partials(){return this._oscillator.partials}set partials(l){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=l)}get partialCount(){return this._oscillator.partialCount}set partialCount(l){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=l)}set(l){return Reflect.has(l,"type")&&l.type&&(this.type=l.type),super.set(l),this}_createNewOscillator(l){if(l!==this._sourceType){this._sourceType=l;const u=OmniOscillatorSourceMap[l],c=this.now();if(this._oscillator){const m=this._oscillator;m.stop(c),this.context.setTimeout(()=>m.dispose(),this.blockTime)}this._oscillator=new u({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(c)}}get phase(){return this._oscillator.phase}set phase(l){this._oscillator.phase=l}get sourceType(){return this._sourceType}set sourceType(l){let u="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(u=this._oscillator.type),l==="fm"?this.type="fm"+u:l==="am"?this.type="am"+u:l==="fat"?this.type="fat"+u:l==="oscillator"?this.type=u:l==="pulse"?this.type="pulse":l==="pwm"&&(this.type="pwm")}_getOscType(l,u){return l instanceof OmniOscillatorSourceMap[u]}get baseType(){return this._oscillator.baseType}set baseType(l){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&l!=="pulse"&&l!=="pwm"&&(this._oscillator.baseType=l)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(l){this._getOscType(this._oscillator,"fat")&&isNumber(l)&&(this._oscillator.count=l)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(l){this._getOscType(this._oscillator,"fat")&&isNumber(l)&&(this._oscillator.spread=l)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(l){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&isString(l)&&(this._oscillator.modulationType=l)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){return generateWaveform(this,l)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function range(f,l=1/0){const u=new WeakMap;return function(c,m){Reflect.defineProperty(c,m,{configurable:!0,enumerable:!0,get:function(){return u.get(this)},set:function(_){assertRange(_,f,l),u.set(this,_)}})}}function timeRange(f,l=1/0){const u=new WeakMap;return function(c,m){Reflect.defineProperty(c,m,{configurable:!0,enumerable:!0,get:function(){return u.get(this)},set:function(_){assertRange(this.toSeconds(_),f,l),u.set(this,_)}})}}class Player extends Source{constructor(){super(optionsFromArguments(Player.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const l=optionsFromArguments(Player.getDefaults(),arguments,["url","onload"]);this._buffer=new ToneAudioBuffer({onload:this._onload.bind(this,l.onload),onerror:l.onerror,reverse:l.reverse,url:l.url}),this.autostart=l.autostart,this._loop=l.loop,this._loopStart=l.loopStart,this._loopEnd=l.loopEnd,this._playbackRate=l.playbackRate,this.fadeIn=l.fadeIn,this.fadeOut=l.fadeOut}static getDefaults(){return Object.assign(Source.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:noOp,onerror:noOp,playbackRate:1,reverse:!1})}load(l){return __awaiter(this,void 0,void 0,function*(){return yield this._buffer.load(l),this._onload(),this})}_onload(l=noOp){l(),this.autostart&&this.start()}_onSourceEnd(l){this.onstop(this),this._activeSources.delete(l),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(l,u,c){return super.start(l,u,c),this}_start(l,u,c){this._loop?u=defaultArg(u,this._loopStart):u=defaultArg(u,0);const m=this.toSeconds(u),_=c;c=defaultArg(c,Math.max(this._buffer.duration-m,0));let g=this.toSeconds(c);g=g/this._playbackRate,l=this.toSeconds(l);const b=new ToneBufferSource({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(l+g),this._state.setStateAtTime("stopped",l+g,{implicitEnd:!0})),this._activeSources.add(b),this._loop&&isUndef(_)?b.start(l,m):b.start(l,m,g-this.toSeconds(this.fadeOut))}_stop(l){const u=this.toSeconds(l);this._activeSources.forEach(c=>c.stop(u))}restart(l,u,c){return super.restart(l,u,c),this}_restart(l,u,c){this._stop(l),this._start(l,u,c)}seek(l,u){const c=this.toSeconds(u);if(this._state.getValueAtTime(c)==="started"){const m=this.toSeconds(l);this._stop(c),this._start(c,m)}return this}setLoopPoints(l,u){return this.loopStart=l,this.loopEnd=u,this}get loopStart(){return this._loopStart}set loopStart(l){this._loopStart=l,this.buffer.loaded&&assertRange(this.toSeconds(l),0,this.buffer.duration),this._activeSources.forEach(u=>{u.loopStart=l})}get loopEnd(){return this._loopEnd}set loopEnd(l){this._loopEnd=l,this.buffer.loaded&&assertRange(this.toSeconds(l),0,this.buffer.duration),this._activeSources.forEach(u=>{u.loopEnd=l})}get buffer(){return this._buffer}set buffer(l){this._buffer.set(l)}get loop(){return this._loop}set loop(l){if(this._loop!==l&&(this._loop=l,this._activeSources.forEach(u=>{u.loop=l}),l)){const u=this._state.getNextState("stopped",this.now());u&&this._state.cancel(u.time)}}get playbackRate(){return this._playbackRate}set playbackRate(l){this._playbackRate=l;const u=this.now(),c=this._state.getNextState("stopped",u);c&&c.implicitEnd&&(this._state.cancel(c.time),this._activeSources.forEach(m=>m.cancelStop())),this._activeSources.forEach(m=>{m.playbackRate.setValueAtTime(l,u)})}get reverse(){return this._buffer.reverse}set reverse(l){this._buffer.reverse=l}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(l=>l.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}__decorate([timeRange(0)],Player.prototype,"fadeIn",void 0);__decorate([timeRange(0)],Player.prototype,"fadeOut",void 0);class GainToAudio extends SignalOperator{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new WaveShaper({context:this.context,mapping:l=>Math.abs(l)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Envelope extends ToneAudioNode{constructor(){super(optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Signal({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const l=optionsFromArguments(Envelope.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=l.attack,this.decay=l.decay,this.sustain=l.sustain,this.release=l.release,this.attackCurve=l.attackCurve,this.releaseCurve=l.releaseCurve,this.decayCurve=l.decayCurve}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(l,u){if(isString(l))return l;{let c;for(c in EnvelopeCurves)if(EnvelopeCurves[c][u]===l)return c;return l}}_setCurve(l,u,c){if(isString(c)&&Reflect.has(EnvelopeCurves,c)){const m=EnvelopeCurves[c];isObject$2(m)?l!=="_decayCurve"&&(this[l]=m[u]):this[l]=m}else if(isArray(c)&&l!=="_decayCurve")this[l]=c;else throw new Error("Envelope: invalid curve: "+c)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(l){this._setCurve("_attackCurve","In",l)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(l){this._setCurve("_releaseCurve","Out",l)}get decayCurve(){return this._decayCurve}set decayCurve(l){assert(["linear","exponential"].some(u=>u===l),`Invalid envelope curve: ${l}`),this._decayCurve=l}triggerAttack(l,u=1){this.log("triggerAttack",l,u),l=this.toSeconds(l);let m=this.toSeconds(this.attack);const _=this.toSeconds(this.decay),g=this.getValueAtTime(l);if(g>0){const b=1/m;m=(1-g)/b}if(m<this.sampleTime)this._sig.cancelScheduledValues(l),this._sig.setValueAtTime(u,l);else if(this._attackCurve==="linear")this._sig.linearRampTo(u,m,l);else if(this._attackCurve==="exponential")this._sig.targetRampTo(u,m,l);else{this._sig.cancelAndHoldAtTime(l);let b=this._attackCurve;for(let y=1;y<b.length;y++)if(b[y-1]<=g&&g<=b[y]){b=this._attackCurve.slice(y),b[0]=g;break}this._sig.setValueCurveAtTime(b,l,m,u)}if(_&&this.sustain<1){const b=u*this.sustain,y=l+m;this.log("decay",y),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(b,_+y):this._sig.exponentialApproachValueAtTime(b,y,_)}return this}triggerRelease(l){this.log("triggerRelease",l),l=this.toSeconds(l);const u=this.getValueAtTime(l);if(u>0){const c=this.toSeconds(this.release);c<this.sampleTime?this._sig.setValueAtTime(0,l):this._releaseCurve==="linear"?this._sig.linearRampTo(0,c,l):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,c,l):(assert(isArray(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(l),this._sig.setValueCurveAtTime(this._releaseCurve,l,c,u))}return this}getValueAtTime(l){return this._sig.getValueAtTime(l)}triggerAttackRelease(l,u,c=1){return u=this.toSeconds(u),this.triggerAttack(u,c),this.triggerRelease(u+this.toSeconds(l)),this}cancel(l){return this._sig.cancelScheduledValues(this.toSeconds(l)),this}connect(l,u=0,c=0){return connectSignal(this,l,u,c),this}asArray(l=1024){return __awaiter(this,void 0,void 0,function*(){const u=l/this.context.sampleRate,c=new OfflineContext(1,u,this.context.sampleRate),m=this.toSeconds(this.attack)+this.toSeconds(this.decay),_=m+this.toSeconds(this.release),g=_*.1,b=_+g,y=new this.constructor(Object.assign(this.get(),{attack:u*this.toSeconds(this.attack)/b,decay:u*this.toSeconds(this.decay)/b,release:u*this.toSeconds(this.release)/b,context:c}));return y._sig.toDestination(),y.triggerAttackRelease(u*(m+g)/b,0),(yield c.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}__decorate([timeRange(0)],Envelope.prototype,"attack",void 0);__decorate([timeRange(0)],Envelope.prototype,"decay",void 0);__decorate([range(0,1)],Envelope.prototype,"sustain",void 0);__decorate([timeRange(0)],Envelope.prototype,"release",void 0);const EnvelopeCurves=(()=>{let l,u;const c=[];for(l=0;l<128;l++)c[l]=Math.sin(l/(128-1)*(Math.PI/2));const m=[],_=6.4;for(l=0;l<128-1;l++){u=l/(128-1);const x=Math.sin(u*(Math.PI*2)*_-Math.PI/2)+1;m[l]=x/10+u*.83}m[128-1]=1;const g=[],b=5;for(l=0;l<128;l++)g[l]=Math.ceil(l/(128-1)*b)/b;const y=[];for(l=0;l<128;l++)u=l/(128-1),y[l]=.5*(1-Math.cos(Math.PI*u));const S=[];for(l=0;l<128;l++){u=l/(128-1);const x=Math.pow(u,3)*4+.2,E=Math.cos(x*Math.PI*2*u);S[l]=Math.abs(E*(1-u))}function A(x){const E=new Array(x.length);for(let k=0;k<x.length;k++)E[k]=1-x[k];return E}function C(x){return x.slice(0).reverse()}return{bounce:{In:A(S),Out:S},cosine:{In:c,Out:C(c)},exponential:"exponential",linear:"linear",ripple:{In:m,Out:A(m)},sine:{In:y,Out:A(y)},step:{In:g,Out:A(g)}}})();class Instrument extends ToneAudioNode{constructor(){super(optionsFromArguments(Instrument.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const l=optionsFromArguments(Instrument.getDefaults(),arguments);this._volume=this.output=new Volume({context:this.context,volume:l.volume}),this.volume=this._volume.volume,readOnly(this,"volume")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let l=!1;return this._synced||(this._synced=!0,l=!0),l}_syncMethod(l,u){const c=this["_original_"+l]=this[l];this[l]=(...m)=>{const _=m[u],g=this.context.transport.schedule(b=>{m[u]=b,c.apply(this,m)},_);this._scheduledEvents.push(g)}}unsync(){return this._scheduledEvents.forEach(l=>this.context.transport.clear(l)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(l,u,c,m){const _=this.toSeconds(c),g=this.toSeconds(u);return this.triggerAttack(l,_,m),this.triggerRelease(_+g),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Monophonic extends Instrument{constructor(){super(optionsFromArguments(Monophonic.getDefaults(),arguments));const l=optionsFromArguments(Monophonic.getDefaults(),arguments);this.portamento=l.portamento,this.onsilence=l.onsilence}static getDefaults(){return Object.assign(Instrument.getDefaults(),{detune:0,onsilence:noOp,portamento:0})}triggerAttack(l,u,c=1){this.log("triggerAttack",l,u,c);const m=this.toSeconds(u);return this._triggerEnvelopeAttack(m,c),this.setNote(l,m),this}triggerRelease(l){this.log("triggerRelease",l);const u=this.toSeconds(l);return this._triggerEnvelopeRelease(u),this}setNote(l,u){const c=this.toSeconds(u),m=l instanceof FrequencyClass?l.toFrequency():l;if(this.portamento>0&&this.getLevelAtTime(c)>.05){const _=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(m,_,c)}else this.frequency.setValueAtTime(m,c);return this}}__decorate([timeRange(0)],Monophonic.prototype,"portamento",void 0);class AmplitudeEnvelope extends Envelope{constructor(){super(optionsFromArguments(AmplitudeEnvelope.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Gain({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}let Synth$1=class Wr extends Monophonic{constructor(){super(optionsFromArguments(Wr.getDefaults(),arguments)),this.name="Synth";const l=optionsFromArguments(Wr.getDefaults(),arguments);this.oscillator=new OmniOscillator(Object.assign({context:this.context,detune:l.detune,onstop:()=>this.onsilence(this)},l.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new AmplitudeEnvelope(Object.assign({context:this.context},l.envelope)),this.oscillator.chain(this.envelope,this.output),readOnly(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Monophonic.getDefaults(),{envelope:Object.assign(omitFromObject(Envelope.getDefaults(),Object.keys(ToneAudioNode.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(omitFromObject(OmniOscillator.getDefaults(),[...Object.keys(Source.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(l,u){if(this.envelope.triggerAttack(l,u),this.oscillator.start(l),this.envelope.sustain===0){const c=this.toSeconds(this.envelope.attack),m=this.toSeconds(this.envelope.decay);this.oscillator.stop(l+c+m)}}_triggerEnvelopeRelease(l){this.envelope.triggerRelease(l),this.oscillator.stop(l+this.toSeconds(this.envelope.release))}getLevelAtTime(l){return l=this.toSeconds(l),this.envelope.getValueAtTime(l)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};class MembraneSynth extends Synth$1{constructor(){super(optionsFromArguments(MembraneSynth.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const l=optionsFromArguments(MembraneSynth.getDefaults(),arguments);this.pitchDecay=l.pitchDecay,this.octaves=l.octaves,readOnly(this,["oscillator","envelope"])}static getDefaults(){return deepMerge(Monophonic.getDefaults(),Synth$1.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(l,u){const c=this.toSeconds(u),m=this.toFrequency(l instanceof FrequencyClass?l.toFrequency():l),_=m*this.octaves;return this.oscillator.frequency.setValueAtTime(_,c),this.oscillator.frequency.exponentialRampToValueAtTime(m,c+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}__decorate([range(0)],MembraneSynth.prototype,"octaves",void 0);__decorate([timeRange(0)],MembraneSynth.prototype,"pitchDecay",void 0);const workletContext=new Set;function addToWorklet(f){workletContext.add(f)}function registerProcessor(f,l){const u=`registerProcessor("${f}", ${l})`;workletContext.add(u)}function getWorkletGlobalScope(){return Array.from(workletContext).join(`
`)}class ToneAudioWorklet extends ToneAudioNode{constructor(l){super(l),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=noOp;const u=URL.createObjectURL(new Blob([getWorkletGlobalScope()],{type:"text/javascript"})),c=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(u,c).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(c,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const toneAudioWorkletProcessor=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;addToWorklet(toneAudioWorkletProcessor);const singleIOProcess=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;addToWorklet(singleIOProcess);const delayLine=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;addToWorklet(delayLine);const workletName$1="feedback-comb-filter",feedbackCombFilter=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;registerProcessor(workletName$1,feedbackCombFilter);let Sampler$1=class qr extends Instrument{constructor(){super(optionsFromArguments(qr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const l=optionsFromArguments(qr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),u={};Object.keys(l.urls).forEach(c=>{const m=parseInt(c,10);if(assert(isNote(c)||isNumber(m)&&isFinite(m),`url key is neither a note or midi pitch: ${c}`),isNote(c)){const _=new FrequencyClass(this.context,c).toMidi();u[_]=l.urls[c]}else isNumber(m)&&isFinite(m)&&(u[m]=l.urls[m])}),this._buffers=new ToneAudioBuffers({urls:u,onload:l.onload,baseUrl:l.baseUrl,onerror:l.onerror}),this.attack=l.attack,this.release=l.release,this.curve=l.curve,this._buffers.loaded&&Promise.resolve().then(l.onload)}static getDefaults(){return Object.assign(Instrument.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:noOp,onerror:noOp,release:.1,urls:{}})}_findClosest(l){let c=0;for(;c<96;){if(this._buffers.has(l+c))return-c;if(this._buffers.has(l-c))return c;c++}throw new Error(`No available buffers for note: ${l}`)}triggerAttack(l,u,c=1){return this.log("triggerAttack",l,u,c),Array.isArray(l)||(l=[l]),l.forEach(m=>{const _=ftomf(new FrequencyClass(this.context,m).toFrequency()),g=Math.round(_),b=_-g,y=this._findClosest(g),S=g-y,A=this._buffers.get(S),C=intervalToFrequencyRatio(y+b),x=new ToneBufferSource({url:A,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:C}).connect(this.output);x.start(u,0,A.duration/C,c),isArray(this._activeSources.get(g))||this._activeSources.set(g,[]),this._activeSources.get(g).push(x),x.onended=()=>{if(this._activeSources&&this._activeSources.has(g)){const E=this._activeSources.get(g),k=E.indexOf(x);k!==-1&&E.splice(k,1)}}}),this}triggerRelease(l,u){return this.log("triggerRelease",l,u),Array.isArray(l)||(l=[l]),l.forEach(c=>{const m=new FrequencyClass(this.context,c).toMidi();if(this._activeSources.has(m)&&this._activeSources.get(m).length){const _=this._activeSources.get(m);u=this.toSeconds(u),_.forEach(g=>{g.stop(u)}),this._activeSources.set(m,[])}}),this}releaseAll(l){const u=this.toSeconds(l);return this._activeSources.forEach(c=>{for(;c.length;)c.shift().stop(u)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(l,u,c,m=1){const _=this.toSeconds(c);return this.triggerAttack(l,_,m),isArray(u)?(assert(isArray(l),"notes must be an array when duration is array"),l.forEach((g,b)=>{const y=u[Math.min(b,u.length-1)];this.triggerRelease(g,_+this.toSeconds(y))})):this.triggerRelease(l,_+this.toSeconds(u)),this}add(l,u,c){if(assert(isNote(l)||isFinite(l),`note must be a pitch or midi: ${l}`),isNote(l)){const m=new FrequencyClass(this.context,l).toMidi();this._buffers.add(m,u,c)}else this._buffers.add(l,u,c);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(l=>{l.forEach(u=>u.dispose())}),this._activeSources.clear(),this}};__decorate([timeRange(0)],Sampler$1.prototype,"attack",void 0);__decorate([timeRange(0)],Sampler$1.prototype,"release",void 0);class CrossFade extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(CrossFade.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new GainToAudio({context:this.context}),this.a=new Gain({context:this.context,gain:0}),this.b=new Gain({context:this.context,gain:0}),this.output=new Gain({context:this.context}),this._internalChannels=[this.a,this.b];const l=optionsFromArguments(CrossFade.getDefaults(),arguments,["fade"]);this.fade=new Signal({context:this.context,units:"normalRange",value:l.fade}),readOnly(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",connect(this._split,this.a.gain,0),connect(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Effect extends ToneAudioNode{constructor(l){super(l),this.name="Effect",this._dryWet=new CrossFade({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Gain({context:this.context}),this.effectReturn=new Gain({context:this.context}),this.input=new Gain({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(l.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],readOnly(this,"wet")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{wet:1})}connectEffect(l){return this._internalChannels.push(l),this.effectSend.chain(l,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Panner extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(Panner.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const l=optionsFromArguments(Panner.getDefaults(),arguments,["pan"]);this.pan=new Param({context:this.context,param:this._panner.pan,value:l.pan,minValue:-1,maxValue:1}),this._panner.channelCount=l.channelCount,this._panner.channelCountMode="explicit",readOnly(this,"pan")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const workletName="bit-crusher",bitCrusherWorklet=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;registerProcessor(workletName,bitCrusherWorklet);class BitCrusher extends Effect{constructor(){super(optionsFromArguments(BitCrusher.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const l=optionsFromArguments(BitCrusher.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new BitCrusherWorklet({context:this.context,bits:l.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Effect.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class BitCrusherWorklet extends ToneAudioWorklet{constructor(){super(optionsFromArguments(BitCrusherWorklet.getDefaults(),arguments)),this.name="BitCrusherWorklet";const l=optionsFromArguments(BitCrusherWorklet.getDefaults(),arguments);this.input=new Gain({context:this.context}),this.output=new Gain({context:this.context}),this.bits=new Param({context:this.context,value:l.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(ToneAudioWorklet.getDefaults(),{bits:12})}_audioWorkletName(){return workletName}onReady(l){connectSeries(this.input,l,this.output);const u=l.parameters.get("bits");this.bits.setParam(u)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Split extends ToneAudioNode{constructor(){super(optionsFromArguments(Split.getDefaults(),arguments,["channels"])),this.name="Split";const l=optionsFromArguments(Split.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(l.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Analyser extends ToneAudioNode{constructor(){super(optionsFromArguments(Analyser.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const l=optionsFromArguments(Analyser.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new Gain({context:this.context}),this._split=new Split({context:this.context,channels:l.channels}),this.input.connect(this._split),assertRange(l.channels,1);for(let u=0;u<l.channels;u++)this._analysers[u]=this.context.createAnalyser(),this._split.connect(this._analysers[u],u,0);this.size=l.size,this.type=l.type}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((l,u)=>{const c=this._buffers[u];this._type==="fft"?l.getFloatFrequencyData(c):this._type==="waveform"&&l.getFloatTimeDomainData(c)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(l){this._analysers.forEach((u,c)=>{u.fftSize=l*2,this._buffers[c]=new Float32Array(l)})}get channels(){return this._analysers.length}get type(){return this._type}set type(l){assert(l==="waveform"||l==="fft",`Analyser: invalid type: ${l}`),this._type=l}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(l){this._analysers.forEach(u=>u.smoothingTimeConstant=l)}dispose(){return super.dispose(),this._analysers.forEach(l=>l.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class MeterBase extends ToneAudioNode{constructor(){super(optionsFromArguments(MeterBase.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Analyser({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Meter extends MeterBase{constructor(){super(optionsFromArguments(Meter.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const l=optionsFromArguments(Meter.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new Analyser({context:this.context,size:256,type:"waveform",channels:l.channels}),this.smoothing=l.smoothing,this.normalRange=l.normalRange}static getDefaults(){return Object.assign(MeterBase.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return warn("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const l=this._analyser.getValue(),c=(this.channels===1?[l]:l).map(m=>{const _=m.reduce((b,y)=>b+y*y,0),g=Math.sqrt(_/m.length);return this._rms=Math.max(g,this._rms*this.smoothing),this.normalRange?this._rms:gainToDb(this._rms)});return this.channels===1?c[0]:c}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Solo extends ToneAudioNode{constructor(){super(optionsFromArguments(Solo.getDefaults(),arguments,["solo"])),this.name="Solo";const l=optionsFromArguments(Solo.getDefaults(),arguments,["solo"]);this.input=this.output=new Gain({context:this.context}),Solo._allSolos.has(this.context)||Solo._allSolos.set(this.context,new Set),Solo._allSolos.get(this.context).add(this),this.solo=l.solo}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(l){l?this._addSolo():this._removeSolo(),Solo._allSolos.get(this.context).forEach(u=>u._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Solo._soloed.has(this.context)||Solo._soloed.set(this.context,new Set),Solo._soloed.get(this.context).add(this)}_removeSolo(){Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).delete(this)}_isSoloed(){return Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).has(this)}_noSolos(){return!Solo._soloed.has(this.context)||Solo._soloed.has(this.context)&&Solo._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Solo._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Solo._allSolos=new Map;Solo._soloed=new Map;class PanVol extends ToneAudioNode{constructor(){super(optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const l=optionsFromArguments(PanVol.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Panner({context:this.context,pan:l.pan,channelCount:l.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Volume({context:this.context,volume:l.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=l.mute,readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(l){this._volume.mute=l}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Channel extends ToneAudioNode{constructor(){super(optionsFromArguments(Channel.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const l=optionsFromArguments(Channel.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Solo({solo:l.solo,context:this.context}),this._panVol=this.output=new PanVol({context:this.context,pan:l.pan,volume:l.volume,mute:l.mute,channelCount:l.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),readOnly(this,["pan","volume"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(l){this._solo.solo=l}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(l){this._panVol.mute=l}_getBus(l){return Channel.buses.has(l)||Channel.buses.set(l,new Gain({context:this.context})),Channel.buses.get(l)}send(l,u=0){const c=this._getBus(l),m=new Gain({context:this.context,units:"decibels",gain:u});return this.connect(m),m.connect(c),m}receive(l){return this._getBus(l).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Channel.buses=new Map;let Listener$1=class extends ToneAudioNode{constructor(){super(...arguments),this.name="Listener",this.positionX=new Param({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Param({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Param({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Param({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Param({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Param({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Param({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Param({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Param({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}};onContextInit(f=>{f.listener=new Listener$1({context:f})});onContextClose(f=>{f.listener.dispose()});class Compressor extends ToneAudioNode{constructor(){super(optionsFromArguments(Compressor.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const l=optionsFromArguments(Compressor.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Param({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:l.threshold}),this.attack=new Param({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:l.attack}),this.release=new Param({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:l.release}),this.knee=new Param({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:l.knee}),this.ratio=new Param({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:l.ratio}),readOnly(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Limiter extends ToneAudioNode{constructor(){super(Object.assign(optionsFromArguments(Limiter.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const l=optionsFromArguments(Limiter.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new Compressor({context:this.context,ratio:20,attack:.003,release:.01,threshold:l.threshold}),this.threshold=this._compressor.threshold,readOnly(this,"threshold")}static getDefaults(){return Object.assign(ToneAudioNode.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}function immediate(){return getContext().immediate()}getContext().transport;getContext().destination;getContext().destination;getContext().listener;getContext().draw;const context=getContext();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var rnbo_webaudio={exports:{}};/*!
 * 
 * Copyright (c) 2022 Cycling '74
 *
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * v1.0.2
 *
 */(function(module,exports){var factory;factory=function(){return(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{__webpack_require__(852).Float32Buffer,__webpack_require__(852).Float64Buffer,__webpack_require__(852).Float32MultiBuffer,__webpack_require__(852).Float64MultiBuffer,__webpack_require__(852).IntBuffer,__webpack_require__(852).UInt8Buffer,__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2;function nextpoweroftwo(f){return f===0?1:(f--,f|=f>>1,f|=f>>2,f|=f>>4,f|=f>>8,1+(f|=f>>16))}function TAG(f){let l=0;for(let u=0;u<f.length;u++)l=f.charCodeAt(u)+(l<<6)+(l<<16)-l;return 0|l}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}Xoshiro.reset,Xoshiro.next,module.exports={deserializeSrc:function(f){return _evalSrc(f)},deserializeJSON:function(f){var l=f;return typeof l=="string"&&(l={src:f}),_evalSrc(l.src)},extractOptionsFromJSON:function(f){var l=f;return typeof l=="string"&&(l=JSON.parse(f)),l.options?l.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:f=>{function l(){let ee=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,V=this.getChannels();return V?ee/V:0}function u(ee,V){let z=ee*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*V;this.requestedChannels=V,this.dataRef.requestSizeInBytes(z,!1)}function c(ee,V){return this[this.getChannels()*Math.floor(V)+ee]}function m(ee,V){const z=this.getChannels();return ee<0||ee>=z||V<0||V>=this.getSize()?0:this[z*Math.floor(V)+ee]}function _(ee,V,z){this[this.getChannels()*Math.floor(V)+ee]=z}function g(ee,V,z){const X=this.getChannels();ee<0||ee>=X||V<0||V>=this.getSize()||(this[X*Math.floor(V)+ee]=z)}function b(){return this.dataRef.channels}function y(){return this.dataRef.sampleRate}function S(ee){this.dataRef.sampleRate=ee}function A(){this.dataRef.clear()}function C(ee){if(ee!==this.dataRef.channels){let V=this.getSize();return this.clear(),this.dataRef.channels=ee,this.setSize(V)}return this}function x(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&this.requestedChannels!==0&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let ee;if(this.dataRef.isInternallyAllocated){let z=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);z/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,ee=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,z)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let V=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return ee?V.set(ee):this.dataRef.wantsFillFlag=!0,P(V,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&O(V),V}return this}function E(ee){let V=this.getChannels();return this.requestedChannels=V,this.dataRef.requestSizeInBytes(ee*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*V,!0),this.allocateIfNeeded()}function k(){this.fill&&this.fill(0)}function T(){return this.touched}function I(ee){this.touched=ee}function M(ee){this.dataRef.setWantsFill(ee)}function j(){return this.dataRef.getIndex()}function P(ee,V,z){ee.dataRef=V,ee.BASEARRAYVIEW=z,ee.getSize=l,ee.requestSize=u,ee.setSize=E,ee.allocateIfNeeded=x,ee.setZero=k,ee.clear=A,ee.getChannels=b,ee.getSampleRate=y,ee.setWantsFill=M,ee.getIndex=j,V.setZero=function(){ee.setZero()},ee.touched=!1,ee.getTouched=T,ee.setTouched=I}function O(ee){ee.getSample=c,ee.getSampleSafe=m,ee.setSample=_,ee.setSampleSafe=g,ee.setChannels=C,ee.setSampleRate=S,ee.isAudioBuffer=!0,ee.requestedChannels=0}let N=function(ee,V){let z;return z=ee.arrayBuffer?new V(ee.arrayBuffer):{},P(z,ee,V),z};(N.prototype=Object.create(null)).constructor=N;let D=function(ee,V){let z=N.call(this,ee,V);return O(z),z};(D.prototype=Object.create(N)).constructor=D;let L=function(ee){return D.call(this,ee,Float32Array)};(L.prototype=Object.create(D.prototype)).constructor=L;let R=function(ee){return D.call(this,ee,Float64Array)};(R.prototype=Object.create(D.prototype)).constructor=R;let G=function(ee,V){let z=new V(ee.dataRefs[ee.current]);return z.multiRef=ee,z.setCurrent=function(X){this.multiRef.setCurrent(Math.round(X))},z.getIndex=function(){return this.multiRef.getIndex()},z};G.prototype=Object.create(null),G.constructor=G;let Z=function(ee){return G.call(this,ee,L)};(Z.prototype=Object.create(G.prototype)).constructor=Z;let B=function(ee){return G.call(this,ee,R)};(B.prototype=Object.create(G.prototype)).constructor=B;let J=function(ee){return N.call(this,ee,Int32Array)};(J.prototype=Object.create(N.prototype)).constructor=J;let K=function(ee){return N.call(this,ee,Uint8Array)};(K.prototype=Object.create(N.prototype)).constructor=K,f.exports={Float32Buffer:L,Float64Buffer:R,Float32MultiBuffer:Z,Float64MultiBuffer:B,IntBuffer:J,UInt8Buffer:K}},126:f=>{var l=function(){};(l.prototype=Object.create(null)).constructor=l,l.prototype.setEngineAndPatcher=function(){},l.prototype.initialize=function(){},l.prototype.getNumParameters=function(){return 0},l.prototype.setParameterValue=function(){},l.prototype.prepareToProcess=function(){},l.prototype.process=function(){},f.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new l}}},925:f=>{function l(u,c,m,_){m[_]=u[c]+0x9e3779b97f4a7c15n,m[_]=0xbf58476d1ce4e5b9n*(m[_]^m[_]>>30n),m[_]=0x94d049bb133111ebn*(m[_]^m[_]>>27n),m[_]=m[_]^m[_]>>31n}f.exports={reset:function(u,c){let m=new BigUint64Array(1);m[0]=BigInt(Math.trunc(1e6*u)),l(m,0,c,0),l(c,0,c,1),l(c,1,c,2),l(c,2,c,3)},next:function(u){let c=new BigUint64Array(1),m=new BigUint64Array(1);return m[0]=u[0]+u[3],c[0]=u[1]<<17n,u[2]^=u[0],u[3]^=u[1],u[1]^=u[2],u[0]^=u[3],u[2]^=c[0],u[3]=u[3]<<45n|u[3]>>19n,m[0]=m[0]>>11n,2220446049250313e-31*Number(m[0])-1}}},766:(f,l)=>{l.byteLength=function(A){var C=y(A),x=C[0],E=C[1];return 3*(x+E)/4-E},l.toByteArray=function(A){var C,x,E=y(A),k=E[0],T=E[1],I=new m(function(P,O,N){return 3*(O+N)/4-N}(0,k,T)),M=0,j=T>0?k-4:k;for(x=0;x<j;x+=4)C=c[A.charCodeAt(x)]<<18|c[A.charCodeAt(x+1)]<<12|c[A.charCodeAt(x+2)]<<6|c[A.charCodeAt(x+3)],I[M++]=C>>16&255,I[M++]=C>>8&255,I[M++]=255&C;return T===2&&(C=c[A.charCodeAt(x)]<<2|c[A.charCodeAt(x+1)]>>4,I[M++]=255&C),T===1&&(C=c[A.charCodeAt(x)]<<10|c[A.charCodeAt(x+1)]<<4|c[A.charCodeAt(x+2)]>>2,I[M++]=C>>8&255,I[M++]=255&C),I},l.fromByteArray=function(A){for(var C,x=A.length,E=x%3,k=[],T=16383,I=0,M=x-E;I<M;I+=T)k.push(S(A,I,I+T>M?M:I+T));return E===1?(C=A[x-1],k.push(u[C>>2]+u[C<<4&63]+"==")):E===2&&(C=(A[x-2]<<8)+A[x-1],k.push(u[C>>10]+u[C>>4&63]+u[C<<2&63]+"=")),k.join("")};for(var u=[],c=[],m=typeof Uint8Array<"u"?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,b=_.length;g<b;++g)u[g]=_[g],c[_.charCodeAt(g)]=g;function y(A){var C=A.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=A.indexOf("=");return x===-1&&(x=C),[x,x===C?0:4-x%4]}function S(A,C,x){for(var E,k,T=[],I=C;I<x;I+=3)E=(A[I]<<16&16711680)+(A[I+1]<<8&65280)+(255&A[I+2]),T.push(u[(k=E)>>18&63]+u[k>>12&63]+u[k>>6&63]+u[63&k]);return T.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},834:(f,l,u)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const c=u(766),m=u(181),_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=y,l.SlowBuffer=function(se){return+se!=se&&(se=0),y.alloc(+se)},l.INSPECT_MAX_BYTES=50;const g=2147483647;function b(se){if(se>g)throw new RangeError('The value "'+se+'" is invalid for option "size"');const ce=new Uint8Array(se);return Object.setPrototypeOf(ce,y.prototype),ce}function y(se,ce,ue){if(typeof se=="number"){if(typeof ce=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(se)}return S(se,ce,ue)}function S(se,ce,ue){if(typeof se=="string")return function(Ie,Be){if(typeof Be=="string"&&Be!==""||(Be="utf8"),!y.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);const $e=0|T(Ie,Be);let Ke=b($e);const Qe=Ke.write(Ie,Be);return Qe!==$e&&(Ke=Ke.slice(0,Qe)),Ke}(se,ce);if(ArrayBuffer.isView(se))return function(Ie){if(we(Ie,Uint8Array)){const Be=new Uint8Array(Ie);return E(Be.buffer,Be.byteOffset,Be.byteLength)}return x(Ie)}(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(we(se,ArrayBuffer)||se&&we(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(we(se,SharedArrayBuffer)||se&&we(se.buffer,SharedArrayBuffer)))return E(se,ce,ue);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ve=se.valueOf&&se.valueOf();if(ve!=null&&ve!==se)return y.from(ve,ce,ue);const Se=function(Ie){if(y.isBuffer(Ie)){const Be=0|k(Ie.length),$e=b(Be);return $e.length===0||Ie.copy($e,0,0,Be),$e}return Ie.length!==void 0?typeof Ie.length!="number"||me(Ie.length)?b(0):x(Ie):Ie.type==="Buffer"&&Array.isArray(Ie.data)?x(Ie.data):void 0}(se);if(Se)return Se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return y.from(se[Symbol.toPrimitive]("string"),ce,ue);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}function A(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function C(se){return A(se),b(se<0?0:0|k(se))}function x(se){const ce=se.length<0?0:0|k(se.length),ue=b(ce);for(let ve=0;ve<ce;ve+=1)ue[ve]=255&se[ve];return ue}function E(se,ce,ue){if(ce<0||se.byteLength<ce)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<ce+(ue||0))throw new RangeError('"length" is outside of buffer bounds');let ve;return ve=ce===void 0&&ue===void 0?new Uint8Array(se):ue===void 0?new Uint8Array(se,ce):new Uint8Array(se,ce,ue),Object.setPrototypeOf(ve,y.prototype),ve}function k(se){if(se>=g)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|se}function T(se,ce){if(y.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||we(se,ArrayBuffer))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);const ue=se.length,ve=arguments.length>2&&arguments[2]===!0;if(!ve&&ue===0)return 0;let Se=!1;for(;;)switch(ce){case"ascii":case"latin1":case"binary":return ue;case"utf8":case"utf-8":return Ce(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ue;case"hex":return ue>>>1;case"base64":return ge(se).length;default:if(Se)return ve?-1:Ce(se).length;ce=(""+ce).toLowerCase(),Se=!0}}function I(se,ce,ue){let ve=!1;if((ce===void 0||ce<0)&&(ce=0),ce>this.length||((ue===void 0||ue>this.length)&&(ue=this.length),ue<=0)||(ue>>>=0)<=(ce>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return ee(this,ce,ue);case"utf8":case"utf-8":return Z(this,ce,ue);case"ascii":return J(this,ce,ue);case"latin1":case"binary":return K(this,ce,ue);case"base64":return G(this,ce,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,ce,ue);default:if(ve)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),ve=!0}}function M(se,ce,ue){const ve=se[ce];se[ce]=se[ue],se[ue]=ve}function j(se,ce,ue,ve,Se){if(se.length===0)return-1;if(typeof ue=="string"?(ve=ue,ue=0):ue>2147483647?ue=2147483647:ue<-2147483648&&(ue=-2147483648),me(ue=+ue)&&(ue=Se?0:se.length-1),ue<0&&(ue=se.length+ue),ue>=se.length){if(Se)return-1;ue=se.length-1}else if(ue<0){if(!Se)return-1;ue=0}if(typeof ce=="string"&&(ce=y.from(ce,ve)),y.isBuffer(ce))return ce.length===0?-1:P(se,ce,ue,ve,Se);if(typeof ce=="number")return ce&=255,typeof Uint8Array.prototype.indexOf=="function"?Se?Uint8Array.prototype.indexOf.call(se,ce,ue):Uint8Array.prototype.lastIndexOf.call(se,ce,ue):P(se,[ce],ue,ve,Se);throw new TypeError("val must be string, number or Buffer")}function P(se,ce,ue,ve,Se){let Ie,Be=1,$e=se.length,Ke=ce.length;if(ve!==void 0&&((ve=String(ve).toLowerCase())==="ucs2"||ve==="ucs-2"||ve==="utf16le"||ve==="utf-16le")){if(se.length<2||ce.length<2)return-1;Be=2,$e/=2,Ke/=2,ue/=2}function Qe(Re,He){return Be===1?Re[He]:Re.readUInt16BE(He*Be)}if(Se){let Re=-1;for(Ie=ue;Ie<$e;Ie++)if(Qe(se,Ie)===Qe(ce,Re===-1?0:Ie-Re)){if(Re===-1&&(Re=Ie),Ie-Re+1===Ke)return Re*Be}else Re!==-1&&(Ie-=Ie-Re),Re=-1}else for(ue+Ke>$e&&(ue=$e-Ke),Ie=ue;Ie>=0;Ie--){let Re=!0;for(let He=0;He<Ke;He++)if(Qe(se,Ie+He)!==Qe(ce,He)){Re=!1;break}if(Re)return Ie}return-1}function O(se,ce,ue,ve){ue=Number(ue)||0;const Se=se.length-ue;ve?(ve=Number(ve))>Se&&(ve=Se):ve=Se;const Ie=ce.length;let Be;for(ve>Ie/2&&(ve=Ie/2),Be=0;Be<ve;++Be){const $e=parseInt(ce.substr(2*Be,2),16);if(me($e))return Be;se[ue+Be]=$e}return Be}function N(se,ce,ue,ve){return Ae(Ce(ce,se.length-ue),se,ue,ve)}function D(se,ce,ue,ve){return Ae(function(Se){const Ie=[];for(let Be=0;Be<Se.length;++Be)Ie.push(255&Se.charCodeAt(Be));return Ie}(ce),se,ue,ve)}function L(se,ce,ue,ve){return Ae(ge(ce),se,ue,ve)}function R(se,ce,ue,ve){return Ae(function(Se,Ie){let Be,$e,Ke;const Qe=[];for(let Re=0;Re<Se.length&&!((Ie-=2)<0);++Re)Be=Se.charCodeAt(Re),$e=Be>>8,Ke=Be%256,Qe.push(Ke),Qe.push($e);return Qe}(ce,se.length-ue),se,ue,ve)}function G(se,ce,ue){return ce===0&&ue===se.length?c.fromByteArray(se):c.fromByteArray(se.slice(ce,ue))}function Z(se,ce,ue){ue=Math.min(se.length,ue);const ve=[];let Se=ce;for(;Se<ue;){const Ie=se[Se];let Be=null,$e=Ie>239?4:Ie>223?3:Ie>191?2:1;if(Se+$e<=ue){let Ke,Qe,Re,He;switch($e){case 1:Ie<128&&(Be=Ie);break;case 2:Ke=se[Se+1],(192&Ke)==128&&(He=(31&Ie)<<6|63&Ke,He>127&&(Be=He));break;case 3:Ke=se[Se+1],Qe=se[Se+2],(192&Ke)==128&&(192&Qe)==128&&(He=(15&Ie)<<12|(63&Ke)<<6|63&Qe,He>2047&&(He<55296||He>57343)&&(Be=He));break;case 4:Ke=se[Se+1],Qe=se[Se+2],Re=se[Se+3],(192&Ke)==128&&(192&Qe)==128&&(192&Re)==128&&(He=(15&Ie)<<18|(63&Ke)<<12|(63&Qe)<<6|63&Re,He>65535&&He<1114112&&(Be=He))}}Be===null?(Be=65533,$e=1):Be>65535&&(Be-=65536,ve.push(Be>>>10&1023|55296),Be=56320|1023&Be),ve.push(Be),Se+=$e}return function(Ie){const Be=Ie.length;if(Be<=B)return String.fromCharCode.apply(String,Ie);let $e="",Ke=0;for(;Ke<Be;)$e+=String.fromCharCode.apply(String,Ie.slice(Ke,Ke+=B));return $e}(ve)}l.kMaxLength=g,y.TYPED_ARRAY_SUPPORT=function(){try{const se=new Uint8Array(1),ce={foo:function(){return 42}};return Object.setPrototypeOf(ce,Uint8Array.prototype),Object.setPrototypeOf(se,ce),se.foo()===42}catch{return!1}}(),y.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}}),y.poolSize=8192,y.from=function(se,ce,ue){return S(se,ce,ue)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array),y.alloc=function(se,ce,ue){return function(ve,Se,Ie){return A(ve),ve<=0?b(ve):Se!==void 0?typeof Ie=="string"?b(ve).fill(Se,Ie):b(ve).fill(Se):b(ve)}(se,ce,ue)},y.allocUnsafe=function(se){return C(se)},y.allocUnsafeSlow=function(se){return C(se)},y.isBuffer=function(se){return se!=null&&se.t===!0&&se!==y.prototype},y.compare=function(se,ce){if(we(se,Uint8Array)&&(se=y.from(se,se.offset,se.byteLength)),we(ce,Uint8Array)&&(ce=y.from(ce,ce.offset,ce.byteLength)),!y.isBuffer(se)||!y.isBuffer(ce))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(se===ce)return 0;let ue=se.length,ve=ce.length;for(let Se=0,Ie=Math.min(ue,ve);Se<Ie;++Se)if(se[Se]!==ce[Se]){ue=se[Se],ve=ce[Se];break}return ue<ve?-1:ve<ue?1:0},y.isEncoding=function(se){switch(String(se).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(se,ce){if(!Array.isArray(se))throw new TypeError('"list" argument must be an Array of Buffers');if(se.length===0)return y.alloc(0);let ue;if(ce===void 0)for(ce=0,ue=0;ue<se.length;++ue)ce+=se[ue].length;const ve=y.allocUnsafe(ce);let Se=0;for(ue=0;ue<se.length;++ue){let Ie=se[ue];if(we(Ie,Uint8Array))Se+Ie.length>ve.length?(y.isBuffer(Ie)||(Ie=y.from(Ie)),Ie.copy(ve,Se)):Uint8Array.prototype.set.call(ve,Ie,Se);else{if(!y.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(ve,Se)}Se+=Ie.length}return ve},y.byteLength=T,y.prototype.t=!0,y.prototype.swap16=function(){const se=this.length;if(se%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ce=0;ce<se;ce+=2)M(this,ce,ce+1);return this},y.prototype.swap32=function(){const se=this.length;if(se%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ce=0;ce<se;ce+=4)M(this,ce,ce+3),M(this,ce+1,ce+2);return this},y.prototype.swap64=function(){const se=this.length;if(se%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ce=0;ce<se;ce+=8)M(this,ce,ce+7),M(this,ce+1,ce+6),M(this,ce+2,ce+5),M(this,ce+3,ce+4);return this},y.prototype.toString=function(){const se=this.length;return se===0?"":arguments.length===0?Z(this,0,se):I.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(se){if(!y.isBuffer(se))throw new TypeError("Argument must be a Buffer");return this===se||y.compare(this,se)===0},y.prototype.inspect=function(){let se="";const ce=l.INSPECT_MAX_BYTES;return se=this.toString("hex",0,ce).replace(/(.{2})/g,"$1 ").trim(),this.length>ce&&(se+=" ... "),"<Buffer "+se+">"},_&&(y.prototype[_]=y.prototype.inspect),y.prototype.compare=function(se,ce,ue,ve,Se){if(we(se,Uint8Array)&&(se=y.from(se,se.offset,se.byteLength)),!y.isBuffer(se))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof se);if(ce===void 0&&(ce=0),ue===void 0&&(ue=se?se.length:0),ve===void 0&&(ve=0),Se===void 0&&(Se=this.length),ce<0||ue>se.length||ve<0||Se>this.length)throw new RangeError("out of range index");if(ve>=Se&&ce>=ue)return 0;if(ve>=Se)return-1;if(ce>=ue)return 1;if(this===se)return 0;let Ie=(Se>>>=0)-(ve>>>=0),Be=(ue>>>=0)-(ce>>>=0);const $e=Math.min(Ie,Be),Ke=this.slice(ve,Se),Qe=se.slice(ce,ue);for(let Re=0;Re<$e;++Re)if(Ke[Re]!==Qe[Re]){Ie=Ke[Re],Be=Qe[Re];break}return Ie<Be?-1:Be<Ie?1:0},y.prototype.includes=function(se,ce,ue){return this.indexOf(se,ce,ue)!==-1},y.prototype.indexOf=function(se,ce,ue){return j(this,se,ce,ue,!0)},y.prototype.lastIndexOf=function(se,ce,ue){return j(this,se,ce,ue,!1)},y.prototype.write=function(se,ce,ue,ve){if(ce===void 0)ve="utf8",ue=this.length,ce=0;else if(ue===void 0&&typeof ce=="string")ve=ce,ue=this.length,ce=0;else{if(!isFinite(ce))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ce>>>=0,isFinite(ue)?(ue>>>=0,ve===void 0&&(ve="utf8")):(ve=ue,ue=void 0)}const Se=this.length-ce;if((ue===void 0||ue>Se)&&(ue=Se),se.length>0&&(ue<0||ce<0)||ce>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let Ie=!1;for(;;)switch(ve){case"hex":return O(this,se,ce,ue);case"utf8":case"utf-8":return N(this,se,ce,ue);case"ascii":case"latin1":case"binary":return D(this,se,ce,ue);case"base64":return L(this,se,ce,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,se,ce,ue);default:if(Ie)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),Ie=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const B=4096;function J(se,ce,ue){let ve="";ue=Math.min(se.length,ue);for(let Se=ce;Se<ue;++Se)ve+=String.fromCharCode(127&se[Se]);return ve}function K(se,ce,ue){let ve="";ue=Math.min(se.length,ue);for(let Se=ce;Se<ue;++Se)ve+=String.fromCharCode(se[Se]);return ve}function ee(se,ce,ue){const ve=se.length;(!ce||ce<0)&&(ce=0),(!ue||ue<0||ue>ve)&&(ue=ve);let Se="";for(let Ie=ce;Ie<ue;++Ie)Se+=_e[se[Ie]];return Se}function V(se,ce,ue){const ve=se.slice(ce,ue);let Se="";for(let Ie=0;Ie<ve.length-1;Ie+=2)Se+=String.fromCharCode(ve[Ie]+256*ve[Ie+1]);return Se}function z(se,ce,ue){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+ce>ue)throw new RangeError("Trying to access beyond buffer length")}function X(se,ce,ue,ve,Se,Ie){if(!y.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(ce>Se||ce<Ie)throw new RangeError('"value" argument is out of bounds');if(ue+ve>se.length)throw new RangeError("Index out of range")}function U(se,ce,ue,ve,Se){oe(ce,ve,Se,se,ue,7);let Ie=Number(ce&BigInt(4294967295));se[ue++]=Ie,Ie>>=8,se[ue++]=Ie,Ie>>=8,se[ue++]=Ie,Ie>>=8,se[ue++]=Ie;let Be=Number(ce>>BigInt(32)&BigInt(4294967295));return se[ue++]=Be,Be>>=8,se[ue++]=Be,Be>>=8,se[ue++]=Be,Be>>=8,se[ue++]=Be,ue}function $(se,ce,ue,ve,Se){oe(ce,ve,Se,se,ue,7);let Ie=Number(ce&BigInt(4294967295));se[ue+7]=Ie,Ie>>=8,se[ue+6]=Ie,Ie>>=8,se[ue+5]=Ie,Ie>>=8,se[ue+4]=Ie;let Be=Number(ce>>BigInt(32)&BigInt(4294967295));return se[ue+3]=Be,Be>>=8,se[ue+2]=Be,Be>>=8,se[ue+1]=Be,Be>>=8,se[ue]=Be,ue+8}function ae(se,ce,ue,ve,Se,Ie){if(ue+ve>se.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("Index out of range")}function H(se,ce,ue,ve,Se){return ce=+ce,ue>>>=0,Se||ae(se,0,ue,4),m.write(se,ce,ue,ve,23,4),ue+4}function ie(se,ce,ue,ve,Se){return ce=+ce,ue>>>=0,Se||ae(se,0,ue,8),m.write(se,ce,ue,ve,52,8),ue+8}y.prototype.slice=function(se,ce){const ue=this.length;(se=~~se)<0?(se+=ue)<0&&(se=0):se>ue&&(se=ue),(ce=ce===void 0?ue:~~ce)<0?(ce+=ue)<0&&(ce=0):ce>ue&&(ce=ue),ce<se&&(ce=se);const ve=this.subarray(se,ce);return Object.setPrototypeOf(ve,y.prototype),ve},y.prototype.readUintLE=y.prototype.readUIntLE=function(se,ce,ue){se>>>=0,ce>>>=0,ue||z(se,ce,this.length);let ve=this[se],Se=1,Ie=0;for(;++Ie<ce&&(Se*=256);)ve+=this[se+Ie]*Se;return ve},y.prototype.readUintBE=y.prototype.readUIntBE=function(se,ce,ue){se>>>=0,ce>>>=0,ue||z(se,ce,this.length);let ve=this[se+--ce],Se=1;for(;ce>0&&(Se*=256);)ve+=this[se+--ce]*Se;return ve},y.prototype.readUint8=y.prototype.readUInt8=function(se,ce){return se>>>=0,ce||z(se,1,this.length),this[se]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(se,ce){return se>>>=0,ce||z(se,2,this.length),this[se]|this[se+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(se,ce){return se>>>=0,ce||z(se,2,this.length),this[se]<<8|this[se+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(se,ce){return se>>>=0,ce||z(se,4,this.length),(this[se]|this[se+1]<<8|this[se+2]<<16)+16777216*this[se+3]},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(se,ce){return se>>>=0,ce||z(se,4,this.length),16777216*this[se]+(this[se+1]<<16|this[se+2]<<8|this[se+3])},y.prototype.readBigUInt64LE=Me(function(se){he(se>>>=0,"offset");const ce=this[se],ue=this[se+7];ce!==void 0&&ue!==void 0||de(se,this.length-8);const ve=ce+256*this[++se]+65536*this[++se]+this[++se]*2**24,Se=this[++se]+256*this[++se]+65536*this[++se]+ue*2**24;return BigInt(ve)+(BigInt(Se)<<BigInt(32))}),y.prototype.readBigUInt64BE=Me(function(se){he(se>>>=0,"offset");const ce=this[se],ue=this[se+7];ce!==void 0&&ue!==void 0||de(se,this.length-8);const ve=ce*2**24+65536*this[++se]+256*this[++se]+this[++se],Se=this[++se]*2**24+65536*this[++se]+256*this[++se]+ue;return(BigInt(ve)<<BigInt(32))+BigInt(Se)}),y.prototype.readIntLE=function(se,ce,ue){se>>>=0,ce>>>=0,ue||z(se,ce,this.length);let ve=this[se],Se=1,Ie=0;for(;++Ie<ce&&(Se*=256);)ve+=this[se+Ie]*Se;return Se*=128,ve>=Se&&(ve-=Math.pow(2,8*ce)),ve},y.prototype.readIntBE=function(se,ce,ue){se>>>=0,ce>>>=0,ue||z(se,ce,this.length);let ve=ce,Se=1,Ie=this[se+--ve];for(;ve>0&&(Se*=256);)Ie+=this[se+--ve]*Se;return Se*=128,Ie>=Se&&(Ie-=Math.pow(2,8*ce)),Ie},y.prototype.readInt8=function(se,ce){return se>>>=0,ce||z(se,1,this.length),128&this[se]?-1*(255-this[se]+1):this[se]},y.prototype.readInt16LE=function(se,ce){se>>>=0,ce||z(se,2,this.length);const ue=this[se]|this[se+1]<<8;return 32768&ue?4294901760|ue:ue},y.prototype.readInt16BE=function(se,ce){se>>>=0,ce||z(se,2,this.length);const ue=this[se+1]|this[se]<<8;return 32768&ue?4294901760|ue:ue},y.prototype.readInt32LE=function(se,ce){return se>>>=0,ce||z(se,4,this.length),this[se]|this[se+1]<<8|this[se+2]<<16|this[se+3]<<24},y.prototype.readInt32BE=function(se,ce){return se>>>=0,ce||z(se,4,this.length),this[se]<<24|this[se+1]<<16|this[se+2]<<8|this[se+3]},y.prototype.readBigInt64LE=Me(function(se){he(se>>>=0,"offset");const ce=this[se],ue=this[se+7];ce!==void 0&&ue!==void 0||de(se,this.length-8);const ve=this[se+4]+256*this[se+5]+65536*this[se+6]+(ue<<24);return(BigInt(ve)<<BigInt(32))+BigInt(ce+256*this[++se]+65536*this[++se]+this[++se]*16777216)}),y.prototype.readBigInt64BE=Me(function(se){he(se>>>=0,"offset");const ce=this[se],ue=this[se+7];ce!==void 0&&ue!==void 0||de(se,this.length-8);const ve=(ce<<24)+65536*this[++se]+256*this[++se]+this[++se];return(BigInt(ve)<<BigInt(32))+BigInt(this[++se]*16777216+65536*this[++se]+256*this[++se]+ue)}),y.prototype.readFloatLE=function(se,ce){return se>>>=0,ce||z(se,4,this.length),m.read(this,se,!0,23,4)},y.prototype.readFloatBE=function(se,ce){return se>>>=0,ce||z(se,4,this.length),m.read(this,se,!1,23,4)},y.prototype.readDoubleLE=function(se,ce){return se>>>=0,ce||z(se,8,this.length),m.read(this,se,!0,52,8)},y.prototype.readDoubleBE=function(se,ce){return se>>>=0,ce||z(se,8,this.length),m.read(this,se,!1,52,8)},y.prototype.writeUintLE=y.prototype.writeUIntLE=function(se,ce,ue,ve){se=+se,ce>>>=0,ue>>>=0,ve||X(this,se,ce,ue,Math.pow(2,8*ue)-1,0);let Se=1,Ie=0;for(this[ce]=255&se;++Ie<ue&&(Se*=256);)this[ce+Ie]=se/Se&255;return ce+ue},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(se,ce,ue,ve){se=+se,ce>>>=0,ue>>>=0,ve||X(this,se,ce,ue,Math.pow(2,8*ue)-1,0);let Se=ue-1,Ie=1;for(this[ce+Se]=255&se;--Se>=0&&(Ie*=256);)this[ce+Se]=se/Ie&255;return ce+ue},y.prototype.writeUint8=y.prototype.writeUInt8=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,1,255,0),this[ce]=255&se,ce+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,2,65535,0),this[ce]=255&se,this[ce+1]=se>>>8,ce+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,2,65535,0),this[ce]=se>>>8,this[ce+1]=255&se,ce+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,4,4294967295,0),this[ce+3]=se>>>24,this[ce+2]=se>>>16,this[ce+1]=se>>>8,this[ce]=255&se,ce+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,4,4294967295,0),this[ce]=se>>>24,this[ce+1]=se>>>16,this[ce+2]=se>>>8,this[ce+3]=255&se,ce+4},y.prototype.writeBigUInt64LE=Me(function(se,ce=0){return U(this,se,ce,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=Me(function(se,ce=0){return $(this,se,ce,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(se,ce,ue,ve){if(se=+se,ce>>>=0,!ve){const $e=Math.pow(2,8*ue-1);X(this,se,ce,ue,$e-1,-$e)}let Se=0,Ie=1,Be=0;for(this[ce]=255&se;++Se<ue&&(Ie*=256);)se<0&&Be===0&&this[ce+Se-1]!==0&&(Be=1),this[ce+Se]=(se/Ie>>0)-Be&255;return ce+ue},y.prototype.writeIntBE=function(se,ce,ue,ve){if(se=+se,ce>>>=0,!ve){const $e=Math.pow(2,8*ue-1);X(this,se,ce,ue,$e-1,-$e)}let Se=ue-1,Ie=1,Be=0;for(this[ce+Se]=255&se;--Se>=0&&(Ie*=256);)se<0&&Be===0&&this[ce+Se+1]!==0&&(Be=1),this[ce+Se]=(se/Ie>>0)-Be&255;return ce+ue},y.prototype.writeInt8=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,1,127,-128),se<0&&(se=255+se+1),this[ce]=255&se,ce+1},y.prototype.writeInt16LE=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,2,32767,-32768),this[ce]=255&se,this[ce+1]=se>>>8,ce+2},y.prototype.writeInt16BE=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,2,32767,-32768),this[ce]=se>>>8,this[ce+1]=255&se,ce+2},y.prototype.writeInt32LE=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,4,2147483647,-2147483648),this[ce]=255&se,this[ce+1]=se>>>8,this[ce+2]=se>>>16,this[ce+3]=se>>>24,ce+4},y.prototype.writeInt32BE=function(se,ce,ue){return se=+se,ce>>>=0,ue||X(this,se,ce,4,2147483647,-2147483648),se<0&&(se=4294967295+se+1),this[ce]=se>>>24,this[ce+1]=se>>>16,this[ce+2]=se>>>8,this[ce+3]=255&se,ce+4},y.prototype.writeBigInt64LE=Me(function(se,ce=0){return U(this,se,ce,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=Me(function(se,ce=0){return $(this,se,ce,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeFloatLE=function(se,ce,ue){return H(this,se,ce,!0,ue)},y.prototype.writeFloatBE=function(se,ce,ue){return H(this,se,ce,!1,ue)},y.prototype.writeDoubleLE=function(se,ce,ue){return ie(this,se,ce,!0,ue)},y.prototype.writeDoubleBE=function(se,ce,ue){return ie(this,se,ce,!1,ue)},y.prototype.copy=function(se,ce,ue,ve){if(!y.isBuffer(se))throw new TypeError("argument should be a Buffer");if(ue||(ue=0),ve||ve===0||(ve=this.length),ce>=se.length&&(ce=se.length),ce||(ce=0),ve>0&&ve<ue&&(ve=ue),ve===ue||se.length===0||this.length===0)return 0;if(ce<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),se.length-ce<ve-ue&&(ve=se.length-ce+ue);const Se=ve-ue;return this===se&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ce,ue,ve):Uint8Array.prototype.set.call(se,this.subarray(ue,ve),ce),Se},y.prototype.fill=function(se,ce,ue,ve){if(typeof se=="string"){if(typeof ce=="string"?(ve=ce,ce=0,ue=this.length):typeof ue=="string"&&(ve=ue,ue=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!y.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(se.length===1){const Ie=se.charCodeAt(0);(ve==="utf8"&&Ie<128||ve==="latin1")&&(se=Ie)}}else typeof se=="number"?se&=255:typeof se=="boolean"&&(se=Number(se));if(ce<0||this.length<ce||this.length<ue)throw new RangeError("Out of range index");if(ue<=ce)return this;let Se;if(ce>>>=0,ue=ue===void 0?this.length:ue>>>0,se||(se=0),typeof se=="number")for(Se=ce;Se<ue;++Se)this[Se]=se;else{const Ie=y.isBuffer(se)?se:y.from(se,ve),Be=Ie.length;if(Be===0)throw new TypeError('The value "'+se+'" is invalid for argument "value"');for(Se=0;Se<ue-ce;++Se)this[Se+ce]=Ie[Se%Be]}return this};const Y={};function q(se,ce,ue){Y[se]=class extends ue{constructor(){super(),Object.defineProperty(this,"message",{value:ce.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${se}]`,this.stack,delete this.name}get code(){return se}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${se}]: ${this.message}`}}}function ne(se){let ce="",ue=se.length;const ve=se[0]==="-"?1:0;for(;ue>=ve+4;ue-=3)ce=`_${se.slice(ue-3,ue)}${ce}`;return`${se.slice(0,ue)}${ce}`}function oe(se,ce,ue,ve,Se,Ie){if(se>ue||se<ce){const Be=typeof ce=="bigint"?"n":"";let $e;throw $e=Ie>3?ce===0||ce===BigInt(0)?`>= 0${Be} and < 2${Be} ** ${8*(Ie+1)}${Be}`:`>= -(2${Be} ** ${8*(Ie+1)-1}${Be}) and < 2 ** ${8*(Ie+1)-1}${Be}`:`>= ${ce}${Be} and <= ${ue}${Be}`,new Y.ERR_OUT_OF_RANGE("value",$e,se)}(function(Be,$e,Ke){he($e,"offset"),Be[$e]!==void 0&&Be[$e+Ke]!==void 0||de($e,Be.length-(Ke+1))})(ve,Se,Ie)}function he(se,ce){if(typeof se!="number")throw new Y.ERR_INVALID_ARG_TYPE(ce,"number",se)}function de(se,ce,ue){throw Math.floor(se)!==se?(he(se,ue),new Y.ERR_OUT_OF_RANGE(ue||"offset","an integer",se)):ce<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE(ue||"offset",`>= ${ue?1:0} and <= ${ce}`,se)}q("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?`${se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(se,ce){return`The "${se}" argument must be of type number. Received type ${typeof ce}`},TypeError),q("ERR_OUT_OF_RANGE",function(se,ce,ue){let ve=`The value of "${se}" is out of range.`,Se=ue;return Number.isInteger(ue)&&Math.abs(ue)>4294967296?Se=ne(String(ue)):typeof ue=="bigint"&&(Se=String(ue),(ue>BigInt(2)**BigInt(32)||ue<-(BigInt(2)**BigInt(32)))&&(Se=ne(Se)),Se+="n"),ve+=` It must be ${ce}. Received ${Se}`,ve},RangeError);const xe=/[^+/0-9A-Za-z-_]/g;function Ce(se,ce){let ue;ce=ce||1/0;const ve=se.length;let Se=null;const Ie=[];for(let Be=0;Be<ve;++Be){if(ue=se.charCodeAt(Be),ue>55295&&ue<57344){if(!Se){if(ue>56319){(ce-=3)>-1&&Ie.push(239,191,189);continue}if(Be+1===ve){(ce-=3)>-1&&Ie.push(239,191,189);continue}Se=ue;continue}if(ue<56320){(ce-=3)>-1&&Ie.push(239,191,189),Se=ue;continue}ue=65536+(Se-55296<<10|ue-56320)}else Se&&(ce-=3)>-1&&Ie.push(239,191,189);if(Se=null,ue<128){if((ce-=1)<0)break;Ie.push(ue)}else if(ue<2048){if((ce-=2)<0)break;Ie.push(ue>>6|192,63&ue|128)}else if(ue<65536){if((ce-=3)<0)break;Ie.push(ue>>12|224,ue>>6&63|128,63&ue|128)}else{if(!(ue<1114112))throw new Error("Invalid code point");if((ce-=4)<0)break;Ie.push(ue>>18|240,ue>>12&63|128,ue>>6&63|128,63&ue|128)}}return Ie}function ge(se){return c.toByteArray(function(ce){if((ce=(ce=ce.split("=")[0]).trim().replace(xe,"")).length<2)return"";for(;ce.length%4!=0;)ce+="=";return ce}(se))}function Ae(se,ce,ue,ve){let Se;for(Se=0;Se<ve&&!(Se+ue>=ce.length||Se>=se.length);++Se)ce[Se+ue]=se[Se];return Se}function we(se,ce){return se instanceof ce||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===ce.name}function me(se){return se!=se}const _e=function(){const se="0123456789abcdef",ce=new Array(256);for(let ue=0;ue<16;++ue){const ve=16*ue;for(let Se=0;Se<16;++Se)ce[ve+Se]=se[ue]+se[Se]}return ce}();function Me(se){return typeof BigInt>"u"?De:se}function De(){throw new Error("BigInt not supported")}},181:(f,l)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(u,c,m,_,g){var b,y,S=8*g-_-1,A=(1<<S)-1,C=A>>1,x=-7,E=m?g-1:0,k=m?-1:1,T=u[c+E];for(E+=k,b=T&(1<<-x)-1,T>>=-x,x+=S;x>0;b=256*b+u[c+E],E+=k,x-=8);for(y=b&(1<<-x)-1,b>>=-x,x+=_;x>0;y=256*y+u[c+E],E+=k,x-=8);if(b===0)b=1-C;else{if(b===A)return y?NaN:1/0*(T?-1:1);y+=Math.pow(2,_),b-=C}return(T?-1:1)*y*Math.pow(2,b-_)},l.write=function(u,c,m,_,g,b){var y,S,A,C=8*b-g-1,x=(1<<C)-1,E=x>>1,k=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=_?0:b-1,I=_?1:-1,M=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(S=isNaN(c)?1:0,y=x):(y=Math.floor(Math.log(c)/Math.LN2),c*(A=Math.pow(2,-y))<1&&(y--,A*=2),(c+=y+E>=1?k/A:k*Math.pow(2,1-E))*A>=2&&(y++,A/=2),y+E>=x?(S=0,y=x):y+E>=1?(S=(c*A-1)*Math.pow(2,g),y+=E):(S=c*Math.pow(2,E-1)*Math.pow(2,g),y=0));g>=8;u[m+T]=255&S,T+=I,S/=256,g-=8);for(y=y<<g|S,C+=g;C>0;u[m+T]=255&y,T+=I,y/=256,C-=8);u[m+T-I]|=128*M}},845:(f,l,u)=>{var c={};(0,u(761).assign)(c,u(880),u(380),u(271)),f.exports=c},880:(f,l,u)=>{var c=u(789),m=u(761),_=u(944),g=u(950),b=u(744),y=Object.prototype.toString;function S(C){if(!(this instanceof S))return new S(C);this.options=m.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},C||{});var x=this.options;x.raw&&x.windowBits>0?x.windowBits=-x.windowBits:x.gzip&&x.windowBits>0&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var E=c.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(E!==0)throw new Error(g[E]);if(x.header&&c.deflateSetHeader(this.strm,x.header),x.dictionary){var k;if(k=typeof x.dictionary=="string"?_.string2buf(x.dictionary):y.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(E=c.deflateSetDictionary(this.strm,k))!==0)throw new Error(g[E]);this.u=!0}}function A(C,x){var E=new S(x);if(E.push(C,!0),E.err)throw E.msg||g[E.err];return E.result}S.prototype.push=function(C,x){var E,k,T=this.strm,I=this.options.chunkSize;if(this.ended)return!1;k=x===~~x?x:x===!0?4:0,typeof C=="string"?T.input=_.string2buf(C):y.call(C)==="[object ArrayBuffer]"?T.input=new Uint8Array(C):T.input=C,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new m.Buf8(I),T.next_out=0,T.avail_out=I),(E=c.deflate(T,k))!==1&&E!==0)return this.onEnd(E),this.ended=!0,!1;T.avail_out!==0&&(T.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(_.buf2binstring(m.shrinkBuf(T.output,T.next_out))):this.onData(m.shrinkBuf(T.output,T.next_out)))}while((T.avail_in>0||T.avail_out===0)&&E!==1);return k===4?(E=c.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===0):k!==2||(this.onEnd(0),T.avail_out=0,!0)},S.prototype.onData=function(C){this.chunks.push(C)},S.prototype.onEnd=function(C){C===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},l.Deflate=S,l.deflate=A,l.deflateRaw=function(C,x){return(x=x||{}).raw=!0,A(C,x)},l.gzip=function(C,x){return(x=x||{}).gzip=!0,A(C,x)}},380:(f,l,u)=>{var c=u(20),m=u(761),_=u(944),g=u(271),b=u(950),y=u(744),S=u(357),A=Object.prototype.toString;function C(E){if(!(this instanceof C))return new C(E);this.options=m.assign({chunkSize:16384,windowBits:0,to:""},E||{});var k=this.options;k.raw&&k.windowBits>=0&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(k.windowBits>=0&&k.windowBits<16)||E&&E.windowBits||(k.windowBits+=32),k.windowBits>15&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var T=c.inflateInit2(this.strm,k.windowBits);if(T!==g.Z_OK)throw new Error(b[T]);if(this.header=new S,c.inflateGetHeader(this.strm,this.header),k.dictionary&&(typeof k.dictionary=="string"?k.dictionary=_.string2buf(k.dictionary):A.call(k.dictionary)==="[object ArrayBuffer]"&&(k.dictionary=new Uint8Array(k.dictionary)),k.raw&&(T=c.inflateSetDictionary(this.strm,k.dictionary))!==g.Z_OK))throw new Error(b[T])}function x(E,k){var T=new C(k);if(T.push(E,!0),T.err)throw T.msg||b[T.err];return T.result}C.prototype.push=function(E,k){var T,I,M,j,P,O=this.strm,N=this.options.chunkSize,D=this.options.dictionary,L=!1;if(this.ended)return!1;I=k===~~k?k:k===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof E=="string"?O.input=_.binstring2buf(E):A.call(E)==="[object ArrayBuffer]"?O.input=new Uint8Array(E):O.input=E,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new m.Buf8(N),O.next_out=0,O.avail_out=N),(T=c.inflate(O,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&D&&(T=c.inflateSetDictionary(this.strm,D)),T===g.Z_BUF_ERROR&&L===!0&&(T=g.Z_OK,L=!1),T!==g.Z_STREAM_END&&T!==g.Z_OK)return this.onEnd(T),this.ended=!0,!1;O.next_out&&(O.avail_out!==0&&T!==g.Z_STREAM_END&&(O.avail_in!==0||I!==g.Z_FINISH&&I!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=_.utf8border(O.output,O.next_out),j=O.next_out-M,P=_.buf2string(O.output,M),O.next_out=j,O.avail_out=N-j,j&&m.arraySet(O.output,O.output,M,j,0),this.onData(P)):this.onData(m.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(L=!0)}while((O.avail_in>0||O.avail_out===0)&&T!==g.Z_STREAM_END);return T===g.Z_STREAM_END&&(I=g.Z_FINISH),I===g.Z_FINISH?(T=c.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===g.Z_OK):I!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),O.avail_out=0,!0)},C.prototype.onData=function(E){this.chunks.push(E)},C.prototype.onEnd=function(E){E===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},l.Inflate=C,l.inflate=x,l.inflateRaw=function(E,k){return(k=k||{}).raw=!0,x(E,k)},l.ungzip=x},761:(f,l)=>{var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(g,b){return Object.prototype.hasOwnProperty.call(g,b)}l.assign=function(g){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var y=b.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var S in y)c(y,S)&&(g[S]=y[S])}}return g},l.shrinkBuf=function(g,b){return g.length===b?g:g.subarray?g.subarray(0,b):(g.length=b,g)};var m={arraySet:function(g,b,y,S,A){if(b.subarray&&g.subarray)g.set(b.subarray(y,y+S),A);else for(var C=0;C<S;C++)g[A+C]=b[y+C]},flattenChunks:function(g){var b,y,S,A,C,x;for(S=0,b=0,y=g.length;b<y;b++)S+=g[b].length;for(x=new Uint8Array(S),A=0,b=0,y=g.length;b<y;b++)C=g[b],x.set(C,A),A+=C.length;return x}},_={arraySet:function(g,b,y,S,A){for(var C=0;C<S;C++)g[A+C]=b[y+C]},flattenChunks:function(g){return[].concat.apply([],g)}};l.setTyped=function(g){g?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,m)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,_))},l.setTyped(u)},944:(f,l,u)=>{var c=u(761),m=!0,_=!0;try{String.fromCharCode.apply(null,[0])}catch{m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_=!1}for(var g=new c.Buf8(256),b=0;b<256;b++)g[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;function y(S,A){if(A<65534&&(S.subarray&&_||!S.subarray&&m))return String.fromCharCode.apply(null,c.shrinkBuf(S,A));for(var C="",x=0;x<A;x++)C+=String.fromCharCode(S[x]);return C}g[254]=g[254]=1,l.string2buf=function(S){var A,C,x,E,k,T=S.length,I=0;for(E=0;E<T;E++)(64512&(C=S.charCodeAt(E)))==55296&&E+1<T&&(64512&(x=S.charCodeAt(E+1)))==56320&&(C=65536+(C-55296<<10)+(x-56320),E++),I+=C<128?1:C<2048?2:C<65536?3:4;for(A=new c.Buf8(I),k=0,E=0;k<I;E++)(64512&(C=S.charCodeAt(E)))==55296&&E+1<T&&(64512&(x=S.charCodeAt(E+1)))==56320&&(C=65536+(C-55296<<10)+(x-56320),E++),C<128?A[k++]=C:C<2048?(A[k++]=192|C>>>6,A[k++]=128|63&C):C<65536?(A[k++]=224|C>>>12,A[k++]=128|C>>>6&63,A[k++]=128|63&C):(A[k++]=240|C>>>18,A[k++]=128|C>>>12&63,A[k++]=128|C>>>6&63,A[k++]=128|63&C);return A},l.buf2binstring=function(S){return y(S,S.length)},l.binstring2buf=function(S){for(var A=new c.Buf8(S.length),C=0,x=A.length;C<x;C++)A[C]=S.charCodeAt(C);return A},l.buf2string=function(S,A){var C,x,E,k,T=A||S.length,I=new Array(2*T);for(x=0,C=0;C<T;)if((E=S[C++])<128)I[x++]=E;else if((k=g[E])>4)I[x++]=65533,C+=k-1;else{for(E&=k===2?31:k===3?15:7;k>1&&C<T;)E=E<<6|63&S[C++],k--;k>1?I[x++]=65533:E<65536?I[x++]=E:(E-=65536,I[x++]=55296|E>>10&1023,I[x++]=56320|1023&E)}return y(I,x)},l.utf8border=function(S,A){var C;for((A=A||S.length)>S.length&&(A=S.length),C=A-1;C>=0&&(192&S[C])==128;)C--;return C<0||C===0?A:C+g[S[C]]>A?C:A}},562:f=>{f.exports=function(l,u,c,m){for(var _=65535&l|0,g=l>>>16&65535|0,b=0;c!==0;){c-=b=c>2e3?2e3:c;do g=g+(_=_+u[m++]|0)|0;while(--b);_%=65521,g%=65521}return _|g<<16|0}},271:f=>{f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},299:f=>{var l=function(){for(var u,c=[],m=0;m<256;m++){u=m;for(var _=0;_<8;_++)u=1&u?3988292384^u>>>1:u>>>1;c[m]=u}return c}();f.exports=function(u,c,m,_){var g=l,b=_+m;u^=-1;for(var y=_;y<b;y++)u=u>>>8^g[255&(u^c[y])];return-1^u}},789:(f,l,u)=>{var c,m=u(761),_=u(564),g=u(562),b=u(299),y=u(950),S=-2,A=258,C=262,x=103,E=113,k=666;function T(V,z){return V.msg=y[z],z}function I(V){return(V<<1)-(V>4?9:0)}function M(V){for(var z=V.length;--z>=0;)V[z]=0}function j(V){var z=V.state,X=z.pending;X>V.avail_out&&(X=V.avail_out),X!==0&&(m.arraySet(V.output,z.pending_buf,z.pending_out,X,V.next_out),V.next_out+=X,z.pending_out+=X,V.total_out+=X,V.avail_out-=X,z.pending-=X,z.pending===0&&(z.pending_out=0))}function P(V,z){_.h(V,V.block_start>=0?V.block_start:-1,V.strstart-V.block_start,z),V.block_start=V.strstart,j(V.strm)}function O(V,z){V.pending_buf[V.pending++]=z}function N(V,z){V.pending_buf[V.pending++]=z>>>8&255,V.pending_buf[V.pending++]=255&z}function D(V,z){var X,U,$=V.max_chain_length,ae=V.strstart,H=V.prev_length,ie=V.nice_match,Y=V.strstart>V.w_size-C?V.strstart-(V.w_size-C):0,q=V.window,ne=V.w_mask,oe=V.prev,he=V.strstart+A,de=q[ae+H-1],xe=q[ae+H];V.prev_length>=V.good_match&&($>>=2),ie>V.lookahead&&(ie=V.lookahead);do if(q[(X=z)+H]===xe&&q[X+H-1]===de&&q[X]===q[ae]&&q[++X]===q[ae+1]){ae+=2,X++;do;while(q[++ae]===q[++X]&&q[++ae]===q[++X]&&q[++ae]===q[++X]&&q[++ae]===q[++X]&&q[++ae]===q[++X]&&q[++ae]===q[++X]&&q[++ae]===q[++X]&&q[++ae]===q[++X]&&ae<he);if(U=A-(he-ae),ae=he-A,U>H){if(V.match_start=z,H=U,U>=ie)break;de=q[ae+H-1],xe=q[ae+H]}}while((z=oe[z&ne])>Y&&--$!=0);return H<=V.lookahead?H:V.lookahead}function L(V){var z,X,U,$,ae,H,ie,Y,q,ne,oe=V.w_size;do{if($=V.window_size-V.lookahead-V.strstart,V.strstart>=oe+(oe-C)){m.arraySet(V.window,V.window,oe,oe,0),V.match_start-=oe,V.strstart-=oe,V.block_start-=oe,z=X=V.hash_size;do U=V.head[--z],V.head[z]=U>=oe?U-oe:0;while(--X);z=X=oe;do U=V.prev[--z],V.prev[z]=U>=oe?U-oe:0;while(--X);$+=oe}if(V.strm.avail_in===0)break;if(H=V.strm,ie=V.window,Y=V.strstart+V.lookahead,q=$,ne=void 0,(ne=H.avail_in)>q&&(ne=q),X=ne===0?0:(H.avail_in-=ne,m.arraySet(ie,H.input,H.next_in,ne,Y),H.state.wrap===1?H.adler=g(H.adler,ie,ne,Y):H.state.wrap===2&&(H.adler=b(H.adler,ie,ne,Y)),H.next_in+=ne,H.total_in+=ne,ne),V.lookahead+=X,V.lookahead+V.insert>=3)for(ae=V.strstart-V.insert,V.ins_h=V.window[ae],V.ins_h=(V.ins_h<<V.hash_shift^V.window[ae+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[ae+3-1])&V.hash_mask,V.prev[ae&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ae,ae++,V.insert--,!(V.lookahead+V.insert<3)););}while(V.lookahead<C&&V.strm.avail_in!==0)}function R(V,z){for(var X,U;;){if(V.lookahead<C){if(L(V),V.lookahead<C&&z===0)return 1;if(V.lookahead===0)break}if(X=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,X=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),X!==0&&V.strstart-X<=V.w_size-C&&(V.match_length=D(V,X)),V.match_length>=3)if(U=_.l(V,V.strstart-V.match_start,V.match_length-3),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=3){V.match_length--;do V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,X=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart;while(--V.match_length!=0);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else U=_.l(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(U&&(P(V,!1),V.strm.avail_out===0))return 1}return V.insert=V.strstart<2?V.strstart:2,z===4?(P(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(P(V,!1),V.strm.avail_out===0)?1:2}function G(V,z){for(var X,U,$;;){if(V.lookahead<C){if(L(V),V.lookahead<C&&z===0)return 1;if(V.lookahead===0)break}if(X=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,X=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=2,X!==0&&V.prev_length<V.max_lazy_match&&V.strstart-X<=V.w_size-C&&(V.match_length=D(V,X),V.match_length<=5&&(V.strategy===1||V.match_length===3&&V.strstart-V.match_start>4096)&&(V.match_length=2)),V.prev_length>=3&&V.match_length<=V.prev_length){$=V.strstart+V.lookahead-3,U=_.l(V,V.strstart-1-V.prev_match,V.prev_length-3),V.lookahead-=V.prev_length-1,V.prev_length-=2;do++V.strstart<=$&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,X=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart);while(--V.prev_length!=0);if(V.match_available=0,V.match_length=2,V.strstart++,U&&(P(V,!1),V.strm.avail_out===0))return 1}else if(V.match_available){if((U=_.l(V,0,V.window[V.strstart-1]))&&P(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return 1}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(U=_.l(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<2?V.strstart:2,z===4?(P(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(P(V,!1),V.strm.avail_out===0)?1:2}function Z(V,z,X,U,$){this.good_length=V,this.max_lazy=z,this.nice_length=X,this.max_chain=U,this.func=$}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new m.Buf16(1146),this.dyn_dtree=new m.Buf16(122),this.bl_tree=new m.Buf16(78),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new m.Buf16(16),this.heap=new m.Buf16(573),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new m.Buf16(573),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function J(V){var z;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=2,(z=V.state).pending=0,z.pending_out=0,z.wrap<0&&(z.wrap=-z.wrap),z.status=z.wrap?42:E,V.adler=z.wrap===2?0:1,z.last_flush=0,_.p(z),0):T(V,S)}function K(V){var z,X=J(V);return X===0&&((z=V.state).window_size=2*z.w_size,M(z.head),z.max_lazy_match=c[z.level].max_lazy,z.good_match=c[z.level].good_length,z.nice_match=c[z.level].nice_length,z.max_chain_length=c[z.level].max_chain,z.strstart=0,z.block_start=0,z.lookahead=0,z.insert=0,z.match_length=z.prev_length=2,z.match_available=0,z.ins_h=0),X}function ee(V,z,X,U,$,ae){if(!V)return S;var H=1;if(z===-1&&(z=6),U<0?(H=0,U=-U):U>15&&(H=2,U-=16),$<1||$>9||X!==8||U<8||U>15||z<0||z>9||ae<0||ae>4)return T(V,S);U===8&&(U=9);var ie=new B;return V.state=ie,ie.strm=V,ie.wrap=H,ie.gzhead=null,ie.w_bits=U,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=$+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+3-1)/3),ie.window=new m.Buf8(2*ie.w_size),ie.head=new m.Buf16(ie.hash_size),ie.prev=new m.Buf16(ie.w_size),ie.lit_bufsize=1<<$+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new m.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=z,ie.strategy=ae,ie.method=X,K(V)}c=[new Z(0,0,0,0,function(V,z){var X=65535;for(X>V.pending_buf_size-5&&(X=V.pending_buf_size-5);;){if(V.lookahead<=1){if(L(V),V.lookahead===0&&z===0)return 1;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var U=V.block_start+X;if((V.strstart===0||V.strstart>=U)&&(V.lookahead=V.strstart-U,V.strstart=U,P(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-C&&(P(V,!1),V.strm.avail_out===0))return 1}return V.insert=0,z===4?(P(V,!0),V.strm.avail_out===0?3:4):(V.strstart>V.block_start&&(P(V,!1),V.strm.avail_out),1)}),new Z(4,4,8,4,R),new Z(4,5,16,8,R),new Z(4,6,32,32,R),new Z(4,4,16,16,G),new Z(8,16,32,32,G),new Z(8,16,128,128,G),new Z(8,32,128,256,G),new Z(32,128,258,1024,G),new Z(32,258,258,4096,G)],l.deflateInit=function(V,z){return ee(V,z,8,15,8,0)},l.deflateInit2=ee,l.deflateReset=K,l.deflateResetKeep=J,l.deflateSetHeader=function(V,z){return V&&V.state?V.state.wrap!==2?S:(V.state.gzhead=z,0):S},l.deflate=function(V,z){var X,U,$,ae;if(!V||!V.state||z>5||z<0)return V?T(V,S):S;if(U=V.state,!V.output||!V.input&&V.avail_in!==0||U.status===k&&z!==4)return T(V,V.avail_out===0?-5:S);if(U.strm=V,X=U.last_flush,U.last_flush=z,U.status===42)if(U.wrap===2)V.adler=0,O(U,31),O(U,139),O(U,8),U.gzhead?(O(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),O(U,255&U.gzhead.time),O(U,U.gzhead.time>>8&255),O(U,U.gzhead.time>>16&255),O(U,U.gzhead.time>>24&255),O(U,U.level===9?2:U.strategy>=2||U.level<2?4:0),O(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(O(U,255&U.gzhead.extra.length),O(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(V.adler=b(V.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(O(U,0),O(U,0),O(U,0),O(U,0),O(U,0),O(U,U.level===9?2:U.strategy>=2||U.level<2?4:0),O(U,3),U.status=E);else{var H=8+(U.w_bits-8<<4)<<8;H|=(U.strategy>=2||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(H|=32),H+=31-H%31,U.status=E,N(U,H),U.strstart!==0&&(N(U,V.adler>>>16),N(U,65535&V.adler)),V.adler=1}if(U.status===69)if(U.gzhead.extra){for($=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>$&&(V.adler=b(V.adler,U.pending_buf,U.pending-$,$)),j(V),$=U.pending,U.pending!==U.pending_buf_size));)O(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>$&&(V.adler=b(V.adler,U.pending_buf,U.pending-$,$)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){$=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>$&&(V.adler=b(V.adler,U.pending_buf,U.pending-$,$)),j(V),$=U.pending,U.pending===U.pending_buf_size)){ae=1;break}ae=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,O(U,ae)}while(ae!==0);U.gzhead.hcrc&&U.pending>$&&(V.adler=b(V.adler,U.pending_buf,U.pending-$,$)),ae===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){$=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>$&&(V.adler=b(V.adler,U.pending_buf,U.pending-$,$)),j(V),$=U.pending,U.pending===U.pending_buf_size)){ae=1;break}ae=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,O(U,ae)}while(ae!==0);U.gzhead.hcrc&&U.pending>$&&(V.adler=b(V.adler,U.pending_buf,U.pending-$,$)),ae===0&&(U.status=x)}else U.status=x;if(U.status===x&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&j(V),U.pending+2<=U.pending_buf_size&&(O(U,255&V.adler),O(U,V.adler>>8&255),V.adler=0,U.status=E)):U.status=E),U.pending!==0){if(j(V),V.avail_out===0)return U.last_flush=-1,0}else if(V.avail_in===0&&I(z)<=I(X)&&z!==4)return T(V,-5);if(U.status===k&&V.avail_in!==0)return T(V,-5);if(V.avail_in!==0||U.lookahead!==0||z!==0&&U.status!==k){var ie=U.strategy===2?function(Y,q){for(var ne;;){if(Y.lookahead===0&&(L(Y),Y.lookahead===0)){if(q===0)return 1;break}if(Y.match_length=0,ne=_.l(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++,ne&&(P(Y,!1),Y.strm.avail_out===0))return 1}return Y.insert=0,q===4?(P(Y,!0),Y.strm.avail_out===0?3:4):Y.last_lit&&(P(Y,!1),Y.strm.avail_out===0)?1:2}(U,z):U.strategy===3?function(Y,q){for(var ne,oe,he,de,xe=Y.window;;){if(Y.lookahead<=A){if(L(Y),Y.lookahead<=A&&q===0)return 1;if(Y.lookahead===0)break}if(Y.match_length=0,Y.lookahead>=3&&Y.strstart>0&&(oe=xe[he=Y.strstart-1])===xe[++he]&&oe===xe[++he]&&oe===xe[++he]){de=Y.strstart+A;do;while(oe===xe[++he]&&oe===xe[++he]&&oe===xe[++he]&&oe===xe[++he]&&oe===xe[++he]&&oe===xe[++he]&&oe===xe[++he]&&oe===xe[++he]&&he<de);Y.match_length=A-(de-he),Y.match_length>Y.lookahead&&(Y.match_length=Y.lookahead)}if(Y.match_length>=3?(ne=_.l(Y,1,Y.match_length-3),Y.lookahead-=Y.match_length,Y.strstart+=Y.match_length,Y.match_length=0):(ne=_.l(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++),ne&&(P(Y,!1),Y.strm.avail_out===0))return 1}return Y.insert=0,q===4?(P(Y,!0),Y.strm.avail_out===0?3:4):Y.last_lit&&(P(Y,!1),Y.strm.avail_out===0)?1:2}(U,z):c[U.level].func(U,z);if(ie!==3&&ie!==4||(U.status=k),ie===1||ie===3)return V.avail_out===0&&(U.last_flush=-1),0;if(ie===2&&(z===1?_.g(U):z!==5&&(_.m(U,0,0,!1),z===3&&(M(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),j(V),V.avail_out===0))return U.last_flush=-1,0}return z!==4?0:U.wrap<=0?1:(U.wrap===2?(O(U,255&V.adler),O(U,V.adler>>8&255),O(U,V.adler>>16&255),O(U,V.adler>>24&255),O(U,255&V.total_in),O(U,V.total_in>>8&255),O(U,V.total_in>>16&255),O(U,V.total_in>>24&255)):(N(U,V.adler>>>16),N(U,65535&V.adler)),j(V),U.wrap>0&&(U.wrap=-U.wrap),U.pending!==0?0:1)},l.deflateEnd=function(V){var z;return V&&V.state?(z=V.state.status)!==42&&z!==69&&z!==73&&z!==91&&z!==x&&z!==E&&z!==k?T(V,S):(V.state=null,z===E?T(V,-3):0):S},l.deflateSetDictionary=function(V,z){var X,U,$,ae,H,ie,Y,q,ne=z.length;if(!V||!V.state||(ae=(X=V.state).wrap)===2||ae===1&&X.status!==42||X.lookahead)return S;for(ae===1&&(V.adler=g(V.adler,z,ne,0)),X.wrap=0,ne>=X.w_size&&(ae===0&&(M(X.head),X.strstart=0,X.block_start=0,X.insert=0),q=new m.Buf8(X.w_size),m.arraySet(q,z,ne-X.w_size,X.w_size,0),z=q,ne=X.w_size),H=V.avail_in,ie=V.next_in,Y=V.input,V.avail_in=ne,V.next_in=0,V.input=z,L(X);X.lookahead>=3;){U=X.strstart,$=X.lookahead-2;do X.ins_h=(X.ins_h<<X.hash_shift^X.window[U+3-1])&X.hash_mask,X.prev[U&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=U,U++;while(--$);X.strstart=U,X.lookahead=2,L(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=2,X.match_available=0,V.next_in=ie,V.input=Y,V.avail_in=H,X.wrap=ae,0},l.deflateInfo="pako deflate (from Nodeca project)"},357:f=>{f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},980:f=>{f.exports=function(l,u){var c,m,_,g,b,y,S,A,C,x,E,k,T,I,M,j,P,O,N,D,L,R,G,Z,B;c=l.state,m=l.next_in,Z=l.input,_=m+(l.avail_in-5),g=l.next_out,B=l.output,b=g-(u-l.avail_out),y=g+(l.avail_out-257),S=c.dmax,A=c.wsize,C=c.whave,x=c.wnext,E=c.window,k=c.hold,T=c.bits,I=c.lencode,M=c.distcode,j=(1<<c.lenbits)-1,P=(1<<c.distbits)-1;e:do{T<15&&(k+=Z[m++]<<T,T+=8,k+=Z[m++]<<T,T+=8),O=I[k&j];t:for(;;){if(k>>>=N=O>>>24,T-=N,(N=O>>>16&255)==0)B[g++]=65535&O;else{if(!(16&N)){if(!(64&N)){O=I[(65535&O)+(k&(1<<N)-1)];continue t}if(32&N){c.mode=12;break e}l.msg="invalid literal/length code",c.mode=30;break e}D=65535&O,(N&=15)&&(T<N&&(k+=Z[m++]<<T,T+=8),D+=k&(1<<N)-1,k>>>=N,T-=N),T<15&&(k+=Z[m++]<<T,T+=8,k+=Z[m++]<<T,T+=8),O=M[k&P];r:for(;;){if(k>>>=N=O>>>24,T-=N,!(16&(N=O>>>16&255))){if(!(64&N)){O=M[(65535&O)+(k&(1<<N)-1)];continue r}l.msg="invalid distance code",c.mode=30;break e}if(L=65535&O,T<(N&=15)&&(k+=Z[m++]<<T,(T+=8)<N&&(k+=Z[m++]<<T,T+=8)),(L+=k&(1<<N)-1)>S){l.msg="invalid distance too far back",c.mode=30;break e}if(k>>>=N,T-=N,L>(N=g-b)){if((N=L-N)>C&&c.sane){l.msg="invalid distance too far back",c.mode=30;break e}if(R=0,G=E,x===0){if(R+=A-N,N<D){D-=N;do B[g++]=E[R++];while(--N);R=g-L,G=B}}else if(x<N){if(R+=A+x-N,(N-=x)<D){D-=N;do B[g++]=E[R++];while(--N);if(R=0,x<D){D-=N=x;do B[g++]=E[R++];while(--N);R=g-L,G=B}}}else if(R+=x-N,N<D){D-=N;do B[g++]=E[R++];while(--N);R=g-L,G=B}for(;D>2;)B[g++]=G[R++],B[g++]=G[R++],B[g++]=G[R++],D-=3;D&&(B[g++]=G[R++],D>1&&(B[g++]=G[R++]))}else{R=g-L;do B[g++]=B[R++],B[g++]=B[R++],B[g++]=B[R++],D-=3;while(D>2);D&&(B[g++]=B[R++],D>1&&(B[g++]=B[R++]))}break}}break}}while(m<_&&g<y);m-=D=T>>3,k&=(1<<(T-=D<<3))-1,l.next_in=m,l.next_out=g,l.avail_in=m<_?_-m+5:5-(m-_),l.avail_out=g<y?y-g+257:257-(g-y),c.hold=k,c.bits=T}},20:(f,l,u)=>{var c=u(761),m=u(562),_=u(299),g=u(980),b=u(881),y=-2,S=12,A=30;function C(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(D){var L;return D&&D.state?(L=D.state,D.total_in=D.total_out=L.total=0,D.msg="",L.wrap&&(D.adler=1&L.wrap),L.mode=1,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new c.Buf32(852),L.distcode=L.distdyn=new c.Buf32(592),L.sane=1,L.back=-1,0):y}function k(D){var L;return D&&D.state?((L=D.state).wsize=0,L.whave=0,L.wnext=0,E(D)):y}function T(D,L){var R,G;return D&&D.state?(G=D.state,L<0?(R=0,L=-L):(R=1+(L>>4),L<48&&(L&=15)),L&&(L<8||L>15)?y:(G.window!==null&&G.wbits!==L&&(G.window=null),G.wrap=R,G.wbits=L,k(D))):y}function I(D,L){var R,G;return D?(G=new x,D.state=G,G.window=null,(R=T(D,L))!==0&&(D.state=null),R):y}var M,j,P=!0;function O(D){if(P){var L;for(M=new c.Buf32(512),j=new c.Buf32(32),L=0;L<144;)D.lens[L++]=8;for(;L<256;)D.lens[L++]=9;for(;L<280;)D.lens[L++]=7;for(;L<288;)D.lens[L++]=8;for(b(1,D.lens,0,288,M,0,D.work,{bits:9}),L=0;L<32;)D.lens[L++]=5;b(2,D.lens,0,32,j,0,D.work,{bits:5}),P=!1}D.lencode=M,D.lenbits=9,D.distcode=j,D.distbits=5}function N(D,L,R,G){var Z,B=D.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new c.Buf8(B.wsize)),G>=B.wsize?(c.arraySet(B.window,L,R-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):((Z=B.wsize-B.wnext)>G&&(Z=G),c.arraySet(B.window,L,R-G,Z,B.wnext),(G-=Z)?(c.arraySet(B.window,L,R-G,G,0),B.wnext=G,B.whave=B.wsize):(B.wnext+=Z,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=Z))),0}l.inflateReset=k,l.inflateReset2=T,l.inflateResetKeep=E,l.inflateInit=function(D){return I(D,15)},l.inflateInit2=I,l.inflate=function(D,L){var R,G,Z,B,J,K,ee,V,z,X,U,$,ae,H,ie,Y,q,ne,oe,he,de,xe,Ce,ge,Ae=0,we=new c.Buf8(4),me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return y;(R=D.state).mode===S&&(R.mode=13),J=D.next_out,Z=D.output,ee=D.avail_out,B=D.next_in,G=D.input,K=D.avail_in,V=R.hold,z=R.bits,X=K,U=ee,xe=0;e:for(;;)switch(R.mode){case 1:if(R.wrap===0){R.mode=13;break}for(;z<16;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if(2&R.wrap&&V===35615){R.check=0,we[0]=255&V,we[1]=V>>>8&255,R.check=_(R.check,we,2,0),V=0,z=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&V)<<8)+(V>>8))%31){D.msg="incorrect header check",R.mode=A;break}if((15&V)!=8){D.msg="unknown compression method",R.mode=A;break}if(z-=4,de=8+(15&(V>>>=4)),R.wbits===0)R.wbits=de;else if(de>R.wbits){D.msg="invalid window size",R.mode=A;break}R.dmax=1<<de,D.adler=R.check=1,R.mode=512&V?10:S,V=0,z=0;break;case 2:for(;z<16;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if(R.flags=V,(255&R.flags)!=8){D.msg="unknown compression method",R.mode=A;break}if(57344&R.flags){D.msg="unknown header flags set",R.mode=A;break}R.head&&(R.head.text=V>>8&1),512&R.flags&&(we[0]=255&V,we[1]=V>>>8&255,R.check=_(R.check,we,2,0)),V=0,z=0,R.mode=3;case 3:for(;z<32;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}R.head&&(R.head.time=V),512&R.flags&&(we[0]=255&V,we[1]=V>>>8&255,we[2]=V>>>16&255,we[3]=V>>>24&255,R.check=_(R.check,we,4,0)),V=0,z=0,R.mode=4;case 4:for(;z<16;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}R.head&&(R.head.xflags=255&V,R.head.os=V>>8),512&R.flags&&(we[0]=255&V,we[1]=V>>>8&255,R.check=_(R.check,we,2,0)),V=0,z=0,R.mode=5;case 5:if(1024&R.flags){for(;z<16;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}R.length=V,R.head&&(R.head.extra_len=V),512&R.flags&&(we[0]=255&V,we[1]=V>>>8&255,R.check=_(R.check,we,2,0)),V=0,z=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(($=R.length)>K&&($=K),$&&(R.head&&(de=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),c.arraySet(R.head.extra,G,B,$,de)),512&R.flags&&(R.check=_(R.check,G,$,B)),K-=$,B+=$,R.length-=$),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(K===0)break e;$=0;do de=G[B+$++],R.head&&de&&R.length<65536&&(R.head.name+=String.fromCharCode(de));while(de&&$<K);if(512&R.flags&&(R.check=_(R.check,G,$,B)),K-=$,B+=$,de)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(K===0)break e;$=0;do de=G[B+$++],R.head&&de&&R.length<65536&&(R.head.comment+=String.fromCharCode(de));while(de&&$<K);if(512&R.flags&&(R.check=_(R.check,G,$,B)),K-=$,B+=$,de)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;z<16;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if(V!==(65535&R.check)){D.msg="header crc mismatch",R.mode=A;break}V=0,z=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),D.adler=R.check=0,R.mode=S;break;case 10:for(;z<32;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}D.adler=R.check=C(V),V=0,z=0,R.mode=11;case 11:if(R.havedict===0)return D.next_out=J,D.avail_out=ee,D.next_in=B,D.avail_in=K,R.hold=V,R.bits=z,2;D.adler=R.check=1,R.mode=S;case S:if(L===5||L===6)break e;case 13:if(R.last){V>>>=7&z,z-=7&z,R.mode=27;break}for(;z<3;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}switch(R.last=1&V,z-=1,3&(V>>>=1)){case 0:R.mode=14;break;case 1:if(O(R),R.mode=20,L===6){V>>>=2,z-=2;break e}break;case 2:R.mode=17;break;case 3:D.msg="invalid block type",R.mode=A}V>>>=2,z-=2;break;case 14:for(V>>>=7&z,z-=7&z;z<32;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if((65535&V)!=(V>>>16^65535)){D.msg="invalid stored block lengths",R.mode=A;break}if(R.length=65535&V,V=0,z=0,R.mode=15,L===6)break e;case 15:R.mode=16;case 16:if($=R.length){if($>K&&($=K),$>ee&&($=ee),$===0)break e;c.arraySet(Z,G,B,$,J),K-=$,B+=$,ee-=$,J+=$,R.length-=$;break}R.mode=S;break;case 17:for(;z<14;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if(R.nlen=257+(31&V),V>>>=5,z-=5,R.ndist=1+(31&V),V>>>=5,z-=5,R.ncode=4+(15&V),V>>>=4,z-=4,R.nlen>286||R.ndist>30){D.msg="too many length or distance symbols",R.mode=A;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;z<3;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}R.lens[me[R.have++]]=7&V,V>>>=3,z-=3}for(;R.have<19;)R.lens[me[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,Ce={bits:R.lenbits},xe=b(0,R.lens,0,19,R.lencode,0,R.work,Ce),R.lenbits=Ce.bits,xe){D.msg="invalid code lengths set",R.mode=A;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;Y=(Ae=R.lencode[V&(1<<R.lenbits)-1])>>>16&255,q=65535&Ae,!((ie=Ae>>>24)<=z);){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if(q<16)V>>>=ie,z-=ie,R.lens[R.have++]=q;else{if(q===16){for(ge=ie+2;z<ge;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if(V>>>=ie,z-=ie,R.have===0){D.msg="invalid bit length repeat",R.mode=A;break}de=R.lens[R.have-1],$=3+(3&V),V>>>=2,z-=2}else if(q===17){for(ge=ie+3;z<ge;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}z-=ie,de=0,$=3+(7&(V>>>=ie)),V>>>=3,z-=3}else{for(ge=ie+7;z<ge;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}z-=ie,de=0,$=11+(127&(V>>>=ie)),V>>>=7,z-=7}if(R.have+$>R.nlen+R.ndist){D.msg="invalid bit length repeat",R.mode=A;break}for(;$--;)R.lens[R.have++]=de}}if(R.mode===A)break;if(R.lens[256]===0){D.msg="invalid code -- missing end-of-block",R.mode=A;break}if(R.lenbits=9,Ce={bits:R.lenbits},xe=b(1,R.lens,0,R.nlen,R.lencode,0,R.work,Ce),R.lenbits=Ce.bits,xe){D.msg="invalid literal/lengths set",R.mode=A;break}if(R.distbits=6,R.distcode=R.distdyn,Ce={bits:R.distbits},xe=b(2,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,Ce),R.distbits=Ce.bits,xe){D.msg="invalid distances set",R.mode=A;break}if(R.mode=20,L===6)break e;case 20:R.mode=21;case 21:if(K>=6&&ee>=258){D.next_out=J,D.avail_out=ee,D.next_in=B,D.avail_in=K,R.hold=V,R.bits=z,g(D,U),J=D.next_out,Z=D.output,ee=D.avail_out,B=D.next_in,G=D.input,K=D.avail_in,V=R.hold,z=R.bits,R.mode===S&&(R.back=-1);break}for(R.back=0;Y=(Ae=R.lencode[V&(1<<R.lenbits)-1])>>>16&255,q=65535&Ae,!((ie=Ae>>>24)<=z);){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if(Y&&!(240&Y)){for(ne=ie,oe=Y,he=q;Y=(Ae=R.lencode[he+((V&(1<<ne+oe)-1)>>ne)])>>>16&255,q=65535&Ae,!(ne+(ie=Ae>>>24)<=z);){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}V>>>=ne,z-=ne,R.back+=ne}if(V>>>=ie,z-=ie,R.back+=ie,R.length=q,Y===0){R.mode=26;break}if(32&Y){R.back=-1,R.mode=S;break}if(64&Y){D.msg="invalid literal/length code",R.mode=A;break}R.extra=15&Y,R.mode=22;case 22:if(R.extra){for(ge=R.extra;z<ge;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}R.length+=V&(1<<R.extra)-1,V>>>=R.extra,z-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;Y=(Ae=R.distcode[V&(1<<R.distbits)-1])>>>16&255,q=65535&Ae,!((ie=Ae>>>24)<=z);){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if(!(240&Y)){for(ne=ie,oe=Y,he=q;Y=(Ae=R.distcode[he+((V&(1<<ne+oe)-1)>>ne)])>>>16&255,q=65535&Ae,!(ne+(ie=Ae>>>24)<=z);){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}V>>>=ne,z-=ne,R.back+=ne}if(V>>>=ie,z-=ie,R.back+=ie,64&Y){D.msg="invalid distance code",R.mode=A;break}R.offset=q,R.extra=15&Y,R.mode=24;case 24:if(R.extra){for(ge=R.extra;z<ge;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}R.offset+=V&(1<<R.extra)-1,V>>>=R.extra,z-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){D.msg="invalid distance too far back",R.mode=A;break}R.mode=25;case 25:if(ee===0)break e;if($=U-ee,R.offset>$){if(($=R.offset-$)>R.whave&&R.sane){D.msg="invalid distance too far back",R.mode=A;break}$>R.wnext?($-=R.wnext,ae=R.wsize-$):ae=R.wnext-$,$>R.length&&($=R.length),H=R.window}else H=Z,ae=J-R.offset,$=R.length;$>ee&&($=ee),ee-=$,R.length-=$;do Z[J++]=H[ae++];while(--$);R.length===0&&(R.mode=21);break;case 26:if(ee===0)break e;Z[J++]=R.length,ee--,R.mode=21;break;case 27:if(R.wrap){for(;z<32;){if(K===0)break e;K--,V|=G[B++]<<z,z+=8}if(U-=ee,D.total_out+=U,R.total+=U,U&&(D.adler=R.check=R.flags?_(R.check,Z,U,J-U):m(R.check,Z,U,J-U)),U=ee,(R.flags?V:C(V))!==R.check){D.msg="incorrect data check",R.mode=A;break}V=0,z=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;z<32;){if(K===0)break e;K--,V+=G[B++]<<z,z+=8}if(V!==(4294967295&R.total)){D.msg="incorrect length check",R.mode=A;break}V=0,z=0}R.mode=29;case 29:xe=1;break e;case A:xe=-3;break e;case 31:return-4;default:return y}return D.next_out=J,D.avail_out=ee,D.next_in=B,D.avail_in=K,R.hold=V,R.bits=z,(R.wsize||U!==D.avail_out&&R.mode<A&&(R.mode<27||L!==4))&&N(D,D.output,D.next_out,U-D.avail_out)?(R.mode=31,-4):(X-=D.avail_in,U-=D.avail_out,D.total_in+=X,D.total_out+=U,R.total+=U,R.wrap&&U&&(D.adler=R.check=R.flags?_(R.check,Z,U,D.next_out-U):m(R.check,Z,U,D.next_out-U)),D.data_type=R.bits+(R.last?64:0)+(R.mode===S?128:0)+(R.mode===20||R.mode===15?256:0),(X===0&&U===0||L===4)&&xe===0&&(xe=-5),xe)},l.inflateEnd=function(D){if(!D||!D.state)return y;var L=D.state;return L.window&&(L.window=null),D.state=null,0},l.inflateGetHeader=function(D,L){var R;return D&&D.state&&2&(R=D.state).wrap?(R.head=L,L.done=!1,0):y},l.inflateSetDictionary=function(D,L){var R,G=L.length;return D&&D.state?(R=D.state).wrap!==0&&R.mode!==11?y:R.mode===11&&m(1,L,G,0)!==R.check?-3:N(D,L,G,G)?(R.mode=31,-4):(R.havedict=1,0):y},l.inflateInfo="pako inflate (from Nodeca project)"},881:(f,l,u)=>{var c=u(761),m=15,_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(S,A,C,x,E,k,T,I){var M,j,P,O,N,D,L,R,G,Z=I.bits,B=0,J=0,K=0,ee=0,V=0,z=0,X=0,U=0,$=0,ae=0,H=null,ie=0,Y=new c.Buf16(16),q=new c.Buf16(16),ne=null,oe=0;for(B=0;B<=m;B++)Y[B]=0;for(J=0;J<x;J++)Y[A[C+J]]++;for(V=Z,ee=m;ee>=1&&Y[ee]===0;ee--);if(V>ee&&(V=ee),ee===0)return E[k++]=20971520,E[k++]=20971520,I.bits=1,0;for(K=1;K<ee&&Y[K]===0;K++);for(V<K&&(V=K),U=1,B=1;B<=m;B++)if(U<<=1,(U-=Y[B])<0)return-1;if(U>0&&(S===0||ee!==1))return-1;for(q[1]=0,B=1;B<m;B++)q[B+1]=q[B]+Y[B];for(J=0;J<x;J++)A[C+J]!==0&&(T[q[A[C+J]]++]=J);if(S===0?(H=ne=T,D=19):S===1?(H=_,ie-=257,ne=g,oe-=257,D=256):(H=b,ne=y,D=-1),ae=0,J=0,B=K,N=k,z=V,X=0,P=-1,O=($=1<<V)-1,S===1&&$>852||S===2&&$>592)return 1;for(;;){L=B-X,T[J]<D?(R=0,G=T[J]):T[J]>D?(R=ne[oe+T[J]],G=H[ie+T[J]]):(R=96,G=0),M=1<<B-X,K=j=1<<z;do E[N+(ae>>X)+(j-=M)]=L<<24|R<<16|G|0;while(j!==0);for(M=1<<B-1;ae&M;)M>>=1;if(M!==0?(ae&=M-1,ae+=M):ae=0,J++,--Y[B]==0){if(B===ee)break;B=A[C+T[J]]}if(B>V&&(ae&O)!==P){for(X===0&&(X=V),N+=K,U=1<<(z=B-X);z+X<ee&&!((U-=Y[z+X])<=0);)z++,U<<=1;if($+=1<<z,S===1&&$>852||S===2&&$>592)return 1;E[P=ae&O]=V<<24|z<<16|N-k|0}}return ae!==0&&(E[N+ae]=B-X<<24|4194304|0),I.bits=V,0}},950:f=>{f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},564:(f,l,u)=>{var c=u(761);function m(q){for(var ne=q.length;--ne>=0;)q[ne]=0}var _=256,g=286,b=30,y=15,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(576);m(E);var k=new Array(60);m(k);var T=new Array(512);m(T);var I=new Array(256);m(I);var M=new Array(29);m(M);var j,P,O,N=new Array(b);function D(q,ne,oe,he,de){this.static_tree=q,this.extra_bits=ne,this.extra_base=oe,this.elems=he,this.max_length=de,this.has_stree=q&&q.length}function L(q,ne){this.dyn_tree=q,this.max_code=0,this.stat_desc=ne}function R(q){return q<256?T[q]:T[256+(q>>>7)]}function G(q,ne){q.pending_buf[q.pending++]=255&ne,q.pending_buf[q.pending++]=ne>>>8&255}function Z(q,ne,oe){q.bi_valid>16-oe?(q.bi_buf|=ne<<q.bi_valid&65535,G(q,q.bi_buf),q.bi_buf=ne>>16-q.bi_valid,q.bi_valid+=oe-16):(q.bi_buf|=ne<<q.bi_valid&65535,q.bi_valid+=oe)}function B(q,ne,oe){Z(q,oe[2*ne],oe[2*ne+1])}function J(q,ne){var oe=0;do oe|=1&q,q>>>=1,oe<<=1;while(--ne>0);return oe>>>1}function K(q,ne,oe){var he,de,xe=new Array(16),Ce=0;for(he=1;he<=y;he++)xe[he]=Ce=Ce+oe[he-1]<<1;for(de=0;de<=ne;de++){var ge=q[2*de+1];ge!==0&&(q[2*de]=J(xe[ge]++,ge))}}function ee(q){var ne;for(ne=0;ne<g;ne++)q.dyn_ltree[2*ne]=0;for(ne=0;ne<b;ne++)q.dyn_dtree[2*ne]=0;for(ne=0;ne<19;ne++)q.bl_tree[2*ne]=0;q.dyn_ltree[512]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function V(q){q.bi_valid>8?G(q,q.bi_buf):q.bi_valid>0&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function z(q,ne,oe,he){var de=2*ne,xe=2*oe;return q[de]<q[xe]||q[de]===q[xe]&&he[ne]<=he[oe]}function X(q,ne,oe){for(var he=q.heap[oe],de=oe<<1;de<=q.heap_len&&(de<q.heap_len&&z(ne,q.heap[de+1],q.heap[de],q.depth)&&de++,!z(ne,he,q.heap[de],q.depth));)q.heap[oe]=q.heap[de],oe=de,de<<=1;q.heap[oe]=he}function U(q,ne,oe){var he,de,xe,Ce,ge=0;if(q.last_lit!==0)do he=q.pending_buf[q.d_buf+2*ge]<<8|q.pending_buf[q.d_buf+2*ge+1],de=q.pending_buf[q.l_buf+ge],ge++,he===0?B(q,de,ne):(B(q,(xe=I[de])+_+1,ne),(Ce=S[xe])!==0&&Z(q,de-=M[xe],Ce),B(q,xe=R(--he),oe),(Ce=A[xe])!==0&&Z(q,he-=N[xe],Ce));while(ge<q.last_lit);B(q,256,ne)}function $(q,ne){var oe,he,de,xe=ne.dyn_tree,Ce=ne.stat_desc.static_tree,ge=ne.stat_desc.has_stree,Ae=ne.stat_desc.elems,we=-1;for(q.heap_len=0,q.heap_max=573,oe=0;oe<Ae;oe++)xe[2*oe]!==0?(q.heap[++q.heap_len]=we=oe,q.depth[oe]=0):xe[2*oe+1]=0;for(;q.heap_len<2;)xe[2*(de=q.heap[++q.heap_len]=we<2?++we:0)]=1,q.depth[de]=0,q.opt_len--,ge&&(q.static_len-=Ce[2*de+1]);for(ne.max_code=we,oe=q.heap_len>>1;oe>=1;oe--)X(q,xe,oe);de=Ae;do oe=q.heap[1],q.heap[1]=q.heap[q.heap_len--],X(q,xe,1),he=q.heap[1],q.heap[--q.heap_max]=oe,q.heap[--q.heap_max]=he,xe[2*de]=xe[2*oe]+xe[2*he],q.depth[de]=(q.depth[oe]>=q.depth[he]?q.depth[oe]:q.depth[he])+1,xe[2*oe+1]=xe[2*he+1]=de,q.heap[1]=de++,X(q,xe,1);while(q.heap_len>=2);q.heap[--q.heap_max]=q.heap[1],function(me,_e){var Me,De,se,ce,ue,ve,Se=_e.dyn_tree,Ie=_e.max_code,Be=_e.stat_desc.static_tree,$e=_e.stat_desc.has_stree,Ke=_e.stat_desc.extra_bits,Qe=_e.stat_desc.extra_base,Re=_e.stat_desc.max_length,He=0;for(ce=0;ce<=y;ce++)me.bl_count[ce]=0;for(Se[2*me.heap[me.heap_max]+1]=0,Me=me.heap_max+1;Me<573;Me++)(ce=Se[2*Se[2*(De=me.heap[Me])+1]+1]+1)>Re&&(ce=Re,He++),Se[2*De+1]=ce,De>Ie||(me.bl_count[ce]++,ue=0,De>=Qe&&(ue=Ke[De-Qe]),ve=Se[2*De],me.opt_len+=ve*(ce+ue),$e&&(me.static_len+=ve*(Be[2*De+1]+ue)));if(He!==0){do{for(ce=Re-1;me.bl_count[ce]===0;)ce--;me.bl_count[ce]--,me.bl_count[ce+1]+=2,me.bl_count[Re]--,He-=2}while(He>0);for(ce=Re;ce!==0;ce--)for(De=me.bl_count[ce];De!==0;)(se=me.heap[--Me])>Ie||(Se[2*se+1]!==ce&&(me.opt_len+=(ce-Se[2*se+1])*Se[2*se],Se[2*se+1]=ce),De--)}}(q,ne),K(xe,we,q.bl_count)}function ae(q,ne,oe){var he,de,xe=-1,Ce=ne[1],ge=0,Ae=7,we=4;for(Ce===0&&(Ae=138,we=3),ne[2*(oe+1)+1]=65535,he=0;he<=oe;he++)de=Ce,Ce=ne[2*(he+1)+1],++ge<Ae&&de===Ce||(ge<we?q.bl_tree[2*de]+=ge:de!==0?(de!==xe&&q.bl_tree[2*de]++,q.bl_tree[32]++):ge<=10?q.bl_tree[34]++:q.bl_tree[36]++,ge=0,xe=de,Ce===0?(Ae=138,we=3):de===Ce?(Ae=6,we=3):(Ae=7,we=4))}function H(q,ne,oe){var he,de,xe=-1,Ce=ne[1],ge=0,Ae=7,we=4;for(Ce===0&&(Ae=138,we=3),he=0;he<=oe;he++)if(de=Ce,Ce=ne[2*(he+1)+1],!(++ge<Ae&&de===Ce)){if(ge<we)do B(q,de,q.bl_tree);while(--ge!=0);else de!==0?(de!==xe&&(B(q,de,q.bl_tree),ge--),B(q,16,q.bl_tree),Z(q,ge-3,2)):ge<=10?(B(q,17,q.bl_tree),Z(q,ge-3,3)):(B(q,18,q.bl_tree),Z(q,ge-11,7));ge=0,xe=de,Ce===0?(Ae=138,we=3):de===Ce?(Ae=6,we=3):(Ae=7,we=4)}}m(N);var ie=!1;function Y(q,ne,oe,he){Z(q,0+(he?1:0),3),function(de,xe,Ce,ge){V(de),ge&&(G(de,Ce),G(de,~Ce)),c.arraySet(de.pending_buf,de.window,xe,Ce,de.pending),de.pending+=Ce}(q,ne,oe,!0)}l.p=function(q){ie||(function(){var ne,oe,he,de,xe,Ce=new Array(16);for(he=0,de=0;de<28;de++)for(M[de]=he,ne=0;ne<1<<S[de];ne++)I[he++]=de;for(I[he-1]=de,xe=0,de=0;de<16;de++)for(N[de]=xe,ne=0;ne<1<<A[de];ne++)T[xe++]=de;for(xe>>=7;de<b;de++)for(N[de]=xe<<7,ne=0;ne<1<<A[de]-7;ne++)T[256+xe++]=de;for(oe=0;oe<=y;oe++)Ce[oe]=0;for(ne=0;ne<=143;)E[2*ne+1]=8,ne++,Ce[8]++;for(;ne<=255;)E[2*ne+1]=9,ne++,Ce[9]++;for(;ne<=279;)E[2*ne+1]=7,ne++,Ce[7]++;for(;ne<=287;)E[2*ne+1]=8,ne++,Ce[8]++;for(K(E,287,Ce),ne=0;ne<b;ne++)k[2*ne+1]=5,k[2*ne]=J(ne,5);j=new D(E,S,257,g,y),P=new D(k,A,0,b,y),O=new D(new Array(0),C,0,19,7)}(),ie=!0),q.l_desc=new L(q.dyn_ltree,j),q.d_desc=new L(q.dyn_dtree,P),q.bl_desc=new L(q.bl_tree,O),q.bi_buf=0,q.bi_valid=0,ee(q)},l.m=Y,l.h=function(q,ne,oe,he){var de,xe,Ce=0;q.level>0?(q.strm.data_type===2&&(q.strm.data_type=function(ge){var Ae,we=4093624447;for(Ae=0;Ae<=31;Ae++,we>>>=1)if(1&we&&ge.dyn_ltree[2*Ae]!==0)return 0;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return 1;for(Ae=32;Ae<_;Ae++)if(ge.dyn_ltree[2*Ae]!==0)return 1;return 0}(q)),$(q,q.l_desc),$(q,q.d_desc),Ce=function(ge){var Ae;for(ae(ge,ge.dyn_ltree,ge.l_desc.max_code),ae(ge,ge.dyn_dtree,ge.d_desc.max_code),$(ge,ge.bl_desc),Ae=18;Ae>=3&&ge.bl_tree[2*x[Ae]+1]===0;Ae--);return ge.opt_len+=3*(Ae+1)+5+5+4,Ae}(q),de=q.opt_len+3+7>>>3,(xe=q.static_len+3+7>>>3)<=de&&(de=xe)):de=xe=oe+5,oe+4<=de&&ne!==-1?Y(q,ne,oe,he):q.strategy===4||xe===de?(Z(q,2+(he?1:0),3),U(q,E,k)):(Z(q,4+(he?1:0),3),function(ge,Ae,we,me){var _e;for(Z(ge,Ae-257,5),Z(ge,we-1,5),Z(ge,me-4,4),_e=0;_e<me;_e++)Z(ge,ge.bl_tree[2*x[_e]+1],3);H(ge,ge.dyn_ltree,Ae-1),H(ge,ge.dyn_dtree,we-1)}(q,q.l_desc.max_code+1,q.d_desc.max_code+1,Ce+1),U(q,q.dyn_ltree,q.dyn_dtree)),ee(q),he&&V(q)},l.l=function(q,ne,oe){return q.pending_buf[q.d_buf+2*q.last_lit]=ne>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&ne,q.pending_buf[q.l_buf+q.last_lit]=255&oe,q.last_lit++,ne===0?q.dyn_ltree[2*oe]++:(q.matches++,ne--,q.dyn_ltree[2*(I[oe]+_+1)]++,q.dyn_dtree[2*R(ne)]++),q.last_lit===q.lit_bufsize-1},l.g=function(q){Z(q,2,3),B(q,256,E),function(ne){ne.bi_valid===16?(G(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):ne.bi_valid>=8&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(q)}},744:f=>{f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},347:(f,l,u)=>{var c,m;u.d(l,{s:()=>c,S:()=>m}),function(_){_[_.Inport=0]="Inport",_[_.Outport=1]="Outport",_[_.Undefined=2]="Undefined"}(c||(c={})),function(_){_[_.STOPPED=0]="STOPPED",_[_.RUNNING=1]="RUNNING"}(m||(m={}))},676:(f,l,u)=>{u.d(l,{D:()=>c});const c=0},641:(f,l,u)=>{var c;u.d(l,{OM:()=>g,Le:()=>_,nc:()=>m,n_:()=>b}),function(y){y[y.Float32Audio=0]="Float32Audio",y[y.TypedArray=1]="TypedArray"}(c||(c={}));class m{constructor(){this.type=c.TypedArray}serialize(){return{type:this.type}}}class _{constructor(S,A){this.channels=0,this.sampleRate=0,this.type=c.Float32Audio,this.channels=S,this.sampleRate=A}static fromAudioBuffer(S){return new _(S.numberOfChannels,S.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}class g{constructor(S,A){this.buffer=S,this._=A}getAsAudioBuffer(S){if(this._ instanceof _&&this._.channels>0){const x=new Float32Array(this.buffer),E=x.length/this._.channels,k=S.createBuffer(this._.channels,E,this._.sampleRate);for(let T=0;T<this._.channels;T++){const I=k.getChannelData(T);for(let M=0,j=I.length;M<j;M++)I[M]=x[M*k.numberOfChannels+T]}return k}const A=new Float32Array(this.buffer),C=S.createBuffer(1,A.length,S.sampleRate);return C.copyToChannel(A,0),C}}const b=y=>{switch(y.type){case c.Float32Audio:return new _(y.channels,y.sampleRate);case c.TypedArray:return new m;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${y.type}`)}}},191:(f,l,u)=>{u.d(l,{v:()=>b});var c=u(163),m=u(347),_=u(389),g=u(133);class b{constructor(){this.I=0,this.M=44100,this.A=64,this.outgoingEvent=new _.BM,this.parameterChangeEvent=new _.BM,this.B=this.sampsToMs(this.A)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(S){return S},convertToNormalizedParameterValue:function(S){return S},convertFromNormalizedParameterValue:function(S){return S},getNumParameters:function(){return 0},constrainParameterValue:function(S){return S},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(S){if(S){const A={},C=Object.keys(S);for(let x=0;x<C.length;x++){const E=C[x];if(E==="subpatches"){const k=Object.keys(S.subpatches);for(let T=0;T<k.length;T++){const I=k[T],M=S.subpatches[I],j=b.deserializeConversion(M);M.isPolyphonic?A[I]=[j]:A[I]=j}}else A[E]=g.evalFunction(S[E])}return A}return this.getNonConversionObject()}getSampleRate(){return this.M}getSamplesPerBlock(){return this.A}sampsToMs(S){return S/this.M*1e3}getNumInputChannels(){return this.T?this.T.numInputChannels:0}getNumOutputChannels(){return this.T?this.T.numOutputChannels:0}getNumMIDIInputPorts(){return this.T?this.T.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.T?this.T.numMidiOutputPorts:0}getNumParameters(){return this.T?this.T.numParameters:0}getNumSignalInParameters(){return this.T?this.T.numSignalInParameters:0}getNumSignalOutParameters(){return this.T?this.T.numSignalOutParameters:0}getPatcherSerial(){return this.T!==void 0?this.T.patcherSerial:0}getParameterName(S){if(!this.T||S>=this.T.parameters.length)throw new Error(`Parameter index ${S} out of bounds.`);return this.T.parameters[S].name}getParameterId(S){if(!this.T||S>=this.T.parameters.length)throw new Error(`Parameter index ${S} out of bounds.`);return this.T.parameters[S].paramId}getParameterToNormalizedFunction(S){return A=>this.P.convertToNormalizedParameterValue(S,A)}getParameterFromNormalizedFunction(S){return A=>this.P.convertFromNormalizedParameterValue(S,A)}constrainParameterValue(S){return A=>this.P.constrainParameterValue(S,A)}getParameterInfo(S){if(!this.T||S>=this.T.parameters.length)throw new Error(`Parameter index ${S} out of bounds.`);const A=this.T.parameters[S];let C,x;switch(A.type){case"ParameterTypeBang":x=g.ParameterTypeBang;break;case"ParameterTypeCount":x=g.ParameterTypeCount;break;case"ParameterTypeList":x=g.ParameterTypeList;break;case"ParameterTypeNumber":x=g.ParameterTypeNumber;break;case"ParameterTypeSignal":x=g.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${A.type}`)}switch(A.ioType){case"IOTypeInput":C=g.IOTypeInput;break;case"IOTypeOutput":C=g.IOTypeOutput;break;case"IOTypeUndefined":C=g.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${A.type}`)}return{displayName:A.displayName,enumValues:A.enumValues,exponent:A.exponent,id:A.paramId,index:S,initialValue:A.initialValue,ioType:C,isEnum:A.isEnum,max:A.maximum,min:A.minimum,name:A.name,signalIndex:A.signalIndex,steps:A.steps,type:x,unit:A.unit,visible:A.visible}}getNumExternalDataRefs(){return this.T!==void 0?this.T.externalDataRefs.length:0}getExternalDataId(S){return this.T!==void 0?this.T.externalDataRefs[S].id:""}getExternalDataRefIds(){let S;return this.T&&(S=[],Object.keys(this.T.externalDataRefs).forEach(A=>{let C=this.T.externalDataRefs[A];S.push(C.id)})),S}getExternalDataRefInfos(){return this.T!==void 0?this.T.externalDataRefs:[]}getNumMessages(){return this.T!==void 0?this.T.inports.length+this.T.outports.length:0}getMessageInfos(){let S=[];return this.T!==void 0&&(Object.keys(this.T.outports).forEach(A=>{S.push({tag:this.T.outports[A].tag,type:m.s.Outport,meta:this.T.outports[A].meta})}),Object.keys(this.T.inports).forEach(A=>{S.push({tag:this.T.inports[A].tag,type:m.s.Inport,meta:this.T.inports[A].meta})})),S}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(S){return(0,c.mG)(this,void 0,void 0,function*(){this.T=S,this.P=b.deserializeConversion(this.T.paramConversion)})}}},916:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>WASMEngine});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(163),_baseEngine__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(191),_wasmHelper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(158),_event__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(555);class WASMEngine extends _baseEngine__WEBPACK_IMPORTED_MODULE_0__.v{getCurrentTime(){return this.R.getCurrentTime()}setCurrentTime(f){this.R.isReady()&&this.R.setCurrentTime(f)}prepareToProcess(f,l,u){(u||f!==this.M||l!==this.A)&&this.R.prepareToProcess(f,l)}process(f,l,u,c,m,_,g){this.R.process(f,l,u,c,m)}scheduleMidiEvent(f,l){this.scheduleEvent(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(this.I,f,l))}handleParameterEvent(f){this.parameterChangeEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.DB(f.time,f.index,f.value,f.source))}handleMidiEvent(f){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.Ym(f.time,f.port,[f.b1,f.b2,f.b3],void 0))}handleMessageEvent(f){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.f3(f.time,this.R.resolveTag(f.tag),f.type===0?f.numValue:f.type===1?this.R.retrieveArray(f.listValue):void 0,this.R.resolveTag(f.objectId)))}handlePresetEvent(f){this.outgoingEvent.emit(new _event__WEBPACK_IMPORTED_MODULE_2__.bt(f.time,_event__WEBPACK_IMPORTED_MODULE_2__.l0.Touched))}getParameterValue(f){return this.R.getParameterValue(f)}get isSync(){return!0}scheduleEvent(f){this.R.scheduleEvent(f)}setPatcherCode(code){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return new Promise((resolve,reject)=>{let restoredRnboModule;const restoredWASM=code+"restoredRnboModule = rnbo_module;";eval(restoredWASM),restoredRnboModule().then(f=>(delete f.then,this.R=new _wasmHelper__WEBPACK_IMPORTED_MODULE_1__.z(this,f),resolve()))})})}setExternalData(f,l,u){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){this.R.setExternalData(f,l,u)})}releaseExternalData(f){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){const[l,u]=this.R.releaseExternalData(f);return{data:l,typeDesc:u}})}getPreset(){return(0,tslib__WEBPACK_IMPORTED_MODULE_3__.mG)(this,void 0,void 0,function*(){return JSON.parse(this.R.getPreset())})}setPreset(f){this.R.setPreset(JSON.stringify(f))}}},158:(f,l,u)=>{u.d(l,{z:()=>g});var c=u(641),m=u(555),_=u(856);class g{constructor(y,S){this.O=0,this.C=0,this.N=!1,this.k=new _.aO,this.U=S;let A=new this.U.CoreObject;this.j=A;let C={handleParameterEvent:y.handleParameterEvent.bind(y),handleMidiEvent:y.handleMidiEvent.bind(y),handleMessageEvent:y.handleMessageEvent.bind(y),handlePresetEvent:y.handlePresetEvent.bind(y)},x=this.U.EventHandler.implement(C);this.F=A.createParameterInterface(x);for(let E=0;E<A.getNumParameters();E++){let k=A.getParameterInfo(E);this.k.addParam(k,A.getParameterName(E))}this.O=A.getNumInputChannels()+A.getNumSignalInParameters(),this.C=A.getNumOutputChannels(),this.N=!0}isReady(){return this.N}pushArray(y){let S=this.j.getArrayPassingHEAP(y.length);return this.U.HEAPF64.set(y,S>>3),S}retrieveArray(y){let S=[];for(let A=0;A<y.size();A++)S.push(y.get(A));return S}setExternalData(y,S,A){const C=new Uint8Array(S),x=this.j.getNewMemoryBuffer(C.byteLength);this.U.HEAPU8.set(C,x),A instanceof c.Le?this.j.setExternalAudioBuffer(y,x,C.byteLength,A.channels,A.sampleRate):A instanceof c.nc&&this.j.setExternalUntypedBuffer(y,x,C.byteLength)}releaseExternalData(y){let S,A=this.j.getDataRefIndex(y),C=this.j.getDataRefType(A),x=this.j.getDataRefData(A),E=new Uint8Array(x.sizeInBytes);return E.set(this.U.HEAPU8.subarray(x.data,x.data+x.sizeInBytes)),S=C.type==1?new c.Le(C.channels,C.sampleRate):new c.nc,this.j.releaseDataRef(A),[E.buffer,S]}getCurrentTime(){return this.j.getCurrentTime()}setCurrentTime(y){this.j.setCurrentTime(y)}prepareToProcess(y,S){this.j.prepareToProcess(y,S)}process(y,S,A,C,x,E){let k=0,T=0;for(let I=0;I<S&&k<this.O;I++){let M=y[I],j=this.j.getInputChannel(k);this.U.HEAPF64.set(M,j>>3),k++}if(E)for(let I=k;I<this.O;I++){let M=this.k.getParamName(I);if(M!==void 0){let j=this.j.getInputChannel(I);this.U.HEAPF64.set(this.k.getParamArray(I,E[M],x),j>>3),k++}}this.j.process(k,this.C,x);for(let I=0;I<C&&T<this.C;I++){let M=A[I],j=this.j.getOutputChannel(T)>>3;M.set(this.U.HEAPF64.subarray(j,j+M.length)),T++}}resolveTag(y){return this.j.resolveTag(y)}scheduleEvent(y){y.type===m.m5.MIDIEvent?this.j.scheduleMidiEvent(y.time,y.port,y.data[0],y.data[1],y.data[2]):y.type===m.m5.ParameterEvent?this.j.scheduleParameterEvent(y.target,y.time,y.value,y.source):y.type===m.m5.MessageEvent?Array.isArray(y.payload)?this.j.sendListMessage(y.tag,y.objectId,this.pushArray(y.payload),y.payload.length,y.time):typeof y.payload=="number"?this.j.sendNumMessage(y.tag,y.objectId,y.payload,y.time):y.payload===void 0&&this.j.sendBangMessage(y.tag,y.objectId,y.time):y.type===m.m5.TransportEvent?this.j.scheduleTransportEvent(y.time,y.state):y.type===m.m5.TempoEvent?this.j.scheduleTempoEvent(y.time,y.tempo):y.type===m.m5.BeatTimeEvent?this.j.scheduleBeatTimeEvent(y.time,y.beattime):y.type===m.m5.TimeSignatureEvent&&this.j.scheduleTimeSignatureEvent(y.time,y.numerator,y.denominator)}getNumParameters(){return this.j.getNumParameters()}getParameterValue(y){return this.j.getParameterValue(y)}numIns(){return this.O}numOuts(){return this.C}getPreset(){return this.j.getPreset()}setPreset(y){this.j.setPreset(y)}}},555:(f,l,u)=>{u.d(l,{j4:()=>y,J0:()=>M,J9:()=>S,Lk:()=>A,VH:()=>m,m5:()=>c,Ym:()=>x,f3:()=>C,DB:()=>E,bt:()=>k,l0:()=>_,j6:()=>P,gs:()=>I,QU:()=>j,cr:()=>T,gA:()=>g,f4:()=>O});var c,m,_,g,b=u(676);(function(N){N[N.BufferTransfer=0]="BufferTransfer",N[N.ClockEvent=1]="ClockEvent",N[N.DataRefEvent=2]="DataRefEvent",N[N.MessageEvent=3]="MessageEvent",N[N.MIDIEvent=4]="MIDIEvent",N[N.ParameterEvent=5]="ParameterEvent",N[N.PresetEvent=6]="PresetEvent",N[N.StartupEvent=7]="StartupEvent",N[N.TransportEvent=8]="TransportEvent",N[N.TempoEvent=9]="TempoEvent",N[N.BeatTimeEvent=10]="BeatTimeEvent",N[N.TimeSignatureEvent=11]="TimeSignatureEvent"})(c||(c={}));class y{constructor(D=b.D,L){this.invalid=!1,this.time=D,this.eventTarget=L}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class S extends y{constructor(D,L,R,G){super(D,G),this.type=c.ClockEvent,this.clockIndex=L,this.value=R}get hasValue(){return this.value!==void 0}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}(function(N){N[N.Update=1]="Update"})(m||(m={}));class A extends y{constructor(D,L,R,G){super(D,G),this.type=c.DataRefEvent,this.dataRefIndex=L,this.action=R}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class C extends y{constructor(D,L,R,G="",Z){super(D,Z),this.type=c.MessageEvent,this.objectId=G,this.tag=L,this.payload=R}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class x extends y{constructor(D,L,R,G){if(super(D,G),this.type=c.MIDIEvent,R.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${R.length}`);if(this.data=R,this.data.length<3){const B=R.length;this.data.length=3,this.data=this.data.fill(void 0,B,3)}let Z=0;for(let B=0;B<3;B++)R[B]!==void 0&&Z++;if(Z<1)throw new Error("MIDIData must at least have the first byte set.");this.length=Z,this.status=240&R[0],this.channel=15&R[0],this.port=L}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class E extends y{constructor(D,L,R,G,Z){super(D,Z),this.type=c.ParameterEvent,this.target=L,this.value=R,this.source=G}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}(function(N){N[N.Set=1]="Set",N[N.Touched=2]="Touched"})(_||(_={}));class k extends y{constructor(D,L,R){super(D,void 0),this.type=c.PresetEvent,this.action=L,this.preset=R}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class T extends y{constructor(D,L){super(D,void 0),this.type=c.TransportEvent,this.state=L}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class I extends y{constructor(D,L){super(D,void 0),this.type=c.TempoEvent,this.tempo=L}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class M extends y{constructor(D,L){super(D,void 0),this.type=c.BeatTimeEvent,this.beattime=L}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class j extends y{constructor(D,L,R){super(D,void 0),this.type=c.TimeSignatureEvent,this.numerator=L,this.denominator=R}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}(function(N){N[N.BEGIN=0]="BEGIN",N[N.END=1]="END"})(g||(g={}));class P extends y{constructor(D,L){super(D,void 0),this.type=c.StartupEvent,this.phase=L}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const O=N=>{switch(N.type){case c.ClockEvent:return new S(N.time,N.clockIndex,N.value,N.eventTarget);case c.DataRefEvent:return new A(N.time,N.dataRefIndex,N.action,N.eventTarget);case c.MessageEvent:return new C(N.time,N.tag,N.payload,N.objectId,N.eventTarget);case c.MIDIEvent:return new x(N.time,N.port,N.data,N.eventTarget);case c.ParameterEvent:return new E(N.time,N.target,N.value,N.source,N.eventTarget);case c.PresetEvent:return new k(N.time,N.action,N.preset);case c.TransportEvent:return new T(N.time,N.state);case c.TempoEvent:return new I(N.time,N.tempo);case c.BeatTimeEvent:return new M(N.time,N.beattime);case c.TimeSignatureEvent:return new j(N.time,N.numerator,N.denominator);case c.StartupEvent:return new P(N.time,N.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${N.type}`)}}},400:(f,l,u)=>{var c,m;u.d(l,{r:()=>c,E:()=>m}),function(_){_[_.Number=0]="Number",_[_.Bang=1]="Bang",_[_.List=2]="List",_[_.Signal=3]="Signal",_[_.Count=4]="Count",_[_.Enum=5]="Enum"}(c||(c={})),function(_){_[_.All=0]="All",_[_.Internal=1]="Internal"}(m||(m={}))},856:(f,l,u)=>{u.d(l,{jN:()=>y,IR:()=>_,V2:()=>b,BX:()=>g,EX:()=>c.E,rH:()=>c.r,aO:()=>C,zT:()=>A});var c=u(400),m=u(389);function _(x){return class extends x{constructor(...E){super(),this.changeEvent=new m.BM,this.L=new m.BM;const k=E[0];this.X=k.notificationSetting,this.convertFromNormalizedValue=k.scaling.convertFromNormalized,this.convertToNormalizedValue=k.scaling.convertToNormalized,this.constrainParameterValue=k.scaling.constrainParameterValue,this.initialValue=k.initialValue,this.V=k.initialValue,this.displayName=k.displayName||k.name,this.exponent=k.exponent,this.id=k.id,this.index=k.index,this.min=k.min,this.max=k.max,this.name=k.name,this.steps=k.steps,this.unit=k.unit||""}get notificationSetting(){return this.X}get normalizedValue(){return this.convertToNormalizedValue(this.V)}set normalizedValue(E){this.q(this.convertFromNormalizedValue(E))}$(E){this.X=E}q(E){E=this.constrainParameterValue(E),this.V!==E&&(this.V=E,this.L.emit(this),this.notificationSetting===c.E.All&&this.changeEvent.emit(E))}W(E){this.V=E,this.changeEvent.emit(E)}}}class g extends _(Object){constructor(E){super(E),this.type=c.r.Number}get value(){return this.V}set value(E){this.q(E)}}class b extends _(Object){constructor(E){super(E),this.type=c.r.Enum,this.G=E.enumValues}get enumValues(){return this.G.slice()}get enumValue(){return this.G[this.value]}set enumValue(E){const k=this.G.indexOf(E);if(k<0)throw new Error(`Invalid EnumValue. ${E} is not an available value on the enum parameter ${this.name}`);this.value=k}get value(){return this.V}set value(E){this.q(E)}}class y extends _(Object){constructor(){super(...arguments),this.type=c.r.Bang}get isActive(){return this.V===1}bang(){this.q(1)}}var S=u(133);const A=(x,E,k,T)=>x.type===c.r.Number&&x.enumValues.length?new b(Object.assign(Object.assign({},x),{scaling:T,index:E,notificationSetting:k})):x.type===c.r.Bang?new y(Object.assign(Object.assign({},x),{scaling:T,index:E,notificationSetting:k})):(x.type,c.r.Number,new g(Object.assign(Object.assign({},x),{scaling:T,index:E,notificationSetting:k})));class C{constructor(){this.K={},this.Y=new Float32Array(128)}addParam(E,k){E.type==S.ParameterTypeSignal&&E.ioType===S.IOTypeInput&&(this.K[E.signalIndex]={name:k,param:new Float32Array(128)})}getParamName(E){let k=this.K[E];return k!==void 0?k.name:void 0}getParamArray(E,k,T){if(k.length==T)return k;{let I=this.K[E];return I.param.length!=T&&(I.param=new Float32Array(T)),I.param.fill(k[0])}}}},389:(f,l,u)=>{u.d(l,{f8:()=>c,e1:()=>m,I7:()=>_,EL:()=>b,BM:()=>S});const c=(()=>{try{if(typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"){const A=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(A instanceof WebAssembly.Module)return new WebAssembly.Instance(A)instanceof WebAssembly.Instance}}catch{}return!1})();class m{fromRNBOtime(C){return .001*C}toRNBOtime(C){return 1e3*C}}const _=typeof isSecureContext<"u"&&isSecureContext&&typeof AudioWorkletNode<"u";let g=Math.pow(10,4);const b=()=>(g>=Number.MAX_SAFE_INTEGER&&(g=Math.pow(10,4)),parseInt(`${Date.now().toString(10).slice(-3)}${(g++).toString(10).slice(-4)}`,10)),y=A=>A.slice();class S{constructor(){this.Z=[],this.H=[]}get listenerCount(){return this.Z.length+this.H.length}emit(C){if(this.Z.length){const x=y(this.Z);for(let E=0,k=x.length;E<k;E++)x[E](C)}if(this.H.length){const x=y(this.H);for(let E=0,k=x.length;E<k;E++)x[E](C);x.forEach(E=>this.unsubscribe(E))}}once(C){return this.H.push(C),{unsubscribe:()=>this.unsubscribe(C)}}subscribe(C){return this.Z.push(C),{unsubscribe:()=>this.unsubscribe(C)}}unsubscribe(C){const x=this.Z.indexOf(C);x>=0&&this.Z.splice(x,1);const E=this.H.indexOf(C);E>=0&&this.H.splice(E,1)}removeAllSubscriptions(){this.Z=[],this.H=[]}}},163:(f,l,u)=>{function c(m,_,g,b){return new(g||(g=Promise))(function(y,S){function A(E){try{x(b.next(E))}catch(k){S(k)}}function C(E){try{x(b.throw(E))}catch(k){S(k)}}function x(E){var k;E.done?y(E.value):(k=E.value,k instanceof g?k:new g(function(T){T(k)})).then(A,C)}x((b=b.apply(m,_||[])).next())})}u.d(l,{mG:()=>c})},264:f=>{f.exports={src:[{code:'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(f){var l=__webpack_module_cache__[f];if(l!==void 0)return l.exports;var u=__webpack_module_cache__[f]={exports:{}};return __webpack_modules__[f](u,u.exports,__webpack_require__),u.exports}__webpack_require__.n=f=>{var l=f&&f.J?()=>f.default:()=>f;return __webpack_require__.d(l,{a:l}),l},__webpack_require__.d=(f,l)=>{for(var u in l)__webpack_require__.o(l,u)&&!__webpack_require__.o(f,u)&&Object.defineProperty(f,u,{enumerable:!0,get:l[u]})},__webpack_require__.o=(f,l)=>Object.prototype.hasOwnProperty.call(f,l),__webpack_require__.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"J",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BangParameter:()=>_.jN,BaseDevice:()=>T,BaseEvent:()=>b.j4,BeatTimeEvent:()=>b.J0,CommonParameterMixin:()=>_.IR,DataBuffer:()=>c.OM,DeviceType:()=>E,EnumParameter:()=>_.V2,EventSubject:()=>m.BM,EventType:()=>b.m5,MIDIEvent:()=>b.Ym,MessageEvent:()=>b.f3,MessagePortType:()=>X.s,NumberParameter:()=>_.BX,ParameterNotificationSetting:()=>_.EX,ParameterType:()=>_.rH,PresetEvent:()=>b.bt,RNBOPresetEventAction:()=>b.l0,ScriptDevice:()=>G,TempoEvent:()=>b.gs,TimeNow:()=>z.D,TimeSignatureEvent:()=>b.QU,TransportEvent:()=>b.cr,TransportState:()=>X.S,WorkletDevice:()=>V,createDevice:()=>ae,version:()=>U});var f=__webpack_require__(163),l=__webpack_require__(845),u=__webpack_require__.n(l),c=__webpack_require__(641),m=__webpack_require__(389),_=__webpack_require__(856),g=__webpack_require__(400),b=__webpack_require__(555);const y={notificationSetting:g.E.All};class S{constructor(ie){this.tt=new Map,this.et=new Map,this.id=(0,m.EL)(),this.parameterChangeEvent=new m.BM,this.rt=q=>{const ne=this.tt.get(q.target);if(!ne)return;const oe=q.value;ne.type!==g.r.Bang&&oe===ne.value||(ne.W(oe),this.parameterChangeEvent.emit(ne))},this.nt=q=>{const ne=q.index,oe=q.type===g.r.Bang?1:q.value,he=new b.DB(0,ne,oe,this.id,void 0);this.it&&this.it.scheduleEvent(he),this.notificationSetting===g.E.All&&this.parameterChangeEvent.emit(q)};const Y=Object.assign({},y,ie);this.X=Y.notificationSetting}st(ie){return this.tt.get(ie)||void 0}ot(){for(const ie of this.tt.values())ie.L.removeAllSubscriptions(),ie.changeEvent.removeAllSubscriptions();this.tt.clear(),this.et.clear()}ut(){if(!this.it)throw new Error("Cannot populate ParameterInterface without setting engine first.");this.ot();for(let ie=0,Y=this.it.getNumParameters();ie<Y;ie++){const q=this.it.getParameterInfo(ie);if(!q||!q.visible)continue;const ne=(0,_.zT)(q,ie,this.notificationSetting,{convertFromNormalized:this.it.getParameterFromNormalizedFunction(ie),convertToNormalized:this.it.getParameterToNormalizedFunction(ie),constrainParameterValue:this.it.constrainParameterValue(ie)});ne.L.subscribe(this.nt),this.tt.set(ie,ne),this.et.set(q.id,ne)}}setEngine(ie){if(this.it)throw new Error("ParamInterface already has an engine, which can't be overridden.");this.it=ie,this.it.parameterChangeEvent.subscribe(this.rt),this.ut()}get notificationSetting(){return this.X}set notificationSetting(ie){for(const Y of this.tt.values())Y.$(ie);this.X=ie}get numParameters(){return this.tt.size}get parameters(){return Array.from(this.tt.values())}get parametersById(){return this.et}getParameterName(ie){const Y=this.st(ie);return Y?Y.name:void 0}destroy(){this.it.parameterChangeEvent.unsubscribe(this.rt),this.it=void 0,this.ot(),this.parameterChangeEvent.removeAllSubscriptions()}}var A;function C(H){return H.file!==void 0}function x(H){return H.url!==void 0}(function(H){H[H.AudioBuffer=1]="AudioBuffer",H[H.DataBuffer=2]="DataBuffer",H[H.ReferenceBuffer=3]="ReferenceBuffer"})(A||(A={}));var E,k=__webpack_require__(834).Buffer;(function(H){H.Script="script",H.Worklet="worklet",H.Invalid="invalid"})(E||(E={}));class T{constructor({context:ie,parameterNotificationSetting:Y,type:q}){this.ht=!1,this.ft="wasm",this.ct=new m.e1,this.lt=!0,this.midiEvent=new m.BM,this.messageEvent=new m.BM,this.parameterChangeEvent=new m.BM,this.invalidateEvent=new m.BM,this.presetTouchedEvent=new m.BM,this.dt=ne=>{switch(ne.type){case b.m5.ClockEvent:case b.m5.DataRefEvent:case b.m5.StartupEvent:break;case b.m5.MIDIEvent:return void this.midiEvent.emit(ne);case b.m5.MessageEvent:return void this.messageEvent.emit(ne);case b.m5.PresetEvent:if(ne.action==b.l0.Touched)return void this.presetTouchedEvent.emit();default:throw console.error(ne),new Error(`Unknown or unsupported RNBOEvent type "${ne.type}"`)}},this.gt=ne=>{this.parameterChangeEvent.emit(ne)},this._t=ie,this.yt=q,this.F=new S({notificationSetting:Y})}vt(){if(this.ht)throw new Error("Error while trying to overwrite immutable patcher of an existing device. Please create a new Device using RNBO.createDevice instead.")}It(ie,Y,q){this.it&&this.it.prepareToProcess(ie,Y,q)}wt(){if(this.isInvalid)throw new Error("Error: This device has become invalid due to creating a new device from it and is therefore unusable.")}Et(ie){const Y=k.from(ie.code,ie.encoding);return ie.compression==="zlib"?u().inflate(Y.toString("binary"),{to:"string"}):Y.toString("utf-8")}get context(){return this.wt(),this._t}get isValid(){return this.lt}get isInvalid(){return!this.lt}get numInputChannels(){return this.wt(),this.it?this.it.getNumInputChannels():0}get numOutputChannels(){return this.wt(),this.it?this.it.getNumOutputChannels():0}get numMIDIInputPorts(){return this.wt(),this.it?this.it.getNumMIDIInputPorts():0}get numMIDIOutputPorts(){return this.wt(),this.it?this.it.getNumMIDIOutputPorts():0}get numParameters(){return this.wt(),this.F.numParameters}get parameters(){return this.wt(),this.F.parameters}get messages(){return this.wt(),this.it.getMessageInfos()}get parametersById(){return this.wt(),this.F.parametersById}get parameterNotificationSetting(){return this.wt(),this.F.notificationSetting}set parameterNotificationSetting(ie){this.wt(),this.F.notificationSetting=ie}get sourceType(){return this.ft}get type(){return this.isInvalid?E.Invalid:this.yt}get dataBufferIds(){return this.it.getExternalDataRefIds()}get dataBufferDescriptions(){return this.it.getExternalDataRefInfos()}setDataBuffer(ie,Y,q,ne){return(0,f.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(de=>de.id===ie))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${ie}" does not exist within the device.`);let oe,he;if(Y instanceof AudioBuffer){he=c.Le.fromAudioBuffer(Y);const de=Y.numberOfChannels,xe=new Float32Array(Y.length*Y.numberOfChannels),Ce=[];for(let ge=0;ge<de;ge++){const Ae=new Float32Array(Y.length);Y.copyFromChannel(Ae,ge,0),Ce.push(Ae)}for(let ge=0;ge<de;ge++)for(let Ae=0,we=Y.length;Ae<we;Ae++)xe[Ae*de+ge]=Ce[ge][Ae];oe=xe.buffer}else{if(!q||q<0||isNaN(q))throw new Error("Invalid channel count. Expecting a numeric value >= 1");if(!ne||ne<0||isNaN(ne))throw new Error("Invalid sample rate. Expecting a numeric value >= 1");oe=ArrayBuffer.isView(Y)?Y.buffer.slice(0):Y.slice(0),he=new c.Le(q,ne)}yield this.it.setExternalData(ie,oe,he)})}releaseDataBuffer(ie){return(0,f.mG)(this,void 0,void 0,function*(){if(!this.dataBufferDescriptions.find(ne=>ne.id===ie))throw new Error(`Unknown DataBuffer id. A DataBuffer with the id "${ie}" does not exist within the device.`);const{data:Y,typeDesc:q}=yield this.it.releaseExternalData(ie);return new c.OM(Y,q)})}static fetchAudioData(ie,Y){return(0,f.mG)(this,void 0,void 0,function*(){let q=yield fetch(ie),ne=yield q.arrayBuffer();return new Promise((oe,he)=>{Y.decodeAudioData(ne,oe,he)})})}static bufferDescriptionHasRemoteURL(ie){return!!x(ie)||!(!C(ie)||!ie.file.startsWith("http:")&&!ie.file.startsWith("https:"))}loadDataBufferDependencies(ie){return(0,f.mG)(this,void 0,void 0,function*(){return Promise.all(ie.map(Y=>(0,f.mG)(this,void 0,void 0,function*(){try{let q;if(x(Y)?q=Y.url:C(Y)&&(q=Y.file),q){const ne=yield T.fetchAudioData(q,this.context);return this.setDataBuffer(Y.id,ne),{type:"success",id:Y.id}}throw new Error(`Skipping invalid buffer info id: ${Y.id}, type: ${Y.type}`)}catch(q){return{type:"fail",error:q,id:Y.id}}})))})}scheduleEvent(ie){this.wt(),this.it&&this.it.scheduleEvent(ie)}destroy(){this.wt(),this.F.destroy(),this.it&&this.it.removeAllSubscriptions(),this.it=void 0,this.Mt&&this.Mt.disconnect(),this.Mt=void 0,delete this.F,delete this.ct,delete this._t,this.lt=!1,this.invalidateEvent.emit(),this.invalidateEvent.removeAllSubscriptions(),this.messageEvent.removeAllSubscriptions(),this.midiEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}getPreset(){return(0,f.mG)(this,void 0,void 0,function*(){return this.it.getPreset()})}setPreset(ie){return this.it.setPreset(ie)}}var I=__webpack_require__(191),M=__webpack_require__(133);const j=__webpack_require__(264);function P(H,ie){return H.time-ie.time}function O(H){H.sort(P)}class N extends I.v{constructor(){super(),this.At=!1,this.Bt=!1,this.Tt=void 0,this.St=-1,this.Pt=[],this.At=!1,this.setPatcherDesc(j.desc),this.setPatcherCode(j.src[0].code)}Rt(ie){const Y=ie.eventTarget||this.Dt;if(ie.time=Math.max(ie.time,this.I),this.Tt=ie,ie.type===b.m5.ParameterEvent){const q=ie;Y.setParameterValue(q.target,q.value,ie.time)}else if(ie.type===b.m5.MIDIEvent){const q=ie;Y.processMidiEvent(q.time,q.port,q.data,q.length)}else if(ie.type===b.m5.ClockEvent){const q=ie;Y.processClockEvent(q.time,q.clockIndex,q.hasValue,q.value)}else if(ie.type===b.m5.DataRefEvent){const q=ie;q.action===b.VH.Update&&Y.processDataViewUpdate(q.dataRefIndex,q.time)}else if(ie.type===b.m5.MessageEvent){const q=ie;Array.isArray(q.payload)?Y.processListMessage(M.TAG(q.tag),M.TAG(q.objectId),q.time,q.payload):q.payload===void 0?Y.processBangMessage(M.TAG(q.tag),M.TAG(q.objectId),q.time):Y.processNumMessage(M.TAG(q.tag),M.TAG(q.objectId),q.time,q.payload)}else if(ie.type===b.m5.PresetEvent){const q=ie;q.action===b.l0.Set&&(this.Bt=!0,this.Dt.setPreset(q.time,q.preset),this.Bt=!1)}else if(ie.type===b.m5.TransportEvent){const q=ie;this.Dt.processTransportEvent(q.time,q.state)}else if(ie.type===b.m5.TempoEvent){const q=ie;this.Dt.processTempoEvent(q.time,q.tempo)}else if(ie.type===b.m5.BeatTimeEvent){const q=ie;this.Dt.processBeatTimeEvent(q.time,q.beattime)}else if(ie.type===b.m5.TimeSignatureEvent){const q=ie;this.Dt.processTimeSignatureEvent(q.time,q.numerator,q.denominator)}else if(ie.type===b.m5.StartupEvent){const q=ie;this.Bt=q.phase===b.gA.BEGIN}this.Tt=void 0}getCurrentTime(){return this.I}setCurrentTime(ie){this.I=ie}prepareToProcess(ie,Y,q){(q||ie!==this.M||Y!==this.A)&&(this.M=ie,this.A=Y,this.B=this.sampsToMs(this.A),this.isSync&&this.Dt.prepareToProcess(this.M,this.A))}process(ie,Y,q,ne,oe,he,de){const xe=Math.min(Y,this.getNumInputChannels()+this.getNumSignalInParameters()),Ce=Math.min(ne,this.getNumOutputChannels()),ge=Math.min(oe,this.A);for(this.St=this.I+this.B,this.midiInput!==void 0&&(this.Pt.push.apply(this.Pt,he),this.At=!0),this.At&&(O(this.Pt),this.At=!1);this.Pt.length>0&&this.Pt[0].time<this.St;)this.Rt(this.Pt.shift());this.Dt.process(ie,xe,q,Ce,ge),this.I=this.St,this.St=-1}scheduleMidiEvent(ie,Y){this.scheduleEvent(new b.Ym(this.I,ie,Y,this.Dt))}notifyParameterValueChanged(ie,Y){let q=this.Tt?this.Tt.source:void 0;this.parameterChangeEvent.emit(new b.DB(this.getCurrentTime(),ie,Y,q))}scheduleParameterChange(ie,Y,q){this.scheduleEvent(new b.DB(this.getCurrentTime(),ie,Y,void 0))}sendNumMessage(ie,Y,q){const ne=new b.f3(this.I,this.Dt.resolveTag(ie),q,this.Dt.resolveTag(Y));this.outgoingEvent.emit(ne)}sendBangMessage(ie,Y){const q=new b.f3(this.I,this.Dt.resolveTag(ie),void 0,this.Dt.resolveTag(Y));this.outgoingEvent.emit(q)}sendListMessage(ie,Y,q){const ne=new b.f3(this.I,this.Dt.resolveTag(ie),q,this.Dt.resolveTag(Y));this.outgoingEvent.emit(ne)}getParameterValue(ie){return this.Dt.getParameterValue(ie)}flushClockEvents(ie,Y,q){this.flushClockEventsWithValue(ie,Y,void 0,q)}flushClockEventsWithValue(ie,Y,q,ne){for(let oe=0;oe<this.Pt.length;oe++)if(this.Pt[oe]instanceof b.J9){const he=this.Pt[oe];he.eventTarget!==ie||he.clockIndex!==Y&&he.clockIndex!==void 0||q!==void 0&&he.value!==q||(this.Pt.splice(oe,1),ne&&this.Rt(he),oe--)}}deleteClockEvents(ie){this.flushClockEvents(ie,void 0,!1)}scheduleClockEvent(ie,Y,q){this.scheduleClockEventWithValue(ie,Y,q,void 0)}scheduleClockEventWithValue(ie,Y,q,ne){this.scheduleEvent(new b.J9(q,Y,ne,ie))}sendMidiEvent(ie,Y,q,ne){const oe=new b.Ym(this.getCurrentTime(),ie,[Y,q,ne],void 0);this.outgoingEvent.emit(oe)}sendMidiEventList(ie,Y){let q;for(q=2;q<Y.length;q+=3)this.sendMidiEvent(ie,Y[q-2],Y[q-1],Y[q]);if(q-=3,q<Y.length){var ne=q-Y.length;this.sendMidiEvent(ie,Y[q],ne>1?Y[q+1]:void 0,ne>2?Y[q+2]:void 0)}}sendOutlet(ie,Y,q){console.log("sendOutlet",ie,Y,q)}updatePatcherEventTarget(ie,Y){for(let q=0;q<this.Pt.length;q++)this.Pt[q].eventTarget===ie&&(this.Pt[q].eventTarget=Y,this.Pt[q].invalid=!1)}rescheduleEventTarget(ie){for(let Y=0;Y<this.Pt.length;Y++)this.Pt[Y].eventTarget===ie&&(this.Pt[Y].invalid=!1)}isInProcess(){return this.St>-1}sendDataRefUpdated(ie){this.scheduleEvent(new b.Lk(this.getCurrentTime(),ie,b.VH.Update,this.Dt))}get isSync(){return!0}scheduleEvent(ie){this.Pt.push(ie),this.isInProcess()?O(this.Pt):this.At=!0}setPatcherCode(ie){return(0,f.mG)(this,void 0,void 0,function*(){const Y={};this.Dt&&this.Dt.getState(Y),this.Dt=M.deserializeSrc(ie);for(let q=0;q<this.Pt.length;q++)this.Pt[q].eventTarget&&(this.Pt[q].invalid=!0);this.Dt.setEngineAndPatcher(this,null),this.scheduleEvent(new b.j6(this.I,b.gA.BEGIN)),this.Dt.initialize(Y),this.scheduleEvent(new b.j6(this.I,b.gA.END)),this.Dt.prepareToProcess(this.M,this.A,!0);for(let q=this.Pt.length-1;q>=0;q--)this.Pt[q].invalid&&this.Pt.splice(q,1)})}setExternalData(ie,Y,q){return(0,f.mG)(this,void 0,void 0,function*(){const ne=this.Dt.getNumDataRefs();for(let oe=0;oe<ne;oe++){const he=this.Dt.getDataRef(oe);if(he.name==ie){he.arrayBuffer=Y,q instanceof c.Le&&(he.channels=q.channels,he.sampleRate=q.sampleRate),this.sendDataRefUpdated(oe);break}}})}releaseExternalData(ie){return(0,f.mG)(this,void 0,void 0,function*(){const Y=this.Dt.getNumDataRefs();let q,ne;for(let oe=0;oe<Y;oe++){const he=this.Dt.getDataRef(oe);if(he.name==ie){q=he.arrayBuffer,he.arrayBuffer=new ArrayBuffer(0),he.channels?(ne=new c.Le(he.channels,he.sampleRate),he.channels=0,he.sampleRate=0):ne=new c.nc,this.sendDataRefUpdated(oe);break}}if(!q)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${ie} found.`);return{data:q,typeDesc:ne}})}getPreset(){return(0,f.mG)(this,void 0,void 0,function*(){let ie={};return this.Dt.getPreset(ie),ie})}setPreset(ie){this.scheduleEvent(new b.bt(this.I,b.l0.Set,ie))}presetTouched(){this.Bt||this.outgoingEvent.emit(new b.bt(this.I,b.l0.Touched,void 0))}}var D,L,R=__webpack_require__(916);class G extends T{constructor({bufferSize:ie=1024,context:Y,parameterNotificationSetting:q},ne){super({context:Y,parameterNotificationSetting:q,type:E.Script}),this.bufferSize=ie,this.it=ne&&ne.sourceType!=="wasm"?ne.it:void 0}Ot(ie){const Y=[],q=[],ne=ie.inputBuffer,oe=ie.outputBuffer,he=ne?ne.numberOfChannels:0,de=oe?oe.numberOfChannels:0;for(let xe=0;xe<Math.max(he,de);xe++)xe<he&&(Y[xe]=ne.getChannelData(xe)),xe<de&&(q[xe]=oe.getChannelData(xe));this.Ct(1e3*ie.playbackTime),this.It(ie.outputBuffer.sampleRate,this.bufferSize,!1),this.Nt(Y,he,q,de,this.bufferSize,null,null)}Nt(ie,Y,q,ne,oe,he,de){this.it&&this.it.process(ie,Y,q,ne,oe,he||void 0,de||void 0)}Ct(ie){this.it&&this.it.setCurrentTime(ie)}get node(){return this.wt(),this.Mt}setPatcher(ie,Y){return(0,f.mG)(this,void 0,void 0,function*(){this.vt(),this.it||(this.it=Y.type==="wasm"?new R.s:new N),this.ft=Y.type,yield this.it.setPatcherDesc(ie),yield this.it.setPatcherCode(this.Et(Y)),this.F.setEngine(this.it),this.F.parameterChangeEvent.subscribe(this.gt),this.it.outgoingEvent.subscribe(this.dt),this.Mt=this.context.createScriptProcessor(this.bufferSize,this.numInputChannels,Math.max(this.numOutputChannels,1)),this.node.onaudioprocess=this.Ot.bind(this)})}}(function(H){H[H.LoadPatcher=0]="LoadPatcher",H[H.ScheduleEvent=1]="ScheduleEvent",H[H.TransferBuffer=2]="TransferBuffer",H[H.ReleaseBuffer=3]="ReleaseBuffer",H[H.SetPreset=4]="SetPreset",H[H.GetPreset=5]="GetPreset"})(D||(D={})),function(H){H[H.LoadPatcherFinished=1e3]="LoadPatcherFinished",H[H.OutgoingEvent=1002]="OutgoingEvent",H[H.ReleasedBuffer=1003]="ReleasedBuffer",H[H.TransferBufferFinished=1004]="TransferBufferFinished",H[H.GetPresetResponse=1005]="GetPresetResponse"}(L||(L={}));class Z extends I.v{constructor(){super(),this.kt=new m.BM,this.xt=new m.BM,this.Ut=ie=>{if(ie.id!==L.OutgoingEvent||ie.payload.type!==b.m5.ParameterEvent)if(ie.id!==L.OutgoingEvent){if(ie.id!==L.LoadPatcherFinished&&ie.id!==L.TransferBufferFinished&&ie.id!==L.ReleasedBuffer&&ie.id!==L.GetPresetResponse)throw new Error(`Unhandled RNBOProcessor event with type ${ie.id}`)}else this.outgoingEvent.emit(ie.payload);else this.parameterChangeEvent.emit(ie.payload)},this.kt.subscribe(this.Ut)}get eventSubjects(){return{fromProcessorEvent:this.kt,toProcessorEvent:this.xt}}notifyParameterValueChanged(ie,Y,q,ne){this.parameterChangeEvent.emit(new b.DB(ie,Y,q,ne,void 0))}prepareToProcess(ie,Y,q){}process(ie,Y,q,ne,oe,he,de){throw new Error}get isSync(){return!1}scheduleEvent(ie){this.xt.emit({id:D.ScheduleEvent,payload:ie})}setExternalData(ie,Y,q){return new Promise((ne,oe)=>{const he=this.kt.subscribe(de=>{de.id===L.TransferBufferFinished&&de.payload.memoryId===ie&&(he.unsubscribe(),ne())});this.xt.emit({id:D.TransferBuffer,payload:{memoryId:ie,data:Y,typeDesc:q}})})}releaseExternalData(ie){return new Promise((Y,q)=>{const ne=this.kt.subscribe(oe=>{oe.id===L.ReleasedBuffer&&oe.payload.memoryId===ie&&(ne.unsubscribe(),Y({data:oe.payload.data,typeDesc:(0,c.n_)(oe.payload.typeDesc)}))});this.xt.emit({id:D.ReleaseBuffer,payload:{memoryId:ie}})})}getPreset(){return(0,f.mG)(this,void 0,void 0,function*(){return new Promise((ie,Y)=>{const q=this.kt.subscribe(ne=>{ne.id===L.GetPresetResponse&&(q.unsubscribe(),ie(ne.payload.preset))});this.xt.emit({id:D.GetPreset})})})}setPreset(ie){this.xt.emit({id:D.SetPreset,payload:{preset:ie}})}setPatcherCode(ie){return(0,f.mG)(this,void 0,void 0,function*(){})}}const B=()=>{if(!m.I7)throw new Error("Missing AudioWorklet Support");return class extends AudioWorkletNode{constructor(H,ie,Y,q){super(H,ie,q),this.jt=ne=>{const[oe,he]=ne.data;if(oe!==L.OutgoingEvent)if(oe!==L.LoadPatcherFinished)if(oe!==L.TransferBufferFinished)if(oe!==L.ReleasedBuffer){if(oe!==L.GetPresetResponse)throw new Error(`Unable to handle received processor message of type ${oe}`);this.zt.fromProcessorEvent.emit({id:oe,payload:he})}else this.zt.fromProcessorEvent.emit({id:oe,payload:he});else this.zt.fromProcessorEvent.emit({id:oe,payload:he});else this.zt.fromProcessorEvent.emit({id:oe,payload:he});else this.zt.fromProcessorEvent.emit({id:oe,payload:(0,b.f4)(he)})},this.Ft=ne=>{ne.id!==D.ScheduleEvent?ne.id!==D.TransferBuffer?ne.id!==D.ReleaseBuffer?ne.id!==D.GetPreset?ne.id!==D.SetPreset||this.port.postMessage([ne.id,{preset:ne.payload.preset}]):this.port.postMessage([ne.id]):this.port.postMessage([ne.id,{memoryId:ne.payload.memoryId}]):this.port.postMessage([ne.id,{data:ne.payload.data,memoryId:ne.payload.memoryId,typeDesc:ne.payload.typeDesc.serialize()}],[ne.payload.data]):this.port.postMessage([ne.id,ne.payload.serialize()])},this.zt=Y,this.zt.toProcessorEvent.subscribe(this.Ft),this.port.onmessage=this.jt,this.port.start()}loadPatcher(){return(0,f.mG)(this,void 0,void 0,function*(){return new Promise(H=>{const ie=this.zt.fromProcessorEvent.subscribe(Y=>{Y.id===L.LoadPatcherFinished&&(ie.unsubscribe(),H())});this.port.postMessage([D.LoadPatcher])})})}}};var J=__webpack_require__(834).Buffer;const K=__webpack_require__(264),ee={js:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var r=t+e;return r>=MAX_32BIT_INT&&(r-=MAX_32BIT_INT),Math.trunc(r)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let r=arguments[e];if(Array.isArray(r))for(let e=0;e<r.length;e++)t.push(r[e]);else t.push(r)}return t}function resizeSignal(t,e,r){for(var n=t||[],i=e;i<r;i++)n[i]=0;return n}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,r,n){t&&t.fill(r,n)}function copySignal(t,e,r){for(let n=0;n<r;n++)t[n]=e[n]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,r){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var n=240&r;return t==MIDI_StatusByteReceived?n==MIDI_ProgramChangeMask?MIDI_ProgramChange:n==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?n==MIDI_NoteOffMask||n==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:n==MIDI_NoteOnMask?MIDI_NoteOn:n==MIDI_AfterTouchMask?MIDI_Aftertouch:n==MIDI_CCMask?MIDI_CC:n==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var r={};return r.name=t,r.isValid=!1,r.wantsFillFlag=!1,r.bytesToAllocate=0,r.channels=0,r.sampleRate=0,r.internal=e,r.index=-1,r.wantsFill=function(){return this.wantsFillFlag},r.setWantsFill=function(t){this.wantsFillFlag=t},r.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},r.getRequestedSizeInBytes=function(){return this.bytesToAllocate},r.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},r.getSizeInBytes=function(){return this.arrayBuffer.byteLength},r.hasRequestedSize=function(){return this.bytesToAllocate>0},r.isInternal=function(){return this.internal},r.getIndex=function(){return this.index},r.setIndex=function(t){this.index=t},r.clear=function(){r.arrayBuffer=new ArrayBuffer(0)},r.clear(),r}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,r){e.setCurrent&&e.getIndex&&(e.setCurrent(r),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let r=Array.from(arguments);r.splice(0,1);for(let n=0;n<t;n++)e[n]=FIXEDSIZEARRAYINIT.apply(null,r)}return e}return new Array}function TAG(t){let e=0;for(let r=0;r<t.length;r++){e=t.charCodeAt(r)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,r){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,r){return void 0===t[e]&&(t[e]=[]),void 0===t[e][r]&&(t[e][r]={}),t[e][r]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function r(t,e){let r=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(r,!1)}function n(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const r=this.getChannels();return t<0||t>=r||e<0||e>=this.getSize()?0:this[r*Math.floor(e)+t]}function s(t,e,r){this[this.getChannels()*Math.floor(e)+t]=r}function o(t,e,r){const n=this.getChannels();t<0||t>=n||e<0||e>=this.getSize()||(this[n*Math.floor(e)+t]=r)}function u(){return this.dataRef.channels}function a(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function f(){this.dataRef.clear()}function c(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function l(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,b(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&I(e),e}return this}function d(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function p(){this.fill&&this.fill(0)}function m(){return this.touched}function g(t){this.touched=t}function _(t){this.dataRef.setWantsFill(t)}function y(){return this.dataRef.getIndex()}function b(t,n,i){t.dataRef=n,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=r,t.setSize=d,t.allocateIfNeeded=l,t.setZero=p,t.clear=f,t.getChannels=u,t.getSampleRate=a,t.setWantsFill=_,t.getIndex=y,n.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=m,t.setTouched=g}function I(t){t.getSample=n,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=o,t.setChannels=c,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let w=function(t,e){let r;return r=t.arrayBuffer?new e(t.arrayBuffer):{},b(r,t,e),r};(w.prototype=Object.create(null)).constructor=w;let v=function(t,e){let r=w.call(this,t,e);return I(r),r};(v.prototype=Object.create(w)).constructor=v;let M=function(t){return v.call(this,t,Float32Array)};(M.prototype=Object.create(v.prototype)).constructor=M;let E=function(t){return v.call(this,t,Float64Array)};(E.prototype=Object.create(v.prototype)).constructor=E;let T=function(t,e){let r=new e(t.dataRefs[t.current]);return r.multiRef=t,r.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},r.getIndex=function(){return this.multiRef.getIndex()},r};T.prototype=Object.create(null),T.constructor=T;let B=function(t){return T.call(this,t,M)};(B.prototype=Object.create(T.prototype)).constructor=B;let S=function(t){return T.call(this,t,E)};(S.prototype=Object.create(T.prototype)).constructor=S;let A=function(t){return w.call(this,t,Int32Array)};(A.prototype=Object.create(w.prototype)).constructor=A;let P=function(t){return w.call(this,t,Uint8Array)};(P.prototype=Object.create(w.prototype)).constructor=P,t.exports={Float32Buffer:M,Float64Buffer:E,Float32MultiBuffer:B,Float64MultiBuffer:S,IntBuffer:A,UInt8Buffer:P}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,r,n){r[n]=t[e]+0x9e3779b97f4a7c15n,r[n]=0xbf58476d1ce4e5b9n*(r[n]^r[n]>>30n),r[n]=0x94d049bb133111ebn*(r[n]^r[n]>>27n),r[n]=r[n]^r[n]>>31n}t.exports={reset:function(t,r){let n=new BigUint64Array(1);n[0]=BigInt(Math.trunc(1e6*t)),e(n,0,r,0),e(r,0,r,1),e(r,1,r,2),e(r,2,r,3)},next:function(t){let e=new BigUint64Array(1),r=new BigUint64Array(1);return r[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,r[0]=r[0]>>11n,2220446049250313e-31*Number(r[0])-1}}},766:(t,e)=>{e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],h=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),f=0,c=u>0?o-4:o;for(r=0;r<c;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,h[f++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,h[f++]=e>>8&255,h[f++]=255&e);return h},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,u=0,a=n-i;u<a;u+=o)s.push(h(t,u,u+o>a?a:u+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=s.length;o<u;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,n){for(var i,s,o=[],u=e;u<n;u+=3)i=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},834:(t,e,r)=>{\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\nconst n=r(766),i=r(181),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function u(t){if(t>o)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\');const e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError(\'The "string" argument must be of type string. Received type number\');return c(t)}return h(t,e,r)}function h(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=u(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(J(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(J(t,ArrayBuffer)||t&&J(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(J(t,SharedArrayBuffer)||t&&J(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError(\'The "value" argument must not be of type number. Received type number\');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return a.from(n,e,r);const i=function(t){if(a.isBuffer(t)){const e=0|p(t.length),r=u(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Y(t.length)?u(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be of type number\');if(t<0)throw new RangeError(\'The value "\'+t+\'" is invalid for option "size"\')}function c(t){return f(t),u(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=u(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError(\'"offset" is outside of buffer bounds\');if(t.byteLength<e+(r||0))throw new RangeError(\'"length" is outside of buffer bounds\');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,a.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||J(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError(\'The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type \'+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return B(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return T(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):b(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,i){let s,o=1,u=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,a/=2,r/=2}function h(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<u;s++)if(h(t,s)===h(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===a)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+a>u&&(r=u-a),s=r;s>=0;s--){let r=!0;for(let n=0;n<a;n++)if(h(t,s+n)!==h(e,n)){r=!1;break}if(r)return s}return-1}function I(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Y(n))return o;t[r+o]=n}return o}function w(t,e,r,n){return K(W(e,t.length-r),t,r,n)}function v(t,e,r,n){return K(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function M(t,e,r,n){return K(G(e),t,r,n)}function E(t,e,r,n){return K(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function T(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function B(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,u,a;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(a=(31&e)<<6|63&r,a>127&&(s=a));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(a=(15&e)<<12|(63&r)<<6|63&n,a>2047&&(a<55296||a>57343)&&(s=a));break;case 4:r=t[i+1],n=t[i+2],u=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&u)&&(a=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&u,a>65535&&a<1114112&&(s=a))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,r){return h(t,e,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?u(t):void 0!==e?"string"==typeof r?u(t).fill(e,r):u(t).fill(e):u(t)}(t,e,r)},a.allocUnsafe=function(t){return c(t)},a.allocUnsafeSlow=function(t){return c(t)},a.isBuffer=function(t){return null!=t&&!0===t.t&&t!==a.prototype},a.compare=function(t,e){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),J(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError(\'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array\');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return a.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=a.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(J(e,Uint8Array))i+e.length>n.length?(a.isBuffer(e)||(e=a.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!a.isBuffer(e))throw new TypeError(\'"list" argument must be an Array of Buffers\');e.copy(n,i)}i+=e.length}return n},a.byteLength=m,a.prototype.t=!0,a.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?B(this,0,t):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(t,e,r,n,i){if(J(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError(\'The "target" argument must be one of type Buffer or Uint8Array. Received type \'+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const u=Math.min(s,o),h=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<u;++t)if(h[t]!==f[t]){s=h[t],o=f[t];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return I(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":case"latin1":case"binary":return v(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.i||this,0)}};const S=4096;function A(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Z[t[n]];return i}function D(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function N(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,s){if(!a.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<s)throw new RangeError(\'"value" argument is out of bounds\');if(r+n>t.length)throw new RangeError("Index out of range")}function x(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function C(t,e,r,n,i){$(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function k(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function j(t,e,r,n,s){return e=+e,r>>>=0,s||k(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),a.prototype.readBigUInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),a.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||N(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),a.prototype.readBigInt64BE=H((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||L(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),a.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigUInt64LE=H((function(t,e=0){return x(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=H((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeBigInt64LE=H((function(t,e=0){return x(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=H((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,e,r){return U(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return U(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return j(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return j(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=a.isBuffer(t)?t:a.from(t,n),o=s.length;if(0===o)throw new TypeError(\'The value "\'+t+\'" is invalid for argument "value"\');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const X={};function z(t,e,r){X[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function $(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new X.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||L(e,t.length-(r+1))}(n,i,s)}function V(t,e){if("number"!=typeof t)throw new X.ERR_INVALID_ARG_TYPE(e,"number",t)}function L(t,e,r){if(Math.floor(t)!==t)throw V(t,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new X.ERR_BUFFER_OUT_OF_BOUNDS;throw new X.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function K(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function J(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function H(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},181:(t,e)=>{\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\ne.read=function(t,e,r,n,i){var s,o,u=8*i-n-1,a=(1<<u)-1,h=a>>1,f=-7,c=r?i-1:0,l=r?-1:1,d=t[e+c];for(c+=l,s=d&(1<<-f)-1,d>>=-f,f+=u;f>0;s=256*s+t[e+c],c+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=256*o+t[e+c],c+=l,f-=8);if(0===s)s=1-h;else{if(s===a)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=h}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,u,a,h=8*s-i-1,f=(1<<h)-1,c=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),(e+=o+c>=1?l/a:l*Math.pow(2,1-c))*a>=2&&(o++,a/=2),o+c>=f?(u=0,o=f):o+c>=1?(u=(e*a-1)*Math.pow(2,i),o+=c):(u=e*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&u,d+=p,u/=256,i-=8);for(o=o<<i|u,h+=i;h>0;t[r+d]=255&o,d+=p,o/=256,h-=8);t[r+d-p]|=128*m}},264:t=>{t.exports={src:[{code:\'class RNBOPatcher{constructor(){this._currentTime=0,this.audioProcessSampleCount=0,this.sampleOffsetIntoNextAudioBuffer=0,this.vs=0,this.maxvs=0,this.sr=44100,this.invsr=2267573696e-14,this.zeroBuffer=0,this.dummyBuffer=0,this.voiceIndex=0,this.noteNumber=0}getParameterIndexForID(e){return-1}getNumMidiInputPorts(){return 0}processMidiEvent(e,t,s,r){this.updateTime(e)}getNumMidiOutputPorts(){return 0}process(e,t,s,r,i){this.vs=i,this.updateTime(this.getEngine().getCurrentTime()),this.audioProcessSampleCount=this.msToSamps(this._currentTime,this.sr)}prepareToProcess(e,t){this.vs=t,this.maxvs=t,this.zeroBuffer=resizeSignal(this.zeroBuffer,0,t),this.dummyBuffer=resizeSignal(this.dummyBuffer,0,t),this.sr=e,this.invsr=1/e}msToSamps(e,t){return rnbo_floor(e*t*.001)}sampsToMs(e){return e*(1e3*this.invsr)}getNumInputChannels(){return 0}getNumOutputChannels(){return 0}getDataRef(e){return 0}getNumDataRefs(){return 0}fillDataRef(e,t){e}processDataViewUpdate(e,t){this.updateTime(t)}initialize(e){this.assign_defaults(),this.setState(e),this.initializeObjects(e),this.allocateDataRefs(),this.startup(e)}initializeObjects(e){}allocateDataRefs(){}startup(e){}setIsMuted(e){}getPatcherSerial(){return 7}getState(e){e[eventTargetKey]=this,e[patcherSerialKey]=this.getPatcherSerial(),e.p7=1,e.p7_noteNumber=this.noteNumber}setState(e){e[patcherSerialKey]==this.getPatcherSerial()&&(containsValue(e[eventTargetKey])&&this.getEngine().updatePatcherEventTarget(e[eventTargetKey],this),containsValue(e.p7_noteNumber)&&(this.noteNumber=e.p7_noteNumber))}setParameterValue(e,t,s){this.updateTime(s)}processParameterEvent(e,t,s){this.setParameterValue(e,t,s)}processNormalizedParameterEvent(e,t,s){this.setParameterValueNormalized(e,t,s)}getParameterValue(e){return 0}getNumSignalInParameters(){return 0}getNumParameters(){return 0}getParameterName(e){return"bogus"}getParameterId(e){return"bogus"}getParameterInfo(e,t){e}sendParameter(e){this.getEngine().notifyParameterValueChanged(e,this.getParameterValue(e))}processClockEvent(e,t,s,r){this.updateTime(e)}processOutletAtCurrentTime(e,t,s){}processOutletEvent(e,t,s,r){this.updateTime(r),this.processOutletAtCurrentTime(e,t,s)}sendOutlet(e,t){this.getEngine().sendOutlet(this,e,t)}schedule(e,t){this.getEngine().scheduleClockEvent(this,e,t+this._currentTime)}scheduleValue(e,t,s){this.getEngine().scheduleClockEventWithValue(this,e,t+this._currentTime,s)}stop(e){this.getEngine().flushClockEvents(this,e,!1)}stopWithValue(e,v){this.getEngine().flushClockEventsWithValue(this,e,v,!1)}processNumMessage(e,o,t,s){this.updateTime(t)}processListMessage(e,o,t,s){this.updateTime(t)}resolveTag(e){return""}sendMidiEvent(e,t,s,r){this.getEngine().sendMidiEvent(e,t,s,r)}sendMidiEventList(e,t){this.getEngine().sendMidiEventList(e,t)}updateTime(e){this._currentTime=e,this.sampleOffsetIntoNextAudioBuffer=this.msToSamps(e,this.sr)-this.vs-this.audioProcessSampleCount}assign_defaults(){}setEngineAndPatcher(e,t){this._engineInterface=e,this._parentPatcher=t}getEngine(){return this._engineInterface}getPatcher(){return this._parentPatcher}}rnboObj=new RNBOPatcher;\',encoding:"utf-8",type:"js"}],options:{classname:"rnbomatic",minifyOutput:!0},desc:{parameters:[],numParameters:0,numSignalInParameters:0,layouts:[{name:"layout",boxes:[]}],numInputChannels:0,numOutputChannels:0,patcherSerial:0,externalDataRefs:[]}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__webpack_require__),r.exports}var __webpack_exports__={};(()=>{var t;function e(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{a(n.next(t))}catch(t){s(t)}}function u(t){try{a(n.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,u)}a((n=n.apply(t,e||[])).next())}))}!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class r{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,r){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=r}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var i,s;!function(t){t[t.Inport=0]="Inport",t[t.Outport=1]="Outport",t[t.Undefined=2]="Undefined"}(i||(i={})),function(t){t[t.STOPPED=0]="STOPPED",t[t.RUNNING=1]="RUNNING"}(s||(s={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const o=t=>t.slice();class u{constructor(){this.o=[],this.u=[]}get listenerCount(){return this.o.length+this.u.length}emit(t){if(this.o.length){const e=o(this.o);for(let r=0,n=e.length;r<n;r++)e[r](t)}if(this.u.length){const e=o(this.u);for(let r=0,n=e.length;r<n;r++)e[r](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.u.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.o.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.o.indexOf(t);e>=0&&this.o.splice(e,1);const r=this.u.indexOf(t);r>=0&&this.u.splice(r,1)}removeAllSubscriptions(){this.o=[],this.u=[]}}var a=__webpack_require__(133);class h{constructor(){this.h=0,this.l=44100,this.p=64,this.outgoingEvent=new u,this.parameterChangeEvent=new u,this.m=this.sampsToMs(this.p)}static getNonConversionObject(){return{applyStepsToNormalizedParameterValue:function(t){return t},convertToNormalizedParameterValue:function(t){return t},convertFromNormalizedParameterValue:function(t){return t},getNumParameters:function(){return 0},constrainParameterValue:function(t){return t},isPolyphonic:!1,subpatches:[]}}static deserializeConversion(t){if(t){const e={},r=Object.keys(t);for(let n=0;n<r.length;n++){const i=r[n];if("subpatches"===i){const r=Object.keys(t.subpatches);for(let n=0;n<r.length;n++){const i=r[n],s=t.subpatches[i],o=h.deserializeConversion(s);s.isPolyphonic?e[i]=[o]:e[i]=o}}else e[i]=a.evalFunction(t[i])}return e}return this.getNonConversionObject()}getSampleRate(){return this.l}getSamplesPerBlock(){return this.p}sampsToMs(t){return t/this.l*1e3}getNumInputChannels(){return this.g?this.g.numInputChannels:0}getNumOutputChannels(){return this.g?this.g.numOutputChannels:0}getNumMIDIInputPorts(){return this.g?this.g.numMidiInputPorts:0}getNumMIDIOutputPorts(){return this.g?this.g.numMidiOutputPorts:0}getNumParameters(){return this.g?this.g.numParameters:0}getNumSignalInParameters(){return this.g?this.g.numSignalInParameters:0}getNumSignalOutParameters(){return this.g?this.g.numSignalOutParameters:0}getPatcherSerial(){return void 0!==this.g?this.g.patcherSerial:0}getParameterName(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].name}getParameterId(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);return this.g.parameters[t].paramId}getParameterToNormalizedFunction(t){return e=>this._.convertToNormalizedParameterValue(t,e)}getParameterFromNormalizedFunction(t){return e=>this._.convertFromNormalizedParameterValue(t,e)}constrainParameterValue(t){return e=>this._.constrainParameterValue(t,e)}getParameterInfo(t){if(!this.g||t>=this.g.parameters.length)throw new Error(`Parameter index ${t} out of bounds.`);const e=this.g.parameters[t];let r,n;switch(e.type){case"ParameterTypeBang":n=a.ParameterTypeBang;break;case"ParameterTypeCount":n=a.ParameterTypeCount;break;case"ParameterTypeList":n=a.ParameterTypeList;break;case"ParameterTypeNumber":n=a.ParameterTypeNumber;break;case"ParameterTypeSignal":n=a.ParameterTypeSignal;break;default:throw new Error(`Unknown Parameter Type from patcher description ${e.type}`)}switch(e.ioType){case"IOTypeInput":r=a.IOTypeInput;break;case"IOTypeOutput":r=a.IOTypeOutput;break;case"IOTypeUndefined":r=a.IOTypeUndefined;break;default:throw new Error(`Unknown Parameter IOType from patcher description ${e.type}`)}return{displayName:e.displayName,enumValues:e.enumValues,exponent:e.exponent,id:e.paramId,index:t,initialValue:e.initialValue,ioType:r,isEnum:e.isEnum,max:e.maximum,min:e.minimum,name:e.name,signalIndex:e.signalIndex,steps:e.steps,type:n,unit:e.unit,visible:e.visible}}getNumExternalDataRefs(){return void 0!==this.g?this.g.externalDataRefs.length:0}getExternalDataId(t){return void 0!==this.g?this.g.externalDataRefs[t].id:""}getExternalDataRefIds(){let t;return this.g&&(t=[],Object.keys(this.g.externalDataRefs).forEach((e=>{let r=this.g.externalDataRefs[e];t.push(r.id)}))),t}getExternalDataRefInfos(){return void 0!==this.g?this.g.externalDataRefs:[]}getNumMessages(){return void 0!==this.g?this.g.inports.length+this.g.outports.length:0}getMessageInfos(){let t=[];return void 0!==this.g&&(Object.keys(this.g.outports).forEach((e=>{t.push({tag:this.g.outports[e].tag,type:i.Outport,meta:this.g.outports[e].meta})})),Object.keys(this.g.inports).forEach((e=>{t.push({tag:this.g.inports[e].tag,type:i.Inport,meta:this.g.inports[e].meta})}))),t}removeAllSubscriptions(){this.outgoingEvent.removeAllSubscriptions(),this.parameterChangeEvent.removeAllSubscriptions()}setPatcherDesc(t){return e(this,void 0,void 0,(function*(){this.g=t,this._=h.deserializeConversion(this.g.paramConversion)}))}}var f,c,l,d;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(f||(f={}));class p{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}class m extends p{constructor(t,e,r,n){super(t,n),this.type=f.ClockEvent,this.clockIndex=e,this.value=r}get hasValue(){return void 0!==this.value}serialize(){return Object.assign(super.serialize(),{clockIndex:this.clockIndex,type:this.type,value:this.value})}}!function(t){t[t.Update=1]="Update"}(c||(c={}));class g extends p{constructor(t,e,r,n){super(t,n),this.type=f.DataRefEvent,this.dataRefIndex=e,this.action=r}serialize(){return Object.assign(super.serialize(),{action:this.action,dataRefIndex:this.dataRefIndex,type:this.type})}}class _ extends p{constructor(t,e,r,n="",i){super(t,i),this.type=f.MessageEvent,this.objectId=n,this.tag=e,this.payload=r}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class y extends p{constructor(t,e,r,n){if(super(t,n),this.type=f.MIDIEvent,r.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${r.length}`);if(this.data=r,this.data.length<3){const t=r.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let i=0;for(let t=0;t<3;t++)void 0!==r[t]&&i++;if(i<1)throw new Error("MIDIData must at least have the first byte set.");this.length=i,this.status=240&r[0],this.channel=15&r[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class b extends p{constructor(t,e,r,n,i){super(t,i),this.type=f.ParameterEvent,this.target=e,this.value=r,this.source=n}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(l||(l={}));class I extends p{constructor(t,e,r){super(t,void 0),this.type=f.PresetEvent,this.action=e,this.preset=r}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}class w extends p{constructor(t,e){super(t,void 0),this.type=f.TransportEvent,this.state=e}serialize(){return Object.assign(super.serialize(),{state:this.state,type:this.type})}}class v extends p{constructor(t,e){super(t,void 0),this.type=f.TempoEvent,this.tempo=e}serialize(){return Object.assign(super.serialize(),{tempo:this.tempo,type:this.type})}}class M extends p{constructor(t,e){super(t,void 0),this.type=f.BeatTimeEvent,this.beattime=e}serialize(){return Object.assign(super.serialize(),{beattime:this.beattime,type:this.type})}}class E extends p{constructor(t,e,r){super(t,void 0),this.type=f.TimeSignatureEvent,this.numerator=e,this.denominator=r}serialize(){return Object.assign(super.serialize(),{numerator:this.numerator,denominator:this.denominator,type:this.type})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(d||(d={}));class T extends p{constructor(t,e){super(t,void 0),this.type=f.StartupEvent,this.phase=e}serialize(){return Object.assign(super.serialize(),{phase:this.phase,type:this.type})}}const B=__webpack_require__(264);function S(t,e){return t.time-e.time}function A(t){t.sort(S)}class P extends h{constructor(){super(),this.I=!1,this.v=!1,this.M=void 0,this.T=-1,this.B=[],this.I=!1,this.setPatcherDesc(B.desc),this.setPatcherCode(B.src[0].code)}S(t){const e=t.eventTarget||this.A;if(t.time=Math.max(t.time,this.h),this.M=t,t.type===f.ParameterEvent){const r=t;e.setParameterValue(r.target,r.value,t.time)}else if(t.type===f.MIDIEvent){const r=t;e.processMidiEvent(r.time,r.port,r.data,r.length)}else if(t.type===f.ClockEvent){const r=t;e.processClockEvent(r.time,r.clockIndex,r.hasValue,r.value)}else if(t.type===f.DataRefEvent){const r=t;r.action===c.Update&&e.processDataViewUpdate(r.dataRefIndex,r.time)}else if(t.type===f.MessageEvent){const r=t;Array.isArray(r.payload)?e.processListMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload):void 0===r.payload?e.processBangMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time):e.processNumMessage(a.TAG(r.tag),a.TAG(r.objectId),r.time,r.payload)}else if(t.type===f.PresetEvent){const e=t;e.action===l.Set&&(this.v=!0,this.A.setPreset(e.time,e.preset),this.v=!1)}else if(t.type===f.TransportEvent){const e=t;this.A.processTransportEvent(e.time,e.state)}else if(t.type===f.TempoEvent){const e=t;this.A.processTempoEvent(e.time,e.tempo)}else if(t.type===f.BeatTimeEvent){const e=t;this.A.processBeatTimeEvent(e.time,e.beattime)}else if(t.type===f.TimeSignatureEvent){const e=t;this.A.processTimeSignatureEvent(e.time,e.numerator,e.denominator)}else if(t.type===f.StartupEvent){const e=t;this.v=e.phase===d.BEGIN}this.M=void 0}getCurrentTime(){return this.h}setCurrentTime(t){this.h=t}prepareToProcess(t,e,r){(r||t!==this.l||e!==this.p)&&(this.l=t,this.p=e,this.m=this.sampsToMs(this.p),this.isSync&&this.A.prepareToProcess(this.l,this.p))}process(t,e,r,n,i,s,o){const u=Math.min(e,this.getNumInputChannels()+this.getNumSignalInParameters()),a=Math.min(n,this.getNumOutputChannels()),h=Math.min(i,this.p);for(this.T=this.h+this.m,void 0!==this.midiInput&&(this.B.push.apply(this.B,s),this.I=!0),this.I&&(A(this.B),this.I=!1);this.B.length>0&&this.B[0].time<this.T;)this.S(this.B.shift());this.A.process(t,u,r,a,h),this.h=this.T,this.T=-1}scheduleMidiEvent(t,e){this.scheduleEvent(new y(this.h,t,e,this.A))}notifyParameterValueChanged(t,e){let r=this.M?this.M.source:void 0;this.parameterChangeEvent.emit(new b(this.getCurrentTime(),t,e,r))}scheduleParameterChange(t,e,r){this.scheduleEvent(new b(this.getCurrentTime(),t,e,void 0))}sendNumMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}sendBangMessage(t,e){const r=new _(this.h,this.A.resolveTag(t),void 0,this.A.resolveTag(e));this.outgoingEvent.emit(r)}sendListMessage(t,e,r){const n=new _(this.h,this.A.resolveTag(t),r,this.A.resolveTag(e));this.outgoingEvent.emit(n)}getParameterValue(t){return this.A.getParameterValue(t)}flushClockEvents(t,e,r){this.flushClockEventsWithValue(t,e,void 0,r)}flushClockEventsWithValue(t,e,r,n){for(let i=0;i<this.B.length;i++)if(this.B[i]instanceof m){const s=this.B[i];s.eventTarget!==t||s.clockIndex!==e&&void 0!==s.clockIndex||void 0!==r&&s.value!==r||(this.B.splice(i,1),n&&this.S(s),i--)}}deleteClockEvents(t){this.flushClockEvents(t,void 0,!1)}scheduleClockEvent(t,e,r){this.scheduleClockEventWithValue(t,e,r,void 0)}scheduleClockEventWithValue(t,e,r,n){this.scheduleEvent(new m(r,e,n,t))}sendMidiEvent(t,e,r,n){const i=new y(this.getCurrentTime(),t,[e,r,n],void 0);this.outgoingEvent.emit(i)}sendMidiEventList(t,e){let r;for(r=2;r<e.length;r+=3)this.sendMidiEvent(t,e[r-2],e[r-1],e[r]);if(r-=3,r<e.length){var n=r-e.length;this.sendMidiEvent(t,e[r],n>1?e[r+1]:void 0,n>2?e[r+2]:void 0)}}sendOutlet(t,e,r){console.log("sendOutlet",t,e,r)}updatePatcherEventTarget(t,e){for(let r=0;r<this.B.length;r++)this.B[r].eventTarget===t&&(this.B[r].eventTarget=e,this.B[r].invalid=!1)}rescheduleEventTarget(t){for(let e=0;e<this.B.length;e++)this.B[e].eventTarget===t&&(this.B[e].invalid=!1)}isInProcess(){return this.T>-1}sendDataRefUpdated(t){this.scheduleEvent(new g(this.getCurrentTime(),t,c.Update,this.A))}get isSync(){return!0}scheduleEvent(t){this.B.push(t),this.isInProcess()?A(this.B):this.I=!0}setPatcherCode(t){return e(this,void 0,void 0,(function*(){const e={};this.A&&this.A.getState(e),this.A=a.deserializeSrc(t);for(let t=0;t<this.B.length;t++)this.B[t].eventTarget&&(this.B[t].invalid=!0);this.A.setEngineAndPatcher(this,null),this.scheduleEvent(new T(this.h,d.BEGIN)),this.A.initialize(e),this.scheduleEvent(new T(this.h,d.END)),this.A.prepareToProcess(this.l,this.p,!0);for(let t=this.B.length-1;t>=0;t--)this.B[t].invalid&&this.B.splice(t,1)}))}setExternalData(t,r,i){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();for(let s=0;s<e;s++){const e=this.A.getDataRef(s);if(e.name==t){e.arrayBuffer=r,i instanceof n&&(e.channels=i.channels,e.sampleRate=i.sampleRate),this.sendDataRefUpdated(s);break}}}))}releaseExternalData(t){return e(this,void 0,void 0,(function*(){const e=this.A.getNumDataRefs();let i,s;for(let o=0;o<e;o++){const e=this.A.getDataRef(o);if(e.name==t){i=e.arrayBuffer,e.arrayBuffer=new ArrayBuffer(0),e.channels?(s=new n(e.channels,e.sampleRate),e.channels=0,e.sampleRate=0):s=new r,this.sendDataRefUpdated(o);break}}if(!i)throw new Error(`Invalid DataBuffer. No DataBuffer with id ${t} found.`);return{data:i,typeDesc:s}}))}getPreset(){return e(this,void 0,void 0,(function*(){let t={};return this.A.getPreset(t),t}))}setPreset(t){this.scheduleEvent(new I(this.h,l.Set,t))}presetTouched(){this.v||this.outgoingEvent.emit(new I(this.h,l.Touched,void 0))}}var O,D;function N(t){return class extends t{constructor(...t){super(),this.changeEvent=new u,this.P=new u;const e=t[0];this.O=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.D=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.O}get normalizedValue(){return this.convertToNormalizedValue(this.D)}set normalizedValue(t){this.N(this.convertFromNormalizedValue(t))}R(t){this.O=t}N(t){t=this.constrainParameterValue(t),this.D!==t&&(this.D=t,this.P.emit(this),this.notificationSetting===D.All&&this.changeEvent.emit(t))}C(t){this.D=t,this.changeEvent.emit(t)}}}!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(O||(O={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(D||(D={}));N(Object);N(Object);N(Object);class R{constructor(){this.k={},this.U=new Float32Array(128)}addParam(t,e){t.type==a.ParameterTypeSignal&&t.ioType===a.IOTypeInput&&(this.k[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.k[t];return void 0!==e?e.name:void 0}getParamArray(t,e,r){if(e.length==r)return e;{let n=this.k[t];return n.param.length!=r&&(n.param=new Float32Array(r)),n.param.fill(e[0])}}}var x,C;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(x||(x={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(C||(C={}));var k=__webpack_require__(834).Buffer;const U=JSON.parse(k.from("XXXX___RNBOPATCHERDESC_REPLACE___XXXX","base64").toString("utf-8")),j=k.from("XXXX___RNBOPATCHERSRC_REPLACE___XXXX","base64").toString("utf-8");class X extends AudioWorkletProcessor{constructor(i){super(i),this.j=new P,this.X=[],this.F=[],this.$=new R,this.V=i=>e(this,void 0,void 0,(function*(){switch(i.data[0]){case x.LoadPatcher:yield this.j.setPatcherDesc(U),yield this.j.setPatcherCode(j);for(let t=0;t<this.j.getNumParameters();t++){const e=this.j.getParameterInfo(t);this.$.addParam(e,this.j.getParameterName(t))}this.X=new Array(this.j.getNumInputChannels()+this.j.getNumSignalInParameters()),this.F=new Array(this.j.getNumOutputChannels()+this.j.getNumSignalOutParameters()),this.j.process([],0,[[]],1,0),this.port.postMessage([C.LoadPatcherFinished]);break;case x.ScheduleEvent:this.j.scheduleEvent((t=>{switch(t.type){case f.ClockEvent:return new m(t.time,t.clockIndex,t.value,t.eventTarget);case f.DataRefEvent:return new g(t.time,t.dataRefIndex,t.action,t.eventTarget);case f.MessageEvent:return new _(t.time,t.tag,t.payload,t.objectId,t.eventTarget);case f.MIDIEvent:return new y(t.time,t.port,t.data,t.eventTarget);case f.ParameterEvent:return new b(t.time,t.target,t.value,t.source,t.eventTarget);case f.PresetEvent:return new I(t.time,t.action,t.preset);case f.TransportEvent:return new w(t.time,t.state);case f.TempoEvent:return new v(t.time,t.tempo);case f.BeatTimeEvent:return new M(t.time,t.beattime);case f.TimeSignatureEvent:return new E(t.time,t.numerator,t.denominator);case f.StartupEvent:return new T(t.time,t.phase);default:throw new Error(`Unable to deserialize RNBOEvent of type ${t.type}`)}})(i.data[1]));break;case x.TransferBuffer:{const e=i.data[1];this.j.setExternalData(e.memoryId,e.data,(e=>{switch(e.type){case t.Float32Audio:return new n(e.channels,e.sampleRate);case t.TypedArray:return new r;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${e.type}`)}})(e.typeDesc)),this.port.postMessage([C.TransferBufferFinished,{memoryId:e.memoryId}]);break}case x.ReleaseBuffer:{const t=i.data[1],{data:e,typeDesc:r}=yield this.j.releaseExternalData(t.memoryId);this.port.postMessage([C.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:r.serialize()}],[e]);break}case x.GetPreset:{const t=yield this.j.getPreset();this.port.postMessage([C.GetPresetResponse,{preset:t}]);break}case x.SetPreset:{const t=i.data[1];this.j.setPreset(t.preset)}}})),this.L=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.q=t=>{this.port.postMessage([C.OutgoingEvent,t.serialize()])},this.j.outgoingEvent.subscribe(this.L),this.j.parameterChangeEvent.subscribe(this.q),this.port.onmessage=this.V,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}process(t,e,r){let n,i,s=0,o=0;for(n=0;n<t.length;n++){const e=t[n];for(i=0;i<e.length&&(s<this.X.length&&e[i].length);i++)this.X[s]=e[i],s++}for(n=0;n<e.length;n++){const t=e[n];for(i=0;i<t.length&&o<this.F.length;i++)this.F[o]=t[i],o++}const u=o>0?this.F[0].length:s>0?this.X[0].length:e.length>0?e[0][0].length:t.length>0?t[0][0].length:0;for(let t=s;t<this.X.length;t++){const e=this.$.getParamName(t);void 0!==e&&(this.X[t]=this.$.getParamArray(t,r[e],u),s++)}return this.j.setCurrentTime(1e3*currentTime),this.j.prepareToProcess(sampleRate,u),this.j.process(this.X,s,this.F,o,u),!0}}let z="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";z.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(z="RNBOProcessor"),registerProcessor(z,X)})()})();',wasm:'(()=>{var __webpack_modules__={133:(module,__unused_webpack_exports,__webpack_require__)=>{var Float32Buffer=__webpack_require__(852).Float32Buffer,Float64Buffer=__webpack_require__(852).Float64Buffer,Float32MultiBuffer=__webpack_require__(852).Float32MultiBuffer,Float64MultiBuffer=__webpack_require__(852).Float64MultiBuffer,IntBuffer=__webpack_require__(852).IntBuffer,UInt8Buffer=__webpack_require__(852).UInt8Buffer,ExternalLoaderFactory=__webpack_require__(126).ExternalLoaderFactory;let Xoshiro=__webpack_require__(925);var patcherSerialKey="XX__PatcherSerialKey__XX",eventTargetKey="XX__EventTargetKey__XX",ParameterTypeNumber=0,ParameterTypeBang=1,ParameterTypeList=2,ParameterTypeSignal=3,ParameterTypeCount=4,IOTypeInput=0,IOTypeOutput=1,IOTypeUndefined=2,INVALID_INDEX=Number.MAX_SAFE_INTEGER;function rand01(){return Math.random()}function pi01(){return Math.PI}var rnbo_abs=Math.abs,rnbo_fabs=Math.abs,rnbo_acos=Math.acos,rnbo_acosh=Math.acosh,rnbo_asin=Math.asin,rnbo_asinh=Math.asinh,rnbo_atan=Math.atan,rnbo_atan2=Math.atan2,rnbo_atanh=Math.atanh,rnbo_cbrt=Math.cbrt,rnbo_ceil=Math.ceil,rnbo_cos=Math.cos,rnbo_cosh=Math.cosh,rnbo_exp=Math.exp,rnbo_expm1=Math.expm1,rnbo_floor=Math.floor,rnbo_fround=Math.round,rnbo_imul=Math.imul,rnbo_log=Math.log,rnbo_log10=Math.log10,rnbo_log1p=Math.log1p,rnbo_log2=Math.log2,rnbo_pow=Math.pow,rnbo_round=rnbo_fround,rnbo_sign=Math.sign,rnbo_sin=Math.sin,rnbo_sinh=Math.sinh,rnbo_sqrt=Math.sqrt,rnbo_tan=Math.tan,rnbo_tanh=Math.tanh,rnbo_trunc=Math.trunc,rnbo_number_max=()=>Math.MAX_VALUE,rnbo_isnan=isNaN;function fixnan(t){return isNaN(t)?0:t}function fract(t){return t%1}function fixdenorm(t){return t}function isdenorm(t){return!1}var fastsin=Math.sin,fastcos=Math.cos,fastexp=Math.exp,fastpow=Math.pow,fasttan=Math.tan;function nextpoweroftwo(t){return 0===t?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,(t|=t>>16)+1)}var MAX_32BIT_INT=Math.pow(2,32);function uint32_add(t,e){var n=t+e;return n>=MAX_32BIT_INT&&(n-=MAX_32BIT_INT),Math.trunc(n)}function uint32_trunc(t){return t>>>0}function uint32_rshift(t,e){return t>>>e}function getArrayValueAtIndex(t,e){return t[e]}function allocateArray(t,e){return new Array(t)}function createListCopy(t){return t.slice(0)}function jsCreateListCopy(t){return createListCopy(t)}function list(){let t=[];for(let e=0;e<arguments.length;e++){let n=arguments[e];if(Array.isArray(n))for(let e=0;e<n.length;e++)t.push(n[e]);else t.push(n)}return t}function resizeSignal(t,e,n){for(var r=t||[],i=e;i<n;i++)r[i]=0;return r}function zeroSignal(t,e){t&&t.fill(0)}function fillSignal(t,e,n,r){t&&t.fill(n,r)}function copySignal(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function containsValue(t){return void 0!==t}function addressOf(t){return t}function systemticks(){return Date.now()}function bitwiseFloat(t){var e=new Uint32Array(1);return e[0]=t,new DataView(e.buffer).getFloat32(0,!0)}function imul(t,e){return Math.imul(t,e)}var MIDI_StatusByteReceived=1,MIDI_SecondByteReceived=2,MIDI_NoteOff=3,MIDI_NoteOn=4,MIDI_Aftertouch=5,MIDI_CC=6,MIDI_ProgramChange=7,MIDI_ChannelPressure=8,MIDI_PitchBend=9,MIDI_Sysex_Started=10,MIDI_Sysex_Complete=11,MIDI_Generic=99,MIDI_InvalidByte=-1,MIDI_NoteOffMask=128,MIDI_NoteOnMask=144,MIDI_AfterTouchMask=160,MIDI_CCMask=176,MIDI_ProgramChangeMask=192,MIDI_ChannelPressureMask=208,MIDI_PitchBendMask=224,MIDI_QuarterFrame=241,MIDI_SongPos=242,MIDI_SongSel=243,MIDI_TuneRequest=246,MIDI_SysexStart=240,MIDI_SysexEnd=247,MIDI_Clock=248,MIDI_Start=250,MIDI_Continue=251,MIDI_Stop=252,MIDI_ActiveSense=254,MIDI_Reset=255,MIDI_CC_Sustain=64,MIDI_CC_Sostenuto=66,MIDI_CC_AllNotesOff=123,MIDI_CC_PressureMSB=70,MIDI_CC_PressureLSB=102,MIDI_CC_TimbreMSB=74,MIDI_CC_TimbreLSB=106,MIDI_NoteState_Off=0,MIDI_NoteState_On=1,MIDI_NoteState_Sustained=2,CLOCKS_PER_SEC=1;function parseMidi(t,e,n){if(240==e)return MIDI_Sysex_Started;if(t==MIDI_Sysex_Started)return 247==e?MIDI_Sysex_Complete:e<=127?t:MIDI_InvalidByte;if(e>127)return MIDI_StatusByteReceived;var r=240&n;return t==MIDI_StatusByteReceived?r==MIDI_ProgramChangeMask?MIDI_ProgramChange:r==MIDI_ChannelPressureMask?MIDI_ChannelPressure:MIDI_SecondByteReceived:t==MIDI_SecondByteReceived?r==MIDI_NoteOffMask||r==MIDI_NoteOnMask&&0==e?MIDI_NoteOff:r==MIDI_NoteOnMask?MIDI_NoteOn:r==MIDI_AfterTouchMask?MIDI_Aftertouch:r==MIDI_CCMask?MIDI_CC:r==MIDI_PitchBendMask?MIDI_PitchBend:MIDI_Generic:t}function getMIDIChannel(t){var e=240&t;return e>=128&&e<=224?15&t:0}function initDataRef(t,e){var n={};return n.name=t,n.isValid=!1,n.wantsFillFlag=!1,n.bytesToAllocate=0,n.channels=0,n.sampleRate=0,n.internal=e,n.index=-1,n.wantsFill=function(){return this.wantsFillFlag},n.setWantsFill=function(t){this.wantsFillFlag=t},n.requestSizeInBytes=function(t,e){(t>this.bytesToAllocate||e)&&(this.bytesToAllocate=t)},n.getRequestedSizeInBytes=function(){return this.bytesToAllocate},n.resetRequestedSizeInByte=function(){this.bytesToAllocate=0},n.getSizeInBytes=function(){return this.arrayBuffer.byteLength},n.hasRequestedSize=function(){return this.bytesToAllocate>0},n.isInternal=function(){return this.internal},n.getIndex=function(){return this.index},n.setIndex=function(t){this.index=t},n.clear=function(){n.arrayBuffer=new ArrayBuffer(0)},n.clear(),n}function initMultiRef(){var t={index:0,current:0,dataRefs:[],count:0};for(let e=0;e<arguments.length;e++)t.dataRefs.push(arguments[e]),t.count++;return t.setCurrent=function(t){t>=0&&t<this.count&&(this.current=t)},t.getIndex=function(){return this.index},t.setIndex=function(t){this.index=t},t}function updateMultiRef(t,e,n){e.setCurrent&&e.getIndex&&(e.setCurrent(n),t.getEngine().sendDataRefUpdated(e.getIndex()))}function updateDataRef(t,e){t.getEngine().sendDataRefUpdated(e.getIndex())}function FIXEDSIZEARRAYINIT(){let t=arguments[0];if(void 0!==t){let e=new Array(t);if(e.fill(0),void 0!==arguments[1]){let n=Array.from(arguments);n.splice(0,1);for(let r=0;r<t;r++)e[r]=FIXEDSIZEARRAYINIT.apply(null,n)}return e}return new Array}function TAG(t){let e=0;for(let n=0;n<t.length;n++){e=t.charCodeAt(n)+(e<<6)+(e<<16)-e}return 0|e}function serializeArrayToList(t,e){return t}function deserializeArrayFromList(t,e,n){t}function serializeDataRef(t){return t.resetRequestedSizeInByte(),t}function _evalSrc(src){var rnboObj;return eval(src),rnboObj}function getSubState(t,e){return void 0===t[e]&&(t[e]={}),t[e]}function getSubStateAt(t,e,n){return void 0===t[e]&&(t[e]=[]),void 0===t[e][n]&&(t[e][n]={}),t[e][n]}function stateIsEmpty(t){return 0===Object.keys(t).length}function TransportState(t){return t}function RNBO_UNUSED(){}let xoshiro_reset=Xoshiro.reset,xoshiro_next=Xoshiro.next;module.exports={deserializeSrc:function(t){return _evalSrc(t)},deserializeJSON:function(t){var e=t;return"string"==typeof e&&(e={src:t}),_evalSrc(e.src)},extractOptionsFromJSON:function(t){var e=t;return"string"==typeof e&&(e=JSON.parse(t)),e.options?e.options:{}},evalFunction(functionAsString){var tmpFunction,functionAsString="tmpFunction = "+functionAsString;return eval(functionAsString),tmpFunction},nextpoweroftwo,ParameterTypeNumber,ParameterTypeBang,ParameterTypeList,ParameterTypeSignal,ParameterTypeCount,IOTypeInput,IOTypeOutput,IOTypeUndefined:IOTypeUndefined.length,TAG}},852:t=>{function e(){let t=this.dataRef.getSizeInBytes()/this.BASEARRAYVIEW.BYTES_PER_ELEMENT,e=this.getChannels();return e?t/e:0}function n(t,e){let n=t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e;this.requestedChannels=e,this.dataRef.requestSizeInBytes(n,!1)}function r(t,e){return this[this.getChannels()*Math.floor(e)+t]}function i(t,e){const n=this.getChannels();return t<0||t>=n||e<0||e>=this.getSize()?0:this[n*Math.floor(e)+t]}function s(t,e,n){this[this.getChannels()*Math.floor(e)+t]=n}function a(t,e,n){const r=this.getChannels();t<0||t>=r||e<0||e>=this.getSize()||(this[r*Math.floor(e)+t]=n)}function o(){return this.dataRef.channels}function u(){return this.dataRef.sampleRate}function h(t){this.dataRef.sampleRate=t}function c(){this.dataRef.clear()}function f(t){if(t!==this.dataRef.channels){let e=this.getSize();return this.clear(),this.dataRef.channels=t,this.setSize(e)}return this}function _(){if(this.isAudioBuffer&&this.requestedChannels!==this.getChannels()&&0!==this.requestedChannels&&(this.getChannels()>0&&this.setZero(),this.dataRef.channels=this.requestedChannels,this.requestedChannels=0),this.dataRef.bytesToAllocate>0&&(this.dataRef.bytesToAllocate!==this.dataRef.getSizeInBytes()||!this.dataRef.isInternallyAllocated)){let t;if(this.dataRef.isInternallyAllocated){let e=Math.min(this.dataRef.arrayBuffer.byteLength,this.dataRef.bytesToAllocate);e/=this.BASEARRAYVIEW.BYTES_PER_ELEMENT,t=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer,0,e)}this.dataRef.arrayBuffer=new ArrayBuffer(this.dataRef.bytesToAllocate),this.dataRef.isInternallyAllocated=!0;let e=new this.BASEARRAYVIEW(this.dataRef.arrayBuffer);return t?e.set(t):this.dataRef.wantsFillFlag=!0,y(e,this.dataRef,this.BASEARRAYVIEW),this.isAudioBuffer&&m(e),e}return this}function l(t){let e=this.getChannels();return this.requestedChannels=e,this.dataRef.requestSizeInBytes(t*this.BASEARRAYVIEW.BYTES_PER_ELEMENT*e,!0),this.allocateIfNeeded()}function I(){this.fill&&this.fill(0)}function M(){return this.touched}function b(t){this.touched=t}function p(t){this.dataRef.setWantsFill(t)}function d(){return this.dataRef.getIndex()}function y(t,r,i){t.dataRef=r,t.BASEARRAYVIEW=i,t.getSize=e,t.requestSize=n,t.setSize=l,t.allocateIfNeeded=_,t.setZero=I,t.clear=c,t.getChannels=o,t.getSampleRate=u,t.setWantsFill=p,t.getIndex=d,r.setZero=function(){t.setZero()},t.touched=!1,t.getTouched=M,t.setTouched=b}function m(t){t.getSample=r,t.getSampleSafe=i,t.setSample=s,t.setSampleSafe=a,t.setChannels=f,t.setSampleRate=h,t.isAudioBuffer=!0,t.requestedChannels=0}let v=function(t,e){let n;return n=t.arrayBuffer?new e(t.arrayBuffer):{},y(n,t,e),n};(v.prototype=Object.create(null)).constructor=v;let D=function(t,e){let n=v.call(this,t,e);return m(n),n};(D.prototype=Object.create(v)).constructor=D;let S=function(t){return D.call(this,t,Float32Array)};(S.prototype=Object.create(D.prototype)).constructor=S;let w=function(t){return D.call(this,t,Float64Array)};(w.prototype=Object.create(D.prototype)).constructor=w;let A=function(t,e){let n=new e(t.dataRefs[t.current]);return n.multiRef=t,n.setCurrent=function(t){this.multiRef.setCurrent(Math.round(t))},n.getIndex=function(){return this.multiRef.getIndex()},n};A.prototype=Object.create(null),A.constructor=A;let g=function(t){return A.call(this,t,S)};(g.prototype=Object.create(A.prototype)).constructor=g;let O=function(t){return A.call(this,t,w)};(O.prototype=Object.create(A.prototype)).constructor=O;let P=function(t){return v.call(this,t,Int32Array)};(P.prototype=Object.create(v.prototype)).constructor=P;let T=function(t){return v.call(this,t,Uint8Array)};(T.prototype=Object.create(v.prototype)).constructor=T,t.exports={Float32Buffer:S,Float64Buffer:w,Float32MultiBuffer:g,Float64MultiBuffer:O,IntBuffer:P,UInt8Buffer:T}},126:t=>{var e=function(){};(e.prototype=Object.create(null)).constructor=e,e.prototype.setEngineAndPatcher=function(){},e.prototype.initialize=function(){},e.prototype.getNumParameters=function(){return 0},e.prototype.setParameterValue=function(){},e.prototype.prepareToProcess=function(){},e.prototype.process=function(){},t.exports={ExternalLoaderFactory:function(){return console.log("WARNING: Externals are not yet supported in Javascript"),new e}}},925:t=>{function e(t,e,n,r){n[r]=t[e]+0x9e3779b97f4a7c15n,n[r]=0xbf58476d1ce4e5b9n*(n[r]^n[r]>>30n),n[r]=0x94d049bb133111ebn*(n[r]^n[r]>>27n),n[r]=n[r]^n[r]>>31n}t.exports={reset:function(t,n){let r=new BigUint64Array(1);r[0]=BigInt(Math.trunc(1e6*t)),e(r,0,n,0),e(n,0,n,1),e(n,1,n,2),e(n,2,n,3)},next:function(t){let e=new BigUint64Array(1),n=new BigUint64Array(1);return n[0]=t[0]+t[3],e[0]=t[1]<<17n,t[2]^=t[0],t[3]^=t[1],t[1]^=t[2],t[0]^=t[3],t[2]^=e[0],t[3]=t[3]<<45n|t[3]>>19n,n[0]=n[0]>>11n,2220446049250313e-31*Number(n[0])-1}}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}var __webpack_exports__={};(()=>{var t;!function(t){t[t.Float32Audio=0]="Float32Audio",t[t.TypedArray=1]="TypedArray"}(t||(t={}));class e{constructor(){this.type=t.TypedArray}serialize(){return{type:this.type}}}class n{constructor(e,n){this.channels=0,this.sampleRate=0,this.type=t.Float32Audio,this.channels=e,this.sampleRate=n}static fromAudioBuffer(t){return new n(t.numberOfChannels,t.sampleRate)}get isInterleaved(){return!0}serialize(){return{channels:this.channels,sampleRate:this.sampleRate,type:this.type}}}var r,i,s,a;!function(t){t[t.BufferTransfer=0]="BufferTransfer",t[t.ClockEvent=1]="ClockEvent",t[t.DataRefEvent=2]="DataRefEvent",t[t.MessageEvent=3]="MessageEvent",t[t.MIDIEvent=4]="MIDIEvent",t[t.ParameterEvent=5]="ParameterEvent",t[t.PresetEvent=6]="PresetEvent",t[t.StartupEvent=7]="StartupEvent",t[t.TransportEvent=8]="TransportEvent",t[t.TempoEvent=9]="TempoEvent",t[t.BeatTimeEvent=10]="BeatTimeEvent",t[t.TimeSignatureEvent=11]="TimeSignatureEvent"}(r||(r={}));class o{constructor(t=0,e){this.invalid=!1,this.time=t,this.eventTarget=e}serialize(){return{eventTarget:this.eventTarget,invalid:this.invalid,source:this.source,time:this.time}}}!function(t){t[t.Update=1]="Update"}(i||(i={}));class u extends o{constructor(t,e,n,i="",s){super(t,s),this.type=r.MessageEvent,this.objectId=i,this.tag=e,this.payload=n}serialize(){return Object.assign(super.serialize(),{payload:this.payload,objectId:this.objectId,tag:this.tag,type:this.type})}}class h extends o{constructor(t,e,n,i){if(super(t,i),this.type=r.MIDIEvent,n.length>3)throw new Error(`MIDIData can only contain a maximum of 3 bytes. Received ${n.length}`);if(this.data=n,this.data.length<3){const t=n.length;this.data.length=3,this.data=this.data.fill(void 0,t,3)}let s=0;for(let t=0;t<3;t++)void 0!==n[t]&&s++;if(s<1)throw new Error("MIDIData must at least have the first byte set.");this.length=s,this.status=240&n[0],this.channel=15&n[0],this.port=e}serialize(){return Object.assign(super.serialize(),{channel:this.channel,data:this.data,port:this.port,type:this.type})}}class c extends o{constructor(t,e,n,i,s){super(t,s),this.type=r.ParameterEvent,this.target=e,this.value=n,this.source=i}serialize(){return Object.assign(super.serialize(),{target:this.target,type:this.type,value:this.value})}}!function(t){t[t.Set=1]="Set",t[t.Touched=2]="Touched"}(s||(s={}));class f extends o{constructor(t,e,n){super(t,void 0),this.type=r.PresetEvent,this.action=e,this.preset=n}serialize(){return Object.assign(super.serialize(),{action:this.action,type:this.type,preset:this.preset})}}!function(t){t[t.BEGIN=0]="BEGIN",t[t.END=1]="END"}(a||(a={}));var _,l;!function(t){t[t.Number=0]="Number",t[t.Bang=1]="Bang",t[t.List=2]="List",t[t.Signal=3]="Signal",t[t.Count=4]="Count",t[t.Enum=5]="Enum"}(_||(_={})),function(t){t[t.All=0]="All",t[t.Internal=1]="Internal"}(l||(l={}));(()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){}})();"undefined"!=typeof isSecureContext&&isSecureContext;Math.pow(10,4);const I=t=>t.slice();class M{constructor(){this.t=[],this.i=[]}get listenerCount(){return this.t.length+this.i.length}emit(t){if(this.t.length){const e=I(this.t);for(let n=0,r=e.length;n<r;n++)e[n](t)}if(this.i.length){const e=I(this.i);for(let n=0,r=e.length;n<r;n++)e[n](t);e.forEach((t=>this.unsubscribe(t)))}}once(t){return this.i.push(t),{unsubscribe:()=>this.unsubscribe(t)}}subscribe(t){return this.t.push(t),{unsubscribe:()=>this.unsubscribe(t)}}unsubscribe(t){const e=this.t.indexOf(t);e>=0&&this.t.splice(e,1);const n=this.i.indexOf(t);n>=0&&this.i.splice(n,1)}removeAllSubscriptions(){this.t=[],this.i=[]}}function b(t){return class extends t{constructor(...t){super(),this.changeEvent=new M,this.o=new M;const e=t[0];this.u=e.notificationSetting,this.convertFromNormalizedValue=e.scaling.convertFromNormalized,this.convertToNormalizedValue=e.scaling.convertToNormalized,this.constrainParameterValue=e.scaling.constrainParameterValue,this.initialValue=e.initialValue,this.h=e.initialValue,this.displayName=e.displayName||e.name,this.exponent=e.exponent,this.id=e.id,this.index=e.index,this.min=e.min,this.max=e.max,this.name=e.name,this.steps=e.steps,this.unit=e.unit||""}get notificationSetting(){return this.u}get normalizedValue(){return this.convertToNormalizedValue(this.h)}set normalizedValue(t){this._(this.convertFromNormalizedValue(t))}l(t){this.u=t}_(t){t=this.constrainParameterValue(t),this.h!==t&&(this.h=t,this.o.emit(this),this.notificationSetting===l.All&&this.changeEvent.emit(t))}I(t){this.h=t,this.changeEvent.emit(t)}}}b(Object);b(Object);b(Object);var p=__webpack_require__(133);class d{constructor(){this.M={},this.p=new Float32Array(128)}addParam(t,e){t.type==p.ParameterTypeSignal&&t.ioType===p.IOTypeInput&&(this.M[t.signalIndex]={name:e,param:new Float32Array(128)})}getParamName(t){let e=this.M[t];return void 0!==e?e.name:void 0}getParamArray(t,e,n){if(e.length==n)return e;{let r=this.M[t];return r.param.length!=n&&(r.param=new Float32Array(n)),r.param.fill(e[0])}}}class y{constructor(t,e){this.m=0,this.v=0,this.D=!1,this.S=new d,this.A=e;let n=new this.A.CoreObject;this.g=n;let r={handleParameterEvent:t.handleParameterEvent.bind(t),handleMidiEvent:t.handleMidiEvent.bind(t),handleMessageEvent:t.handleMessageEvent.bind(t),handlePresetEvent:t.handlePresetEvent.bind(t)},i=this.A.EventHandler.implement(r);this.O=n.createParameterInterface(i);for(let t=0;t<n.getNumParameters();t++){let e=n.getParameterInfo(t);this.S.addParam(e,n.getParameterName(t))}this.m=n.getNumInputChannels()+n.getNumSignalInParameters(),this.v=n.getNumOutputChannels(),this.D=!0}isReady(){return this.D}pushArray(t){let e=this.g.getArrayPassingHEAP(t.length);return this.A.HEAPF64.set(t,e>>3),e}retrieveArray(t){let e=[];for(let n=0;n<t.size();n++)e.push(t.get(n));return e}setExternalData(t,r,i){const s=new Uint8Array(r),a=this.g.getNewMemoryBuffer(s.byteLength);this.A.HEAPU8.set(s,a),i instanceof n?this.g.setExternalAudioBuffer(t,a,s.byteLength,i.channels,i.sampleRate):i instanceof e&&this.g.setExternalUntypedBuffer(t,a,s.byteLength)}releaseExternalData(t){let r,i=this.g.getDataRefIndex(t),s=this.g.getDataRefType(i),a=this.g.getDataRefData(i),o=new Uint8Array(a.sizeInBytes);return o.set(this.A.HEAPU8.subarray(a.data,a.data+a.sizeInBytes)),r=1==s.type?new n(s.channels,s.sampleRate):new e,this.g.releaseDataRef(i),[o.buffer,r]}getCurrentTime(){return this.g.getCurrentTime()}setCurrentTime(t){this.g.setCurrentTime(t)}prepareToProcess(t,e){this.g.prepareToProcess(t,e)}process(t,e,n,r,i,s){let a=0,o=0;for(let n=0;n<e&&a<this.m;n++){let e=t[n],r=this.g.getInputChannel(a);this.A.HEAPF64.set(e,r>>3),a++}if(s)for(let t=a;t<this.m;t++){let e=this.S.getParamName(t);if(void 0!==e){let n=this.g.getInputChannel(t);this.A.HEAPF64.set(this.S.getParamArray(t,s[e],i),n>>3),a++}}this.g.process(a,this.v,i);for(let t=0;t<r&&o<this.v;t++){let e=n[t],r=this.g.getOutputChannel(o)>>3;e.set(this.A.HEAPF64.subarray(r,r+e.length)),o++}}resolveTag(t){return this.g.resolveTag(t)}scheduleEvent(t){t.type===r.MIDIEvent?this.g.scheduleMidiEvent(t.time,t.port,t.data[0],t.data[1],t.data[2]):t.type===r.ParameterEvent?this.g.scheduleParameterEvent(t.target,t.time,t.value,t.source):t.type===r.MessageEvent?Array.isArray(t.payload)?this.g.sendListMessage(t.tag,t.objectId,this.pushArray(t.payload),t.payload.length,t.time):"number"==typeof t.payload?this.g.sendNumMessage(t.tag,t.objectId,t.payload,t.time):void 0===t.payload&&this.g.sendBangMessage(t.tag,t.objectId,t.time):t.type===r.TransportEvent?this.g.scheduleTransportEvent(t.time,t.state):t.type===r.TempoEvent?this.g.scheduleTempoEvent(t.time,t.tempo):t.type===r.BeatTimeEvent?this.g.scheduleBeatTimeEvent(t.time,t.beattime):t.type===r.TimeSignatureEvent&&this.g.scheduleTimeSignatureEvent(t.time,t.numerator,t.denominator)}getNumParameters(){return this.g.getNumParameters()}getParameterValue(t){return this.g.getParameterValue(t)}numIns(){return this.m}numOuts(){return this.v}getPreset(){return this.g.getPreset()}setPreset(t){this.g.setPreset(t)}}var m,v;!function(t){t[t.LoadPatcher=0]="LoadPatcher",t[t.ScheduleEvent=1]="ScheduleEvent",t[t.TransferBuffer=2]="TransferBuffer",t[t.ReleaseBuffer=3]="ReleaseBuffer",t[t.SetPreset=4]="SetPreset",t[t.GetPreset=5]="GetPreset"}(m||(m={})),function(t){t[t.LoadPatcherFinished=1e3]="LoadPatcherFinished",t[t.OutgoingEvent=1002]="OutgoingEvent",t[t.ReleasedBuffer=1003]="ReleasedBuffer",t[t.TransferBufferFinished=1004]="TransferBufferFinished",t[t.GetPresetResponse=1005]="GetPresetResponse"}(v||(v={}));class D extends AudioWorkletProcessor{constructor(r){super(r),this.P=128,this.T=r=>{switch(r.data[0]){case m.LoadPatcher:rnbo_module().then((t=>{this.C=new y(this,t),this.port.postMessage([v.LoadPatcherFinished])}));break;case m.ScheduleEvent:const i=r.data[1];this.C.scheduleEvent(i);break;case m.TransferBuffer:{const i=r.data[1],s=(r=>{switch(r.type){case t.Float32Audio:return new n(r.channels,r.sampleRate);case t.TypedArray:return new e;default:throw new Error(`Unable to deserialize RNBODataDesc of type ${r.type}`)}})(i.typeDesc);this.C.setExternalData(i.memoryId,i.data,s),this.port.postMessage([v.TransferBufferFinished,{memoryId:i.memoryId}]);break}case m.ReleaseBuffer:{const t=r.data[1],[e,n]=this.C.releaseExternalData(t.memoryId);this.port.postMessage([v.ReleasedBuffer,{memoryId:t.memoryId,data:e,typeDesc:n.serialize()}],[e]);break}case m.GetPreset:{const t=JSON.parse(this.C.getPreset());this.port.postMessage([v.GetPresetResponse,{preset:t}]);break}case m.SetPreset:{const t=r.data[1];this.C.setPreset(JSON.stringify(t.preset))}}},this.port.onmessage=this.T,this.port.start()}static get parameterDescriptors(){return XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX}handleParameterEvent(t){this.port.postMessage([v.OutgoingEvent,new c(t.time,t.index,t.value,t.source,void 0).serialize()])}handleMidiEvent(t){const e=new h(t.time,t.port,[t.getB1(),t.getB2(),t.getB3()],void 0);this.port.postMessage([v.OutgoingEvent,e.serialize()])}handleMessageEvent(t){const e=new u(t.time,this.C.resolveTag(t.tag),0==t.type?t.numValue:1===t.type?this.C.retrieveArray(t.listValue):void 0,this.C.resolveTag(t.objectId));this.port.postMessage([v.OutgoingEvent,e.serialize()])}handlePresetEvent(t){const e=new f(t.time,s.Touched);this.port.postMessage([v.OutgoingEvent,e.serialize()])}process(t,e,n){let r=0,i=0;if(!this.C||!this.C.isReady())return!0;let s=this.C.numOuts()>0?e[0][0].length:this.C.numIns()>0?t[0][0].length:e.length>0?e[0][0].length:t.length>0?t[0][0].length:0;s||(s=this.P),this.P<s&&(this.P=s),this.C.setCurrentTime(1e3*currentTime),this.C.prepareToProcess(sampleRate,s);const a=[];for(let e=0;e<t.length&&r<this.C.numIns();e++){const n=t[e];for(let t=0;t<n.length&&r<this.C.numIns()&&n[t].length>0;t++)a.push(n[t]),r++}const o=[];for(let t=0;t<e.length&&i<this.C.numOuts();t++){const n=e[t];for(let t=0;t<n.length&&i<this.C.numOuts();t++)o.push(n[t]),i++}return this.C.process(a,r,o,i,s,n),!0}}let S="XXXX---RNBOPROCESSORNAME_REPLACE---XXXX";S.startsWith("XXXX---RNBOPROCESSORNAME_REPLACE---")&&(S="RNBOProcessor"),registerProcessor(S,D)})()})();'};class V extends T{constructor({context:ie,parameterNotificationSetting:Y},q){super({context:ie,parameterNotificationSetting:Y,type:E.Worklet}),q?this.it=q.it:(this.it=new Z,this.it.setPatcherDesc(K.desc),this.it.setPatcherCode(K.src[0].code)),this.Mt=q?q.node:void 0}Lt(){let ie="[";const Y=this.it.getNumParameters();let q=!0;for(let ne=0;ne<Y;ne++){const oe=this.it.getParameterInfo(ne);if(oe&&oe.type!==void 0&&oe.type===M.ParameterTypeSignal&&oe.ioType!==void 0&&oe.ioType===M.IOTypeInput){const he=oe.min===void 0?0:oe.min,de=oe.max===void 0?1:oe.max;q||(ie+=", "),ie+="{ name: '"+oe.name+"', automationRate: 'a-rate', minValue: "+he+", maxValue: "+de+"}",q=!1}}return ie+="]",ie}get node(){return this.wt(),this.Mt}setPatcher(ie,Y){return(0,f.mG)(this,void 0,void 0,function*(){if(!this.it)throw new Error("Attempt to set patcher on a WorkletDevice without assigning engine first.");this.vt(),yield this.it.setPatcherDesc(ie),this.F.setEngine(this.it),this.it.outgoingEvent.subscribe(this.dt),this.it.prepareToProcess(this.context.sampleRate,128,!1),this.ft=Y.type;const q=ee[Y.type];let ne=this.numInputChannels,oe=this.numOutputChannels;ne<1&&(ne=1),oe<1&&(oe=1);const he=`RNBOProcessor-${(0,m.EL)()}`;let de=q.replace("XXXX---RNBOPROCESSORNAME_REPLACE---XXXX",he).replace("XXXX___RNBOPARAMDESCRIPTORS_REPLACE___XXXX",this.Lt());switch(Y.type){case"js":de=de.replace("XXXX___RNBOPATCHERDESC_REPLACE___XXXX",J.from(JSON.stringify(ie),"utf-8").toString("base64")).replace("XXXX___RNBOPATCHERSRC_REPLACE___XXXX",J.from(this.Et(Y),"utf-8").toString("base64"));break;case"wasm":de=this.Et(Y)+`

`+de}const xe=URL.createObjectURL(new Blob([de],{type:"text/javascript"}));yield this.context.audioWorklet.addModule(xe),this.Mt=new(B())(this.context,he,this.it.eventSubjects,{numberOfInputs:ne,numberOfOutputs:1,outputChannelCount:[oe]}),yield this.Mt.loadPatcher(),this.F.parameterChangeEvent.subscribe(this.gt)})}}var z=__webpack_require__(676),X=__webpack_require__(347);const U="1.0.2",$={bufferSize:1024,parameterNotificationSetting:_.EX.All};function ae(H,ie){var Y,q,ne,oe;return(0,f.mG)(this,void 0,void 0,function*(){const{context:he,patcher:de,type:xe="auto"}=H,Ce=((q=(Y=de.desc)===null||Y===void 0?void 0:Y.meta)===null||q===void 0?void 0:q.rnboversion)||de.desc.rnboVersion;if(Ce!==U&&(console.error||console.log)(`
Warning: The patcher was exported with a RNBO version does not match the version of @rnbo/js:
@rnbo/js	v${U}
patcher		v${Ce}
In order to have full compatibility and avoid unexpected behavior please ensure that you use the version of @rnbo/js that matches the version of RNBO you used to export your patcher.`.trim()),!(!((ne=de.src)===null||ne===void 0)&&ne.length)||!Array.isArray(de.src))throw new Error("Incompatible patcher. Please export you patch with a newer, matching version of RNBO or adjust the version of @rnbo/js you are using.");if(!new Set((oe=de.src)===null||oe===void 0?void 0:oe.map(_e=>_e.type)).has("js")&&!m.f8)throw new Error("Incompatible browser. RNBO requires WASM support in order to run your exported patch as a Device.");const ge=de.src.find(_e=>m.f8&&_e.type==="wasm")||de.src.find(_e=>_e.type==="js"),Ae=Object.assign({},$,H.options);if(!he)throw new Error("Missing argument context");if(xe===E.Worklet&&!m.I7)throw new Error("Failed to create WorkletDevice due to missing AudioWorklet support. Please use the Device.Script or 'auto' option instead");const we=xe==="auto"?m.I7?E.Worklet:E.Script:xe;if(we!==E.Script&&we!==E.Worklet)throw new Error(`Unknown Device type ${we}. Please make sure to use either 'auto' or a valid DeviceType`);let me;if(we===E.Script){if(ie&&!(ie instanceof G))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");me=new G({bufferSize:Ae.bufferSize,parameterNotificationSetting:Ae.parameterNotificationSetting,context:he},(ie==null?void 0:ie.sourceType)===ge.type?ie:void 0)}else if(we===E.Worklet){if(ie&&!(ie instanceof V))throw new Error("Error: Creating a device from an existing device cannot alter the type of the device. Please make sure to use a consistent 'type' parameter.");me=new V({context:he,parameterNotificationSetting:Ae.parameterNotificationSetting},ie)}return ie&&ie.destroy(),me=me,yield me.setPatcher(de.desc,ge),me})}})(),__webpack_exports__})()},module.exports=factory()})(rnbo_webaudio);var rnbo_webaudioExports=rnbo_webaudio.exports;const dummy=new Oscillator({volume:-1/0,frequency:0,type:"sine1"}).start(),min=(f,l)=>f<l?f:l;class RNBODevice{constructor(){Ct(this,"device",null);Ct(this,"ready",!1);Ct(this,"json",null);Ct(this,"context",context.rawContext._nativeAudioContext||context.rawContext._context);Ct(this,"state",{last:60});this.input=new Gain(1),this.output=new Gain(1),dummy.connect(this.output),dummy.connect(this.input)}async initDevice(){const u=await(await fetch(this.json)).json();this.device=await rnbo_webaudioExports.createDevice({context:this.context,patcher:u}),this.device.node.connect(this.output._gainNode._nativeAudioNode),this.input._gainNode._nativeAudioNode.connect(this.device.node),this.ready=!0}initParams(){this.params.forEach(l=>{this[l]||(this[l]=(u,c)=>this.messageDevice(l,u,c))}),Object.keys(this.settable).forEach(l=>this[l]=this[l].bind(this))}messageDevice(l,u,c){const m=new rnbo_webaudioExports.MessageEvent(c*1e3-10,l,[u]);this.device.scheduleEvent(m)}connect(l){this.output.disconnect(),this.output.connect(l)}get settable(){return this.params.reduce((l,u)=>({...l,[u]:this[u]}),{})}setParams(l,u){const c=this.settable;Object.entries(l).forEach(([m,_])=>{this.state[m]=_,c[m]&&c[m](_,u)})}mutate(l={},u,c=.1){if(!this.ready)return;const m=Object.entries(l).reduce((_,[g,b])=>({..._,[`_${g}`]:b}),{});this.setParams(m,u,1),this.messageDevice("mutate",c*1e3,u)}}const fxParams$1=["dist","drive","ring","ringf","ringspread","ringmode","chorus","chdepth","chlfo","chspread","hicut","locut","delay","dtime","dfb","dspread","dcolour","dfilter","reverb","rsize","rdamp","rdiff","rjitter","rdecay","gain","lthresh"],baseSynthParams=["dur","n","pan","amp","vol","hold","a","d","s","r","acurve","dcurve","rcurve","moda","modd","mods","modr","modacurve","moddcurve","modrcurve","fila","fild","fils","filr","filacurve","fildcurve","filrcurve","res","cutoff","detune"],granularParams=["i","snap","bank","grainrate","grainsize","grainslope","grainpan","rate","bpm","direction","begin","end","loop"],samplerParams=["i","snap","bank","begin","end","loop","rate","bpm","oneshot","loopsize"],synthParams=["osc","drift","harm","modi"];class BaseSynth extends RNBODevice{constructor(){super();Ct(this,"self",this.constructor);Ct(this,"params",baseSynthParams);Ct(this,"defaults",{dur:1e3,n:60,pan:.5,vol:1,amp:1,hold:0,a:10,d:100,s:.8,r:1e3,moda:10,modd:100,mods:.8,modr:1e3,fila:10,fild:100,fils:.8,filr:1e3,res:0,cutoff:2e4,detune:0})}static get baseKeys(){return baseSynthParams}play(u={},c){if(!this.ready)return;const m={...this.defaults,...u},{n:_,amp:g}=m;_===this.state.n&&this.cut(c),this.setParams(m,c,0);const b=new rnbo_webaudioExports.MIDIEvent(c*1e3,0,[144,_||60,g*127]);this.device.scheduleEvent(b)}release(u,c){if(!this.ready)return;const m=new rnbo_webaudioExports.MIDIEvent(c*1e3+10,0,[128,u,0]);this.device.scheduleEvent(m)}cut(u,c=10){this.ready&&this.messageDevice("cut",c,u)}}class Synth extends BaseSynth{constructor(u={}){super();Ct(this,"params",[...this.params,...synthParams]);Ct(this,"defaults",{...this.defaults,osc:0,drift:0});this.json=u.lite?new URL(""+new URL("../assets/synth-lite.export.659aa236.json",import.meta.url).href,self.location):new URL(""+new URL("../assets/synth.export.0ced13ca.json",import.meta.url).href,self.location),this.params=[...this.params,...this.params.map(c=>`_${c}`)],this.initDevice(),this.initParams()}}class Sampler extends BaseSynth{constructor(u){super();Ct(this,"json",new URL(""+new URL("../assets/sampler.export.4e06ff0b.json",import.meta.url).href,self.location));Ct(this,"params",[...this.params,...samplerParams]);Ct(this,"defaults",{...this.defaults,i:0,snap:0,rate:1,a:5,d:10,s:1,r:100,bpm:120,begin:0,end:1,loop:0,oneshot:0,loopsize:1});Ct(this,"banks",{});Ct(this,"currentBank",null);Ct(this,"loadedBuffers",[]);Ct(this,"maxI",null);this.params=[...this.params,...this.params.map(c=>`_${c}`)],this.initParams(),this.init(u)}async init(u){await this.initDevice(),u&&this.load(u)}async load(u){this.ready=!1;const c=u.map((_,g)=>({id:`b${g}`,file:_}));this.maxI=c.length<=32?c.length:32,(await this.device.loadDataBufferDependencies(c.splice(0,32))).forEach(_=>{_.type==="success"?console.log(`Successfully loaded buffer with id ${_.id}`):console.log(`Failed to load buffer with id ${_.id}, ${_.error}`)}),this.i(this.state.i||0),this.ready=!0}async bank(u){u===this.currentBank||!this.banks[u]||(this.currentBank=u,Array.from({length:32},(c,m)=>this.device.releaseDataBuffer(`b${m}`)),this.loadedBuffers=[],this.maxI=min(this.banks[u].length,32))}async i(u,c){if(!this.currentBank)return;const m=u%this.maxI;this.loadedBuffers.includes(m)||(await fetch(this.banks[this.currentBank][m])).arrayBuffer().then(g=>this.context.decodeAudioData(g)).then(g=>{this.device.setDataBuffer(`b${m}`,g),this.loadedBuffers.push(m)}),this.messageDevice("i",m,c)}}class Granular extends BaseSynth{constructor(u){super();Ct(this,"json",new URL(""+new URL("../assets/granular.export.a33fefcb.json",import.meta.url).href,self.location));Ct(this,"params",[...this.params,...granularParams]);Ct(this,"defaults",{...this.defaults,i:0,snap:0,rate:1,a:0,d:10,s:1,r:100,bpm:60,grainrate:16,grainsize:.125,grainslope:.01,grainpan:.2,direction:1,begin:0,end:1});Ct(this,"banks",{});Ct(this,"currentBank",null);Ct(this,"loadedBuffers",[]);Ct(this,"maxI",null);this.params=[...this.params,...this.params.map(c=>`_${c}`)],this.initParams(),this.init(u)}async init(u){await this.initDevice(),u&&this.load(u)}async load(u){this.ready=!1;const c=u.map((_,g)=>({id:`b${g}`,file:_}));this.maxI=c.length<=32?c.length:32,(await this.device.loadDataBufferDependencies(c.splice(0,32))).forEach(_=>{_.type==="success"?console.log(`Successfully loaded buffer with id ${_.id}`):console.log(`Failed to load buffer with id ${_.id}, ${_.error}`)}),this.i(this.state.i||0),this.ready=!0}async bank(u){u===this.currentBank||!this.banks[u]||(this.currentBank=u,Array.from({length:32},(c,m)=>this.device.releaseDataBuffer(`b${m}`)),this.loadedBuffers=[],this.maxI=min(this.banks[u].length,32))}async i(u,c){if(!this.currentBank)return;const m=u%this.maxI;this.loadedBuffers.includes(m)||(await fetch(this.banks[this.currentBank][m])).arrayBuffer().then(g=>this.context.decodeAudioData(g)).then(g=>{this.device.setDataBuffer(`b${m}`,g),this.loadedBuffers.push(m)}),this.messageDevice("i",m,c)}}class FXChain extends RNBODevice{constructor(){super();Ct(this,"json",new URL(""+new URL("../assets/fx.export.addfad9a.json",import.meta.url).href,self.location));Ct(this,"params",fxParams$1);Ct(this,"defaults",{dist:0,drive:.25,ring:0,ringf:.25,ringspread:0,ringmode:0,hicut:0,locut:0,chorus:0,chdepth:.25,chlfo:.25,chspread:.25,delay:0,dtime:500,dfb:.5,dspread:0,dcolour:.25,dfilter:0,reverb:0,rsize:.25,rdamp:.25,rdiff:.25,rjitter:0,rdecay:.25,gain:1,lthresh:1});this.params=[...this.params,...this.params.map(u=>`_${u}`)],this.initDevice(),this.initParams()}set(u={},c){if(!this.ready)return;const m={...this.defaults,...u};this.setParams(m,c,0);const _=new rnbo_webaudioExports.MIDIEvent(c*1e3,0,[144,60,127]);this.device.scheduleEvent(_)}}const CtSynth=Synth,CtSampler=Sampler,CtGranulator=Granular,CtFXChain=FXChain,samples=writable$1(["/samples/01.wav","/samples/02.wav","/samples/03.wav","/samples/04.wav","/samples/Atmos-ASceneByTheSea.wav","/samples/Atmos-ChibaCity.wav","/samples/Atmos-DystopianVibes.wav","/samples/atmos-EquestrialSwimming 1.wav","/samples/atmos-EquestrialSwimming 2.wav","/samples/atmos-GongAcid 1.wav","/samples/glass.wav"]);function mapToRange(f,l,u,c,m){return(f-l)*(m-c)/(u-l)+c}function mapToStepRange(f,l,u,c,m,_=.5){return roundToFactor(mapToRange(f,l,u,c,m),_)}function roundToFactor(f,l=1){const u=f/l;return Math.round(u)*l}function clamp(f,l,u){return Math.min(Math.max(f,l),u)}function isChrome(){return navigator.userAgent.indexOf("Chrome")>-1}const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(f=>{PACKET_TYPES_REVERSE[PACKET_TYPES[f]]=f});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=f=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(f):f&&f.buffer instanceof ArrayBuffer,encodePacket=({type:f,data:l},u,c)=>withNativeBlob$1&&l instanceof Blob?u?c(l):encodeBlobAsBase64(l,c):withNativeArrayBuffer$2&&(l instanceof ArrayBuffer||isView$1(l))?u?c(l):encodeBlobAsBase64(new Blob([l]),c):c(PACKET_TYPES[f]+(l||"")),encodeBlobAsBase64=(f,l)=>{const u=new FileReader;return u.onload=function(){const c=u.result.split(",")[1];l("b"+(c||""))},u.readAsDataURL(f)};function toArray$1(f){return f instanceof Uint8Array?f:f instanceof ArrayBuffer?new Uint8Array(f):new Uint8Array(f.buffer,f.byteOffset,f.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(f,l){if(withNativeBlob$1&&f.data instanceof Blob)return f.data.arrayBuffer().then(toArray$1).then(l);if(withNativeArrayBuffer$2&&(f.data instanceof ArrayBuffer||isView$1(f.data)))return l(toArray$1(f.data));encodePacket(f,!1,u=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),l(TEXT_ENCODER.encode(u))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let f=0;f<chars.length;f++)lookup$1[chars.charCodeAt(f)]=f;const decode$1=f=>{let l=f.length*.75,u=f.length,c,m=0,_,g,b,y;f[f.length-1]==="="&&(l--,f[f.length-2]==="="&&l--);const S=new ArrayBuffer(l),A=new Uint8Array(S);for(c=0;c<u;c+=4)_=lookup$1[f.charCodeAt(c)],g=lookup$1[f.charCodeAt(c+1)],b=lookup$1[f.charCodeAt(c+2)],y=lookup$1[f.charCodeAt(c+3)],A[m++]=_<<2|g>>4,A[m++]=(g&15)<<4|b>>2,A[m++]=(b&3)<<6|y&63;return S},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(f,l)=>{if(typeof f!="string")return{type:"message",data:mapBinary(f,l)};const u=f.charAt(0);return u==="b"?{type:"message",data:decodeBase64Packet(f.substring(1),l)}:PACKET_TYPES_REVERSE[u]?f.length>1?{type:PACKET_TYPES_REVERSE[u],data:f.substring(1)}:{type:PACKET_TYPES_REVERSE[u]}:ERROR_PACKET},decodeBase64Packet=(f,l)=>{if(withNativeArrayBuffer$1){const u=decode$1(f);return mapBinary(u,l)}else return{base64:!0,data:f}},mapBinary=(f,l)=>{switch(l){case"blob":return f instanceof Blob?f:new Blob([f]);case"arraybuffer":default:return f instanceof ArrayBuffer?f:f.buffer}},SEPARATOR=String.fromCharCode(30),encodePayload=(f,l)=>{const u=f.length,c=new Array(u);let m=0;f.forEach((_,g)=>{encodePacket(_,!1,b=>{c[g]=b,++m===u&&l(c.join(SEPARATOR))})})},decodePayload=(f,l)=>{const u=f.split(SEPARATOR),c=[];for(let m=0;m<u.length;m++){const _=decodePacket(u[m],l);if(c.push(_),_.type==="error")break}return c};function createPacketEncoderStream(){return new TransformStream({transform(f,l){encodePacketToBinary(f,u=>{const c=u.length;let m;if(c<126)m=new Uint8Array(1),new DataView(m.buffer).setUint8(0,c);else if(c<65536){m=new Uint8Array(3);const _=new DataView(m.buffer);_.setUint8(0,126),_.setUint16(1,c)}else{m=new Uint8Array(9);const _=new DataView(m.buffer);_.setUint8(0,127),_.setBigUint64(1,BigInt(c))}f.data&&typeof f.data!="string"&&(m[0]|=128),l.enqueue(m),l.enqueue(u)})}})}let TEXT_DECODER;function totalLength(f){return f.reduce((l,u)=>l+u.length,0)}function concatChunks(f,l){if(f[0].length===l)return f.shift();const u=new Uint8Array(l);let c=0;for(let m=0;m<l;m++)u[m]=f[0][c++],c===f[0].length&&(f.shift(),c=0);return f.length&&c<f[0].length&&(f[0]=f[0].slice(c)),u}function createPacketDecoderStream(f,l){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const u=[];let c=0,m=-1,_=!1;return new TransformStream({transform(g,b){for(u.push(g);;){if(c===0){if(totalLength(u)<1)break;const y=concatChunks(u,1);_=(y[0]&128)===128,m=y[0]&127,m<126?c=3:m===126?c=1:c=2}else if(c===1){if(totalLength(u)<2)break;const y=concatChunks(u,2);m=new DataView(y.buffer,y.byteOffset,y.length).getUint16(0),c=3}else if(c===2){if(totalLength(u)<8)break;const y=concatChunks(u,8),S=new DataView(y.buffer,y.byteOffset,y.length),A=S.getUint32(0);if(A>Math.pow(2,53-32)-1){b.enqueue(ERROR_PACKET);break}m=A*Math.pow(2,32)+S.getUint32(4),c=3}else{if(totalLength(u)<m)break;const y=concatChunks(u,m);b.enqueue(decodePacket(_?y:TEXT_DECODER.decode(y),l)),c=0}if(m===0||m>f){b.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(f){if(f)return mixin(f)}function mixin(f){for(var l in Emitter.prototype)f[l]=Emitter.prototype[l];return f}Emitter.prototype.on=Emitter.prototype.addEventListener=function(f,l){return this._callbacks=this._callbacks||{},(this._callbacks["$"+f]=this._callbacks["$"+f]||[]).push(l),this};Emitter.prototype.once=function(f,l){function u(){this.off(f,u),l.apply(this,arguments)}return u.fn=l,this.on(f,u),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(f,l){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+f];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+f],this;for(var c,m=0;m<u.length;m++)if(c=u[m],c===l||c.fn===l){u.splice(m,1);break}return u.length===0&&delete this._callbacks["$"+f],this};Emitter.prototype.emit=function(f){this._callbacks=this._callbacks||{};for(var l=new Array(arguments.length-1),u=this._callbacks["$"+f],c=1;c<arguments.length;c++)l[c-1]=arguments[c];if(u){u=u.slice(0);for(var c=0,m=u.length;c<m;++c)u[c].apply(this,l)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(f){return this._callbacks=this._callbacks||{},this._callbacks["$"+f]||[]};Emitter.prototype.hasListeners=function(f){return!!this.listeners(f).length};const globalThisShim=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function pick(f,...l){return l.reduce((u,c)=>(f.hasOwnProperty(c)&&(u[c]=f[c]),u),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(f,l){l.useNativeTimers?(f.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),f.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(f.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),f.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(f){return typeof f=="string"?utf8Length(f):Math.ceil((f.byteLength||f.size)*BASE64_OVERHEAD)}function utf8Length(f){let l=0,u=0;for(let c=0,m=f.length;c<m;c++)l=f.charCodeAt(c),l<128?u+=1:l<2048?u+=2:l<55296||l>=57344?u+=3:(c++,u+=4);return u}function encode$1(f){let l="";for(let u in f)f.hasOwnProperty(u)&&(l.length&&(l+="&"),l+=encodeURIComponent(u)+"="+encodeURIComponent(f[u]));return l}function decode(f){let l={},u=f.split("&");for(let c=0,m=u.length;c<m;c++){let _=u[c].split("=");l[decodeURIComponent(_[0])]=decodeURIComponent(_[1])}return l}class TransportError extends Error{constructor(l,u,c){super(l),this.description=u,this.context=c,this.type="TransportError"}}class Transport extends Emitter{constructor(l){super(),this.writable=!1,installTimerFunctions(this,l),this.opts=l,this.query=l.query,this.socket=l.socket}onError(l,u,c){return super.emitReserved("error",new TransportError(l,u,c)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(l){this.readyState==="open"&&this.write(l)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(l){const u=decodePacket(l,this.socket.binaryType);this.onPacket(u)}onPacket(l){super.emitReserved("packet",l)}onClose(l){this.readyState="closed",super.emitReserved("close",l)}pause(l){}createUri(l,u={}){return l+"://"+this._hostname()+this._port()+this.opts.path+this._query(u)}_hostname(){const l=this.opts.hostname;return l.indexOf(":")===-1?l:"["+l+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(l){const u=encode$1(l);return u.length?"?"+u:""}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map$1={};let seed=0,i$1=0,prev;function encode(f){let l="";do l=alphabet[f%length]+l,f=Math.floor(f/length);while(f>0);return l}function yeast(){const f=encode(+new Date);return f!==prev?(seed=0,prev=f):f+"."+encode(seed++)}for(;i$1<length;i$1++)map$1[alphabet[i$1]]=i$1;let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(f){}const hasCORS=value;function XHR(f){const l=f.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!l||hasCORS))return new XMLHttpRequest}catch{}if(!l)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function createCookieJar(){}function empty(){}const hasXHR2=function(){return new XHR({xdomain:!1}).responseType!=null}();class Polling extends Transport{constructor(l){if(super(l),this.polling=!1,typeof location<"u"){const c=location.protocol==="https:";let m=location.port;m||(m=c?"443":"80"),this.xd=typeof location<"u"&&l.hostname!==location.hostname||m!==l.port}const u=l&&l.forceBase64;this.supportsBinary=hasXHR2&&!u,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(l){this.readyState="pausing";const u=()=>{this.readyState="paused",l()};if(this.polling||!this.writable){let c=0;this.polling&&(c++,this.once("pollComplete",function(){--c||u()})),this.writable||(c++,this.once("drain",function(){--c||u()}))}else u()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(l){const u=c=>{if(this.readyState==="opening"&&c.type==="open"&&this.onOpen(),c.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(c)};decodePayload(l,this.socket.binaryType).forEach(u),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const l=()=>{this.write([{type:"close"}])};this.readyState==="open"?l():this.once("open",l)}write(l){this.writable=!1,encodePayload(l,u=>{this.doWrite(u,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const l=this.opts.secure?"https":"http",u=this.query||{};return this.opts.timestampRequests!==!1&&(u[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!u.sid&&(u.b64=1),this.createUri(l,u)}request(l={}){return Object.assign(l,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request$1(this.uri(),l)}doWrite(l,u){const c=this.request({method:"POST",data:l});c.on("success",u),c.on("error",(m,_)=>{this.onError("xhr post error",m,_)})}doPoll(){const l=this.request();l.on("data",this.onData.bind(this)),l.on("error",(u,c)=>{this.onError("xhr poll error",u,c)}),this.pollXhr=l}}let Request$1=class Rr extends Emitter{constructor(l,u){super(),installTimerFunctions(this,u),this.opts=u,this.method=u.method||"GET",this.uri=l,this.data=u.data!==void 0?u.data:null,this.create()}create(){var l;const u=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");u.xdomain=!!this.opts.xd;const c=this.xhr=new XHR(u);try{c.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0);for(let m in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(m)&&c.setRequestHeader(m,this.opts.extraHeaders[m])}}catch{}if(this.method==="POST")try{c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{c.setRequestHeader("Accept","*/*")}catch{}(l=this.opts.cookieJar)===null||l===void 0||l.addCookies(c),"withCredentials"in c&&(c.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(c.timeout=this.opts.requestTimeout),c.onreadystatechange=()=>{var m;c.readyState===3&&((m=this.opts.cookieJar)===null||m===void 0||m.parseCookies(c)),c.readyState===4&&(c.status===200||c.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof c.status=="number"?c.status:0)},0))},c.send(this.data)}catch(m){this.setTimeoutFn(()=>{this.onError(m)},0);return}typeof document<"u"&&(this.index=Rr.requestsCount++,Rr.requests[this.index]=this)}onError(l){this.emitReserved("error",l,this.xhr),this.cleanup(!0)}cleanup(l){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,l)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Rr.requests[this.index],this.xhr=null}}onLoad(){const l=this.xhr.responseText;l!==null&&(this.emitReserved("data",l),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};Request$1.requestsCount=0;Request$1.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const f="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(f,unloadHandler,!1)}}function unloadHandler(){for(let f in Request$1.requests)Request$1.requests.hasOwnProperty(f)&&Request$1.requests[f].abort()}const nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?l=>Promise.resolve().then(l):(l,u)=>u(l,0))(),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(l){super(l),this.supportsBinary=!l.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const l=this.uri(),u=this.opts.protocols,c=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(c.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?u?new WebSocket(l,u):new WebSocket(l):new WebSocket(l,u,c)}catch(m){return this.emitReserved("error",m)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=l=>this.onClose({description:"websocket connection closed",context:l}),this.ws.onmessage=l=>this.onData(l.data),this.ws.onerror=l=>this.onError("websocket error",l)}write(l){this.writable=!1;for(let u=0;u<l.length;u++){const c=l[u],m=u===l.length-1;encodePacket(c,this.supportsBinary,_=>{const g={};try{usingBrowserWebSocket&&this.ws.send(_)}catch{}m&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const l=this.opts.secure?"wss":"ws",u=this.query||{};return this.opts.timestampRequests&&(u[this.opts.timestampParam]=yeast()),this.supportsBinary||(u.b64=1),this.createUri(l,u)}check(){return!!WebSocket}}class WT extends Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(l=>{this.onError("webtransport error",l)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(l=>{const u=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),c=l.readable.pipeThrough(u).getReader(),m=createPacketEncoderStream();m.readable.pipeTo(l.writable),this.writer=m.writable.getWriter();const _=()=>{c.read().then(({done:b,value:y})=>{b||(this.onPacket(y),_())}).catch(b=>{})};_();const g={type:"open"};this.query.sid&&(g.data=`{"sid":"${this.query.sid}"}`),this.writer.write(g).then(()=>this.onOpen())})}))}write(l){this.writable=!1;for(let u=0;u<l.length;u++){const c=l[u],m=u===l.length-1;this.writer.write(c).then(()=>{m&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var l;(l=this.transport)===null||l===void 0||l.close()}}const transports={websocket:WS,webtransport:WT,polling:Polling},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$2(f){const l=f,u=f.indexOf("["),c=f.indexOf("]");u!=-1&&c!=-1&&(f=f.substring(0,u)+f.substring(u,c).replace(/:/g,";")+f.substring(c,f.length));let m=re.exec(f||""),_={},g=14;for(;g--;)_[parts[g]]=m[g]||"";return u!=-1&&c!=-1&&(_.source=l,_.host=_.host.substring(1,_.host.length-1).replace(/;/g,":"),_.authority=_.authority.replace("[","").replace("]","").replace(/;/g,":"),_.ipv6uri=!0),_.pathNames=pathNames(_,_.path),_.queryKey=queryKey(_,_.query),_}function pathNames(f,l){const u=/\/{2,9}/g,c=l.replace(u,"/").split("/");return(l.slice(0,1)=="/"||l.length===0)&&c.splice(0,1),l.slice(-1)=="/"&&c.splice(c.length-1,1),c}function queryKey(f,l){const u={};return l.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(c,m,_){m&&(u[m]=_)}),u}let Socket$2=class _r extends Emitter{constructor(l,u={}){super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],l&&typeof l=="object"&&(u=l,l=null),l?(l=parse$2(l),u.hostname=l.host,u.secure=l.protocol==="https"||l.protocol==="wss",u.port=l.port,l.query&&(u.query=l.query)):u.host&&(u.hostname=parse$2(u.host).host),installTimerFunctions(this,u),this.secure=u.secure!=null?u.secure:typeof location<"u"&&location.protocol==="https:",u.hostname&&!u.port&&(u.port=this.secure?"443":"80"),this.hostname=u.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=u.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=u.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},u),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(l){const u=Object.assign({},this.opts.query);u.EIO=protocol$1,u.transport=l,this.id&&(u.sid=this.id);const c=Object.assign({},this.opts,{query:u,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[l]);return new transports[l](c)}open(){let l;if(this.opts.rememberUpgrade&&_r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)l="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else l=this.transports[0];this.readyState="opening";try{l=this.createTransport(l)}catch{this.transports.shift(),this.open();return}l.open(),this.setTransport(l)}setTransport(l){this.transport&&this.transport.removeAllListeners(),this.transport=l,l.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",u=>this.onClose("transport close",u))}probe(l){let u=this.createTransport(l),c=!1;_r.priorWebsocketSuccess=!1;const m=()=>{c||(u.send([{type:"ping",data:"probe"}]),u.once("packet",C=>{if(!c)if(C.type==="pong"&&C.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",u),!u)return;_r.priorWebsocketSuccess=u.name==="websocket",this.transport.pause(()=>{c||this.readyState!=="closed"&&(A(),this.setTransport(u),u.send([{type:"upgrade"}]),this.emitReserved("upgrade",u),u=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=u.name,this.emitReserved("upgradeError",x)}}))};function _(){c||(c=!0,A(),u.close(),u=null)}const g=C=>{const x=new Error("probe error: "+C);x.transport=u.name,_(),this.emitReserved("upgradeError",x)};function b(){g("transport closed")}function y(){g("socket closed")}function S(C){u&&C.name!==u.name&&_()}const A=()=>{u.removeListener("open",m),u.removeListener("error",g),u.removeListener("close",b),this.off("close",y),this.off("upgrading",S)};u.once("open",m),u.once("error",g),u.once("close",b),this.once("close",y),this.once("upgrading",S),this.upgrades.indexOf("webtransport")!==-1&&l!=="webtransport"?this.setTimeoutFn(()=>{c||u.open()},200):u.open()}onOpen(){if(this.readyState="open",_r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let l=0;const u=this.upgrades.length;for(;l<u;l++)this.probe(this.upgrades[l])}}onPacket(l){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",l),this.emitReserved("heartbeat"),this.resetPingTimeout(),l.type){case"open":this.onHandshake(JSON.parse(l.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const u=new Error("server error");u.code=l.data,this.onError(u);break;case"message":this.emitReserved("data",l.data),this.emitReserved("message",l.data);break}}onHandshake(l){this.emitReserved("handshake",l),this.id=l.sid,this.transport.query.sid=l.sid,this.upgrades=this.filterUpgrades(l.upgrades),this.pingInterval=l.pingInterval,this.pingTimeout=l.pingTimeout,this.maxPayload=l.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const l=this.getWritablePackets();this.transport.send(l),this.prevBufferLen=l.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let u=1;for(let c=0;c<this.writeBuffer.length;c++){const m=this.writeBuffer[c].data;if(m&&(u+=byteLength(m)),c>0&&u>this.maxPayload)return this.writeBuffer.slice(0,c);u+=2}return this.writeBuffer}write(l,u,c){return this.sendPacket("message",l,u,c),this}send(l,u,c){return this.sendPacket("message",l,u,c),this}sendPacket(l,u,c,m){if(typeof u=="function"&&(m=u,u=void 0),typeof c=="function"&&(m=c,c=null),this.readyState==="closing"||this.readyState==="closed")return;c=c||{},c.compress=c.compress!==!1;const _={type:l,data:u,options:c};this.emitReserved("packetCreate",_),this.writeBuffer.push(_),m&&this.once("flush",m),this.flush()}close(){const l=()=>{this.onClose("forced close"),this.transport.close()},u=()=>{this.off("upgrade",u),this.off("upgradeError",u),l()},c=()=>{this.once("upgrade",u),this.once("upgradeError",u)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?c():l()}):this.upgrading?c():l()),this}onError(l){_r.priorWebsocketSuccess=!1,this.emitReserved("error",l),this.onClose("transport error",l)}onClose(l,u){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",l,u),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(l){const u=[];let c=0;const m=l.length;for(;c<m;c++)~this.transports.indexOf(l[c])&&u.push(l[c]);return u}};Socket$2.protocol=protocol$1;function url(f,l="",u){let c=f;u=u||typeof location<"u"&&location,f==null&&(f=u.protocol+"//"+u.host),typeof f=="string"&&(f.charAt(0)==="/"&&(f.charAt(1)==="/"?f=u.protocol+f:f=u.host+f),/^(https?|wss?):\/\//.test(f)||(typeof u<"u"?f=u.protocol+"//"+f:f="https://"+f),c=parse$2(f)),c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&(c.port="443")),c.path=c.path||"/";const _=c.host.indexOf(":")!==-1?"["+c.host+"]":c.host;return c.id=c.protocol+"://"+_+":"+c.port+l,c.href=c.protocol+"://"+_+(u&&u.port===c.port?"":":"+c.port),c}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=f=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(f):f.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(f){return withNativeArrayBuffer&&(f instanceof ArrayBuffer||isView(f))||withNativeBlob&&f instanceof Blob||withNativeFile&&f instanceof File}function hasBinary(f,l){if(!f||typeof f!="object")return!1;if(Array.isArray(f)){for(let u=0,c=f.length;u<c;u++)if(hasBinary(f[u]))return!0;return!1}if(isBinary(f))return!0;if(f.toJSON&&typeof f.toJSON=="function"&&arguments.length===1)return hasBinary(f.toJSON(),!0);for(const u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&hasBinary(f[u]))return!0;return!1}function deconstructPacket(f){const l=[],u=f.data,c=f;return c.data=_deconstructPacket(u,l),c.attachments=l.length,{packet:c,buffers:l}}function _deconstructPacket(f,l){if(!f)return f;if(isBinary(f)){const u={_placeholder:!0,num:l.length};return l.push(f),u}else if(Array.isArray(f)){const u=new Array(f.length);for(let c=0;c<f.length;c++)u[c]=_deconstructPacket(f[c],l);return u}else if(typeof f=="object"&&!(f instanceof Date)){const u={};for(const c in f)Object.prototype.hasOwnProperty.call(f,c)&&(u[c]=_deconstructPacket(f[c],l));return u}return f}function reconstructPacket(f,l){return f.data=_reconstructPacket(f.data,l),delete f.attachments,f}function _reconstructPacket(f,l){if(!f)return f;if(f&&f._placeholder===!0){if(typeof f.num=="number"&&f.num>=0&&f.num<l.length)return l[f.num];throw new Error("illegal attachments")}else if(Array.isArray(f))for(let u=0;u<f.length;u++)f[u]=_reconstructPacket(f[u],l);else if(typeof f=="object")for(const u in f)Object.prototype.hasOwnProperty.call(f,u)&&(f[u]=_reconstructPacket(f[u],l));return f}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(f){f[f.CONNECT=0]="CONNECT",f[f.DISCONNECT=1]="DISCONNECT",f[f.EVENT=2]="EVENT",f[f.ACK=3]="ACK",f[f.CONNECT_ERROR=4]="CONNECT_ERROR",f[f.BINARY_EVENT=5]="BINARY_EVENT",f[f.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(l){this.replacer=l}encode(l){return(l.type===PacketType.EVENT||l.type===PacketType.ACK)&&hasBinary(l)?this.encodeAsBinary({type:l.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:l.nsp,data:l.data,id:l.id}):[this.encodeAsString(l)]}encodeAsString(l){let u=""+l.type;return(l.type===PacketType.BINARY_EVENT||l.type===PacketType.BINARY_ACK)&&(u+=l.attachments+"-"),l.nsp&&l.nsp!=="/"&&(u+=l.nsp+","),l.id!=null&&(u+=l.id),l.data!=null&&(u+=JSON.stringify(l.data,this.replacer)),u}encodeAsBinary(l){const u=deconstructPacket(l),c=this.encodeAsString(u.packet),m=u.buffers;return m.unshift(c),m}}function isObject$1(f){return Object.prototype.toString.call(f)==="[object Object]"}class Decoder extends Emitter{constructor(l){super(),this.reviver=l}add(l){let u;if(typeof l=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");u=this.decodeString(l);const c=u.type===PacketType.BINARY_EVENT;c||u.type===PacketType.BINARY_ACK?(u.type=c?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(u),u.attachments===0&&super.emitReserved("decoded",u)):super.emitReserved("decoded",u)}else if(isBinary(l)||l.base64)if(this.reconstructor)u=this.reconstructor.takeBinaryData(l),u&&(this.reconstructor=null,super.emitReserved("decoded",u));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+l)}decodeString(l){let u=0;const c={type:Number(l.charAt(0))};if(PacketType[c.type]===void 0)throw new Error("unknown packet type "+c.type);if(c.type===PacketType.BINARY_EVENT||c.type===PacketType.BINARY_ACK){const _=u+1;for(;l.charAt(++u)!=="-"&&u!=l.length;);const g=l.substring(_,u);if(g!=Number(g)||l.charAt(u)!=="-")throw new Error("Illegal attachments");c.attachments=Number(g)}if(l.charAt(u+1)==="/"){const _=u+1;for(;++u&&!(l.charAt(u)===","||u===l.length););c.nsp=l.substring(_,u)}else c.nsp="/";const m=l.charAt(u+1);if(m!==""&&Number(m)==m){const _=u+1;for(;++u;){const g=l.charAt(u);if(g==null||Number(g)!=g){--u;break}if(u===l.length)break}c.id=Number(l.substring(_,u+1))}if(l.charAt(++u)){const _=this.tryParse(l.substr(u));if(Decoder.isPayloadValid(c.type,_))c.data=_;else throw new Error("invalid payload")}return c}tryParse(l){try{return JSON.parse(l,this.reviver)}catch{return!1}}static isPayloadValid(l,u){switch(l){case PacketType.CONNECT:return isObject$1(u);case PacketType.DISCONNECT:return u===void 0;case PacketType.CONNECT_ERROR:return typeof u=="string"||isObject$1(u);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(u)&&(typeof u[0]=="number"||typeof u[0]=="string"&&RESERVED_EVENTS$1.indexOf(u[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(u)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(l){this.packet=l,this.buffers=[],this.reconPack=l}takeBinaryData(l){if(this.buffers.push(l),this.buffers.length===this.reconPack.attachments){const u=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),u}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on(f,l,u){return f.on(l,u),function(){f.off(l,u)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let Socket$1=class extends Emitter{constructor(l,u,c){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=l,this.nsp=u,c&&c.auth&&(this.auth=c.auth),this._opts=Object.assign({},c),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const l=this.io;this.subs=[on(l,"open",this.onopen.bind(this)),on(l,"packet",this.onpacket.bind(this)),on(l,"error",this.onerror.bind(this)),on(l,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...l){return l.unshift("message"),this.emit.apply(this,l),this}emit(l,...u){if(RESERVED_EVENTS.hasOwnProperty(l))throw new Error('"'+l.toString()+'" is a reserved event name');if(u.unshift(l),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(u),this;const c={type:PacketType.EVENT,data:u};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof u[u.length-1]=="function"){const g=this.ids++,b=u.pop();this._registerAckCallback(g,b),c.id=g}const m=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!m||!this.connected)||(this.connected?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(l,u){var c;const m=(c=this.flags.timeout)!==null&&c!==void 0?c:this._opts.ackTimeout;if(m===void 0){this.acks[l]=u;return}const _=this.io.setTimeoutFn(()=>{delete this.acks[l];for(let g=0;g<this.sendBuffer.length;g++)this.sendBuffer[g].id===l&&this.sendBuffer.splice(g,1);u.call(this,new Error("operation has timed out"))},m);this.acks[l]=(...g)=>{this.io.clearTimeoutFn(_),u.apply(this,[null,...g])}}emitWithAck(l,...u){const c=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((m,_)=>{u.push((g,b)=>c?g?_(g):m(b):m(g)),this.emit(l,...u)})}_addToQueue(l){let u;typeof l[l.length-1]=="function"&&(u=l.pop());const c={id:this._queueSeq++,tryCount:0,pending:!1,args:l,flags:Object.assign({fromQueue:!0},this.flags)};l.push((m,..._)=>c!==this._queue[0]?void 0:(m!==null?c.tryCount>this._opts.retries&&(this._queue.shift(),u&&u(m)):(this._queue.shift(),u&&u(null,..._)),c.pending=!1,this._drainQueue())),this._queue.push(c),this._drainQueue()}_drainQueue(l=!1){if(!this.connected||this._queue.length===0)return;const u=this._queue[0];u.pending&&!l||(u.pending=!0,u.tryCount++,this.flags=u.flags,this.emit.apply(this,u.args))}packet(l){l.nsp=this.nsp,this.io._packet(l)}onopen(){typeof this.auth=="function"?this.auth(l=>{this._sendConnectPacket(l)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(l){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},l):l})}onerror(l){this.connected||this.emitReserved("connect_error",l)}onclose(l,u){this.connected=!1,delete this.id,this.emitReserved("disconnect",l,u)}onpacket(l){if(l.nsp===this.nsp)switch(l.type){case PacketType.CONNECT:l.data&&l.data.sid?this.onconnect(l.data.sid,l.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(l);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(l);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const c=new Error(l.data.message);c.data=l.data.data,this.emitReserved("connect_error",c);break}}onevent(l){const u=l.data||[];l.id!=null&&u.push(this.ack(l.id)),this.connected?this.emitEvent(u):this.receiveBuffer.push(Object.freeze(u))}emitEvent(l){if(this._anyListeners&&this._anyListeners.length){const u=this._anyListeners.slice();for(const c of u)c.apply(this,l)}super.emit.apply(this,l),this._pid&&l.length&&typeof l[l.length-1]=="string"&&(this._lastOffset=l[l.length-1])}ack(l){const u=this;let c=!1;return function(...m){c||(c=!0,u.packet({type:PacketType.ACK,id:l,data:m}))}}onack(l){const u=this.acks[l.id];typeof u=="function"&&(u.apply(this,l.data),delete this.acks[l.id])}onconnect(l,u){this.id=l,this.recovered=u&&this._pid===u,this._pid=u,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(l=>this.emitEvent(l)),this.receiveBuffer=[],this.sendBuffer.forEach(l=>{this.notifyOutgoingListeners(l),this.packet(l)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(l=>l()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(l){return this.flags.compress=l,this}get volatile(){return this.flags.volatile=!0,this}timeout(l){return this.flags.timeout=l,this}onAny(l){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(l),this}prependAny(l){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(l),this}offAny(l){if(!this._anyListeners)return this;if(l){const u=this._anyListeners;for(let c=0;c<u.length;c++)if(l===u[c])return u.splice(c,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(l){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(l),this}prependAnyOutgoing(l){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(l),this}offAnyOutgoing(l){if(!this._anyOutgoingListeners)return this;if(l){const u=this._anyOutgoingListeners;for(let c=0;c<u.length;c++)if(l===u[c])return u.splice(c,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(l){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const u=this._anyOutgoingListeners.slice();for(const c of u)c.apply(this,l.data)}}};function Backoff(f){f=f||{},this.ms=f.min||100,this.max=f.max||1e4,this.factor=f.factor||2,this.jitter=f.jitter>0&&f.jitter<=1?f.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var f=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var l=Math.random(),u=Math.floor(l*this.jitter*f);f=Math.floor(l*10)&1?f+u:f-u}return Math.min(f,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(f){this.ms=f};Backoff.prototype.setMax=function(f){this.max=f};Backoff.prototype.setJitter=function(f){this.jitter=f};class Manager extends Emitter{constructor(l,u){var c;super(),this.nsps={},this.subs=[],l&&typeof l=="object"&&(u=l,l=void 0),u=u||{},u.path=u.path||"/socket.io",this.opts=u,installTimerFunctions(this,u),this.reconnection(u.reconnection!==!1),this.reconnectionAttempts(u.reconnectionAttempts||1/0),this.reconnectionDelay(u.reconnectionDelay||1e3),this.reconnectionDelayMax(u.reconnectionDelayMax||5e3),this.randomizationFactor((c=u.randomizationFactor)!==null&&c!==void 0?c:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(u.timeout==null?2e4:u.timeout),this._readyState="closed",this.uri=l;const m=u.parser||parser;this.encoder=new m.Encoder,this.decoder=new m.Decoder,this._autoConnect=u.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(l){return arguments.length?(this._reconnection=!!l,this):this._reconnection}reconnectionAttempts(l){return l===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=l,this)}reconnectionDelay(l){var u;return l===void 0?this._reconnectionDelay:(this._reconnectionDelay=l,(u=this.backoff)===null||u===void 0||u.setMin(l),this)}randomizationFactor(l){var u;return l===void 0?this._randomizationFactor:(this._randomizationFactor=l,(u=this.backoff)===null||u===void 0||u.setJitter(l),this)}reconnectionDelayMax(l){var u;return l===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=l,(u=this.backoff)===null||u===void 0||u.setMax(l),this)}timeout(l){return arguments.length?(this._timeout=l,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(l){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$2(this.uri,this.opts);const u=this.engine,c=this;this._readyState="opening",this.skipReconnect=!1;const m=on(u,"open",function(){c.onopen(),l&&l()}),_=b=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",b),l?l(b):this.maybeReconnectOnOpen()},g=on(u,"error",_);if(this._timeout!==!1){const b=this._timeout,y=this.setTimeoutFn(()=>{m(),_(new Error("timeout")),u.close()},b);this.opts.autoUnref&&y.unref(),this.subs.push(()=>{this.clearTimeoutFn(y)})}return this.subs.push(m),this.subs.push(g),this}connect(l){return this.open(l)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const l=this.engine;this.subs.push(on(l,"ping",this.onping.bind(this)),on(l,"data",this.ondata.bind(this)),on(l,"error",this.onerror.bind(this)),on(l,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(l){try{this.decoder.add(l)}catch(u){this.onclose("parse error",u)}}ondecoded(l){nextTick(()=>{this.emitReserved("packet",l)},this.setTimeoutFn)}onerror(l){this.emitReserved("error",l)}socket(l,u){let c=this.nsps[l];return c?this._autoConnect&&!c.active&&c.connect():(c=new Socket$1(this,l,u),this.nsps[l]=c),c}_destroy(l){const u=Object.keys(this.nsps);for(const c of u)if(this.nsps[c].active)return;this._close()}_packet(l){const u=this.encoder.encode(l);for(let c=0;c<u.length;c++)this.engine.write(u[c],l.options)}cleanup(){this.subs.forEach(l=>l()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(l,u){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",l,u),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const l=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const u=this.backoff.duration();this._reconnecting=!0;const c=this.setTimeoutFn(()=>{l.skipReconnect||(this.emitReserved("reconnect_attempt",l.backoff.attempts),!l.skipReconnect&&l.open(m=>{m?(l._reconnecting=!1,l.reconnect(),this.emitReserved("reconnect_error",m)):l.onreconnect()}))},u);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}}onreconnect(){const l=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",l)}}const cache={};function lookup(f,l){typeof f=="object"&&(l=f,f=void 0),l=l||{};const u=url(f,l.path||"/socket.io"),c=u.source,m=u.id,_=u.path,g=cache[m]&&_ in cache[m].nsps,b=l.forceNew||l["force new connection"]||l.multiplex===!1||g;let y;return b?y=new Manager(c,l):(cache[m]||(cache[m]=new Manager(c,l)),y=cache[m]),u.query&&!l.query&&(l.query=u.queryKey),y.socket(u.path,l)}Object.assign(lookup,{Manager,Socket:Socket$1,io:lookup,connect:lookup});const toasts=writable$1([]);function addToast(f,l="success"){toasts.update(u=>[...u,{message:f,type:l}])}isChrome()||addToast("Please use Chrome for optimum audio performance","warning");const socket=lookup("https://soc-qasm.cephasteom.co.uk",{timeout:1e4,reconnectionAttempts:2,transports:["polling"]});socket.on("connect",()=>{addToast("Qasm server: connected","success")});socket.on("disconnect",()=>{isMeasuring.set(!1),addToast("Qasm server was disconnected","error")});socket.on("connect_error",f=>{addToast("Qasm server: connection error "+f.message,"error"),addToast("Qasm server: attempting to reconnect","warning")});function handleError(f){isMeasuring.set(!1),addToast(f,"error"),console.log(f)}socket.on("response",([f,l])=>{f==="info"&&addToast(l,"success"),f==="error"&&handleError(l),f==="counts"&&collapse(+l[0])});function sendQasm(f,l,u,c,m,_){const g=`OPENQASM 2.0;
include "qelib1.inc";
qreg q[1];
creg c[1];
u(${f*Math.PI},${l*Math.PI},${u*Math.PI}) q[0];
measure q[0] -> c[0];
`;socket.emit("QuTune",m,g,1,c,_)}const axes=writable$1([{key:"x",name:"",value:.5,min:0,max:1,step:.001,colour:"#00A399"},{key:"y",name:"",value:1,min:0,max:1,step:.001,colour:"#E5007F"},{key:"z",name:"",value:0,min:0,max:1,step:.001,colour:"#FF695A"}]),isMeasuring=writable$1(!1),seconds=writable$1(),bpm=writable$1(),beats=writable$1(),source=writable$1("local"),password=writable$1(""),token=writable$1(""),collapseTime=derived([seconds,bpm,beats],([f,l,u])=>l>0&&u>0?60/l*u:f||1),measure=()=>{if(get_store_value(isMeasuring))return;isMeasuring.set(!0);const{connected:f}=socket,l=get_store_value(axes)[2].value,u=get_store_value(axes)[1].value,c=get_store_value(axes)[0].value,m=get_store_value(source);get_store_value(source)==="local"||!f?collapse(Math.random()<l?1:0):sendQasm(l,u,c,m,get_store_value(password),get_store_value(token))};function collapse(f){const l=get_store_value(axes),u=new Date().getTime(),c=u+get_store_value(collapseTime)*1e3,m={x:l[0].value,y:l[1].value,z:l[2].value},_={x:0,y:0,z:f},g=setInterval(()=>{const y=(new Date().getTime()-u)/(c-u);y>1&&(clearInterval(g),isMeasuring.set(!1)),axes.update(S=>S.map(A=>({...A,value:clamp(mapToRange(y,0,1,m[A.key],_[A.key]),0,1)})))},10)}const envelopes=writable$1([{key:"amp",name:"Amp",a:.01,d:.15,s:.5,r:.125},{key:"mod",name:"Mod",a:.01,d:.15,s:.5,r:.125}]),envelopeValues=derived(envelopes,f=>({a:f[0].a*1e3,d:f[0].d*1e3,s:f[0].s,r:f[0].r*4e3,a1:f[1].a*1e3,d1:f[1].d*1e3,s1:f[1].s,r1:f[1].r*4e3}));function updateEnvelopeValue(f,l,u){envelopes.update(c=>(c[f][l]=u,c))}const sockets=writable$1({}),connections=writable$1([]),activateSocket=f=>{sockets.update(l=>Object.keys(l).reduce((u,c)=>({...u,[c]:{...l[c],active:c===f}}),{}))},deactivateSockets=()=>{sockets.update(f=>Object.keys(f).reduce((l,u)=>({...l,[u]:{...f[u],active:!1}}),{}))},connectSockets=(f,l)=>{f.type!==l.type&&([f,l].forEach(u=>{u.type!=="remote"&&connections.update(c=>c.filter(m=>m[0]!==u.id&&m[1]!==u.id))}),connections.update(u=>{const c=[f.id,l.id].sort((m,_)=>m.localeCompare(_));return[...u,c]}))},disconnectSocket=f=>{connections.update(l=>l.filter(u=>u[0]!==f&&u[1]!==f))},initialiseConnections=(f,l)=>{connections.set([]),f.forEach((u,c)=>{const m=l[Math.floor(c/(f.length/l.length))];connections.update(_=>{const g=[u,m].sort((b,y)=>b.localeCompare(y));return[..._,g]})})},getConnections=f=>get_store_value(connections).filter(u=>u[0]===f||u[1]===f).map(u=>u[0]===f?u[1]:u[0]),randomiseConnections=()=>{connections.set([]);const f=get_store_value(sockets),l=Object.values(f).filter(c=>c.type==="origin"),u=Object.values(f).filter(c=>c.type==="remote");l.forEach(c=>{const m=u[Math.floor(Math.random()*u.length)];connectSockets(c,m)})},instrument=writable$1("synth"),instruments$1=["synth","sampler","granular"],instrumentKeys={synth:["modi","harm","drift","cutoff","res"],sampler:["i","loop","loopsize","rate","begin","cutoff","res"],granular:["i","grainrate","grainsize","grainpan","begin","end","cutoff","res"]},keys=writable$1(instrumentKeys.synth),instParams=[{key:"modi",name:"modi",rangeA:0,rangeB:10,min:0,max:100,step:.01,units:"%",outmin:0,outmax:50},{key:"harm",name:"harm",rangeA:2,rangeB:2,min:.5,max:10,step:.25,units:""},{key:"drift",name:"drift",rangeA:0,rangeB:100,min:0,max:100,step:.01,units:"%",outmin:0,outmax:5},{key:"i",name:"sample",rangeA:0,rangeB:0,min:0,max:get_store_value(samples).length,step:1,units:""},{key:"loop",name:"loop",rangeA:1,rangeB:1,min:0,max:1,step:1,units:""},{key:"loopsize",name:"size",rangeA:1,rangeB:1,min:.001,max:1,step:.001,units:""},{key:"rate",name:"rate",rangeA:1,rangeB:1,min:-1,max:2,step:.125,units:""},{key:"begin",name:"begin",rangeA:0,rangeB:1,min:0,max:1,step:.001,units:""},{key:"end",name:"end",rangeA:1,rangeB:0,min:0,max:1,step:.001,units:""},{key:"grainrate",name:"rate",rangeA:8,rangeB:16,min:1,max:64,step:1,units:""},{key:"grainsize",name:"size",rangeA:.1,rangeB:1,min:.001,max:1,step:.001,units:""},{key:"grainpan",name:"pan",rangeA:0,rangeB:1,min:0,max:1,step:.001,units:""},{key:"cutoff",name:"cutoff",rangeA:50,rangeB:100,min:0,max:100,step:.01,units:"%",outmin:0,outmax:2e4},{key:"res",name:"res",rangeA:0,rangeB:25,min:0,max:100,step:.01,units:"%",outmin:0,outmax:.95}],gParams=[{key:"semitone",name:"dtune",rangeA:0,rangeB:0,min:-12,max:12,step:.1,units:"st"},{key:"octave",name:"Oct",rangeA:0,rangeB:0,min:-3,max:3,step:1,units:"octs"},{key:"vol",name:"gain",rangeA:.75,rangeB:.75,min:0,max:2,step:.01,units:"",outmin:0,outmax:2},{key:"pan",name:"pan",rangeA:-0,rangeB:0,min:-1,max:1,step:.01,units:"",outmin:0,outmax:1}],fxParams=[{key:"reverb",name:"Reverb",rangeA:0,rangeB:100,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1},{key:"rsize",name:"RTime",rangeA:0,rangeB:100,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1},{key:"delay",name:"Delay",rangeA:0,rangeB:100,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1},{key:"dtime",name:"Dtime",rangeA:10,rangeB:2e3,min:10,max:2e3,step:1,units:"ms"},{key:"dcolour",name:"DColour",rangeA:25,rangeB:50,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1},{key:"dfb",name:"Fback",rangeA:10,rangeB:50,min:0,max:100,step:.01,units:"%",outmin:0,outmax:.99},{key:"chorus",name:"Chorus",rangeA:0,rangeB:100,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1},{key:"chdepth",name:"CDepth",rangeA:0,rangeB:100,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1},{key:"dist",name:"dist",rangeA:0,rangeB:10,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1},{key:"crush",name:"crush",rangeA:0,rangeB:100,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1},{key:"hicut",name:"hicut",rangeA:0,rangeB:0,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1},{key:"locut",name:"locut",rangeA:0,rangeB:25,min:0,max:100,step:.01,units:"%",outmin:0,outmax:1}],instrumentParameters=writable$1(instParams);samples.subscribe(f=>{instrumentParameters.update(l=>l.map(u=>u.key==="i"?{...u,max:f.length}:u))});const globalParameters=writable$1(gParams),fxParameters=writable$1(fxParams),allParameters=derived([instrumentParameters,globalParameters,fxParameters],([f,l,u])=>[...f,...l,...u]),paramValues=derived([allParameters,axes,connections],([f,l,u])=>f.reduce((c,m)=>({...c,[m.key]:m.rangeA+(m.rangeB-m.rangeA)*getAxis(m.key).value||0}),{}));function getAxis(f){const l=get_store_value(axes),u=getConnections(f);return l.find(c=>u.includes(c.key))||l[0]}const initConnections=()=>initialiseConnections([...instParams,...gParams,...fxParams].map(({key:f})=>f),["z","y","x"]);initConnections();instrument.subscribe(f=>{keys.set(instrumentKeys[f])});function scaleParamValue(f,l){const u=get_store_value(allParameters).find(c=>c.key===f);return u&&u.outmin!==void 0&&u.outmax!==void 0?mapToStepRange(l,u.min,u.max,u.outmin,u.outmax,u.step):roundToFactor(l,u.step)}const defaults={dfilter:0,dcolour:.5,drive:.5,fils:1,lthresh:.75,gain:1,dur:6e4},formatEnvelopeValues=(f,l)=>{const{a1:u,d1:c,s1:m,r1:_}=f,g=l==="synth"?"mod":"fil";return{...f,[`${g}a`]:u,[`${g}d`]:c,[`${g}s`]:m,[`${g}r`]:_}},synthValues=derived([paramValues,envelopeValues,instrument],([f,l,u])=>({...defaults,inst:u,...formatEnvelopeValues(l,u),...Object.entries(f).reduce((c,[m,_])=>({...c,[m]:scaleParamValue(m,_)}),{})}));function randomise(f){const l=u=>({...u,rangeA:mapToStepRange(Math.random(),0,1,u.min,u.max,u.step),rangeB:mapToStepRange(Math.random(),0,1,u.min,u.max,u.step)});return f==="inst"&&instrumentParameters.update(u=>u.map(l)),f==="global"&&globalParameters.update(u=>u.map(l)),f==="fx"&&fxParameters.update(u=>u.map(l)),!0}const drone=writable$1(!1),volume=writable$1(.5),mute=writable$1(!1),fullscreen=writable$1(!1);async function startAudio(){await start(),console.log("started audio"),window.removeEventListener("keydown",startAudio),window.removeEventListener("click",startAudio),window.removeEventListener("touchstart",startAudio)}const output=new Gain(1).toDestination();volume.subscribe(f=>{output.gain.value=f});const limiter=new Limiter(-10).connect(output),fx=new CtFXChain;fx.connect(limiter);const crush=new BitCrusher({bits:4,wet:0}).connect(fx.input),synth=new CtSynth;synth.connect(crush);const sampler=new CtSampler(get_store_value(samples));sampler.banks={default:get_store_value(samples)};sampler.currentBank="default";sampler.connect(crush);const granular=new CtGranulator(get_store_value(samples));granular.banks={default:get_store_value(samples)};granular.currentBank="default";granular.connect(crush);samples.subscribe(f=>{sampler.banks={default:f},granular.banks={default:f}});const instruments={synth,sampler,granular},handleEvent=f=>{var g,b;if(get_store_value(mute))return;const{inst:l,n:u,semitone:c,octave:m}=f,_=c+m*12;get_store_value(drone)&&l==="synth"&&((g=instruments[l])==null||g.cut(immediate())),(b=instruments[l])==null||b.play({...f,n:u,detune:_},immediate()+.01),fx.set(f,immediate()),crush.wet.value=f.crush,crush.set({bits:mapToStepRange(f.crush,0,1,16,4,1)})},handleNoteOff=(f,l)=>{var u;!get_store_value(drone)&&((u=instruments[f])==null||u.release(l,immediate()))},cut=()=>{var l,u,c;const f=get_store_value(envelopeValues).r;(l=instruments.synth)==null||l.cut(immediate(),f),(u=instruments.sampler)==null||u.cut(immediate(),f),(c=instruments.granular)==null||c.cut(immediate(),f)},handleMutation=f=>{var _;const{inst:l,semitone:u,octave:c}=f,m=u+c*12;(_=instruments[l])==null||_.mutate({...f,detune:m},immediate()),fx.mutate(f,immediate()),crush.wet.value=f.crush,crush.set({bits:mapToStepRange(f.crush,0,1,16,4,1)})};synthValues.subscribe(f=>handleMutation(f));drone.subscribe(f=>(!f&&cut(),f));var t={dragStart:!0},e$1=(f,l,u)=>Math.min(Math.max(f,l),u),n=f=>typeof f=="string",r=([f,l],u,c)=>{const m=(_,g)=>g===0?0:Math.ceil(_/g)*g;return[m(u,f),m(c,l)]},o=(f,l)=>f.some(u=>l.some(c=>u.contains(c)));function i(f,l){if(f===void 0)return;if(s(f))return f.getBoundingClientRect();if(typeof f=="object"){const{top:c=0,left:m=0,right:_=0,bottom:g=0}=f;return{top:c,right:window.innerWidth-_,bottom:window.innerHeight-g,left:m}}if(f==="parent")return l.parentNode.getBoundingClientRect();const u=document.querySelector(f);if(u===null)throw new Error("The selector provided for bound doesn't exists in the document.");return u.getBoundingClientRect()}var a=(f,l,u)=>f.style.setProperty(l,u),s=f=>f instanceof HTMLElement,d$1=(f,l={})=>{let u,c,{bounds:m,axis:_="both",gpuAcceleration:g=!0,legacyTranslate:b=!0,transform:y,applyUserSelectHack:S=!0,disabled:A=!1,ignoreMultitouch:C=!1,recomputeBounds:x=t,grid:E,position:k,cancel:T,handle:I,defaultClass:M="neodrag",defaultClassDragging:j="neodrag-dragging",defaultClassDragged:P="neodrag-dragged",defaultPosition:O={x:0,y:0},onDragStart:N,onDrag:D,onDragEnd:L}=l,R=!1,G=0,Z=0,B=0,J=0,K=0,ee=0,{x:V,y:z}=k?{x:(k==null?void 0:k.x)??0,y:(k==null?void 0:k.y)??0}:O;oe(V,z);let X,U,$,ae,H,ie="",Y=!!k;x={...t,...x};const q=document.body.style,ne=f.classList;function oe(we=G,me=Z){if(!y){if(b){let Me=`${+we}px, ${+me}px`;return a(f,"transform",g?`translate3d(${Me}, 0)`:`translate(${Me})`)}return a(f,"translate",`${+we}px ${+me}px ${g?"1px":""}`)}const _e=y({offsetX:we,offsetY:me,rootNode:f});n(_e)&&a(f,"transform",_e)}const he=(we,me)=>{const _e={offsetX:G,offsetY:Z,rootNode:f,currentNode:H};f.dispatchEvent(new CustomEvent(we,{detail:_e})),me==null||me(_e)},de=addEventListener;de("pointerdown",Ce,!1),de("pointerup",ge,!1),de("pointermove",Ae,!1),a(f,"touch-action","none");const xe=()=>{let we=f.offsetWidth/U.width;return isNaN(we)&&(we=1),we};function Ce(we){if(A||we.button===2||C&&!we.isPrimary)return;if(x.dragStart&&(X=i(m,f)),n(I)&&n(T)&&I===T)throw new Error("`handle` selector can't be same as `cancel` selector");if(ne.add(M),$=function(se,ce){if(!se)return[ce];if(s(se))return[se];if(Array.isArray(se))return se;const ue=ce.querySelectorAll(se);if(ue===null)throw new Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(ue.values())}(I,f),ae=function(se,ce){if(!se)return[];if(s(se))return[se];if(Array.isArray(se))return se;const ue=ce.querySelectorAll(se);if(ue===null)throw new Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(ue.values())}(T,f),u=/(both|x)/.test(_),c=/(both|y)/.test(_),o(ae,$))throw new Error("Element being dragged can't be a child of the element on which `cancel` is applied");const me=we.composedPath()[0];if(!$.some(se=>{var ce;return se.contains(me)||((ce=se.shadowRoot)==null?void 0:ce.contains(me))})||o(ae,[me]))return;H=$.length===1?f:$.find(se=>se.contains(me)),R=!0,U=f.getBoundingClientRect(),S&&(ie=q.userSelect,q.userSelect="none"),he("neodrag:start",N);const{clientX:_e,clientY:Me}=we,De=xe();u&&(B=_e-V/De),c&&(J=Me-z/De),X&&(K=_e-U.left,ee=Me-U.top)}function ge(){R&&(x.dragEnd&&(X=i(m,f)),ne.remove(j),ne.add(P),S&&(q.userSelect=ie),he("neodrag:end",L),u&&(B=G),c&&(J=Z),R=!1)}function Ae(we){if(!R)return;x.drag&&(X=i(m,f)),ne.add(j),we.preventDefault(),U=f.getBoundingClientRect();let me=we.clientX,_e=we.clientY;const Me=xe();if(X){const De={left:X.left+K,top:X.top+ee,right:X.right+K-U.width,bottom:X.bottom+ee-U.height};me=e$1(me,De.left,De.right),_e=e$1(_e,De.top,De.bottom)}if(Array.isArray(E)){let[De,se]=E;if(isNaN(+De)||De<0)throw new Error("1st argument of `grid` must be a valid positive number");if(isNaN(+se)||se<0)throw new Error("2nd argument of `grid` must be a valid positive number");let ce=me-B,ue=_e-J;[ce,ue]=r([De/Me,se/Me],ce,ue),me=B+ce,_e=J+ue}u&&(G=Math.round((me-B)*Me)),c&&(Z=Math.round((_e-J)*Me)),V=G,z=Z,he("neodrag",D),oe()}return{destroy:()=>{const we=removeEventListener;we("pointerdown",Ce,!1),we("pointerup",ge,!1),we("pointermove",Ae,!1)},update:we=>{var _e,Me;_=we.axis||"both",A=we.disabled??!1,C=we.ignoreMultitouch??!1,I=we.handle,m=we.bounds,x=we.recomputeBounds??t,T=we.cancel,S=we.applyUserSelectHack??!0,E=we.grid,g=we.gpuAcceleration??!0,b=we.legacyTranslate??!0,y=we.transform;const me=ne.contains(P);ne.remove(M,P),M=we.defaultClass??"neodrag",j=we.defaultClassDragging??"neodrag-dragging",P=we.defaultClassDragged??"neodrag-dragged",ne.add(M),me&&ne.add(P),Y&&(V=G=((_e=we.position)==null?void 0:_e.x)??G,z=Z=((Me=we.position)==null?void 0:Me.y)??Z,oe())}}};const Cable_svelte_svelte_type_style_lang="",{window:window_1$4}=globals;function get_each_context$d(f,l,u){const c=f.slice();return c[8]=l[u].x1,c[9]=l[u].y1,c[10]=l[u].x2,c[11]=l[u].y2,c}function create_each_block$d(f){let l,u,c,m,_;return{c(){l=svg_element("line"),this.h()},l(g){l=claim_svg_element(g,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),children(l).forEach(detach),this.h()},h(){attr(l,"class","cable svelte-rvp61"),attr(l,"x1",u=f[8]),attr(l,"x2",c=f[10]),attr(l,"y1",m=f[9]),attr(l,"y2",_=f[11]),attr(l,"stroke",f[3]),attr(l,"stroke-width","2")},m(g,b){insert_hydration(g,l,b)},p(g,b){b&7&&u!==(u=g[8])&&attr(l,"x1",u),b&7&&c!==(c=g[10])&&attr(l,"x2",c),b&7&&m!==(m=g[9])&&attr(l,"y1",m),b&7&&_!==(_=g[11])&&attr(l,"y2",_),b&8&&attr(l,"stroke",g[3])},d(g){g&&detach(l)}}}function create_fragment$B(f){let l,u,c,m,_,g,b,y,S,A,C=[{x1:f[0].x+3,y1:f[0].y,x2:f[1].x+(f[0].x-f[1].x)/2+f[2],y2:f[0].y},{x1:f[1].x+(f[0].x-f[1].x)/2+f[2],y1:f[0].y,x2:f[1].x+(f[0].x-f[1].x)/2+f[2],y2:f[1].y},{x1:f[1].x+(f[0].x-f[1].x)/2+f[2],y1:f[1].y,x2:f[1].x,y2:f[1].y}],x=[];for(let E=0;E<3;E+=1)x[E]=create_each_block$d(get_each_context$d(f,C,E));return{c(){l=svg_element("svg"),u=svg_element("circle");for(let E=0;E<3;E+=1)x[E].c();_=svg_element("circle"),this.h()},l(E){l=claim_svg_element(E,"svg",{viewBox:!0,xmlns:!0,class:!0});var k=children(l);u=claim_svg_element(k,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),children(u).forEach(detach);for(let T=0;T<3;T+=1)x[T].l(k);_=claim_svg_element(k,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0,fill:!0}),children(_).forEach(detach),k.forEach(detach),this.h()},h(){attr(u,"class","socket svelte-rvp61"),attr(u,"cx",c=f[0].x),attr(u,"cy",m=f[0].y),attr(u,"r","3"),attr(u,"stroke",f[3]),attr(u,"stroke-width","1.5"),attr(u,"fill","white"),attr(_,"class","socket svelte-rvp61"),attr(_,"cx",g=f[1].x),attr(_,"cy",b=f[1].y),attr(_,"r","3"),attr(_,"stroke",f[3]),attr(_,"stroke-width","1.5"),attr(_,"fill","white"),attr(l,"viewBox",y=`0 0 ${f[4]} ${f[5]}`),attr(l,"xmlns","http://www.w3.org/2000/svg"),attr(l,"class","svg svelte-rvp61")},m(E,k){insert_hydration(E,l,k),append_hydration(l,u);for(let T=0;T<3;T+=1)x[T]&&x[T].m(l,null);append_hydration(l,_),S||(A=listen(window_1$4,"resize",f[6]),S=!0)},p(E,[k]){if(k&1&&c!==(c=E[0].x)&&attr(u,"cx",c),k&1&&m!==(m=E[0].y)&&attr(u,"cy",m),k&8&&attr(u,"stroke",E[3]),k&15){C=[{x1:E[0].x+3,y1:E[0].y,x2:E[1].x+(E[0].x-E[1].x)/2+E[2],y2:E[0].y},{x1:E[1].x+(E[0].x-E[1].x)/2+E[2],y1:E[0].y,x2:E[1].x+(E[0].x-E[1].x)/2+E[2],y2:E[1].y},{x1:E[1].x+(E[0].x-E[1].x)/2+E[2],y1:E[1].y,x2:E[1].x,y2:E[1].y}];let T;for(T=0;T<3;T+=1){const I=get_each_context$d(E,C,T);x[T]?x[T].p(I,k):(x[T]=create_each_block$d(I),x[T].c(),x[T].m(l,_))}for(;T<3;T+=1)x[T].d(1)}k&2&&g!==(g=E[1].x)&&attr(_,"cx",g),k&2&&b!==(b=E[1].y)&&attr(_,"cy",b),k&8&&attr(_,"stroke",E[3]),k&48&&y!==(y=`0 0 ${E[4]} ${E[5]}`)&&attr(l,"viewBox",y)},i:noop$3,o:noop$3,d(E){E&&detach(l),destroy_each(x,E),S=!1,A()}}}function instance$z(f,l,u){let{from:c={}}=l,{to:m={}}=l,{offset:_=2}=l,{colour:g="blue"}=l,b=0,y=0;function S(){u(4,b=window.innerWidth),u(5,y=document.body.scrollHeight)}const A=new ResizeObserver(S);return A.observe(document.body),onMount(S),onDestroy(()=>A.disconnect()),f.$$set=C=>{"from"in C&&u(0,c=C.from),"to"in C&&u(1,m=C.to),"offset"in C&&u(2,_=C.offset),"colour"in C&&u(3,g=C.colour)},[c,m,_,g,b,y,S]}class Cable extends SvelteComponent{constructor(l){super(),init(this,l,instance$z,create_fragment$B,safe_not_equal,{from:0,to:1,offset:2,colour:3})}}const Socket_svelte_svelte_type_style_lang="",{window:window_1$3}=globals;function get_each_context$c(f,l,u){const c=f.slice();return c[17]=l[u],c}function create_each_block$c(f,l){let u,c,m;return c=new Cable({props:{colour:l[7][l[17]].colour,offset:l[7][l[17]].offset,from:{x:l[7][l[1]].x+l[7][l[1]].width/2,y:l[7][l[1]].y+l[7][l[1]].width/2},to:{x:l[7][l[17]].x+l[7][l[17]].width/2-.5,y:l[7][l[17]].y+l[7][l[17]].width/2}}}),{key:f,first:null,c(){u=empty$1(),create_component(c.$$.fragment),this.h()},l(_){u=empty$1(),claim_component(c.$$.fragment,_),this.h()},h(){this.first=u},m(_,g){insert_hydration(_,u,g),mount_component(c,_,g),m=!0},p(_,g){l=_;const b={};g&160&&(b.colour=l[7][l[17]].colour),g&160&&(b.offset=l[7][l[17]].offset),g&130&&(b.from={x:l[7][l[1]].x+l[7][l[1]].width/2,y:l[7][l[1]].y+l[7][l[1]].width/2}),g&160&&(b.to={x:l[7][l[17]].x+l[7][l[17]].width/2-.5,y:l[7][l[17]].y+l[7][l[17]].width/2}),c.$set(b)},i(_){m||(transition_in(c.$$.fragment,_),m=!0)},o(_){transition_out(c.$$.fragment,_),m=!1},d(_){_&&detach(u),destroy_component(c,_)}}}function create_fragment$A(f){let l,u,c,m,_,g=[],b=new Map,y,S,A,C,x=f[5];const E=k=>k[17];for(let k=0;k<x.length;k+=1){let T=get_each_context$c(f,x,k),I=E(T);b.set(I,g[k]=create_each_block$c(I,T))}return{c(){l=element("div"),u=element("div"),_=space();for(let k=0;k<g.length;k+=1)g[k].c();this.h()},l(k){l=claim_element(k,"DIV",{class:!0});var T=children(l);u=claim_element(T,"DIV",{class:!0}),children(u).forEach(detach),_=claim_space(T);for(let I=0;I<g.length;I+=1)g[I].l(T);T.forEach(detach),this.h()},h(){attr(u,"class",c=null_to_empty(`socket socket--${f[2]} socket--${f[1]} ${f[0]?" active":""}`)+" svelte-1qmt5cq"),attr(l,"class",y=null_to_empty(`socket__container socket__container--${f[3]}`)+" svelte-1qmt5cq")},m(k,T){insert_hydration(k,l,T),append_hydration(l,u),f[15](u),append_hydration(l,_);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(l,null);S=!0,A||(C=[listen(window_1$3,"resize",f[12]),listen(window_1$3,"keydown",f[11]),action_destroyer(m=d$1.call(null,u,{bounds:"body",position:f[6]})),listen(u,"neodrag",f[8]),listen(u,"neodrag:end",f[9]),listen(u,"click",f[10])],A=!0)},p(k,[T]){(!S||T&7&&c!==(c=null_to_empty(`socket socket--${k[2]} socket--${k[1]} ${k[0]?" active":""}`)+" svelte-1qmt5cq"))&&attr(u,"class",c),m&&is_function(m.update)&&T&64&&m.update.call(null,{bounds:"body",position:k[6]}),T&162&&(x=k[5],group_outros(),g=update_keyed_each(g,T,E,1,k,x,b,l,outro_and_destroy_block,create_each_block$c,null,get_each_context$c),check_outros()),(!S||T&8&&y!==(y=null_to_empty(`socket__container socket__container--${k[3]}`)+" svelte-1qmt5cq"))&&attr(l,"class",y)},i(k){if(!S){for(let T=0;T<x.length;T+=1)transition_in(g[T]);S=!0}},o(k){for(let T=0;T<g.length;T+=1)transition_out(g[T]);S=!1},d(k){k&&detach(l),f[15](null);for(let T=0;T<g.length;T+=1)g[T].d();A=!1,run_all(C)}}}function instance$y(f,l,u){let c;component_subscribe(f,sockets,O=>u(7,c=O));let{id:m}=l,{type:_}=l,{active:g=!1}=l,{align:b="center"}=l,{colour:y="blue"}=l,{offset:S=0}=l,A,C=[],x={x:0,y:0};function E({offsetX:O,offsetY:N}){u(6,x={x:O,y:N}),u(4,A.style.zIndex=1002,A)}function k(O){var G;const N=(G=O.target)==null?void 0:G.getBoundingClientRect(),D=N.x+window.scrollX,L=N.y+window.scrollY,R=Object.keys(c).find(Z=>{const{x:B,y:J,width:K}=c[Z];return D>B-K&&D<B+K&&L>J-K&&L<J+K});R&&connectSockets(c[m],c[R]),u(6,x={x:0,y:0}),u(4,A.style.zIndex=10,A)}function T(){activateSocket(m)}function I(O){O.key==="Escape"&&deactivateSockets(),O.key==="Backspace"&&g&&disconnectSocket(m)}function M(){const O=A.getBoundingClientRect(),N=O.x+window.scrollX,D=O.y+window.scrollY,L=O.width;sockets.update(R=>({...R,[m]:{...R[m],id:m,x:N,y:D,width:L,active:g,type:_,colour:y,offset:S}}))}const j=instrumentParameters.subscribe(async()=>{await tick(),A&&M()});onMount(()=>{M();const O=sockets.subscribe(D=>{var L;u(0,g=(L=D[m])==null?void 0:L.active)}),N=connections.subscribe(D=>{var L;u(5,C=((L=D.filter(R=>R[0]===m))==null?void 0:L.map(R=>R[1]))||[])});return()=>{O(),N(),j()}});function P(O){binding_callbacks[O?"unshift":"push"](()=>{A=O,u(4,A)})}return f.$$set=O=>{"id"in O&&u(1,m=O.id),"type"in O&&u(2,_=O.type),"active"in O&&u(0,g=O.active),"align"in O&&u(3,b=O.align),"colour"in O&&u(13,y=O.colour),"offset"in O&&u(14,S=O.offset)},[g,m,_,b,A,C,x,c,E,k,T,I,M,y,S,P]}class Socket extends SvelteComponent{constructor(l){super(),init(this,l,instance$y,create_fragment$A,safe_not_equal,{id:1,type:2,active:0,align:3,colour:13,offset:14})}}const Patchbay_svelte_svelte_type_style_lang="";function get_each_context$b(f,l,u){const c=f.slice();return c[6]=l[u],c[8]=u,c}function create_each_block$b(f){let l,u,c,m,_=f[1][f[8]]+"",g,b,y;return u=new Socket({props:{id:f[6],type:"remote",colour:f[3][f[8]],offset:f[4][f[8]]}}),{c(){l=element("div"),create_component(u.$$.fragment),c=space(),m=element("h3"),g=text(_),b=space(),this.h()},l(S){l=claim_element(S,"DIV",{class:!0});var A=children(l);claim_component(u.$$.fragment,A),c=claim_space(A),m=claim_element(A,"H3",{style:!0,class:!0});var C=children(m);g=claim_text(C,_),C.forEach(detach),b=claim_space(A),A.forEach(detach),this.h()},h(){set_style(m,"color",f[3][f[8]]),attr(m,"class","svelte-1l43llx"),attr(l,"class","socket svelte-1l43llx")},m(S,A){insert_hydration(S,l,A),mount_component(u,l,null),append_hydration(l,c),append_hydration(l,m),append_hydration(m,g),append_hydration(l,b),y=!0},p(S,A){const C={};A&1&&(C.id=S[6]),u.$set(C),(!y||A&2)&&_!==(_=S[1][S[8]]+"")&&set_data(g,_)},i(S){y||(transition_in(u.$$.fragment,S),y=!0)},o(S){transition_out(u.$$.fragment,S),y=!1},d(S){S&&detach(l),destroy_component(u)}}}function create_fragment$z(f){let l,u,c,m,_,g,b,y,S=f[0],A=[];for(let x=0;x<S.length;x+=1)A[x]=create_each_block$b(get_each_context$b(f,S,x));const C=x=>transition_out(A[x],1,1,()=>{A[x]=null});return{c(){l=element("div"),u=element("button"),c=element("h2"),m=text(f[2]),_=space();for(let x=0;x<A.length;x+=1)A[x].c();this.h()},l(x){l=claim_element(x,"DIV",{class:!0});var E=children(l);u=claim_element(E,"BUTTON",{});var k=children(u);c=claim_element(k,"H2",{class:!0});var T=children(c);m=claim_text(T,f[2]),T.forEach(detach),k.forEach(detach),_=claim_space(E);for(let I=0;I<A.length;I+=1)A[I].l(E);E.forEach(detach),this.h()},h(){attr(c,"class","svelte-1l43llx"),attr(l,"class","patchbay svelte-1l43llx")},m(x,E){insert_hydration(x,l,E),append_hydration(l,u),append_hydration(u,c),append_hydration(c,m),append_hydration(l,_);for(let k=0;k<A.length;k+=1)A[k]&&A[k].m(l,null);g=!0,b||(y=listen(u,"click",f[5]),b=!0)},p(x,[E]){if((!g||E&4)&&set_data(m,x[2]),E&27){S=x[0];let k;for(k=0;k<S.length;k+=1){const T=get_each_context$b(x,S,k);A[k]?(A[k].p(T,E),transition_in(A[k],1)):(A[k]=create_each_block$b(T),A[k].c(),transition_in(A[k],1),A[k].m(l,null))}for(group_outros(),k=S.length;k<A.length;k+=1)C(k);check_outros()}},i(x){if(!g){for(let E=0;E<S.length;E+=1)transition_in(A[E]);g=!0}},o(x){A=A.filter(Boolean);for(let E=0;E<A.length;E+=1)transition_out(A[E]);g=!1},d(x){x&&detach(l),destroy_each(A,x),b=!1,y()}}}function instance$x(f,l,u){let{ids:c}=l,{labels:m}=l,{title:_}=l;const g=["#FF695A","#E5007F","#00A399"],b=[10,0,-10],y=()=>randomiseConnections();return f.$$set=S=>{"ids"in S&&u(0,c=S.ids),"labels"in S&&u(1,m=S.labels),"title"in S&&u(2,_=S.title)},[c,m,_,g,b,y]}class Patchbay extends SvelteComponent{constructor(l){super(),init(this,l,instance$x,create_fragment$z,safe_not_equal,{ids:0,labels:1,title:2})}}const presets=writable$1({}),activePreset=writable$1("");function initPresets(){const f=JSON.parse(localStorage.getItem("q1synth-presets")||"{}");presets.update(l=>({...l,...f,"user 1":null,"user 2":null,"user 3":null,"user 4":null})),activePreset.set(Object.keys(get_store_value(presets)).sort((l,u)=>l.localeCompare(u))[0])}initPresets();presets.subscribe(f=>localStorage.setItem("q1synth-presets",JSON.stringify(f)));const presetKeys=derived(presets,f=>Object.keys(f).sort((l,u)=>l.localeCompare(u)));activePreset.subscribe(loadPreset);function loadPreset(f){const l=get_store_value(presets)[f];l&&(envelopes.update(u=>l.envelopes.reduce((c,m,_)=>[...c,{...u[_],a:m.a,d:m.d,s:m.s,r:m.r}],[])),instrument.set(l.instrument),connections.set(l.connections),l.params.forEach(({key:u,rangeA:c,rangeB:m})=>{const _=get_store_value(allParameters).find(g=>g.key===u);_&&(_.rangeA=c,_.rangeB=m)}))}function savePreset(f){const l=JSON.parse(localStorage.getItem("q1synth-presets")||"{}");l[f]={instrument:get_store_value(instrument),envelopes:get_store_value(envelopes),params:get_store_value(allParameters).map(({key:u,rangeA:c,rangeB:m})=>({key:u,rangeA:c,rangeB:m})),connections:get_store_value(connections)},localStorage.setItem("q1synth-presets",JSON.stringify(l)),presets.update(u=>({...u,...l}))}function ownKeys(f,l){var u=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);l&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(f,m).enumerable})),u.push.apply(u,c)}return u}function _objectSpread2(f){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?ownKeys(Object(u),!0).forEach(function(c){_defineProperty(f,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(u)):ownKeys(Object(u)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(u,c))})}return f}function _typeof(f){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},_typeof(f)}function _classCallCheck(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function _defineProperties(f,l){for(var u=0;u<l.length;u++){var c=l[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function _createClass(f,l,u){return l&&_defineProperties(f.prototype,l),u&&_defineProperties(f,u),Object.defineProperty(f,"prototype",{writable:!1}),f}function _defineProperty(f,l,u){return l in f?Object.defineProperty(f,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):f[l]=u,f}function _slicedToArray(f,l){return _arrayWithHoles(f)||_iterableToArrayLimit(f,l)||_unsupportedIterableToArray(f,l)||_nonIterableRest()}function _toConsumableArray(f){return _arrayWithoutHoles(f)||_iterableToArray(f)||_unsupportedIterableToArray(f)||_nonIterableSpread()}function _arrayWithoutHoles(f){if(Array.isArray(f))return _arrayLikeToArray(f)}function _arrayWithHoles(f){if(Array.isArray(f))return f}function _iterableToArray(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)}function _iterableToArrayLimit(f,l){var u=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(u!=null){var c=[],m=!0,_=!1,g,b;try{for(u=u.call(f);!(m=(g=u.next()).done)&&(c.push(g.value),!(l&&c.length===l));m=!0);}catch(y){_=!0,b=y}finally{try{!m&&u.return!=null&&u.return()}finally{if(_)throw b}}return c}}function _unsupportedIterableToArray(f,l){if(f){if(typeof f=="string")return _arrayLikeToArray(f,l);var u=Object.prototype.toString.call(f).slice(8,-1);if(u==="Object"&&f.constructor&&(u=f.constructor.name),u==="Map"||u==="Set")return Array.from(f);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return _arrayLikeToArray(f,l)}}function _arrayLikeToArray(f,l){(l==null||l>f.length)&&(l=f.length);for(var u=0,c=new Array(l);u<l;u++)c[u]=f[u];return c}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var noop=function f(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop,measure:noop};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(f){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/"),_familyProxy,_familyProxy2,_familyProxy3,_familyProxy4,_familyProxy5,NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION=function(){try{return!0}catch{return!1}}(),FAMILY_CLASSIC="classic",FAMILY_SHARP="sharp",FAMILIES=[FAMILY_CLASSIC,FAMILY_SHARP];function familyProxy(f){return new Proxy(f,{get:function(u,c){return c in u?u[c]:u[FAMILY_CLASSIC]}})}var PREFIX_TO_STYLE=familyProxy((_familyProxy={},_defineProperty(_familyProxy,FAMILY_CLASSIC,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),_defineProperty(_familyProxy,FAMILY_SHARP,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),_familyProxy)),STYLE_TO_PREFIX=familyProxy((_familyProxy2={},_defineProperty(_familyProxy2,FAMILY_CLASSIC,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_defineProperty(_familyProxy2,FAMILY_SHARP,{solid:"fass",regular:"fasr",light:"fasl"}),_familyProxy2)),PREFIX_TO_LONG_STYLE=familyProxy((_familyProxy3={},_defineProperty(_familyProxy3,FAMILY_CLASSIC,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_defineProperty(_familyProxy3,FAMILY_SHARP,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),_familyProxy3)),LONG_STYLE_TO_PREFIX=familyProxy((_familyProxy4={},_defineProperty(_familyProxy4,FAMILY_CLASSIC,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_defineProperty(_familyProxy4,FAMILY_SHARP,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),_familyProxy4)),ICON_SELECTION_SYNTAX_PATTERN=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,FONT_WEIGHT_TO_PREFIX=familyProxy((_familyProxy5={},_defineProperty(_familyProxy5,FAMILY_CLASSIC,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_defineProperty(_familyProxy5,FAMILY_SHARP,{900:"fass",400:"fasr",300:"fasl"}),_familyProxy5)),oneToTen=[1,2,3,4,5,6,7,8,9,10],oneToTwenty=oneToTen.concat([11,12,13,14,15,16,17,18,19,20]),ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},prefixes=new Set;Object.keys(STYLE_TO_PREFIX[FAMILY_CLASSIC]).map(prefixes.add.bind(prefixes));Object.keys(STYLE_TO_PREFIX[FAMILY_SHARP]).map(prefixes.add.bind(prefixes));var RESERVED_CLASSES=[].concat(FAMILIES,_toConsumableArray(prefixes),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",DUOTONE_CLASSES.GROUP,DUOTONE_CLASSES.SWAP_OPACITY,DUOTONE_CLASSES.PRIMARY,DUOTONE_CLASSES.SECONDARY]).concat(oneToTen.map(function(f){return"".concat(f,"x")})).concat(oneToTwenty.map(function(f){return"w-".concat(f)})),initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(f){var l=DOCUMENT.querySelector("script["+f+"]");if(l)return l.getAttribute(f)}function coerce(f){return f===""?!0:f==="false"?!1:f==="true"?!0:f}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(f){var l=_slicedToArray(f,2),u=l[0],c=l[1],m=coerce(getAttrConfig(u));m!=null&&(initial[c]=m)})}var _default={styleDefault:"solid",familyDefault:"classic",cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);var _config=_objectSpread2(_objectSpread2({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config={};Object.keys(_default).forEach(function(f){Object.defineProperty(config,f,{enumerable:!0,set:function(u){_config[f]=u,_onChangeCb.forEach(function(c){return c(config)})},get:function(){return _config[f]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function f(l){_config.cssPrefix=l,_onChangeCb.forEach(function(u){return u(config)})},get:function f(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;var _onChangeCb=[];function onChange(f){return _onChangeCb.push(f),function(){_onChangeCb.splice(_onChangeCb.indexOf(f),1)}}var d=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(f){if(!(!f||!IS_DOM)){var l=DOCUMENT.createElement("style");l.setAttribute("type","text/css"),l.innerHTML=f;for(var u=DOCUMENT.head.childNodes,c=null,m=u.length-1;m>-1;m--){var _=u[m],g=(_.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(g)>-1&&(c=_)}return DOCUMENT.head.insertBefore(l,c),f}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var f=12,l="";f-- >0;)l+=idPool[Math.random()*62|0];return l}function toArray(f){for(var l=[],u=(f||[]).length>>>0;u--;)l[u]=f[u];return l}function classArray(f){return f.classList?toArray(f.classList):(f.getAttribute("class")||"").split(" ").filter(function(l){return l})}function htmlEscape(f){return"".concat(f).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(f){return Object.keys(f||{}).reduce(function(l,u){return l+"".concat(u,'="').concat(htmlEscape(f[u]),'" ')},"").trim()}function joinStyles(f){return Object.keys(f||{}).reduce(function(l,u){return l+"".concat(u,": ").concat(f[u].trim(),";")},"")}function transformIsMeaningful(f){return f.size!==meaninglessTransform.size||f.x!==meaninglessTransform.x||f.y!==meaninglessTransform.y||f.rotate!==meaninglessTransform.rotate||f.flipX||f.flipY}function transformForSvg(f){var l=f.transform,u=f.containerWidth,c=f.iconWidth,m={transform:"translate(".concat(u/2," 256)")},_="translate(".concat(l.x*32,", ").concat(l.y*32,") "),g="scale(".concat(l.size/16*(l.flipX?-1:1),", ").concat(l.size/16*(l.flipY?-1:1),") "),b="rotate(".concat(l.rotate," 0 0)"),y={transform:"".concat(_," ").concat(g," ").concat(b)},S={transform:"translate(".concat(c/2*-1," -256)")};return{outer:m,inner:y,path:S}}function transformForCss(f){var l=f.transform,u=f.width,c=u===void 0?UNITS_IN_GRID:u,m=f.height,_=m===void 0?UNITS_IN_GRID:m,g=f.startCentered,b=g===void 0?!1:g,y="";return b&&IS_IE?y+="translate(".concat(l.x/d-c/2,"em, ").concat(l.y/d-_/2,"em) "):b?y+="translate(calc(-50% + ".concat(l.x/d,"em), calc(-50% + ").concat(l.y/d,"em)) "):y+="translate(".concat(l.x/d,"em, ").concat(l.y/d,"em) "),y+="scale(".concat(l.size/d*(l.flipX?-1:1),", ").concat(l.size/d*(l.flipY?-1:1),") "),y+="rotate(".concat(l.rotate,"deg) "),y}var baseStyles=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function css(){var f=DEFAULT_CSS_PREFIX,l=DEFAULT_REPLACEMENT_CLASS,u=config.cssPrefix,c=config.replacementClass,m=baseStyles;if(u!==f||c!==l){var _=new RegExp("\\.".concat(f,"\\-"),"g"),g=new RegExp("\\--".concat(f,"\\-"),"g"),b=new RegExp("\\.".concat(l),"g");m=m.replace(_,".".concat(u,"-")).replace(g,"--".concat(u,"-")).replace(b,".".concat(c))}return m}var _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout:function f(){return{dom:{css,insertCss:ensureCss}}},hooks:function f(){return{beforeDOMElementCreation:function(){ensureCss()},beforeI2svg:function(){ensureCss()}}}},w$1=WINDOW||{};w$1[NAMESPACE_IDENTIFIER]||(w$1[NAMESPACE_IDENTIFIER]={});w$1[NAMESPACE_IDENTIFIER].styles||(w$1[NAMESPACE_IDENTIFIER].styles={});w$1[NAMESPACE_IDENTIFIER].hooks||(w$1[NAMESPACE_IDENTIFIER].hooks={});w$1[NAMESPACE_IDENTIFIER].shims||(w$1[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w$1[NAMESPACE_IDENTIFIER],functions=[],listener=function f(){DOCUMENT.removeEventListener("DOMContentLoaded",f),loaded=1,functions.map(function(l){return l()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(f){IS_DOM&&(loaded?setTimeout(f,0):functions.push(f))}function toHtml(f){var l=f.tag,u=f.attributes,c=u===void 0?{}:u,m=f.children,_=m===void 0?[]:m;return typeof f=="string"?htmlEscape(f):"<".concat(l," ").concat(joinAttributes(c),">").concat(_.map(toHtml).join(""),"</").concat(l,">")}function iconFromMapping(f,l,u){if(f&&f[l]&&f[l][u])return{prefix:l,iconName:u,icon:f[l][u]}}var bindInternal4=function f(l,u){return function(c,m,_,g){return l.call(u,c,m,_,g)}},reduce=function f(l,u,c,m){var _=Object.keys(l),g=_.length,b=m!==void 0?bindInternal4(u,m):u,y,S,A;for(c===void 0?(y=1,A=l[_[0]]):(y=0,A=c);y<g;y++)S=_[y],A=b(A,l[S],S,l);return A};function ucs2decode(f){for(var l=[],u=0,c=f.length;u<c;){var m=f.charCodeAt(u++);if(m>=55296&&m<=56319&&u<c){var _=f.charCodeAt(u++);(_&64512)==56320?l.push(((m&1023)<<10)+(_&1023)+65536):(l.push(m),u--)}else l.push(m)}return l}function toHex(f){var l=ucs2decode(f);return l.length===1?l[0].toString(16):null}function codePointAt(f,l){var u=f.length,c=f.charCodeAt(l),m;return c>=55296&&c<=56319&&u>l+1&&(m=f.charCodeAt(l+1),m>=56320&&m<=57343)?(c-55296)*1024+m-56320+65536:c}function normalizeIcons(f){return Object.keys(f).reduce(function(l,u){var c=f[u],m=!!c.icon;return m?l[c.iconName]=c.icon:l[u]=c,l},{})}function defineIcons(f,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=u.skipHooks,m=c===void 0?!1:c,_=normalizeIcons(l);typeof namespace.hooks.addPack=="function"&&!m?namespace.hooks.addPack(f,normalizeIcons(l)):namespace.styles[f]=_objectSpread2(_objectSpread2({},namespace.styles[f]||{}),_),f==="fas"&&defineIcons("fa",l)}var _LONG_STYLE,_PREFIXES,_PREFIXES_FOR_FAMILY,styles=namespace.styles,shims=namespace.shims,LONG_STYLE=(_LONG_STYLE={},_defineProperty(_LONG_STYLE,FAMILY_CLASSIC,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty(_LONG_STYLE,FAMILY_SHARP,Object.values(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_LONG_STYLE),_defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={},PREFIXES=(_PREFIXES={},_defineProperty(_PREFIXES,FAMILY_CLASSIC,Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC])),_defineProperty(_PREFIXES,FAMILY_SHARP,Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP])),_PREFIXES);function isReserved(f){return~RESERVED_CLASSES.indexOf(f)}function getIconName(f,l){var u=l.split("-"),c=u[0],m=u.slice(1).join("-");return c===f&&m!==""&&!isReserved(m)?m:null}var build=function f(){var l=function(_){return reduce(styles,function(g,b,y){return g[y]=reduce(b,_,{}),g},{})};_byUnicode=l(function(m,_,g){if(_[3]&&(m[_[3]]=g),_[2]){var b=_[2].filter(function(y){return typeof y=="number"});b.forEach(function(y){m[y.toString(16)]=g})}return m}),_byLigature=l(function(m,_,g){if(m[g]=g,_[2]){var b=_[2].filter(function(y){return typeof y=="string"});b.forEach(function(y){m[y]=g})}return m}),_byAlias=l(function(m,_,g){var b=_[2];return m[g]=g,b.forEach(function(y){m[y]=g}),m});var u="far"in styles||config.autoFetchSvg,c=reduce(shims,function(m,_){var g=_[0],b=_[1],y=_[2];return b==="far"&&!u&&(b="fas"),typeof g=="string"&&(m.names[g]={prefix:b,iconName:y}),typeof g=="number"&&(m.unicodes[g.toString(16)]={prefix:b,iconName:y}),m},{names:{},unicodes:{}});_byOldName=c.names,_byOldUnicode=c.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(function(f){_defaultUsablePrefix=getCanonicalPrefix(f.styleDefault,{family:config.familyDefault})});build();function byUnicode(f,l){return(_byUnicode[f]||{})[l]}function byLigature(f,l){return(_byLigature[f]||{})[l]}function byAlias(f,l){return(_byAlias[f]||{})[l]}function byOldName(f){return _byOldName[f]||{prefix:null,iconName:null}}function byOldUnicode(f){var l=_byOldUnicode[f],u=byUnicode("fas",f);return l||(u?{prefix:"fas",iconName:u}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}var emptyCanonicalIcon=function f(){return{prefix:null,iconName:null,rest:[]}};function getCanonicalPrefix(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.family,c=u===void 0?FAMILY_CLASSIC:u,m=PREFIX_TO_STYLE[c][f],_=STYLE_TO_PREFIX[c][f]||STYLE_TO_PREFIX[c][m],g=f in namespace.styles?f:null;return _||g||null}var PREFIXES_FOR_FAMILY=(_PREFIXES_FOR_FAMILY={},_defineProperty(_PREFIXES_FOR_FAMILY,FAMILY_CLASSIC,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC])),_defineProperty(_PREFIXES_FOR_FAMILY,FAMILY_SHARP,Object.keys(PREFIX_TO_LONG_STYLE[FAMILY_SHARP])),_PREFIXES_FOR_FAMILY);function getCanonicalIcon(f){var l,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=u.skipLookups,m=c===void 0?!1:c,_=(l={},_defineProperty(l,FAMILY_CLASSIC,"".concat(config.cssPrefix,"-").concat(FAMILY_CLASSIC)),_defineProperty(l,FAMILY_SHARP,"".concat(config.cssPrefix,"-").concat(FAMILY_SHARP)),l),g=null,b=FAMILY_CLASSIC;(f.includes(_[FAMILY_CLASSIC])||f.some(function(S){return PREFIXES_FOR_FAMILY[FAMILY_CLASSIC].includes(S)}))&&(b=FAMILY_CLASSIC),(f.includes(_[FAMILY_SHARP])||f.some(function(S){return PREFIXES_FOR_FAMILY[FAMILY_SHARP].includes(S)}))&&(b=FAMILY_SHARP);var y=f.reduce(function(S,A){var C=getIconName(config.cssPrefix,A);if(styles[A]?(A=LONG_STYLE[b].includes(A)?LONG_STYLE_TO_PREFIX[b][A]:A,g=A,S.prefix=A):PREFIXES[b].indexOf(A)>-1?(g=A,S.prefix=getCanonicalPrefix(A,{family:b})):C?S.iconName=C:A!==config.replacementClass&&A!==_[FAMILY_CLASSIC]&&A!==_[FAMILY_SHARP]&&S.rest.push(A),!m&&S.prefix&&S.iconName){var x=g==="fa"?byOldName(S.iconName):{},E=byAlias(S.prefix,S.iconName);x.prefix&&(g=null),S.iconName=x.iconName||E||S.iconName,S.prefix=x.prefix||S.prefix,S.prefix==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(S.prefix="fas")}return S},emptyCanonicalIcon());return(f.includes("fa-brands")||f.includes("fab"))&&(y.prefix="fab"),(f.includes("fa-duotone")||f.includes("fad"))&&(y.prefix="fad"),!y.prefix&&b===FAMILY_SHARP&&(styles.fass||config.autoFetchSvg)&&(y.prefix="fass",y.iconName=byAlias(y.prefix,y.iconName)||y.iconName),(y.prefix==="fa"||g==="fa")&&(y.prefix=getDefaultUsablePrefix()||"fas"),y}var Library=function(){function f(){_classCallCheck(this,f),this.definitions={}}return _createClass(f,[{key:"add",value:function(){for(var u=this,c=arguments.length,m=new Array(c),_=0;_<c;_++)m[_]=arguments[_];var g=m.reduce(this._pullDefinitions,{});Object.keys(g).forEach(function(b){u.definitions[b]=_objectSpread2(_objectSpread2({},u.definitions[b]||{}),g[b]),defineIcons(b,g[b]);var y=PREFIX_TO_LONG_STYLE[FAMILY_CLASSIC][b];y&&defineIcons(y,g[b]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(u,c){var m=c.prefix&&c.iconName&&c.icon?{0:c}:c;return Object.keys(m).map(function(_){var g=m[_],b=g.prefix,y=g.iconName,S=g.icon,A=S[2];u[b]||(u[b]={}),A.length>0&&A.forEach(function(C){typeof C=="string"&&(u[b][C]=S)}),u[b][y]=S}),u}}]),f}(),_plugins=[],_hooks={},providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(f,l){var u=l.mixoutsTo;return _plugins=f,_hooks={},Object.keys(providers).forEach(function(c){defaultProviderKeys.indexOf(c)===-1&&delete providers[c]}),_plugins.forEach(function(c){var m=c.mixout?c.mixout():{};if(Object.keys(m).forEach(function(g){typeof m[g]=="function"&&(u[g]=m[g]),_typeof(m[g])==="object"&&Object.keys(m[g]).forEach(function(b){u[g]||(u[g]={}),u[g][b]=m[g][b]})}),c.hooks){var _=c.hooks();Object.keys(_).forEach(function(g){_hooks[g]||(_hooks[g]=[]),_hooks[g].push(_[g])})}c.provides&&c.provides(providers)}),u}function chainHooks(f,l){for(var u=arguments.length,c=new Array(u>2?u-2:0),m=2;m<u;m++)c[m-2]=arguments[m];var _=_hooks[f]||[];return _.forEach(function(g){l=g.apply(null,[l].concat(c))}),l}function callHooks(f){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];var m=_hooks[f]||[];m.forEach(function(_){_.apply(null,u)})}function callProvided(){var f=arguments[0],l=Array.prototype.slice.call(arguments,1);return providers[f]?providers[f].apply(null,l):void 0}function findIconDefinition(f){f.prefix==="fa"&&(f.prefix="fas");var l=f.iconName,u=f.prefix||getDefaultUsablePrefix();if(l)return l=byAlias(u,l)||l,iconFromMapping(library.definitions,u,l)||iconFromMapping(namespace.styles,u,l)}var library=new Library,noAuto=function f(){config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function f(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",l),callProvided("pseudoElements2svg",l),callProvided("i2svg",l)):Promise.reject("Operation requires a DOM of some kind.")},watch:function f(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=l.autoReplaceSvgRoot;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(function(){autoReplace({autoReplaceSvgRoot:u}),callHooks("watch",l)})}},parse={icon:function f(l){if(l===null)return null;if(_typeof(l)==="object"&&l.prefix&&l.iconName)return{prefix:l.prefix,iconName:byAlias(l.prefix,l.iconName)||l.iconName};if(Array.isArray(l)&&l.length===2){var u=l[1].indexOf("fa-")===0?l[1].slice(3):l[1],c=getCanonicalPrefix(l[0]);return{prefix:c,iconName:byAlias(c,u)||u}}if(typeof l=="string"&&(l.indexOf("".concat(config.cssPrefix,"-"))>-1||l.match(ICON_SELECTION_SYNTAX_PATTERN))){var m=getCanonicalIcon(l.split(" "),{skipLookups:!0});return{prefix:m.prefix||getDefaultUsablePrefix(),iconName:byAlias(m.prefix,m.iconName)||m.iconName}}if(typeof l=="string"){var _=getDefaultUsablePrefix();return{prefix:_,iconName:byAlias(_,l)||l}}}},api={noAuto,config,dom,parse,library,findIconDefinition,toHtml},autoReplace=function f(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=l.autoReplaceSvgRoot,c=u===void 0?DOCUMENT:u;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:c})};function domVariants(f,l){return Object.defineProperty(f,"abstract",{get:l}),Object.defineProperty(f,"html",{get:function(){return f.abstract.map(function(c){return toHtml(c)})}}),Object.defineProperty(f,"node",{get:function(){if(IS_DOM){var c=DOCUMENT.createElement("div");return c.innerHTML=f.html,c.children}}}),f}function asIcon(f){var l=f.children,u=f.main,c=f.mask,m=f.attributes,_=f.styles,g=f.transform;if(transformIsMeaningful(g)&&u.found&&!c.found){var b=u.width,y=u.height,S={x:b/y/2,y:.5};m.style=joinStyles(_objectSpread2(_objectSpread2({},_),{},{"transform-origin":"".concat(S.x+g.x/16,"em ").concat(S.y+g.y/16,"em")}))}return[{tag:"svg",attributes:m,children:l}]}function asSymbol(f){var l=f.prefix,u=f.iconName,c=f.children,m=f.attributes,_=f.symbol,g=_===!0?"".concat(l,"-").concat(config.cssPrefix,"-").concat(u):_;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2(_objectSpread2({},m),{},{id:g}),children:c}]}]}function makeInlineSvgAbstract(f){var l=f.icons,u=l.main,c=l.mask,m=f.prefix,_=f.iconName,g=f.transform,b=f.symbol,y=f.title,S=f.maskId,A=f.titleId,C=f.extra,x=f.watchable,E=x===void 0?!1:x,k=c.found?c:u,T=k.width,I=k.height,M=m==="fak",j=[config.replacementClass,_?"".concat(config.cssPrefix,"-").concat(_):""].filter(function(G){return C.classes.indexOf(G)===-1}).filter(function(G){return G!==""||!!G}).concat(C.classes).join(" "),P={children:[],attributes:_objectSpread2(_objectSpread2({},C.attributes),{},{"data-prefix":m,"data-icon":_,class:j,role:C.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(T," ").concat(I)})},O=M&&!~C.classes.indexOf("fa-fw")?{width:"".concat(T/I*16*.0625,"em")}:{};E&&(P.attributes[DATA_FA_I2SVG]=""),y&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(A||nextUniqueId())},children:[y]}),delete P.attributes.title);var N=_objectSpread2(_objectSpread2({},P),{},{prefix:m,iconName:_,main:u,mask:c,maskId:S,transform:g,symbol:b,styles:_objectSpread2(_objectSpread2({},O),C.styles)}),D=c.found&&u.found?callProvided("generateAbstractMask",N)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",N)||{children:[],attributes:{}},L=D.children,R=D.attributes;return N.children=L,N.attributes=R,b?asSymbol(N):asIcon(N)}function makeLayersTextAbstract(f){var l=f.content,u=f.width,c=f.height,m=f.transform,_=f.title,g=f.extra,b=f.watchable,y=b===void 0?!1:b,S=_objectSpread2(_objectSpread2(_objectSpread2({},g.attributes),_?{title:_}:{}),{},{class:g.classes.join(" ")});y&&(S[DATA_FA_I2SVG]="");var A=_objectSpread2({},g.styles);transformIsMeaningful(m)&&(A.transform=transformForCss({transform:m,startCentered:!0,width:u,height:c}),A["-webkit-transform"]=A.transform);var C=joinStyles(A);C.length>0&&(S.style=C);var x=[];return x.push({tag:"span",attributes:S,children:[l]}),_&&x.push({tag:"span",attributes:{class:"sr-only"},children:[_]}),x}function makeLayersCounterAbstract(f){var l=f.content,u=f.title,c=f.extra,m=_objectSpread2(_objectSpread2(_objectSpread2({},c.attributes),u?{title:u}:{}),{},{class:c.classes.join(" ")}),_=joinStyles(c.styles);_.length>0&&(m.style=_);var g=[];return g.push({tag:"span",attributes:m,children:[l]}),u&&g.push({tag:"span",attributes:{class:"sr-only"},children:[u]}),g}var styles$1=namespace.styles;function asFoundIcon(f){var l=f[0],u=f[1],c=f.slice(4),m=_slicedToArray(c,1),_=m[0],g=null;return Array.isArray(_)?g={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:_[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:_[1]}}]}:g={tag:"path",attributes:{fill:"currentColor",d:_}},{found:!0,width:l,height:u,icon:g}}var missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(f,l){!PRODUCTION&&!config.showMissingIcons&&f&&console.error('Icon with name "'.concat(f,'" and prefix "').concat(l,'" is missing.'))}function findIcon(f,l){var u=l;return l==="fa"&&config.styleDefault!==null&&(l=getDefaultUsablePrefix()),new Promise(function(c,m){if(callProvided("missingIconAbstract"),u==="fa"){var _=byOldName(f)||{};f=_.iconName||f,l=_.prefix||l}if(f&&l&&styles$1[l]&&styles$1[l][f]){var g=styles$1[l][f];return c(asFoundIcon(g))}maybeNotifyMissing(f,l),c(_objectSpread2(_objectSpread2({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&f?callProvided("missingIconAbstract")||{}:{}}))})}var noop$1=function f(){},p=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1,measure:noop$1},preamble='FA "6.4.2"',begin=function f(l){return p.mark("".concat(preamble," ").concat(l," begins")),function(){return end(l)}},end=function f(l){p.mark("".concat(preamble," ").concat(l," ends")),p.measure("".concat(preamble," ").concat(l),"".concat(preamble," ").concat(l," begins"),"".concat(preamble," ").concat(l," ends"))},perf={begin,end},noop$2=function f(){};function isWatched(f){var l=f.getAttribute?f.getAttribute(DATA_FA_I2SVG):null;return typeof l=="string"}function hasPrefixAndIcon(f){var l=f.getAttribute?f.getAttribute(DATA_PREFIX):null,u=f.getAttribute?f.getAttribute(DATA_ICON):null;return l&&u}function hasBeenReplaced(f){return f&&f.classList&&f.classList.contains&&f.classList.contains(config.replacementClass)}function getMutator(){if(config.autoReplaceSvg===!0)return mutators.replace;var f=mutators[config.autoReplaceSvg];return f||mutators.replace}function createElementNS(f){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",f)}function createElement(f){return DOCUMENT.createElement(f)}function convertSVG(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.ceFn,c=u===void 0?f.tag==="svg"?createElementNS:createElement:u;if(typeof f=="string")return DOCUMENT.createTextNode(f);var m=c(f.tag);Object.keys(f.attributes||[]).forEach(function(g){m.setAttribute(g,f.attributes[g])});var _=f.children||[];return _.forEach(function(g){m.appendChild(convertSVG(g,{ceFn:c}))}),m}function nodeAsComment(f){var l=" ".concat(f.outerHTML," ");return l="".concat(l,"Font Awesome fontawesome.com "),l}var mutators={replace:function f(l){var u=l[0];if(u.parentNode)if(l[1].forEach(function(m){u.parentNode.insertBefore(convertSVG(m),u)}),u.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){var c=DOCUMENT.createComment(nodeAsComment(u));u.parentNode.replaceChild(c,u)}else u.remove()},nest:function f(l){var u=l[0],c=l[1];if(~classArray(u).indexOf(config.replacementClass))return mutators.replace(l);var m=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete c[0].attributes.id,c[0].attributes.class){var _=c[0].attributes.class.split(" ").reduce(function(b,y){return y===config.replacementClass||y.match(m)?b.toSvg.push(y):b.toNode.push(y),b},{toNode:[],toSvg:[]});c[0].attributes.class=_.toSvg.join(" "),_.toNode.length===0?u.removeAttribute("class"):u.setAttribute("class",_.toNode.join(" "))}var g=c.map(function(b){return toHtml(b)}).join(`
`);u.setAttribute(DATA_FA_I2SVG,""),u.innerHTML=g}};function performOperationSync(f){f()}function perform(f,l){var u=typeof l=="function"?l:noop$2;if(f.length===0)u();else{var c=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(c=WINDOW.requestAnimationFrame||performOperationSync),c(function(){var m=getMutator(),_=perf.begin("mutate");f.map(m),_(),u()})}}var disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}var mo=null;function observe(f){if(MUTATION_OBSERVER&&config.observeMutations){var l=f.treeCallback,u=l===void 0?noop$2:l,c=f.nodeCallback,m=c===void 0?noop$2:c,_=f.pseudoElementsCallback,g=_===void 0?noop$2:_,b=f.observeMutationsRoot,y=b===void 0?DOCUMENT:b;mo=new MUTATION_OBSERVER(function(S){if(!disabled){var A=getDefaultUsablePrefix();toArray(S).forEach(function(C){if(C.type==="childList"&&C.addedNodes.length>0&&!isWatched(C.addedNodes[0])&&(config.searchPseudoElements&&g(C.target),u(C.target)),C.type==="attributes"&&C.target.parentNode&&config.searchPseudoElements&&g(C.target.parentNode),C.type==="attributes"&&isWatched(C.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(C.attributeName))if(C.attributeName==="class"&&hasPrefixAndIcon(C.target)){var x=getCanonicalIcon(classArray(C.target)),E=x.prefix,k=x.iconName;C.target.setAttribute(DATA_PREFIX,E||A),k&&C.target.setAttribute(DATA_ICON,k)}else hasBeenReplaced(C.target)&&m(C.target)})}}),IS_DOM&&mo.observe(y,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function disconnect(){mo&&mo.disconnect()}function styleParser(f){var l=f.getAttribute("style"),u=[];return l&&(u=l.split(";").reduce(function(c,m){var _=m.split(":"),g=_[0],b=_.slice(1);return g&&b.length>0&&(c[g]=b.join(":").trim()),c},{})),u}function classParser(f){var l=f.getAttribute("data-prefix"),u=f.getAttribute("data-icon"),c=f.innerText!==void 0?f.innerText.trim():"",m=getCanonicalIcon(classArray(f));return m.prefix||(m.prefix=getDefaultUsablePrefix()),l&&u&&(m.prefix=l,m.iconName=u),m.iconName&&m.prefix||(m.prefix&&c.length>0&&(m.iconName=byLigature(m.prefix,f.innerText)||byUnicode(m.prefix,toHex(f.innerText))),!m.iconName&&config.autoFetchSvg&&f.firstChild&&f.firstChild.nodeType===Node.TEXT_NODE&&(m.iconName=f.firstChild.data)),m}function attributesParser(f){var l=toArray(f.attributes).reduce(function(m,_){return m.name!=="class"&&m.name!=="style"&&(m[_.name]=_.value),m},{}),u=f.getAttribute("title"),c=f.getAttribute("data-fa-title-id");return config.autoA11y&&(u?l["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(c||nextUniqueId()):(l["aria-hidden"]="true",l.focusable="false")),l}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},u=classParser(f),c=u.iconName,m=u.prefix,_=u.rest,g=attributesParser(f),b=chainHooks("parseNodeAttributes",{},f),y=l.styleParser?styleParser(f):[];return _objectSpread2({iconName:c,title:f.getAttribute("title"),titleId:f.getAttribute("data-fa-title-id"),prefix:m,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:_,styles:y,attributes:g}},b)}var styles$2=namespace.styles;function generateMutation(f){var l=config.autoReplaceSvg==="nest"?parseMeta(f,{styleParser:!1}):parseMeta(f);return~l.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",f,l):callProvided("generateSvgReplacementMutation",f,l)}var knownPrefixes=new Set;FAMILIES.map(function(f){knownPrefixes.add("fa-".concat(f))});Object.keys(PREFIX_TO_STYLE[FAMILY_CLASSIC]).map(knownPrefixes.add.bind(knownPrefixes));Object.keys(PREFIX_TO_STYLE[FAMILY_SHARP]).map(knownPrefixes.add.bind(knownPrefixes));knownPrefixes=_toConsumableArray(knownPrefixes);function onTree(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();var u=DOCUMENT.documentElement.classList,c=function(C){return u.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(C))},m=function(C){return u.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(C))},_=config.autoFetchSvg?knownPrefixes:FAMILIES.map(function(A){return"fa-".concat(A)}).concat(Object.keys(styles$2));_.includes("fa")||_.push("fa");var g=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(_.map(function(A){return".".concat(A,":not([").concat(DATA_FA_I2SVG,"])")})).join(", ");if(g.length===0)return Promise.resolve();var b=[];try{b=toArray(f.querySelectorAll(g))}catch{}if(b.length>0)c("pending"),m("complete");else return Promise.resolve();var y=perf.begin("onTree"),S=b.reduce(function(A,C){try{var x=generateMutation(C);x&&A.push(x)}catch(E){PRODUCTION||E.name==="MissingIcon"&&console.error(E)}return A},[]);return new Promise(function(A,C){Promise.all(S).then(function(x){perform(x,function(){c("active"),c("complete"),m("pending"),typeof l=="function"&&l(),y(),A()})}).catch(function(x){y(),C(x)})})}function onNode(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(f).then(function(u){u&&perform([u],l)})}function resolveIcons(f){return function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=(l||{}).icon?l:findIconDefinition(l||{}),m=u.mask;return m&&(m=(m||{}).icon?m:findIconDefinition(m||{})),f(c,_objectSpread2(_objectSpread2({},u),{},{mask:m}))}}var render=function f(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=u.transform,m=c===void 0?meaninglessTransform:c,_=u.symbol,g=_===void 0?!1:_,b=u.mask,y=b===void 0?null:b,S=u.maskId,A=S===void 0?null:S,C=u.title,x=C===void 0?null:C,E=u.titleId,k=E===void 0?null:E,T=u.classes,I=T===void 0?[]:T,M=u.attributes,j=M===void 0?{}:M,P=u.styles,O=P===void 0?{}:P;if(l){var N=l.prefix,D=l.iconName,L=l.icon;return domVariants(_objectSpread2({type:"icon"},l),function(){return callHooks("beforeDOMElementCreation",{iconDefinition:l,params:u}),config.autoA11y&&(x?j["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(k||nextUniqueId()):(j["aria-hidden"]="true",j.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(L),mask:y?asFoundIcon(y.icon):{found:!1,width:null,height:null,icon:{}}},prefix:N,iconName:D,transform:_objectSpread2(_objectSpread2({},meaninglessTransform),m),symbol:g,title:x,maskId:A,titleId:k,extra:{attributes:j,styles:O,classes:I}})})}},ReplaceElements={mixout:function f(){return{icon:resolveIcons(render)}},hooks:function f(){return{mutationObserverCallbacks:function(u){return u.treeCallback=onTree,u.nodeCallback=onNode,u}}},provides:function f(l){l.i2svg=function(u){var c=u.node,m=c===void 0?DOCUMENT:c,_=u.callback,g=_===void 0?function(){}:_;return onTree(m,g)},l.generateSvgReplacementMutation=function(u,c){var m=c.iconName,_=c.title,g=c.titleId,b=c.prefix,y=c.transform,S=c.symbol,A=c.mask,C=c.maskId,x=c.extra;return new Promise(function(E,k){Promise.all([findIcon(m,b),A.iconName?findIcon(A.iconName,A.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(T){var I=_slicedToArray(T,2),M=I[0],j=I[1];E([u,makeInlineSvgAbstract({icons:{main:M,mask:j},prefix:b,iconName:m,transform:y,symbol:S,maskId:C,title:_,titleId:g,extra:x,watchable:!0})])}).catch(k)})},l.generateAbstractIcon=function(u){var c=u.children,m=u.attributes,_=u.main,g=u.transform,b=u.styles,y=joinStyles(b);y.length>0&&(m.style=y);var S;return transformIsMeaningful(g)&&(S=callProvided("generateAbstractTransformGrouping",{main:_,transform:g,containerWidth:_.width,iconWidth:_.width})),c.push(S||_.icon),{children:c,attributes:m}}}},Layers={mixout:function f(){return{layer:function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=c.classes,_=m===void 0?[]:m;return domVariants({type:"layer"},function(){callHooks("beforeDOMElementCreation",{assembler:u,params:c});var g=[];return u(function(b){Array.isArray(b)?b.map(function(y){g=g.concat(y.abstract)}):g=g.concat(b.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers")].concat(_toConsumableArray(_)).join(" ")},children:g}]})}}}},LayersCounter={mixout:function f(){return{counter:function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=c.title,_=m===void 0?null:m,g=c.classes,b=g===void 0?[]:g,y=c.attributes,S=y===void 0?{}:y,A=c.styles,C=A===void 0?{}:A;return domVariants({type:"counter",content:u},function(){return callHooks("beforeDOMElementCreation",{content:u,params:c}),makeLayersCounterAbstract({content:u.toString(),title:_,extra:{attributes:S,styles:C,classes:["".concat(config.cssPrefix,"-layers-counter")].concat(_toConsumableArray(b))}})})}}}},LayersText={mixout:function f(){return{text:function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=c.transform,_=m===void 0?meaninglessTransform:m,g=c.title,b=g===void 0?null:g,y=c.classes,S=y===void 0?[]:y,A=c.attributes,C=A===void 0?{}:A,x=c.styles,E=x===void 0?{}:x;return domVariants({type:"text",content:u},function(){return callHooks("beforeDOMElementCreation",{content:u,params:c}),makeLayersTextAbstract({content:u,transform:_objectSpread2(_objectSpread2({},meaninglessTransform),_),title:b,extra:{attributes:C,styles:E,classes:["".concat(config.cssPrefix,"-layers-text")].concat(_toConsumableArray(S))}})})}}},provides:function f(l){l.generateLayersText=function(u,c){var m=c.title,_=c.transform,g=c.extra,b=null,y=null;if(IS_IE){var S=parseInt(getComputedStyle(u).fontSize,10),A=u.getBoundingClientRect();b=A.width/S,y=A.height/S}return config.autoA11y&&!m&&(g.attributes["aria-hidden"]="true"),Promise.resolve([u,makeLayersTextAbstract({content:u.innerHTML,width:b,height:y,transform:_,title:m,extra:g,watchable:!0})])}}},CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319];function hexValueFromContent(f){var l=f.replace(CLEAN_CONTENT_PATTERN,""),u=codePointAt(l,0),c=u>=SECONDARY_UNICODE_RANGE[0]&&u<=SECONDARY_UNICODE_RANGE[1],m=l.length===2?l[0]===l[1]:!1;return{value:toHex(m?l[0]:l),isSecondary:c||m}}function replaceForPosition(f,l){var u="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(l.replace(":","-"));return new Promise(function(c,m){if(f.getAttribute(u)!==null)return c();var _=toArray(f.children),g=_.filter(function(L){return L.getAttribute(DATA_FA_PSEUDO_ELEMENT)===l})[0],b=WINDOW.getComputedStyle(f,l),y=b.getPropertyValue("font-family").match(FONT_FAMILY_PATTERN),S=b.getPropertyValue("font-weight"),A=b.getPropertyValue("content");if(g&&!y)return f.removeChild(g),c();if(y&&A!=="none"&&A!==""){var C=b.getPropertyValue("content"),x=~["Sharp"].indexOf(y[2])?FAMILY_SHARP:FAMILY_CLASSIC,E=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(y[2])?STYLE_TO_PREFIX[x][y[2].toLowerCase()]:FONT_WEIGHT_TO_PREFIX[x][S],k=hexValueFromContent(C),T=k.value,I=k.isSecondary,M=y[0].startsWith("FontAwesome"),j=byUnicode(E,T),P=j;if(M){var O=byOldUnicode(T);O.iconName&&O.prefix&&(j=O.iconName,E=O.prefix)}if(j&&!I&&(!g||g.getAttribute(DATA_PREFIX)!==E||g.getAttribute(DATA_ICON)!==P)){f.setAttribute(u,P),g&&f.removeChild(g);var N=blankMeta(),D=N.extra;D.attributes[DATA_FA_PSEUDO_ELEMENT]=l,findIcon(j,E).then(function(L){var R=makeInlineSvgAbstract(_objectSpread2(_objectSpread2({},N),{},{icons:{main:L,mask:emptyCanonicalIcon()},prefix:E,iconName:P,extra:D,watchable:!0})),G=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");l==="::before"?f.insertBefore(G,f.firstChild):f.appendChild(G),G.outerHTML=R.map(function(Z){return toHtml(Z)}).join(`
`),f.removeAttribute(u),c()}).catch(m)}else c()}else c()})}function replace(f){return Promise.all([replaceForPosition(f,"::before"),replaceForPosition(f,"::after")])}function processable(f){return f.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(f.tagName.toUpperCase())&&!f.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!f.parentNode||f.parentNode.tagName!=="svg")}function searchPseudoElements(f){if(IS_DOM)return new Promise(function(l,u){var c=toArray(f.querySelectorAll("*")).filter(processable).map(replace),m=perf.begin("searchPseudoElements");disableObservation(),Promise.all(c).then(function(){m(),enableObservation(),l()}).catch(function(){m(),enableObservation(),u()})})}var PseudoElements={hooks:function f(){return{mutationObserverCallbacks:function(u){return u.pseudoElementsCallback=searchPseudoElements,u}}},provides:function f(l){l.pseudoElements2svg=function(u){var c=u.node,m=c===void 0?DOCUMENT:c;config.searchPseudoElements&&searchPseudoElements(m)}}},_unwatched=!1,MutationObserver$1={mixout:function f(){return{dom:{unwatch:function(){disableObservation(),_unwatched=!0}}}},hooks:function f(){return{bootstrap:function(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto:function(){disconnect()},watch:function(u){var c=u.observeMutationsRoot;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:c}))}}}},parseTransformString=function f(l){var u={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return l.toLowerCase().split(" ").reduce(function(c,m){var _=m.toLowerCase().split("-"),g=_[0],b=_.slice(1).join("-");if(g&&b==="h")return c.flipX=!0,c;if(g&&b==="v")return c.flipY=!0,c;if(b=parseFloat(b),isNaN(b))return c;switch(g){case"grow":c.size=c.size+b;break;case"shrink":c.size=c.size-b;break;case"left":c.x=c.x-b;break;case"right":c.x=c.x+b;break;case"up":c.y=c.y-b;break;case"down":c.y=c.y+b;break;case"rotate":c.rotate=c.rotate+b;break}return c},u)},PowerTransforms={mixout:function f(){return{parse:{transform:function(u){return parseTransformString(u)}}}},hooks:function f(){return{parseNodeAttributes:function(u,c){var m=c.getAttribute("data-fa-transform");return m&&(u.transform=parseTransformString(m)),u}}},provides:function f(l){l.generateAbstractTransformGrouping=function(u){var c=u.main,m=u.transform,_=u.containerWidth,g=u.iconWidth,b={transform:"translate(".concat(_/2," 256)")},y="translate(".concat(m.x*32,", ").concat(m.y*32,") "),S="scale(".concat(m.size/16*(m.flipX?-1:1),", ").concat(m.size/16*(m.flipY?-1:1),") "),A="rotate(".concat(m.rotate," 0 0)"),C={transform:"".concat(y," ").concat(S," ").concat(A)},x={transform:"translate(".concat(g/2*-1," -256)")},E={outer:b,inner:C,path:x};return{tag:"g",attributes:_objectSpread2({},E.outer),children:[{tag:"g",attributes:_objectSpread2({},E.inner),children:[{tag:c.icon.tag,children:c.icon.children,attributes:_objectSpread2(_objectSpread2({},c.icon.attributes),E.path)}]}]}}}},ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return f.attributes&&(f.attributes.fill||l)&&(f.attributes.fill="black"),f}function deGroup(f){return f.tag==="g"?f.children:[f]}var Masks={hooks:function f(){return{parseNodeAttributes:function(u,c){var m=c.getAttribute("data-fa-mask"),_=m?getCanonicalIcon(m.split(" ").map(function(g){return g.trim()})):emptyCanonicalIcon();return _.prefix||(_.prefix=getDefaultUsablePrefix()),u.mask=_,u.maskId=c.getAttribute("data-fa-mask-id"),u}}},provides:function f(l){l.generateAbstractMask=function(u){var c=u.children,m=u.attributes,_=u.main,g=u.mask,b=u.maskId,y=u.transform,S=_.width,A=_.icon,C=g.width,x=g.icon,E=transformForSvg({transform:y,containerWidth:C,iconWidth:S}),k={tag:"rect",attributes:_objectSpread2(_objectSpread2({},ALL_SPACE),{},{fill:"white"})},T=A.children?{children:A.children.map(fillBlack)}:{},I={tag:"g",attributes:_objectSpread2({},E.inner),children:[fillBlack(_objectSpread2({tag:A.tag,attributes:_objectSpread2(_objectSpread2({},A.attributes),E.path)},T))]},M={tag:"g",attributes:_objectSpread2({},E.outer),children:[I]},j="mask-".concat(b||nextUniqueId()),P="clip-".concat(b||nextUniqueId()),O={tag:"mask",attributes:_objectSpread2(_objectSpread2({},ALL_SPACE),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[k,M]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:P},children:deGroup(x)},O]};return c.push(N,{tag:"rect",attributes:_objectSpread2({fill:"currentColor","clip-path":"url(#".concat(P,")"),mask:"url(#".concat(j,")")},ALL_SPACE)}),{children:c,attributes:m}}}},MissingIconIndicator={provides:function f(l){var u=!1;WINDOW.matchMedia&&(u=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),l.missingIconAbstract=function(){var c=[],m={fill:"currentColor"},_={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};c.push({tag:"path",attributes:_objectSpread2(_objectSpread2({},m),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var g=_objectSpread2(_objectSpread2({},_),{},{attributeName:"opacity"}),b={tag:"circle",attributes:_objectSpread2(_objectSpread2({},m),{},{cx:"256",cy:"364",r:"28"}),children:[]};return u||b.children.push({tag:"animate",attributes:_objectSpread2(_objectSpread2({},_),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2(_objectSpread2({},g),{},{values:"1;0;1;1;0;1;"})}),c.push(b),c.push({tag:"path",attributes:_objectSpread2(_objectSpread2({},m),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:u?[]:[{tag:"animate",attributes:_objectSpread2(_objectSpread2({},g),{},{values:"1;0;0;0;0;1;"})}]}),u||c.push({tag:"path",attributes:_objectSpread2(_objectSpread2({},m),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2(_objectSpread2({},g),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:c}}}},SvgSymbols={hooks:function f(){return{parseNodeAttributes:function(u,c){var m=c.getAttribute("data-fa-symbol"),_=m===null?!1:m===""?!0:m;return u.symbol=_,u}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;var library$1=api.library;api.dom;var parse$1=api.parse,findIconDefinition$1=api.findIconDefinition;api.toHtml;var icon=api.icon;api.layer;api.text;api.counter;function normalizeIconArgs(f){if(f===null||typeof f=="object"&&f.prefix&&f.iconName)return f;if(Array.isArray(f)&&f.length===2){const[l,u]=f;return{prefix:l,iconName:u}}if(typeof f=="string")return{prefix:"fas",iconName:f}}function create_fragment$y(f){let l,u;return{c(){l=new HtmlTagHydration(!1),u=empty$1(),this.h()},l(c){l=claim_html_tag(c,!1),u=empty$1(),this.h()},h(){l.a=u},m(c,m){l.m(f[0],c,m),insert_hydration(c,u,m)},p(c,[m]){m&1&&l.p(c[0])},i:noop$3,o:noop$3,d(c){c&&detach(u),c&&l.d()}}}function instance$w(f,l,u){let c,m,{border:_=!1}=l,{fixedWidth:g=!1}=l,{flip:b=null}=l,{icon:y=null}=l,{mask:S=null}=l,{listItem:A=!1}=l,{pull:C=null}=l,{pulse:x=!1}=l,{rotation:E=null}=l,{swapOpacity:k=!1}=l,{size:T=null}=l,{spin:I=!1}=l,{transform:M={}}=l,{symbol:j=!1}=l,{title:P=null}=l,{inverse:O=!1}=l,N="";return beforeUpdate(()=>{const D=normalizeIconArgs(y);if(!D)return;const L=findIconDefinition$1(D),R=icon(L||y,{symbol:j,title:P,styles:l.style?m:{},classes:[...Object.keys(c).map(G=>c[G]?G:null).filter(G=>!!G),(l.class||"").split(" ")],transform:{...typeof M=="string"?parse$1.transform(M):M},mask:normalizeIconArgs(S)});if(!R){console.warn("Could not find one or more icon(s)",L||y,S);return}u(0,N=R.html)}),f.$$set=D=>{u(19,l=assign(assign({},l),exclude_internal_props(D))),"border"in D&&u(1,_=D.border),"fixedWidth"in D&&u(2,g=D.fixedWidth),"flip"in D&&u(3,b=D.flip),"icon"in D&&u(4,y=D.icon),"mask"in D&&u(5,S=D.mask),"listItem"in D&&u(6,A=D.listItem),"pull"in D&&u(7,C=D.pull),"pulse"in D&&u(8,x=D.pulse),"rotation"in D&&u(9,E=D.rotation),"swapOpacity"in D&&u(10,k=D.swapOpacity),"size"in D&&u(11,T=D.size),"spin"in D&&u(12,I=D.spin),"transform"in D&&u(13,M=D.transform),"symbol"in D&&u(14,j=D.symbol),"title"in D&&u(15,P=D.title),"inverse"in D&&u(16,O=D.inverse)},f.$$.update=()=>{f.$$.dirty&73678&&(c={"fa-spin":I,"fa-pulse":x,"fa-fw":g,"fa-border":_,"fa-li":A,"fa-inverse":O,"fa-flip-horizontal":["both","horizontal"].includes(b),"fa-flip-vertical":["both","vertical"].includes(b),[`fa-${T}`]:T!==null,[`fa-rotate-${E}`]:E!==null,[`fa-pull-${C}`]:C!==null,"fa-swap-opacity":k}),m=(l.style||"").split(";").filter(D=>!!D).map(D=>D.split(":").map(L=>L.trim())).reduce((D,L)=>{const[R,G]=L;return D[R]=G,D},{})},l=exclude_internal_props(l),[N,_,g,b,y,S,A,C,x,E,k,T,I,M,j,P,O]}class FontAwesomeIcon extends SvelteComponent{constructor(l){super(),init(this,l,instance$w,create_fragment$y,safe_not_equal,{border:1,fixedWidth:2,flip:3,icon:4,mask:5,listItem:6,pull:7,pulse:8,rotation:9,swapOpacity:10,size:11,spin:12,transform:13,symbol:14,title:15,inverse:16})}}var faCompress={prefix:"fas",iconName:"compress",icon:[448,512,[],"f066","M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"]},faFaceSmileWink={prefix:"fas",iconName:"face-smile-wink",icon:[512,512,[128521,"smile-wink"],"f4da","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM164.1 325.5C182 346.2 212.6 368 256 368s74-21.8 91.9-42.5c5.8-6.7 15.9-7.4 22.6-1.6s7.4 15.9 1.6 22.6C349.8 372.1 311.1 400 256 400s-93.8-27.9-116.1-53.5c-5.8-6.7-5.1-16.8 1.6-22.6s16.8-5.1 22.6 1.6zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm156.4 25.6c-5.3 7.1-15.3 8.5-22.4 3.2s-8.5-15.3-3.2-22.4c30.4-40.5 91.2-40.5 121.6 0c5.3 7.1 3.9 17.1-3.2 22.4s-17.1 3.9-22.4-3.2c-17.6-23.5-52.8-23.5-70.4 0z"]},faSmileWink=faFaceSmileWink,faCircle={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},faSignal={prefix:"fas",iconName:"signal",icon:[640,512,[128246,"signal-5","signal-perfect"],"f012","M576 0c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V32c0-17.7 14.3-32 32-32zM448 96c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V128c0-17.7 14.3-32 32-32zM352 224V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V224c0-17.7 14.3-32 32-32s32 14.3 32 32zM192 288c17.7 0 32 14.3 32 32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320c0-17.7 14.3-32 32-32zM96 416v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V416c0-17.7 14.3-32 32-32s32 14.3 32 32z"]},faFloppyDisk={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 288a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"]},faBraille={prefix:"fas",iconName:"braille",icon:[640,512,[],"f2a1","M0 96a64 64 0 1 1 128 0A64 64 0 1 1 0 96zM224 272a16 16 0 1 0 0-32 16 16 0 1 0 0 32zm0-80a64 64 0 1 1 0 128 64 64 0 1 1 0-128zM80 416a16 16 0 1 0 -32 0 16 16 0 1 0 32 0zM0 416a64 64 0 1 1 128 0A64 64 0 1 1 0 416zm240 0a16 16 0 1 0 -32 0 16 16 0 1 0 32 0zm-80 0a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM64 192a64 64 0 1 1 0 128 64 64 0 1 1 0-128zM224 32a64 64 0 1 1 0 128 64 64 0 1 1 0-128zM352 96a64 64 0 1 1 128 0A64 64 0 1 1 352 96zm240 0a16 16 0 1 0 -32 0 16 16 0 1 0 32 0zm-80 0a64 64 0 1 1 128 0A64 64 0 1 1 512 96zm64 176a16 16 0 1 0 0-32 16 16 0 1 0 0 32zm0-80a64 64 0 1 1 0 128 64 64 0 1 1 0-128zm16 224a16 16 0 1 0 -32 0 16 16 0 1 0 32 0zm-80 0a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM416 272a16 16 0 1 0 0-32 16 16 0 1 0 0 32zm0-80a64 64 0 1 1 0 128 64 64 0 1 1 0-128zm16 224a16 16 0 1 0 -32 0 16 16 0 1 0 32 0zm-80 0a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z"]},faNetworkWired={prefix:"fas",iconName:"network-wired",icon:[640,512,[],"f6ff","M256 64H384v64H256V64zM240 0c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48h48v32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96v32H80c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H240c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H192V288H448v32H400c-26.5 0-48 21.5-48 48v96c0 26.5 21.5 48 48 48H560c26.5 0 48-21.5 48-48V368c0-26.5-21.5-48-48-48H512V288h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V192h48c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48H240zM96 448V384H224v64H96zm320-64H544v64H416V384z"]},faCompactDisc={prefix:"fas",iconName:"compact-disc",icon:[512,512,[128191,128192,128440],"f51f","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 32a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm-96-32a96 96 0 1 0 192 0 96 96 0 1 0 -192 0zM96 240c0-35 17.5-71.1 45.2-98.8S205 96 240 96c8.8 0 16-7.2 16-16s-7.2-16-16-16c-45.4 0-89.2 22.3-121.5 54.5S64 194.6 64 240c0 8.8 7.2 16 16 16s16-7.2 16-16z"]},faExpand={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"]},faChevronLeft={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},faChevronRight={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]};const Presets_svelte_svelte_type_style_lang="";function create_fragment$x(f){let l,u,c,m,_,g,b,y,S,A,C,x,E,k,T,I;return c=new FontAwesomeIcon({props:{icon:faChevronLeft}}),A=new FontAwesomeIcon({props:{icon:faFloppyDisk}}),E=new FontAwesomeIcon({props:{icon:faChevronRight}}),{c(){l=element("div"),u=element("button"),create_component(c.$$.fragment),m=space(),_=element("span"),g=element("input"),y=space(),S=element("button"),create_component(A.$$.fragment),C=space(),x=element("button"),create_component(E.$$.fragment),this.h()},l(M){l=claim_element(M,"DIV",{class:!0});var j=children(l);u=claim_element(j,"BUTTON",{class:!0});var P=children(u);claim_component(c.$$.fragment,P),P.forEach(detach),m=claim_space(j),_=claim_element(j,"SPAN",{class:!0});var O=children(_);g=claim_element(O,"INPUT",{type:!0,class:!0}),O.forEach(detach),y=claim_space(j),S=claim_element(j,"BUTTON",{class:!0});var N=children(S);claim_component(A.$$.fragment,N),N.forEach(detach),C=claim_space(j),x=claim_element(j,"BUTTON",{class:!0});var D=children(x);claim_component(E.$$.fragment,D),D.forEach(detach),j.forEach(detach),this.h()},h(){attr(u,"class","presets__chevron svelte-1yin61c"),attr(g,"type","text"),attr(g,"class",b=null_to_empty(`presets__input ${f[1][f[0]]?"":"presets__input--inactive"}`)+" svelte-1yin61c"),attr(_,"class","presets__input svelte-1yin61c"),attr(S,"class","presets__store svelte-1yin61c"),attr(x,"class","presets__chevron svelte-1yin61c"),attr(l,"class","presets svelte-1yin61c")},m(M,j){insert_hydration(M,l,j),append_hydration(l,u),mount_component(c,u,null),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g),set_input_value(g,f[0]),append_hydration(l,y),append_hydration(l,S),mount_component(A,S,null),append_hydration(l,C),append_hydration(l,x),mount_component(E,x,null),k=!0,T||(I=[listen(u,"click",f[3]),listen(g,"input",f[5]),listen(g,"change",f[4]),listen(S,"click",f[6]),listen(x,"click",f[2])],T=!0)},p(M,[j]){(!k||j&3&&b!==(b=null_to_empty(`presets__input ${M[1][M[0]]?"":"presets__input--inactive"}`)+" svelte-1yin61c"))&&attr(g,"class",b),j&1&&g.value!==M[0]&&set_input_value(g,M[0])},i(M){k||(transition_in(c.$$.fragment,M),transition_in(A.$$.fragment,M),transition_in(E.$$.fragment,M),k=!0)},o(M){transition_out(c.$$.fragment,M),transition_out(A.$$.fragment,M),transition_out(E.$$.fragment,M),k=!1},d(M){M&&detach(l),destroy_component(c),destroy_component(A),destroy_component(E),T=!1,run_all(I)}}}function instance$v(f,l,u){let c,m,_;component_subscribe(f,activePreset,x=>u(0,c=x)),component_subscribe(f,presetKeys,x=>u(8,m=x)),component_subscribe(f,presets,x=>u(1,_=x)),library$1.add(faChevronLeft,faChevronRight,faFloppyDisk);let g=c;const b=()=>{const x=m.indexOf(c);activePreset.set(m[(x+1)%m.length]),g=c},y=()=>{const x=m.indexOf(c),E=m.length;activePreset.set(m[(x-1+E)%E]),x>0&&activePreset.set(m[x-1]),g=c},S=x=>{var k;const E=(k=x.target)==null?void 0:k.value;E&&presets.update(T=>{const I={...T};return I[E]=I[g],delete I[g],g=c,I})};function A(){c=this.value,activePreset.set(c)}return[c,_,b,y,S,A,()=>savePreset(c)]}class Presets extends SvelteComponent{constructor(l){super(),init(this,l,instance$v,create_fragment$x,safe_not_equal,{})}}const RangeSlider_svelte_svelte_type_style_lang="";function create_fragment$w(f){let l,u,c=f[0].toLocaleString("fullwide",{maximumFractionDigits:2})+"",m,_,g,b,y,S,A,C,x,E,k,T=f[1].toLocaleString("fullwide",{maximumFractionDigits:2})+"",I,M,j,P;return{c(){l=element("div"),u=element("span"),m=text(c),_=text(f[5]),g=space(),b=element("div"),y=element("input"),S=space(),A=element("input"),C=space(),x=element("input"),E=space(),k=element("span"),I=text(T),M=text(f[5]),this.h()},l(O){l=claim_element(O,"DIV",{class:!0});var N=children(l);u=claim_element(N,"SPAN",{class:!0});var D=children(u);m=claim_text(D,c),_=claim_text(D,f[5]),D.forEach(detach),g=claim_space(N),b=claim_element(N,"DIV",{class:!0});var L=children(b);y=claim_element(L,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),S=claim_space(L),A=claim_element(L,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),C=claim_space(L),x=claim_element(L,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),L.forEach(detach),E=claim_space(N),k=claim_element(N,"SPAN",{class:!0});var R=children(k);I=claim_text(R,T),M=claim_text(R,f[5]),R.forEach(detach),N.forEach(detach),this.h()},h(){attr(u,"class"," svelte-1sqoubi"),attr(y,"class","min svelte-1sqoubi"),attr(y,"type","range"),attr(y,"min",f[2]),attr(y,"max",f[3]),attr(y,"step",f[4]),attr(A,"class","track svelte-1sqoubi"),attr(A,"type","range"),attr(A,"min",f[2]),attr(A,"max",f[3]),attr(A,"step",f[4]),A.value=f[6],A.disabled=!0,attr(x,"class","max svelte-1sqoubi"),attr(x,"type","range"),attr(x,"min",f[2]),attr(x,"max",f[3]),attr(x,"step",f[4]),attr(b,"class","slider svelte-1sqoubi"),attr(k,"class"," svelte-1sqoubi"),attr(l,"class","range-slider svelte-1sqoubi")},m(O,N){insert_hydration(O,l,N),append_hydration(l,u),append_hydration(u,m),append_hydration(u,_),append_hydration(l,g),append_hydration(l,b),append_hydration(b,y),set_input_value(y,f[0]),append_hydration(b,S),append_hydration(b,A),append_hydration(b,C),append_hydration(b,x),set_input_value(x,f[1]),append_hydration(l,E),append_hydration(l,k),append_hydration(k,I),append_hydration(k,M),j||(P=[listen(y,"change",f[7]),listen(y,"input",f[7]),listen(x,"change",f[8]),listen(x,"input",f[8])],j=!0)},p(O,[N]){N&1&&c!==(c=O[0].toLocaleString("fullwide",{maximumFractionDigits:2})+"")&&set_data(m,c),N&32&&set_data(_,O[5]),N&4&&attr(y,"min",O[2]),N&8&&attr(y,"max",O[3]),N&16&&attr(y,"step",O[4]),N&1&&set_input_value(y,O[0]),N&4&&attr(A,"min",O[2]),N&8&&attr(A,"max",O[3]),N&16&&attr(A,"step",O[4]),N&64&&(A.value=O[6]),N&4&&attr(x,"min",O[2]),N&8&&attr(x,"max",O[3]),N&16&&attr(x,"step",O[4]),N&2&&set_input_value(x,O[1]),N&2&&T!==(T=O[1].toLocaleString("fullwide",{maximumFractionDigits:2})+"")&&set_data(I,T),N&32&&set_data(M,O[5])},i:noop$3,o:noop$3,d(O){O&&detach(l),j=!1,run_all(P)}}}function instance$u(f,l,u){let{min:c=0}=l,{max:m=1}=l,{step:_=.01}=l,{units:g="%"}=l,{rangeA:b=0}=l,{rangeB:y=1}=l,{value:S=.5}=l;function A(){b=to_number(this.value),u(0,b)}function C(){y=to_number(this.value),u(1,y)}return f.$$set=x=>{"min"in x&&u(2,c=x.min),"max"in x&&u(3,m=x.max),"step"in x&&u(4,_=x.step),"units"in x&&u(5,g=x.units),"rangeA"in x&&u(0,b=x.rangeA),"rangeB"in x&&u(1,y=x.rangeB),"value"in x&&u(6,S=x.value)},[b,y,c,m,_,g,S,A,C]}class RangeSlider extends SvelteComponent{constructor(l){super(),init(this,l,instance$u,create_fragment$w,safe_not_equal,{min:2,max:3,step:4,units:5,rangeA:0,rangeB:1,value:6})}}const Buttons_svelte_svelte_type_style_lang="";function get_each_context$a(f,l,u){const c=f.slice();return c[7]=l[u],c[9]=u,c}function create_each_block$a(f,l){let u,c=".",m,_,g;function b(){return l[5](l[7])}function y(...S){return l[6](l[7],...S)}return{key:f,first:null,c(){u=element("button"),m=text(c),this.h()},l(S){u=claim_element(S,"BUTTON",{style:!0,class:!0});var A=children(u);m=claim_text(A,c),A.forEach(detach),this.h()},h(){set_style(u,"background-color",l[4][l[9]%3]),attr(u,"class","svelte-12zydf2"),toggle_class(u,"active",l[3].some(y)),this.first=u},m(S,A){insert_hydration(S,u,A),append_hydration(u,m),_||(g=listen(u,"click",b),_=!0)},p(S,A){l=S,A&2&&set_style(u,"background-color",l[4][l[9]%3]),A&11&&toggle_class(u,"active",l[3].some(y))},d(S){S&&detach(u),_=!1,g()}}}function create_fragment$v(f){let l,u=[],c=new Map,m=f[1];const _=g=>g[7];for(let g=0;g<m.length;g+=1){let b=get_each_context$a(f,m,g),y=_(b);c.set(y,u[g]=create_each_block$a(y,b))}return{c(){l=element("div");for(let g=0;g<u.length;g+=1)u[g].c();this.h()},l(g){l=claim_element(g,"DIV",{class:!0});var b=children(l);for(let y=0;y<u.length;y+=1)u[y].l(b);b.forEach(detach),this.h()},h(){attr(l,"class","buttons svelte-12zydf2")},m(g,b){insert_hydration(g,l,b);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(l,null)},p(g,[b]){b&31&&(m=g[1],u=update_keyed_each(u,b,_,1,g,m,c,l,destroy_block,create_each_block$a,null,get_each_context$a))},i:noop$3,o:noop$3,d(g){g&&detach(l);for(let b=0;b<u.length;b+=1)u[b].d()}}}function instance$t(f,l,u){let c,m;component_subscribe(f,sockets,A=>u(2,c=A)),component_subscribe(f,connections,A=>u(3,m=A));let{id:_}=l,{options:g}=l;const b=["#00A399","#E5007F","#FF695A"],y=A=>connectSockets(c[A],c[_]),S=(A,C)=>C.includes(_)&&C.includes(A);return f.$$set=A=>{"id"in A&&u(0,_=A.id),"options"in A&&u(1,g=A.options)},[_,g,c,m,b,y,S]}class Buttons extends SvelteComponent{constructor(l){super(),init(this,l,instance$t,create_fragment$v,safe_not_equal,{id:0,options:1})}}const Parameters_svelte_svelte_type_style_lang="";function get_each_context$9(f,l,u){const c=f.slice();return c[18]=l[u].name,c[19]=l[u].min,c[20]=l[u].max,c[21]=l[u].step,c[22]=l[u].units,c[23]=l[u].key,c[24]=l[u].rangeA,c[25]=l[u].rangeB,c[26]=l,c[27]=u,c}function get_each_context_1$3(f,l,u){const c=f.slice();return c[18]=l[u].name,c[19]=l[u].min,c[20]=l[u].max,c[21]=l[u].step,c[22]=l[u].units,c[23]=l[u].key,c[24]=l[u].rangeA,c[25]=l[u].rangeB,c[28]=l,c[29]=u,c}function get_each_context_2$1(f,l,u){const c=f.slice();return c[18]=l[u].name,c[19]=l[u].min,c[20]=l[u].max,c[21]=l[u].step,c[22]=l[u].units,c[23]=l[u].key,c[24]=l[u].rangeA,c[25]=l[u].rangeB,c[30]=l,c[31]=u,c}function create_else_block_2(f){let l,u;return l=new Buttons({props:{id:f[23],options:f[6]}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m[0]&6&&(_.id=c[23]),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_if_block_2$6(f){let l,u;return l=new Socket({props:{id:f[23],type:"origin",align:"right"}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m[0]&6&&(_.id=c[23]),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_each_block_2$1(f,l){let u,c,m=l[18]+"",_,g,b,y,S,A,C,x,E,k;function T(N){l[9](N,l[24],l[30],l[31])}function I(N){l[10](N,l[25],l[30],l[31])}let M={min:l[19],max:l[20],step:l[21],units:l[22],value:l[3][l[23]]};l[24]!==void 0&&(M.rangeA=l[24]),l[25]!==void 0&&(M.rangeB=l[25]),b=new RangeSlider({props:M}),binding_callbacks.push(()=>bind(b,"rangeA",T)),binding_callbacks.push(()=>bind(b,"rangeB",I));const j=[create_if_block_2$6,create_else_block_2],P=[];function O(N,D){return N[0]?0:1}return C=O(l),x=P[C]=j[C](l),{key:f,first:null,c(){u=element("div"),c=element("h3"),_=text(m),g=space(),create_component(b.$$.fragment),A=space(),x.c(),E=space(),this.h()},l(N){u=claim_element(N,"DIV",{class:!0});var D=children(u);c=claim_element(D,"H3",{class:!0});var L=children(c);_=claim_text(L,m),L.forEach(detach),g=claim_space(D),claim_component(b.$$.fragment,D),A=claim_space(D),x.l(D),E=claim_space(D),D.forEach(detach),this.h()},h(){attr(c,"class","svelte-7frecj"),attr(u,"class","parameter svelte-7frecj"),this.first=u},m(N,D){insert_hydration(N,u,D),append_hydration(u,c),append_hydration(c,_),append_hydration(u,g),mount_component(b,u,null),append_hydration(u,A),P[C].m(u,null),append_hydration(u,E),k=!0},p(N,D){l=N,(!k||D[0]&6)&&m!==(m=l[18]+"")&&set_data(_,m);const L={};D[0]&6&&(L.min=l[19]),D[0]&6&&(L.max=l[20]),D[0]&6&&(L.step=l[21]),D[0]&6&&(L.units=l[22]),D[0]&14&&(L.value=l[3][l[23]]),!y&&D[0]&6&&(y=!0,L.rangeA=l[24],add_flush_callback(()=>y=!1)),!S&&D[0]&6&&(S=!0,L.rangeB=l[25],add_flush_callback(()=>S=!1)),b.$set(L);let R=C;C=O(l),C===R?P[C].p(l,D):(group_outros(),transition_out(P[R],1,1,()=>{P[R]=null}),check_outros(),x=P[C],x?x.p(l,D):(x=P[C]=j[C](l),x.c()),transition_in(x,1),x.m(u,E))},i(N){k||(transition_in(b.$$.fragment,N),transition_in(x),k=!0)},o(N){transition_out(b.$$.fragment,N),transition_out(x),k=!1},d(N){N&&detach(u),destroy_component(b),P[C].d()}}}function create_else_block_1$1(f){let l,u;return l=new Buttons({props:{id:f[23],options:f[6]}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m[0]&16&&(_.id=c[23]),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_if_block_1$9(f){let l,u;return l=new Socket({props:{id:f[23],type:"origin",align:"right"}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m[0]&16&&(_.id=c[23]),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_each_block_1$3(f,l){let u,c,m=l[18]+"",_,g,b,y,S,A,C,x,E,k;function T(N){l[12](N,l[24],l[28],l[29])}function I(N){l[13](N,l[25],l[28],l[29])}let M={min:l[19],max:l[20],step:l[21],units:l[22],value:l[3][l[23]]};l[24]!==void 0&&(M.rangeA=l[24]),l[25]!==void 0&&(M.rangeB=l[25]),b=new RangeSlider({props:M}),binding_callbacks.push(()=>bind(b,"rangeA",T)),binding_callbacks.push(()=>bind(b,"rangeB",I));const j=[create_if_block_1$9,create_else_block_1$1],P=[];function O(N,D){return N[0]?0:1}return C=O(l),x=P[C]=j[C](l),{key:f,first:null,c(){u=element("div"),c=element("h3"),_=text(m),g=space(),create_component(b.$$.fragment),A=space(),x.c(),E=space(),this.h()},l(N){u=claim_element(N,"DIV",{class:!0});var D=children(u);c=claim_element(D,"H3",{class:!0});var L=children(c);_=claim_text(L,m),L.forEach(detach),g=claim_space(D),claim_component(b.$$.fragment,D),A=claim_space(D),x.l(D),E=claim_space(D),D.forEach(detach),this.h()},h(){attr(c,"class","svelte-7frecj"),attr(u,"class","parameter svelte-7frecj"),this.first=u},m(N,D){insert_hydration(N,u,D),append_hydration(u,c),append_hydration(c,_),append_hydration(u,g),mount_component(b,u,null),append_hydration(u,A),P[C].m(u,null),append_hydration(u,E),k=!0},p(N,D){l=N,(!k||D[0]&16)&&m!==(m=l[18]+"")&&set_data(_,m);const L={};D[0]&16&&(L.min=l[19]),D[0]&16&&(L.max=l[20]),D[0]&16&&(L.step=l[21]),D[0]&16&&(L.units=l[22]),D[0]&24&&(L.value=l[3][l[23]]),!y&&D[0]&16&&(y=!0,L.rangeA=l[24],add_flush_callback(()=>y=!1)),!S&&D[0]&16&&(S=!0,L.rangeB=l[25],add_flush_callback(()=>S=!1)),b.$set(L);let R=C;C=O(l),C===R?P[C].p(l,D):(group_outros(),transition_out(P[R],1,1,()=>{P[R]=null}),check_outros(),x=P[C],x?x.p(l,D):(x=P[C]=j[C](l),x.c()),transition_in(x,1),x.m(u,E))},i(N){k||(transition_in(b.$$.fragment,N),transition_in(x),k=!0)},o(N){transition_out(b.$$.fragment,N),transition_out(x),k=!1},d(N){N&&detach(u),destroy_component(b),P[C].d()}}}function create_else_block$4(f){let l,u;return l=new Buttons({props:{id:f[23],options:f[6]}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m[0]&32&&(_.id=c[23]),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_if_block$c(f){let l,u;return l=new Socket({props:{id:f[23],type:"origin",align:"right"}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m[0]&32&&(_.id=c[23]),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_each_block$9(f,l){let u,c,m=l[18]+"",_,g,b,y,S,A,C,x,E,k;function T(N){l[15](N,l[24],l[26],l[27])}function I(N){l[16](N,l[25],l[26],l[27])}let M={min:l[19],max:l[20],step:l[21],units:l[22],value:l[3][l[23]]};l[24]!==void 0&&(M.rangeA=l[24]),l[25]!==void 0&&(M.rangeB=l[25]),b=new RangeSlider({props:M}),binding_callbacks.push(()=>bind(b,"rangeA",T)),binding_callbacks.push(()=>bind(b,"rangeB",I));const j=[create_if_block$c,create_else_block$4],P=[];function O(N,D){return N[0]?0:1}return C=O(l),x=P[C]=j[C](l),{key:f,first:null,c(){u=element("div"),c=element("h3"),_=text(m),g=space(),create_component(b.$$.fragment),A=space(),x.c(),E=space(),this.h()},l(N){u=claim_element(N,"DIV",{class:!0});var D=children(u);c=claim_element(D,"H3",{class:!0});var L=children(c);_=claim_text(L,m),L.forEach(detach),g=claim_space(D),claim_component(b.$$.fragment,D),A=claim_space(D),x.l(D),E=claim_space(D),D.forEach(detach),this.h()},h(){attr(c,"class","svelte-7frecj"),attr(u,"class","parameter svelte-7frecj"),this.first=u},m(N,D){insert_hydration(N,u,D),append_hydration(u,c),append_hydration(c,_),append_hydration(u,g),mount_component(b,u,null),append_hydration(u,A),P[C].m(u,null),append_hydration(u,E),k=!0},p(N,D){l=N,(!k||D[0]&32)&&m!==(m=l[18]+"")&&set_data(_,m);const L={};D[0]&32&&(L.min=l[19]),D[0]&32&&(L.max=l[20]),D[0]&32&&(L.step=l[21]),D[0]&32&&(L.units=l[22]),D[0]&40&&(L.value=l[3][l[23]]),!y&&D[0]&32&&(y=!0,L.rangeA=l[24],add_flush_callback(()=>y=!1)),!S&&D[0]&32&&(S=!0,L.rangeB=l[25],add_flush_callback(()=>S=!1)),b.$set(L);let R=C;C=O(l),C===R?P[C].p(l,D):(group_outros(),transition_out(P[R],1,1,()=>{P[R]=null}),check_outros(),x=P[C],x?x.p(l,D):(x=P[C]=j[C](l),x.c()),transition_in(x,1),x.m(u,E))},i(N){k||(transition_in(b.$$.fragment,N),transition_in(x),k=!0)},o(N){transition_out(b.$$.fragment,N),transition_out(x),k=!1},d(N){N&&detach(u),destroy_component(b),P[C].d()}}}function create_fragment$u(f){let l,u,c,m,_,g=[],b=new Map,y,S,A,C,x,E,k=[],T=new Map,I,M,j,P,O,N,D=[],L=new Map,R,G,Z,B=f[1].filter(f[8]);const J=X=>X[23];for(let X=0;X<B.length;X+=1){let U=get_each_context_2$1(f,B,X),$=J(U);b.set($,g[X]=create_each_block_2$1($,U))}let K=f[4];const ee=X=>X[23];for(let X=0;X<K.length;X+=1){let U=get_each_context_1$3(f,K,X),$=ee(U);T.set($,k[X]=create_each_block_1$3($,U))}let V=f[5];const z=X=>X[23];for(let X=0;X<V.length;X+=1){let U=get_each_context$9(f,V,X),$=z(U);L.set($,D[X]=create_each_block$9($,U))}return{c(){l=element("div"),u=element("button"),c=element("h2"),m=text("Instrument"),_=space();for(let X=0;X<g.length;X+=1)g[X].c();y=space(),S=element("div"),A=element("button"),C=element("h2"),x=text("Global"),E=space();for(let X=0;X<k.length;X+=1)k[X].c();I=space(),M=element("div"),j=element("button"),P=element("h2"),O=text("Effects"),N=space();for(let X=0;X<D.length;X+=1)D[X].c();this.h()},l(X){l=claim_element(X,"DIV",{class:!0});var U=children(l);u=claim_element(U,"BUTTON",{class:!0});var $=children(u);c=claim_element($,"H2",{class:!0});var ae=children(c);m=claim_text(ae,"Instrument"),ae.forEach(detach),$.forEach(detach),_=claim_space(U);for(let he=0;he<g.length;he+=1)g[he].l(U);U.forEach(detach),y=claim_space(X),S=claim_element(X,"DIV",{class:!0});var H=children(S);A=claim_element(H,"BUTTON",{class:!0});var ie=children(A);C=claim_element(ie,"H2",{class:!0});var Y=children(C);x=claim_text(Y,"Global"),Y.forEach(detach),ie.forEach(detach),E=claim_space(H);for(let he=0;he<k.length;he+=1)k[he].l(H);H.forEach(detach),I=claim_space(X),M=claim_element(X,"DIV",{class:!0});var q=children(M);j=claim_element(q,"BUTTON",{class:!0});var ne=children(j);P=claim_element(ne,"H2",{class:!0});var oe=children(P);O=claim_text(oe,"Effects"),oe.forEach(detach),ne.forEach(detach),N=claim_space(q);for(let he=0;he<D.length;he+=1)D[he].l(q);q.forEach(detach),this.h()},h(){attr(c,"class","svelte-7frecj"),attr(u,"class","svelte-7frecj"),attr(l,"class","group svelte-7frecj"),attr(C,"class","svelte-7frecj"),attr(A,"class","svelte-7frecj"),attr(S,"class","group svelte-7frecj"),attr(P,"class","svelte-7frecj"),attr(j,"class","svelte-7frecj"),attr(M,"class","group svelte-7frecj")},m(X,U){insert_hydration(X,l,U),append_hydration(l,u),append_hydration(u,c),append_hydration(c,m),append_hydration(l,_);for(let $=0;$<g.length;$+=1)g[$]&&g[$].m(l,null);insert_hydration(X,y,U),insert_hydration(X,S,U),append_hydration(S,A),append_hydration(A,C),append_hydration(C,x),append_hydration(S,E);for(let $=0;$<k.length;$+=1)k[$]&&k[$].m(S,null);insert_hydration(X,I,U),insert_hydration(X,M,U),append_hydration(M,j),append_hydration(j,P),append_hydration(P,O),append_hydration(M,N);for(let $=0;$<D.length;$+=1)D[$]&&D[$].m(M,null);R=!0,G||(Z=[listen(u,"click",f[7]),listen(A,"click",f[11]),listen(j,"click",f[14])],G=!0)},p(X,U){U[0]&79&&(B=X[1].filter(X[8]),group_outros(),g=update_keyed_each(g,U,J,1,X,B,b,l,outro_and_destroy_block,create_each_block_2$1,null,get_each_context_2$1),check_outros()),U[0]&89&&(K=X[4],group_outros(),k=update_keyed_each(k,U,ee,1,X,K,T,S,outro_and_destroy_block,create_each_block_1$3,null,get_each_context_1$3),check_outros()),U[0]&105&&(V=X[5],group_outros(),D=update_keyed_each(D,U,z,1,X,V,L,M,outro_and_destroy_block,create_each_block$9,null,get_each_context$9),check_outros())},i(X){if(!R){for(let U=0;U<B.length;U+=1)transition_in(g[U]);for(let U=0;U<K.length;U+=1)transition_in(k[U]);for(let U=0;U<V.length;U+=1)transition_in(D[U]);R=!0}},o(X){for(let U=0;U<g.length;U+=1)transition_out(g[U]);for(let U=0;U<k.length;U+=1)transition_out(k[U]);for(let U=0;U<D.length;U+=1)transition_out(D[U]);R=!1},d(X){X&&detach(l);for(let U=0;U<g.length;U+=1)g[U].d();X&&detach(y),X&&detach(S);for(let U=0;U<k.length;U+=1)k[U].d();X&&detach(I),X&&detach(M);for(let U=0;U<D.length;U+=1)D[U].d();G=!1,run_all(Z)}}}function instance$s(f,l,u){let c,m,_,g,b,y;component_subscribe(f,axes,N=>u(17,c=N)),component_subscribe(f,instrumentParameters,N=>u(1,m=N)),component_subscribe(f,keys,N=>u(2,_=N)),component_subscribe(f,paramValues,N=>u(3,g=N)),component_subscribe(f,globalParameters,N=>u(4,b=N)),component_subscribe(f,fxParameters,N=>u(5,y=N));let{showSockets:S=!0}=l,A=c.map(({key:N})=>N);const C=()=>randomise("inst"),x=({key:N})=>_.includes(N);function E(N,D,L,R){L[R].rangeA=N,instrumentParameters.set(m)}function k(N,D,L,R){L[R].rangeB=N,instrumentParameters.set(m)}const T=()=>randomise("global");function I(N,D,L,R){L[R].rangeA=N,globalParameters.set(b)}function M(N,D,L,R){L[R].rangeB=N,globalParameters.set(b)}const j=()=>randomise("fx");function P(N,D,L,R){L[R].rangeA=N,fxParameters.set(y)}function O(N,D,L,R){L[R].rangeB=N,fxParameters.set(y)}return f.$$set=N=>{"showSockets"in N&&u(0,S=N.showSockets)},[S,m,_,g,b,y,A,C,x,E,k,T,I,M,j,P,O]}class Parameters extends SvelteComponent{constructor(l){super(),init(this,l,instance$s,create_fragment$u,safe_not_equal,{showSockets:0},null,[-1,-1])}}class EventEmitter{constructor(l=!1){this.eventMap={},this.eventsSuspended=l==!0}addListener(l,u,c={}){if(typeof l=="string"&&l.length<1||l instanceof String&&l.length<1||typeof l!="string"&&!(l instanceof String)&&l!==EventEmitter.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof u!="function")throw new TypeError("The callback must be a function.");const m=new Listener(l,this,u,c);return this.eventMap[l]||(this.eventMap[l]=[]),c.prepend?this.eventMap[l].unshift(m):this.eventMap[l].push(m),m}addOneTimeListener(l,u,c={}){c.remaining=1,this.addListener(l,u,c)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(l,u){return l===void 0?this.eventMap[EventEmitter.ANY_EVENT]&&this.eventMap[EventEmitter.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,c])=>c.length>0):this.eventMap[l]&&this.eventMap[l].length>0?u instanceof Listener?this.eventMap[l].filter(m=>m===u).length>0:typeof u=="function"?this.eventMap[l].filter(m=>m.callback===u).length>0:u==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(l){return this.eventMap[l]||[]}suspendEvent(l){this.getListeners(l).forEach(u=>{u.suspended=!0})}unsuspendEvent(l){this.getListeners(l).forEach(u=>{u.suspended=!1})}getListenerCount(l){return this.getListeners(l).length}emit(l,...u){if(typeof l!="string"&&!(l instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let c=[],m=this.eventMap[EventEmitter.ANY_EVENT]||[];return this.eventMap[l]&&(m=m.concat(this.eventMap[l])),m.forEach(_=>{if(_.suspended)return;let g=[...u];Array.isArray(_.arguments)&&(g=g.concat(_.arguments)),_.remaining>0&&(c.push(_.callback.apply(_.context,g)),_.count++),--_.remaining<1&&_.remove()}),c}removeListener(l,u,c={}){if(l===void 0){this.eventMap={};return}else if(!this.eventMap[l])return;let m=this.eventMap[l].filter(_=>u&&_.callback!==u||c.remaining&&c.remaining!==_.remaining||c.context&&c.context!==_.context);m.length?this.eventMap[l]=m:delete this.eventMap[l]}async waitFor(l,u={}){return u.duration=parseInt(u.duration),(isNaN(u.duration)||u.duration<=0)&&(u.duration=1/0),new Promise((c,m)=>{let _,g=this.addListener(l,()=>{clearTimeout(_),c()},{remaining:1});u.duration!==1/0&&(_=setTimeout(()=>{g.remove(),m("The duration expired before the event was emitted.")},u.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class Listener{constructor(l,u,c,m={}){if(typeof l!="string"&&!(l instanceof String)&&l!==EventEmitter.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!u)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof c!="function")throw new TypeError("The 'callback' must be a function.");m.arguments!==void 0&&!Array.isArray(m.arguments)&&(m.arguments=[m.arguments]),m=Object.assign({context:u,remaining:1/0,arguments:void 0,duration:1/0},m),m.duration!==1/0&&setTimeout(()=>this.remove(),m.duration),this.arguments=m.arguments,this.callback=c,this.context=m.context,this.count=0,this.event=l,this.remaining=parseInt(m.remaining)>=1?parseInt(m.remaining):1/0,this.suspended=!1,this.target=u}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Enumerations{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),Enumerations.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),Enumerations.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),Enumerations.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),Enumerations.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Note{constructor(l,u={}){this.duration=wm.defaults.note.duration,this.attack=wm.defaults.note.attack,this.release=wm.defaults.note.release,u.duration!=null&&(this.duration=u.duration),u.attack!=null&&(this.attack=u.attack),u.rawAttack!=null&&(this.attack=Utilities.from7bitToFloat(u.rawAttack)),u.release!=null&&(this.release=u.release),u.rawRelease!=null&&(this.release=Utilities.from7bitToFloat(u.rawRelease)),Number.isInteger(l)?this.identifier=Utilities.toNoteIdentifier(l):this.identifier=l}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(l){const u=Utilities.getNoteDetails(l);if(wm.validation&&!l)throw new Error("Invalid note identifier");this._name=u.name,this._accidental=u.accidental,this._octave=u.octave}get name(){return this._name}set name(l){if(wm.validation&&(l=l.toUpperCase(),!["C","D","E","F","G","A","B"].includes(l)))throw new Error("Invalid name value");this._name=l}get accidental(){return this._accidental}set accidental(l){if(wm.validation&&(l=l.toLowerCase(),!["#","##","b","bb"].includes(l)))throw new Error("Invalid accidental value");this._accidental=l}get octave(){return this._octave}set octave(l){if(wm.validation&&(l=parseInt(l),isNaN(l)))throw new Error("Invalid octave value");this._octave=l}get duration(){return this._duration}set duration(l){if(wm.validation&&(l=parseFloat(l),isNaN(l)||l===null||l<0))throw new RangeError("Invalid duration value.");this._duration=l}get attack(){return this._attack}set attack(l){if(wm.validation&&(l=parseFloat(l),isNaN(l)||!(l>=0&&l<=1)))throw new RangeError("Invalid attack value.");this._attack=l}get release(){return this._release}set release(l){if(wm.validation&&(l=parseFloat(l),isNaN(l)||!(l>=0&&l<=1)))throw new RangeError("Invalid release value.");this._release=l}get rawAttack(){return Utilities.fromFloatTo7Bit(this._attack)}set rawAttack(l){this._attack=Utilities.from7bitToFloat(l)}get rawRelease(){return Utilities.fromFloatTo7Bit(this._release)}set rawRelease(l){this._release=Utilities.from7bitToFloat(l)}get number(){return Utilities.toNoteNumber(this.identifier)}getOffsetNumber(l=0,u=0){return wm.validation&&(l=parseInt(l)||0,u=parseInt(u)||0),Math.min(Math.max(this.number+l*12+u,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Utilities{static toNoteNumber(l,u=0){if(u=u==null?0:parseInt(u),isNaN(u))throw new RangeError("Invalid 'octaveOffset' value");typeof l!="string"&&(l="");const c=this.getNoteDetails(l);if(!c)throw new TypeError("Invalid note identifier");const m={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let _=(c.octave+1+u)*12;if(_+=m[c.name],c.accidental&&(c.accidental.startsWith("b")?_-=c.accidental.length:_+=c.accidental.length),_<0||_>127)throw new RangeError("Invalid octaveOffset value");return _}static getNoteDetails(l){Number.isInteger(l)&&(l=this.toNoteIdentifier(l));const u=l.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!u)throw new TypeError("Invalid note identifier");const c=u[1].toUpperCase(),m=parseInt(u[3]);let _=u[2].toLowerCase();return _=_===""?void 0:_,{accidental:_,identifier:c+(_||"")+m,name:c,octave:m}}static sanitizeChannels(l){let u;if(wm.validation){if(l==="all")u=["all"];else if(l==="none")return[]}return Array.isArray(l)?u=l:u=[l],u.indexOf("all")>-1&&(u=Enumerations.MIDI_CHANNEL_NUMBERS),u.map(function(c){return parseInt(c)}).filter(function(c){return c>=1&&c<=16})}static toTimestamp(l){let u=!1;const c=parseFloat(l);return isNaN(c)?!1:(typeof l=="string"&&l.substring(0,1)==="+"?c>=0&&(u=wm.time+c):c>=0&&(u=c),u)}static guessNoteNumber(l,u){u=parseInt(u)||0;let c=!1;if(Number.isInteger(l)&&l>=0&&l<=127)c=parseInt(l);else if(parseInt(l)>=0&&parseInt(l)<=127)c=parseInt(l);else if(typeof l=="string"||l instanceof String)try{c=this.toNoteNumber(l.trim(),u)}catch{return!1}return c}static toNoteIdentifier(l,u){if(l=parseInt(l),isNaN(l)||l<0||l>127)throw new RangeError("Invalid note number");if(u=u==null?0:parseInt(u),isNaN(u))throw new RangeError("Invalid octaveOffset value");const c=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],m=Math.floor(l/12-1)+u;return c[l%12]+m.toString()}static buildNote(l,u={}){if(u.octaveOffset=parseInt(u.octaveOffset)||0,l instanceof Note)return l;let c=this.guessNoteNumber(l,u.octaveOffset);if(c===!1)throw new TypeError(`The input could not be parsed as a note (${l})`);return u.octaveOffset=void 0,new Note(c,u)}static buildNoteArray(l,u={}){let c=[];return Array.isArray(l)||(l=[l]),l.forEach(m=>{c.push(this.buildNote(m,u))}),c}static from7bitToFloat(l){return l===1/0&&(l=127),l=parseInt(l)||0,Math.min(Math.max(l/127,0),1)}static fromFloatTo7Bit(l){return l===1/0&&(l=1),l=parseFloat(l)||0,Math.min(Math.max(Math.round(l*127),0),127)}static fromMsbLsbToFloat(l,u=0){wm.validation&&(l=Math.min(Math.max(parseInt(l)||0,0),127),u=Math.min(Math.max(parseInt(u)||0,0),127));const c=((l<<7)+u)/16383;return Math.min(Math.max(c,0),1)}static fromFloatToMsbLsb(l){wm.validation&&(l=Math.min(Math.max(parseFloat(l)||0,0),1));const u=Math.round(l*16383);return{msb:u>>7,lsb:u&127}}static offsetNumber(l,u=0,c=0){if(wm.validation){if(l=parseInt(l),isNaN(l))throw new Error("Invalid note number");u=parseInt(u)||0,c=parseInt(c)||0}return Math.min(Math.max(l+u*12+c,0),127)}static getPropertyByValue(l,u){return Object.keys(l).find(c=>l[c]===u)}static getCcNameByNumber(l){if(!(wm.validation&&(l=parseInt(l),!(l>=0&&l<=127))))return Enumerations.CONTROL_CHANGE_MESSAGES[l].name}static getCcNumberByName(l){let u=Enumerations.CONTROL_CHANGE_MESSAGES.find(c=>c.name===l);return u?u.number:Enumerations.MIDI_CONTROL_CHANGE_MESSAGES[l]}static getChannelModeByNumber(l){if(!(l>=120&&l<=127))return!1;for(let u in Enumerations.CHANNEL_MODE_MESSAGES)if(Enumerations.CHANNEL_MODE_MESSAGES.hasOwnProperty(u)&&l===Enumerations.CHANNEL_MODE_MESSAGES[u])return u;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class OutputChannel extends EventEmitter{constructor(l,u){super(),this._output=l,this._number=u,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(l,u={time:0}){return this.output.send(l,u),this}sendKeyAftertouch(l,u,c={}){if(wm.validation){if(c.useRawValue&&(c.rawValue=c.useRawValue),isNaN(parseFloat(u)))throw new RangeError("Invalid key aftertouch value.");if(c.rawValue){if(!(u>=0&&u<=127&&Number.isInteger(u)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(u>=0&&u<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}c.rawValue||(u=Utilities.fromFloatTo7Bit(u));const m=wm.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(l)||(l=[l]),Utilities.buildNoteArray(l).forEach(_=>{this.send([(Enumerations.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),_.getOffsetNumber(m),u],{time:Utilities.toTimestamp(c.time)})}),this}sendControlChange(l,u,c={}){if(typeof l=="string"&&(l=Utilities.getCcNumberByName(l)),Array.isArray(u)||(u=[u]),wm.validation){if(l===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(l)||!(l>=0&&l<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(u=u.map(m=>{const _=Math.min(Math.max(parseInt(m),0),127);if(isNaN(_))throw new TypeError("Values must be integers between 0 and 127");return _}),u.length===2&&l>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return u.forEach((m,_)=>{this.send([(Enumerations.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),l+_*32,u[_]],{time:Utilities.toTimestamp(c.time)})}),this}_selectNonRegisteredParameter(l,u={}){return this.sendControlChange(99,l[0],u),this.sendControlChange(98,l[1],u),this}_deselectRegisteredParameter(l={}){return this.sendControlChange(101,127,l),this.sendControlChange(100,127,l),this}_deselectNonRegisteredParameter(l={}){return this.sendControlChange(101,127,l),this.sendControlChange(100,127,l),this}_selectRegisteredParameter(l,u={}){return this.sendControlChange(101,l[0],u),this.sendControlChange(100,l[1],u),this}_setCurrentParameter(l,u={}){return l=[].concat(l),this.sendControlChange(6,l[0],u),l.length<2?this:(this.sendControlChange(38,l[1],u),this)}sendRpnDecrement(l,u={}){if(Array.isArray(l)||(l=Enumerations.REGISTERED_PARAMETERS[l]),wm.validation){if(l===void 0)throw new TypeError("The specified registered parameter is invalid.");let c=!1;if(Object.getOwnPropertyNames(Enumerations.REGISTERED_PARAMETERS).forEach(m=>{Enumerations.REGISTERED_PARAMETERS[m][0]===l[0]&&Enumerations.REGISTERED_PARAMETERS[m][1]===l[1]&&(c=!0)}),!c)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(l,u),this.sendControlChange(97,0,u),this._deselectRegisteredParameter(u),this}sendRpnIncrement(l,u={}){if(Array.isArray(l)||(l=Enumerations.REGISTERED_PARAMETERS[l]),wm.validation){if(l===void 0)throw new TypeError("The specified registered parameter is invalid.");let c=!1;if(Object.getOwnPropertyNames(Enumerations.REGISTERED_PARAMETERS).forEach(m=>{Enumerations.REGISTERED_PARAMETERS[m][0]===l[0]&&Enumerations.REGISTERED_PARAMETERS[m][1]===l[1]&&(c=!0)}),!c)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(l,u),this.sendControlChange(96,0,u),this._deselectRegisteredParameter(u),this}playNote(l,u={}){this.sendNoteOn(l,u);const c=Array.isArray(l)?l:[l];for(let m of c)if(parseInt(m.duration)>0){const _={time:(Utilities.toTimestamp(u.time)||wm.time)+parseInt(m.duration),release:m.release,rawRelease:m.rawRelease};this.sendNoteOff(m,_)}else if(parseInt(u.duration)>0){const _={time:(Utilities.toTimestamp(u.time)||wm.time)+parseInt(u.duration),release:u.release,rawRelease:u.rawRelease};this.sendNoteOff(m,_)}return this}sendNoteOff(l,u={}){if(wm.validation){if(u.rawRelease!=null&&!(u.rawRelease>=0&&u.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(u.release!=null&&!(u.release>=0&&u.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");u.rawVelocity&&(u.rawRelease=u.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),u.velocity&&(u.release=u.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let c=64;u.rawRelease!=null?c=u.rawRelease:isNaN(u.release)||(c=Math.round(u.release*127));const m=wm.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Utilities.buildNoteArray(l,{rawRelease:parseInt(c)}).forEach(_=>{this.send([(Enumerations.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),_.getOffsetNumber(m),_.rawRelease],{time:Utilities.toTimestamp(u.time)})}),this}stopNote(l,u={}){return this.sendNoteOff(l,u)}sendNoteOn(l,u={}){if(wm.validation){if(u.rawAttack!=null&&!(u.rawAttack>=0&&u.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(u.attack!=null&&!(u.attack>=0&&u.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");u.rawVelocity&&(u.rawAttack=u.velocity,u.rawRelease=u.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),u.velocity&&(u.attack=u.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let c=64;u.rawAttack!=null?c=u.rawAttack:isNaN(u.attack)||(c=Math.round(u.attack*127));const m=wm.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Utilities.buildNoteArray(l,{rawAttack:c}).forEach(_=>{this.send([(Enumerations.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),_.getOffsetNumber(m),_.rawAttack],{time:Utilities.toTimestamp(u.time)})}),this}sendChannelMode(l,u=0,c={}){if(typeof l=="string"&&(l=Enumerations.CHANNEL_MODE_MESSAGES[l]),wm.validation){if(l===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(l)||!(l>=120&&l<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(u))||u<0||u>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(Enumerations.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),l,u],{time:Utilities.toTimestamp(c.time)}),this}sendOmniMode(l,u={}){return l===void 0||l?this.sendChannelMode("omnimodeon",0,u):this.sendChannelMode("omnimodeoff",0,u),this}sendChannelAftertouch(l,u={}){if(wm.validation){if(isNaN(parseFloat(l)))throw new RangeError("Invalid channel aftertouch value.");if(u.rawValue){if(!(l>=0&&l<=127&&Number.isInteger(l)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(l>=0&&l<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return this.send([(Enumerations.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(l*127)],{time:Utilities.toTimestamp(u.time)}),this}sendMasterTuning(l,u={}){if(l=parseFloat(l)||0,wm.validation&&!(l>-65&&l<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let c=Math.floor(l)+64,m=l-Math.floor(l);m=Math.round((m+1)/2*16383);let _=m>>7&127,g=m&127;return this.sendRpnValue("channelcoarsetuning",c,u),this.sendRpnValue("channelfinetuning",[_,g],u),this}sendModulationRange(l,u,c={}){if(wm.validation){if(!Number.isInteger(l)||!(l>=0&&l<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(u!=null&&(!Number.isInteger(u)||!(u>=0&&u<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return u>=0&&u<=127||(u=0),this.sendRpnValue("modulationrange",[l,u],c),this}sendNrpnValue(l,u,c={}){if(u=[].concat(u),wm.validation){if(!Array.isArray(l)||!Number.isInteger(l[0])||!Number.isInteger(l[1]))throw new TypeError("The specified NRPN is invalid.");if(!(l[0]>=0&&l[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(l[1]>=0&&l[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");u.forEach(m=>{if(!(m>=0&&m<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(l,c),this._setCurrentParameter(u,c),this._deselectNonRegisteredParameter(c),this}sendPitchBend(l,u={}){if(wm.validation)if(u.rawValue&&Array.isArray(l)){if(!(l[0]>=0&&l[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(l[1]>=0&&l[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(u.rawValue&&!Array.isArray(l)){if(!(l>=0&&l<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(l)||l===null)throw new RangeError("Invalid pitch bend value.");if(!(l>=-1&&l<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let c=0,m=0;if(u.rawValue&&Array.isArray(l))c=l[0],m=l[1];else if(u.rawValue&&!Array.isArray(l))c=l;else{const _=Utilities.fromFloatToMsbLsb((l+1)/2);c=_.msb,m=_.lsb}return this.send([(Enumerations.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),m,c],{time:Utilities.toTimestamp(u.time)}),this}sendPitchBendRange(l,u,c={}){if(wm.validation){if(!Number.isInteger(l)||!(l>=0&&l<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(u)||!(u>=0&&u<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[l,u],c),this}sendProgramChange(l,u={}){if(l=parseInt(l)||0,wm.validation&&!(l>=0&&l<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(Enumerations.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),l],{time:Utilities.toTimestamp(u.time)}),this}sendRpnValue(l,u,c={}){if(Array.isArray(l)||(l=Enumerations.REGISTERED_PARAMETERS[l]),wm.validation){if(!Number.isInteger(l[0])||!Number.isInteger(l[1]))throw new TypeError("The specified NRPN is invalid.");if(!(l[0]>=0&&l[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(l[1]>=0&&l[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(u).forEach(m=>{if(!(m>=0&&m<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(l,c),this._setCurrentParameter(u,c),this._deselectRegisteredParameter(c),this}sendTuningBank(l,u={}){if(wm.validation&&(!Number.isInteger(l)||!(l>=0&&l<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",l,u),this}sendTuningProgram(l,u={}){if(wm.validation&&(!Number.isInteger(l)||!(l>=0&&l<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",l,u),this}sendLocalControl(l,u={}){return l?this.sendChannelMode("localcontrol",127,u):this.sendChannelMode("localcontrol",0,u)}sendAllNotesOff(l={}){return this.sendChannelMode("allnotesoff",0,l)}sendAllSoundOff(l={}){return this.sendChannelMode("allsoundoff",0,l)}sendResetAllControllers(l={}){return this.sendChannelMode("resetallcontrollers",0,l)}sendPolyphonicMode(l,u={}){return l==="mono"?this.sendChannelMode("monomodeon",0,u):this.sendChannelMode("polymodeon",0,u)}get octaveOffset(){return this._octaveOffset}set octaveOffset(l){if(this.validation&&(l=parseInt(l),isNaN(l)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=l}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Output extends EventEmitter{constructor(l){super(),this._midiOutput=l,this._octaveOffset=0,this.channels=[];for(let u=1;u<=16;u++)this.channels[u]=new OutputChannel(this,u);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(l=>l.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(l){let u={timestamp:wm.time};l.port.connection==="open"?(u.type="opened",u.target=this,u.port=u.target,this.emit("opened",u)):l.port.connection==="closed"&&l.port.state==="connected"?(u.type="closed",u.target=this,u.port=u.target,this.emit("closed",u)):l.port.connection==="closed"&&l.port.state==="disconnected"?(u.type="disconnected",u.port={connection:l.port.connection,id:l.port.id,manufacturer:l.port.manufacturer,name:l.port.name,state:l.port.state,type:l.port.type},this.emit("disconnected",u)):l.port.connection==="pending"&&l.port.state==="disconnected"||console.warn("This statechange event was not caught:",l.port.connection,l.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(l){return Promise.reject(l)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(l,u={time:0},c=0){if(l instanceof Message&&(l=Utilities.isNode?l.data:l.rawData),l instanceof Uint8Array&&Utilities.isNode&&(l=Array.from(l)),wm.validation){if(!Array.isArray(l)&&!(l instanceof Uint8Array)&&(l=[l],Array.isArray(u)&&(l=l.concat(u)),u=isNaN(c)?{time:0}:{time:c}),!(parseInt(l[0])>=128&&parseInt(l[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");l.slice(1).forEach(m=>{if(m=parseInt(m),!(m>=0&&m<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),u||(u={time:0})}return this._midiOutput.send(l,Utilities.toTimestamp(u.time)),this}sendSysex(l,u=[],c={}){if(l=[].concat(l),u instanceof Uint8Array){const m=new Uint8Array(1+l.length+u.length+1);m[0]=Enumerations.SYSTEM_MESSAGES.sysex,m.set(Uint8Array.from(l),1),m.set(u,1+l.length),m[m.length-1]=Enumerations.SYSTEM_MESSAGES.sysexend,this.send(m,{time:c.time})}else{const m=l.concat(u,Enumerations.SYSTEM_MESSAGES.sysexend);this.send([Enumerations.SYSTEM_MESSAGES.sysex].concat(m),{time:c.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():wm.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(l,u={}){if(wm.validation&&(l=parseInt(l),isNaN(l)||!(l>=0&&l<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([Enumerations.SYSTEM_MESSAGES.timecode,l],{time:u.time}),this}sendSongPosition(l=0,u={}){l=Math.floor(l)||0;var c=l>>7&127,m=l&127;return this.send([Enumerations.SYSTEM_MESSAGES.songposition,c,m],{time:u.time}),this}sendSongSelect(l=0,u={}){if(wm.validation&&(l=parseInt(l),isNaN(l)||!(l>=0&&l<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([Enumerations.SYSTEM_MESSAGES.songselect,l],{time:u.time}),this}sendTuneRequest(l={}){return this.send([Enumerations.SYSTEM_MESSAGES.tunerequest],{time:l.time}),this}sendClock(l={}){return this.send([Enumerations.SYSTEM_MESSAGES.clock],{time:l.time}),this}sendStart(l={}){return this.send([Enumerations.SYSTEM_MESSAGES.start],{time:l.time}),this}sendContinue(l={}){return this.send([Enumerations.SYSTEM_MESSAGES.continue],{time:l.time}),this}sendStop(l={}){return this.send([Enumerations.SYSTEM_MESSAGES.stop],{time:l.time}),this}sendActiveSensing(l={}){return this.send([Enumerations.SYSTEM_MESSAGES.activesensing],{time:l.time}),this}sendReset(l={}){return this.send([Enumerations.SYSTEM_MESSAGES.reset],{time:l.time}),this}sendTuningRequest(l={}){return wm.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(l)}sendKeyAftertouch(l,u,c={}){return c.channels==null&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(c.channels).forEach(m=>{this.channels[m].sendKeyAftertouch(l,u,c)}),this}sendControlChange(l,u,c={},m={}){if(wm.validation&&(Array.isArray(c)||Number.isInteger(c)||c==="all")){const _=c;c=m,c.channels=_,c.channels==="all"&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return c.channels==null&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(c.channels).forEach(_=>{this.channels[_].sendControlChange(l,u,c)}),this}sendPitchBendRange(l=0,u=0,c={}){return c.channels==null&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(c.channels).forEach(m=>{this.channels[m].sendPitchBendRange(l,u,c)}),this}setPitchBendRange(l=0,u=0,c="all",m={}){return wm.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),m.channels=c,m.channels==="all"&&(m.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(l,u,m)}sendRpnValue(l,u,c={}){return c.channels==null&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(c.channels).forEach(m=>{this.channels[m].sendRpnValue(l,u,c)}),this}setRegisteredParameter(l,u=[],c="all",m={}){return wm.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),m.channels=c,m.channels==="all"&&(m.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(l,u,m)}sendChannelAftertouch(l,u={},c={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const m=u;u=c,u.channels=m,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(m=>{this.channels[m].sendChannelAftertouch(l,u)}),this}sendPitchBend(l,u={},c={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const m=u;u=c,u.channels=m,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(m=>{this.channels[m].sendPitchBend(l,u)}),this}sendProgramChange(l=0,u={},c={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const m=u;u=c,u.channels=m,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(m=>{this.channels[m].sendProgramChange(l,u)}),this}sendModulationRange(l,u,c={}){return c.channels==null&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(c.channels).forEach(m=>{this.channels[m].sendModulationRange(l,u,c)}),this}setModulationRange(l=0,u=0,c="all",m={}){return wm.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),m.channels=c,m.channels==="all"&&(m.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(l,u,m)}sendMasterTuning(l,u={}){return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(c=>{this.channels[c].sendMasterTuning(l,u)}),this}setMasterTuning(l,u={},c={}){return wm.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),c.channels=u,c.channels==="all"&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(l,c)}sendTuningProgram(l,u={}){return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(c=>{this.channels[c].sendTuningProgram(l,u)}),this}setTuningProgram(l,u="all",c={}){return wm.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),c.channels=u,c.channels==="all"&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(l,c)}sendTuningBank(l=0,u={}){return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(c=>{this.channels[c].sendTuningBank(l,u)}),this}setTuningBank(l,u="all",c={}){return wm.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),c.channels=u,c.channels==="all"&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(l,c)}sendChannelMode(l,u=0,c={},m={}){if(wm.validation&&(Array.isArray(c)||Number.isInteger(c)||c==="all")){const _=c;c=m,c.channels=_,c.channels==="all"&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return c.channels==null&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(c.channels).forEach(_=>{this.channels[_].sendChannelMode(l,u,c)}),this}sendAllSoundOff(l={}){return l.channels==null&&(l.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(l.channels).forEach(u=>{this.channels[u].sendAllSoundOff(l)}),this}sendAllNotesOff(l={}){return l.channels==null&&(l.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(l.channels).forEach(u=>{this.channels[u].sendAllNotesOff(l)}),this}sendResetAllControllers(l={},u={}){if(wm.validation&&(Array.isArray(l)||Number.isInteger(l)||l==="all")){const c=l;l=u,l.channels=c,l.channels==="all"&&(l.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return l.channels==null&&(l.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(l.channels).forEach(c=>{this.channels[c].sendResetAllControllers(l)}),this}sendPolyphonicMode(l,u={},c={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const m=u;u=c,u.channels=m,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(m=>{this.channels[m].sendPolyphonicMode(l,u)}),this}sendLocalControl(l,u={},c={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const m=u;u=c,u.channels=m,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(m=>{this.channels[m].sendLocalControl(l,u)}),this}sendOmniMode(l,u={},c={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const m=u;u=c,u.channels=m,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(m=>{this.channels[m].sendOmniMode(l,u)}),this}sendNrpnValue(l,u,c={}){return c.channels==null&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(c.channels).forEach(m=>{this.channels[m].sendNrpnValue(l,u,c)}),this}setNonRegisteredParameter(l,u=[],c="all",m={}){return wm.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),m.channels=c,m.channels==="all"&&(m.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(l,u,m)}sendRpnIncrement(l,u={}){return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(c=>{this.channels[c].sendRpnIncrement(l,u)}),this}incrementRegisteredParameter(l,u="all",c={}){return wm.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),c.channels=u,c.channels==="all"&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(l,c)}sendRpnDecrement(l,u={}){return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(c=>{this.channels[c].sendRpnDecrement(l,u)}),this}decrementRegisteredParameter(l,u="all",c={}){return wm.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),c.channels=u,c.channels==="all"&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(l,c)}sendNoteOff(l,u={},c={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const m=u;u=c,u.channels=m,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(m=>{this.channels[m].sendNoteOff(l,u)}),this}stopNote(l,u){return this.sendNoteOff(l,u)}playNote(l,u={},c={}){if(wm.validation&&(u.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),u.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(u)||Number.isInteger(u)||u==="all")){const m=u;u=c,u.channels=m,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(m=>{this.channels[m].playNote(l,u)}),this}sendNoteOn(l,u={},c={}){if(wm.validation&&(Array.isArray(u)||Number.isInteger(u)||u==="all")){const m=u;u=c,u.channels=m,u.channels==="all"&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS)}return u.channels==null&&(u.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(u.channels).forEach(m=>{this.channels[m].sendNoteOn(l,u)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(l){if(this.validation&&(l=parseInt(l),isNaN(l)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=l}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Forwarder{constructor(l=[],u={}){this.destinations=[],this.types=[...Object.keys(Enumerations.SYSTEM_MESSAGES),...Object.keys(Enumerations.CHANNEL_MESSAGES)],this.channels=Enumerations.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(l)||(l=[l]),u.types&&!Array.isArray(u.types)&&(u.types=[u.types]),u.channels&&!Array.isArray(u.channels)&&(u.channels=[u.channels]),wm.validation&&(l.forEach(c=>{if(!(c instanceof Output))throw new TypeError("Destinations must be of type 'Output'.")}),u.types!==void 0&&u.types.forEach(c=>{if(!Enumerations.SYSTEM_MESSAGES.hasOwnProperty(c)&&!Enumerations.CHANNEL_MESSAGES.hasOwnProperty(c))throw new TypeError("Type must be a valid message type.")}),u.channels!==void 0&&u.channels.forEach(c=>{if(!Enumerations.MIDI_CHANNEL_NUMBERS.includes(c))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=l,u.types&&(this.types=u.types),u.channels&&(this.channels=u.channels)}forward(l){this.suspended||this.types.includes(l.type)&&(l.channel&&!this.channels.includes(l.channel)||this.destinations.forEach(u=>{wm.validation&&!(u instanceof Output)||u.send(l)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class InputChannel extends EventEmitter{constructor(l,u){super(),this._input=l,this._number=u,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(l){const u=Object.assign({},l);u.port=this.input,u.target=this,u.type="midimessage",this.emit(u.type,u),this._parseEventForStandardMessages(u)}_parseEventForStandardMessages(l){const u=Object.assign({},l);u.type=u.message.type||"unknownmessage";const c=l.message.dataBytes[0],m=l.message.dataBytes[1];if(u.type==="noteoff"||u.type==="noteon"&&m===0)this.notesState[c]=!1,u.type="noteoff",u.note=new Note(Utilities.offsetNumber(c,this.octaveOffset+this.input.octaveOffset+wm.octaveOffset),{rawAttack:0,rawRelease:m}),u.value=Utilities.from7bitToFloat(m),u.rawValue=m,u.velocity=u.note.release,u.rawVelocity=u.note.rawRelease;else if(u.type==="noteon")this.notesState[c]=!0,u.note=new Note(Utilities.offsetNumber(c,this.octaveOffset+this.input.octaveOffset+wm.octaveOffset),{rawAttack:m}),u.value=Utilities.from7bitToFloat(m),u.rawValue=m,u.velocity=u.note.attack,u.rawVelocity=u.note.rawAttack;else if(u.type==="keyaftertouch")u.note=new Note(Utilities.offsetNumber(c,this.octaveOffset+this.input.octaveOffset+wm.octaveOffset)),u.value=Utilities.from7bitToFloat(m),u.rawValue=m,u.identifier=u.note.identifier,u.key=u.note.number,u.rawKey=c;else if(u.type==="controlchange"){u.controller={number:c,name:Enumerations.CONTROL_CHANGE_MESSAGES[c].name,description:Enumerations.CONTROL_CHANGE_MESSAGES[c].description,position:Enumerations.CONTROL_CHANGE_MESSAGES[c].position},u.subtype=u.controller.name||"controller"+c,u.value=Utilities.from7bitToFloat(m),u.rawValue=m;const _=Object.assign({},u);_.type=`${u.type}-controller${c}`,delete _.subtype,this.emit(_.type,_);const g=Object.assign({},u);g.type=`${u.type}-`+Enumerations.CONTROL_CHANGE_MESSAGES[c].name,delete g.subtype,g.type.indexOf("controller")!==0&&this.emit(g.type,g),u.message.dataBytes[0]>=120&&this._parseChannelModeMessage(u),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(u.message.dataBytes[0])&&this._parseEventForParameterNumber(u)}else u.type==="programchange"?(u.value=c,u.rawValue=u.value):u.type==="channelaftertouch"?(u.value=Utilities.from7bitToFloat(c),u.rawValue=c):u.type==="pitchbend"?(u.value=((m<<7)+c-8192)/8192,u.rawValue=(m<<7)+c):u.type="unknownmessage";this.emit(u.type,u)}_parseChannelModeMessage(l){const u=Object.assign({},l);u.type=u.controller.name,u.type==="localcontrol"&&(u.value=u.message.data[2]===127,u.rawValue=u.message.data[2]),u.type==="omnimodeon"?(u.type="omnimode",u.value=!0,u.rawValue=u.message.data[2]):u.type==="omnimodeoff"&&(u.type="omnimode",u.value=!1,u.rawValue=u.message.data[2]),u.type==="monomodeon"?(u.type="monomode",u.value=!0,u.rawValue=u.message.data[2]):u.type==="polymodeon"&&(u.type="monomode",u.value=!1,u.rawValue=u.message.data[2]),this.emit(u.type,u)}_parseEventForParameterNumber(l){const u=l.message.dataBytes[0],c=l.message.dataBytes[1];u===99||u===101?(this._nrpnBuffer=[],this._rpnBuffer=[],u===99?this._nrpnBuffer=[l.message]:c!==127&&(this._rpnBuffer=[l.message])):u===98||u===100?u===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(l.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&c!==127?this._rpnBuffer.push(l.message):this._rpnBuffer=[]):(u===6||u===38||u===96||u===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],l):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],l):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(l){return l===6||l===38||l===96||l===97||l===98||l===99||l===100||l===101}_dispatchParameterNumberEvent(l,u,c,m){l=l==="nrpn"?"nrpn":"rpn";const _={target:m.target,timestamp:m.timestamp,message:m.message,parameterMsb:u,parameterLsb:c,value:Utilities.from7bitToFloat(m.message.dataBytes[1]),rawValue:m.message.dataBytes[1]};l==="rpn"?_.parameter=Object.keys(Enumerations.REGISTERED_PARAMETERS).find(y=>Enumerations.REGISTERED_PARAMETERS[y][0]===u&&Enumerations.REGISTERED_PARAMETERS[y][1]===c):_.parameter=(u<<7)+c;const g=Enumerations.CONTROL_CHANGE_MESSAGES[m.message.dataBytes[0]].name;_.type=`${l}-${g}`,this.emit(_.type,_);const b=Object.assign({},_);b.type==="nrpn-dataincrement"?b.type="nrpn-databuttonincrement":b.type==="nrpn-datadecrement"?b.type="nrpn-databuttondecrement":b.type==="rpn-dataincrement"?b.type="rpn-databuttonincrement":b.type==="rpn-datadecrement"&&(b.type="rpn-databuttondecrement"),this.emit(b.type,b),_.type=l,_.subtype=g,this.emit(_.type,_)}getChannelModeByNumber(l){return wm.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),l=Math.floor(l)),Utilities.getChannelModeByNumber(l)}getCcNameByNumber(l){if(wm.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),l=parseInt(l),!(l>=0&&l<=127)))throw new RangeError("Invalid control change number.");return Utilities.getCcNameByNumber(l)}getNoteState(l){l instanceof Note&&(l=l.identifier);const u=Utilities.guessNoteNumber(l,wm.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[u]}get octaveOffset(){return this._octaveOffset}set octaveOffset(l){if(this.validation&&(l=parseInt(l),isNaN(l)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=l}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(l){this.validation&&(l=!!l),this.parameterNumberEventsEnabled=l}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Message{constructor(l){this.rawData=l,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=Utilities.getPropertyByValue(Enumerations.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=Utilities.getPropertyByValue(Enumerations.SYSTEM_MESSAGES,this.command)),this.statusByte===Enumerations.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Input extends EventEmitter{constructor(l){super(),this._midiInput=l,this._octaveOffset=0,this.channels=[];for(let u=1;u<=16;u++)this.channels[u]=new InputChannel(this,u);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(l=>l.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(l){let u={timestamp:wm.time,target:this,port:this};l.port.connection==="open"?(u.type="opened",this.emit("opened",u)):l.port.connection==="closed"&&l.port.state==="connected"?(u.type="closed",this.emit("closed",u)):l.port.connection==="closed"&&l.port.state==="disconnected"?(u.type="disconnected",u.port={connection:l.port.connection,id:l.port.id,manufacturer:l.port.manufacturer,name:l.port.name,state:l.port.state,type:l.port.type},this.emit("disconnected",u)):l.port.connection==="pending"&&l.port.state==="disconnected"||console.warn("This statechange event was not caught: ",l.port.connection,l.port.state)}_onMidiMessage(l){const u=new Message(l.data),c={port:this,target:this,message:u,timestamp:l.timeStamp,type:"midimessage",data:u.data,rawData:u.data,statusByte:u.data[0],dataBytes:u.dataBytes};this.emit("midimessage",c),u.isSystemMessage?this._parseEvent(c):u.isChannelMessage&&this.channels[u.channel]._processMidiMessageEvent(c),this._forwarders.forEach(m=>m.forward(u))}_parseEvent(l){const u=Object.assign({},l);u.type=u.message.type||"unknownmidimessage",u.type==="songselect"&&(u.song=l.data[1]+1,u.value=l.data[1],u.rawValue=u.value),this.emit(u.type,u)}async open(){try{await this._midiInput.open()}catch(l){return Promise.reject(l)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(l){return Promise.reject(l)}return Promise.resolve(this)}getChannelModeByNumber(){wm.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(l,u,c={}){if(wm.validation&&typeof c=="function"){let m=u!=null?[].concat(u):void 0;u=c,c={channels:m}}if(Enumerations.CHANNEL_EVENTS.includes(l)){c.channels===void 0&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS);let m=[];return Utilities.sanitizeChannels(c.channels).forEach(_=>{m.push(this.channels[_].addListener(l,u,c))}),m}else return super.addListener(l,u,c)}addOneTimeListener(l,u,c={}){return c.remaining=1,this.addListener(l,u,c)}on(l,u,c,m){return this.addListener(l,u,c,m)}hasListener(l,u,c={}){if(wm.validation&&typeof c=="function"){let m=[].concat(u);u=c,c={channels:m}}return Enumerations.CHANNEL_EVENTS.includes(l)?(c.channels===void 0&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS),Utilities.sanitizeChannels(c.channels).every(m=>this.channels[m].hasListener(l,u))):super.hasListener(l,u)}removeListener(l,u,c={}){if(wm.validation&&typeof c=="function"){let m=[].concat(u);u=c,c={channels:m}}if(c.channels===void 0&&(c.channels=Enumerations.MIDI_CHANNEL_NUMBERS),l==null)return Utilities.sanitizeChannels(c.channels).forEach(m=>{this.channels[m]&&this.channels[m].removeListener()}),super.removeListener();Enumerations.CHANNEL_EVENTS.includes(l)?Utilities.sanitizeChannels(c.channels).forEach(m=>{this.channels[m].removeListener(l,u,c)}):super.removeListener(l,u,c)}addForwarder(l,u={}){let c;return l instanceof Forwarder?c=l:c=new Forwarder(l,u),this._forwarders.push(c),c}removeForwarder(l){this._forwarders=this._forwarders.filter(u=>u!==l)}hasForwarder(l){return this._forwarders.includes(l)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(l){if(this.validation&&(l=parseInt(l),isNaN(l)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=l}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return wm.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class WebMidi extends EventEmitter{constructor(){super(),this.defaults={note:{attack:Utilities.from7bitToFloat(64),release:Utilities.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(l={},u=!1){if(Utilities.isNode){try{window.navigator}catch{global.navigator=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)()}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=l.validation!==!1,this.validation&&(typeof l=="function"&&(l={callback:l,sysex:u}),u&&(l.sysex=!0)),this.enabled)return typeof l.callback=="function"&&l.callback(),Promise.resolve();const c={timestamp:this.time,target:this,type:"error",error:void 0},m={timestamp:this.time,target:this,type:"midiaccessgranted"},_={timestamp:this.time,target:this,type:"enabled"};try{typeof l.requestMIDIAccessFunction=="function"?this.interface=await l.requestMIDIAccessFunction({sysex:l.sysex,software:l.software}):this.interface=await navigator.requestMIDIAccess({sysex:l.sysex,software:l.software})}catch(g){return c.error=g,this.emit("error",c),typeof l.callback=="function"&&l.callback(g),Promise.reject(g)}this.emit("midiaccessgranted",m),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(g){return c.error=g,this.emit("error",c),typeof l.callback=="function"&&l.callback(g),Promise.reject(g)}return this.emit("enabled",_),typeof l.callback=="function"&&l.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let l={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",l),this.removeListener()})}getInputById(l,u={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!l)return}if(u.disconnected){for(let c=0;c<this._disconnectedInputs.length;c++)if(this._disconnectedInputs[c].id===l.toString())return this._disconnectedInputs[c]}else for(let c=0;c<this.inputs.length;c++)if(this.inputs[c].id===l.toString())return this.inputs[c]}getInputByName(l,u={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!l)return;l=l.toString()}if(u.disconnected){for(let c=0;c<this._disconnectedInputs.length;c++)if(~this._disconnectedInputs[c].name.indexOf(l))return this._disconnectedInputs[c]}else for(let c=0;c<this.inputs.length;c++)if(~this.inputs[c].name.indexOf(l))return this.inputs[c]}getOutputByName(l,u={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!l)return;l=l.toString()}if(u.disconnected){for(let c=0;c<this._disconnectedOutputs.length;c++)if(~this._disconnectedOutputs[c].name.indexOf(l))return this._disconnectedOutputs[c]}else for(let c=0;c<this.outputs.length;c++)if(~this.outputs[c].name.indexOf(l))return this.outputs[c]}getOutputById(l,u={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!l)return}if(u.disconnected){for(let c=0;c<this._disconnectedOutputs.length;c++)if(this._disconnectedOutputs[c].id===l.toString())return this._disconnectedOutputs[c]}else for(let c=0;c<this.outputs.length;c++)if(this.outputs[c].id===l.toString())return this.outputs[c]}noteNameToNumber(l){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),Utilities.toNoteNumber(l,this.octaveOffset)}getOctave(l){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),l=parseInt(l)),!isNaN(l)&&l>=0&&l<=127?Utilities.getNoteDetails(Utilities.offsetNumber(l,this.octaveOffset)).octave:!1}sanitizeChannels(l){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),Utilities.sanitizeChannels(l)}toMIDIChannels(l){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),Utilities.sanitizeChannels(l)}guessNoteNumber(l){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),Utilities.guessNoteNumber(l,this.octaveOffset)}getValidNoteArray(l,u={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),Utilities.buildNoteArray(l,u)}convertToTimestamp(l){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),Utilities.toTimestamp(l)}async _destroyInputsAndOutputs(){let l=[];return this.inputs.forEach(u=>l.push(u.destroy())),this.outputs.forEach(u=>l.push(u.destroy())),Promise.all(l).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(l){this._updateInputsAndOutputs();let u={timestamp:l.timeStamp,type:l.port.state,target:this};if(l.port.state==="connected"&&l.port.connection==="open"){l.port.type==="output"?u.port=this.getOutputById(l.port.id):l.port.type==="input"&&(u.port=this.getInputById(l.port.id)),this.emit(l.port.state,u);const c=Object.assign({},u);c.type="portschanged",this.emit(c.type,c)}else if(l.port.state==="disconnected"&&l.port.connection==="pending"){l.port.type==="input"?u.port=this.getInputById(l.port.id,{disconnected:!0}):l.port.type==="output"&&(u.port=this.getOutputById(l.port.id,{disconnected:!0})),this.emit(l.port.state,u);const c=Object.assign({},u);c.type="portschanged",this.emit(c.type,c)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let u=this._inputs.length-1;u>=0;u--){const c=this._inputs[u];Array.from(this.interface.inputs.values()).find(_=>_===c._midiInput)||(this._disconnectedInputs.push(c),this._inputs.splice(u,1))}let l=[];return this.interface.inputs.forEach(u=>{if(!this._inputs.find(c=>c._midiInput===u)){let c=this._disconnectedInputs.find(m=>m._midiInput===u);c||(c=new Input(u)),this._inputs.push(c),l.push(c.open())}}),Promise.all(l)}async _updateOutputs(){if(!this.interface)return;for(let u=this._outputs.length-1;u>=0;u--){const c=this._outputs[u];Array.from(this.interface.outputs.values()).find(_=>_===c._midiOutput)||(this._disconnectedOutputs.push(c),this._outputs.splice(u,1))}let l=[];return this.interface.outputs.forEach(u=>{if(!this._outputs.find(c=>c._midiOutput===u)){let c=this._disconnectedOutputs.find(m=>m._midiOutput===u);c||(c=new Output(u)),this._outputs.push(c),l.push(c.open())}}),Promise.all(l)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),Utilities.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),Utilities.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(l){if(this.validation&&(l=parseInt(l),isNaN(l)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=l}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.6"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),Enumerations.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),Enumerations.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),Enumerations.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),Enumerations.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),Enumerations.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const wm=new WebMidi;wm.constructor=null;const inputs=writable$1([]);wm.enable().then(()=>{console.log("WebMidi enabled!"),inputs.update(()=>wm.inputs.map(({name:f})=>({name:f,active:!0})))});function addCCListeners(f){const l=wm.getInputByName(f);l!=null&&l.hasListener("controlchange",handleControlChange)||l==null||l.addListener("controlchange",handleControlChange)}function removeCCListeners(f){const l=wm.getInputByName(f);l==null||l.removeListener("controlchange",handleControlChange)}const actions={1:f=>axes.update(l=>l.map(u=>u.key==="z"?{...u,value:f}:u)),2:f=>axes.update(l=>l.map(u=>u.key==="y"?{...u,value:f}:u)),3:f=>axes.update(l=>l.map(u=>u.key==="x"?{...u,value:f}:u)),4:f=>instrument.set(instruments$1[Math.floor(f*instruments$1.length)]),5:f=>activePreset.set(get_store_value(presetKeys)[Math.floor(f*get_store_value(presetKeys).length)]),6:f=>volume.set(f),7:f=>updateEnvelopeValue(0,"a",f),8:f=>updateEnvelopeValue(0,"d",f),9:f=>updateEnvelopeValue(0,"s",f),10:f=>updateEnvelopeValue(0,"r",f),11:f=>updateEnvelopeValue(1,"a",f),12:f=>updateEnvelopeValue(1,"d",f),13:f=>updateEnvelopeValue(1,"s",f),14:f=>updateEnvelopeValue(1,"r",f),15:f=>f&&measure(),16:f=>f&&randomise("inst"),17:f=>f&&randomise("global"),18:f=>f&&randomise("fx"),19:f=>f&&randomise("inst")&&randomise("global")&&randomise("fx"),20:f=>f&&randomiseConnections()};function handleControlChange(f){const{value:l,controller:{number:u}}=f;actions[u](l)}inputs.subscribe(f=>{f.forEach(({name:l,active:u})=>u?addCCListeners(l):removeCCListeners(l))});var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(f){(function(){var l={}.hasOwnProperty;function u(){for(var c=[],m=0;m<arguments.length;m++){var _=arguments[m];if(_){var g=typeof _;if(g==="string"||g==="number")c.push(_);else if(Array.isArray(_)){if(_.length){var b=u.apply(null,_);b&&c.push(b)}}else if(g==="object"){if(_.toString!==Object.prototype.toString&&!_.toString.toString().includes("[native code]")){c.push(_.toString());continue}for(var y in _)l.call(_,y)&&_[y]&&c.push(y)}}}return c.join(" ")}f.exports?(u.default=u,f.exports=u):window.classNames=u})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function create_else_block$3(f){let l=f[1],u,c,m=f[1]&&create_dynamic_element_1(f);return{c(){m&&m.c(),u=empty$1()},l(_){m&&m.l(_),u=empty$1()},m(_,g){m&&m.m(_,g),insert_hydration(_,u,g),c=!0},p(_,g){_[1]?l?safe_not_equal(l,_[1])?(m.d(1),m=create_dynamic_element_1(_),l=_[1],m.c(),m.m(u.parentNode,u)):m.p(_,g):(m=create_dynamic_element_1(_),l=_[1],m.c(),m.m(u.parentNode,u)):l&&(m.d(1),m=null,l=_[1])},i(_){c||(transition_in(m),c=!0)},o(_){transition_out(m),c=!1},d(_){_&&detach(u),m&&m.d(_)}}}function create_if_block$b(f){let l=f[1],u,c=!1,m,_=f[1]&&create_dynamic_element(f);return{c(){_&&_.c(),u=empty$1()},l(g){_&&_.l(g),u=empty$1()},m(g,b){_&&_.m(g,b),insert_hydration(g,u,b),m=!0},p(g,b){g[1]?l?safe_not_equal(l,g[1])?(_.d(1),_=create_dynamic_element(g),l=g[1],_.c(),c&&(c=!1,transition_in(_)),_.m(u.parentNode,u)):(c&&(c=!1,transition_in(_)),_.p(g,b)):(_=create_dynamic_element(g),l=g[1],_.c(),transition_in(_),_.m(u.parentNode,u)):l&&(c=!0,group_outros(),transition_out(_,1,1,()=>{_=null,l=g[1],c=!1}),check_outros())},i(g){m||(transition_in(_),m=!0)},o(g){transition_out(_),m=!1},d(g){g&&detach(u),_&&_.d(g)}}}function create_dynamic_element_1(f){let l,u,c,m,_;const g=f[13].default,b=create_slot(g,f,f[12],null);let y=[f[7],{class:f[6]}],S={};for(let A=0;A<y.length;A+=1)S=assign(S,y[A]);return{c(){l=element(f[1]),b&&b.c(),this.h()},l(A){l=claim_element(A,(f[1]||"null").toUpperCase(),{class:!0});var C=children(l);b&&b.l(C),C.forEach(detach),this.h()},h(){set_dynamic_element_data(f[1])(l,S)},m(A,C){insert_hydration(A,l,C),b&&b.m(l,null),f[23](l),c=!0,m||(_=[action_destroyer(u=f[4].call(null,l,f[5])),listen(l,"mouseenter",f[18]),listen(l,"mouseleave",f[19]),listen(l,"focusin",f[20]),listen(l,"focusout",f[21])],m=!0)},p(A,C){b&&b.p&&(!c||C&4096)&&update_slot_base(b,g,A,A[12],c?get_slot_changes(g,A[12],C,null):get_all_dirty_from_scope(A[12]),null),set_dynamic_element_data(A[1])(l,S=get_spread_update(y,[C&128&&A[7],(!c||C&64)&&{class:A[6]}])),u&&is_function(u.update)&&C&32&&u.update.call(null,A[5])},i(A){c||(transition_in(b,A),c=!0)},o(A){transition_out(b,A),c=!1},d(A){A&&detach(l),b&&b.d(A),f[23](null),m=!1,run_all(_)}}}function create_dynamic_element(f){let l,u,c,m,_,g;const b=f[13].default,y=create_slot(b,f,f[12],null);let S=[f[7],{class:f[6]}],A={};for(let C=0;C<S.length;C+=1)A=assign(A,S[C]);return{c(){l=element(f[1]),y&&y.c(),this.h()},l(C){l=claim_element(C,(f[1]||"null").toUpperCase(),{class:!0});var x=children(l);y&&y.l(x),x.forEach(detach),this.h()},h(){set_dynamic_element_data(f[1])(l,A)},m(C,x){insert_hydration(C,l,x),y&&y.m(l,null),f[22](l),m=!0,_||(g=[action_destroyer(u=f[4].call(null,l,f[5])),listen(l,"mouseenter",f[14]),listen(l,"mouseleave",f[15]),listen(l,"focusin",f[16]),listen(l,"focusout",f[17])],_=!0)},p(C,x){f=C,y&&y.p&&(!m||x&4096)&&update_slot_base(y,b,f,f[12],m?get_slot_changes(b,f[12],x,null):get_all_dirty_from_scope(f[12]),null),set_dynamic_element_data(f[1])(l,A=get_spread_update(S,[x&128&&f[7],(!m||x&64)&&{class:f[6]}])),u&&is_function(u.update)&&x&32&&u.update.call(null,f[5])},i(C){m||(transition_in(y,C),add_render_callback(()=>{m&&(c||(c=create_bidirectional_transition(l,f[2],f[3],!0)),c.run(1))}),m=!0)},o(C){transition_out(y,C),c||(c=create_bidirectional_transition(l,f[2],f[3],!1)),c.run(0),m=!1},d(C){C&&detach(l),y&&y.d(C),f[22](null),C&&c&&c.end(),_=!1,run_all(g)}}}function create_fragment$t(f){let l,u,c,m;const _=[create_if_block$b,create_else_block$3],g=[];function b(y,S){return y[2]?0:1}return l=b(f),u=g[l]=_[l](f),{c(){u.c(),c=empty$1()},l(y){u.l(y),c=empty$1()},m(y,S){g[l].m(y,S),insert_hydration(y,c,S),m=!0},p(y,[S]){let A=l;l=b(y),l===A?g[l].p(y,S):(group_outros(),transition_out(g[A],1,1,()=>{g[A]=null}),check_outros(),u=g[l],u?u.p(y,S):(u=g[l]=_[l](y),u.c()),transition_in(u,1),u.m(c.parentNode,c))},i(y){m||(transition_in(u),m=!0)},o(y){transition_out(u),m=!1},d(y){g[l].d(y),y&&detach(c)}}}function instance$r(f,l,u){const c=["tag","color","rounded","border","shadow","transition","params","node","use","options"];let m=compute_rest_props(l,c),{$$slots:_={},$$scope:g}=l;setContext$1("background",!0);let{tag:b="div"}=l,{color:y="default"}=l,{rounded:S=!1}=l,{border:A=!1}=l,{shadow:C=!1}=l,{transition:x=void 0}=l,{params:E={}}=l,{node:k=void 0}=l,{use:T=noop$3}=l,{options:I={}}=l;const M={gray:"bg-gray-50 dark:bg-gray-800",red:"bg-red-50 dark:bg-gray-800",yellow:"bg-yellow-50 dark:bg-gray-800 ",green:"bg-green-50 dark:bg-gray-800 ",indigo:"bg-indigo-50 dark:bg-gray-800 ",purple:"bg-purple-50 dark:bg-gray-800 ",pink:"bg-pink-50 dark:bg-gray-800 ",blue:"bg-blue-50 dark:bg-gray-800 ",light:"bg-gray-50 dark:bg-gray-700",dark:"bg-gray-50 dark:bg-gray-800",default:"bg-white dark:bg-gray-800",dropdown:"bg-white dark:bg-gray-700",navbar:"bg-white dark:bg-gray-900",navbarUl:"bg-gray-50 dark:bg-gray-800",form:"bg-gray-50 dark:bg-gray-700",primary:"bg-primary-50 dark:bg-gray-800 ",none:""},j={gray:"text-gray-800 dark:text-gray-300",red:"text-red-800 dark:text-red-400",yellow:"text-yellow-800 dark:text-yellow-300",green:"text-green-800 dark:text-green-400",indigo:"text-indigo-800 dark:text-indigo-400",purple:"text-purple-800 dark:text-purple-400",pink:"text-pink-800 dark:text-pink-400",blue:"text-blue-800 dark:text-blue-400",light:"text-gray-700 dark:text-gray-300",dark:"text-gray-700 dark:text-gray-300",default:"text-gray-500 dark:text-gray-400",dropdown:"text-gray-700 dark:text-gray-200",navbar:"text-gray-700 dark:text-gray-200",navbarUl:"text-gray-700 dark:text-gray-400",form:"text-gray-900 dark:text-white",primary:"text-primary-800 dark:text-primary-400",none:""},P={gray:"border-gray-300 dark:border-gray-800",red:"border-red-300 dark:border-red-800",yellow:"border-yellow-300 dark:border-yellow-800",green:"border-green-300 dark:border-green-800",indigo:"border-indigo-300 dark:border-indigo-800",purple:"border-purple-300 dark:border-purple-800",pink:"border-pink-300 dark:border-pink-800",blue:"border-blue-300 dark:border-blue-800",light:"border-gray-500",dark:"border-gray-500",default:"border-gray-200 dark:border-gray-700",dropdown:"border-gray-100 dark:border-gray-700",navbar:"border-gray-100 dark:border-gray-700",navbarUl:"border-gray-100 dark:border-gray-700",form:"border-gray-300 dark:border-gray-700",primary:"border-primary-500 dark:bg-primary-200 ",none:""};let O;function N(V){bubble.call(this,f,V)}function D(V){bubble.call(this,f,V)}function L(V){bubble.call(this,f,V)}function R(V){bubble.call(this,f,V)}function G(V){bubble.call(this,f,V)}function Z(V){bubble.call(this,f,V)}function B(V){bubble.call(this,f,V)}function J(V){bubble.call(this,f,V)}function K(V){binding_callbacks[V?"unshift":"push"](()=>{k=V,u(0,k)})}function ee(V){binding_callbacks[V?"unshift":"push"](()=>{k=V,u(0,k)})}return f.$$set=V=>{u(27,l=assign(assign({},l),exclude_internal_props(V))),u(7,m=compute_rest_props(l,c)),"tag"in V&&u(1,b=V.tag),"color"in V&&u(8,y=V.color),"rounded"in V&&u(9,S=V.rounded),"border"in V&&u(10,A=V.border),"shadow"in V&&u(11,C=V.shadow),"transition"in V&&u(2,x=V.transition),"params"in V&&u(3,E=V.params),"node"in V&&u(0,k=V.node),"use"in V&&u(4,T=V.use),"options"in V&&u(5,I=V.options),"$$scope"in V&&u(12,g=V.$$scope)},f.$$.update=()=>{f.$$.dirty&256&&setContext$1("color",y),u(6,O=classNames(M[y],j[y],S&&(y==="dropdown"?"rounded":"rounded-lg"),A&&"border",P[y],C&&"shadow-md",l.class))},l=exclude_internal_props(l),[k,b,x,E,T,I,O,m,y,S,A,C,g,_,N,D,L,R,G,Z,B,J,K,ee]}class Frame extends SvelteComponent{constructor(l){super(),init(this,l,instance$r,create_fragment$t,safe_not_equal,{tag:1,color:8,rounded:9,border:10,shadow:11,transition:2,params:3,node:0,use:4,options:5})}}function cubicInOut(f){return f<.5?4*f*f*f:.5*Math.pow(2*f-2,3)+1}function cubicOut(f){const l=f-1;return l*l*l+1}function sineIn(f){const l=Math.cos(f*Math.PI*.5);return Math.abs(l)<1e-14?1:1-l}function blur(f,{delay:l=0,duration:u=400,easing:c=cubicInOut,amount:m=5,opacity:_=0}={}){const g=getComputedStyle(f),b=+g.opacity,y=g.filter==="none"?"":g.filter,S=b*(1-_),[A,C]=split_css_unit(m);return{delay:l,duration:u,easing:c,css:(x,E)=>`opacity: ${b-S*E}; filter: ${y} blur(${E*A}${C});`}}function fade(f,{delay:l=0,duration:u=400,easing:c=identity}={}){const m=+getComputedStyle(f).opacity;return{delay:l,duration:u,easing:c,css:_=>`opacity: ${_*m}`}}function fly(f,{delay:l=0,duration:u=400,easing:c=cubicOut,x:m=0,y:_=0,opacity:g=0}={}){const b=getComputedStyle(f),y=+b.opacity,S=b.transform==="none"?"":b.transform,A=y*(1-g),[C,x]=split_css_unit(m),[E,k]=split_css_unit(_);return{delay:l,duration:u,easing:c,css:(T,I)=>`
			transform: ${S} translate(${(1-T)*C}${x}, ${(1-T)*E}${k});
			opacity: ${y-A*I}`}}function slide(f,{delay:l=0,duration:u=400,easing:c=cubicOut,axis:m="y"}={}){const _=getComputedStyle(f),g=+_.opacity,b=m==="y"?"height":"width",y=parseFloat(_[b]),S=m==="y"?["top","bottom"]:["left","right"],A=S.map(M=>`${M[0].toUpperCase()}${M.slice(1)}`),C=parseFloat(_[`padding${A[0]}`]),x=parseFloat(_[`padding${A[1]}`]),E=parseFloat(_[`margin${A[0]}`]),k=parseFloat(_[`margin${A[1]}`]),T=parseFloat(_[`border${A[0]}Width`]),I=parseFloat(_[`border${A[1]}Width`]);return{delay:l,duration:u,easing:c,css:M=>`overflow: hidden;opacity: ${Math.min(M*20,1)*g};${b}: ${M*y}px;padding-${S[0]}: ${M*C}px;padding-${S[1]}: ${M*x}px;margin-${S[0]}: ${M*E}px;margin-${S[1]}: ${M*k}px;border-${S[0]}-width: ${M*T}px;border-${S[1]}-width: ${M*I}px;`}}const get_default_slot_changes$1=f=>({svgSize:f&4}),get_default_slot_context$1=f=>({svgSize:f[4][f[2]]});function create_if_block$a(f){let l,u;return{c(){l=element("span"),u=text(f[0]),this.h()},l(c){l=claim_element(c,"SPAN",{class:!0});var m=children(l);u=claim_text(m,f[0]),m.forEach(detach),this.h()},h(){attr(l,"class","sr-only")},m(c,m){insert_hydration(c,l,m),append_hydration(l,u)},p(c,m){m&1&&set_data(u,c[0])},d(c){c&&detach(l)}}}function create_fragment$s(f){let l,u,c,m,_,g,b=f[0]&&create_if_block$a(f);const y=f[8].default,S=create_slot(y,f,f[7],get_default_slot_context$1);let A=[{type:"button"},f[5],{class:f[3]},{"aria-label":c=f[1]??f[0]}],C={};for(let x=0;x<A.length;x+=1)C=assign(C,A[x]);return{c(){l=element("button"),b&&b.c(),u=space(),S&&S.c(),this.h()},l(x){l=claim_element(x,"BUTTON",{type:!0,class:!0,"aria-label":!0});var E=children(l);b&&b.l(E),u=claim_space(E),S&&S.l(E),E.forEach(detach),this.h()},h(){set_attributes(l,C)},m(x,E){insert_hydration(x,l,E),b&&b.m(l,null),append_hydration(l,u),S&&S.m(l,null),l.autofocus&&l.focus(),m=!0,_||(g=listen(l,"click",f[9]),_=!0)},p(x,[E]){x[0]?b?b.p(x,E):(b=create_if_block$a(x),b.c(),b.m(l,u)):b&&(b.d(1),b=null),S&&S.p&&(!m||E&132)&&update_slot_base(S,y,x,x[7],m?get_slot_changes(y,x[7],E,get_default_slot_changes$1):get_all_dirty_from_scope(x[7]),get_default_slot_context$1),set_attributes(l,C=get_spread_update(A,[{type:"button"},E&32&&x[5],(!m||E&8)&&{class:x[3]},(!m||E&3&&c!==(c=x[1]??x[0]))&&{"aria-label":c}]))},i(x){m||(transition_in(S,x),m=!0)},o(x){transition_out(S,x),m=!1},d(x){x&&detach(l),b&&b.d(),S&&S.d(x),_=!1,g()}}}function instance$q(f,l,u){const c=["color","name","ariaLabel","size"];let m=compute_rest_props(l,c),{$$slots:_={},$$scope:g}=l;const b=getContext$1("background");let{color:y="default"}=l,{name:S=void 0}=l,{ariaLabel:A=void 0}=l,{size:C="md"}=l;const x={dark:"text-gray-500 hover:text-gray-900 hover:bg-gray-200 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700",gray:"text-gray-500 focus:ring-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700",red:"text-red-500 focus:ring-red-400 hover:bg-red-200 dark:hover:bg-gray-700",yellow:"text-yellow-500 focus:ring-yellow-400 hover:bg-yellow-200 dark:hover:bg-gray-700",green:"text-green-500 focus:ring-green-400 hover:bg-green-200 dark:hover:bg-gray-700",indigo:"text-indigo-500 focus:ring-indigo-400 hover:bg-indigo-200 dark:hover:bg-gray-700",purple:"text-purple-500 focus:ring-purple-400 hover:bg-purple-200 dark:hover:bg-gray-700",pink:"text-pink-500 focus:ring-pink-400 hover:bg-pink-200 dark:hover:bg-gray-700",blue:"text-blue-500 focus:ring-blue-400 hover:bg-blue-200 dark:hover:bg-gray-700",default:"focus:ring-gray-400 "},E={xs:"m-0.5 rounded focus:ring-1 p-0.5",sm:"m-0.5 rounded focus:ring-1 p-0.5",md:"rounded-lg focus:ring-2 p-1.5"};let k;const T={xs:"w-3 h-3",sm:"w-3.5 h-3.5",md:"w-5 h-5"};function I(M){bubble.call(this,f,M)}return f.$$set=M=>{u(13,l=assign(assign({},l),exclude_internal_props(M))),u(5,m=compute_rest_props(l,c)),"color"in M&&u(6,y=M.color),"name"in M&&u(0,S=M.name),"ariaLabel"in M&&u(1,A=M.ariaLabel),"size"in M&&u(2,C=M.size),"$$scope"in M&&u(7,g=M.$$scope)},f.$$.update=()=>{u(3,k=classNames("focus:outline-none whitespace-normal",E[C],x[y],y==="default"&&(b?"hover:bg-gray-100 dark:hover:bg-gray-600":"hover:bg-gray-100 dark:hover:bg-gray-700"),l.class))},l=exclude_internal_props(l),[S,A,C,k,T,m,y,g,_,I]}class ToolbarButton extends SvelteComponent{constructor(l){super(),init(this,l,instance$q,create_fragment$s,safe_not_equal,{color:6,name:0,ariaLabel:1,size:2})}}function create_default_slot$4(f){let l,u,c;return{c(){l=svg_element("svg"),u=svg_element("path"),this.h()},l(m){l=claim_svg_element(m,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var _=children(l);u=claim_svg_element(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(u).forEach(detach),_.forEach(detach),this.h()},h(){attr(u,"fill-rule","evenodd"),attr(u,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),attr(u,"clip-rule","evenodd"),attr(l,"class",c=f[4]),attr(l,"fill","currentColor"),attr(l,"viewBox","0 0 20 20"),attr(l,"xmlns","http://www.w3.org/2000/svg")},m(m,_){insert_hydration(m,l,_),append_hydration(l,u)},p(m,_){_&16&&c!==(c=m[4])&&attr(l,"class",c)},d(m){m&&detach(l)}}}function create_fragment$r(f){let l,u;const c=[{name:f[0]},f[1],{class:classNames("ml-auto",f[2].class)}];let m={$$slots:{default:[create_default_slot$4,({svgSize:_})=>({4:_}),({svgSize:_})=>_?16:0]},$$scope:{ctx:f}};for(let _=0;_<c.length;_+=1)m=assign(m,c[_]);return l=new ToolbarButton({props:m}),l.$on("click",f[3]),{c(){create_component(l.$$.fragment)},l(_){claim_component(l.$$.fragment,_)},m(_,g){mount_component(l,_,g),u=!0},p(_,[g]){const b=g&7?get_spread_update(c,[g&1&&{name:_[0]},g&2&&get_spread_object(_[1]),g&4&&{class:classNames("ml-auto",_[2].class)}]):{};g&48&&(b.$$scope={dirty:g,ctx:_}),l.$set(b)},i(_){u||(transition_in(l.$$.fragment,_),u=!0)},o(_){transition_out(l.$$.fragment,_),u=!1},d(_){destroy_component(l,_)}}}function instance$p(f,l,u){const c=["name"];let m=compute_rest_props(l,c),{name:_="Close"}=l;function g(b){bubble.call(this,f,b)}return f.$$set=b=>{u(2,l=assign(assign({},l),exclude_internal_props(b))),u(1,m=compute_rest_props(l,c)),"name"in b&&u(0,_=b.name)},l=exclude_internal_props(l),[_,m,l,g]}class CloseButton extends SvelteComponent{constructor(l){super(),init(this,l,instance$p,create_fragment$r,safe_not_equal,{name:0})}}const Thumbnail_svelte_svelte_type_style_lang="",Indicator_svelte_svelte_type_style_lang="",clickOutside=(f,l)=>{const u=c=>{c!=null&&c.target&&f&&!f.contains(c.target)&&!c.defaultPrevented&&l()};return document.addEventListener("click",u,!0),{destroy(){document.removeEventListener("click",u,!0)}}},get_default_slot_changes_1=f=>({hidden:f&1}),get_default_slot_context_1=f=>({hidden:f[0]}),get_default_slot_changes=f=>({hidden:f&1}),get_default_slot_context=f=>({hidden:f[0]});function create_if_block$9(f){let l,u,c,m,_;function g(x,E){if(x[4]&&x[1])return create_if_block_2$5;if(x[4]&&!x[1])return create_if_block_3$2}let b=g(f),y=b&&b(f);const S=[create_if_block_1$8,create_else_block$2],A=[];function C(x,E){return x[1]?0:1}return u=C(f),c=A[u]=S[u](f),{c(){y&&y.c(),l=space(),c.c(),m=empty$1()},l(x){y&&y.l(x),l=claim_space(x),c.l(x),m=empty$1()},m(x,E){y&&y.m(x,E),insert_hydration(x,l,E),A[u].m(x,E),insert_hydration(x,m,E),_=!0},p(x,E){b===(b=g(x))&&y?y.p(x,E):(y&&y.d(1),y=b&&b(x),y&&(y.c(),y.m(l.parentNode,l)));let k=u;u=C(x),u===k?A[u].p(x,E):(group_outros(),transition_out(A[k],1,1,()=>{A[k]=null}),check_outros(),c=A[u],c?c.p(x,E):(c=A[u]=S[u](x),c.c()),transition_in(c,1),c.m(m.parentNode,m))},i(x){_||(transition_in(c),_=!0)},o(x){transition_out(c),_=!1},d(x){y&&y.d(x),x&&detach(l),A[u].d(x),x&&detach(m)}}}function create_if_block_3$2(f){let l;return{c(){l=element("div"),this.h()},l(u){l=claim_element(u,"DIV",{role:!0,class:!0}),children(l).forEach(detach),this.h()},h(){attr(l,"role","presentation"),attr(l,"class",f[12])},m(u,c){insert_hydration(u,l,c)},p:noop$3,d(u){u&&detach(l)}}}function create_if_block_2$5(f){let l,u,c;return{c(){l=element("div"),this.h()},l(m){l=claim_element(m,"DIV",{role:!0,class:!0}),children(l).forEach(detach),this.h()},h(){attr(l,"role","presentation"),attr(l,"class",f[12])},m(m,_){insert_hydration(m,l,_),u||(c=listen(l,"click",f[24]),u=!0)},p:noop$3,d(m){m&&detach(l),u=!1,c()}}}function create_else_block$2(f){let l,u,c,m;const _=f[23].default,g=create_slot(_,f,f[22],get_default_slot_context_1);let b=[{id:f[6]},f[13],{class:u=classNames(f[7],f[3],f[2],f[10][f[5]],f[14].class)},{tabindex:"-1"},{"aria-controls":f[6]},{"aria-labelledby":f[6]}],y={};for(let S=0;S<b.length;S+=1)y=assign(y,b[S]);return{c(){l=element("div"),g&&g.c(),this.h()},l(S){l=claim_element(S,"DIV",{id:!0,class:!0,tabindex:!0,"aria-controls":!0,"aria-labelledby":!0});var A=children(l);g&&g.l(A),A.forEach(detach),this.h()},h(){set_attributes(l,y)},m(S,A){insert_hydration(S,l,A),g&&g.m(l,null),m=!0},p(S,A){f=S,g&&g.p&&(!m||A&4194305)&&update_slot_base(g,_,f,f[22],m?get_slot_changes(_,f[22],A,get_default_slot_changes_1):get_all_dirty_from_scope(f[22]),get_default_slot_context_1),set_attributes(l,y=get_spread_update(b,[(!m||A&64)&&{id:f[6]},A&8192&&f[13],(!m||A&16556&&u!==(u=classNames(f[7],f[3],f[2],f[10][f[5]],f[14].class)))&&{class:u},{tabindex:"-1"},(!m||A&64)&&{"aria-controls":f[6]},(!m||A&64)&&{"aria-labelledby":f[6]}]))},i(S){m||(transition_in(g,S),add_render_callback(()=>{m&&(c||(c=create_bidirectional_transition(l,f[9],f[8],!0)),c.run(1))}),m=!0)},o(S){transition_out(g,S),c||(c=create_bidirectional_transition(l,f[9],f[8],!1)),c.run(0),m=!1},d(S){S&&detach(l),g&&g.d(S),S&&c&&c.end()}}}function create_if_block_1$8(f){let l,u,c,m,_,g,b;const y=f[23].default,S=create_slot(y,f,f[22],get_default_slot_context);let A=[{id:f[6]},f[13],{class:u=classNames(f[7],f[3],f[2],f[10][f[5]],f[14].class)},{tabindex:"-1"},{"aria-controls":f[6]},{"aria-labelledby":f[6]}],C={};for(let x=0;x<A.length;x+=1)C=assign(C,A[x]);return{c(){l=element("div"),S&&S.c(),this.h()},l(x){l=claim_element(x,"DIV",{id:!0,class:!0,tabindex:!0,"aria-controls":!0,"aria-labelledby":!0});var E=children(l);S&&S.l(E),E.forEach(detach),this.h()},h(){set_attributes(l,C)},m(x,E){insert_hydration(x,l,E),S&&S.m(l,null),_=!0,g||(b=action_destroyer(c=clickOutside.call(null,l,f[25])),g=!0)},p(x,E){f=x,S&&S.p&&(!_||E&4194305)&&update_slot_base(S,y,f,f[22],_?get_slot_changes(y,f[22],E,get_default_slot_changes):get_all_dirty_from_scope(f[22]),get_default_slot_context),set_attributes(l,C=get_spread_update(A,[(!_||E&64)&&{id:f[6]},E&8192&&f[13],(!_||E&16556&&u!==(u=classNames(f[7],f[3],f[2],f[10][f[5]],f[14].class)))&&{class:u},{tabindex:"-1"},(!_||E&64)&&{"aria-controls":f[6]},(!_||E&64)&&{"aria-labelledby":f[6]}])),c&&is_function(c.update)&&E&1&&c.update.call(null,f[25])},i(x){_||(transition_in(S,x),add_render_callback(()=>{_&&(m||(m=create_bidirectional_transition(l,f[9],f[8],!0)),m.run(1))}),_=!0)},o(x){transition_out(S,x),m||(m=create_bidirectional_transition(l,f[9],f[8],!1)),m.run(0),_=!1},d(x){x&&detach(l),S&&S.d(x),x&&m&&m.end(),g=!1,b()}}}function create_fragment$q(f){let l,u,c=!f[0]&&create_if_block$9(f);return{c(){c&&c.c(),l=empty$1()},l(m){c&&c.l(m),l=empty$1()},m(m,_){c&&c.m(m,_),insert_hydration(m,l,_),u=!0},p(m,[_]){m[0]?c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros()):c?(c.p(m,_),_&1&&transition_in(c,1)):(c=create_if_block$9(m),c.c(),transition_in(c,1),c.m(l.parentNode,l))},i(m){u||(transition_in(c),u=!0)},o(m){transition_out(c),u=!1},d(m){c&&c.d(m),m&&detach(l)}}}function instance$o(f,l,u){const c=["activateClickOutside","hidden","position","leftOffset","rightOffset","topOffset","bottomOffset","width","backdrop","bgColor","bgOpacity","placement","id","divClass","transitionParams","transitionType"];let m=compute_rest_props(l,c),{$$slots:_={},$$scope:g}=l,{activateClickOutside:b=!0}=l,{hidden:y=!0}=l,{position:S="fixed"}=l,{leftOffset:A="inset-y-0 left-0"}=l,{rightOffset:C="inset-y-0 right-0"}=l,{topOffset:x="inset-x-0 top-0"}=l,{bottomOffset:E="inset-x-0 bottom-0"}=l,{width:k="w-80"}=l,{backdrop:T=!0}=l,{bgColor:I="bg-gray-900"}=l,{bgOpacity:M="bg-opacity-75"}=l,{placement:j="left"}=l,{id:P="drawer-example"}=l,{divClass:O="overflow-y-auto z-50 p-4 bg-white dark:bg-gray-800"}=l,{transitionParams:N={}}=l,{transitionType:D="fly"}=l;function L(K,ee){switch(D){case"slide":return slide(K,ee);case"blur":return blur(K,ee);case"fade":return fade(K,ee);default:return fly(K,ee)}}const R={left:A,right:C,top:x,bottom:E},G=()=>{u(0,y=!y)};let Z=classNames("fixed top-0 left-0 z-50 w-full h-full",T&&I,T&&M);const B=()=>!y&&G(),J=()=>!y&&G();return f.$$set=K=>{u(14,l=assign(assign({},l),exclude_internal_props(K))),u(13,m=compute_rest_props(l,c)),"activateClickOutside"in K&&u(1,b=K.activateClickOutside),"hidden"in K&&u(0,y=K.hidden),"position"in K&&u(2,S=K.position),"leftOffset"in K&&u(15,A=K.leftOffset),"rightOffset"in K&&u(16,C=K.rightOffset),"topOffset"in K&&u(17,x=K.topOffset),"bottomOffset"in K&&u(18,E=K.bottomOffset),"width"in K&&u(3,k=K.width),"backdrop"in K&&u(4,T=K.backdrop),"bgColor"in K&&u(19,I=K.bgColor),"bgOpacity"in K&&u(20,M=K.bgOpacity),"placement"in K&&u(5,j=K.placement),"id"in K&&u(6,P=K.id),"divClass"in K&&u(7,O=K.divClass),"transitionParams"in K&&u(8,N=K.transitionParams),"transitionType"in K&&u(21,D=K.transitionType),"$$scope"in K&&u(22,g=K.$$scope)},l=exclude_internal_props(l),[y,b,S,k,T,j,P,O,N,L,R,G,Z,m,l,A,C,x,E,I,M,D,g,_,B,J]}class Drawer extends SvelteComponent{constructor(l){super(),init(this,l,instance$o,create_fragment$q,safe_not_equal,{activateClickOutside:1,hidden:0,position:2,leftOffset:15,rightOffset:16,topOffset:17,bottomOffset:18,width:3,backdrop:4,bgColor:19,bgOpacity:20,placement:5,id:6,divClass:7,transitionParams:8,transitionType:21})}}const get_extra_slot_changes=f=>({}),get_extra_slot_context=f=>({}),get_icon_slot_changes=f=>({}),get_icon_slot_context=f=>({});function create_if_block$8(f){let l,u;const c=[{rounded:!0},{border:!0},{transition:fade},f[5],{class:f[3]},{role:"alert"}];let m={$$slots:{default:[create_default_slot$3]},$$scope:{ctx:f}};for(let _=0;_<c.length;_+=1)m=assign(m,c[_]);return l=new Frame({props:m}),{c(){create_component(l.$$.fragment)},l(_){claim_component(l.$$.fragment,_)},m(_,g){mount_component(l,_,g),u=!0},p(_,g){const b=g&40?get_spread_update(c,[c[0],c[1],g&0&&{transition:fade},g&32&&get_spread_object(_[5]),g&8&&{class:_[3]},c[5]]):{};g&2135&&(b.$$scope={dirty:g,ctx:_}),l.$set(b)},i(_){u||(transition_in(l.$$.fragment,_),u=!0)},o(_){transition_out(l.$$.fragment,_),u=!1},d(_){destroy_component(l,_)}}}function create_if_block_2$4(f){let l,u;return l=new Frame({props:{color:f[1],rounded:!0,class:f[4],$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:f}}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m&2&&(_.color=c[1]),m&16&&(_.class=c[4]),m&2048&&(_.$$scope={dirty:m,ctx:c}),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_default_slot_1$1(f){let l;const u=f[9].icon,c=create_slot(u,f,f[11],get_icon_slot_context);return{c(){c&&c.c()},l(m){c&&c.l(m)},m(m,_){c&&c.m(m,_),l=!0},p(m,_){c&&c.p&&(!l||_&2048)&&update_slot_base(c,u,m,m[11],l?get_slot_changes(u,m[11],_,get_icon_slot_changes):get_all_dirty_from_scope(m[11]),get_icon_slot_context)},i(m){l||(transition_in(c,m),l=!0)},o(m){transition_out(c,m),l=!1},d(m){c&&c.d(m)}}}function create_if_block_1$7(f){let l,u;return l=new CloseButton({}),l.$on("click",f[10]),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p:noop$3,i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_default_slot$3(f){let l,u,c,m,_,g,b,y=f[6].icon&&create_if_block_2$4(f);const S=f[9].default,A=create_slot(S,f,f[11],null),C=f[9].extra,x=create_slot(C,f,f[11],get_extra_slot_context);let E=!f[2]&&create_if_block_1$7(f);return{c(){l=element("div"),y&&y.c(),u=space(),c=element("div"),A&&A.c(),m=space(),x&&x.c(),_=space(),E&&E.c(),this.h()},l(k){l=claim_element(k,"DIV",{class:!0});var T=children(l);y&&y.l(T),u=claim_space(T),c=claim_element(T,"DIV",{class:!0});var I=children(c);A&&A.l(I),m=claim_space(I),x&&x.l(I),I.forEach(detach),_=claim_space(T),E&&E.l(T),T.forEach(detach),this.h()},h(){attr(c,"class","text-sm font-normal w-full"),attr(l,"class",g="flex "+(f[6].extra?"items-start":"items-center"))},m(k,T){insert_hydration(k,l,T),y&&y.m(l,null),append_hydration(l,u),append_hydration(l,c),A&&A.m(c,null),append_hydration(c,m),x&&x.m(c,null),append_hydration(l,_),E&&E.m(l,null),b=!0},p(k,T){k[6].icon?y?(y.p(k,T),T&64&&transition_in(y,1)):(y=create_if_block_2$4(k),y.c(),transition_in(y,1),y.m(l,u)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros()),A&&A.p&&(!b||T&2048)&&update_slot_base(A,S,k,k[11],b?get_slot_changes(S,k[11],T,null):get_all_dirty_from_scope(k[11]),null),x&&x.p&&(!b||T&2048)&&update_slot_base(x,C,k,k[11],b?get_slot_changes(C,k[11],T,get_extra_slot_changes):get_all_dirty_from_scope(k[11]),get_extra_slot_context),k[2]?E&&(group_outros(),transition_out(E,1,1,()=>{E=null}),check_outros()):E?(E.p(k,T),T&4&&transition_in(E,1)):(E=create_if_block_1$7(k),E.c(),transition_in(E,1),E.m(l,null)),(!b||T&64&&g!==(g="flex "+(k[6].extra?"items-start":"items-center")))&&attr(l,"class",g)},i(k){b||(transition_in(y),transition_in(A,k),transition_in(x,k),transition_in(E),b=!0)},o(k){transition_out(y),transition_out(A,k),transition_out(x,k),transition_out(E),b=!1},d(k){k&&detach(l),y&&y.d(),A&&A.d(k),x&&x.d(k),E&&E.d()}}}function create_fragment$p(f){let l,u,c=f[0]&&create_if_block$8(f);return{c(){c&&c.c(),l=empty$1()},l(m){c&&c.l(m),l=empty$1()},m(m,_){c&&c.m(m,_),insert_hydration(m,l,_),u=!0},p(m,[_]){m[0]?c?(c.p(m,_),_&1&&transition_in(c,1)):(c=create_if_block$8(m),c.c(),transition_in(c,1),c.m(l.parentNode,l)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros())},i(m){u||(transition_in(c),u=!0)},o(m){transition_out(c),u=!1},d(m){c&&c.d(m),m&&detach(l)}}}function instance$n(f,l,u){const c=["color","simple","position","open","divClass"];let m=compute_rest_props(l,c),{$$slots:_={},$$scope:g}=l;const b=compute_slots(_);let{color:y="blue"}=l,{simple:S=!1}=l,{position:A="none"}=l,{open:C=!0}=l,{divClass:x="w-full max-w-xs p-4"}=l;const E={"top-left":"absolute top-5 left-5","top-right":"absolute top-5 right-5","bottom-left":"absolute bottom-5 left-5","bottom-right":"absolute bottom-5 right-5",none:""};let k,T;const I=()=>u(0,C=!1);return f.$$set=M=>{u(13,l=assign(assign({},l),exclude_internal_props(M))),u(5,m=compute_rest_props(l,c)),"color"in M&&u(1,y=M.color),"simple"in M&&u(2,S=M.simple),"position"in M&&u(7,A=M.position),"open"in M&&u(0,C=M.open),"divClass"in M&&u(8,x=M.divClass),"$$scope"in M&&u(11,g=M.$$scope)},f.$$.update=()=>{u(3,k=classNames(x,E[A],l.class))},u(4,T=classNames("inline-flex items-center justify-center flex-shrink-0 w-8 h-8 mr-3")),l=exclude_internal_props(l),[C,y,S,k,T,m,b,A,x,_,I,g]}class Toast extends SvelteComponent{constructor(l){super(),init(this,l,instance$n,create_fragment$p,safe_not_equal,{color:1,simple:2,position:7,open:0,divClass:8})}}const Knob_svelte_svelte_type_style_lang="";function create_fragment$o(f){let l,u,c,m,_,g,b,y,S,A,C,x,E,k;return{c(){l=element("div"),u=element("div"),c=space(),m=svg_element("svg"),_=svg_element("circle"),g=space(),b=element("div"),y=element("div"),S=element("div"),A=space(),C=element("div"),x=text(f[0]),this.h()},l(T){l=claim_element(T,"DIV",{class:!0});var I=children(l);u=claim_element(I,"DIV",{class:!0,style:!0}),children(u).forEach(detach),c=claim_space(I),m=claim_svg_element(I,"svg",{viewBox:!0,class:!0});var M=children(m);_=claim_svg_element(M,"circle",{r:!0,stroke:!0,"stroke-width":!0,fill:!0}),children(_).forEach(detach),M.forEach(detach),g=claim_space(I),b=claim_element(I,"DIV",{class:!0});var j=children(b);y=claim_element(j,"DIV",{class:!0,style:!0});var P=children(y);S=claim_element(P,"DIV",{class:!0}),children(S).forEach(detach),P.forEach(detach),j.forEach(detach),A=claim_space(I),C=claim_element(I,"DIV",{class:!0});var O=children(C);x=claim_text(O,f[0]),O.forEach(detach),I.forEach(detach),this.h()},h(){attr(u,"class","knob__gradient svelte-14c90ps"),set_style(u,"--rotation",f[1]),attr(_,"r","9"),attr(_,"stroke","none"),attr(_,"stroke-width","0.5"),attr(_,"fill","var(--color-grey-dark)"),attr(m,"viewBox","-10 -10 20 20"),attr(m,"class","svelte-14c90ps"),attr(S,"class","knob__indicator svelte-14c90ps"),attr(y,"class","knob__inner svelte-14c90ps"),set_style(y,"--rotation",f[1]),attr(b,"class","knob svelte-14c90ps"),attr(C,"class","knob__label svelte-14c90ps"),attr(l,"class","knob__container svelte-14c90ps")},m(T,I){insert_hydration(T,l,I),append_hydration(l,u),append_hydration(l,c),append_hydration(l,m),append_hydration(m,_),append_hydration(l,g),append_hydration(l,b),append_hydration(b,y),append_hydration(y,S),append_hydration(l,A),append_hydration(l,C),append_hydration(C,x),E||(k=listen(y,"pointerdown",f[2]),E=!0)},p(T,[I]){I&2&&set_style(u,"--rotation",T[1]),I&2&&set_style(y,"--rotation",T[1]),I&1&&set_data(x,T[0])},i:noop$3,o:noop$3,d(T){T&&detach(l),E=!1,k()}}}function instance$m(f,l,u){let c,m,{name:_}=l,{value:g}=l,{min:b=0}=l,{max:y=1}=l,{rotRange:S=2*Math.PI*.8}=l,{pixelRange:A=200}=l,{startRotation:C=-Math.PI*.8}=l,x,E;function k({clientY:M}){const j=c*(M-x)/A;u(3,g=clamp(E-j,b,y))}function T({clientY:M}){x=M,E=g,window.addEventListener("pointermove",k),window.addEventListener("pointerup",I)}function I(){window.removeEventListener("pointermove",k),window.removeEventListener("pointerup",I)}return f.$$set=M=>{"name"in M&&u(0,_=M.name),"value"in M&&u(3,g=M.value),"min"in M&&u(4,b=M.min),"max"in M&&u(5,y=M.max),"rotRange"in M&&u(6,S=M.rotRange),"pixelRange"in M&&u(7,A=M.pixelRange),"startRotation"in M&&u(8,C=M.startRotation)},f.$$.update=()=>{f.$$.dirty&48&&u(9,c=y-b),f.$$.dirty&856&&u(1,m=C+(g-b)/c*S)},[_,m,T,g,b,y,S,A,C,c]}class Knob extends SvelteComponent{constructor(l){super(),init(this,l,instance$m,create_fragment$o,safe_not_equal,{name:0,value:3,min:4,max:5,rotRange:6,pixelRange:7,startRotation:8})}}var AudioKeys_state={_setState:function(f){var l=this;f||(f={}),l._state={},l._extendState({polyphony:4,rows:1,priority:"last",rootNote:60,octaveControls:!0,octave:0,velocityControls:!0,velocity:127,keys:[],buffer:[]}),l._extendState(f)},_extendState:function(f){var l=this;for(var u in f)l._state[u]=f[u]},set:function(){var f=this;return arguments.length===1?f._extendState(arguments[0]):f._state[arguments[0]]=arguments[1],this},get:function(f){var l=this;return l._state[f]}},AudioKeys_events={down:function(f){var l=this;l._listeners.down=(l._listeners.down||[]).concat(f)},up:function(f){var l=this;l._listeners.up=(l._listeners.up||[]).concat(f)},_trigger:function(f){var l=this;if(l._listeners[f]&&l._listeners[f].length){var u=Array.prototype.slice.call(arguments);u.splice(0,1),l._listeners[f].forEach(function(c){c.apply(l,u)})}},_bind:function(){var f=this;if(typeof window<"u"&&window.document){window.document.addEventListener("keydown",function(u){f._addKey(u)}),window.document.addEventListener("keyup",function(u){f._removeKey(u)});var l=!0;setInterval(function(){window.document.hasFocus()!==l&&(l=!l,l||f.clear())},100)}}},AudioKeys_mapping={_map:function(f){return this._keyMap[this._state.rows][f]+this._offset()},_offset:function(){return this._state.rootNote-this._keyMap[this._state.rows].root+this._state.octave*12},_isNote:function(f){return!!this._keyMap[this._state.rows][f]},_toFrequency:function(f){return Math.pow(2,(f-69)/12)*440},_keyMap:{1:{root:60,65:60,87:61,83:62,69:63,68:64,70:65,84:66,71:67,89:68,72:69,85:70,74:71,75:72,79:73,76:74,80:75,186:76,222:77},2:{root:60,90:60,83:61,88:62,68:63,67:64,86:65,71:66,66:67,72:68,78:69,74:70,77:71,188:72,76:73,190:74,186:75,191:76,81:72,50:73,87:74,51:75,69:76,82:77,53:78,84:79,54:80,89:81,55:82,85:83,73:84,57:85,79:86,48:87,80:88,219:89,187:90,221:91}}},AudioKeys_buffer={_addKey:function(f){var l=this;if(l._isNote(f.keyCode)&&!l._isPressed(f.keyCode)){var u=l._makeNote(f.keyCode);l._state.keys=(l._state.keys||[]).concat(u),l._update()}else l._isSpecialKey(f.keyCode)&&l._specialKey(f.keyCode)},_removeKey:function(f){var l=this;if(l._isPressed(f.keyCode)){for(var u,c=0;c<l._state.keys.length;c++)if(l._state.keys[c].keyCode===f.keyCode){u=l._state.keys[c];break}l._state.keys.splice(l._state.keys.indexOf(u),1),l._update()}},_isPressed:function(f){var l=this;if(!l._state.keys||!l._state.keys.length)return!1;for(var u=0;u<l._state.keys.length;u++)if(l._state.keys[u].keyCode===f)return!0;return!1},_makeNote:function(f){var l=this;return{keyCode:f,note:l._map(f),frequency:l._toFrequency(l._map(f)),velocity:l._state.velocity}},clear:function(){var f=this;f._state.buffer.forEach(function(l){l.velocity=0,f._trigger("up",l)}),f._state.keys=[],f._state.buffer=[]},_update:function(){var f=this,l=f._state.buffer;f._prioritize(),f._diff(l)},_diff:function(f){var l=this,u=f.map(function(g){return g.keyCode}),c=l._state.buffer.map(function(g){return g.keyCode}),m=[];u.forEach(function(g){c.indexOf(g)===-1&&m.push(g)});var _=[];c.forEach(function(g){u.indexOf(g)===-1&&_.push(g)}),_.forEach(function(g){for(var b=0;b<l._state.buffer.length;b++)if(l._state.buffer[b].keyCode===g){l._trigger("down",l._state.buffer[b]);break}}),m.forEach(function(g){for(var b=0;b<f.length;b++)if(f[b].keyCode===g){f[b].velocity=0,l._trigger("up",f[b]);break}})}},AudioKeys_priority={_prioritize:function(){var f=this;if(!f._state.keys.length){f._state.buffer=[];return}f._state.polyphony>=f._state.keys.length?f._state.keys=f._state.keys.map(function(l){return l.isActive=!0,l}):(f._state.keys=f._state.keys.map(function(l){return l.isActive=!1,l}),f["_"+f._state.priority]()),f._state.buffer=[],f._state.keys.forEach(function(l){l.isActive&&f._state.buffer.push(l)})},_last:function(){for(var f=this,l=f._state.keys.length-f._state.polyphony;l<f._state.keys.length;l++)f._state.keys[l].isActive=!0},_first:function(){for(var f=this,l=0;l<f._state.polyphony;l++)f._state.keys[l].isActive=!0},_highest:function(){var f=this,l=f._state.keys.map(function(u){return u.note});l.sort(function(u,c){return c===u?0:c<u?-1:1}),l.splice(f._state.polyphony,Number.MAX_VALUE),f._state.keys.forEach(function(u){l.indexOf(u.note)!==-1&&(u.isActive=!0)})},_lowest:function(){var f=this,l=f._state.keys.map(function(u){return u.note});l.sort(function(u,c){return u===c?0:u<c?-1:1}),l.splice(f._state.polyphony,Number.MAX_VALUE),f._state.keys.forEach(function(u){l.indexOf(u.note)!==-1&&(u.isActive=!0)})}},AudioKeys_special={_isSpecialKey:function(f){return this._state.rows===1&&this._specialKeyMap[f]},_specialKey:function(f){var l=this;l._specialKeyMap[f].type==="octave"&&l._state.octaveControls?l._state.octave+=l._specialKeyMap[f].value:l._specialKeyMap[f].type==="velocity"&&l._state.velocityControls&&(l._state.velocity=l._specialKeyMap[f].value)},_specialKeyMap:{90:{type:"octave",value:-1},88:{type:"octave",value:1},49:{type:"velocity",value:1},50:{type:"velocity",value:14},51:{type:"velocity",value:28},52:{type:"velocity",value:42},53:{type:"velocity",value:56},54:{type:"velocity",value:70},55:{type:"velocity",value:84},56:{type:"velocity",value:98},57:{type:"velocity",value:112},48:{type:"velocity",value:127}}},state=AudioKeys_state,events=AudioKeys_events,mapping=AudioKeys_mapping,buffer=AudioKeys_buffer,priority=AudioKeys_priority,special=AudioKeys_special;function AudioKeys(f){var l=this;l._setState(f),l._listeners={},l._bind()}AudioKeys.prototype._setState=state._setState;AudioKeys.prototype._extendState=state._extendState;AudioKeys.prototype.set=state.set;AudioKeys.prototype.get=state.get;AudioKeys.prototype.down=events.down;AudioKeys.prototype.up=events.up;AudioKeys.prototype._trigger=events._trigger;AudioKeys.prototype._bind=events._bind;AudioKeys.prototype._map=mapping._map;AudioKeys.prototype._offset=mapping._offset;AudioKeys.prototype._isNote=mapping._isNote;AudioKeys.prototype._toFrequency=mapping._toFrequency;AudioKeys.prototype._keyMap=mapping._keyMap;AudioKeys.prototype._addKey=buffer._addKey;AudioKeys.prototype._removeKey=buffer._removeKey;AudioKeys.prototype._isPressed=buffer._isPressed;AudioKeys.prototype._makeNote=buffer._makeNote;AudioKeys.prototype.clear=buffer.clear;AudioKeys.prototype._update=buffer._update;AudioKeys.prototype._diff=buffer._diff;AudioKeys.prototype._prioritize=priority._prioritize;AudioKeys.prototype._last=priority._last;AudioKeys.prototype._first=priority._first;AudioKeys.prototype._highest=priority._highest;AudioKeys.prototype._lowest=priority._lowest;AudioKeys.prototype._isSpecialKey=special._isSpecialKey;AudioKeys.prototype._specialKey=special._specialKey;AudioKeys.prototype._specialKeyMap=special._specialKeyMap;var AudioKeys_1=AudioKeys;const AudioKeys$1=getDefaultExportFromCjs(AudioKeys_1),map={60:"Z",61:"S",62:"X",63:"D",64:"C",65:"V",66:"G",67:"B",68:"H",69:"N",70:"J",71:"M",72:"Q",73:"2",74:"W",75:"3",76:"E",77:"R",78:"5",79:"T",80:"6",81:"Y",82:"7",83:"U"},noteToKey=f=>map[f],Key_svelte_svelte_type_style_lang="";function create_fragment$n(f){let l,u,c,m=noteToKey(f[1])+"",_,g,b,y,S;return{c(){l=element("div"),u=element("div"),c=element("span"),_=text(m),this.h()},l(A){l=claim_element(A,"DIV",{class:!0});var C=children(l);u=claim_element(C,"DIV",{class:!0});var x=children(u);c=claim_element(x,"SPAN",{class:!0});var E=children(c);_=claim_text(E,m),E.forEach(detach),x.forEach(detach),C.forEach(detach),this.h()},h(){attr(c,"class","label svelte-s3txvo"),attr(u,"class",g="inner piano-"+f[2]+" note-"+f[1]+" "+(f[0]?"active":"")+" svelte-s3txvo"),attr(l,"class",b="key key--"+f[2]+" svelte-s3txvo")},m(A,C){insert_hydration(A,l,C),append_hydration(l,u),append_hydration(u,c),append_hydration(c,_),y||(S=[listen(u,"mousedown",f[4]),listen(u,"mouseup",f[5]),listen(u,"mouseleave",f[6]),listen(u,"mouseenter",f[7]),listen(u,"touchstart",f[8],{passive:!0}),listen(u,"touchend",f[9],{passive:!0})],y=!0)},p(A,[C]){C&2&&m!==(m=noteToKey(A[1])+"")&&set_data(_,m),C&7&&g!==(g="inner piano-"+A[2]+" note-"+A[1]+" "+(A[0]?"active":"")+" svelte-s3txvo")&&attr(u,"class",g),C&4&&b!==(b="key key--"+A[2]+" svelte-s3txvo")&&attr(l,"class",b)},i:noop$3,o:noop$3,d(A){A&&detach(l),y=!1,run_all(S)}}}function instance$l(f,l,u){const c=createEventDispatcher();let{isActive:m=!1}=l,{note:_}=l,{colour:g}=l;const b=()=>c("down",_),y=()=>c("up",_),S=()=>c("leave",_),A=()=>c("enter",_),C=()=>c("touchstart",_),x=()=>c("touchend",_);return f.$$set=E=>{"isActive"in E&&u(0,m=E.isActive),"note"in E&&u(1,_=E.note),"colour"in E&&u(2,g=E.colour)},[m,_,g,c,b,y,S,A,C,x]}class Key extends SvelteComponent{constructor(l){super(),init(this,l,instance$l,create_fragment$n,safe_not_equal,{isActive:0,note:1,colour:2})}}const Keyboard_svelte_svelte_type_style_lang="",{window:window_1$2}=globals;function get_each_context$8(f,l,u){const c=f.slice();return c[20]=l[u],c[22]=u,c}function create_each_block$8(f){let l,u;return l=new Key({props:{note:f[20],colour:[1,3,6,8,10].includes(f[22]%12)?"black":"white",isActive:f[2].includes(f[20])}}),l.$on("down",f[3]),l.$on("up",f[4]),l.$on("leave",f[5]),l.$on("enter",f[6]),l.$on("touchstart",f[7]),l.$on("touchend",f[8]),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m&2&&(_.note=c[20]),m&6&&(_.isActive=c[2].includes(c[20])),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_fragment$m(f){let l,u,c,m,_,g=f[1],b=[];for(let S=0;S<g.length;S+=1)b[S]=create_each_block$8(get_each_context$8(f,g,S));const y=S=>transition_out(b[S],1,1,()=>{b[S]=null});return{c(){l=element("div"),u=element("div");for(let S=0;S<b.length;S+=1)b[S].c();this.h()},l(S){l=claim_element(S,"DIV",{class:!0});var A=children(l);u=claim_element(A,"DIV",{class:!0});var C=children(u);for(let x=0;x<b.length;x+=1)b[x].l(C);C.forEach(detach),A.forEach(detach),this.h()},h(){attr(u,"class","piano-keys svelte-12oh2o8"),attr(l,"class","piano svelte-12oh2o8")},m(S,A){insert_hydration(S,l,A),append_hydration(l,u);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(u,null);c=!0,m||(_=listen(window_1$2,"resize",f[9]),m=!0)},p(S,[A]){if(A&510){g=S[1];let C;for(C=0;C<g.length;C+=1){const x=get_each_context$8(S,g,C);b[C]?(b[C].p(x,A),transition_in(b[C],1)):(b[C]=create_each_block$8(x),b[C].c(),transition_in(b[C],1),b[C].m(u,null))}for(group_outros(),C=g.length;C<b.length;C+=1)y(C);check_outros()}},i(S){if(!c){for(let A=0;A<g.length;A+=1)transition_in(b[A]);c=!0}},o(S){b=b.filter(Boolean);for(let A=0;A<b.length;A+=1)transition_out(b[A]);c=!1},d(S){S&&detach(l),destroy_each(b,S),m=!1,_()}}}function instance$k(f,l,u){const c=new AudioKeys$1({polyphony:6,rows:2,priority:"last"});let m=!1,_=[60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83],g=_,b=[],y=!1,S=!1;drone.subscribe(L=>!L&&u(2,b=[]));function A(L,R=.5){u(2,b=get_store_value(drone)?[L]:[...b,L]),handleEvent({...get_store_value(synthValues),n:L,amp:R})}function C(L){b.includes(L)&&(!get_store_value(drone)&&u(2,b=b.filter(R=>R!==L)),handleNoteOff(get_store_value(synthValues).inst,L))}c.down(({note:L})=>{A(L)}),c.up(({note:L})=>{C(L)});function x(L){S||(m=!0,A(L.detail))}function E(L){S||(m=!1,C(L.detail))}function k(L){S||C(L.detail)}function T(L){S||!m||A(L.detail)}function I(L){S=!0,A(L.detail)}function M(L){C(L.detail)}function j(L){A(L.note.number,L.velocity)}function P(L){C(L.note.number)}function O(L){const R=wm.getInputByName(L);R!=null&&R.hasListener("noteon",j)&&(R!=null&&R.hasListener("noteoff",P))||(R==null||R.addListener("noteon",j),R==null||R.addListener("noteoff",P))}function N(L){const R=wm.getInputByName(L);R==null||R.removeListener("noteon",j),R==null||R.removeListener("noteoff",P)}onMount(()=>{u(0,y=window.innerWidth<650),inputs.subscribe(L=>{L.forEach(({name:R,active:G})=>G?O(R):N(R))})});const D=()=>u(0,y=window.innerWidth<650);return f.$$.update=()=>{f.$$.dirty&1&&u(1,g=y?_.slice(0,12):_)},[y,g,b,x,E,k,T,I,M,D]}class Keyboard extends SvelteComponent{constructor(l){super(),init(this,l,instance$k,create_fragment$m,safe_not_equal,{})}}const ButtonLarge_svelte_svelte_type_style_lang="";function create_if_block_1$6(f){let l,u;return{c(){l=element("span"),u=text(f[0])},l(c){l=claim_element(c,"SPAN",{});var m=children(l);u=claim_text(m,f[0]),m.forEach(detach)},m(c,m){insert_hydration(c,l,m),append_hydration(l,u)},p(c,m){m&1&&set_data(u,c[0])},d(c){c&&detach(l)}}}function create_if_block$7(f){let l,u,c;return u=new FontAwesomeIcon({props:{icon:f[1],size:"2x"}}),{c(){l=element("span"),create_component(u.$$.fragment),this.h()},l(m){l=claim_element(m,"SPAN",{class:!0});var _=children(l);claim_component(u.$$.fragment,_),_.forEach(detach),this.h()},h(){attr(l,"class","btn__icon")},m(m,_){insert_hydration(m,l,_),mount_component(u,l,null),c=!0},p(m,_){const g={};_&2&&(g.icon=m[1]),u.$set(g)},i(m){c||(transition_in(u.$$.fragment,m),c=!0)},o(m){transition_out(u.$$.fragment,m),c=!1},d(m){m&&detach(l),destroy_component(u)}}}function create_fragment$l(f){let l,u,c,m,_,g,b=f[0]&&create_if_block_1$6(f),y=f[1]&&create_if_block$7(f);return{c(){l=element("button"),b&&b.c(),u=space(),y&&y.c(),this.h()},l(S){l=claim_element(S,"BUTTON",{class:!0});var A=children(l);b&&b.l(A),u=claim_space(A),y&&y.l(A),A.forEach(detach),this.h()},h(){attr(l,"class",c=null_to_empty(`btn btn--${f[4]} ${f[3]?"btn--disabled":""}`)+" svelte-14ejb6v"),toggle_class(l,"active",f[2])},m(S,A){insert_hydration(S,l,A),b&&b.m(l,null),append_hydration(l,u),y&&y.m(l,null),m=!0,_||(g=listen(l,"click",function(){is_function(f[5])&&f[5].apply(this,arguments)}),_=!0)},p(S,[A]){f=S,f[0]?b?b.p(f,A):(b=create_if_block_1$6(f),b.c(),b.m(l,u)):b&&(b.d(1),b=null),f[1]?y?(y.p(f,A),A&2&&transition_in(y,1)):(y=create_if_block$7(f),y.c(),transition_in(y,1),y.m(l,null)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros()),(!m||A&24&&c!==(c=null_to_empty(`btn btn--${f[4]} ${f[3]?"btn--disabled":""}`)+" svelte-14ejb6v"))&&attr(l,"class",c),(!m||A&28)&&toggle_class(l,"active",f[2])},i(S){m||(transition_in(y),m=!0)},o(S){transition_out(y),m=!1},d(S){S&&detach(l),b&&b.d(),y&&y.d(),_=!1,g()}}}function instance$j(f,l,u){let{text:c}=l,{icon:m=null}=l,{active:_=!1}=l,{disabled:g=!1}=l,{colour:b}=l,{onClick:y=()=>{}}=l;return f.$$set=S=>{"text"in S&&u(0,c=S.text),"icon"in S&&u(1,m=S.icon),"active"in S&&u(2,_=S.active),"disabled"in S&&u(3,g=S.disabled),"colour"in S&&u(4,b=S.colour),"onClick"in S&&u(5,y=S.onClick)},[c,m,_,g,b,y]}class ButtonLarge extends SvelteComponent{constructor(l){super(),init(this,l,instance$j,create_fragment$l,safe_not_equal,{text:0,icon:1,active:2,disabled:3,colour:4,onClick:5})}}const Checkbox_svelte_svelte_type_style_lang="";function create_fragment$k(f){let l,u,c;return{c(){l=element("input"),this.h()},l(m){l=claim_element(m,"INPUT",{type:!0,class:!0}),this.h()},h(){attr(l,"type","checkbox"),attr(l,"class","svelte-xz6sph")},m(m,_){insert_hydration(m,l,_),l.checked=f[0],u||(c=[listen(l,"change",f[2]),listen(l,"change",f[3])],u=!0)},p(m,[_]){_&1&&(l.checked=m[0])},i:noop$3,o:noop$3,d(m){m&&detach(l),u=!1,run_all(c)}}}function instance$i(f,l,u){let{checked:c=!1}=l,{onChange:m}=l;function _(){c=this.checked,u(0,c)}const g=b=>{var y;return m(((y=b.target)==null?void 0:y.checked)||!1)};return f.$$set=b=>{"checked"in b&&u(0,c=b.checked),"onChange"in b&&u(1,m=b.onChange)},[c,m,_,g]}class Checkbox extends SvelteComponent{constructor(l){super(),init(this,l,instance$i,create_fragment$k,safe_not_equal,{checked:0,onChange:1})}}const Controls_svelte_svelte_type_style_lang$1="";function get_each_context$7(f,l,u){const c=f.slice();return c[16]=l[u].name,c[17]=l[u].a,c[18]=l[u].d,c[19]=l[u].s,c[20]=l[u].r,c[21]=l,c[22]=u,c}function get_each_context_1$2(f,l,u){const c=f.slice();return c[16]=l[u].name,c[23]=l[u].active,c[22]=u,c}function create_each_block_1$2(f,l){let u,c,m=l[16]+"",_,g,b,y,S;function A(...C){return l[7](l[22],...C)}return b=new Checkbox({props:{checked:l[23],onChange:A}}),{key:f,first:null,c(){u=element("div"),c=element("h3"),_=text(m),g=space(),create_component(b.$$.fragment),y=space(),this.h()},l(C){u=claim_element(C,"DIV",{class:!0});var x=children(u);c=claim_element(x,"H3",{});var E=children(c);_=claim_text(E,m),E.forEach(detach),g=claim_space(x),claim_component(b.$$.fragment,x),y=claim_space(x),x.forEach(detach),this.h()},h(){attr(u,"class","sidebar__input svelte-13pmh6r"),this.first=u},m(C,x){insert_hydration(C,u,x),append_hydration(u,c),append_hydration(c,_),append_hydration(u,g),mount_component(b,u,null),append_hydration(u,y),S=!0},p(C,x){l=C,(!S||x&2)&&m!==(m=l[16]+"")&&set_data(_,m);const E={};x&2&&(E.checked=l[23]),x&2&&(E.onChange=A),b.$set(E)},i(C){S||(transition_in(b.$$.fragment,C),S=!0)},o(C){transition_out(b.$$.fragment,C),S=!1},d(C){C&&detach(u),destroy_component(b)}}}function create_default_slot$2(f){let l,u,c,m,_,g,b,y,S,A=[],C=new Map,x,E,k,T=f[1];const I=M=>M[16];for(let M=0;M<T.length;M+=1){let j=get_each_context_1$2(f,T,M),P=I(j);C.set(P,A[M]=create_each_block_1$2(P,j))}return{c(){l=element("div"),u=element("button"),c=svg_element("svg"),m=svg_element("path"),_=space(),g=element("h2"),b=text("Midi Input Devices"),y=space(),S=element("div");for(let M=0;M<A.length;M+=1)A[M].c();this.h()},l(M){l=claim_element(M,"DIV",{class:!0});var j=children(l);u=claim_element(j,"BUTTON",{});var P=children(u);c=claim_svg_element(P,"svg",{class:!0,viewBox:!0,xmlns:!0});var O=children(c);m=claim_svg_element(O,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(m).forEach(detach),O.forEach(detach),P.forEach(detach),_=claim_space(j),g=claim_element(j,"H2",{class:!0});var N=children(g);b=claim_text(N,"Midi Input Devices"),N.forEach(detach),y=claim_space(j),S=claim_element(j,"DIV",{class:!0});var D=children(S);for(let L=0;L<A.length;L+=1)A[L].l(D);D.forEach(detach),j.forEach(detach),this.h()},h(){attr(m,"fill-rule","evenodd"),attr(m,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),attr(m,"clip-rule","evenodd"),attr(c,"class","sidebar__close w-5 h-5 mb-4 svelte-13pmh6r"),attr(c,"viewBox","0 0 20 20"),attr(c,"xmlns","http://www.w3.org/2000/svg"),attr(g,"class","sidebar__title svelte-13pmh6r"),attr(S,"class","sidebar__inputs"),attr(l,"class","sidebar")},m(M,j){insert_hydration(M,l,j),append_hydration(l,u),append_hydration(u,c),append_hydration(c,m),append_hydration(l,_),append_hydration(l,g),append_hydration(g,b),append_hydration(l,y),append_hydration(l,S);for(let P=0;P<A.length;P+=1)A[P]&&A[P].m(S,null);x=!0,E||(k=listen(u,"click",f[6]),E=!0)},p(M,j){j&2&&(T=M[1],group_outros(),A=update_keyed_each(A,j,I,1,M,T,C,S,outro_and_destroy_block,create_each_block_1$2,null,get_each_context_1$2),check_outros())},i(M){if(!x){for(let j=0;j<T.length;j+=1)transition_in(A[j]);x=!0}},o(M){for(let j=0;j<A.length;j+=1)transition_out(A[j]);x=!1},d(M){M&&detach(l);for(let j=0;j<A.length;j+=1)A[j].d();E=!1,k()}}}function create_each_block$7(f,l){let u,c,m=l[16]+"",_,g,b,y,S,A,C,x,E,k,T,I,M,j,P,O,N,D,L,R,G,Z,B,J;function K(H){l[12](H,l[17],l[21],l[22])}let ee={pixelRange:200,min:.01,name:"a"};l[17]!==void 0&&(ee.value=l[17]),S=new Knob({props:ee}),binding_callbacks.push(()=>bind(S,"value",K));function V(H){l[13](H,l[18],l[21],l[22])}let z={pixelRange:200,min:.01,name:"d"};l[18]!==void 0&&(z.value=l[18]),k=new Knob({props:z}),binding_callbacks.push(()=>bind(k,"value",V));function X(H){l[14](H,l[19],l[21],l[22])}let U={pixelRange:200,min:.01,name:"s"};l[19]!==void 0&&(U.value=l[19]),P=new Knob({props:U}),binding_callbacks.push(()=>bind(P,"value",X));function $(H){l[15](H,l[20],l[21],l[22])}let ae={pixelRange:200,min:.01,name:"r"};return l[20]!==void 0&&(ae.value=l[20]),R=new Knob({props:ae}),binding_callbacks.push(()=>bind(R,"value",$)),{key:f,first:null,c(){u=element("div"),c=element("h3"),_=text(m),b=space(),y=element("div"),create_component(S.$$.fragment),x=space(),E=element("div"),create_component(k.$$.fragment),M=space(),j=element("div"),create_component(P.$$.fragment),D=space(),L=element("div"),create_component(R.$$.fragment),Z=space(),this.h()},l(H){u=claim_element(H,"DIV",{class:!0});var ie=children(u);c=claim_element(ie,"H3",{class:!0});var Y=children(c);_=claim_text(Y,m),Y.forEach(detach),ie.forEach(detach),b=claim_space(H),y=claim_element(H,"DIV",{class:!0});var q=children(y);claim_component(S.$$.fragment,q),q.forEach(detach),x=claim_space(H),E=claim_element(H,"DIV",{class:!0});var ne=children(E);claim_component(k.$$.fragment,ne),ne.forEach(detach),M=claim_space(H),j=claim_element(H,"DIV",{class:!0});var oe=children(j);claim_component(P.$$.fragment,oe),oe.forEach(detach),D=claim_space(H),L=claim_element(H,"DIV",{class:!0});var he=children(L);claim_component(R.$$.fragment,he),Z=claim_space(he),he.forEach(detach),this.h()},h(){attr(c,"class","svelte-13pmh6r"),attr(u,"class",g="knobs__title knobs__title--envelope__"+l[22]+" svelte-13pmh6r"),attr(y,"class",C=`knobs__knob knobs__knob--${l[16]}_a svelte-13pmh6r`),attr(E,"class",I=`knobs__knob knobs__knob--${l[16]}_d svelte-13pmh6r`),attr(j,"class",N=`knobs__knob knobs__knob--${l[16]}_s svelte-13pmh6r`),attr(L,"class",B=`knobs__knob knobs__knob--${l[16]}_r svelte-13pmh6r`),this.first=u},m(H,ie){insert_hydration(H,u,ie),append_hydration(u,c),append_hydration(c,_),insert_hydration(H,b,ie),insert_hydration(H,y,ie),mount_component(S,y,null),insert_hydration(H,x,ie),insert_hydration(H,E,ie),mount_component(k,E,null),insert_hydration(H,M,ie),insert_hydration(H,j,ie),mount_component(P,j,null),insert_hydration(H,D,ie),insert_hydration(H,L,ie),mount_component(R,L,null),append_hydration(L,Z),J=!0},p(H,ie){l=H,(!J||ie&16)&&m!==(m=l[16]+"")&&set_data(_,m),(!J||ie&16&&g!==(g="knobs__title knobs__title--envelope__"+l[22]+" svelte-13pmh6r"))&&attr(u,"class",g);const Y={};!A&&ie&16&&(A=!0,Y.value=l[17],add_flush_callback(()=>A=!1)),S.$set(Y),(!J||ie&16&&C!==(C=`knobs__knob knobs__knob--${l[16]}_a svelte-13pmh6r`))&&attr(y,"class",C);const q={};!T&&ie&16&&(T=!0,q.value=l[18],add_flush_callback(()=>T=!1)),k.$set(q),(!J||ie&16&&I!==(I=`knobs__knob knobs__knob--${l[16]}_d svelte-13pmh6r`))&&attr(E,"class",I);const ne={};!O&&ie&16&&(O=!0,ne.value=l[19],add_flush_callback(()=>O=!1)),P.$set(ne),(!J||ie&16&&N!==(N=`knobs__knob knobs__knob--${l[16]}_s svelte-13pmh6r`))&&attr(j,"class",N);const oe={};!G&&ie&16&&(G=!0,oe.value=l[20],add_flush_callback(()=>G=!1)),R.$set(oe),(!J||ie&16&&B!==(B=`knobs__knob knobs__knob--${l[16]}_r svelte-13pmh6r`))&&attr(L,"class",B)},i(H){J||(transition_in(S.$$.fragment,H),transition_in(k.$$.fragment,H),transition_in(P.$$.fragment,H),transition_in(R.$$.fragment,H),J=!0)},o(H){transition_out(S.$$.fragment,H),transition_out(k.$$.fragment,H),transition_out(P.$$.fragment,H),transition_out(R.$$.fragment,H),J=!1},d(H){H&&detach(u),H&&detach(b),H&&detach(y),destroy_component(S),H&&detach(x),H&&detach(E),destroy_component(k),H&&detach(M),H&&detach(j),destroy_component(P),H&&detach(D),H&&detach(L),destroy_component(R)}}}function create_fragment$j(f){let l,u,c,m,_,g,b,y,S,A,C,x,E,k,T,I,M,j,P,O,N,D,L,R,G,Z=[],B=new Map,J;function K($){f[8]($)}let ee={transitionType:"fly",transitionParams:f[5],id:"sidebar",$$slots:{default:[create_default_slot$2]},$$scope:{ctx:f}};f[0]!==void 0&&(ee.hidden=f[0]),_=new Drawer({props:ee}),binding_callbacks.push(()=>bind(_,"hidden",K)),S=new ButtonLarge({props:{text:"Midi",colour:"primary",onClick:f[9],icon:faCircle}}),C=new ButtonLarge({props:{text:"Drone",colour:"secondary",active:f[2],onClick:f[10],icon:faSignal}}),T=new Keyboard({});function V($){f[11]($)}let z={name:"Vol",pixelRange:200};f[3]!==void 0&&(z.value=f[3]),L=new Knob({props:z}),binding_callbacks.push(()=>bind(L,"value",V));let X=f[4];const U=$=>$[16];for(let $=0;$<X.length;$+=1){let ae=get_each_context$7(f,X,$),H=U(ae);B.set(H,Z[$]=create_each_block$7(H,ae))}return{c(){l=element("div"),u=element("h2"),c=text("Controls"),m=space(),create_component(_.$$.fragment),b=space(),y=element("div"),create_component(S.$$.fragment),A=space(),create_component(C.$$.fragment),x=space(),E=element("div"),k=element("div"),create_component(T.$$.fragment),I=space(),M=element("div"),j=element("div"),P=element("h3"),O=text("Vol"),N=space(),D=element("div"),create_component(L.$$.fragment),G=space();for(let $=0;$<Z.length;$+=1)Z[$].c();this.h()},l($){l=claim_element($,"DIV",{class:!0});var ae=children(l);u=claim_element(ae,"H2",{class:!0});var H=children(u);c=claim_text(H,"Controls"),H.forEach(detach),m=claim_space(ae),claim_component(_.$$.fragment,ae),b=claim_space(ae),y=claim_element(ae,"DIV",{class:!0});var ie=children(y);claim_component(S.$$.fragment,ie),A=claim_space(ie),claim_component(C.$$.fragment,ie),ie.forEach(detach),x=claim_space(ae),E=claim_element(ae,"DIV",{class:!0});var Y=children(E);k=claim_element(Y,"DIV",{class:!0});var q=children(k);claim_component(T.$$.fragment,q),q.forEach(detach),I=claim_space(Y),M=claim_element(Y,"DIV",{class:!0});var ne=children(M);j=claim_element(ne,"DIV",{class:!0});var oe=children(j);P=claim_element(oe,"H3",{class:!0});var he=children(P);O=claim_text(he,"Vol"),he.forEach(detach),oe.forEach(detach),N=claim_space(ne),D=claim_element(ne,"DIV",{class:!0});var de=children(D);claim_component(L.$$.fragment,de),de.forEach(detach),G=claim_space(ne);for(let xe=0;xe<Z.length;xe+=1)Z[xe].l(ne);ne.forEach(detach),Y.forEach(detach),ae.forEach(detach),this.h()},h(){attr(u,"class","visually-hidden"),attr(y,"class","buttons svelte-13pmh6r"),attr(k,"class","keys svelte-13pmh6r"),attr(P,"class","svelte-13pmh6r"),attr(j,"class","knobs__title knobs__title--volume svelte-13pmh6r"),attr(D,"class","knobs__knob knobs__knob--vol svelte-13pmh6r"),attr(M,"class","knobs svelte-13pmh6r"),attr(E,"class","controller svelte-13pmh6r"),attr(l,"class","controls svelte-13pmh6r")},m($,ae){insert_hydration($,l,ae),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),mount_component(_,l,null),append_hydration(l,b),append_hydration(l,y),mount_component(S,y,null),append_hydration(y,A),mount_component(C,y,null),append_hydration(l,x),append_hydration(l,E),append_hydration(E,k),mount_component(T,k,null),append_hydration(E,I),append_hydration(E,M),append_hydration(M,j),append_hydration(j,P),append_hydration(P,O),append_hydration(M,N),append_hydration(M,D),mount_component(L,D,null),append_hydration(M,G);for(let H=0;H<Z.length;H+=1)Z[H]&&Z[H].m(M,null);J=!0},p($,[ae]){const H={};ae&33554435&&(H.$$scope={dirty:ae,ctx:$}),!g&&ae&1&&(g=!0,H.hidden=$[0],add_flush_callback(()=>g=!1)),_.$set(H);const ie={};ae&1&&(ie.onClick=$[9]),S.$set(ie);const Y={};ae&4&&(Y.active=$[2]),C.$set(Y);const q={};!R&&ae&8&&(R=!0,q.value=$[3],add_flush_callback(()=>R=!1)),L.$set(q),ae&16&&(X=$[4],group_outros(),Z=update_keyed_each(Z,ae,U,1,$,X,B,M,outro_and_destroy_block,create_each_block$7,null,get_each_context$7),check_outros())},i($){if(!J){transition_in(_.$$.fragment,$),transition_in(S.$$.fragment,$),transition_in(C.$$.fragment,$),transition_in(T.$$.fragment,$),transition_in(L.$$.fragment,$);for(let ae=0;ae<X.length;ae+=1)transition_in(Z[ae]);J=!0}},o($){transition_out(_.$$.fragment,$),transition_out(S.$$.fragment,$),transition_out(C.$$.fragment,$),transition_out(T.$$.fragment,$),transition_out(L.$$.fragment,$);for(let ae=0;ae<Z.length;ae+=1)transition_out(Z[ae]);J=!1},d($){$&&detach(l),destroy_component(_),destroy_component(S),destroy_component(C),destroy_component(T),destroy_component(L);for(let ae=0;ae<Z.length;ae+=1)Z[ae].d()}}}function instance$h(f,l,u){let c,m,_,g;component_subscribe(f,inputs,P=>u(1,c=P)),component_subscribe(f,drone,P=>u(2,m=P)),component_subscribe(f,volume,P=>u(3,_=P)),component_subscribe(f,envelopes,P=>u(4,g=P)),library$1.add(faSignal,faCircle);let b=!0,y={x:-320,duration:200,easing:sineIn};const S=()=>u(0,b=!0),A=(P,O)=>{inputs.update(N=>(N[P].active=O||!1,N))};function C(P){b=P,u(0,b)}const x=()=>u(0,b=!1),E=()=>drone.update(P=>!P);function k(P){_=P,volume.set(_)}function T(P,O,N,D){N[D].a=P,envelopes.set(g)}function I(P,O,N,D){N[D].d=P,envelopes.set(g)}function M(P,O,N,D){N[D].s=P,envelopes.set(g)}function j(P,O,N,D){N[D].r=P,envelopes.set(g)}return[b,c,m,_,g,y,S,A,C,x,E,k,T,I,M,j]}let Controls$1=class extends SvelteComponent{constructor(l){super(),init(this,l,instance$h,create_fragment$j,safe_not_equal,{})}};const Button_svelte_svelte_type_style_lang="";function create_if_block_1$5(f){let l,u,c;return u=new FontAwesomeIcon({props:{icon:f[2]}}),{c(){l=element("span"),create_component(u.$$.fragment),this.h()},l(m){l=claim_element(m,"SPAN",{class:!0});var _=children(l);claim_component(u.$$.fragment,_),_.forEach(detach),this.h()},h(){attr(l,"class","btn__icon")},m(m,_){insert_hydration(m,l,_),mount_component(u,l,null),c=!0},p(m,_){const g={};_&4&&(g.icon=m[2]),u.$set(g)},i(m){c||(transition_in(u.$$.fragment,m),c=!0)},o(m){transition_out(u.$$.fragment,m),c=!1},d(m){m&&detach(l),destroy_component(u)}}}function create_if_block$6(f){let l,u;return{c(){l=element("span"),u=text(f[1]),this.h()},l(c){l=claim_element(c,"SPAN",{class:!0});var m=children(l);u=claim_text(m,f[1]),m.forEach(detach),this.h()},h(){attr(l,"class","ml-2")},m(c,m){insert_hydration(c,l,m),append_hydration(l,u)},p(c,m){m&2&&set_data(u,c[1])},d(c){c&&detach(l)}}}function create_fragment$i(f){let l,u,c,m,_,g,b=f[2]&&create_if_block_1$5(f),y=f[1]&&create_if_block$6(f);return{c(){l=element("button"),b&&b.c(),u=space(),y&&y.c(),this.h()},l(S){l=claim_element(S,"BUTTON",{class:!0});var A=children(l);b&&b.l(A),u=claim_space(A),y&&y.l(A),A.forEach(detach),this.h()},h(){attr(l,"class",c=null_to_empty(`btn btn--${f[5]} ${f[4]?"btn--disabled":""} ${f[0]}`)+" svelte-gn74fx"),toggle_class(l,"active",f[3])},m(S,A){insert_hydration(S,l,A),b&&b.m(l,null),append_hydration(l,u),y&&y.m(l,null),m=!0,_||(g=listen(l,"click",function(){is_function(f[6])&&f[6].apply(this,arguments)}),_=!0)},p(S,[A]){f=S,f[2]?b?(b.p(f,A),A&4&&transition_in(b,1)):(b=create_if_block_1$5(f),b.c(),transition_in(b,1),b.m(l,u)):b&&(group_outros(),transition_out(b,1,1,()=>{b=null}),check_outros()),f[1]?y?y.p(f,A):(y=create_if_block$6(f),y.c(),y.m(l,null)):y&&(y.d(1),y=null),(!m||A&49&&c!==(c=null_to_empty(`btn btn--${f[5]} ${f[4]?"btn--disabled":""} ${f[0]}`)+" svelte-gn74fx"))&&attr(l,"class",c),(!m||A&57)&&toggle_class(l,"active",f[3])},i(S){m||(transition_in(b),m=!0)},o(S){transition_out(b),m=!1},d(S){S&&detach(l),b&&b.d(),y&&y.d(),_=!1,g()}}}function instance$g(f,l,u){let{classes:c=""}=l,{text:m}=l,{icon:_=null}=l,{active:g=!0}=l,{disabled:b=!1}=l,{colour:y}=l,{onClick:S}=l;return f.$$set=A=>{"classes"in A&&u(0,c=A.classes),"text"in A&&u(1,m=A.text),"icon"in A&&u(2,_=A.icon),"active"in A&&u(3,g=A.active),"disabled"in A&&u(4,b=A.disabled),"colour"in A&&u(5,y=A.colour),"onClick"in A&&u(6,S=A.onClick)},[c,m,_,g,b,y,S]}class Button extends SvelteComponent{constructor(l){super(),init(this,l,instance$g,create_fragment$i,safe_not_equal,{classes:0,text:1,icon:2,active:3,disabled:4,colour:5,onClick:6})}}const Select_svelte_svelte_type_style_lang="";function get_each_context$6(f,l,u){const c=f.slice();return c[3]=l[u].name,c[4]=l[u].active,c}function create_each_block$6(f){let l,u=f[3]+"",c,m,_;return{c(){l=element("option"),c=text(u),this.h()},l(g){l=claim_element(g,"OPTION",{});var b=children(l);c=claim_text(b,u),b.forEach(detach),this.h()},h(){l.disabled=m=!f[4],l.__value=_=f[3],l.value=l.__value},m(g,b){insert_hydration(g,l,b),append_hydration(l,c)},p(g,b){b&2&&u!==(u=g[3]+"")&&set_data(c,u),b&2&&m!==(m=!g[4])&&(l.disabled=m),b&2&&_!==(_=g[3])&&(l.__value=_,l.value=l.__value)},d(g){g&&detach(l)}}}function create_fragment$h(f){let l,u,c,m=f[1],_=[];for(let g=0;g<m.length;g+=1)_[g]=create_each_block$6(get_each_context$6(f,m,g));return{c(){l=element("select");for(let g=0;g<_.length;g+=1)_[g].c();this.h()},l(g){l=claim_element(g,"SELECT",{id:!0,class:!0});var b=children(l);for(let y=0;y<_.length;y+=1)_[y].l(b);b.forEach(detach),this.h()},h(){attr(l,"id",f[0]),attr(l,"class","svelte-1yifrmq")},m(g,b){insert_hydration(g,l,b);for(let y=0;y<_.length;y+=1)_[y]&&_[y].m(l,null);u||(c=listen(l,"change",function(){is_function(f[2])&&f[2].apply(this,arguments)}),u=!0)},p(g,[b]){if(f=g,b&2){m=f[1];let y;for(y=0;y<m.length;y+=1){const S=get_each_context$6(f,m,y);_[y]?_[y].p(S,b):(_[y]=create_each_block$6(S),_[y].c(),_[y].m(l,null))}for(;y<_.length;y+=1)_[y].d(1);_.length=m.length}b&1&&attr(l,"id",f[0])},i:noop$3,o:noop$3,d(g){g&&detach(l),destroy_each(_,g),u=!1,c()}}}function instance$f(f,l,u){let{id:c}=l,{options:m}=l,{onChange:_}=l;return f.$$set=g=>{"id"in g&&u(0,c=g.id),"options"in g&&u(1,m=g.options),"onChange"in g&&u(2,_=g.onChange)},[c,m,_]}class Select extends SvelteComponent{constructor(l){super(),init(this,l,instance$f,create_fragment$h,safe_not_equal,{id:0,options:1,onChange:2})}}var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(f,l){module.exports=l()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(l){_useWebWorker=!!l},getWebWorker=function(){return _useWebWorker},setLocationHref=function(l){locationHref=l},getLocationHref=function(){return locationHref};function createTag(f){return document.createElement(f)}function extendPrototype(f,l){var u,c=f.length,m;for(u=0;u<c;u+=1){m=f[u].prototype;for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(l.prototype[_]=m[_])}}function getDescriptor(f,l){return Object.getOwnPropertyDescriptor(f,l)}function createProxyFunction(f){function l(){}return l.prototype=f,l}var audioControllerFactory=function(){function f(l){this.audios=[],this.audioFactory=l,this._volume=1,this._isMuted=!1}return f.prototype={addAudio:function(u){this.audios.push(u)},pause:function(){var u,c=this.audios.length;for(u=0;u<c;u+=1)this.audios[u].pause()},resume:function(){var u,c=this.audios.length;for(u=0;u<c;u+=1)this.audios[u].resume()},setRate:function(u){var c,m=this.audios.length;for(c=0;c<m;c+=1)this.audios[c].setRate(u)},createAudio:function(u){return this.audioFactory?this.audioFactory(u):window.Howl?new window.Howl({src:[u]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(u){this.audioFactory=u},setVolume:function(u){this._volume=u,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var u,c=this.audios.length;for(u=0;u<c;u+=1)this.audios[u].volume(this._volume*(this._isMuted?0:1))}},function(){return new f}}(),createTypedArray=function(){function f(u,c){var m=0,_=[],g;switch(u){case"int16":case"uint8c":g=1;break;default:g=1.1;break}for(m=0;m<c;m+=1)_.push(g);return _}function l(u,c){return u==="float32"?new Float32Array(c):u==="int16"?new Int16Array(c):u==="uint8c"?new Uint8ClampedArray(c):f(u,c)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?l:f}();function createSizedArray(f){return Array.apply(null,{length:f})}function _typeof$6(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(u){return typeof u}:_typeof$6=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$6(f)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var f=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],l,u=f.length;for(l=0;l<u;l+=1)BMMath[f[l]]=Math[f[l]]})(),BMMath.random=Math.random,BMMath.abs=function(f){var l=_typeof$6(f);if(l==="object"&&f.length){var u=createSizedArray(f.length),c,m=f.length;for(c=0;c<m;c+=1)u[c]=Math.abs(f[c]);return u}return Math.abs(f)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(f){f.style.position="absolute",f.style.top=0,f.style.left=0,f.style.display="block",f.style.transformOrigin="0 0",f.style.webkitTransformOrigin="0 0",f.style.backfaceVisibility="visible",f.style.webkitBackfaceVisibility="visible",f.style.transformStyle="preserve-3d",f.style.webkitTransformStyle="preserve-3d",f.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(f,l,u,c){this.type=f,this.currentTime=l,this.totalTime=u,this.direction=c<0?-1:1}function BMCompleteEvent(f,l){this.type=f,this.direction=l<0?-1:1}function BMCompleteLoopEvent(f,l,u,c){this.type=f,this.currentLoop=u,this.totalLoops=l,this.direction=c<0?-1:1}function BMSegmentStartEvent(f,l,u){this.type=f,this.firstFrame=l,this.totalFrames=u}function BMDestroyEvent(f,l){this.type=f,this.target=l}function BMRenderFrameErrorEvent(f,l){this.type="renderFrameError",this.nativeError=f,this.currentTime=l}function BMConfigErrorEvent(f){this.type="configError",this.nativeError=f}var createElementID=function(){var f=0;return function(){return f+=1,idPrefix$1+"__lottie_element_"+f}}();function HSVtoRGB(f,l,u){var c,m,_,g,b,y,S,A;switch(g=Math.floor(f*6),b=f*6-g,y=u*(1-l),S=u*(1-b*l),A=u*(1-(1-b)*l),g%6){case 0:c=u,m=A,_=y;break;case 1:c=S,m=u,_=y;break;case 2:c=y,m=u,_=A;break;case 3:c=y,m=S,_=u;break;case 4:c=A,m=y,_=u;break;case 5:c=u,m=y,_=S;break}return[c,m,_]}function RGBtoHSV(f,l,u){var c=Math.max(f,l,u),m=Math.min(f,l,u),_=c-m,g,b=c===0?0:_/c,y=c/255;switch(c){case m:g=0;break;case f:g=l-u+_*(l<u?6:0),g/=6*_;break;case l:g=u-f+_*2,g/=6*_;break;case u:g=f-l+_*4,g/=6*_;break}return[g,b,y]}function addSaturationToRGB(f,l){var u=RGBtoHSV(f[0]*255,f[1]*255,f[2]*255);return u[1]+=l,u[1]>1?u[1]=1:u[1]<=0&&(u[1]=0),HSVtoRGB(u[0],u[1],u[2])}function addBrightnessToRGB(f,l){var u=RGBtoHSV(f[0]*255,f[1]*255,f[2]*255);return u[2]+=l,u[2]>1?u[2]=1:u[2]<0&&(u[2]=0),HSVtoRGB(u[0],u[1],u[2])}function addHueToRGB(f,l){var u=RGBtoHSV(f[0]*255,f[1]*255,f[2]*255);return u[0]+=l/360,u[0]>1?u[0]-=1:u[0]<0&&(u[0]+=1),HSVtoRGB(u[0],u[1],u[2])}var rgbToHex=function(){var f=[],l,u;for(l=0;l<256;l+=1)u=l.toString(16),f[l]=u.length===1?"0"+u:u;return function(c,m,_){return c<0&&(c=0),m<0&&(m=0),_<0&&(_=0),"#"+f[c]+f[m]+f[_]}}(),setSubframeEnabled=function(l){subframeEnabled=!!l},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(l){expressionsPlugin=l},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(l){expressionsInterfaces=l},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(l){defaultCurveSegments=l},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(l){idPrefix$1=l};function createNS(f){return document.createElementNS(svgNS,f)}function _typeof$5(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(u){return typeof u}:_typeof$5=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$5(f)}var dataManager=function(){var f=1,l=[],u,c,m={onmessage:function(){},postMessage:function(E){u({data:E})}},_={postMessage:function(E){m.onmessage({data:E})}};function g(x){if(window.Worker&&window.Blob&&getWebWorker()){var E=new Blob(["var _workerSelf = self; self.onmessage = ",x.toString()],{type:"text/javascript"}),k=URL.createObjectURL(E);return new Worker(k)}return u=x,m}function b(){c||(c=g(function(E){function k(){function I(V,z){var X,U,$=V.length,ae,H,ie,Y;for(U=0;U<$;U+=1)if(X=V[U],"ks"in X&&!X.completed){if(X.completed=!0,X.hasMask){var q=X.masksProperties;for(H=q.length,ae=0;ae<H;ae+=1)if(q[ae].pt.k.i)N(q[ae].pt.k);else for(Y=q[ae].pt.k.length,ie=0;ie<Y;ie+=1)q[ae].pt.k[ie].s&&N(q[ae].pt.k[ie].s[0]),q[ae].pt.k[ie].e&&N(q[ae].pt.k[ie].e[0])}X.ty===0?(X.layers=P(X.refId,z),I(X.layers,z)):X.ty===4?O(X.shapes):X.ty===5&&K(X)}}function M(V,z){if(V){var X=0,U=V.length;for(X=0;X<U;X+=1)V[X].t===1&&(V[X].data.layers=P(V[X].data.refId,z),I(V[X].data.layers,z))}}function j(V,z){for(var X=0,U=z.length;X<U;){if(z[X].id===V)return z[X];X+=1}return null}function P(V,z){var X=j(V,z);return X?X.layers.__used?JSON.parse(JSON.stringify(X.layers)):(X.layers.__used=!0,X.layers):null}function O(V){var z,X=V.length,U,$;for(z=X-1;z>=0;z-=1)if(V[z].ty==="sh")if(V[z].ks.k.i)N(V[z].ks.k);else for($=V[z].ks.k.length,U=0;U<$;U+=1)V[z].ks.k[U].s&&N(V[z].ks.k[U].s[0]),V[z].ks.k[U].e&&N(V[z].ks.k[U].e[0]);else V[z].ty==="gr"&&O(V[z].it)}function N(V){var z,X=V.i.length;for(z=0;z<X;z+=1)V.i[z][0]+=V.v[z][0],V.i[z][1]+=V.v[z][1],V.o[z][0]+=V.v[z][0],V.o[z][1]+=V.v[z][1]}function D(V,z){var X=z?z.split("."):[100,100,100];return V[0]>X[0]?!0:X[0]>V[0]?!1:V[1]>X[1]?!0:X[1]>V[1]?!1:V[2]>X[2]?!0:X[2]>V[2]?!1:null}var L=function(){var V=[4,4,14];function z(U){var $=U.t.d;U.t.d={k:[{s:$,t:0}]}}function X(U){var $,ae=U.length;for($=0;$<ae;$+=1)U[$].ty===5&&z(U[$])}return function(U){if(D(V,U.v)&&(X(U.layers),U.assets)){var $,ae=U.assets.length;for($=0;$<ae;$+=1)U.assets[$].layers&&X(U.assets[$].layers)}}}(),R=function(){var V=[4,7,99];return function(z){if(z.chars&&!D(V,z.v)){var X,U=z.chars.length;for(X=0;X<U;X+=1){var $=z.chars[X];$.data&&$.data.shapes&&(O($.data.shapes),$.data.ip=0,$.data.op=99999,$.data.st=0,$.data.sr=1,$.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},z.chars[X].t||($.data.shapes.push({ty:"no"}),$.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),G=function(){var V=[5,7,15];function z(U){var $=U.t.p;typeof $.a=="number"&&($.a={a:0,k:$.a}),typeof $.p=="number"&&($.p={a:0,k:$.p}),typeof $.r=="number"&&($.r={a:0,k:$.r})}function X(U){var $,ae=U.length;for($=0;$<ae;$+=1)U[$].ty===5&&z(U[$])}return function(U){if(D(V,U.v)&&(X(U.layers),U.assets)){var $,ae=U.assets.length;for($=0;$<ae;$+=1)U.assets[$].layers&&X(U.assets[$].layers)}}}(),Z=function(){var V=[4,1,9];function z(U){var $,ae=U.length,H,ie;for($=0;$<ae;$+=1)if(U[$].ty==="gr")z(U[$].it);else if(U[$].ty==="fl"||U[$].ty==="st")if(U[$].c.k&&U[$].c.k[0].i)for(ie=U[$].c.k.length,H=0;H<ie;H+=1)U[$].c.k[H].s&&(U[$].c.k[H].s[0]/=255,U[$].c.k[H].s[1]/=255,U[$].c.k[H].s[2]/=255,U[$].c.k[H].s[3]/=255),U[$].c.k[H].e&&(U[$].c.k[H].e[0]/=255,U[$].c.k[H].e[1]/=255,U[$].c.k[H].e[2]/=255,U[$].c.k[H].e[3]/=255);else U[$].c.k[0]/=255,U[$].c.k[1]/=255,U[$].c.k[2]/=255,U[$].c.k[3]/=255}function X(U){var $,ae=U.length;for($=0;$<ae;$+=1)U[$].ty===4&&z(U[$].shapes)}return function(U){if(D(V,U.v)&&(X(U.layers),U.assets)){var $,ae=U.assets.length;for($=0;$<ae;$+=1)U.assets[$].layers&&X(U.assets[$].layers)}}}(),B=function(){var V=[4,4,18];function z(U){var $,ae=U.length,H,ie;for($=ae-1;$>=0;$-=1)if(U[$].ty==="sh")if(U[$].ks.k.i)U[$].ks.k.c=U[$].closed;else for(ie=U[$].ks.k.length,H=0;H<ie;H+=1)U[$].ks.k[H].s&&(U[$].ks.k[H].s[0].c=U[$].closed),U[$].ks.k[H].e&&(U[$].ks.k[H].e[0].c=U[$].closed);else U[$].ty==="gr"&&z(U[$].it)}function X(U){var $,ae,H=U.length,ie,Y,q,ne;for(ae=0;ae<H;ae+=1){if($=U[ae],$.hasMask){var oe=$.masksProperties;for(Y=oe.length,ie=0;ie<Y;ie+=1)if(oe[ie].pt.k.i)oe[ie].pt.k.c=oe[ie].cl;else for(ne=oe[ie].pt.k.length,q=0;q<ne;q+=1)oe[ie].pt.k[q].s&&(oe[ie].pt.k[q].s[0].c=oe[ie].cl),oe[ie].pt.k[q].e&&(oe[ie].pt.k[q].e[0].c=oe[ie].cl)}$.ty===4&&z($.shapes)}}return function(U){if(D(V,U.v)&&(X(U.layers),U.assets)){var $,ae=U.assets.length;for($=0;$<ae;$+=1)U.assets[$].layers&&X(U.assets[$].layers)}}}();function J(V){V.__complete||(Z(V),L(V),R(V),G(V),B(V),I(V.layers,V.assets),M(V.chars,V.assets),V.__complete=!0)}function K(V){V.t.a.length===0&&"m"in V.t.p}var ee={};return ee.completeData=J,ee.checkColors=Z,ee.checkChars=R,ee.checkPathProperties=G,ee.checkShapes=B,ee.completeLayers=I,ee}if(_.dataManager||(_.dataManager=k()),_.assetLoader||(_.assetLoader=function(){function I(j){var P=j.getResponseHeader("content-type");return P&&j.responseType==="json"&&P.indexOf("json")!==-1||j.response&&_typeof$5(j.response)==="object"?j.response:j.response&&typeof j.response=="string"?JSON.parse(j.response):j.responseText?JSON.parse(j.responseText):null}function M(j,P,O,N){var D,L=new XMLHttpRequest;try{L.responseType="json"}catch{}L.onreadystatechange=function(){if(L.readyState===4)if(L.status===200)D=I(L),O(D);else try{D=I(L),O(D)}catch(R){N&&N(R)}};try{L.open(["G","E","T"].join(""),j,!0)}catch{L.open(["G","E","T"].join(""),P+"/"+j,!0)}L.send()}return{load:M}}()),E.data.type==="loadAnimation")_.assetLoader.load(E.data.path,E.data.fullPath,function(I){_.dataManager.completeData(I),_.postMessage({id:E.data.id,payload:I,status:"success"})},function(){_.postMessage({id:E.data.id,status:"error"})});else if(E.data.type==="complete"){var T=E.data.animation;_.dataManager.completeData(T),_.postMessage({id:E.data.id,payload:T,status:"success"})}else E.data.type==="loadData"&&_.assetLoader.load(E.data.path,E.data.fullPath,function(I){_.postMessage({id:E.data.id,payload:I,status:"success"})},function(){_.postMessage({id:E.data.id,status:"error"})})}),c.onmessage=function(x){var E=x.data,k=E.id,T=l[k];l[k]=null,E.status==="success"?T.onComplete(E.payload):T.onError&&T.onError()})}function y(x,E){f+=1;var k="processId_"+f;return l[k]={onComplete:x,onError:E},k}function S(x,E,k){b();var T=y(E,k);c.postMessage({type:"loadAnimation",path:x,fullPath:window.location.origin+window.location.pathname,id:T})}function A(x,E,k){b();var T=y(E,k);c.postMessage({type:"loadData",path:x,fullPath:window.location.origin+window.location.pathname,id:T})}function C(x,E,k){b();var T=y(E,k);c.postMessage({type:"complete",animation:x,id:T})}return{loadAnimation:S,loadData:A,completeAnimation:C}}(),ImagePreloader=function(){var f=function(){var M=createTag("canvas");M.width=1,M.height=1;var j=M.getContext("2d");return j.fillStyle="rgba(0,0,0,0)",j.fillRect(0,0,1,1),M}();function l(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function u(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function c(M,j,P){var O="";if(M.e)O=M.p;else if(j){var N=M.p;N.indexOf("images/")!==-1&&(N=N.split("/")[1]),O=j+N}else O=P,O+=M.u?M.u:"",O+=M.p;return O}function m(M){var j=0,P=setInterval((function(){var O=M.getBBox();(O.width||j>500)&&(this._imageLoaded(),clearInterval(P)),j+=1}).bind(this),50)}function _(M){var j=c(M,this.assetsPath,this.path),P=createNS("image");isSafari?this.testImageLoaded(P):P.addEventListener("load",this._imageLoaded,!1),P.addEventListener("error",(function(){O.img=f,this._imageLoaded()}).bind(this),!1),P.setAttributeNS("http://www.w3.org/1999/xlink","href",j),this._elementHelper.append?this._elementHelper.append(P):this._elementHelper.appendChild(P);var O={img:P,assetData:M};return O}function g(M){var j=c(M,this.assetsPath,this.path),P=createTag("img");P.crossOrigin="anonymous",P.addEventListener("load",this._imageLoaded,!1),P.addEventListener("error",(function(){O.img=f,this._imageLoaded()}).bind(this),!1),P.src=j;var O={img:P,assetData:M};return O}function b(M){var j={assetData:M},P=c(M,this.assetsPath,this.path);return dataManager.loadData(P,(function(O){j.img=O,this._footageLoaded()}).bind(this),(function(){j.img={},this._footageLoaded()}).bind(this)),j}function y(M,j){this.imagesLoadedCb=j;var P,O=M.length;for(P=0;P<O;P+=1)M[P].layers||(!M[P].t||M[P].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(M[P]))):M[P].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(M[P]))))}function S(M){this.path=M||""}function A(M){this.assetsPath=M||""}function C(M){for(var j=0,P=this.images.length;j<P;){if(this.images[j].assetData===M)return this.images[j].img;j+=1}return null}function x(){this.imagesLoadedCb=null,this.images.length=0}function E(){return this.totalImages===this.loadedAssets}function k(){return this.totalFootages===this.loadedFootagesCount}function T(M,j){M==="svg"?(this._elementHelper=j,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function I(){this._imageLoaded=l.bind(this),this._footageLoaded=u.bind(this),this.testImageLoaded=m.bind(this),this.createFootageData=b.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return I.prototype={loadAssets:y,setAssetsPath:A,setPath:S,loadedImages:E,loadedFootages:k,destroy:x,getAsset:C,createImgData:g,createImageData:_,imageLoaded:l,footageLoaded:u,setCacheType:T},I}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(l,u){if(this._cbs[l])for(var c=this._cbs[l],m=0;m<c.length;m+=1)c[m](u)},addEventListener:function(l,u){return this._cbs[l]||(this._cbs[l]=[]),this._cbs[l].push(u),(function(){this.removeEventListener(l,u)}).bind(this)},removeEventListener:function(l,u){if(!u)this._cbs[l]=null;else if(this._cbs[l]){for(var c=0,m=this._cbs[l].length;c<m;)this._cbs[l][c]===u&&(this._cbs[l].splice(c,1),c-=1,m-=1),c+=1;this._cbs[l].length||(this._cbs[l]=null)}}};var markerParser=function(){function f(l){for(var u=l.split(`\r
`),c={},m,_=0,g=0;g<u.length;g+=1)m=u[g].split(":"),m.length===2&&(c[m[0]]=m[1].trim(),_+=1);if(_===0)throw new Error;return c}return function(l){for(var u=[],c=0;c<l.length;c+=1){var m=l[c],_={time:m.tm,duration:m.dr};try{_.payload=JSON.parse(l[c].cm)}catch{try{_.payload=f(l[c].cm)}catch{_.payload={name:l[c].cm}}}u.push(_)}return u}}(),ProjectInterface=function(){function f(l){this.compositions.push(l)}return function(){function l(u){for(var c=0,m=this.compositions.length;c<m;){if(this.compositions[c].data&&this.compositions[c].data.nm===u)return this.compositions[c].prepareFrame&&this.compositions[c].data.xt&&this.compositions[c].prepareFrame(this.currentFrame),this.compositions[c].compInterface;c+=1}return null}return l.compositions=[],l.currentFrame=0,l.registerComposition=f,l}}(),renderers={},registerRenderer=function(l,u){renderers[l]=u};function getRenderer(f){return renderers[f]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var f in renderers)if(renderers[f])return f;return""}function _typeof$4(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(u){return typeof u}:_typeof$4=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$4(f)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(f){(f.wrapper||f.container)&&(this.wrapper=f.wrapper||f.container);var l="svg";f.animType?l=f.animType:f.renderer&&(l=f.renderer);var u=getRenderer(l);this.renderer=new u(this,f.rendererSettings),this.imagePreloader.setCacheType(l,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=l,f.loop===""||f.loop===null||f.loop===void 0||f.loop===!0?this.loop=!0:f.loop===!1?this.loop=!1:this.loop=parseInt(f.loop,10),this.autoplay="autoplay"in f?f.autoplay:!0,this.name=f.name?f.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(f,"autoloadSegments")?f.autoloadSegments:!0,this.assetsPath=f.assetsPath,this.initialSegment=f.initialSegment,f.audioFactory&&this.audioController.setAudioFactory(f.audioFactory),f.animationData?this.setupAnimation(f.animationData):f.path&&(f.path.lastIndexOf("\\")!==-1?this.path=f.path.substr(0,f.path.lastIndexOf("\\")+1):this.path=f.path.substr(0,f.path.lastIndexOf("/")+1),this.fileName=f.path.substr(f.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(f.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(f){dataManager.completeAnimation(f,this.configAnimation)},AnimationItem.prototype.setData=function(f,l){l&&_typeof$4(l)!=="object"&&(l=JSON.parse(l));var u={wrapper:f,animationData:l},c=f.attributes;u.path=c.getNamedItem("data-animation-path")?c.getNamedItem("data-animation-path").value:c.getNamedItem("data-bm-path")?c.getNamedItem("data-bm-path").value:c.getNamedItem("bm-path")?c.getNamedItem("bm-path").value:"",u.animType=c.getNamedItem("data-anim-type")?c.getNamedItem("data-anim-type").value:c.getNamedItem("data-bm-type")?c.getNamedItem("data-bm-type").value:c.getNamedItem("bm-type")?c.getNamedItem("bm-type").value:c.getNamedItem("data-bm-renderer")?c.getNamedItem("data-bm-renderer").value:c.getNamedItem("bm-renderer")?c.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var m=c.getNamedItem("data-anim-loop")?c.getNamedItem("data-anim-loop").value:c.getNamedItem("data-bm-loop")?c.getNamedItem("data-bm-loop").value:c.getNamedItem("bm-loop")?c.getNamedItem("bm-loop").value:"";m==="false"?u.loop=!1:m==="true"?u.loop=!0:m!==""&&(u.loop=parseInt(m,10));var _=c.getNamedItem("data-anim-autoplay")?c.getNamedItem("data-anim-autoplay").value:c.getNamedItem("data-bm-autoplay")?c.getNamedItem("data-bm-autoplay").value:c.getNamedItem("bm-autoplay")?c.getNamedItem("bm-autoplay").value:!0;u.autoplay=_!=="false",u.name=c.getNamedItem("data-name")?c.getNamedItem("data-name").value:c.getNamedItem("data-bm-name")?c.getNamedItem("data-bm-name").value:c.getNamedItem("bm-name")?c.getNamedItem("bm-name").value:"";var g=c.getNamedItem("data-anim-prerender")?c.getNamedItem("data-anim-prerender").value:c.getNamedItem("data-bm-prerender")?c.getNamedItem("data-bm-prerender").value:c.getNamedItem("bm-prerender")?c.getNamedItem("bm-prerender").value:"";g==="false"&&(u.prerender=!1),u.path?this.setParams(u):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(f){f.op>this.animationData.op&&(this.animationData.op=f.op,this.totalFrames=Math.floor(f.op-this.animationData.ip));var l=this.animationData.layers,u,c=l.length,m=f.layers,_,g=m.length;for(_=0;_<g;_+=1)for(u=0;u<c;){if(l[u].id===m[_].id){l[u]=m[_];break}u+=1}if((f.chars||f.fonts)&&(this.renderer.globalData.fontManager.addChars(f.chars),this.renderer.globalData.fontManager.addFonts(f.fonts,this.renderer.globalData.defs)),f.assets)for(c=f.assets.length,u=0;u<c;u+=1)this.animationData.assets.push(f.assets[u]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(f){this.animationData=f;var l=getExpressionsPlugin();l&&l.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var f=this.animationData.segments;if(!f||f.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var l=f.shift();this.timeCompleted=l.time*this.frameRate;var u=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(u,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var f=this.animationData.segments;f||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(f){if(this.renderer)try{this.animationData=f,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(f),f.assets||(f.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(f.assets),this.markers=markerParser(f.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(l){this.triggerConfigError(l)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var f=getExpressionsPlugin();f&&f.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(f,l){var u=typeof f=="number"?f:void 0,c=typeof l=="number"?l:void 0;this.renderer.updateContainerSize(u,c)},AnimationItem.prototype.setSubframe=function(f){this.isSubframeEnabled=!!f},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(f){this.triggerRenderFrameError(f)}},AnimationItem.prototype.play=function(f){f&&this.name!==f||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(f){f&&this.name!==f||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(f){f&&this.name!==f||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(f){f&&this.name!==f||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(f){for(var l,u=0;u<this.markers.length;u+=1)if(l=this.markers[u],l.payload&&l.payload.name===f)return l;return null},AnimationItem.prototype.goToAndStop=function(f,l,u){if(!(u&&this.name!==u)){var c=Number(f);if(isNaN(c)){var m=this.getMarkerData(f);m&&this.goToAndStop(m.time,!0)}else l?this.setCurrentRawFrameValue(f):this.setCurrentRawFrameValue(f*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(f,l,u){if(!(u&&this.name!==u)){var c=Number(f);if(isNaN(c)){var m=this.getMarkerData(f);m&&(m.duration?this.playSegments([m.time,m.time+m.duration],!0):this.goToAndStop(m.time,!0))}else this.goToAndStop(c,l,u);this.play()}},AnimationItem.prototype.advanceTime=function(f){if(!(this.isPaused===!0||this.isLoaded===!1)){var l=this.currentRawFrame+f*this.frameModifier,u=!1;l>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(l>this.totalFrames?l%this.totalFrames:0)||(u=!0,l=this.totalFrames-1):l>=this.totalFrames?(this.playCount+=1,this.checkSegments(l%this.totalFrames)||(this.setCurrentRawFrameValue(l%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(l):l<0?this.checkSegments(l%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+l%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(u=!0,l=0)):this.setCurrentRawFrameValue(l),u&&(this.setCurrentRawFrameValue(l),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(f,l){this.playCount=0,f[1]<f[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=f[0]-f[1],this.timeCompleted=this.totalFrames,this.firstFrame=f[1],this.setCurrentRawFrameValue(this.totalFrames-.001-l)):f[1]>f[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=f[1]-f[0],this.timeCompleted=this.totalFrames,this.firstFrame=f[0],this.setCurrentRawFrameValue(.001+l)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(f,l){var u=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<f?u=f:this.currentRawFrame+this.firstFrame>l&&(u=l-f)),this.firstFrame=f,this.totalFrames=l-f,this.timeCompleted=this.totalFrames,u!==-1&&this.goToAndStop(u,!0)},AnimationItem.prototype.playSegments=function(f,l){if(l&&(this.segments.length=0),_typeof$4(f[0])==="object"){var u,c=f.length;for(u=0;u<c;u+=1)this.segments.push(f[u])}else this.segments.push(f);this.segments.length&&l&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(f){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),f&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(f){return this.segments.length?(this.adjustSegment(this.segments.shift(),f),!0):!1},AnimationItem.prototype.destroy=function(f){f&&this.name!==f||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(f){this.currentRawFrame=f,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(f){this.playSpeed=f,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(f){this.playDirection=f<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(f){this.loop=f},AnimationItem.prototype.setVolume=function(f,l){l&&this.name!==l||this.audioController.setVolume(f)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(f){f&&this.name!==f||this.audioController.mute()},AnimationItem.prototype.unmute=function(f){f&&this.name!==f||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(f){var l="";if(f.e)l=f.p;else if(this.assetsPath){var u=f.p;u.indexOf("images/")!==-1&&(u=u.split("/")[1]),l=this.assetsPath+u}else l=this.path,l+=f.u?f.u:"",l+=f.p;return l},AnimationItem.prototype.getAssetData=function(f){for(var l=0,u=this.assets.length;l<u;){if(f===this.assets[l].id)return this.assets[l];l+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(f){return f?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(f,l,u){try{var c=this.renderer.getElementByPath(f);c.updateDocumentData(l,u)}catch{}},AnimationItem.prototype.trigger=function(f){if(this._cbs&&this._cbs[f])switch(f){case"enterFrame":this.triggerEvent(f,new BMEnterFrameEvent(f,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(f,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(f,new BMCompleteLoopEvent(f,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(f,new BMCompleteEvent(f,this.frameMult));break;case"segmentStart":this.triggerEvent(f,new BMSegmentStartEvent(f,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(f,new BMDestroyEvent(f,this));break;default:this.triggerEvent(f)}f==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(f,this.currentFrame,this.totalFrames,this.frameMult)),f==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(f,this.loop,this.playCount,this.frameMult)),f==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(f,this.frameMult)),f==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(f,this.firstFrame,this.totalFrames)),f==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(f,this))},AnimationItem.prototype.triggerRenderFrameError=function(f){var l=new BMRenderFrameErrorEvent(f,this.currentFrame);this.triggerEvent("error",l),this.onError&&this.onError.call(this,l)},AnimationItem.prototype.triggerConfigError=function(f){var l=new BMConfigErrorEvent(f,this.currentFrame);this.triggerEvent("error",l),this.onError&&this.onError.call(this,l)};var animationManager=function(){var f={},l=[],u=0,c=0,m=0,_=!0,g=!1;function b(z){for(var X=0,U=z.target;X<c;)l[X].animation===U&&(l.splice(X,1),X-=1,c-=1,U.isPaused||C()),X+=1}function y(z,X){if(!z)return null;for(var U=0;U<c;){if(l[U].elem===z&&l[U].elem!==null)return l[U].animation;U+=1}var $=new AnimationItem;return x($,z),$.setData(z,X),$}function S(){var z,X=l.length,U=[];for(z=0;z<X;z+=1)U.push(l[z].animation);return U}function A(){m+=1,Z()}function C(){m-=1}function x(z,X){z.addEventListener("destroy",b),z.addEventListener("_active",A),z.addEventListener("_idle",C),l.push({elem:X,animation:z}),c+=1}function E(z){var X=new AnimationItem;return x(X,null),X.setParams(z),X}function k(z,X){var U;for(U=0;U<c;U+=1)l[U].animation.setSpeed(z,X)}function T(z,X){var U;for(U=0;U<c;U+=1)l[U].animation.setDirection(z,X)}function I(z){var X;for(X=0;X<c;X+=1)l[X].animation.play(z)}function M(z){var X=z-u,U;for(U=0;U<c;U+=1)l[U].animation.advanceTime(X);u=z,m&&!g?window.requestAnimationFrame(M):_=!0}function j(z){u=z,window.requestAnimationFrame(M)}function P(z){var X;for(X=0;X<c;X+=1)l[X].animation.pause(z)}function O(z,X,U){var $;for($=0;$<c;$+=1)l[$].animation.goToAndStop(z,X,U)}function N(z){var X;for(X=0;X<c;X+=1)l[X].animation.stop(z)}function D(z){var X;for(X=0;X<c;X+=1)l[X].animation.togglePause(z)}function L(z){var X;for(X=c-1;X>=0;X-=1)l[X].animation.destroy(z)}function R(z,X,U){var $=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),ae,H=$.length;for(ae=0;ae<H;ae+=1)U&&$[ae].setAttribute("data-bm-type",U),y($[ae],z);if(X&&H===0){U||(U="svg");var ie=document.getElementsByTagName("body")[0];ie.innerText="";var Y=createTag("div");Y.style.width="100%",Y.style.height="100%",Y.setAttribute("data-bm-type",U),ie.appendChild(Y),y(Y,z)}}function G(){var z;for(z=0;z<c;z+=1)l[z].animation.resize()}function Z(){!g&&m&&_&&(window.requestAnimationFrame(j),_=!1)}function B(){g=!0}function J(){g=!1,Z()}function K(z,X){var U;for(U=0;U<c;U+=1)l[U].animation.setVolume(z,X)}function ee(z){var X;for(X=0;X<c;X+=1)l[X].animation.mute(z)}function V(z){var X;for(X=0;X<c;X+=1)l[X].animation.unmute(z)}return f.registerAnimation=y,f.loadAnimation=E,f.setSpeed=k,f.setDirection=T,f.play=I,f.pause=P,f.stop=N,f.togglePause=D,f.searchAnimations=R,f.resize=G,f.goToAndStop=O,f.destroy=L,f.freeze=B,f.unfreeze=J,f.setVolume=K,f.mute=ee,f.unmute=V,f.getRegisteredAnimations=S,f}(),BezierFactory=function(){var f={};f.getBezierEasing=u;var l={};function u(j,P,O,N,D){var L=D||("bez_"+j+"_"+P+"_"+O+"_"+N).replace(/\./g,"p");if(l[L])return l[L];var R=new M([j,P,O,N]);return l[L]=R,R}var c=4,m=.001,_=1e-7,g=10,b=11,y=1/(b-1),S=typeof Float32Array=="function";function A(j,P){return 1-3*P+3*j}function C(j,P){return 3*P-6*j}function x(j){return 3*j}function E(j,P,O){return((A(P,O)*j+C(P,O))*j+x(P))*j}function k(j,P,O){return 3*A(P,O)*j*j+2*C(P,O)*j+x(P)}function T(j,P,O,N,D){var L,R,G=0;do R=P+(O-P)/2,L=E(R,N,D)-j,L>0?O=R:P=R;while(Math.abs(L)>_&&++G<g);return R}function I(j,P,O,N){for(var D=0;D<c;++D){var L=k(P,O,N);if(L===0)return P;var R=E(P,O,N)-j;P-=R/L}return P}function M(j){this._p=j,this._mSampleValues=S?new Float32Array(b):new Array(b),this._precomputed=!1,this.get=this.get.bind(this)}return M.prototype={get:function(P){var O=this._p[0],N=this._p[1],D=this._p[2],L=this._p[3];return this._precomputed||this._precompute(),O===N&&D===L?P:P===0?0:P===1?1:E(this._getTForX(P),N,L)},_precompute:function(){var P=this._p[0],O=this._p[1],N=this._p[2],D=this._p[3];this._precomputed=!0,(P!==O||N!==D)&&this._calcSampleValues()},_calcSampleValues:function(){for(var P=this._p[0],O=this._p[2],N=0;N<b;++N)this._mSampleValues[N]=E(N*y,P,O)},_getTForX:function(P){for(var O=this._p[0],N=this._p[2],D=this._mSampleValues,L=0,R=1,G=b-1;R!==G&&D[R]<=P;++R)L+=y;--R;var Z=(P-D[R])/(D[R+1]-D[R]),B=L+Z*y,J=k(B,O,N);return J>=m?I(P,B,O,N):J===0?B:T(P,L,L+y,O,N)}},f}(),pooling=function(){function f(l){return l.concat(createSizedArray(l.length))}return{double:f}}(),poolFactory=function(){return function(f,l,u){var c=0,m=f,_=createSizedArray(m),g={newElement:b,release:y};function b(){var S;return c?(c-=1,S=_[c]):S=l(),S}function y(S){c===m&&(_=pooling.double(_),m*=2),u&&u(S),_[c]=S,c+=1}return g}}(),bezierLengthPool=function(){function f(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,f)}(),segmentsLengthPool=function(){function f(){return{lengths:[],totalLength:0}}function l(u){var c,m=u.lengths.length;for(c=0;c<m;c+=1)bezierLengthPool.release(u.lengths[c]);u.lengths.length=0}return poolFactory(8,f,l)}();function bezFunction(){var f=Math;function l(x,E,k,T,I,M){var j=x*T+E*I+k*M-I*T-M*x-k*E;return j>-.001&&j<.001}function u(x,E,k,T,I,M,j,P,O){if(k===0&&M===0&&O===0)return l(x,E,T,I,j,P);var N=f.sqrt(f.pow(T-x,2)+f.pow(I-E,2)+f.pow(M-k,2)),D=f.sqrt(f.pow(j-x,2)+f.pow(P-E,2)+f.pow(O-k,2)),L=f.sqrt(f.pow(j-T,2)+f.pow(P-I,2)+f.pow(O-M,2)),R;return N>D?N>L?R=N-D-L:R=L-D-N:L>D?R=L-D-N:R=D-N-L,R>-1e-4&&R<1e-4}var c=function(){return function(x,E,k,T){var I=getDefaultCurveSegments(),M,j,P,O,N,D=0,L,R=[],G=[],Z=bezierLengthPool.newElement();for(P=k.length,M=0;M<I;M+=1){for(N=M/(I-1),L=0,j=0;j<P;j+=1)O=bmPow(1-N,3)*x[j]+3*bmPow(1-N,2)*N*k[j]+3*(1-N)*bmPow(N,2)*T[j]+bmPow(N,3)*E[j],R[j]=O,G[j]!==null&&(L+=bmPow(R[j]-G[j],2)),G[j]=R[j];L&&(L=bmSqrt(L),D+=L),Z.percents[M]=N,Z.lengths[M]=D}return Z.addedLength=D,Z}}();function m(x){var E=segmentsLengthPool.newElement(),k=x.c,T=x.v,I=x.o,M=x.i,j,P=x._length,O=E.lengths,N=0;for(j=0;j<P-1;j+=1)O[j]=c(T[j],T[j+1],I[j],M[j+1]),N+=O[j].addedLength;return k&&P&&(O[j]=c(T[j],T[0],I[j],M[0]),N+=O[j].addedLength),E.totalLength=N,E}function _(x){this.segmentLength=0,this.points=new Array(x)}function g(x,E){this.partialLength=x,this.point=E}var b=function(){var x={};return function(E,k,T,I){var M=(E[0]+"_"+E[1]+"_"+k[0]+"_"+k[1]+"_"+T[0]+"_"+T[1]+"_"+I[0]+"_"+I[1]).replace(/\./g,"p");if(!x[M]){var j=getDefaultCurveSegments(),P,O,N,D,L,R=0,G,Z,B=null;E.length===2&&(E[0]!==k[0]||E[1]!==k[1])&&l(E[0],E[1],k[0],k[1],E[0]+T[0],E[1]+T[1])&&l(E[0],E[1],k[0],k[1],k[0]+I[0],k[1]+I[1])&&(j=2);var J=new _(j);for(N=T.length,P=0;P<j;P+=1){for(Z=createSizedArray(N),L=P/(j-1),G=0,O=0;O<N;O+=1)D=bmPow(1-L,3)*E[O]+3*bmPow(1-L,2)*L*(E[O]+T[O])+3*(1-L)*bmPow(L,2)*(k[O]+I[O])+bmPow(L,3)*k[O],Z[O]=D,B!==null&&(G+=bmPow(Z[O]-B[O],2));G=bmSqrt(G),R+=G,J.points[P]=new g(G,Z),B=Z}J.segmentLength=R,x[M]=J}return x[M]}}();function y(x,E){var k=E.percents,T=E.lengths,I=k.length,M=bmFloor((I-1)*x),j=x*E.addedLength,P=0;if(M===I-1||M===0||j===T[M])return k[M];for(var O=T[M]>j?-1:1,N=!0;N;)if(T[M]<=j&&T[M+1]>j?(P=(j-T[M])/(T[M+1]-T[M]),N=!1):M+=O,M<0||M>=I-1){if(M===I-1)return k[M];N=!1}return k[M]+(k[M+1]-k[M])*P}function S(x,E,k,T,I,M){var j=y(I,M),P=1-j,O=f.round((P*P*P*x[0]+(j*P*P+P*j*P+P*P*j)*k[0]+(j*j*P+P*j*j+j*P*j)*T[0]+j*j*j*E[0])*1e3)/1e3,N=f.round((P*P*P*x[1]+(j*P*P+P*j*P+P*P*j)*k[1]+(j*j*P+P*j*j+j*P*j)*T[1]+j*j*j*E[1])*1e3)/1e3;return[O,N]}var A=createTypedArray("float32",8);function C(x,E,k,T,I,M,j){I<0?I=0:I>1&&(I=1);var P=y(I,j);M=M>1?1:M;var O=y(M,j),N,D=x.length,L=1-P,R=1-O,G=L*L*L,Z=P*L*L*3,B=P*P*L*3,J=P*P*P,K=L*L*R,ee=P*L*R+L*P*R+L*L*O,V=P*P*R+L*P*O+P*L*O,z=P*P*O,X=L*R*R,U=P*R*R+L*O*R+L*R*O,$=P*O*R+L*O*O+P*R*O,ae=P*O*O,H=R*R*R,ie=O*R*R+R*O*R+R*R*O,Y=O*O*R+R*O*O+O*R*O,q=O*O*O;for(N=0;N<D;N+=1)A[N*4]=f.round((G*x[N]+Z*k[N]+B*T[N]+J*E[N])*1e3)/1e3,A[N*4+1]=f.round((K*x[N]+ee*k[N]+V*T[N]+z*E[N])*1e3)/1e3,A[N*4+2]=f.round((X*x[N]+U*k[N]+$*T[N]+ae*E[N])*1e3)/1e3,A[N*4+3]=f.round((H*x[N]+ie*k[N]+Y*T[N]+q*E[N])*1e3)/1e3;return A}return{getSegmentsLength:m,getNewSegment:C,getPointInSegment:S,buildBezierData:b,pointOnLine2D:l,pointOnLine3D:u}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(f,l){var u=this.offsetTime,c;this.propType==="multidimensional"&&(c=createTypedArray("float32",this.pv.length));for(var m=l.lastIndex,_=m,g=this.keyframes.length-1,b=!0,y,S,A;b;){if(y=this.keyframes[_],S=this.keyframes[_+1],_===g-1&&f>=S.t-u){y.h&&(y=S),m=0;break}if(S.t-u>f){m=_;break}_<g-1?_+=1:(m=0,b=!1)}A=this.keyframesMetadata[_]||{};var C,x,E,k,T,I,M=S.t-u,j=y.t-u,P;if(y.to){A.bezierData||(A.bezierData=bez.buildBezierData(y.s,S.s||y.e,y.to,y.ti));var O=A.bezierData;if(f>=M||f<j){var N=f>=M?O.points.length-1:0;for(x=O.points[N].point.length,C=0;C<x;C+=1)c[C]=O.points[N].point[C]}else{A.__fnct?I=A.__fnct:(I=BezierFactory.getBezierEasing(y.o.x,y.o.y,y.i.x,y.i.y,y.n).get,A.__fnct=I),E=I((f-j)/(M-j));var D=O.segmentLength*E,L,R=l.lastFrame<f&&l._lastKeyframeIndex===_?l._lastAddedLength:0;for(T=l.lastFrame<f&&l._lastKeyframeIndex===_?l._lastPoint:0,b=!0,k=O.points.length;b;){if(R+=O.points[T].partialLength,D===0||E===0||T===O.points.length-1){for(x=O.points[T].point.length,C=0;C<x;C+=1)c[C]=O.points[T].point[C];break}else if(D>=R&&D<R+O.points[T+1].partialLength){for(L=(D-R)/O.points[T+1].partialLength,x=O.points[T].point.length,C=0;C<x;C+=1)c[C]=O.points[T].point[C]+(O.points[T+1].point[C]-O.points[T].point[C])*L;break}T<k-1?T+=1:b=!1}l._lastPoint=T,l._lastAddedLength=R-O.points[T].partialLength,l._lastKeyframeIndex=_}}else{var G,Z,B,J,K;if(g=y.s.length,P=S.s||y.e,this.sh&&y.h!==1)if(f>=M)c[0]=P[0],c[1]=P[1],c[2]=P[2];else if(f<=j)c[0]=y.s[0],c[1]=y.s[1],c[2]=y.s[2];else{var ee=createQuaternion(y.s),V=createQuaternion(P),z=(f-j)/(M-j);quaternionToEuler(c,slerp(ee,V,z))}else for(_=0;_<g;_+=1)y.h!==1&&(f>=M?E=1:f<j?E=0:(y.o.x.constructor===Array?(A.__fnct||(A.__fnct=[]),A.__fnct[_]?I=A.__fnct[_]:(G=y.o.x[_]===void 0?y.o.x[0]:y.o.x[_],Z=y.o.y[_]===void 0?y.o.y[0]:y.o.y[_],B=y.i.x[_]===void 0?y.i.x[0]:y.i.x[_],J=y.i.y[_]===void 0?y.i.y[0]:y.i.y[_],I=BezierFactory.getBezierEasing(G,Z,B,J).get,A.__fnct[_]=I)):A.__fnct?I=A.__fnct:(G=y.o.x,Z=y.o.y,B=y.i.x,J=y.i.y,I=BezierFactory.getBezierEasing(G,Z,B,J).get,y.keyframeMetadata=I),E=I((f-j)/(M-j)))),P=S.s||y.e,K=y.h===1?y.s[_]:y.s[_]+(P[_]-y.s[_])*E,this.propType==="multidimensional"?c[_]=K:c=K}return l.lastIndex=m,c}function slerp(f,l,u){var c=[],m=f[0],_=f[1],g=f[2],b=f[3],y=l[0],S=l[1],A=l[2],C=l[3],x,E,k,T,I;return E=m*y+_*S+g*A+b*C,E<0&&(E=-E,y=-y,S=-S,A=-A,C=-C),1-E>1e-6?(x=Math.acos(E),k=Math.sin(x),T=Math.sin((1-u)*x)/k,I=Math.sin(u*x)/k):(T=1-u,I=u),c[0]=T*m+I*y,c[1]=T*_+I*S,c[2]=T*g+I*A,c[3]=T*b+I*C,c}function quaternionToEuler(f,l){var u=l[0],c=l[1],m=l[2],_=l[3],g=Math.atan2(2*c*_-2*u*m,1-2*c*c-2*m*m),b=Math.asin(2*u*c+2*m*_),y=Math.atan2(2*u*_-2*c*m,1-2*u*u-2*m*m);f[0]=g/degToRads,f[1]=b/degToRads,f[2]=y/degToRads}function createQuaternion(f){var l=f[0]*degToRads,u=f[1]*degToRads,c=f[2]*degToRads,m=Math.cos(l/2),_=Math.cos(u/2),g=Math.cos(c/2),b=Math.sin(l/2),y=Math.sin(u/2),S=Math.sin(c/2),A=m*_*g-b*y*S,C=b*y*g+m*_*S,x=b*_*g+m*y*S,E=m*y*g-b*_*S;return[C,x,E,A]}function getValueAtCurrentTime(){var f=this.comp.renderedFrame-this.offsetTime,l=this.keyframes[0].t-this.offsetTime,u=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(f===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=u&&f>=u||this._caching.lastFrame<l&&f<l))){this._caching.lastFrame>=f&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var c=this.interpolateValue(f,this._caching);this.pv=c}return this._caching.lastFrame=f,this.pv}function setVValue(f){var l;if(this.propType==="unidimensional")l=f*this.mult,mathAbs(this.v-l)>1e-5&&(this.v=l,this._mdf=!0);else for(var u=0,c=this.v.length;u<c;)l=f[u]*this.mult,mathAbs(this.v[u]-l)>1e-5&&(this.v[u]=l,this._mdf=!0),u+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var f,l=this.effectsSequence.length,u=this.kf?this.pv:this.data.k;for(f=0;f<l;f+=1)u=this.effectsSequence[f](u);this.setVValue(u),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(f){this.effectsSequence.push(f),this.container.addDynamicProperty(this)}function ValueProperty(f,l,u,c){this.propType="unidimensional",this.mult=u||1,this.data=l,this.v=u?l.k*u:l.k,this.pv=l.k,this._mdf=!1,this.elem=f,this.container=c,this.comp=f.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(f,l,u,c){this.propType="multidimensional",this.mult=u||1,this.data=l,this._mdf=!1,this.elem=f,this.container=c,this.comp=f.comp,this.k=!1,this.kf=!1,this.frameId=-1;var m,_=l.k.length;for(this.v=createTypedArray("float32",_),this.pv=createTypedArray("float32",_),this.vel=createTypedArray("float32",_),m=0;m<_;m+=1)this.v[m]=l.k[m]*this.mult,this.pv[m]=l.k[m];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(f,l,u,c){this.propType="unidimensional",this.keyframes=l.k,this.keyframesMetadata=[],this.offsetTime=f.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=l,this.mult=u||1,this.elem=f,this.container=c,this.comp=f.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(f,l,u,c){this.propType="multidimensional";var m,_=l.k.length,g,b,y,S;for(m=0;m<_-1;m+=1)l.k[m].to&&l.k[m].s&&l.k[m+1]&&l.k[m+1].s&&(g=l.k[m].s,b=l.k[m+1].s,y=l.k[m].to,S=l.k[m].ti,(g.length===2&&!(g[0]===b[0]&&g[1]===b[1])&&bez.pointOnLine2D(g[0],g[1],b[0],b[1],g[0]+y[0],g[1]+y[1])&&bez.pointOnLine2D(g[0],g[1],b[0],b[1],b[0]+S[0],b[1]+S[1])||g.length===3&&!(g[0]===b[0]&&g[1]===b[1]&&g[2]===b[2])&&bez.pointOnLine3D(g[0],g[1],g[2],b[0],b[1],b[2],g[0]+y[0],g[1]+y[1],g[2]+y[2])&&bez.pointOnLine3D(g[0],g[1],g[2],b[0],b[1],b[2],b[0]+S[0],b[1]+S[1],b[2]+S[2]))&&(l.k[m].to=null,l.k[m].ti=null),g[0]===b[0]&&g[1]===b[1]&&y[0]===0&&y[1]===0&&S[0]===0&&S[1]===0&&(g.length===2||g[2]===b[2]&&y[2]===0&&S[2]===0)&&(l.k[m].to=null,l.k[m].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=l,this.keyframes=l.k,this.keyframesMetadata=[],this.offsetTime=f.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=u||1,this.elem=f,this.container=c,this.comp=f.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var A=l.k[0].s.length;for(this.v=createTypedArray("float32",A),this.pv=createTypedArray("float32",A),m=0;m<A;m+=1)this.v[m]=initFrame,this.pv[m]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",A)},this.addEffect=addEffect}var PropertyFactory=function(){function f(u,c,m,_,g){c.sid&&(c=u.globalData.slotManager.getProp(c));var b;if(!c.k.length)b=new ValueProperty(u,c,_,g);else if(typeof c.k[0]=="number")b=new MultiDimensionalProperty(u,c,_,g);else switch(m){case 0:b=new KeyframedValueProperty(u,c,_,g);break;case 1:b=new KeyframedMultidimensionalProperty(u,c,_,g);break}return b.effectsSequence.length&&g.addDynamicProperty(b),b}var l={getProp:f};return l}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(l){this.dynamicProperties.indexOf(l)===-1&&(this.dynamicProperties.push(l),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var l,u=this.dynamicProperties.length;for(l=0;l<u;l+=1)this.dynamicProperties[l].getValue(),this.dynamicProperties[l]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(l){this.container=l,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function f(){return createTypedArray("float32",2)}return poolFactory(8,f)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(f,l){this.c=f,this.setLength(l);for(var u=0;u<l;)this.v[u]=pointPool.newElement(),this.o[u]=pointPool.newElement(),this.i[u]=pointPool.newElement(),u+=1},ShapePath.prototype.setLength=function(f){for(;this._maxLength<f;)this.doubleArrayLength();this._length=f},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(f,l,u,c,m){var _;switch(this._length=Math.max(this._length,c+1),this._length>=this._maxLength&&this.doubleArrayLength(),u){case"v":_=this.v;break;case"i":_=this.i;break;case"o":_=this.o;break;default:_=[];break}(!_[c]||_[c]&&!m)&&(_[c]=pointPool.newElement()),_[c][0]=f,_[c][1]=l},ShapePath.prototype.setTripleAt=function(f,l,u,c,m,_,g,b){this.setXYAt(f,l,"v",g,b),this.setXYAt(u,c,"o",g,b),this.setXYAt(m,_,"i",g,b)},ShapePath.prototype.reverse=function(){var f=new ShapePath;f.setPathData(this.c,this._length);var l=this.v,u=this.o,c=this.i,m=0;this.c&&(f.setTripleAt(l[0][0],l[0][1],c[0][0],c[0][1],u[0][0],u[0][1],0,!1),m=1);var _=this._length-1,g=this._length,b;for(b=m;b<g;b+=1)f.setTripleAt(l[_][0],l[_][1],c[_][0],c[_][1],u[_][0],u[_][1],b,!1),_-=1;return f},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function f(){return new ShapePath}function l(m){var _=m._length,g;for(g=0;g<_;g+=1)pointPool.release(m.v[g]),pointPool.release(m.i[g]),pointPool.release(m.o[g]),m.v[g]=null,m.i[g]=null,m.o[g]=null;m._length=0,m.c=!1}function u(m){var _=c.newElement(),g,b=m._length===void 0?m.v.length:m._length;for(_.setLength(b),_.c=m.c,g=0;g<b;g+=1)_.setTripleAt(m.v[g][0],m.v[g][1],m.o[g][0],m.o[g][1],m.i[g][0],m.i[g][1],g);return _}var c=poolFactory(4,f,l);return c.clone=u,c}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(f){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=f,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var f;for(f=0;f<this._length;f+=1)shapePool.release(this.shapes[f]);this._length=0};var shapeCollectionPool=function(){var f={newShapeCollection:m,release:_},l=0,u=4,c=createSizedArray(u);function m(){var g;return l?(l-=1,g=c[l]):g=new ShapeCollection,g}function _(g){var b,y=g._length;for(b=0;b<y;b+=1)shapePool.release(g.shapes[b]);g._length=0,l===u&&(c=pooling.double(c),u*=2),c[l]=g,l+=1}return f}(),ShapePropertyFactory=function(){var f=-999999;function l(M,j,P){var O=P.lastIndex,N,D,L,R,G,Z,B,J,K,ee=this.keyframes;if(M<ee[0].t-this.offsetTime)N=ee[0].s[0],L=!0,O=0;else if(M>=ee[ee.length-1].t-this.offsetTime)N=ee[ee.length-1].s?ee[ee.length-1].s[0]:ee[ee.length-2].e[0],L=!0;else{for(var V=O,z=ee.length-1,X=!0,U,$,ae;X&&(U=ee[V],$=ee[V+1],!($.t-this.offsetTime>M));)V<z-1?V+=1:X=!1;if(ae=this.keyframesMetadata[V]||{},L=U.h===1,O=V,!L){if(M>=$.t-this.offsetTime)J=1;else if(M<U.t-this.offsetTime)J=0;else{var H;ae.__fnct?H=ae.__fnct:(H=BezierFactory.getBezierEasing(U.o.x,U.o.y,U.i.x,U.i.y).get,ae.__fnct=H),J=H((M-(U.t-this.offsetTime))/($.t-this.offsetTime-(U.t-this.offsetTime)))}D=$.s?$.s[0]:U.e[0]}N=U.s[0]}for(Z=j._length,B=N.i[0].length,P.lastIndex=O,R=0;R<Z;R+=1)for(G=0;G<B;G+=1)K=L?N.i[R][G]:N.i[R][G]+(D.i[R][G]-N.i[R][G])*J,j.i[R][G]=K,K=L?N.o[R][G]:N.o[R][G]+(D.o[R][G]-N.o[R][G])*J,j.o[R][G]=K,K=L?N.v[R][G]:N.v[R][G]+(D.v[R][G]-N.v[R][G])*J,j.v[R][G]=K}function u(){var M=this.comp.renderedFrame-this.offsetTime,j=this.keyframes[0].t-this.offsetTime,P=this.keyframes[this.keyframes.length-1].t-this.offsetTime,O=this._caching.lastFrame;return O!==f&&(O<j&&M<j||O>P&&M>P)||(this._caching.lastIndex=O<M?this._caching.lastIndex:0,this.interpolateShape(M,this.pv,this._caching)),this._caching.lastFrame=M,this.pv}function c(){this.paths=this.localShapeCollection}function m(M,j){if(M._length!==j._length||M.c!==j.c)return!1;var P,O=M._length;for(P=0;P<O;P+=1)if(M.v[P][0]!==j.v[P][0]||M.v[P][1]!==j.v[P][1]||M.o[P][0]!==j.o[P][0]||M.o[P][1]!==j.o[P][1]||M.i[P][0]!==j.i[P][0]||M.i[P][1]!==j.i[P][1])return!1;return!0}function _(M){m(this.v,M)||(this.v=shapePool.clone(M),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function g(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var M;this.kf?M=this.pv:this.data.ks?M=this.data.ks.k:M=this.data.pt.k;var j,P=this.effectsSequence.length;for(j=0;j<P;j+=1)M=this.effectsSequence[j](M);this.setVValue(M),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function b(M,j,P){this.propType="shape",this.comp=M.comp,this.container=M,this.elem=M,this.data=j,this.k=!1,this.kf=!1,this._mdf=!1;var O=P===3?j.pt.k:j.ks.k;this.v=shapePool.clone(O),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=c,this.effectsSequence=[]}function y(M){this.effectsSequence.push(M),this.container.addDynamicProperty(this)}b.prototype.interpolateShape=l,b.prototype.getValue=g,b.prototype.setVValue=_,b.prototype.addEffect=y;function S(M,j,P){this.propType="shape",this.comp=M.comp,this.elem=M,this.container=M,this.offsetTime=M.data.st,this.keyframes=P===3?j.pt.k:j.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var O=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,O),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=f,this.reset=c,this._caching={lastFrame:f,lastIndex:0},this.effectsSequence=[u.bind(this)]}S.prototype.getValue=g,S.prototype.interpolateShape=l,S.prototype.setVValue=_,S.prototype.addEffect=y;var A=function(){var M=roundCorner;function j(P,O){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=O.d,this.elem=P,this.comp=P.comp,this.frameId=-1,this.initDynamicPropertyContainer(P),this.p=PropertyFactory.getProp(P,O.p,1,0,this),this.s=PropertyFactory.getProp(P,O.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return j.prototype={reset:c,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var O=this.p.v[0],N=this.p.v[1],D=this.s.v[0]/2,L=this.s.v[1]/2,R=this.d!==3,G=this.v;G.v[0][0]=O,G.v[0][1]=N-L,G.v[1][0]=R?O+D:O-D,G.v[1][1]=N,G.v[2][0]=O,G.v[2][1]=N+L,G.v[3][0]=R?O-D:O+D,G.v[3][1]=N,G.i[0][0]=R?O-D*M:O+D*M,G.i[0][1]=N-L,G.i[1][0]=R?O+D:O-D,G.i[1][1]=N-L*M,G.i[2][0]=R?O+D*M:O-D*M,G.i[2][1]=N+L,G.i[3][0]=R?O-D:O+D,G.i[3][1]=N+L*M,G.o[0][0]=R?O+D*M:O-D*M,G.o[0][1]=N-L,G.o[1][0]=R?O+D:O-D,G.o[1][1]=N+L*M,G.o[2][0]=R?O-D*M:O+D*M,G.o[2][1]=N+L,G.o[3][0]=R?O-D:O+D,G.o[3][1]=N-L*M}},extendPrototype([DynamicPropertyContainer],j),j}(),C=function(){function M(j,P){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=j,this.comp=j.comp,this.data=P,this.frameId=-1,this.d=P.d,this.initDynamicPropertyContainer(j),P.sy===1?(this.ir=PropertyFactory.getProp(j,P.ir,0,0,this),this.is=PropertyFactory.getProp(j,P.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(j,P.pt,0,0,this),this.p=PropertyFactory.getProp(j,P.p,1,0,this),this.r=PropertyFactory.getProp(j,P.r,0,degToRads,this),this.or=PropertyFactory.getProp(j,P.or,0,0,this),this.os=PropertyFactory.getProp(j,P.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return M.prototype={reset:c,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var P=Math.floor(this.pt.v)*2,O=Math.PI*2/P,N=!0,D=this.or.v,L=this.ir.v,R=this.os.v,G=this.is.v,Z=2*Math.PI*D/(P*2),B=2*Math.PI*L/(P*2),J,K,ee,V,z=-Math.PI/2;z+=this.r.v;var X=this.data.d===3?-1:1;for(this.v._length=0,J=0;J<P;J+=1){K=N?D:L,ee=N?R:G,V=N?Z:B;var U=K*Math.cos(z),$=K*Math.sin(z),ae=U===0&&$===0?0:$/Math.sqrt(U*U+$*$),H=U===0&&$===0?0:-U/Math.sqrt(U*U+$*$);U+=+this.p.v[0],$+=+this.p.v[1],this.v.setTripleAt(U,$,U-ae*V*ee*X,$-H*V*ee*X,U+ae*V*ee*X,$+H*V*ee*X,J,!0),N=!N,z+=O*X}},convertPolygonToPath:function(){var P=Math.floor(this.pt.v),O=Math.PI*2/P,N=this.or.v,D=this.os.v,L=2*Math.PI*N/(P*4),R,G=-Math.PI*.5,Z=this.data.d===3?-1:1;for(G+=this.r.v,this.v._length=0,R=0;R<P;R+=1){var B=N*Math.cos(G),J=N*Math.sin(G),K=B===0&&J===0?0:J/Math.sqrt(B*B+J*J),ee=B===0&&J===0?0:-B/Math.sqrt(B*B+J*J);B+=+this.p.v[0],J+=+this.p.v[1],this.v.setTripleAt(B,J,B-K*L*D*Z,J-ee*L*D*Z,B+K*L*D*Z,J+ee*L*D*Z,R,!0),G+=O*Z}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],M),M}(),x=function(){function M(j,P){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=j,this.comp=j.comp,this.frameId=-1,this.d=P.d,this.initDynamicPropertyContainer(j),this.p=PropertyFactory.getProp(j,P.p,1,0,this),this.s=PropertyFactory.getProp(j,P.s,1,0,this),this.r=PropertyFactory.getProp(j,P.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return M.prototype={convertRectToPath:function(){var P=this.p.v[0],O=this.p.v[1],N=this.s.v[0]/2,D=this.s.v[1]/2,L=bmMin(N,D,this.r.v),R=L*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(P+N,O-D+L,P+N,O-D+L,P+N,O-D+R,0,!0),this.v.setTripleAt(P+N,O+D-L,P+N,O+D-R,P+N,O+D-L,1,!0),L!==0?(this.v.setTripleAt(P+N-L,O+D,P+N-L,O+D,P+N-R,O+D,2,!0),this.v.setTripleAt(P-N+L,O+D,P-N+R,O+D,P-N+L,O+D,3,!0),this.v.setTripleAt(P-N,O+D-L,P-N,O+D-L,P-N,O+D-R,4,!0),this.v.setTripleAt(P-N,O-D+L,P-N,O-D+R,P-N,O-D+L,5,!0),this.v.setTripleAt(P-N+L,O-D,P-N+L,O-D,P-N+R,O-D,6,!0),this.v.setTripleAt(P+N-L,O-D,P+N-R,O-D,P+N-L,O-D,7,!0)):(this.v.setTripleAt(P-N,O+D,P-N+R,O+D,P-N,O+D,2),this.v.setTripleAt(P-N,O-D,P-N,O-D+R,P-N,O-D,3))):(this.v.setTripleAt(P+N,O-D+L,P+N,O-D+R,P+N,O-D+L,0,!0),L!==0?(this.v.setTripleAt(P+N-L,O-D,P+N-L,O-D,P+N-R,O-D,1,!0),this.v.setTripleAt(P-N+L,O-D,P-N+R,O-D,P-N+L,O-D,2,!0),this.v.setTripleAt(P-N,O-D+L,P-N,O-D+L,P-N,O-D+R,3,!0),this.v.setTripleAt(P-N,O+D-L,P-N,O+D-R,P-N,O+D-L,4,!0),this.v.setTripleAt(P-N+L,O+D,P-N+L,O+D,P-N+R,O+D,5,!0),this.v.setTripleAt(P+N-L,O+D,P+N-R,O+D,P+N-L,O+D,6,!0),this.v.setTripleAt(P+N,O+D-L,P+N,O+D-L,P+N,O+D-R,7,!0)):(this.v.setTripleAt(P-N,O-D,P-N+R,O-D,P-N,O-D,1,!0),this.v.setTripleAt(P-N,O+D,P-N,O+D-R,P-N,O+D,2,!0),this.v.setTripleAt(P+N,O+D,P+N-R,O+D,P+N,O+D,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:c},extendPrototype([DynamicPropertyContainer],M),M}();function E(M,j,P){var O;if(P===3||P===4){var N=P===3?j.pt:j.ks,D=N.k;D.length?O=new S(M,j,P):O=new b(M,j,P)}else P===5?O=new x(M,j):P===6?O=new A(M,j):P===7&&(O=new C(M,j));return O.k&&M.addDynamicProperty(O),O}function k(){return b}function T(){return S}var I={};return I.getShapeProp=E,I.getConstructorFunction=k,I.getKeyframedConstructorFunction=T,I}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var f=Math.cos,l=Math.sin,u=Math.tan,c=Math.round;function m(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function _(U){if(U===0)return this;var $=f(U),ae=l(U);return this._t($,-ae,0,0,ae,$,0,0,0,0,1,0,0,0,0,1)}function g(U){if(U===0)return this;var $=f(U),ae=l(U);return this._t(1,0,0,0,0,$,-ae,0,0,ae,$,0,0,0,0,1)}function b(U){if(U===0)return this;var $=f(U),ae=l(U);return this._t($,0,ae,0,0,1,0,0,-ae,0,$,0,0,0,0,1)}function y(U){if(U===0)return this;var $=f(U),ae=l(U);return this._t($,-ae,0,0,ae,$,0,0,0,0,1,0,0,0,0,1)}function S(U,$){return this._t(1,$,U,1,0,0)}function A(U,$){return this.shear(u(U),u($))}function C(U,$){var ae=f($),H=l($);return this._t(ae,H,0,0,-H,ae,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,u(U),1,0,0,0,0,1,0,0,0,0,1)._t(ae,-H,0,0,H,ae,0,0,0,0,1,0,0,0,0,1)}function x(U,$,ae){return!ae&&ae!==0&&(ae=1),U===1&&$===1&&ae===1?this:this._t(U,0,0,0,0,$,0,0,0,0,ae,0,0,0,0,1)}function E(U,$,ae,H,ie,Y,q,ne,oe,he,de,xe,Ce,ge,Ae,we){return this.props[0]=U,this.props[1]=$,this.props[2]=ae,this.props[3]=H,this.props[4]=ie,this.props[5]=Y,this.props[6]=q,this.props[7]=ne,this.props[8]=oe,this.props[9]=he,this.props[10]=de,this.props[11]=xe,this.props[12]=Ce,this.props[13]=ge,this.props[14]=Ae,this.props[15]=we,this}function k(U,$,ae){return ae=ae||0,U!==0||$!==0||ae!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,U,$,ae,1):this}function T(U,$,ae,H,ie,Y,q,ne,oe,he,de,xe,Ce,ge,Ae,we){var me=this.props;if(U===1&&$===0&&ae===0&&H===0&&ie===0&&Y===1&&q===0&&ne===0&&oe===0&&he===0&&de===1&&xe===0)return me[12]=me[12]*U+me[15]*Ce,me[13]=me[13]*Y+me[15]*ge,me[14]=me[14]*de+me[15]*Ae,me[15]*=we,this._identityCalculated=!1,this;var _e=me[0],Me=me[1],De=me[2],se=me[3],ce=me[4],ue=me[5],ve=me[6],Se=me[7],Ie=me[8],Be=me[9],$e=me[10],Ke=me[11],Qe=me[12],Re=me[13],He=me[14],Ge=me[15];return me[0]=_e*U+Me*ie+De*oe+se*Ce,me[1]=_e*$+Me*Y+De*he+se*ge,me[2]=_e*ae+Me*q+De*de+se*Ae,me[3]=_e*H+Me*ne+De*xe+se*we,me[4]=ce*U+ue*ie+ve*oe+Se*Ce,me[5]=ce*$+ue*Y+ve*he+Se*ge,me[6]=ce*ae+ue*q+ve*de+Se*Ae,me[7]=ce*H+ue*ne+ve*xe+Se*we,me[8]=Ie*U+Be*ie+$e*oe+Ke*Ce,me[9]=Ie*$+Be*Y+$e*he+Ke*ge,me[10]=Ie*ae+Be*q+$e*de+Ke*Ae,me[11]=Ie*H+Be*ne+$e*xe+Ke*we,me[12]=Qe*U+Re*ie+He*oe+Ge*Ce,me[13]=Qe*$+Re*Y+He*he+Ge*ge,me[14]=Qe*ae+Re*q+He*de+Ge*Ae,me[15]=Qe*H+Re*ne+He*xe+Ge*we,this._identityCalculated=!1,this}function I(U){var $=U.props;return this.transform($[0],$[1],$[2],$[3],$[4],$[5],$[6],$[7],$[8],$[9],$[10],$[11],$[12],$[13],$[14],$[15])}function M(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function j(U){for(var $=0;$<16;){if(U.props[$]!==this.props[$])return!1;$+=1}return!0}function P(U){var $;for($=0;$<16;$+=1)U.props[$]=this.props[$];return U}function O(U){var $;for($=0;$<16;$+=1)this.props[$]=U[$]}function N(U,$,ae){return{x:U*this.props[0]+$*this.props[4]+ae*this.props[8]+this.props[12],y:U*this.props[1]+$*this.props[5]+ae*this.props[9]+this.props[13],z:U*this.props[2]+$*this.props[6]+ae*this.props[10]+this.props[14]}}function D(U,$,ae){return U*this.props[0]+$*this.props[4]+ae*this.props[8]+this.props[12]}function L(U,$,ae){return U*this.props[1]+$*this.props[5]+ae*this.props[9]+this.props[13]}function R(U,$,ae){return U*this.props[2]+$*this.props[6]+ae*this.props[10]+this.props[14]}function G(){var U=this.props[0]*this.props[5]-this.props[1]*this.props[4],$=this.props[5]/U,ae=-this.props[1]/U,H=-this.props[4]/U,ie=this.props[0]/U,Y=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/U,q=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/U,ne=new Matrix;return ne.props[0]=$,ne.props[1]=ae,ne.props[4]=H,ne.props[5]=ie,ne.props[12]=Y,ne.props[13]=q,ne}function Z(U){var $=this.getInverseMatrix();return $.applyToPointArray(U[0],U[1],U[2]||0)}function B(U){var $,ae=U.length,H=[];for($=0;$<ae;$+=1)H[$]=Z(U[$]);return H}function J(U,$,ae){var H=createTypedArray("float32",6);if(this.isIdentity())H[0]=U[0],H[1]=U[1],H[2]=$[0],H[3]=$[1],H[4]=ae[0],H[5]=ae[1];else{var ie=this.props[0],Y=this.props[1],q=this.props[4],ne=this.props[5],oe=this.props[12],he=this.props[13];H[0]=U[0]*ie+U[1]*q+oe,H[1]=U[0]*Y+U[1]*ne+he,H[2]=$[0]*ie+$[1]*q+oe,H[3]=$[0]*Y+$[1]*ne+he,H[4]=ae[0]*ie+ae[1]*q+oe,H[5]=ae[0]*Y+ae[1]*ne+he}return H}function K(U,$,ae){var H;return this.isIdentity()?H=[U,$,ae]:H=[U*this.props[0]+$*this.props[4]+ae*this.props[8]+this.props[12],U*this.props[1]+$*this.props[5]+ae*this.props[9]+this.props[13],U*this.props[2]+$*this.props[6]+ae*this.props[10]+this.props[14]],H}function ee(U,$){if(this.isIdentity())return U+","+$;var ae=this.props;return Math.round((U*ae[0]+$*ae[4]+ae[12])*100)/100+","+Math.round((U*ae[1]+$*ae[5]+ae[13])*100)/100}function V(){for(var U=0,$=this.props,ae="matrix3d(",H=1e4;U<16;)ae+=c($[U]*H)/H,ae+=U===15?")":",",U+=1;return ae}function z(U){var $=1e4;return U<1e-6&&U>0||U>-1e-6&&U<0?c(U*$)/$:U}function X(){var U=this.props,$=z(U[0]),ae=z(U[1]),H=z(U[4]),ie=z(U[5]),Y=z(U[12]),q=z(U[13]);return"matrix("+$+","+ae+","+H+","+ie+","+Y+","+q+")"}return function(){this.reset=m,this.rotate=_,this.rotateX=g,this.rotateY=b,this.rotateZ=y,this.skew=A,this.skewFromAxis=C,this.shear=S,this.scale=x,this.setTransform=E,this.translate=k,this.transform=T,this.multiply=I,this.applyToPoint=N,this.applyToX=D,this.applyToY=L,this.applyToZ=R,this.applyToPointArray=K,this.applyToTriplePoints=J,this.applyToPointStringified=ee,this.toCSS=V,this.to2dCSS=X,this.clone=P,this.cloneFromProps=O,this.equals=j,this.inversePoints=B,this.inversePoint=Z,this.getInverseMatrix=G,this._t=this.transform,this.isIdentity=M,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(u){return typeof u}:_typeof$3=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$3(f)}var lottie={};function setLocation(f){setLocationHref(f)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(f){setSubframeEnabled(f)}function setPrefix(f){setIdPrefix(f)}function loadAnimation(f){return animationManager.loadAnimation(f)}function setQuality(f){if(typeof f=="string")switch(f){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(f)&&f>1&&setDefaultCurveSegments(f)}function inBrowser(){return typeof navigator<"u"}function installPlugin(f,l){f==="expressions"&&setExpressionsPlugin(l)}function getFactory(f){switch(f){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(f){for(var l=queryString.split("&"),u=0;u<l.length;u+=1){var c=l[u].split("=");if(decodeURIComponent(c[0])==f)return decodeURIComponent(c[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(f){}var ShapeModifiers=function(){var f={},l={};f.registerModifier=u,f.getModifier=c;function u(m,_){l[m]||(l[m]=_)}function c(m,_,g){return new l[m](_,g)}return f}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(f){if(!this.closed){f.sh.container.addDynamicProperty(f.sh);var l={shape:f.sh,data:f,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(l),this.addShapeToModifier(l),this._isAnimated&&f.setAsAnimated()}},ShapeModifier.prototype.init=function(f,l){this.shapes=[],this.elem=f,this.initDynamicPropertyContainer(f),this.initModifierProperties(f,l),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(f,l){this.s=PropertyFactory.getProp(f,l.s,0,.01,this),this.e=PropertyFactory.getProp(f,l.e,0,.01,this),this.o=PropertyFactory.getProp(f,l.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=l.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(f){f.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(f,l,u,c,m){var _=[];l<=1?_.push({s:f,e:l}):f>=1?_.push({s:f-1,e:l-1}):(_.push({s:f,e:1}),_.push({s:0,e:l-1}));var g=[],b,y=_.length,S;for(b=0;b<y;b+=1)if(S=_[b],!(S.e*m<c||S.s*m>c+u)){var A,C;S.s*m<=c?A=0:A=(S.s*m-c)/u,S.e*m>=c+u?C=1:C=(S.e*m-c)/u,g.push([A,C])}return g.length||g.push([0,0]),g},TrimModifier.prototype.releasePathsData=function(f){var l,u=f.length;for(l=0;l<u;l+=1)segmentsLengthPool.release(f[l]);return f.length=0,f},TrimModifier.prototype.processShapes=function(f){var l,u;if(this._mdf||f){var c=this.o.v%360/360;if(c<0&&(c+=1),this.s.v>1?l=1+c:this.s.v<0?l=0+c:l=this.s.v+c,this.e.v>1?u=1+c:this.e.v<0?u=0+c:u=this.e.v+c,l>u){var m=l;l=u,u=m}l=Math.round(l*1e4)*1e-4,u=Math.round(u*1e4)*1e-4,this.sValue=l,this.eValue=u}else l=this.sValue,u=this.eValue;var _,g,b=this.shapes.length,y,S,A,C,x,E=0;if(u===l)for(g=0;g<b;g+=1)this.shapes[g].localShapeCollection.releaseShapes(),this.shapes[g].shape._mdf=!0,this.shapes[g].shape.paths=this.shapes[g].localShapeCollection,this._mdf&&(this.shapes[g].pathsData.length=0);else if(u===1&&l===0||u===0&&l===1){if(this._mdf)for(g=0;g<b;g+=1)this.shapes[g].pathsData.length=0,this.shapes[g].shape._mdf=!0}else{var k=[],T,I;for(g=0;g<b;g+=1)if(T=this.shapes[g],!T.shape._mdf&&!this._mdf&&!f&&this.m!==2)T.shape.paths=T.localShapeCollection;else{if(_=T.shape.paths,S=_._length,x=0,!T.shape._mdf&&T.pathsData.length)x=T.totalShapeLength;else{for(A=this.releasePathsData(T.pathsData),y=0;y<S;y+=1)C=bez.getSegmentsLength(_.shapes[y]),A.push(C),x+=C.totalLength;T.totalShapeLength=x,T.pathsData=A}E+=x,T.shape._mdf=!0}var M=l,j=u,P=0,O;for(g=b-1;g>=0;g-=1)if(T=this.shapes[g],T.shape._mdf){for(I=T.localShapeCollection,I.releaseShapes(),this.m===2&&b>1?(O=this.calculateShapeEdges(l,u,T.totalShapeLength,P,E),P+=T.totalShapeLength):O=[[M,j]],S=O.length,y=0;y<S;y+=1){M=O[y][0],j=O[y][1],k.length=0,j<=1?k.push({s:T.totalShapeLength*M,e:T.totalShapeLength*j}):M>=1?k.push({s:T.totalShapeLength*(M-1),e:T.totalShapeLength*(j-1)}):(k.push({s:T.totalShapeLength*M,e:T.totalShapeLength}),k.push({s:0,e:T.totalShapeLength*(j-1)}));var N=this.addShapes(T,k[0]);if(k[0].s!==k[0].e){if(k.length>1){var D=T.shape.paths.shapes[T.shape.paths._length-1];if(D.c){var L=N.pop();this.addPaths(N,I),N=this.addShapes(T,k[1],L)}else this.addPaths(N,I),N=this.addShapes(T,k[1])}this.addPaths(N,I)}}T.shape.paths=I}}},TrimModifier.prototype.addPaths=function(f,l){var u,c=f.length;for(u=0;u<c;u+=1)l.addShape(f[u])},TrimModifier.prototype.addSegment=function(f,l,u,c,m,_,g){m.setXYAt(l[0],l[1],"o",_),m.setXYAt(u[0],u[1],"i",_+1),g&&m.setXYAt(f[0],f[1],"v",_),m.setXYAt(c[0],c[1],"v",_+1)},TrimModifier.prototype.addSegmentFromArray=function(f,l,u,c){l.setXYAt(f[1],f[5],"o",u),l.setXYAt(f[2],f[6],"i",u+1),c&&l.setXYAt(f[0],f[4],"v",u),l.setXYAt(f[3],f[7],"v",u+1)},TrimModifier.prototype.addShapes=function(f,l,u){var c=f.pathsData,m=f.shape.paths.shapes,_,g=f.shape.paths._length,b,y,S=0,A,C,x,E,k=[],T,I=!0;for(u?(C=u._length,T=u._length):(u=shapePool.newElement(),C=0,T=0),k.push(u),_=0;_<g;_+=1){for(x=c[_].lengths,u.c=m[_].c,y=m[_].c?x.length:x.length+1,b=1;b<y;b+=1)if(A=x[b-1],S+A.addedLength<l.s)S+=A.addedLength,u.c=!1;else if(S>l.e){u.c=!1;break}else l.s<=S&&l.e>=S+A.addedLength?(this.addSegment(m[_].v[b-1],m[_].o[b-1],m[_].i[b],m[_].v[b],u,C,I),I=!1):(E=bez.getNewSegment(m[_].v[b-1],m[_].v[b],m[_].o[b-1],m[_].i[b],(l.s-S)/A.addedLength,(l.e-S)/A.addedLength,x[b-1]),this.addSegmentFromArray(E,u,C,I),I=!1,u.c=!1),S+=A.addedLength,C+=1;if(m[_].c&&x.length){if(A=x[b-1],S<=l.e){var M=x[b-1].addedLength;l.s<=S&&l.e>=S+M?(this.addSegment(m[_].v[b-1],m[_].o[b-1],m[_].i[0],m[_].v[0],u,C,I),I=!1):(E=bez.getNewSegment(m[_].v[b-1],m[_].v[0],m[_].o[b-1],m[_].i[0],(l.s-S)/M,(l.e-S)/M,x[b-1]),this.addSegmentFromArray(E,u,C,I),I=!1,u.c=!1)}else u.c=!1;S+=A.addedLength,C+=1}if(u._length&&(u.setXYAt(u.v[T][0],u.v[T][1],"i",T),u.setXYAt(u.v[u._length-1][0],u.v[u._length-1][1],"o",u._length-1)),S>l.e)break;_<g-1&&(u=shapePool.newElement(),I=!0,k.push(u),C=0)}return k};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(f,l.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(f,l){var u=l/100,c=[0,0],m=f._length,_=0;for(_=0;_<m;_+=1)c[0]+=f.v[_][0],c[1]+=f.v[_][1];c[0]/=m,c[1]/=m;var g=shapePool.newElement();g.c=f.c;var b,y,S,A,C,x;for(_=0;_<m;_+=1)b=f.v[_][0]+(c[0]-f.v[_][0])*u,y=f.v[_][1]+(c[1]-f.v[_][1])*u,S=f.o[_][0]+(c[0]-f.o[_][0])*-u,A=f.o[_][1]+(c[1]-f.o[_][1])*-u,C=f.i[_][0]+(c[0]-f.i[_][0])*-u,x=f.i[_][1]+(c[1]-f.i[_][1])*-u,g.setTripleAt(b,y,S,A,C,x,_);return g},PuckerAndBloatModifier.prototype.processShapes=function(f){var l,u,c=this.shapes.length,m,_,g=this.amount.v;if(g!==0){var b,y;for(u=0;u<c;u+=1){if(b=this.shapes[u],y=b.localShapeCollection,!(!b.shape._mdf&&!this._mdf&&!f))for(y.releaseShapes(),b.shape._mdf=!0,l=b.shape.paths.shapes,_=b.shape.paths._length,m=0;m<_;m+=1)y.addShape(this.processPath(l[m],g));b.shape.paths=b.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var f=[0,0];function l(y){var S=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||S,this.a&&y.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&y.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&y.skewFromAxis(-this.sk.v,this.sa.v),this.r?y.rotate(-this.r.v):y.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?y.translate(this.px.v,this.py.v,-this.pz.v):y.translate(this.px.v,this.py.v,0):y.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function u(y){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||y){var S;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var A,C;if(S=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(A=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/S,0),C=this.p.getValueAtTime(this.p.keyframes[0].t/S,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(A=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/S,0),C=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/S,0)):(A=this.p.pv,C=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/S,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){A=[],C=[];var x=this.px,E=this.py;x._caching.lastFrame+x.offsetTime<=x.keyframes[0].t?(A[0]=x.getValueAtTime((x.keyframes[0].t+.01)/S,0),A[1]=E.getValueAtTime((E.keyframes[0].t+.01)/S,0),C[0]=x.getValueAtTime(x.keyframes[0].t/S,0),C[1]=E.getValueAtTime(E.keyframes[0].t/S,0)):x._caching.lastFrame+x.offsetTime>=x.keyframes[x.keyframes.length-1].t?(A[0]=x.getValueAtTime(x.keyframes[x.keyframes.length-1].t/S,0),A[1]=E.getValueAtTime(E.keyframes[E.keyframes.length-1].t/S,0),C[0]=x.getValueAtTime((x.keyframes[x.keyframes.length-1].t-.01)/S,0),C[1]=E.getValueAtTime((E.keyframes[E.keyframes.length-1].t-.01)/S,0)):(A=[x.pv,E.pv],C[0]=x.getValueAtTime((x._caching.lastFrame+x.offsetTime-.01)/S,x.offsetTime),C[1]=E.getValueAtTime((E._caching.lastFrame+E.offsetTime-.01)/S,E.offsetTime))}else C=f,A=C;this.v.rotate(-Math.atan2(A[1]-C[1],A[0]-C[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function c(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function m(){}function _(y){this._addDynamicProperty(y),this.elem.addDynamicProperty(y),this._isDirty=!0}function g(y,S,A){if(this.elem=y,this.frameId=-1,this.propType="transform",this.data=S,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(A||y),S.p&&S.p.s?(this.px=PropertyFactory.getProp(y,S.p.x,0,0,this),this.py=PropertyFactory.getProp(y,S.p.y,0,0,this),S.p.z&&(this.pz=PropertyFactory.getProp(y,S.p.z,0,0,this))):this.p=PropertyFactory.getProp(y,S.p||{k:[0,0,0]},1,0,this),S.rx){if(this.rx=PropertyFactory.getProp(y,S.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(y,S.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(y,S.rz,0,degToRads,this),S.or.k[0].ti){var C,x=S.or.k.length;for(C=0;C<x;C+=1)S.or.k[C].to=null,S.or.k[C].ti=null}this.or=PropertyFactory.getProp(y,S.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(y,S.r||{k:0},0,degToRads,this);S.sk&&(this.sk=PropertyFactory.getProp(y,S.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(y,S.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(y,S.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(y,S.s||{k:[100,100,100]},1,.01,this),S.o?this.o=PropertyFactory.getProp(y,S.o,0,.01,y):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}g.prototype={applyToMatrix:l,getValue:u,precalculateMatrix:c,autoOrient:m},extendPrototype([DynamicPropertyContainer],g),g.prototype.addDynamicProperty=_,g.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function b(y,S,A){return new g(y,S,A)}return{getTransformProperty:b}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(f,l.c,0,null,this),this.o=PropertyFactory.getProp(f,l.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(f,l.tr,this),this.so=PropertyFactory.getProp(f,l.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(f,l.tr.eo,0,.01,this),this.data=l,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(f,l,u,c,m,_){var g=_?-1:1,b=c.s.v[0]+(1-c.s.v[0])*(1-m),y=c.s.v[1]+(1-c.s.v[1])*(1-m);f.translate(c.p.v[0]*g*m,c.p.v[1]*g*m,c.p.v[2]),l.translate(-c.a.v[0],-c.a.v[1],c.a.v[2]),l.rotate(-c.r.v*g*m),l.translate(c.a.v[0],c.a.v[1],c.a.v[2]),u.translate(-c.a.v[0],-c.a.v[1],c.a.v[2]),u.scale(_?1/b:b,_?1/y:y),u.translate(c.a.v[0],c.a.v[1],c.a.v[2])},RepeaterModifier.prototype.init=function(f,l,u,c){for(this.elem=f,this.arr=l,this.pos=u,this.elemsData=c,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(f),this.initModifierProperties(f,l[u]);u>0;)u-=1,this._elements.unshift(l[u]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(f){var l,u=f.length;for(l=0;l<u;l+=1)f[l]._processed=!1,f[l].ty==="gr"&&this.resetElements(f[l].it)},RepeaterModifier.prototype.cloneElements=function(f){var l=JSON.parse(JSON.stringify(f));return this.resetElements(l),l},RepeaterModifier.prototype.changeGroupRender=function(f,l){var u,c=f.length;for(u=0;u<c;u+=1)f[u]._render=l,f[u].ty==="gr"&&this.changeGroupRender(f[u].it,l)},RepeaterModifier.prototype.processShapes=function(f){var l,u,c,m,_,g=!1;if(this._mdf||f){var b=Math.ceil(this.c.v);if(this._groups.length<b){for(;this._groups.length<b;){var y={it:this.cloneElements(this._elements),ty:"gr"};y.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,y),this._groups.splice(0,0,y),this._currentCopies+=1}this.elem.reloadShapes(),g=!0}_=0;var S;for(c=0;c<=this._groups.length-1;c+=1){if(S=_<b,this._groups[c]._render=S,this.changeGroupRender(this._groups[c].it,S),!S){var A=this.elemsData[c].it,C=A[A.length-1];C.transform.op.v!==0?(C.transform.op._mdf=!0,C.transform.op.v=0):C.transform.op._mdf=!1}_+=1}this._currentCopies=b;var x=this.o.v,E=x%1,k=x>0?Math.floor(x):Math.ceil(x),T=this.pMatrix.props,I=this.rMatrix.props,M=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var j=0;if(x>0){for(;j<k;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),j+=1;E&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,E,!1),j+=E)}else if(x<0){for(;j>k;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),j-=1;E&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-E,!0),j-=E)}c=this.data.m===1?0:this._currentCopies-1,m=this.data.m===1?1:-1,_=this._currentCopies;for(var P,O;_;){if(l=this.elemsData[c].it,u=l[l.length-1].transform.mProps.v.props,O=u.length,l[l.length-1].transform.mProps._mdf=!0,l[l.length-1].transform.op._mdf=!0,l[l.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(c/(this._currentCopies-1)),j!==0){for((c!==0&&m===1||c!==this._currentCopies-1&&m===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(I[0],I[1],I[2],I[3],I[4],I[5],I[6],I[7],I[8],I[9],I[10],I[11],I[12],I[13],I[14],I[15]),this.matrix.transform(M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],M[8],M[9],M[10],M[11],M[12],M[13],M[14],M[15]),this.matrix.transform(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),P=0;P<O;P+=1)u[P]=this.matrix.props[P];this.matrix.reset()}else for(this.matrix.reset(),P=0;P<O;P+=1)u[P]=this.matrix.props[P];j+=1,_-=1,c+=m}}else for(_=this._currentCopies,c=0,m=1;_;)l=this.elemsData[c].it,u=l[l.length-1].transform.mProps.v.props,l[l.length-1].transform.mProps._mdf=!1,l[l.length-1].transform.op._mdf=!1,_-=1,c+=m;return g},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(f,l.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(f,l){var u=shapePool.newElement();u.c=f.c;var c,m=f._length,_,g,b,y,S,A,C=0,x,E,k,T,I,M;for(c=0;c<m;c+=1)_=f.v[c],b=f.o[c],g=f.i[c],_[0]===b[0]&&_[1]===b[1]&&_[0]===g[0]&&_[1]===g[1]?(c===0||c===m-1)&&!f.c?(u.setTripleAt(_[0],_[1],b[0],b[1],g[0],g[1],C),C+=1):(c===0?y=f.v[m-1]:y=f.v[c-1],S=Math.sqrt(Math.pow(_[0]-y[0],2)+Math.pow(_[1]-y[1],2)),A=S?Math.min(S/2,l)/S:0,I=_[0]+(y[0]-_[0])*A,x=I,M=_[1]-(_[1]-y[1])*A,E=M,k=x-(x-_[0])*roundCorner,T=E-(E-_[1])*roundCorner,u.setTripleAt(x,E,k,T,I,M,C),C+=1,c===m-1?y=f.v[0]:y=f.v[c+1],S=Math.sqrt(Math.pow(_[0]-y[0],2)+Math.pow(_[1]-y[1],2)),A=S?Math.min(S/2,l)/S:0,k=_[0]+(y[0]-_[0])*A,x=k,T=_[1]+(y[1]-_[1])*A,E=T,I=x-(x-_[0])*roundCorner,M=E-(E-_[1])*roundCorner,u.setTripleAt(x,E,k,T,I,M,C),C+=1):(u.setTripleAt(f.v[c][0],f.v[c][1],f.o[c][0],f.o[c][1],f.i[c][0],f.i[c][1],C),C+=1);return u},RoundCornersModifier.prototype.processShapes=function(f){var l,u,c=this.shapes.length,m,_,g=this.rd.v;if(g!==0){var b,y;for(u=0;u<c;u+=1){if(b=this.shapes[u],y=b.localShapeCollection,!(!b.shape._mdf&&!this._mdf&&!f))for(y.releaseShapes(),b.shape._mdf=!0,l=b.shape.paths.shapes,_=b.shape.paths._length,m=0;m<_;m+=1)y.addShape(this.processPath(l[m],g));b.shape.paths=b.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(f,l){return Math.abs(f-l)*1e5<=Math.min(Math.abs(f),Math.abs(l))}function floatZero(f){return Math.abs(f)<=1e-5}function lerp(f,l,u){return f*(1-u)+l*u}function lerpPoint(f,l,u){return[lerp(f[0],l[0],u),lerp(f[1],l[1],u)]}function quadRoots(f,l,u){if(f===0)return[];var c=l*l-4*f*u;if(c<0)return[];var m=-l/(2*f);if(c===0)return[m];var _=Math.sqrt(c)/(2*f);return[m-_,m+_]}function polynomialCoefficients(f,l,u,c){return[-f+3*l-3*u+c,3*f-6*l+3*u,-3*f+3*l,f]}function singlePoint(f){return new PolynomialBezier(f,f,f,f,!1)}function PolynomialBezier(f,l,u,c,m){m&&pointEqual(f,l)&&(l=lerpPoint(f,c,1/3)),m&&pointEqual(u,c)&&(u=lerpPoint(f,c,2/3));var _=polynomialCoefficients(f[0],l[0],u[0],c[0]),g=polynomialCoefficients(f[1],l[1],u[1],c[1]);this.a=[_[0],g[0]],this.b=[_[1],g[1]],this.c=[_[2],g[2]],this.d=[_[3],g[3]],this.points=[f,l,u,c]}PolynomialBezier.prototype.point=function(f){return[((this.a[0]*f+this.b[0])*f+this.c[0])*f+this.d[0],((this.a[1]*f+this.b[1])*f+this.c[1])*f+this.d[1]]},PolynomialBezier.prototype.derivative=function(f){return[(3*f*this.a[0]+2*this.b[0])*f+this.c[0],(3*f*this.a[1]+2*this.b[1])*f+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(f){var l=this.derivative(f);return Math.atan2(l[1],l[0])},PolynomialBezier.prototype.normalAngle=function(f){var l=this.derivative(f);return Math.atan2(l[0],l[1])},PolynomialBezier.prototype.inflectionPoints=function(){var f=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(f))return[];var l=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/f,u=l*l-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/f;if(u<0)return[];var c=Math.sqrt(u);return floatZero(c)?c>0&&c<1?[l]:[]:[l-c,l+c].filter(function(m){return m>0&&m<1})},PolynomialBezier.prototype.split=function(f){if(f<=0)return[singlePoint(this.points[0]),this];if(f>=1)return[this,singlePoint(this.points[this.points.length-1])];var l=lerpPoint(this.points[0],this.points[1],f),u=lerpPoint(this.points[1],this.points[2],f),c=lerpPoint(this.points[2],this.points[3],f),m=lerpPoint(l,u,f),_=lerpPoint(u,c,f),g=lerpPoint(m,_,f);return[new PolynomialBezier(this.points[0],l,m,g,!0),new PolynomialBezier(g,_,c,this.points[3],!0)]};function extrema(f,l){var u=f.points[0][l],c=f.points[f.points.length-1][l];if(u>c){var m=c;c=u,u=m}for(var _=quadRoots(3*f.a[l],2*f.b[l],f.c[l]),g=0;g<_.length;g+=1)if(_[g]>0&&_[g]<1){var b=f.point(_[g])[l];b<u?u=b:b>c&&(c=b)}return{min:u,max:c}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var f=this.bounds();return{left:f.x.min,right:f.x.max,top:f.y.min,bottom:f.y.max,width:f.x.max-f.x.min,height:f.y.max-f.y.min,cx:(f.x.max+f.x.min)/2,cy:(f.y.max+f.y.min)/2}};function intersectData(f,l,u){var c=f.boundingBox();return{cx:c.cx,cy:c.cy,width:c.width,height:c.height,bez:f,t:(l+u)/2,t1:l,t2:u}}function splitData(f){var l=f.bez.split(.5);return[intersectData(l[0],f.t1,f.t),intersectData(l[1],f.t,f.t2)]}function boxIntersect(f,l){return Math.abs(f.cx-l.cx)*2<f.width+l.width&&Math.abs(f.cy-l.cy)*2<f.height+l.height}function intersectsImpl(f,l,u,c,m,_){if(boxIntersect(f,l)){if(u>=_||f.width<=c&&f.height<=c&&l.width<=c&&l.height<=c){m.push([f.t,l.t]);return}var g=splitData(f),b=splitData(l);intersectsImpl(g[0],b[0],u+1,c,m,_),intersectsImpl(g[0],b[1],u+1,c,m,_),intersectsImpl(g[1],b[0],u+1,c,m,_),intersectsImpl(g[1],b[1],u+1,c,m,_)}}PolynomialBezier.prototype.intersections=function(f,l,u){l===void 0&&(l=2),u===void 0&&(u=7);var c=[];return intersectsImpl(intersectData(this,0,1),intersectData(f,0,1),0,l,c,u),c},PolynomialBezier.shapeSegment=function(f,l){var u=(l+1)%f.length();return new PolynomialBezier(f.v[l],f.o[l],f.i[u],f.v[u],!0)},PolynomialBezier.shapeSegmentInverted=function(f,l){var u=(l+1)%f.length();return new PolynomialBezier(f.v[u],f.i[u],f.o[l],f.v[l],!0)};function crossProduct(f,l){return[f[1]*l[2]-f[2]*l[1],f[2]*l[0]-f[0]*l[2],f[0]*l[1]-f[1]*l[0]]}function lineIntersection(f,l,u,c){var m=[f[0],f[1],1],_=[l[0],l[1],1],g=[u[0],u[1],1],b=[c[0],c[1],1],y=crossProduct(crossProduct(m,_),crossProduct(g,b));return floatZero(y[2])?null:[y[0]/y[2],y[1]/y[2]]}function polarOffset(f,l,u){return[f[0]+Math.cos(l)*u,f[1]-Math.sin(l)*u]}function pointDistance(f,l){return Math.hypot(f[0]-l[0],f[1]-l[1])}function pointEqual(f,l){return floatEqual(f[0],l[0])&&floatEqual(f[1],l[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(f,l.s,0,null,this),this.frequency=PropertyFactory.getProp(f,l.r,0,null,this),this.pointsType=PropertyFactory.getProp(f,l.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(f,l,u,c,m,_,g){var b=u-Math.PI/2,y=u+Math.PI/2,S=l[0]+Math.cos(u)*c*m,A=l[1]-Math.sin(u)*c*m;f.setTripleAt(S,A,S+Math.cos(b)*_,A-Math.sin(b)*_,S+Math.cos(y)*g,A-Math.sin(y)*g,f.length())}function getPerpendicularVector(f,l){var u=[l[0]-f[0],l[1]-f[1]],c=-Math.PI*.5,m=[Math.cos(c)*u[0]-Math.sin(c)*u[1],Math.sin(c)*u[0]+Math.cos(c)*u[1]];return m}function getProjectingAngle(f,l){var u=l===0?f.length()-1:l-1,c=(l+1)%f.length(),m=f.v[u],_=f.v[c],g=getPerpendicularVector(m,_);return Math.atan2(0,1)-Math.atan2(g[1],g[0])}function zigZagCorner(f,l,u,c,m,_,g){var b=getProjectingAngle(l,u),y=l.v[u%l._length],S=l.v[u===0?l._length-1:u-1],A=l.v[(u+1)%l._length],C=_===2?Math.sqrt(Math.pow(y[0]-S[0],2)+Math.pow(y[1]-S[1],2)):0,x=_===2?Math.sqrt(Math.pow(y[0]-A[0],2)+Math.pow(y[1]-A[1],2)):0;setPoint(f,l.v[u%l._length],b,g,c,x/((m+1)*2),C/((m+1)*2))}function zigZagSegment(f,l,u,c,m,_){for(var g=0;g<c;g+=1){var b=(g+1)/(c+1),y=m===2?Math.sqrt(Math.pow(l.points[3][0]-l.points[0][0],2)+Math.pow(l.points[3][1]-l.points[0][1],2)):0,S=l.normalAngle(b),A=l.point(b);setPoint(f,A,S,_,u,y/((c+1)*2),y/((c+1)*2)),_=-_}return _}ZigZagModifier.prototype.processPath=function(f,l,u,c){var m=f._length,_=shapePool.newElement();if(_.c=f.c,f.c||(m-=1),m===0)return _;var g=-1,b=PolynomialBezier.shapeSegment(f,0);zigZagCorner(_,f,0,l,u,c,g);for(var y=0;y<m;y+=1)g=zigZagSegment(_,b,l,u,c,-g),y===m-1&&!f.c?b=null:b=PolynomialBezier.shapeSegment(f,(y+1)%m),zigZagCorner(_,f,y+1,l,u,c,g);return _},ZigZagModifier.prototype.processShapes=function(f){var l,u,c=this.shapes.length,m,_,g=this.amplitude.v,b=Math.max(0,Math.round(this.frequency.v)),y=this.pointsType.v;if(g!==0){var S,A;for(u=0;u<c;u+=1){if(S=this.shapes[u],A=S.localShapeCollection,!(!S.shape._mdf&&!this._mdf&&!f))for(A.releaseShapes(),S.shape._mdf=!0,l=S.shape.paths.shapes,_=S.shape.paths._length,m=0;m<_;m+=1)A.addShape(this.processPath(l[m],g,b,y));S.shape.paths=S.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(f,l,u){var c=Math.atan2(l[0]-f[0],l[1]-f[1]);return[polarOffset(f,c,u),polarOffset(l,c,u)]}function offsetSegment(f,l){var u,c,m,_,g,b,y;y=linearOffset(f.points[0],f.points[1],l),u=y[0],c=y[1],y=linearOffset(f.points[1],f.points[2],l),m=y[0],_=y[1],y=linearOffset(f.points[2],f.points[3],l),g=y[0],b=y[1];var S=lineIntersection(u,c,m,_);S===null&&(S=c);var A=lineIntersection(g,b,m,_);return A===null&&(A=g),new PolynomialBezier(u,S,A,b)}function joinLines(f,l,u,c,m){var _=l.points[3],g=u.points[0];if(c===3||pointEqual(_,g))return _;if(c===2){var b=-l.tangentAngle(1),y=-u.tangentAngle(0)+Math.PI,S=lineIntersection(_,polarOffset(_,b+Math.PI/2,100),g,polarOffset(g,b+Math.PI/2,100)),A=S?pointDistance(S,_):pointDistance(_,g)/2,C=polarOffset(_,b,2*A*roundCorner);return f.setXYAt(C[0],C[1],"o",f.length()-1),C=polarOffset(g,y,2*A*roundCorner),f.setTripleAt(g[0],g[1],g[0],g[1],C[0],C[1],f.length()),g}var x=pointEqual(_,l.points[2])?l.points[0]:l.points[2],E=pointEqual(g,u.points[1])?u.points[3]:u.points[1],k=lineIntersection(x,_,g,E);return k&&pointDistance(k,_)<m?(f.setTripleAt(k[0],k[1],k[0],k[1],k[0],k[1],f.length()),k):_}function getIntersection(f,l){var u=f.intersections(l);return u.length&&floatEqual(u[0][0],1)&&u.shift(),u.length?u[0]:null}function pruneSegmentIntersection(f,l){var u=f.slice(),c=l.slice(),m=getIntersection(f[f.length-1],l[0]);return m&&(u[f.length-1]=f[f.length-1].split(m[0])[0],c[0]=l[0].split(m[1])[1]),f.length>1&&l.length>1&&(m=getIntersection(f[0],l[l.length-1]),m)?[[f[0].split(m[0])[0]],[l[l.length-1].split(m[1])[1]]]:[u,c]}function pruneIntersections(f){for(var l,u=1;u<f.length;u+=1)l=pruneSegmentIntersection(f[u-1],f[u]),f[u-1]=l[0],f[u]=l[1];return f.length>1&&(l=pruneSegmentIntersection(f[f.length-1],f[0]),f[f.length-1]=l[0],f[0]=l[1]),f}function offsetSegmentSplit(f,l){var u=f.inflectionPoints(),c,m,_,g;if(u.length===0)return[offsetSegment(f,l)];if(u.length===1||floatEqual(u[1],1))return _=f.split(u[0]),c=_[0],m=_[1],[offsetSegment(c,l),offsetSegment(m,l)];_=f.split(u[0]),c=_[0];var b=(u[1]-u[0])/(1-u[0]);return _=_[1].split(b),g=_[0],m=_[1],[offsetSegment(c,l),offsetSegment(g,l),offsetSegment(m,l)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(f,l){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(f,l.a,0,null,this),this.miterLimit=PropertyFactory.getProp(f,l.ml,0,null,this),this.lineJoin=l.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(f,l,u,c){var m=shapePool.newElement();m.c=f.c;var _=f.length();f.c||(_-=1);var g,b,y,S=[];for(g=0;g<_;g+=1)y=PolynomialBezier.shapeSegment(f,g),S.push(offsetSegmentSplit(y,l));if(!f.c)for(g=_-1;g>=0;g-=1)y=PolynomialBezier.shapeSegmentInverted(f,g),S.push(offsetSegmentSplit(y,l));S=pruneIntersections(S);var A=null,C=null;for(g=0;g<S.length;g+=1){var x=S[g];for(C&&(A=joinLines(m,C,x[0],u,c)),C=x[x.length-1],b=0;b<x.length;b+=1)y=x[b],A&&pointEqual(y.points[0],A)?m.setXYAt(y.points[1][0],y.points[1][1],"o",m.length()-1):m.setTripleAt(y.points[0][0],y.points[0][1],y.points[1][0],y.points[1][1],y.points[0][0],y.points[0][1],m.length()),m.setTripleAt(y.points[3][0],y.points[3][1],y.points[3][0],y.points[3][1],y.points[2][0],y.points[2][1],m.length()),A=y.points[3]}return S.length&&joinLines(m,C,S[0][0],u,c),m},OffsetPathModifier.prototype.processShapes=function(f){var l,u,c=this.shapes.length,m,_,g=this.amount.v,b=this.miterLimit.v,y=this.lineJoin;if(g!==0){var S,A;for(u=0;u<c;u+=1){if(S=this.shapes[u],A=S.localShapeCollection,!(!S.shape._mdf&&!this._mdf&&!f))for(A.releaseShapes(),S.shape._mdf=!0,l=S.shape.paths.shapes,_=S.shape.paths._length,m=0;m<_;m+=1)A.addShape(this.processPath(l[m],g,y,b));S.shape.paths=S.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(f){for(var l=f.fStyle?f.fStyle.split(" "):[],u="normal",c="normal",m=l.length,_,g=0;g<m;g+=1)switch(_=l[g].toLowerCase(),_){case"italic":c="italic";break;case"bold":u="700";break;case"black":u="900";break;case"medium":u="500";break;case"regular":case"normal":u="400";break;case"light":case"thin":u="200";break}return{style:c,weight:f.fWeight||u}}var FontManager=function(){var f=5e3,l={w:0,size:0,shapes:[],data:{shapes:[]}},u=[];u=u.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var c=127988,m=917631,_=917601,g=917626,b=65039,y=8205,S=127462,A=127487,C=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function x(z){var X=z.split(","),U,$=X.length,ae=[];for(U=0;U<$;U+=1)X[U]!=="sans-serif"&&X[U]!=="monospace"&&ae.push(X[U]);return ae.join(",")}function E(z,X){var U=createTag("span");U.setAttribute("aria-hidden",!0),U.style.fontFamily=X;var $=createTag("span");$.innerText="giItT1WQy@!-/#",U.style.position="absolute",U.style.left="-10000px",U.style.top="-10000px",U.style.fontSize="300px",U.style.fontVariant="normal",U.style.fontStyle="normal",U.style.fontWeight="normal",U.style.letterSpacing="0",U.appendChild($),document.body.appendChild(U);var ae=$.offsetWidth;return $.style.fontFamily=x(z)+", "+X,{node:$,w:ae,parent:U}}function k(){var z,X=this.fonts.length,U,$,ae=X;for(z=0;z<X;z+=1)this.fonts[z].loaded?ae-=1:this.fonts[z].fOrigin==="n"||this.fonts[z].origin===0?this.fonts[z].loaded=!0:(U=this.fonts[z].monoCase.node,$=this.fonts[z].monoCase.w,U.offsetWidth!==$?(ae-=1,this.fonts[z].loaded=!0):(U=this.fonts[z].sansCase.node,$=this.fonts[z].sansCase.w,U.offsetWidth!==$&&(ae-=1,this.fonts[z].loaded=!0)),this.fonts[z].loaded&&(this.fonts[z].sansCase.parent.parentNode.removeChild(this.fonts[z].sansCase.parent),this.fonts[z].monoCase.parent.parentNode.removeChild(this.fonts[z].monoCase.parent)));ae!==0&&Date.now()-this.initTime<f?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function T(z,X){var U=document.body&&X?"svg":"canvas",$,ae=getFontProperties(z);if(U==="svg"){var H=createNS("text");H.style.fontSize="100px",H.setAttribute("font-family",z.fFamily),H.setAttribute("font-style",ae.style),H.setAttribute("font-weight",ae.weight),H.textContent="1",z.fClass?(H.style.fontFamily="inherit",H.setAttribute("class",z.fClass)):H.style.fontFamily=z.fFamily,X.appendChild(H),$=H}else{var ie=new OffscreenCanvas(500,500).getContext("2d");ie.font=ae.style+" "+ae.weight+" 100px "+z.fFamily,$=ie}function Y(q){return U==="svg"?($.textContent=q,$.getComputedTextLength()):$.measureText(q).width}return{measureText:Y}}function I(z,X){if(!z){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=z.list;return}if(!document.body){this.isLoaded=!0,z.list.forEach(function(de){de.helper=T(de),de.cache={}}),this.fonts=z.list;return}var U=z.list,$,ae=U.length,H=ae;for($=0;$<ae;$+=1){var ie=!0,Y,q;if(U[$].loaded=!1,U[$].monoCase=E(U[$].fFamily,"monospace"),U[$].sansCase=E(U[$].fFamily,"sans-serif"),!U[$].fPath)U[$].loaded=!0,H-=1;else if(U[$].fOrigin==="p"||U[$].origin===3){if(Y=document.querySelectorAll('style[f-forigin="p"][f-family="'+U[$].fFamily+'"], style[f-origin="3"][f-family="'+U[$].fFamily+'"]'),Y.length>0&&(ie=!1),ie){var ne=createTag("style");ne.setAttribute("f-forigin",U[$].fOrigin),ne.setAttribute("f-origin",U[$].origin),ne.setAttribute("f-family",U[$].fFamily),ne.type="text/css",ne.innerText="@font-face {font-family: "+U[$].fFamily+"; font-style: normal; src: url('"+U[$].fPath+"');}",X.appendChild(ne)}}else if(U[$].fOrigin==="g"||U[$].origin===1){for(Y=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),q=0;q<Y.length;q+=1)Y[q].href.indexOf(U[$].fPath)!==-1&&(ie=!1);if(ie){var oe=createTag("link");oe.setAttribute("f-forigin",U[$].fOrigin),oe.setAttribute("f-origin",U[$].origin),oe.type="text/css",oe.rel="stylesheet",oe.href=U[$].fPath,document.body.appendChild(oe)}}else if(U[$].fOrigin==="t"||U[$].origin===2){for(Y=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),q=0;q<Y.length;q+=1)U[$].fPath===Y[q].src&&(ie=!1);if(ie){var he=createTag("link");he.setAttribute("f-forigin",U[$].fOrigin),he.setAttribute("f-origin",U[$].origin),he.setAttribute("rel","stylesheet"),he.setAttribute("href",U[$].fPath),X.appendChild(he)}}U[$].helper=T(U[$],X),U[$].cache={},this.fonts.push(U[$])}H===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function M(z){if(z){this.chars||(this.chars=[]);var X,U=z.length,$,ae=this.chars.length,H;for(X=0;X<U;X+=1){for($=0,H=!1;$<ae;)this.chars[$].style===z[X].style&&this.chars[$].fFamily===z[X].fFamily&&this.chars[$].ch===z[X].ch&&(H=!0),$+=1;H||(this.chars.push(z[X]),ae+=1)}}}function j(z,X,U){for(var $=0,ae=this.chars.length;$<ae;){if(this.chars[$].ch===z&&this.chars[$].style===X&&this.chars[$].fFamily===U)return this.chars[$];$+=1}return(typeof z=="string"&&z.charCodeAt(0)!==13||!z)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",z,X,U)),l}function P(z,X,U){var $=this.getFontByName(X),ae=z;if(!$.cache[ae]){var H=$.helper;if(z===" "){var ie=H.measureText("|"+z+"|"),Y=H.measureText("||");$.cache[ae]=(ie-Y)/100}else $.cache[ae]=H.measureText(z)/100}return $.cache[ae]*U}function O(z){for(var X=0,U=this.fonts.length;X<U;){if(this.fonts[X].fName===z)return this.fonts[X];X+=1}return this.fonts[0]}function N(z){var X=0,U=z.charCodeAt(0);if(U>=55296&&U<=56319){var $=z.charCodeAt(1);$>=56320&&$<=57343&&(X=(U-55296)*1024+$-56320+65536)}return X}function D(z,X){var U=z.toString(16)+X.toString(16);return C.indexOf(U)!==-1}function L(z){return z===y}function R(z){return z===b}function G(z){var X=N(z);return X>=S&&X<=A}function Z(z){return G(z.substr(0,2))&&G(z.substr(2,2))}function B(z){return u.indexOf(z)!==-1}function J(z,X){var U=N(z.substr(X,2));if(U!==c)return!1;var $=0;for(X+=2;$<5;){if(U=N(z.substr(X,2)),U<_||U>g)return!1;$+=1,X+=2}return N(z.substr(X,2))===m}function K(){this.isLoaded=!0}var ee=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};ee.isModifier=D,ee.isZeroWidthJoiner=L,ee.isFlagEmoji=Z,ee.isRegionalCode=G,ee.isCombinedCharacter=B,ee.isRegionalFlag=J,ee.isVariationSelector=R,ee.BLACK_FLAG_CODE_POINT=c;var V={addChars:M,addFonts:I,getCharData:j,getFontByName:O,measureText:P,checkLoadedFonts:k,setIsLoaded:K};return ee.prototype=V,ee}();function SlotManager(f){this.animationData=f}SlotManager.prototype.getProp=function(f){return this.animationData.slots&&this.animationData.slots[f.sid]?Object.assign(f,this.animationData.slots[f.sid].p):f};function slotFactory(f){return new SlotManager(f)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(l){this.renderableComponents.indexOf(l)===-1&&this.renderableComponents.push(l)},removeRenderableComponent:function(l){this.renderableComponents.indexOf(l)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(l),1)},prepareRenderableFrame:function(l){this.checkLayerLimits(l)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(l){this.data.ip-this.data.st<=l&&this.data.op-this.data.st>l?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var l,u=this.renderableComponents.length;for(l=0;l<u;l+=1)this.renderableComponents[l].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var f={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(l){return f[l]||""}}();function SliderEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function AngleEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function ColorEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,1,0,u)}function PointEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,1,0,u)}function LayerIndexEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function MaskIndexEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function CheckboxEffect(f,l,u){this.p=PropertyFactory.getProp(l,f.v,0,0,u)}function NoValueEffect(){this.p={}}function EffectsManager(f,l){var u=f.ef||[];this.effectElements=[];var c,m=u.length,_;for(c=0;c<m;c+=1)_=new GroupEffect(u[c],l),this.effectElements.push(_)}function GroupEffect(f,l){this.init(f,l)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(f,l){this.data=f,this.effectElements=[],this.initDynamicPropertyContainer(l);var u,c=this.data.ef.length,m,_=this.data.ef;for(u=0;u<c;u+=1){switch(m=null,_[u].ty){case 0:m=new SliderEffect(_[u],l,this);break;case 1:m=new AngleEffect(_[u],l,this);break;case 2:m=new ColorEffect(_[u],l,this);break;case 3:m=new PointEffect(_[u],l,this);break;case 4:case 7:m=new CheckboxEffect(_[u],l,this);break;case 10:m=new LayerIndexEffect(_[u],l,this);break;case 11:m=new MaskIndexEffect(_[u],l,this);break;case 5:m=new EffectsManager(_[u],l);break;default:m=new NoValueEffect(_[u]);break}m&&this.effectElements.push(m)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var l=0,u=this.data.masksProperties.length;l<u;){if(this.data.masksProperties[l].mode!=="n"&&this.data.masksProperties[l].cl!==!1)return!0;l+=1}return!1},initExpressions:function(){var l=getExpressionInterfaces();if(l){var u=l("layer"),c=l("effects"),m=l("shape"),_=l("text"),g=l("comp");this.layerInterface=u(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var b=c.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(b),this.data.ty===0||this.data.xt?this.compInterface=g(this):this.data.ty===4?(this.layerInterface.shapeInterface=m(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=_(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var l=getBlendMode(this.data.bm),u=this.baseElement||this.layerElement;u.style["mix-blend-mode"]=l},initBaseData:function(l,u,c){this.globalData=u,this.comp=c,this.data=l,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(l,u){var c,m=this.dynamicProperties.length;for(c=0;c<m;c+=1)(u||this._isParent&&this.dynamicProperties[c].propType==="transform")&&(this.dynamicProperties[c].getValue(),this.dynamicProperties[c]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(l){this.dynamicProperties.indexOf(l)===-1&&this.dynamicProperties.push(l)}};function FootageElement(f,l,u){this.initFrame(),this.initRenderable(),this.assetData=l.getAssetData(f.refId),this.footageData=l.imageLoader.getAsset(this.assetData),this.initBaseData(f,l,u)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var f=getExpressionInterfaces();if(f){var l=f("footage");this.layerInterface=l(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(f,l,u){this.initFrame(),this.initRenderable(),this.assetData=l.getAssetData(f.refId),this.initBaseData(f,l,u),this._isPlaying=!1,this._canPlay=!1;var c=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(c),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=f.tm?PropertyFactory.getProp(this,f.tm,0,l.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,f.au&&f.au.lv?f.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(f){if(this.prepareRenderableFrame(f,!0),this.prepareProperties(f,!0),this.tm._placeholder)this._currentTime=f/this.data.sr;else{var l=this.tm.v;this._currentTime=l}this._volume=this.lv.v[0];var u=this._volume*this._volumeMultiplier;this._previousVolume!==u&&(this._previousVolume=u,this.audio.volume(u))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(f){this.audio.rate(f)},AudioElement.prototype.volume=function(f){this._volumeMultiplier=f,this._previousVolume=f*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(f){var l,u=this.layers.length,c;for(this.completeLayers=!0,l=u-1;l>=0;l-=1)this.elements[l]||(c=this.layers[l],c.ip-c.st<=f-this.layers[l].st&&c.op-c.st>f-this.layers[l].st&&this.buildItem(l)),this.completeLayers=this.elements[l]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(f){switch(f.ty){case 2:return this.createImage(f);case 0:return this.createComp(f);case 1:return this.createSolid(f);case 3:return this.createNull(f);case 4:return this.createShape(f);case 5:return this.createText(f);case 6:return this.createAudio(f);case 13:return this.createCamera(f);case 15:return this.createFootage(f);default:return this.createNull(f)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(f){return new AudioElement(f,this.globalData,this)},BaseRenderer.prototype.createFootage=function(f){return new FootageElement(f,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var f,l=this.layers.length;for(f=0;f<l;f+=1)this.buildItem(f);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(f){this.completeLayers=!1;var l,u=f.length,c,m=this.layers.length;for(l=0;l<u;l+=1)for(c=0;c<m;){if(this.layers[c].id===f[l].id){this.layers[c]=f[l];break}c+=1}},BaseRenderer.prototype.setProjectInterface=function(f){this.globalData.projectInterface=f},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(f,l,u){for(var c=this.elements,m=this.layers,_=0,g=m.length;_<g;)m[_].ind==l&&(!c[_]||c[_]===!0?(this.buildItem(_),this.addPendingElement(f)):(u.push(c[_]),c[_].setAsParent(),m[_].parent!==void 0?this.buildElementParenting(f,m[_].parent,u):f.setHierarchy(u))),_+=1},BaseRenderer.prototype.addPendingElement=function(f){this.pendingElements.push(f)},BaseRenderer.prototype.searchExtraCompositions=function(f){var l,u=f.length;for(l=0;l<u;l+=1)if(f[l].xt){var c=this.createComp(f[l]);c.initExpressions(),this.globalData.projectInterface.registerComposition(c)}},BaseRenderer.prototype.getElementById=function(f){var l,u=this.elements.length;for(l=0;l<u;l+=1)if(this.elements[l].data.ind===f)return this.elements[l];return null},BaseRenderer.prototype.getElementByPath=function(f){var l=f.shift(),u;if(typeof l=="number")u=this.elements[l];else{var c,m=this.elements.length;for(c=0;c<m;c+=1)if(this.elements[c].data.nm===l){u=this.elements[c];break}}return f.length===0?u:u.getElementByPath(f)},BaseRenderer.prototype.setupGlobalData=function(f,l){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(f),this.globalData.fontManager.addChars(f.chars),this.globalData.fontManager.addFonts(f.fonts,l),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=f.fr,this.globalData.nm=f.nm,this.globalData.compSize={w:f.w,h:f.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var l=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:l,localMat:l,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var l,u=this.finalTransform.mat,c=0,m=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;c<m;){if(this.hierarchy[c].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}c+=1}if(this.finalTransform._matMdf)for(l=this.finalTransform.mProp.v.props,u.cloneFromProps(l),c=0;c<m;c+=1)u.multiply(this.hierarchy[c].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var l=0,u=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;l<u;)this.localTransforms[l]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[l]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),l+=1;if(this.finalTransform._localMatMdf){var c=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(c),l=1;l<u;l+=1){var m=this.localTransforms[l].matrix;c.multiply(m)}c.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var _=this.finalTransform.localOpacity;for(l=0;l<u;l+=1)_*=this.localTransforms[l].opacity*.01;this.finalTransform.localOpacity=_}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var l=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(l.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var u=0,c=l.length;for(u=0;u<c;u+=1)this.localTransforms.push(l[u])}}},globalToLocal:function(l){var u=[];u.push(this.finalTransform);for(var c=!0,m=this.comp;c;)m.finalTransform?(m.data.hasMask&&u.splice(0,0,m.finalTransform),m=m.comp):c=!1;var _,g=u.length,b;for(_=0;_<g;_+=1)b=u[_].mat.applyToPointArray(0,0,0),l=[l[0]-b[0],l[1]-b[1],0];return l},mHelper:new Matrix};function MaskElement(f,l,u){this.data=f,this.element=l,this.globalData=u,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var c=this.globalData.defs,m,_=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(_),this.solidPath="";var g,b=this.masksProperties,y=0,S=[],A,C,x=createElementID(),E,k,T,I,M="clipPath",j="clip-path";for(m=0;m<_;m+=1)if((b[m].mode!=="a"&&b[m].mode!=="n"||b[m].inv||b[m].o.k!==100||b[m].o.x)&&(M="mask",j="mask"),(b[m].mode==="s"||b[m].mode==="i")&&y===0?(E=createNS("rect"),E.setAttribute("fill","#ffffff"),E.setAttribute("width",this.element.comp.data.w||0),E.setAttribute("height",this.element.comp.data.h||0),S.push(E)):E=null,g=createNS("path"),b[m].mode==="n")this.viewData[m]={op:PropertyFactory.getProp(this.element,b[m].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,b[m],3),elem:g,lastPath:""},c.appendChild(g);else{y+=1,g.setAttribute("fill",b[m].mode==="s"?"#000000":"#ffffff"),g.setAttribute("clip-rule","nonzero");var P;if(b[m].x.k!==0?(M="mask",j="mask",I=PropertyFactory.getProp(this.element,b[m].x,0,null,this.element),P=createElementID(),k=createNS("filter"),k.setAttribute("id",P),T=createNS("feMorphology"),T.setAttribute("operator","erode"),T.setAttribute("in","SourceGraphic"),T.setAttribute("radius","0"),k.appendChild(T),c.appendChild(k),g.setAttribute("stroke",b[m].mode==="s"?"#000000":"#ffffff")):(T=null,I=null),this.storedData[m]={elem:g,x:I,expan:T,lastPath:"",lastOperator:"",filterId:P,lastRadius:0},b[m].mode==="i"){C=S.length;var O=createNS("g");for(A=0;A<C;A+=1)O.appendChild(S[A]);var N=createNS("mask");N.setAttribute("mask-type","alpha"),N.setAttribute("id",x+"_"+y),N.appendChild(g),c.appendChild(N),O.setAttribute("mask","url("+getLocationHref()+"#"+x+"_"+y+")"),S.length=0,S.push(O)}else S.push(g);b[m].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[m]={elem:g,lastPath:"",op:PropertyFactory.getProp(this.element,b[m].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,b[m],3),invRect:E},this.viewData[m].prop.k||this.drawPath(b[m],this.viewData[m].prop.v,this.viewData[m])}for(this.maskElement=createNS(M),_=S.length,m=0;m<_;m+=1)this.maskElement.appendChild(S[m]);y>0&&(this.maskElement.setAttribute("id",x),this.element.maskedElement.setAttribute(j,"url("+getLocationHref()+"#"+x+")"),c.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(f){return this.viewData[f].prop},MaskElement.prototype.renderFrame=function(f){var l=this.element.finalTransform.mat,u,c=this.masksProperties.length;for(u=0;u<c;u+=1)if((this.viewData[u].prop._mdf||f)&&this.drawPath(this.masksProperties[u],this.viewData[u].prop.v,this.viewData[u]),(this.viewData[u].op._mdf||f)&&this.viewData[u].elem.setAttribute("fill-opacity",this.viewData[u].op.v),this.masksProperties[u].mode!=="n"&&(this.viewData[u].invRect&&(this.element.finalTransform.mProp._mdf||f)&&this.viewData[u].invRect.setAttribute("transform",l.getInverseMatrix().to2dCSS()),this.storedData[u].x&&(this.storedData[u].x._mdf||f))){var m=this.storedData[u].expan;this.storedData[u].x.v<0?(this.storedData[u].lastOperator!=="erode"&&(this.storedData[u].lastOperator="erode",this.storedData[u].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[u].filterId+")")),m.setAttribute("radius",-this.storedData[u].x.v)):(this.storedData[u].lastOperator!=="dilate"&&(this.storedData[u].lastOperator="dilate",this.storedData[u].elem.setAttribute("filter",null)),this.storedData[u].elem.setAttribute("stroke-width",this.storedData[u].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var f="M0,0 ";return f+=" h"+this.globalData.compSize.w,f+=" v"+this.globalData.compSize.h,f+=" h-"+this.globalData.compSize.w,f+=" v-"+this.globalData.compSize.h+" ",f},MaskElement.prototype.drawPath=function(f,l,u){var c=" M"+l.v[0][0]+","+l.v[0][1],m,_;for(_=l._length,m=1;m<_;m+=1)c+=" C"+l.o[m-1][0]+","+l.o[m-1][1]+" "+l.i[m][0]+","+l.i[m][1]+" "+l.v[m][0]+","+l.v[m][1];if(l.c&&_>1&&(c+=" C"+l.o[m-1][0]+","+l.o[m-1][1]+" "+l.i[0][0]+","+l.i[0][1]+" "+l.v[0][0]+","+l.v[0][1]),u.lastPath!==c){var g="";u.elem&&(l.c&&(g=f.inv?this.solidPath+c:c),u.elem.setAttribute("d",g)),u.lastPath=c}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var f={};f.createFilter=l,f.createAlphaToLuminanceFilter=u;function l(c,m){var _=createNS("filter");return _.setAttribute("id",c),m!==!0&&(_.setAttribute("filterUnits","objectBoundingBox"),_.setAttribute("x","0%"),_.setAttribute("y","0%"),_.setAttribute("width","100%"),_.setAttribute("height","100%")),_}function u(){var c=createNS("feColorMatrix");return c.setAttribute("type","matrix"),c.setAttribute("color-interpolation-filters","sRGB"),c.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),c}return f}(),featureSupport=function(){var f={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(f.maskType=!1),/firefox/i.test(navigator.userAgent)&&(f.svgLumaHidden=!1),f}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(f){var l,u="SourceGraphic",c=f.data.ef?f.data.ef.length:0,m=createElementID(),_=filtersFactory.createFilter(m,!0),g=0;this.filters=[];var b;for(l=0;l<c;l+=1){b=null;var y=f.data.ef[l].ty;if(registeredEffects$1[y]){var S=registeredEffects$1[y].effect;b=new S(_,f.effectsManager.effectElements[l],f,idPrefix+g,u),u=idPrefix+g,registeredEffects$1[y].countsAsEffect&&(g+=1)}b&&this.filters.push(b)}g&&(f.globalData.defs.appendChild(_),f.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+m+")")),this.filters.length&&f.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(f){var l,u=this.filters.length;for(l=0;l<u;l+=1)this.filters[l].renderFrame(f)},SVGEffects.prototype.getEffects=function(f){var l,u=this.filters.length,c=[];for(l=0;l<u;l+=1)this.filters[l].type===f&&c.push(this.filters[l]);return c};function registerEffect$1(f,l,u){registeredEffects$1[f]={effect:l,countsAsEffect:u}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var l=null;if(this.data.td){this.matteMasks={};var u=createNS("g");u.setAttribute("id",this.layerId),u.appendChild(this.layerElement),l=u,this.globalData.defs.appendChild(u)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),l=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var c=createNS("clipPath"),m=createNS("path");m.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var _=createElementID();if(c.setAttribute("id",_),c.appendChild(m),this.globalData.defs.appendChild(c),this.checkMasks()){var g=createNS("g");g.setAttribute("clip-path","url("+getLocationHref()+"#"+_+")"),g.appendChild(this.layerElement),this.transformedElement=g,l?l.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+_+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(l){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[l]){var u=this.layerId+"_"+l,c,m,_,g;if(l===1||l===3){var b=createNS("mask");b.setAttribute("id",u),b.setAttribute("mask-type",l===3?"luminance":"alpha"),_=createNS("use"),_.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),b.appendChild(_),this.globalData.defs.appendChild(b),!featureSupport.maskType&&l===1&&(b.setAttribute("mask-type","luminance"),c=createElementID(),m=filtersFactory.createFilter(c),this.globalData.defs.appendChild(m),m.appendChild(filtersFactory.createAlphaToLuminanceFilter()),g=createNS("g"),g.appendChild(_),b.appendChild(g),g.setAttribute("filter","url("+getLocationHref()+"#"+c+")"))}else if(l===2){var y=createNS("mask");y.setAttribute("id",u),y.setAttribute("mask-type","alpha");var S=createNS("g");y.appendChild(S),c=createElementID(),m=filtersFactory.createFilter(c);var A=createNS("feComponentTransfer");A.setAttribute("in","SourceGraphic"),m.appendChild(A);var C=createNS("feFuncA");C.setAttribute("type","table"),C.setAttribute("tableValues","1.0 0.0"),A.appendChild(C),this.globalData.defs.appendChild(m);var x=createNS("rect");x.setAttribute("width",this.comp.data.w),x.setAttribute("height",this.comp.data.h),x.setAttribute("x","0"),x.setAttribute("y","0"),x.setAttribute("fill","#ffffff"),x.setAttribute("opacity","0"),S.setAttribute("filter","url("+getLocationHref()+"#"+c+")"),S.appendChild(x),_=createNS("use"),_.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),S.appendChild(_),featureSupport.maskType||(y.setAttribute("mask-type","luminance"),m.appendChild(filtersFactory.createAlphaToLuminanceFilter()),g=createNS("g"),S.appendChild(x),g.appendChild(this.layerElement),S.appendChild(g)),this.globalData.defs.appendChild(y)}this.matteMasks[l]=u}return this.matteMasks[l]},setMatte:function(l){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+l+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(l){this.hierarchy=l},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var f={initElement:function(u,c,m){this.initFrame(),this.initBaseData(u,c,m),this.initTransform(u,c,m),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var u=this.baseElement||this.layerElement;u.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var u=this.baseElement||this.layerElement;u.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(u){this._mdf=!1,this.prepareRenderableFrame(u),this.prepareProperties(u,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(f)],RenderableDOMElement)})();function IImageElement(f,l,u){this.assetData=l.getAssetData(f.refId),this.assetData&&this.assetData.sid&&(this.assetData=l.slotManager.getProp(this.assetData)),this.initElement(f,l,u),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var f=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",f),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(f,l){this.elem=f,this.pos=l}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(l){var u,c=this.shapeModifiers.length;for(u=0;u<c;u+=1)this.shapeModifiers[u].addShape(l)},isShapeInAnimatedModifiers:function(l){for(var u=0,c=this.shapeModifiers.length;u<c;)if(this.shapeModifiers[u].isAnimatedWithShape(l))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var l,u=this.shapes.length;for(l=0;l<u;l+=1)this.shapes[l].sh.reset();u=this.shapeModifiers.length;var c;for(l=u-1;l>=0&&(c=this.shapeModifiers[l].processShapes(this._isFirstFrame),!c);l-=1);}},searchProcessedElement:function(l){for(var u=this.processedElements,c=0,m=u.length;c<m;){if(u[c].elem===l)return u[c].pos;c+=1}return 0},addProcessedElement:function(l,u){for(var c=this.processedElements,m=c.length;m;)if(m-=1,c[m].elem===l){c[m].pos=u;return}c.push(new ProcessedElement(l,u))},prepareFrame:function(l){this.prepareRenderableFrame(l),this.prepareProperties(l,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(f,l,u){this.caches=[],this.styles=[],this.transformers=f,this.lStr="",this.sh=u,this.lvl=l,this._isAnimated=!!u.k;for(var c=0,m=f.length;c<m;){if(f[c].mProps.dynamicProperties.length){this._isAnimated=!0;break}c+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(f,l){this.data=f,this.type=f.ty,this.d="",this.lvl=l,this._mdf=!1,this.closed=f.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(f,l,u,c){this.elem=f,this.frameId=-1,this.dataProps=createSizedArray(l.length),this.renderer=u,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",l.length?l.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(c);var m,_=l.length||0,g;for(m=0;m<_;m+=1)g=PropertyFactory.getProp(f,l[m].v,0,0,this),this.k=g.k||this.k,this.dataProps[m]={n:l[m].n,p:g};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(f){if(!(this.elem.globalData.frameId===this.frameId&&!f)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||f,this._mdf)){var l=0,u=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),l=0;l<u;l+=1)this.dataProps[l].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[l].p.v:this.dashArray[l]=this.dataProps[l].p.v:this.dashoffset[0]=this.dataProps[l].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(f,l.o,0,.01,this),this.w=PropertyFactory.getProp(f,l.w,0,null,this),this.d=new DashProperty(f,l.d||{},"svg",this),this.c=PropertyFactory.getProp(f,l.c,1,255,this),this.style=u,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(f,l.o,0,.01,this),this.c=PropertyFactory.getProp(f,l.c,1,255,this),this.style=u}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.style=u}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(f,l,u){this.data=l,this.c=createTypedArray("uint8c",l.p*4);var c=l.k.k[0].s?l.k.k[0].s.length-l.p*4:l.k.k.length-l.p*4;this.o=createTypedArray("float32",c),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=c,this.initDynamicPropertyContainer(u),this.prop=PropertyFactory.getProp(f,l.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(f,l){for(var u=0,c=this.o.length/2,m;u<c;){if(m=Math.abs(f[u*4]-f[l*4+u*2]),m>.01)return!1;u+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var f=0,l=this.data.k.k.length;f<l;){if(!this.comparePoints(this.data.k.k[f].s,this.data.p))return!1;f+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(f){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||f){var l,u=this.data.p*4,c,m;for(l=0;l<u;l+=1)c=l%4===0?100:255,m=Math.round(this.prop.v[l]*c),this.c[l]!==m&&(this.c[l]=m,this._cmdf=!f);if(this.o.length)for(u=this.prop.v.length,l=this.data.p*4;l<u;l+=1)c=l%2===0?100:1,m=l%2===0?Math.round(this.prop.v[l]*100):this.prop.v[l],this.o[l-this.data.p*4]!==m&&(this.o[l-this.data.p*4]=m,this._omdf=!f);this._mdf=!f}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.initGradientData(f,l,u)}SVGGradientFillStyleData.prototype.initGradientData=function(f,l,u){this.o=PropertyFactory.getProp(f,l.o,0,.01,this),this.s=PropertyFactory.getProp(f,l.s,1,null,this),this.e=PropertyFactory.getProp(f,l.e,1,null,this),this.h=PropertyFactory.getProp(f,l.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(f,l.a||{k:0},0,degToRads,this),this.g=new GradientProperty(f,l.g,this),this.style=u,this.stops=[],this.setGradientData(u.pElem,l),this.setGradientOpacity(l,u),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(f,l){var u=createElementID(),c=createNS(l.t===1?"linearGradient":"radialGradient");c.setAttribute("id",u),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse");var m=[],_,g,b;for(b=l.g.p*4,g=0;g<b;g+=4)_=createNS("stop"),c.appendChild(_),m.push(_);f.setAttribute(l.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+u+")"),this.gf=c,this.cst=m},SVGGradientFillStyleData.prototype.setGradientOpacity=function(f,l){if(this.g._hasOpacity&&!this.g._collapsable){var u,c,m,_=createNS("mask"),g=createNS("path");_.appendChild(g);var b=createElementID(),y=createElementID();_.setAttribute("id",y);var S=createNS(f.t===1?"linearGradient":"radialGradient");S.setAttribute("id",b),S.setAttribute("spreadMethod","pad"),S.setAttribute("gradientUnits","userSpaceOnUse"),m=f.g.k.k[0].s?f.g.k.k[0].s.length:f.g.k.k.length;var A=this.stops;for(c=f.g.p*4;c<m;c+=2)u=createNS("stop"),u.setAttribute("stop-color","rgb(255,255,255)"),S.appendChild(u),A.push(u);g.setAttribute(f.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+b+")"),f.ty==="gs"&&(g.setAttribute("stroke-linecap",lineCapEnum[f.lc||2]),g.setAttribute("stroke-linejoin",lineJoinEnum[f.lj||2]),f.lj===1&&g.setAttribute("stroke-miterlimit",f.ml)),this.of=S,this.ms=_,this.ost=A,this.maskId=y,l.msElem=g}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(f,l,u){this.initDynamicPropertyContainer(f),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(f,l.w,0,null,this),this.d=new DashProperty(f,l.d||{},"svg",this),this.initGradientData(f,l,u),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(f,l,u){this.transform={mProps:f,op:l,container:u},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(l,u,c,m){if(u===0)return"";var _=l.o,g=l.i,b=l.v,y,S=" M"+m.applyToPointStringified(b[0][0],b[0][1]);for(y=1;y<u;y+=1)S+=" C"+m.applyToPointStringified(_[y-1][0],_[y-1][1])+" "+m.applyToPointStringified(g[y][0],g[y][1])+" "+m.applyToPointStringified(b[y][0],b[y][1]);return c&&u&&(S+=" C"+m.applyToPointStringified(_[y-1][0],_[y-1][1])+" "+m.applyToPointStringified(g[0][0],g[0][1])+" "+m.applyToPointStringified(b[0][0],b[0][1]),S+="z"),S},SVGElementsRenderer=function(){var f=new Matrix,l=new Matrix,u={createRenderFunction:c};function c(C){switch(C.ty){case"fl":return b;case"gf":return S;case"gs":return y;case"st":return A;case"sh":case"el":case"rc":case"sr":return g;case"tr":return m;case"no":return _;default:return null}}function m(C,x,E){(E||x.transform.op._mdf)&&x.transform.container.setAttribute("opacity",x.transform.op.v),(E||x.transform.mProps._mdf)&&x.transform.container.setAttribute("transform",x.transform.mProps.v.to2dCSS())}function _(){}function g(C,x,E){var k,T,I,M,j,P,O=x.styles.length,N=x.lvl,D,L,R,G;for(P=0;P<O;P+=1){if(M=x.sh._mdf||E,x.styles[P].lvl<N){for(L=l.reset(),R=N-x.styles[P].lvl,G=x.transformers.length-1;!M&&R>0;)M=x.transformers[G].mProps._mdf||M,R-=1,G-=1;if(M)for(R=N-x.styles[P].lvl,G=x.transformers.length-1;R>0;)L.multiply(x.transformers[G].mProps.v),R-=1,G-=1}else L=f;if(D=x.sh.paths,T=D._length,M){for(I="",k=0;k<T;k+=1)j=D.shapes[k],j&&j._length&&(I+=buildShapeString(j,j._length,j.c,L));x.caches[P]=I}else I=x.caches[P];x.styles[P].d+=C.hd===!0?"":I,x.styles[P]._mdf=M||x.styles[P]._mdf}}function b(C,x,E){var k=x.style;(x.c._mdf||E)&&k.pElem.setAttribute("fill","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||E)&&k.pElem.setAttribute("fill-opacity",x.o.v)}function y(C,x,E){S(C,x,E),A(C,x,E)}function S(C,x,E){var k=x.gf,T=x.g._hasOpacity,I=x.s.v,M=x.e.v;if(x.o._mdf||E){var j=C.ty==="gf"?"fill-opacity":"stroke-opacity";x.style.pElem.setAttribute(j,x.o.v)}if(x.s._mdf||E){var P=C.t===1?"x1":"cx",O=P==="x1"?"y1":"cy";k.setAttribute(P,I[0]),k.setAttribute(O,I[1]),T&&!x.g._collapsable&&(x.of.setAttribute(P,I[0]),x.of.setAttribute(O,I[1]))}var N,D,L,R;if(x.g._cmdf||E){N=x.cst;var G=x.g.c;for(L=N.length,D=0;D<L;D+=1)R=N[D],R.setAttribute("offset",G[D*4]+"%"),R.setAttribute("stop-color","rgb("+G[D*4+1]+","+G[D*4+2]+","+G[D*4+3]+")")}if(T&&(x.g._omdf||E)){var Z=x.g.o;for(x.g._collapsable?N=x.cst:N=x.ost,L=N.length,D=0;D<L;D+=1)R=N[D],x.g._collapsable||R.setAttribute("offset",Z[D*2]+"%"),R.setAttribute("stop-opacity",Z[D*2+1])}if(C.t===1)(x.e._mdf||E)&&(k.setAttribute("x2",M[0]),k.setAttribute("y2",M[1]),T&&!x.g._collapsable&&(x.of.setAttribute("x2",M[0]),x.of.setAttribute("y2",M[1])));else{var B;if((x.s._mdf||x.e._mdf||E)&&(B=Math.sqrt(Math.pow(I[0]-M[0],2)+Math.pow(I[1]-M[1],2)),k.setAttribute("r",B),T&&!x.g._collapsable&&x.of.setAttribute("r",B)),x.e._mdf||x.h._mdf||x.a._mdf||E){B||(B=Math.sqrt(Math.pow(I[0]-M[0],2)+Math.pow(I[1]-M[1],2)));var J=Math.atan2(M[1]-I[1],M[0]-I[0]),K=x.h.v;K>=1?K=.99:K<=-1&&(K=-.99);var ee=B*K,V=Math.cos(J+x.a.v)*ee+I[0],z=Math.sin(J+x.a.v)*ee+I[1];k.setAttribute("fx",V),k.setAttribute("fy",z),T&&!x.g._collapsable&&(x.of.setAttribute("fx",V),x.of.setAttribute("fy",z))}}}function A(C,x,E){var k=x.style,T=x.d;T&&(T._mdf||E)&&T.dashStr&&(k.pElem.setAttribute("stroke-dasharray",T.dashStr),k.pElem.setAttribute("stroke-dashoffset",T.dashoffset[0])),x.c&&(x.c._mdf||E)&&k.pElem.setAttribute("stroke","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||E)&&k.pElem.setAttribute("stroke-opacity",x.o.v),(x.w._mdf||E)&&(k.pElem.setAttribute("stroke-width",x.w.v),k.msElem&&k.msElem.setAttribute("stroke-width",x.w.v))}return u}();function SVGShapeElement(f,l,u){this.shapes=[],this.shapesData=f.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(f,l,u),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var f,l=this.shapes.length,u,c,m=this.stylesList.length,_,g=[],b=!1;for(c=0;c<m;c+=1){for(_=this.stylesList[c],b=!1,g.length=0,f=0;f<l;f+=1)u=this.shapes[f],u.styles.indexOf(_)!==-1&&(g.push(u),b=u._isAnimated||b);g.length>1&&b&&this.setShapesAsAnimated(g)}},SVGShapeElement.prototype.setShapesAsAnimated=function(f){var l,u=f.length;for(l=0;l<u;l+=1)f[l].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(f,l){var u,c=new SVGStyleData(f,l),m=c.pElem;if(f.ty==="st")u=new SVGStrokeStyleData(this,f,c);else if(f.ty==="fl")u=new SVGFillStyleData(this,f,c);else if(f.ty==="gf"||f.ty==="gs"){var _=f.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;u=new _(this,f,c),this.globalData.defs.appendChild(u.gf),u.maskId&&(this.globalData.defs.appendChild(u.ms),this.globalData.defs.appendChild(u.of),m.setAttribute("mask","url("+getLocationHref()+"#"+u.maskId+")"))}else f.ty==="no"&&(u=new SVGNoStyleData(this,f,c));return(f.ty==="st"||f.ty==="gs")&&(m.setAttribute("stroke-linecap",lineCapEnum[f.lc||2]),m.setAttribute("stroke-linejoin",lineJoinEnum[f.lj||2]),m.setAttribute("fill-opacity","0"),f.lj===1&&m.setAttribute("stroke-miterlimit",f.ml)),f.r===2&&m.setAttribute("fill-rule","evenodd"),f.ln&&m.setAttribute("id",f.ln),f.cl&&m.setAttribute("class",f.cl),f.bm&&(m.style["mix-blend-mode"]=getBlendMode(f.bm)),this.stylesList.push(c),this.addToAnimatedContents(f,u),u},SVGShapeElement.prototype.createGroupElement=function(f){var l=new ShapeGroupData;return f.ln&&l.gr.setAttribute("id",f.ln),f.cl&&l.gr.setAttribute("class",f.cl),f.bm&&(l.gr.style["mix-blend-mode"]=getBlendMode(f.bm)),l},SVGShapeElement.prototype.createTransformElement=function(f,l){var u=TransformPropertyFactory.getTransformProperty(this,f,this),c=new SVGTransformData(u,u.o,l);return this.addToAnimatedContents(f,c),c},SVGShapeElement.prototype.createShapeElement=function(f,l,u){var c=4;f.ty==="rc"?c=5:f.ty==="el"?c=6:f.ty==="sr"&&(c=7);var m=ShapePropertyFactory.getShapeProp(this,f,c,this),_=new SVGShapeData(l,u,m);return this.shapes.push(_),this.addShapeToModifiers(_),this.addToAnimatedContents(f,_),_},SVGShapeElement.prototype.addToAnimatedContents=function(f,l){for(var u=0,c=this.animatedContents.length;u<c;){if(this.animatedContents[u].element===l)return;u+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(f),element:l,data:f})},SVGShapeElement.prototype.setElementStyles=function(f){var l=f.styles,u,c=this.stylesList.length;for(u=0;u<c;u+=1)this.stylesList[u].closed||l.push(this.stylesList[u])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var f,l=this.itemsData.length;for(f=0;f<l;f+=1)this.prevViewData[f]=this.itemsData[f];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),l=this.dynamicProperties.length,f=0;f<l;f+=1)this.dynamicProperties[f].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(f,l,u,c,m,_,g){var b=[].concat(_),y,S=f.length-1,A,C,x=[],E=[],k,T,I;for(y=S;y>=0;y-=1){if(I=this.searchProcessedElement(f[y]),I?l[y]=u[I-1]:f[y]._render=g,f[y].ty==="fl"||f[y].ty==="st"||f[y].ty==="gf"||f[y].ty==="gs"||f[y].ty==="no")I?l[y].style.closed=!1:l[y]=this.createStyleElement(f[y],m),f[y]._render&&l[y].style.pElem.parentNode!==c&&c.appendChild(l[y].style.pElem),x.push(l[y].style);else if(f[y].ty==="gr"){if(!I)l[y]=this.createGroupElement(f[y]);else for(C=l[y].it.length,A=0;A<C;A+=1)l[y].prevViewData[A]=l[y].it[A];this.searchShapes(f[y].it,l[y].it,l[y].prevViewData,l[y].gr,m+1,b,g),f[y]._render&&l[y].gr.parentNode!==c&&c.appendChild(l[y].gr)}else f[y].ty==="tr"?(I||(l[y]=this.createTransformElement(f[y],c)),k=l[y].transform,b.push(k)):f[y].ty==="sh"||f[y].ty==="rc"||f[y].ty==="el"||f[y].ty==="sr"?(I||(l[y]=this.createShapeElement(f[y],b,m)),this.setElementStyles(l[y])):f[y].ty==="tm"||f[y].ty==="rd"||f[y].ty==="ms"||f[y].ty==="pb"||f[y].ty==="zz"||f[y].ty==="op"?(I?(T=l[y],T.closed=!1):(T=ShapeModifiers.getModifier(f[y].ty),T.init(this,f[y]),l[y]=T,this.shapeModifiers.push(T)),E.push(T)):f[y].ty==="rp"&&(I?(T=l[y],T.closed=!0):(T=ShapeModifiers.getModifier(f[y].ty),l[y]=T,T.init(this,f,y,l),this.shapeModifiers.push(T),g=!1),E.push(T));this.addProcessedElement(f[y],y+1)}for(S=x.length,y=0;y<S;y+=1)x[y].closed=!0;for(S=E.length,y=0;y<S;y+=1)E[y].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var f,l=this.stylesList.length;for(f=0;f<l;f+=1)this.stylesList[f].reset();for(this.renderShape(),f=0;f<l;f+=1)(this.stylesList[f]._mdf||this._isFirstFrame)&&(this.stylesList[f].msElem&&(this.stylesList[f].msElem.setAttribute("d",this.stylesList[f].d),this.stylesList[f].d="M0 0"+this.stylesList[f].d),this.stylesList[f].pElem.setAttribute("d",this.stylesList[f].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var f,l=this.animatedContents.length,u;for(f=0;f<l;f+=1)u=this.animatedContents[f],(this._isFirstFrame||u.element._isAnimated)&&u.data!==!0&&u.fn(u.data,u.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(f,l,u,c,m,_){this.o=f,this.sw=l,this.sc=u,this.fc=c,this.m=m,this.p=_,this._mdf={o:!0,sw:!!l,sc:!!u,fc:!!c,m:!0,p:!0}}LetterProps.prototype.update=function(f,l,u,c,m,_){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var g=!1;return this.o!==f&&(this.o=f,this._mdf.o=!0,g=!0),this.sw!==l&&(this.sw=l,this._mdf.sw=!0,g=!0),this.sc!==u&&(this.sc=u,this._mdf.sc=!0,g=!0),this.fc!==c&&(this.fc=c,this._mdf.fc=!0,g=!0),this.m!==m&&(this.m=m,this._mdf.m=!0,g=!0),_.length&&(this.p[0]!==_[0]||this.p[1]!==_[1]||this.p[4]!==_[4]||this.p[5]!==_[5]||this.p[12]!==_[12]||this.p[13]!==_[13])&&(this.p=_,this._mdf.p=!0,g=!0),g};function TextProperty(f,l){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,l.d&&l.d.sid&&(l.d=f.globalData.slotManager.getProp(l.d)),this.data=l,this.elem=f,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(f,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(f[u]=l[u]);return f},TextProperty.prototype.setCurrentData=function(f){f.__complete||this.completeTextData(f),this.currentData=f,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(f){this.effectsSequence.push(f),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(f){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!f)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var l=this.currentData,u=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var c,m=this.effectsSequence.length,_=f||this.data.d.k[this.keysIndex].s;for(c=0;c<m;c+=1)u!==this.keysIndex?_=this.effectsSequence[c](_,_.t):_=this.effectsSequence[c](this.currentData,_.t);l!==_&&this.setCurrentData(_),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var f=this.data.d.k,l=this.elem.comp.renderedFrame,u=0,c=f.length;u<=c-1&&!(u===c-1||f[u+1].t>l);)u+=1;return this.keysIndex!==u&&(this.keysIndex=u),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(f){for(var l=[],u=0,c=f.length,m,_,g=!1,b=!1,y="";u<c;)g=b,b=!1,m=f.charCodeAt(u),y=f.charAt(u),FontManager.isCombinedCharacter(m)?g=!0:m>=55296&&m<=56319?FontManager.isRegionalFlag(f,u)?y=f.substr(u,14):(_=f.charCodeAt(u+1),_>=56320&&_<=57343&&(FontManager.isModifier(m,_)?(y=f.substr(u,2),g=!0):FontManager.isFlagEmoji(f.substr(u,4))?y=f.substr(u,4):y=f.substr(u,2))):m>56319?(_=f.charCodeAt(u+1),FontManager.isVariationSelector(m)&&(g=!0)):FontManager.isZeroWidthJoiner(m)&&(g=!0,b=!0),g?(l[l.length-1]+=y,g=!1):l.push(y),u+=y.length;return l},TextProperty.prototype.completeTextData=function(f){f.__complete=!0;var l=this.elem.globalData.fontManager,u=this.data,c=[],m,_,g,b=0,y,S=u.m.g,A=0,C=0,x=0,E=[],k=0,T=0,I,M,j=l.getFontByName(f.f),P,O=0,N=getFontProperties(j);f.fWeight=N.weight,f.fStyle=N.style,f.finalSize=f.s,f.finalText=this.buildFinalText(f.t),_=f.finalText.length,f.finalLineHeight=f.lh;var D=f.tr/1e3*f.finalSize,L;if(f.sz)for(var R=!0,G=f.sz[0],Z=f.sz[1],B,J;R;){J=this.buildFinalText(f.t),B=0,k=0,_=J.length,D=f.tr/1e3*f.finalSize;var K=-1;for(m=0;m<_;m+=1)L=J[m].charCodeAt(0),g=!1,J[m]===" "?K=m:(L===13||L===3)&&(k=0,g=!0,B+=f.finalLineHeight||f.finalSize*1.2),l.chars?(P=l.getCharData(J[m],j.fStyle,j.fFamily),O=g?0:P.w*f.finalSize/100):O=l.measureText(J[m],f.f,f.finalSize),k+O>G&&J[m]!==" "?(K===-1?_+=1:m=K,B+=f.finalLineHeight||f.finalSize*1.2,J.splice(m,K===m?1:0,"\r"),K=-1,k=0):(k+=O,k+=D);B+=j.ascent*f.finalSize/100,this.canResize&&f.finalSize>this.minimumFontSize&&Z<B?(f.finalSize-=1,f.finalLineHeight=f.finalSize*f.lh/f.s):(f.finalText=J,_=f.finalText.length,R=!1)}k=-D,O=0;var ee=0,V;for(m=0;m<_;m+=1)if(g=!1,V=f.finalText[m],L=V.charCodeAt(0),L===13||L===3?(ee=0,E.push(k),T=k>T?k:T,k=-2*D,y="",g=!0,x+=1):y=V,l.chars?(P=l.getCharData(V,j.fStyle,l.getFontByName(f.f).fFamily),O=g?0:P.w*f.finalSize/100):O=l.measureText(y,f.f,f.finalSize),V===" "?ee+=O+D:(k+=O+D+ee,ee=0),c.push({l:O,an:O,add:A,n:g,anIndexes:[],val:y,line:x,animatorJustifyOffset:0}),S==2){if(A+=O,y===""||y===" "||m===_-1){for((y===""||y===" ")&&(A-=O);C<=m;)c[C].an=A,c[C].ind=b,c[C].extra=O,C+=1;b+=1,A=0}}else if(S==3){if(A+=O,y===""||m===_-1){for(y===""&&(A-=O);C<=m;)c[C].an=A,c[C].ind=b,c[C].extra=O,C+=1;A=0,b+=1}}else c[b].ind=b,c[b].extra=0,b+=1;if(f.l=c,T=k>T?k:T,E.push(k),f.sz)f.boxWidth=f.sz[0],f.justifyOffset=0;else switch(f.boxWidth=T,f.j){case 1:f.justifyOffset=-f.boxWidth;break;case 2:f.justifyOffset=-f.boxWidth/2;break;default:f.justifyOffset=0}f.lineWidths=E;var z=u.a,X,U;M=z.length;var $,ae,H=[];for(I=0;I<M;I+=1){for(X=z[I],X.a.sc&&(f.strokeColorAnim=!0),X.a.sw&&(f.strokeWidthAnim=!0),(X.a.fc||X.a.fh||X.a.fs||X.a.fb)&&(f.fillColorAnim=!0),ae=0,$=X.s.b,m=0;m<_;m+=1)U=c[m],U.anIndexes[I]=ae,($==1&&U.val!==""||$==2&&U.val!==""&&U.val!==" "||$==3&&(U.n||U.val==" "||m==_-1)||$==4&&(U.n||m==_-1))&&(X.s.rn===1&&H.push(ae),ae+=1);u.a[I].s.totalChars=ae;var ie=-1,Y;if(X.s.rn===1)for(m=0;m<_;m+=1)U=c[m],ie!=U.anIndexes[I]&&(ie=U.anIndexes[I],Y=H.splice(Math.floor(Math.random()*H.length),1)[0]),U.anIndexes[I]=Y}f.yOffset=f.finalLineHeight||f.finalSize*1.2,f.ls=f.ls||0,f.ascent=j.ascent*f.finalSize/100},TextProperty.prototype.updateDocumentData=function(f,l){l=l===void 0?this.keysIndex:l;var u=this.copyData({},this.data.d.k[l].s);u=this.copyData(u,f),this.data.d.k[l].s=u,this.recalculate(l),this.setCurrentData(u),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(f){var l=this.data.d.k[f].s;l.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(l)},TextProperty.prototype.canResizeFont=function(f){this.canResize=f,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(f){this.minimumFontSize=Math.floor(f)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var f=Math.max,l=Math.min,u=Math.floor;function c(_,g){this._currentTextLength=-1,this.k=!1,this.data=g,this.elem=_,this.comp=_.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(_),this.s=PropertyFactory.getProp(_,g.s||{k:0},0,0,this),"e"in g?this.e=PropertyFactory.getProp(_,g.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(_,g.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(_,g.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(_,g.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(_,g.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(_,g.a,0,.01,this),this.dynamicProperties.length||this.getValue()}c.prototype={getMult:function(g){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var b=0,y=0,S=1,A=1;this.ne.v>0?b=this.ne.v/100:y=-this.ne.v/100,this.xe.v>0?S=1-this.xe.v/100:A=1+this.xe.v/100;var C=BezierFactory.getBezierEasing(b,y,S,A).get,x=0,E=this.finalS,k=this.finalE,T=this.data.sh;if(T===2)k===E?x=g>=k?1:0:x=f(0,l(.5/(k-E)+(g-E)/(k-E),1)),x=C(x);else if(T===3)k===E?x=g>=k?0:1:x=1-f(0,l(.5/(k-E)+(g-E)/(k-E),1)),x=C(x);else if(T===4)k===E?x=0:(x=f(0,l(.5/(k-E)+(g-E)/(k-E),1)),x<.5?x*=2:x=1-2*(x-.5)),x=C(x);else if(T===5){if(k===E)x=0;else{var I=k-E;g=l(f(0,g+.5-E),k-E);var M=-I/2+g,j=I/2;x=Math.sqrt(1-M*M/(j*j))}x=C(x)}else T===6?(k===E?x=0:(g=l(f(0,g+.5-E),k-E),x=(1+Math.cos(Math.PI+Math.PI*2*g/(k-E)))/2),x=C(x)):(g>=u(E)&&(g-E<0?x=f(0,l(l(k,1)-(E-g),1)):x=f(0,l(k-g,1))),x=C(x));if(this.sm.v!==100){var P=this.sm.v*.01;P===0&&(P=1e-8);var O=.5-P*.5;x<O?x=0:(x=(x-O)/P,x>1&&(x=1))}return x*this.a.v},getValue:function(g){this.iterateDynamicProperties(),this._mdf=g||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,g&&this.data.r===2&&(this.e.v=this._currentTextLength);var b=this.data.r===2?1:100/this.data.totalChars,y=this.o.v/b,S=this.s.v/b+y,A=this.e.v/b+y;if(S>A){var C=S;S=A,A=C}this.finalS=S,this.finalE=A}},extendPrototype([DynamicPropertyContainer],c);function m(_,g,b){return new c(_,g)}return{getTextSelectorProp:m}}();function TextAnimatorDataProperty(f,l,u){var c={propType:!1},m=PropertyFactory.getProp,_=l.a;this.a={r:_.r?m(f,_.r,0,degToRads,u):c,rx:_.rx?m(f,_.rx,0,degToRads,u):c,ry:_.ry?m(f,_.ry,0,degToRads,u):c,sk:_.sk?m(f,_.sk,0,degToRads,u):c,sa:_.sa?m(f,_.sa,0,degToRads,u):c,s:_.s?m(f,_.s,1,.01,u):c,a:_.a?m(f,_.a,1,0,u):c,o:_.o?m(f,_.o,0,.01,u):c,p:_.p?m(f,_.p,1,0,u):c,sw:_.sw?m(f,_.sw,0,0,u):c,sc:_.sc?m(f,_.sc,1,0,u):c,fc:_.fc?m(f,_.fc,1,0,u):c,fh:_.fh?m(f,_.fh,0,0,u):c,fs:_.fs?m(f,_.fs,0,.01,u):c,fb:_.fb?m(f,_.fb,0,.01,u):c,t:_.t?m(f,_.t,0,0,u):c},this.s=TextSelectorProp.getTextSelectorProp(f,l.s,u),this.s.t=l.s.t}function TextAnimatorProperty(f,l,u){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=f,this._renderType=l,this._elem=u,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(u)}TextAnimatorProperty.prototype.searchProperties=function(){var f,l=this._textData.a.length,u,c=PropertyFactory.getProp;for(f=0;f<l;f+=1)u=this._textData.a[f],this._animatorsData[f]=new TextAnimatorDataProperty(this._elem,u,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:c(this._elem,this._textData.p.a,0,0,this),f:c(this._elem,this._textData.p.f,0,0,this),l:c(this._elem,this._textData.p.l,0,0,this),r:c(this._elem,this._textData.p.r,0,0,this),p:c(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=c(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(f,l){if(this.lettersChangedFlag=l,!(!this._mdf&&!this._isFirstFrame&&!l&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var u=this._moreOptions.alignment.v,c=this._animatorsData,m=this._textData,_=this.mHelper,g=this._renderType,b=this.renderedLetters.length,y,S,A,C,x=f.l,E,k,T,I,M,j,P,O,N,D,L,R,G,Z,B;if(this._hasMaskedPath){if(B=this._pathData.m,!this._pathData.n||this._pathData._mdf){var J=B.v;this._pathData.r.v&&(J=J.reverse()),E={tLength:0,segments:[]},C=J._length-1;var K;for(R=0,A=0;A<C;A+=1)K=bez.buildBezierData(J.v[A],J.v[A+1],[J.o[A][0]-J.v[A][0],J.o[A][1]-J.v[A][1]],[J.i[A+1][0]-J.v[A+1][0],J.i[A+1][1]-J.v[A+1][1]]),E.tLength+=K.segmentLength,E.segments.push(K),R+=K.segmentLength;A=C,B.v.c&&(K=bez.buildBezierData(J.v[A],J.v[0],[J.o[A][0]-J.v[A][0],J.o[A][1]-J.v[A][1]],[J.i[0][0]-J.v[0][0],J.i[0][1]-J.v[0][1]]),E.tLength+=K.segmentLength,E.segments.push(K),R+=K.segmentLength),this._pathData.pi=E}if(E=this._pathData.pi,k=this._pathData.f.v,P=0,j=1,I=0,M=!0,D=E.segments,k<0&&B.v.c)for(E.tLength<Math.abs(k)&&(k=-Math.abs(k)%E.tLength),P=D.length-1,N=D[P].points,j=N.length-1;k<0;)k+=N[j].partialLength,j-=1,j<0&&(P-=1,N=D[P].points,j=N.length-1);N=D[P].points,O=N[j-1],T=N[j],L=T.partialLength}C=x.length,y=0,S=0;var ee=f.finalSize*1.2*.714,V=!0,z,X,U,$,ae;$=c.length;var H,ie=-1,Y,q,ne,oe=k,he=P,de=j,xe=-1,Ce,ge,Ae,we,me,_e,Me,De,se="",ce=this.defaultPropsArray,ue;if(f.j===2||f.j===1){var ve=0,Se=0,Ie=f.j===2?-.5:-1,Be=0,$e=!0;for(A=0;A<C;A+=1)if(x[A].n){for(ve&&(ve+=Se);Be<A;)x[Be].animatorJustifyOffset=ve,Be+=1;ve=0,$e=!0}else{for(U=0;U<$;U+=1)z=c[U].a,z.t.propType&&($e&&f.j===2&&(Se+=z.t.v*Ie),X=c[U].s,H=X.getMult(x[A].anIndexes[U],m.a[U].s.totalChars),H.length?ve+=z.t.v*H[0]*Ie:ve+=z.t.v*H*Ie);$e=!1}for(ve&&(ve+=Se);Be<A;)x[Be].animatorJustifyOffset=ve,Be+=1}for(A=0;A<C;A+=1){if(_.reset(),Ce=1,x[A].n)y=0,S+=f.yOffset,S+=V?1:0,k=oe,V=!1,this._hasMaskedPath&&(P=he,j=de,N=D[P].points,O=N[j-1],T=N[j],L=T.partialLength,I=0),se="",De="",_e="",ue="",ce=this.defaultPropsArray;else{if(this._hasMaskedPath){if(xe!==x[A].line){switch(f.j){case 1:k+=R-f.lineWidths[x[A].line];break;case 2:k+=(R-f.lineWidths[x[A].line])/2;break}xe=x[A].line}ie!==x[A].ind&&(x[ie]&&(k+=x[ie].extra),k+=x[A].an/2,ie=x[A].ind),k+=u[0]*x[A].an*.005;var Ke=0;for(U=0;U<$;U+=1)z=c[U].a,z.p.propType&&(X=c[U].s,H=X.getMult(x[A].anIndexes[U],m.a[U].s.totalChars),H.length?Ke+=z.p.v[0]*H[0]:Ke+=z.p.v[0]*H),z.a.propType&&(X=c[U].s,H=X.getMult(x[A].anIndexes[U],m.a[U].s.totalChars),H.length?Ke+=z.a.v[0]*H[0]:Ke+=z.a.v[0]*H);for(M=!0,this._pathData.a.v&&(k=x[0].an*.5+(R-this._pathData.f.v-x[0].an*.5-x[x.length-1].an*.5)*ie/(C-1),k+=this._pathData.f.v);M;)I+L>=k+Ke||!N?(G=(k+Ke-I)/T.partialLength,q=O.point[0]+(T.point[0]-O.point[0])*G,ne=O.point[1]+(T.point[1]-O.point[1])*G,_.translate(-u[0]*x[A].an*.005,-(u[1]*ee)*.01),M=!1):N&&(I+=T.partialLength,j+=1,j>=N.length&&(j=0,P+=1,D[P]?N=D[P].points:B.v.c?(j=0,P=0,N=D[P].points):(I-=T.partialLength,N=null)),N&&(O=T,T=N[j],L=T.partialLength));Y=x[A].an/2-x[A].add,_.translate(-Y,0,0)}else Y=x[A].an/2-x[A].add,_.translate(-Y,0,0),_.translate(-u[0]*x[A].an*.005,-u[1]*ee*.01,0);for(U=0;U<$;U+=1)z=c[U].a,z.t.propType&&(X=c[U].s,H=X.getMult(x[A].anIndexes[U],m.a[U].s.totalChars),(y!==0||f.j!==0)&&(this._hasMaskedPath?H.length?k+=z.t.v*H[0]:k+=z.t.v*H:H.length?y+=z.t.v*H[0]:y+=z.t.v*H));for(f.strokeWidthAnim&&(Ae=f.sw||0),f.strokeColorAnim&&(f.sc?ge=[f.sc[0],f.sc[1],f.sc[2]]:ge=[0,0,0]),f.fillColorAnim&&f.fc&&(we=[f.fc[0],f.fc[1],f.fc[2]]),U=0;U<$;U+=1)z=c[U].a,z.a.propType&&(X=c[U].s,H=X.getMult(x[A].anIndexes[U],m.a[U].s.totalChars),H.length?_.translate(-z.a.v[0]*H[0],-z.a.v[1]*H[1],z.a.v[2]*H[2]):_.translate(-z.a.v[0]*H,-z.a.v[1]*H,z.a.v[2]*H));for(U=0;U<$;U+=1)z=c[U].a,z.s.propType&&(X=c[U].s,H=X.getMult(x[A].anIndexes[U],m.a[U].s.totalChars),H.length?_.scale(1+(z.s.v[0]-1)*H[0],1+(z.s.v[1]-1)*H[1],1):_.scale(1+(z.s.v[0]-1)*H,1+(z.s.v[1]-1)*H,1));for(U=0;U<$;U+=1){if(z=c[U].a,X=c[U].s,H=X.getMult(x[A].anIndexes[U],m.a[U].s.totalChars),z.sk.propType&&(H.length?_.skewFromAxis(-z.sk.v*H[0],z.sa.v*H[1]):_.skewFromAxis(-z.sk.v*H,z.sa.v*H)),z.r.propType&&(H.length?_.rotateZ(-z.r.v*H[2]):_.rotateZ(-z.r.v*H)),z.ry.propType&&(H.length?_.rotateY(z.ry.v*H[1]):_.rotateY(z.ry.v*H)),z.rx.propType&&(H.length?_.rotateX(z.rx.v*H[0]):_.rotateX(z.rx.v*H)),z.o.propType&&(H.length?Ce+=(z.o.v*H[0]-Ce)*H[0]:Ce+=(z.o.v*H-Ce)*H),f.strokeWidthAnim&&z.sw.propType&&(H.length?Ae+=z.sw.v*H[0]:Ae+=z.sw.v*H),f.strokeColorAnim&&z.sc.propType)for(me=0;me<3;me+=1)H.length?ge[me]+=(z.sc.v[me]-ge[me])*H[0]:ge[me]+=(z.sc.v[me]-ge[me])*H;if(f.fillColorAnim&&f.fc){if(z.fc.propType)for(me=0;me<3;me+=1)H.length?we[me]+=(z.fc.v[me]-we[me])*H[0]:we[me]+=(z.fc.v[me]-we[me])*H;z.fh.propType&&(H.length?we=addHueToRGB(we,z.fh.v*H[0]):we=addHueToRGB(we,z.fh.v*H)),z.fs.propType&&(H.length?we=addSaturationToRGB(we,z.fs.v*H[0]):we=addSaturationToRGB(we,z.fs.v*H)),z.fb.propType&&(H.length?we=addBrightnessToRGB(we,z.fb.v*H[0]):we=addBrightnessToRGB(we,z.fb.v*H))}}for(U=0;U<$;U+=1)z=c[U].a,z.p.propType&&(X=c[U].s,H=X.getMult(x[A].anIndexes[U],m.a[U].s.totalChars),this._hasMaskedPath?H.length?_.translate(0,z.p.v[1]*H[0],-z.p.v[2]*H[1]):_.translate(0,z.p.v[1]*H,-z.p.v[2]*H):H.length?_.translate(z.p.v[0]*H[0],z.p.v[1]*H[1],-z.p.v[2]*H[2]):_.translate(z.p.v[0]*H,z.p.v[1]*H,-z.p.v[2]*H));if(f.strokeWidthAnim&&(_e=Ae<0?0:Ae),f.strokeColorAnim&&(Me="rgb("+Math.round(ge[0]*255)+","+Math.round(ge[1]*255)+","+Math.round(ge[2]*255)+")"),f.fillColorAnim&&f.fc&&(De="rgb("+Math.round(we[0]*255)+","+Math.round(we[1]*255)+","+Math.round(we[2]*255)+")"),this._hasMaskedPath){if(_.translate(0,-f.ls),_.translate(0,u[1]*ee*.01+S,0),this._pathData.p.v){Z=(T.point[1]-O.point[1])/(T.point[0]-O.point[0]);var Qe=Math.atan(Z)*180/Math.PI;T.point[0]<O.point[0]&&(Qe+=180),_.rotate(-Qe*Math.PI/180)}_.translate(q,ne,0),k-=u[0]*x[A].an*.005,x[A+1]&&ie!==x[A+1].ind&&(k+=x[A].an/2,k+=f.tr*.001*f.finalSize)}else{switch(_.translate(y,S,0),f.ps&&_.translate(f.ps[0],f.ps[1]+f.ascent,0),f.j){case 1:_.translate(x[A].animatorJustifyOffset+f.justifyOffset+(f.boxWidth-f.lineWidths[x[A].line]),0,0);break;case 2:_.translate(x[A].animatorJustifyOffset+f.justifyOffset+(f.boxWidth-f.lineWidths[x[A].line])/2,0,0);break}_.translate(0,-f.ls),_.translate(Y,0,0),_.translate(u[0]*x[A].an*.005,u[1]*ee*.01,0),y+=x[A].l+f.tr*.001*f.finalSize}g==="html"?se=_.toCSS():g==="svg"?se=_.to2dCSS():ce=[_.props[0],_.props[1],_.props[2],_.props[3],_.props[4],_.props[5],_.props[6],_.props[7],_.props[8],_.props[9],_.props[10],_.props[11],_.props[12],_.props[13],_.props[14],_.props[15]],ue=Ce}b<=A?(ae=new LetterProps(ue,_e,Me,De,se,ce),this.renderedLetters.push(ae),b+=1,this.lettersChangedFlag=!0):(ae=this.renderedLetters[A],this.lettersChangedFlag=ae.update(ue,_e,Me,De,se,ce)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(f,l,u){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(f,l,u),this.textProperty=new TextProperty(this,f.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(f.t,this.renderType,this),this.initTransform(f,l,u),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(f){this._mdf=!1,this.prepareRenderableFrame(f),this.prepareProperties(f,this.isInRange)},ITextElement.prototype.createPathShape=function(f,l){var u,c=l.length,m,_="";for(u=0;u<c;u+=1)l[u].ty==="sh"&&(m=l[u].ks.k,_+=buildShapeString(m,m.i.length,!0,f));return _},ITextElement.prototype.updateDocumentData=function(f,l){this.textProperty.updateDocumentData(f,l)},ITextElement.prototype.canResizeFont=function(f){this.textProperty.canResizeFont(f)},ITextElement.prototype.setMinimumFontSize=function(f){this.textProperty.setMinimumFontSize(f)},ITextElement.prototype.applyTextPropertiesToMatrix=function(f,l,u,c,m){switch(f.ps&&l.translate(f.ps[0],f.ps[1]+f.ascent,0),l.translate(0,-f.ls,0),f.j){case 1:l.translate(f.justifyOffset+(f.boxWidth-f.lineWidths[u]),0,0);break;case 2:l.translate(f.justifyOffset+(f.boxWidth-f.lineWidths[u])/2,0,0);break}l.translate(c,m,0)},ITextElement.prototype.buildColor=function(f){return"rgb("+Math.round(f[0]*255)+","+Math.round(f[1]*255)+","+Math.round(f[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(f,l,u){this.textSpans=[],this.renderType="svg",this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(f){for(var l=0,u=f.length,c=[],m="";l<u;)f[l]===String.fromCharCode(13)||f[l]===String.fromCharCode(3)?(c.push(m),m=""):m+=f[l],l+=1;return c.push(m),c},SVGTextLottieElement.prototype.buildShapeData=function(f,l){if(f.shapes&&f.shapes.length){var u=f.shapes[0];if(u.it){var c=u.it[u.it.length-1];c.s&&(c.s.k[0]=l,c.s.k[1]=l)}}return f},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var f,l,u=this.textProperty.currentData;this.renderedLetters=createSizedArray(u?u.l.length:0),u.fc?this.layerElement.setAttribute("fill",this.buildColor(u.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),u.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(u.sc)),this.layerElement.setAttribute("stroke-width",u.sw)),this.layerElement.setAttribute("font-size",u.finalSize);var c=this.globalData.fontManager.getFontByName(u.f);if(c.fClass)this.layerElement.setAttribute("class",c.fClass);else{this.layerElement.setAttribute("font-family",c.fFamily);var m=u.fWeight,_=u.fStyle;this.layerElement.setAttribute("font-style",_),this.layerElement.setAttribute("font-weight",m)}this.layerElement.setAttribute("aria-label",u.t);var g=u.l||[],b=!!this.globalData.fontManager.chars;l=g.length;var y,S=this.mHelper,A="",C=this.data.singleShape,x=0,E=0,k=!0,T=u.tr*.001*u.finalSize;if(C&&!b&&!u.sz){var I=this.textContainer,M="start";switch(u.j){case 1:M="end";break;case 2:M="middle";break;default:M="start";break}I.setAttribute("text-anchor",M),I.setAttribute("letter-spacing",T);var j=this.buildTextContents(u.finalText);for(l=j.length,E=u.ps?u.ps[1]+u.ascent:0,f=0;f<l;f+=1)y=this.textSpans[f].span||createNS("tspan"),y.textContent=j[f],y.setAttribute("x",0),y.setAttribute("y",E),y.style.display="inherit",I.appendChild(y),this.textSpans[f]||(this.textSpans[f]={span:null,glyph:null}),this.textSpans[f].span=y,E+=u.finalLineHeight;this.layerElement.appendChild(I)}else{var P=this.textSpans.length,O;for(f=0;f<l;f+=1){if(this.textSpans[f]||(this.textSpans[f]={span:null,childSpan:null,glyph:null}),!b||!C||f===0){if(y=P>f?this.textSpans[f].span:createNS(b?"g":"text"),P<=f){if(y.setAttribute("stroke-linecap","butt"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit","4"),this.textSpans[f].span=y,b){var N=createNS("g");y.appendChild(N),this.textSpans[f].childSpan=N}this.textSpans[f].span=y,this.layerElement.appendChild(y)}y.style.display="inherit"}if(S.reset(),C&&(g[f].n&&(x=-T,E+=u.yOffset,E+=k?1:0,k=!1),this.applyTextPropertiesToMatrix(u,S,g[f].line,x,E),x+=g[f].l||0,x+=T),b){O=this.globalData.fontManager.getCharData(u.finalText[f],c.fStyle,this.globalData.fontManager.getFontByName(u.f).fFamily);var D;if(O.t===1)D=new SVGCompElement(O.data,this.globalData,this);else{var L=emptyShapeData;O.data&&O.data.shapes&&(L=this.buildShapeData(O.data,u.finalSize)),D=new SVGShapeElement(L,this.globalData,this)}if(this.textSpans[f].glyph){var R=this.textSpans[f].glyph;this.textSpans[f].childSpan.removeChild(R.layerElement),R.destroy()}this.textSpans[f].glyph=D,D._debug=!0,D.prepareFrame(0),D.renderFrame(),this.textSpans[f].childSpan.appendChild(D.layerElement),O.t===1&&this.textSpans[f].childSpan.setAttribute("transform","scale("+u.finalSize/100+","+u.finalSize/100+")")}else C&&y.setAttribute("transform","translate("+S.props[12]+","+S.props[13]+")"),y.textContent=g[f].val,y.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}C&&y&&y.setAttribute("d",A)}for(;f<this.textSpans.length;)this.textSpans[f].span.style.display="none",f+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var f=this.layerElement.getBBox();this.bbox={top:f.y,left:f.x,width:f.width,height:f.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var f,l=this.textSpans.length,u;for(this.renderedFrame=this.comp.renderedFrame,f=0;f<l;f+=1)u=this.textSpans[f].glyph,u&&(u.prepareFrame(this.comp.renderedFrame-this.data.st),u._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var f,l,u=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;l=c.length;var m,_,g;for(f=0;f<l;f+=1)c[f].n||(m=u[f],_=this.textSpans[f].span,g=this.textSpans[f].glyph,g&&g.renderFrame(),m._mdf.m&&_.setAttribute("transform",m.m),m._mdf.o&&_.setAttribute("opacity",m.o),m._mdf.sw&&_.setAttribute("stroke-width",m.sw),m._mdf.sc&&_.setAttribute("stroke",m.sc),m._mdf.fc&&_.setAttribute("fill",m.fc))}};function ISolidElement(f,l,u){this.initElement(f,l,u)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var f=createNS("rect");f.setAttribute("width",this.data.sw),f.setAttribute("height",this.data.sh),f.setAttribute("fill",this.data.sc),this.layerElement.appendChild(f)};function NullElement(f,l,u){this.initFrame(),this.initBaseData(f,l,u),this.initFrame(),this.initTransform(f,l,u),this.initHierarchy()}NullElement.prototype.prepareFrame=function(f){this.prepareProperties(f,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(f){return new NullElement(f,this.globalData,this)},SVGRendererBase.prototype.createShape=function(f){return new SVGShapeElement(f,this.globalData,this)},SVGRendererBase.prototype.createText=function(f){return new SVGTextLottieElement(f,this.globalData,this)},SVGRendererBase.prototype.createImage=function(f){return new IImageElement(f,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(f){return new ISolidElement(f,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(f){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+f.w+" "+f.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",f.w),this.svgElement.setAttribute("height",f.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var l=this.globalData.defs;this.setupGlobalData(f,l),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=f;var u=createNS("clipPath"),c=createNS("rect");c.setAttribute("width",f.w),c.setAttribute("height",f.h),c.setAttribute("x",0),c.setAttribute("y",0);var m=createElementID();u.setAttribute("id",m),u.appendChild(c),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+m+")"),l.appendChild(u),this.layers=f.layers,this.elements=createSizedArray(f.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var f,l=this.layers?this.layers.length:0;for(f=0;f<l;f+=1)this.elements[f]&&this.elements[f].destroy&&this.elements[f].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(f){var l=0,u=this.layers.length;for(l=0;l<u;l+=1)if(this.layers[l].ind===f)return l;return-1},SVGRendererBase.prototype.buildItem=function(f){var l=this.elements;if(!(l[f]||this.layers[f].ty===99)){l[f]=!0;var u=this.createItem(this.layers[f]);if(l[f]=u,getExpressionsPlugin()&&(this.layers[f].ty===0&&this.globalData.projectInterface.registerComposition(u),u.initExpressions()),this.appendElementInPos(u,f),this.layers[f].tt){var c="tp"in this.layers[f]?this.findIndexByInd(this.layers[f].tp):f-1;if(c===-1)return;if(!this.elements[c]||this.elements[c]===!0)this.buildItem(c),this.addPendingElement(u);else{var m=l[c],_=m.getMatte(this.layers[f].tt);u.setMatte(_)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var f=this.pendingElements.pop();if(f.checkParenting(),f.data.tt)for(var l=0,u=this.elements.length;l<u;){if(this.elements[l]===f){var c="tp"in f.data?this.findIndexByInd(f.data.tp):l-1,m=this.elements[c],_=m.getMatte(this.layers[l].tt);f.setMatte(_);break}l+=1}}},SVGRendererBase.prototype.renderFrame=function(f){if(!(this.renderedFrame===f||this.destroyed)){f===null?f=this.renderedFrame:this.renderedFrame=f,this.globalData.frameNum=f,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=f,this.globalData._mdf=!1;var l,u=this.layers.length;for(this.completeLayers||this.checkLayers(f),l=u-1;l>=0;l-=1)(this.completeLayers||this.elements[l])&&this.elements[l].prepareFrame(f-this.layers[l].st);if(this.globalData._mdf)for(l=0;l<u;l+=1)(this.completeLayers||this.elements[l])&&this.elements[l].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(f,l){var u=f.getBaseElement();if(u){for(var c=0,m;c<l;)this.elements[c]&&this.elements[c]!==!0&&this.elements[c].getBaseElement()&&(m=this.elements[c].getBaseElement()),c+=1;m?this.layerElement.insertBefore(u,m):this.layerElement.appendChild(u)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(f,l,u){this.initFrame(),this.initBaseData(f,l,u),this.initTransform(f,l,u),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!l.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(f){if(this._mdf=!1,this.prepareRenderableFrame(f),this.prepareProperties(f,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=f/this.data.sr;else{var l=this.tm.v;l===this.data.op&&(l=this.data.op-1),this.renderedFrame=l}var u,c=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),u=c-1;u>=0;u-=1)(this.completeLayers||this.elements[u])&&(this.elements[u].prepareFrame(this.renderedFrame-this.layers[u].st),this.elements[u]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var f,l=this.layers.length;for(f=0;f<l;f+=1)(this.completeLayers||this.elements[f])&&this.elements[f].renderFrame()},ICompElement.prototype.setElements=function(f){this.elements=f},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var f,l=this.layers.length;for(f=0;f<l;f+=1)this.elements[f]&&this.elements[f].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(f,l,u){this.layers=f.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(f,l,u),this.tm=f.tm?PropertyFactory.getProp(this,f.tm,0,l.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(f){return new SVGCompElement(f,this.globalData,this)};function SVGRenderer(f,l){this.animationItem=f,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var u="";if(l&&l.title){var c=createNS("title"),m=createElementID();c.setAttribute("id",m),c.textContent=l.title,this.svgElement.appendChild(c),u+=m}if(l&&l.description){var _=createNS("desc"),g=createElementID();_.setAttribute("id",g),_.textContent=l.description,this.svgElement.appendChild(_),u+=" "+g}u&&this.svgElement.setAttribute("aria-labelledby",u);var b=createNS("defs");this.svgElement.appendChild(b);var y=createNS("g");this.svgElement.appendChild(y),this.layerElement=y,this.renderConfig={preserveAspectRatio:l&&l.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:l&&l.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:l&&l.contentVisibility||"visible",progressiveLoad:l&&l.progressiveLoad||!1,hideOnTransparent:!(l&&l.hideOnTransparent===!1),viewBoxOnly:l&&l.viewBoxOnly||!1,viewBoxSize:l&&l.viewBoxSize||!1,className:l&&l.className||"",id:l&&l.id||"",focusable:l&&l.focusable,filterSize:{width:l&&l.filterSize&&l.filterSize.width||"100%",height:l&&l.filterSize&&l.filterSize.height||"100%",x:l&&l.filterSize&&l.filterSize.x||"0%",y:l&&l.filterSize&&l.filterSize.y||"0%"},width:l&&l.width,height:l&&l.height,runExpressions:!l||l.runExpressions===void 0||l.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:b,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(f){return new SVGCompElement(f,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(l){var u,c=l.length,m="_";for(u=0;u<c;u+=1)m+=l[u].transform.key+"_";var _=this.sequences[m];return _||(_={transforms:[].concat(l),finalTransform:new Matrix,_mdf:!1},this.sequences[m]=_,this.sequenceList.push(_)),_},processSequence:function(l,u){for(var c=0,m=l.transforms.length,_=u;c<m&&!u;){if(l.transforms[c].transform.mProps._mdf){_=!0;break}c+=1}if(_)for(l.finalTransform.reset(),c=m-1;c>=0;c-=1)l.finalTransform.multiply(l.transforms[c].transform.mProps.v);l._mdf=_},processSequences:function(l){var u,c=this.sequenceList.length;for(u=0;u<c;u+=1)this.processSequence(this.sequenceList[u],l)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var l="__lottie_element_luma_buffer",u=null,c=null,m=null;function _(){var y=createNS("svg"),S=createNS("filter"),A=createNS("feColorMatrix");return S.setAttribute("id",l),A.setAttribute("type","matrix"),A.setAttribute("color-interpolation-filters","sRGB"),A.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),S.appendChild(A),y.appendChild(S),y.setAttribute("id",l+"_svg"),featureSupport.svgLumaHidden&&(y.style.display="none"),y}function g(){u||(m=_(),document.body.appendChild(m),u=createTag("canvas"),c=u.getContext("2d"),c.filter="url(#"+l+")",c.fillStyle="rgba(0,0,0,0)",c.fillRect(0,0,1,1))}function b(y){return u||g(),u.width=y.width,u.height=y.height,c.filter="url(#"+l+")",u}return{load:g,get:b}};function createCanvas(f,l){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(f,l);var u=createTag("canvas");return u.width=f,u.height=l,u}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(f){var l,u=f.data.ef?f.data.ef.length:0;this.filters=[];var c;for(l=0;l<u;l+=1){c=null;var m=f.data.ef[l].ty;if(registeredEffects[m]){var _=registeredEffects[m].effect;c=new _(f.effectsManager.effectElements[l],f)}c&&this.filters.push(c)}this.filters.length&&f.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(f){var l,u=this.filters.length;for(l=0;l<u;l+=1)this.filters[l].renderFrame(f)},CVEffects.prototype.getEffects=function(f){var l,u=this.filters.length,c=[];for(l=0;l<u;l+=1)this.filters[l].type===f&&c.push(this.filters[l]);return c};function registerEffect(f,l){registeredEffects[f]={effect:l}}function CVMaskElement(f,l){this.data=f,this.element=l,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var u,c=this.masksProperties.length,m=!1;for(u=0;u<c;u+=1)this.masksProperties[u].mode!=="n"&&(m=!0),this.viewData[u]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[u],3);this.hasMasks=m,m&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var f=this.element.finalTransform.mat,l=this.element.canvasContext,u,c=this.masksProperties.length,m,_,g;for(l.beginPath(),u=0;u<c;u+=1)if(this.masksProperties[u].mode!=="n"){this.masksProperties[u].inv&&(l.moveTo(0,0),l.lineTo(this.element.globalData.compSize.w,0),l.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),l.lineTo(0,this.element.globalData.compSize.h),l.lineTo(0,0)),g=this.viewData[u].v,m=f.applyToPointArray(g.v[0][0],g.v[0][1],0),l.moveTo(m[0],m[1]);var b,y=g._length;for(b=1;b<y;b+=1)_=f.applyToTriplePoints(g.o[b-1],g.i[b],g.v[b]),l.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5]);_=f.applyToTriplePoints(g.o[b-1],g.i[0],g.v[0]),l.bezierCurveTo(_[0],_[1],_[2],_[3],_[4],_[5])}this.element.globalData.renderer.save(!0),l.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var l=this.globalData.canvasContext,u=assetLoader.createCanvas(l.canvas.width,l.canvas.height);this.buffers.push(u);var c=assetLoader.createCanvas(l.canvas.width,l.canvas.height);this.buffers.push(c),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var l=this.globalData;if(l.blendMode!==this.data.bm){l.blendMode=this.data.bm;var u=getBlendMode(this.data.bm);l.canvasContext.globalCompositeOperation=u}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(l){l.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var l=this.buffers[0],u=l.getContext("2d");this.clearCanvas(u),u.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var l=this.buffers[1],u=l.getContext("2d");this.clearCanvas(u),u.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var c=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(c.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var m=assetLoader.getLumaCanvas(this.canvasContext.canvas),_=m.getContext("2d");_.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(m,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(l,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(l){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!l)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var u=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(u),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(u),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(f,l,u,c){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var m=4;l.ty==="rc"?m=5:l.ty==="el"?m=6:l.ty==="sr"&&(m=7),this.sh=ShapePropertyFactory.getShapeProp(f,l,m,f);var _,g=u.length,b;for(_=0;_<g;_+=1)u[_].closed||(b={transforms:c.addTransformSequence(u[_].transforms),trNodes:[]},this.styledShapes.push(b),u[_].elements.push(b))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(f,l,u){this.shapes=[],this.shapesData=f.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(f,l){var u={data:f,type:f.ty,preTransforms:this.transformsManager.addTransformSequence(l),transforms:[],elements:[],closed:f.hd===!0},c={};if(f.ty==="fl"||f.ty==="st"?(c.c=PropertyFactory.getProp(this,f.c,1,255,this),c.c.k||(u.co="rgb("+bmFloor(c.c.v[0])+","+bmFloor(c.c.v[1])+","+bmFloor(c.c.v[2])+")")):(f.ty==="gf"||f.ty==="gs")&&(c.s=PropertyFactory.getProp(this,f.s,1,null,this),c.e=PropertyFactory.getProp(this,f.e,1,null,this),c.h=PropertyFactory.getProp(this,f.h||{k:0},0,.01,this),c.a=PropertyFactory.getProp(this,f.a||{k:0},0,degToRads,this),c.g=new GradientProperty(this,f.g,this)),c.o=PropertyFactory.getProp(this,f.o,0,.01,this),f.ty==="st"||f.ty==="gs"){if(u.lc=lineCapEnum[f.lc||2],u.lj=lineJoinEnum[f.lj||2],f.lj==1&&(u.ml=f.ml),c.w=PropertyFactory.getProp(this,f.w,0,null,this),c.w.k||(u.wi=c.w.v),f.d){var m=new DashProperty(this,f.d,"canvas",this);c.d=m,c.d.k||(u.da=c.d.dashArray,u.do=c.d.dashoffset[0])}}else u.r=f.r===2?"evenodd":"nonzero";return this.stylesList.push(u),c.style=u,c},CVShapeElement.prototype.createGroupElement=function(){var f={it:[],prevViewData:[]};return f},CVShapeElement.prototype.createTransformElement=function(f){var l={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,f.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,f,this)}};return l},CVShapeElement.prototype.createShapeElement=function(f){var l=new CVShapeData(this,f,this.stylesList,this.transformsManager);return this.shapes.push(l),this.addShapeToModifiers(l),l},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var f,l=this.itemsData.length;for(f=0;f<l;f+=1)this.prevViewData[f]=this.itemsData[f];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),l=this.dynamicProperties.length,f=0;f<l;f+=1)this.dynamicProperties[f].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(f){var l,u=this.stylesList.length;for(l=0;l<u;l+=1)this.stylesList[l].closed||this.stylesList[l].transforms.push(f)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var f,l=this.stylesList.length;for(f=0;f<l;f+=1)this.stylesList[f].closed||this.stylesList[f].transforms.pop()},CVShapeElement.prototype.closeStyles=function(f){var l,u=f.length;for(l=0;l<u;l+=1)f[l].closed=!0},CVShapeElement.prototype.searchShapes=function(f,l,u,c,m){var _,g=f.length-1,b,y,S=[],A=[],C,x,E,k=[].concat(m);for(_=g;_>=0;_-=1){if(C=this.searchProcessedElement(f[_]),C?l[_]=u[C-1]:f[_]._shouldRender=c,f[_].ty==="fl"||f[_].ty==="st"||f[_].ty==="gf"||f[_].ty==="gs")C?l[_].style.closed=!1:l[_]=this.createStyleElement(f[_],k),S.push(l[_].style);else if(f[_].ty==="gr"){if(!C)l[_]=this.createGroupElement(f[_]);else for(y=l[_].it.length,b=0;b<y;b+=1)l[_].prevViewData[b]=l[_].it[b];this.searchShapes(f[_].it,l[_].it,l[_].prevViewData,c,k)}else f[_].ty==="tr"?(C||(E=this.createTransformElement(f[_]),l[_]=E),k.push(l[_]),this.addTransformToStyleList(l[_])):f[_].ty==="sh"||f[_].ty==="rc"||f[_].ty==="el"||f[_].ty==="sr"?C||(l[_]=this.createShapeElement(f[_])):f[_].ty==="tm"||f[_].ty==="rd"||f[_].ty==="pb"||f[_].ty==="zz"||f[_].ty==="op"?(C?(x=l[_],x.closed=!1):(x=ShapeModifiers.getModifier(f[_].ty),x.init(this,f[_]),l[_]=x,this.shapeModifiers.push(x)),A.push(x)):f[_].ty==="rp"&&(C?(x=l[_],x.closed=!0):(x=ShapeModifiers.getModifier(f[_].ty),l[_]=x,x.init(this,f,_,l),this.shapeModifiers.push(x),c=!1),A.push(x));this.addProcessedElement(f[_],_+1)}for(this.removeTransformFromStyleList(),this.closeStyles(S),g=A.length,_=0;_<g;_+=1)A[_].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(f,l){(f._opMdf||l.op._mdf||this._isFirstFrame)&&(l.opacity=f.opacity,l.opacity*=l.op.v,l._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var f,l=this.stylesList.length,u,c,m,_,g,b,y=this.globalData.renderer,S=this.globalData.canvasContext,A,C;for(f=0;f<l;f+=1)if(C=this.stylesList[f],A=C.type,!((A==="st"||A==="gs")&&C.wi===0||!C.data._shouldRender||C.coOp===0||this.globalData.currentGlobalAlpha===0)){for(y.save(),g=C.elements,A==="st"||A==="gs"?(y.ctxStrokeStyle(A==="st"?C.co:C.grd),y.ctxLineWidth(C.wi),y.ctxLineCap(C.lc),y.ctxLineJoin(C.lj),y.ctxMiterLimit(C.ml||0)):y.ctxFillStyle(A==="fl"?C.co:C.grd),y.ctxOpacity(C.coOp),A!=="st"&&A!=="gs"&&S.beginPath(),y.ctxTransform(C.preTransforms.finalTransform.props),c=g.length,u=0;u<c;u+=1){for((A==="st"||A==="gs")&&(S.beginPath(),C.da&&(S.setLineDash(C.da),S.lineDashOffset=C.do)),b=g[u].trNodes,_=b.length,m=0;m<_;m+=1)b[m].t==="m"?S.moveTo(b[m].p[0],b[m].p[1]):b[m].t==="c"?S.bezierCurveTo(b[m].pts[0],b[m].pts[1],b[m].pts[2],b[m].pts[3],b[m].pts[4],b[m].pts[5]):S.closePath();(A==="st"||A==="gs")&&(y.ctxStroke(),C.da&&S.setLineDash(this.dashResetter))}A!=="st"&&A!=="gs"&&this.globalData.renderer.ctxFill(C.r),y.restore()}},CVShapeElement.prototype.renderShape=function(f,l,u,c){var m,_=l.length-1,g;for(g=f,m=_;m>=0;m-=1)l[m].ty==="tr"?(g=u[m].transform,this.renderShapeTransform(f,g)):l[m].ty==="sh"||l[m].ty==="el"||l[m].ty==="rc"||l[m].ty==="sr"?this.renderPath(l[m],u[m]):l[m].ty==="fl"?this.renderFill(l[m],u[m],g):l[m].ty==="st"?this.renderStroke(l[m],u[m],g):l[m].ty==="gf"||l[m].ty==="gs"?this.renderGradientFill(l[m],u[m],g):l[m].ty==="gr"?this.renderShape(g,l[m].it,u[m].it):l[m].ty;c&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(f,l){if(this._isFirstFrame||l._mdf||f.transforms._mdf){var u=f.trNodes,c=l.paths,m,_,g,b=c._length;u.length=0;var y=f.transforms.finalTransform;for(g=0;g<b;g+=1){var S=c.shapes[g];if(S&&S.v){for(_=S._length,m=1;m<_;m+=1)m===1&&u.push({t:"m",p:y.applyToPointArray(S.v[0][0],S.v[0][1],0)}),u.push({t:"c",pts:y.applyToTriplePoints(S.o[m-1],S.i[m],S.v[m])});_===1&&u.push({t:"m",p:y.applyToPointArray(S.v[0][0],S.v[0][1],0)}),S.c&&_&&(u.push({t:"c",pts:y.applyToTriplePoints(S.o[m-1],S.i[0],S.v[0])}),u.push({t:"z"}))}}f.trNodes=u}},CVShapeElement.prototype.renderPath=function(f,l){if(f.hd!==!0&&f._shouldRender){var u,c=l.styledShapes.length;for(u=0;u<c;u+=1)this.renderStyledShape(l.styledShapes[u],l.sh)}},CVShapeElement.prototype.renderFill=function(f,l,u){var c=l.style;(l.c._mdf||this._isFirstFrame)&&(c.co="rgb("+bmFloor(l.c.v[0])+","+bmFloor(l.c.v[1])+","+bmFloor(l.c.v[2])+")"),(l.o._mdf||u._opMdf||this._isFirstFrame)&&(c.coOp=l.o.v*u.opacity)},CVShapeElement.prototype.renderGradientFill=function(f,l,u){var c=l.style,m;if(!c.grd||l.g._mdf||l.s._mdf||l.e._mdf||f.t!==1&&(l.h._mdf||l.a._mdf)){var _=this.globalData.canvasContext,g=l.s.v,b=l.e.v;if(f.t===1)m=_.createLinearGradient(g[0],g[1],b[0],b[1]);else{var y=Math.sqrt(Math.pow(g[0]-b[0],2)+Math.pow(g[1]-b[1],2)),S=Math.atan2(b[1]-g[1],b[0]-g[0]),A=l.h.v;A>=1?A=.99:A<=-1&&(A=-.99);var C=y*A,x=Math.cos(S+l.a.v)*C+g[0],E=Math.sin(S+l.a.v)*C+g[1];m=_.createRadialGradient(x,E,0,g[0],g[1],y)}var k,T=f.g.p,I=l.g.c,M=1;for(k=0;k<T;k+=1)l.g._hasOpacity&&l.g._collapsable&&(M=l.g.o[k*2+1]),m.addColorStop(I[k*4]/100,"rgba("+I[k*4+1]+","+I[k*4+2]+","+I[k*4+3]+","+M+")");c.grd=m}c.coOp=l.o.v*u.opacity},CVShapeElement.prototype.renderStroke=function(f,l,u){var c=l.style,m=l.d;m&&(m._mdf||this._isFirstFrame)&&(c.da=m.dashArray,c.do=m.dashoffset[0]),(l.c._mdf||this._isFirstFrame)&&(c.co="rgb("+bmFloor(l.c.v[0])+","+bmFloor(l.c.v[1])+","+bmFloor(l.c.v[2])+")"),(l.o._mdf||u._opMdf||this._isFirstFrame)&&(c.coOp=l.o.v*u.opacity),(l.w._mdf||this._isFirstFrame)&&(c.wi=l.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(f,l,u){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var f=this.textProperty.currentData;this.renderedLetters=createSizedArray(f.l?f.l.length:0);var l=!1;f.fc?(l=!0,this.values.fill=this.buildColor(f.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=l;var u=!1;f.sc&&(u=!0,this.values.stroke=this.buildColor(f.sc),this.values.sWidth=f.sw);var c=this.globalData.fontManager.getFontByName(f.f),m,_,g=f.l,b=this.mHelper;this.stroke=u,this.values.fValue=f.finalSize+"px "+this.globalData.fontManager.getFontByName(f.f).fFamily,_=f.finalText.length;var y,S,A,C,x,E,k,T,I,M,j=this.data.singleShape,P=f.tr*.001*f.finalSize,O=0,N=0,D=!0,L=0;for(m=0;m<_;m+=1){y=this.globalData.fontManager.getCharData(f.finalText[m],c.fStyle,this.globalData.fontManager.getFontByName(f.f).fFamily),S=y&&y.data||{},b.reset(),j&&g[m].n&&(O=-P,N+=f.yOffset,N+=D?1:0,D=!1),x=S.shapes?S.shapes[0].it:[],k=x.length,b.scale(f.finalSize/100,f.finalSize/100),j&&this.applyTextPropertiesToMatrix(f,b,g[m].line,O,N),I=createSizedArray(k-1);var R=0;for(E=0;E<k;E+=1)if(x[E].ty==="sh"){for(C=x[E].ks.k.i.length,T=x[E].ks.k,M=[],A=1;A<C;A+=1)A===1&&M.push(b.applyToX(T.v[0][0],T.v[0][1],0),b.applyToY(T.v[0][0],T.v[0][1],0)),M.push(b.applyToX(T.o[A-1][0],T.o[A-1][1],0),b.applyToY(T.o[A-1][0],T.o[A-1][1],0),b.applyToX(T.i[A][0],T.i[A][1],0),b.applyToY(T.i[A][0],T.i[A][1],0),b.applyToX(T.v[A][0],T.v[A][1],0),b.applyToY(T.v[A][0],T.v[A][1],0));M.push(b.applyToX(T.o[A-1][0],T.o[A-1][1],0),b.applyToY(T.o[A-1][0],T.o[A-1][1],0),b.applyToX(T.i[0][0],T.i[0][1],0),b.applyToY(T.i[0][0],T.i[0][1],0),b.applyToX(T.v[0][0],T.v[0][1],0),b.applyToY(T.v[0][0],T.v[0][1],0)),I[R]=M,R+=1}j&&(O+=g[m].l,O+=P),this.textSpans[L]?this.textSpans[L].elem=I:this.textSpans[L]={elem:I},L+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var f=this.canvasContext;f.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var l,u,c,m,_,g,b=this.textAnimator.renderedLetters,y=this.textProperty.currentData.l;u=y.length;var S,A=null,C=null,x=null,E,k,T=this.globalData.renderer;for(l=0;l<u;l+=1)if(!y[l].n){if(S=b[l],S&&(T.save(),T.ctxTransform(S.p),T.ctxOpacity(S.o)),this.fill){for(S&&S.fc?A!==S.fc&&(T.ctxFillStyle(S.fc),A=S.fc):A!==this.values.fill&&(A=this.values.fill,T.ctxFillStyle(this.values.fill)),E=this.textSpans[l].elem,m=E.length,this.globalData.canvasContext.beginPath(),c=0;c<m;c+=1)for(k=E[c],g=k.length,this.globalData.canvasContext.moveTo(k[0],k[1]),_=2;_<g;_+=6)this.globalData.canvasContext.bezierCurveTo(k[_],k[_+1],k[_+2],k[_+3],k[_+4],k[_+5]);this.globalData.canvasContext.closePath(),T.ctxFill()}if(this.stroke){for(S&&S.sw?x!==S.sw&&(x=S.sw,T.ctxLineWidth(S.sw)):x!==this.values.sWidth&&(x=this.values.sWidth,T.ctxLineWidth(this.values.sWidth)),S&&S.sc?C!==S.sc&&(C=S.sc,T.ctxStrokeStyle(S.sc)):C!==this.values.stroke&&(C=this.values.stroke,T.ctxStrokeStyle(this.values.stroke)),E=this.textSpans[l].elem,m=E.length,this.globalData.canvasContext.beginPath(),c=0;c<m;c+=1)for(k=E[c],g=k.length,this.globalData.canvasContext.moveTo(k[0],k[1]),_=2;_<g;_+=6)this.globalData.canvasContext.bezierCurveTo(k[_],k[_+1],k[_+2],k[_+3],k[_+4],k[_+5]);this.globalData.canvasContext.closePath(),T.ctxStroke()}S&&this.globalData.renderer.restore()}};function CVImageElement(f,l,u){this.assetData=l.getAssetData(f.refId),this.img=l.imageLoader.getAsset(this.assetData),this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var f=createTag("canvas");f.width=this.assetData.w,f.height=this.assetData.h;var l=f.getContext("2d"),u=this.img.width,c=this.img.height,m=u/c,_=this.assetData.w/this.assetData.h,g,b,y=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;m>_&&y==="xMidYMid slice"||m<_&&y!=="xMidYMid slice"?(b=c,g=b*_):(g=u,b=g/_),l.drawImage(this.img,(u-g)/2,(c-b)/2,g,b,0,0,this.assetData.w,this.assetData.h),this.img=f}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(f,l,u){this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(f){return new CVShapeElement(f,this.globalData,this)},CanvasRendererBase.prototype.createText=function(f){return new CVTextElement(f,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(f){return new CVImageElement(f,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(f){return new CVSolidElement(f,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(f){f[0]===1&&f[1]===0&&f[4]===0&&f[5]===1&&f[12]===0&&f[13]===0||this.canvasContext.transform(f[0],f[1],f[4],f[5],f[12],f[13])},CanvasRendererBase.prototype.ctxOpacity=function(f){this.canvasContext.globalAlpha*=f<0?0:f},CanvasRendererBase.prototype.ctxFillStyle=function(f){this.canvasContext.fillStyle=f},CanvasRendererBase.prototype.ctxStrokeStyle=function(f){this.canvasContext.strokeStyle=f},CanvasRendererBase.prototype.ctxLineWidth=function(f){this.canvasContext.lineWidth=f},CanvasRendererBase.prototype.ctxLineCap=function(f){this.canvasContext.lineCap=f},CanvasRendererBase.prototype.ctxLineJoin=function(f){this.canvasContext.lineJoin=f},CanvasRendererBase.prototype.ctxMiterLimit=function(f){this.canvasContext.miterLimit=f},CanvasRendererBase.prototype.ctxFill=function(f){this.canvasContext.fill(f)},CanvasRendererBase.prototype.ctxFillRect=function(f,l,u,c){this.canvasContext.fillRect(f,l,u,c)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(f){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}f&&(this.globalData.blendMode="source-over"),this.contextData.restore(f)},CanvasRendererBase.prototype.configAnimation=function(f){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var l=this.animationItem.container.style;l.width="100%",l.height="100%";var u="0px 0px 0px";l.transformOrigin=u,l.mozTransformOrigin=u,l.webkitTransformOrigin=u,l["-webkit-transform"]=u,l.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=f,this.layers=f.layers,this.transformCanvas={w:f.w,h:f.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(f,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(f.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(f,l){this.reset();var u,c;f?(u=f,c=l,this.canvasContext.canvas.width=u,this.canvasContext.canvas.height=c):(this.animationItem.wrapper&&this.animationItem.container?(u=this.animationItem.wrapper.offsetWidth,c=this.animationItem.wrapper.offsetHeight):(u=this.canvasContext.canvas.width,c=this.canvasContext.canvas.height),this.canvasContext.canvas.width=u*this.renderConfig.dpr,this.canvasContext.canvas.height=c*this.renderConfig.dpr);var m,_;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var g=this.renderConfig.preserveAspectRatio.split(" "),b=g[1]||"meet",y=g[0]||"xMidYMid",S=y.substr(0,4),A=y.substr(4);m=u/c,_=this.transformCanvas.w/this.transformCanvas.h,_>m&&b==="meet"||_<m&&b==="slice"?(this.transformCanvas.sx=u/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=u/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=c/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=c/(this.transformCanvas.h/this.renderConfig.dpr)),S==="xMid"&&(_<m&&b==="meet"||_>m&&b==="slice")?this.transformCanvas.tx=(u-this.transformCanvas.w*(c/this.transformCanvas.h))/2*this.renderConfig.dpr:S==="xMax"&&(_<m&&b==="meet"||_>m&&b==="slice")?this.transformCanvas.tx=(u-this.transformCanvas.w*(c/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,A==="YMid"&&(_>m&&b==="meet"||_<m&&b==="slice")?this.transformCanvas.ty=(c-this.transformCanvas.h*(u/this.transformCanvas.w))/2*this.renderConfig.dpr:A==="YMax"&&(_>m&&b==="meet"||_<m&&b==="slice")?this.transformCanvas.ty=(c-this.transformCanvas.h*(u/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=u/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=c/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var f,l=this.layers?this.layers.length:0;for(f=l-1;f>=0;f-=1)this.elements[f]&&this.elements[f].destroy&&this.elements[f].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(f,l){if(!(this.renderedFrame===f&&this.renderConfig.clearCanvas===!0&&!l||this.destroyed||f===-1)){this.renderedFrame=f,this.globalData.frameNum=f-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||l,this.globalData.projectInterface.currentFrame=f;var u,c=this.layers.length;for(this.completeLayers||this.checkLayers(f),u=c-1;u>=0;u-=1)(this.completeLayers||this.elements[u])&&this.elements[u].prepareFrame(f-this.layers[u].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),u=c-1;u>=0;u-=1)(this.completeLayers||this.elements[u])&&this.elements[u].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(f){var l=this.elements;if(!(l[f]||this.layers[f].ty===99)){var u=this.createItem(this.layers[f],this,this.globalData);l[f]=u,u.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var f=this.pendingElements.pop();f.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var f,l=15;for(f=0;f<l;f+=1){var u=new CanvasContext;this.stack[f]=u}this._length=l,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var f=this._length*2,l=0;for(l=this._length;l<f;l+=1)this.stack[l]=new CanvasContext;this._length=f},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(f){this.cArrPos-=1;var l=this.stack[this.cArrPos],u=l.transform,c,m=this.cTr.props;for(c=0;c<16;c+=1)m[c]=u[c];if(f){this.nativeContext.restore();var _=this.stack[this.cArrPos+1];this.appliedFillStyle=_.fillStyle,this.appliedStrokeStyle=_.strokeStyle,this.appliedLineWidth=_.lineWidth,this.appliedLineCap=_.lineCap,this.appliedLineJoin=_.lineJoin,this.appliedMiterLimit=_.miterLimit}this.nativeContext.setTransform(u[0],u[1],u[4],u[5],u[12],u[13]),(f||l.opacity!==-1&&this.currentOpacity!==l.opacity)&&(this.nativeContext.globalAlpha=l.opacity,this.currentOpacity=l.opacity),this.currentFillStyle=l.fillStyle,this.currentStrokeStyle=l.strokeStyle,this.currentLineWidth=l.lineWidth,this.currentLineCap=l.lineCap,this.currentLineJoin=l.lineJoin,this.currentMiterLimit=l.miterLimit},CVContextData.prototype.save=function(f){f&&this.nativeContext.save();var l=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var u=this.stack[this.cArrPos],c;for(c=0;c<16;c+=1)u.transform[c]=l[c];this.cArrPos+=1;var m=this.stack[this.cArrPos];m.opacity=u.opacity,m.fillStyle=u.fillStyle,m.strokeStyle=u.strokeStyle,m.lineWidth=u.lineWidth,m.lineCap=u.lineCap,m.lineJoin=u.lineJoin,m.miterLimit=u.miterLimit},CVContextData.prototype.setOpacity=function(f){this.stack[this.cArrPos].opacity=f},CVContextData.prototype.setContext=function(f){this.nativeContext=f},CVContextData.prototype.fillStyle=function(f){this.stack[this.cArrPos].fillStyle!==f&&(this.currentFillStyle=f,this.stack[this.cArrPos].fillStyle=f)},CVContextData.prototype.strokeStyle=function(f){this.stack[this.cArrPos].strokeStyle!==f&&(this.currentStrokeStyle=f,this.stack[this.cArrPos].strokeStyle=f)},CVContextData.prototype.lineWidth=function(f){this.stack[this.cArrPos].lineWidth!==f&&(this.currentLineWidth=f,this.stack[this.cArrPos].lineWidth=f)},CVContextData.prototype.lineCap=function(f){this.stack[this.cArrPos].lineCap!==f&&(this.currentLineCap=f,this.stack[this.cArrPos].lineCap=f)},CVContextData.prototype.lineJoin=function(f){this.stack[this.cArrPos].lineJoin!==f&&(this.currentLineJoin=f,this.stack[this.cArrPos].lineJoin=f)},CVContextData.prototype.miterLimit=function(f){this.stack[this.cArrPos].miterLimit!==f&&(this.currentMiterLimit=f,this.stack[this.cArrPos].miterLimit=f)},CVContextData.prototype.transform=function(f){this.transformMat.cloneFromProps(f);var l=this.cTr;this.transformMat.multiply(l),l.cloneFromProps(this.transformMat.props);var u=l.props;this.nativeContext.setTransform(u[0],u[1],u[4],u[5],u[12],u[13])},CVContextData.prototype.opacity=function(f){var l=this.stack[this.cArrPos].opacity;l*=f<0?0:f,this.stack[this.cArrPos].opacity!==l&&(this.currentOpacity!==f&&(this.nativeContext.globalAlpha=f,this.currentOpacity=f),this.stack[this.cArrPos].opacity=l)},CVContextData.prototype.fill=function(f){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(f)},CVContextData.prototype.fillRect=function(f,l,u,c){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(f,l,u,c)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(f,l,u){this.completeLayers=!1,this.layers=f.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(f,l,u),this.tm=f.tm?PropertyFactory.getProp(this,f.tm,0,l.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var f=this.canvasContext;f.beginPath(),f.moveTo(0,0),f.lineTo(this.data.w,0),f.lineTo(this.data.w,this.data.h),f.lineTo(0,this.data.h),f.lineTo(0,0),f.clip();var l,u=this.layers.length;for(l=u-1;l>=0;l-=1)(this.completeLayers||this.elements[l])&&this.elements[l].renderFrame()},CVCompElement.prototype.destroy=function(){var f,l=this.layers.length;for(f=l-1;f>=0;f-=1)this.elements[f]&&this.elements[f].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(f){return new CVCompElement(f,this.globalData,this)};function CanvasRenderer(f,l){this.animationItem=f,this.renderConfig={clearCanvas:l&&l.clearCanvas!==void 0?l.clearCanvas:!0,context:l&&l.context||null,progressiveLoad:l&&l.progressiveLoad||!1,preserveAspectRatio:l&&l.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:l&&l.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:l&&l.contentVisibility||"visible",className:l&&l.className||"",id:l&&l.id||"",runExpressions:!l||l.runExpressions===void 0||l.runExpressions},this.renderConfig.dpr=l&&l.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=l&&l.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(f){return new CVCompElement(f,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var l=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var u=this.finalTransform.mat.toCSS();l.transform=u,l.webkitTransform=u}this.finalTransform._opMdf&&(l.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(f,l,u){this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var f;this.data.hasMask?(f=createNS("rect"),f.setAttribute("width",this.data.sw),f.setAttribute("height",this.data.sh),f.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(f=createTag("div"),f.style.width=this.data.sw+"px",f.style.height=this.data.sh+"px",f.style.backgroundColor=this.data.sc),this.layerElement.appendChild(f)};function HShapeElement(f,l,u){this.shapes=[],this.shapesData=f.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(f,l,u),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var f;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),f=this.svgElement;else{f=createNS("svg");var l=this.comp.data?this.comp.data:this.globalData.compSize;f.setAttribute("width",l.w),f.setAttribute("height",l.h),f.appendChild(this.shapesContainer),this.layerElement.appendChild(f)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=f},HShapeElement.prototype.getTransformedPoint=function(f,l){var u,c=f.length;for(u=0;u<c;u+=1)l=f[u].mProps.v.applyToPointArray(l[0],l[1],0);return l},HShapeElement.prototype.calculateShapeBoundingBox=function(f,l){var u=f.sh.v,c=f.transformers,m,_=u._length,g,b,y,S;if(!(_<=1)){for(m=0;m<_-1;m+=1)g=this.getTransformedPoint(c,u.v[m]),b=this.getTransformedPoint(c,u.o[m]),y=this.getTransformedPoint(c,u.i[m+1]),S=this.getTransformedPoint(c,u.v[m+1]),this.checkBounds(g,b,y,S,l);u.c&&(g=this.getTransformedPoint(c,u.v[m]),b=this.getTransformedPoint(c,u.o[m]),y=this.getTransformedPoint(c,u.i[0]),S=this.getTransformedPoint(c,u.v[0]),this.checkBounds(g,b,y,S,l))}},HShapeElement.prototype.checkBounds=function(f,l,u,c,m){this.getBoundsOfCurve(f,l,u,c);var _=this.shapeBoundingBox;m.x=bmMin(_.left,m.x),m.xMax=bmMax(_.right,m.xMax),m.y=bmMin(_.top,m.y),m.yMax=bmMax(_.bottom,m.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(f,l,u,c){for(var m=[[f[0],c[0]],[f[1],c[1]]],_,g,b,y,S,A,C,x=0;x<2;++x)g=6*f[x]-12*l[x]+6*u[x],_=-3*f[x]+9*l[x]-9*u[x]+3*c[x],b=3*l[x]-3*f[x],g|=0,_|=0,b|=0,_===0&&g===0||(_===0?(y=-b/g,y>0&&y<1&&m[x].push(this.calculateF(y,f,l,u,c,x))):(S=g*g-4*b*_,S>=0&&(A=(-g+bmSqrt(S))/(2*_),A>0&&A<1&&m[x].push(this.calculateF(A,f,l,u,c,x)),C=(-g-bmSqrt(S))/(2*_),C>0&&C<1&&m[x].push(this.calculateF(C,f,l,u,c,x)))));this.shapeBoundingBox.left=bmMin.apply(null,m[0]),this.shapeBoundingBox.top=bmMin.apply(null,m[1]),this.shapeBoundingBox.right=bmMax.apply(null,m[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,m[1])},HShapeElement.prototype.calculateF=function(f,l,u,c,m,_){return bmPow(1-f,3)*l[_]+3*bmPow(1-f,2)*f*u[_]+3*(1-f)*bmPow(f,2)*c[_]+bmPow(f,3)*m[_]},HShapeElement.prototype.calculateBoundingBox=function(f,l){var u,c=f.length;for(u=0;u<c;u+=1)f[u]&&f[u].sh?this.calculateShapeBoundingBox(f[u],l):f[u]&&f[u].it?this.calculateBoundingBox(f[u].it,l):f[u]&&f[u].style&&f[u].w&&this.expandStrokeBoundingBox(f[u].w,l)},HShapeElement.prototype.expandStrokeBoundingBox=function(f,l){var u=0;if(f.keyframes){for(var c=0;c<f.keyframes.length;c+=1){var m=f.keyframes[c].s;m>u&&(u=m)}u*=f.mult}else u=f.v*f.mult;l.x-=u,l.xMax+=u,l.y-=u,l.yMax+=u},HShapeElement.prototype.currentBoxContains=function(f){return this.currentBBox.x<=f.x&&this.currentBBox.y<=f.y&&this.currentBBox.width+this.currentBBox.x>=f.x+f.width&&this.currentBBox.height+this.currentBBox.y>=f.y+f.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var f=this.tempBoundingBox,l=999999;if(f.x=l,f.xMax=-l,f.y=l,f.yMax=-l,this.calculateBoundingBox(this.itemsData,f),f.width=f.xMax<f.x?0:f.xMax-f.x,f.height=f.yMax<f.y?0:f.yMax-f.y,this.currentBoxContains(f))return;var u=!1;if(this.currentBBox.w!==f.width&&(this.currentBBox.w=f.width,this.shapeCont.setAttribute("width",f.width),u=!0),this.currentBBox.h!==f.height&&(this.currentBBox.h=f.height,this.shapeCont.setAttribute("height",f.height),u=!0),u||this.currentBBox.x!==f.x||this.currentBBox.y!==f.y){this.currentBBox.w=f.width,this.currentBBox.h=f.height,this.currentBBox.x=f.x,this.currentBBox.y=f.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var c=this.shapeCont.style,m="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";c.transform=m,c.webkitTransform=m}}};function HTextElement(f,l,u){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var f=createNS("g");this.maskedElement.appendChild(f),this.innerElem=f}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var f=this.textProperty.currentData;this.renderedLetters=createSizedArray(f.l?f.l.length:0);var l=this.innerElem.style,u=f.fc?this.buildColor(f.fc):"rgba(0,0,0,0)";l.fill=u,l.color=u,f.sc&&(l.stroke=this.buildColor(f.sc),l.strokeWidth=f.sw+"px");var c=this.globalData.fontManager.getFontByName(f.f);if(!this.globalData.fontManager.chars)if(l.fontSize=f.finalSize+"px",l.lineHeight=f.finalSize+"px",c.fClass)this.innerElem.className=c.fClass;else{l.fontFamily=c.fFamily;var m=f.fWeight,_=f.fStyle;l.fontStyle=_,l.fontWeight=m}var g,b,y=f.l;b=y.length;var S,A,C,x=this.mHelper,E,k="",T=0;for(g=0;g<b;g+=1){if(this.globalData.fontManager.chars?(this.textPaths[T]?S=this.textPaths[T]:(S=createNS("path"),S.setAttribute("stroke-linecap",lineCapEnum[1]),S.setAttribute("stroke-linejoin",lineJoinEnum[2]),S.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[T]?(A=this.textSpans[T],C=A.children[0]):(A=createTag("div"),A.style.lineHeight=0,C=createNS("svg"),C.appendChild(S),styleDiv(A)))):this.isMasked?S=this.textPaths[T]?this.textPaths[T]:createNS("text"):this.textSpans[T]?(A=this.textSpans[T],S=this.textPaths[T]):(A=createTag("span"),styleDiv(A),S=createTag("span"),styleDiv(S),A.appendChild(S)),this.globalData.fontManager.chars){var I=this.globalData.fontManager.getCharData(f.finalText[g],c.fStyle,this.globalData.fontManager.getFontByName(f.f).fFamily),M;if(I?M=I.data:M=null,x.reset(),M&&M.shapes&&M.shapes.length&&(E=M.shapes[0].it,x.scale(f.finalSize/100,f.finalSize/100),k=this.createPathShape(x,E),S.setAttribute("d",k)),this.isMasked)this.innerElem.appendChild(S);else{if(this.innerElem.appendChild(A),M&&M.shapes){document.body.appendChild(C);var j=C.getBBox();C.setAttribute("width",j.width+2),C.setAttribute("height",j.height+2),C.setAttribute("viewBox",j.x-1+" "+(j.y-1)+" "+(j.width+2)+" "+(j.height+2));var P=C.style,O="translate("+(j.x-1)+"px,"+(j.y-1)+"px)";P.transform=O,P.webkitTransform=O,y[g].yOffset=j.y-1}else C.setAttribute("width",1),C.setAttribute("height",1);A.appendChild(C)}}else if(S.textContent=y[g].val,S.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(S);else{this.innerElem.appendChild(A);var N=S.style,D="translate3d(0,"+-f.finalSize/1.2+"px,0)";N.transform=D,N.webkitTransform=D}this.isMasked?this.textSpans[T]=S:this.textSpans[T]=A,this.textSpans[T].style.display="block",this.textPaths[T]=S,T+=1}for(;T<this.textSpans.length;)this.textSpans[T].style.display="none",T+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var f;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),f=this.svgElement.style;var l="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";f.transform=l,f.webkitTransform=l}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var u,c,m=0,_=this.textAnimator.renderedLetters,g=this.textProperty.currentData.l;c=g.length;var b,y,S;for(u=0;u<c;u+=1)g[u].n?m+=1:(y=this.textSpans[u],S=this.textPaths[u],b=_[m],m+=1,b._mdf.m&&(this.isMasked?y.setAttribute("transform",b.m):(y.style.webkitTransform=b.m,y.style.transform=b.m)),y.style.opacity=b.o,b.sw&&b._mdf.sw&&S.setAttribute("stroke-width",b.sw),b.sc&&b._mdf.sc&&S.setAttribute("stroke",b.sc),b.fc&&b._mdf.fc&&(S.setAttribute("fill",b.fc),S.style.color=b.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var A=this.innerElem.getBBox();this.currentBBox.w!==A.width&&(this.currentBBox.w=A.width,this.svgElement.setAttribute("width",A.width)),this.currentBBox.h!==A.height&&(this.currentBBox.h=A.height,this.svgElement.setAttribute("height",A.height));var C=1;if(this.currentBBox.w!==A.width+C*2||this.currentBBox.h!==A.height+C*2||this.currentBBox.x!==A.x-C||this.currentBBox.y!==A.y-C){this.currentBBox.w=A.width+C*2,this.currentBBox.h=A.height+C*2,this.currentBBox.x=A.x-C,this.currentBBox.y=A.y-C,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),f=this.svgElement.style;var x="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";f.transform=x,f.webkitTransform=x}}}};function HCameraElement(f,l,u){this.initFrame(),this.initBaseData(f,l,u),this.initHierarchy();var c=PropertyFactory.getProp;if(this.pe=c(this,f.pe,0,0,this),f.ks.p.s?(this.px=c(this,f.ks.p.x,1,0,this),this.py=c(this,f.ks.p.y,1,0,this),this.pz=c(this,f.ks.p.z,1,0,this)):this.p=c(this,f.ks.p,1,0,this),f.ks.a&&(this.a=c(this,f.ks.a,1,0,this)),f.ks.or.k.length&&f.ks.or.k[0].to){var m,_=f.ks.or.k.length;for(m=0;m<_;m+=1)f.ks.or.k[m].to=null,f.ks.or.k[m].ti=null}this.or=c(this,f.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=c(this,f.ks.rx,0,degToRads,this),this.ry=c(this,f.ks.ry,0,degToRads,this),this.rz=c(this,f.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var f,l=this.comp.threeDElements.length,u,c,m;for(f=0;f<l;f+=1)if(u=this.comp.threeDElements[f],u.type==="3d"){c=u.perspectiveElem.style,m=u.container.style;var _=this.pe.v+"px",g="0px 0px 0px",b="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";c.perspective=_,c.webkitPerspective=_,m.transformOrigin=g,m.mozTransformOrigin=g,m.webkitTransformOrigin=g,c.transform=b,c.webkitTransform=b}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var f=this._isFirstFrame,l,u;if(this.hierarchy)for(u=this.hierarchy.length,l=0;l<u;l+=1)f=this.hierarchy[l].finalTransform.mProp._mdf||f;if(f||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(u=this.hierarchy.length-1,l=u;l>=0;l-=1){var c=this.hierarchy[l].finalTransform.mProp;this.mat.translate(-c.p.v[0],-c.p.v[1],c.p.v[2]),this.mat.rotateX(-c.or.v[0]).rotateY(-c.or.v[1]).rotateZ(c.or.v[2]),this.mat.rotateX(-c.rx.v).rotateY(-c.ry.v).rotateZ(c.rz.v),this.mat.scale(1/c.s.v[0],1/c.s.v[1],1/c.s.v[2]),this.mat.translate(c.a.v[0],c.a.v[1],c.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var m;this.p?m=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:m=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var _=Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2)+Math.pow(m[2],2)),g=[m[0]/_,m[1]/_,m[2]/_],b=Math.sqrt(g[2]*g[2]+g[0]*g[0]),y=Math.atan2(g[1],b),S=Math.atan2(g[0],-g[2]);this.mat.rotateY(S).rotateX(-y)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var A=!this._prevMat.equals(this.mat);if((A||this.pe._mdf)&&this.comp.threeDElements){u=this.comp.threeDElements.length;var C,x,E;for(l=0;l<u;l+=1)if(C=this.comp.threeDElements[l],C.type==="3d"){if(A){var k=this.mat.toCSS();E=C.container.style,E.transform=k,E.webkitTransform=k}this.pe._mdf&&(x=C.perspectiveElem.style,x.perspective=this.pe.v+"px",x.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(f){this.prepareProperties(f,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(f,l,u){this.assetData=l.getAssetData(f.refId),this.initElement(f,l,u)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var f=this.globalData.getAssetsPath(this.assetData),l=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",f),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(l),l.crossOrigin="anonymous",l.src=f,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(f,l){this.animationItem=f,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:l&&l.className||"",imagePreserveAspectRatio:l&&l.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(l&&l.hideOnTransparent===!1),filterSize:{width:l&&l.filterSize&&l.filterSize.width||"400%",height:l&&l.filterSize&&l.filterSize.height||"400%",x:l&&l.filterSize&&l.filterSize.x||"-100%",y:l&&l.filterSize&&l.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var f=this.pendingElements.pop();f.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(f,l){var u=f.getBaseElement();if(u){var c=this.layers[l];if(!c.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(u,l);else{for(var m=0,_,g,b;m<l;)this.elements[m]&&this.elements[m]!==!0&&this.elements[m].getBaseElement&&(g=this.elements[m],b=this.layers[m].ddd?this.getThreeDContainerByPos(m):g.getBaseElement(),_=b||_),m+=1;_?(!c.ddd||!this.supports3d)&&this.layerElement.insertBefore(u,_):(!c.ddd||!this.supports3d)&&this.layerElement.appendChild(u)}else this.addTo3dContainer(u,l)}},HybridRendererBase.prototype.createShape=function(f){return this.supports3d?new HShapeElement(f,this.globalData,this):new SVGShapeElement(f,this.globalData,this)},HybridRendererBase.prototype.createText=function(f){return this.supports3d?new HTextElement(f,this.globalData,this):new SVGTextLottieElement(f,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(f){return this.camera=new HCameraElement(f,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(f){return this.supports3d?new HImageElement(f,this.globalData,this):new IImageElement(f,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(f){return this.supports3d?new HSolidElement(f,this.globalData,this):new ISolidElement(f,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(f){for(var l=0,u=this.threeDElements.length;l<u;){if(this.threeDElements[l].startPos<=f&&this.threeDElements[l].endPos>=f)return this.threeDElements[l].perspectiveElem;l+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(f,l){var u=createTag("div"),c,m;styleDiv(u);var _=createTag("div");if(styleDiv(_),l==="3d"){c=u.style,c.width=this.globalData.compSize.w+"px",c.height=this.globalData.compSize.h+"px";var g="50% 50%";c.webkitTransformOrigin=g,c.mozTransformOrigin=g,c.transformOrigin=g,m=_.style;var b="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";m.transform=b,m.webkitTransform=b}u.appendChild(_);var y={container:_,perspectiveElem:u,startPos:f,endPos:f,type:l};return this.threeDElements.push(y),y},HybridRendererBase.prototype.build3dContainers=function(){var f,l=this.layers.length,u,c="";for(f=0;f<l;f+=1)this.layers[f].ddd&&this.layers[f].ty!==3?(c!=="3d"&&(c="3d",u=this.createThreeDContainer(f,"3d")),u.endPos=Math.max(u.endPos,f)):(c!=="2d"&&(c="2d",u=this.createThreeDContainer(f,"2d")),u.endPos=Math.max(u.endPos,f));for(l=this.threeDElements.length,f=l-1;f>=0;f-=1)this.resizerElem.appendChild(this.threeDElements[f].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(f,l){for(var u=0,c=this.threeDElements.length;u<c;){if(l<=this.threeDElements[u].endPos){for(var m=this.threeDElements[u].startPos,_;m<l;)this.elements[m]&&this.elements[m].getBaseElement&&(_=this.elements[m].getBaseElement()),m+=1;_?this.threeDElements[u].container.insertBefore(f,_):this.threeDElements[u].container.appendChild(f);break}u+=1}},HybridRendererBase.prototype.configAnimation=function(f){var l=createTag("div"),u=this.animationItem.wrapper,c=l.style;c.width=f.w+"px",c.height=f.h+"px",this.resizerElem=l,styleDiv(l),c.transformStyle="flat",c.mozTransformStyle="flat",c.webkitTransformStyle="flat",this.renderConfig.className&&l.setAttribute("class",this.renderConfig.className),u.appendChild(l),c.overflow="hidden";var m=createNS("svg");m.setAttribute("width","1"),m.setAttribute("height","1"),styleDiv(m),this.resizerElem.appendChild(m);var _=createNS("defs");m.appendChild(_),this.data=f,this.setupGlobalData(f,m),this.globalData.defs=_,this.layers=f.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var f,l=this.layers?this.layers.length:0;for(f=0;f<l;f+=1)this.elements[f]&&this.elements[f].destroy&&this.elements[f].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var f=this.animationItem.wrapper.offsetWidth,l=this.animationItem.wrapper.offsetHeight,u=f/l,c=this.globalData.compSize.w/this.globalData.compSize.h,m,_,g,b;c>u?(m=f/this.globalData.compSize.w,_=f/this.globalData.compSize.w,g=0,b=(l-this.globalData.compSize.h*(f/this.globalData.compSize.w))/2):(m=l/this.globalData.compSize.h,_=l/this.globalData.compSize.h,g=(f-this.globalData.compSize.w*(l/this.globalData.compSize.h))/2,b=0);var y=this.resizerElem.style;y.webkitTransform="matrix3d("+m+",0,0,0,0,"+_+",0,0,0,0,1,0,"+g+","+b+",0,1)",y.transform=y.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var f=this.globalData.compSize.w,l=this.globalData.compSize.h,u,c=this.threeDElements.length;for(u=0;u<c;u+=1){var m=this.threeDElements[u].perspectiveElem.style;m.webkitPerspective=Math.sqrt(Math.pow(f,2)+Math.pow(l,2))+"px",m.perspective=m.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(f){var l,u=f.length,c=createTag("div");for(l=0;l<u;l+=1)if(f[l].xt){var m=this.createComp(f[l],c,this.globalData.comp,null);m.initExpressions(),this.globalData.projectInterface.registerComposition(m)}};function HCompElement(f,l,u){this.layers=f.layers,this.supports3d=!f.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(f,l,u),this.tm=f.tm?PropertyFactory.getProp(this,f.tm,0,l.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(f,l){for(var u=0,c;u<l;)this.elements[u]&&this.elements[u].getBaseElement&&(c=this.elements[u].getBaseElement()),u+=1;c?this.layerElement.insertBefore(f,c):this.layerElement.appendChild(f)},HCompElement.prototype.createComp=function(f){return this.supports3d?new HCompElement(f,this.globalData,this):new SVGCompElement(f,this.globalData,this)};function HybridRenderer(f,l){this.animationItem=f,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:l&&l.className||"",imagePreserveAspectRatio:l&&l.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(l&&l.hideOnTransparent===!1),filterSize:{width:l&&l.filterSize&&l.filterSize.width||"400%",height:l&&l.filterSize&&l.filterSize.height||"400%",x:l&&l.filterSize&&l.filterSize.x||"-100%",y:l&&l.filterSize&&l.filterSize.y||"-100%"},runExpressions:!l||l.runExpressions===void 0||l.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(f){return this.supports3d?new HCompElement(f,this.globalData,this):new SVGCompElement(f,this.globalData,this)};var CompExpressionInterface=function(){return function(f){function l(u){for(var c=0,m=f.layers.length;c<m;){if(f.layers[c].nm===u||f.layers[c].ind===u)return f.elements[c].layerInterface;c+=1}return null}return Object.defineProperty(l,"_name",{value:f.data.nm}),l.layer=l,l.pixelAspect=1,l.height=f.data.h||f.globalData.compSize.h,l.width=f.data.w||f.globalData.compSize.w,l.pixelAspect=1,l.frameDuration=1/f.globalData.frameRate,l.displayStartTime=0,l.numLayers=f.layers.length,l}}();function _typeof$2(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(u){return typeof u}:_typeof$2=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$2(f)}function seedRandom(f,l){var u=this,c=256,m=6,_=52,g="random",b=l.pow(c,m),y=l.pow(2,_),S=y*2,A=c-1,C;function x(P,O,N){var D=[];O=O===!0?{entropy:!0}:O||{};var L=I(T(O.entropy?[P,j(f)]:P===null?M():P,3),D),R=new E(D),G=function(){for(var B=R.g(m),J=b,K=0;B<y;)B=(B+K)*c,J*=c,K=R.g(1);for(;B>=S;)B/=2,J/=2,K>>>=1;return(B+K)/J};return G.int32=function(){return R.g(4)|0},G.quick=function(){return R.g(4)/4294967296},G.double=G,I(j(R.S),f),(O.pass||N||function(Z,B,J,K){return K&&(K.S&&k(K,R),Z.state=function(){return k(R,{})}),J?(l[g]=Z,B):Z})(G,L,"global"in O?O.global:this==l,O.state)}l["seed"+g]=x;function E(P){var O,N=P.length,D=this,L=0,R=D.i=D.j=0,G=D.S=[];for(N||(P=[N++]);L<c;)G[L]=L++;for(L=0;L<c;L++)G[L]=G[R=A&R+P[L%N]+(O=G[L])],G[R]=O;D.g=function(Z){for(var B,J=0,K=D.i,ee=D.j,V=D.S;Z--;)B=V[K=A&K+1],J=J*c+V[A&(V[K]=V[ee=A&ee+B])+(V[ee]=B)];return D.i=K,D.j=ee,J}}function k(P,O){return O.i=P.i,O.j=P.j,O.S=P.S.slice(),O}function T(P,O){var N=[],D=_typeof$2(P),L;if(O&&D=="object")for(L in P)try{N.push(T(P[L],O-1))}catch{}return N.length?N:D=="string"?P:P+"\0"}function I(P,O){for(var N=P+"",D,L=0;L<N.length;)O[A&L]=A&(D^=O[A&L]*19)+N.charCodeAt(L++);return j(O)}function M(){try{var P=new Uint8Array(c);return(u.crypto||u.msCrypto).getRandomValues(P),j(P)}catch{var O=u.navigator,N=O&&O.plugins;return[+new Date,u,N,u.screen,j(f)]}}function j(P){return String.fromCharCode.apply(0,P)}I(l.random(),f)}function initialize$2(f){seedRandom([],f)}var propTypes={SHAPE:"shape"};function _typeof$1(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(u){return typeof u}:_typeof$1=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof$1(f)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(f){return f.constructor===Array||f.constructor===Float32Array}function isNumerable(f,l){return f==="number"||l instanceof Number||f==="boolean"||f==="string"}function $bm_neg(f){var l=_typeof$1(f);if(l==="number"||f instanceof Number||l==="boolean")return-f;if($bm_isInstanceOfArray(f)){var u,c=f.length,m=[];for(u=0;u<c;u+=1)m[u]=-f[u];return m}return f.propType?f.v:-f}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(f,l){var u=_typeof$1(f),c=_typeof$1(l);if(isNumerable(u,f)&&isNumerable(c,l)||u==="string"||c==="string")return f+l;if($bm_isInstanceOfArray(f)&&isNumerable(c,l))return f=f.slice(0),f[0]+=l,f;if(isNumerable(u,f)&&$bm_isInstanceOfArray(l))return l=l.slice(0),l[0]=f+l[0],l;if($bm_isInstanceOfArray(f)&&$bm_isInstanceOfArray(l)){for(var m=0,_=f.length,g=l.length,b=[];m<_||m<g;)(typeof f[m]=="number"||f[m]instanceof Number)&&(typeof l[m]=="number"||l[m]instanceof Number)?b[m]=f[m]+l[m]:b[m]=l[m]===void 0?f[m]:f[m]||l[m],m+=1;return b}return 0}var add=sum;function sub(f,l){var u=_typeof$1(f),c=_typeof$1(l);if(isNumerable(u,f)&&isNumerable(c,l))return u==="string"&&(f=parseInt(f,10)),c==="string"&&(l=parseInt(l,10)),f-l;if($bm_isInstanceOfArray(f)&&isNumerable(c,l))return f=f.slice(0),f[0]-=l,f;if(isNumerable(u,f)&&$bm_isInstanceOfArray(l))return l=l.slice(0),l[0]=f-l[0],l;if($bm_isInstanceOfArray(f)&&$bm_isInstanceOfArray(l)){for(var m=0,_=f.length,g=l.length,b=[];m<_||m<g;)(typeof f[m]=="number"||f[m]instanceof Number)&&(typeof l[m]=="number"||l[m]instanceof Number)?b[m]=f[m]-l[m]:b[m]=l[m]===void 0?f[m]:f[m]||l[m],m+=1;return b}return 0}function mul(f,l){var u=_typeof$1(f),c=_typeof$1(l),m;if(isNumerable(u,f)&&isNumerable(c,l))return f*l;var _,g;if($bm_isInstanceOfArray(f)&&isNumerable(c,l)){for(g=f.length,m=createTypedArray("float32",g),_=0;_<g;_+=1)m[_]=f[_]*l;return m}if(isNumerable(u,f)&&$bm_isInstanceOfArray(l)){for(g=l.length,m=createTypedArray("float32",g),_=0;_<g;_+=1)m[_]=f*l[_];return m}return 0}function div(f,l){var u=_typeof$1(f),c=_typeof$1(l),m;if(isNumerable(u,f)&&isNumerable(c,l))return f/l;var _,g;if($bm_isInstanceOfArray(f)&&isNumerable(c,l)){for(g=f.length,m=createTypedArray("float32",g),_=0;_<g;_+=1)m[_]=f[_]/l;return m}if(isNumerable(u,f)&&$bm_isInstanceOfArray(l)){for(g=l.length,m=createTypedArray("float32",g),_=0;_<g;_+=1)m[_]=f/l[_];return m}return 0}function mod(f,l){return typeof f=="string"&&(f=parseInt(f,10)),typeof l=="string"&&(l=parseInt(l,10)),f%l}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(f,l,u){if(l>u){var c=u;u=l,l=c}return Math.min(Math.max(f,l),u)}function radiansToDegrees(f){return f/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(f){return f*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(f,l){if(typeof f=="number"||f instanceof Number)return l=l||0,Math.abs(f-l);l||(l=helperLengthArray);var u,c=Math.min(f.length,l.length),m=0;for(u=0;u<c;u+=1)m+=Math.pow(l[u]-f[u],2);return Math.sqrt(m)}function normalize(f){return div(f,length(f))}function rgbToHsl(f){var l=f[0],u=f[1],c=f[2],m=Math.max(l,u,c),_=Math.min(l,u,c),g,b,y=(m+_)/2;if(m===_)g=0,b=0;else{var S=m-_;switch(b=y>.5?S/(2-m-_):S/(m+_),m){case l:g=(u-c)/S+(u<c?6:0);break;case u:g=(c-l)/S+2;break;case c:g=(l-u)/S+4;break}g/=6}return[g,b,y,f[3]]}function hue2rgb(f,l,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?f+(l-f)*6*u:u<1/2?l:u<2/3?f+(l-f)*(2/3-u)*6:f}function hslToRgb(f){var l=f[0],u=f[1],c=f[2],m,_,g;if(u===0)m=c,g=c,_=c;else{var b=c<.5?c*(1+u):c+u-c*u,y=2*c-b;m=hue2rgb(y,b,l+1/3),_=hue2rgb(y,b,l),g=hue2rgb(y,b,l-1/3)}return[m,_,g,f[3]]}function linear(f,l,u,c,m){if((c===void 0||m===void 0)&&(c=l,m=u,l=0,u=1),u<l){var _=u;u=l,l=_}if(f<=l)return c;if(f>=u)return m;var g=u===l?0:(f-l)/(u-l);if(!c.length)return c+(m-c)*g;var b,y=c.length,S=createTypedArray("float32",y);for(b=0;b<y;b+=1)S[b]=c[b]+(m[b]-c[b])*g;return S}function random(f,l){if(l===void 0&&(f===void 0?(f=0,l=1):(l=f,f=void 0)),l.length){var u,c=l.length;f||(f=createTypedArray("float32",c));var m=createTypedArray("float32",c),_=BMMath.random();for(u=0;u<c;u+=1)m[u]=f[u]+_*(l[u]-f[u]);return m}f===void 0&&(f=0);var g=BMMath.random();return f+g*(l-f)}function createPath(f,l,u,c){var m,_=f.length,g=shapePool.newElement();g.setPathData(!!c,_);var b=[0,0],y,S;for(m=0;m<_;m+=1)y=l&&l[m]?l[m]:b,S=u&&u[m]?u[m]:b,g.setTripleAt(f[m][0],f[m][1],S[0]+f[m][0],S[1]+f[m][1],y[0]+f[m][0],y[1]+f[m][1],m,!0);return g}function initiateExpression(elem,data,property){function noOp(f){return f}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function f(l,u){var c,m,_=this.pv.length?this.pv.length:1,g=createTypedArray("float32",_);l=5;var b=Math.floor(time*l);for(c=0,m=0;c<b;){for(m=0;m<_;m+=1)g[m]+=-u+u*2*BMMath.random();c+=1}var y=time*l,S=y-Math.floor(y),A=createTypedArray("float32",_);if(_>1){for(m=0;m<_;m+=1)A[m]=this.pv[m]+g[m]+(-u+u*2*BMMath.random())*S;return A}return this.pv+g[0]+(-u+u*2*BMMath.random())*S}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(f,l){return loopIn(f,l,!0)}function loopOutDuration(f,l){return loopOut(f,l,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(f,l){var u=[l[0]-f[0],l[1]-f[1],l[2]-f[2]],c=Math.atan2(u[0],Math.sqrt(u[1]*u[1]+u[2]*u[2]))/degToRads,m=-Math.atan2(u[1],u[2])/degToRads;return[m,c,0]}function easeOut(f,l,u,c,m){return applyEase(easeOutBez,f,l,u,c,m)}function easeIn(f,l,u,c,m){return applyEase(easeInBez,f,l,u,c,m)}function ease(f,l,u,c,m){return applyEase(easeInOutBez,f,l,u,c,m)}function applyEase(f,l,u,c,m,_){m===void 0?(m=u,_=c):l=(l-u)/(c-u),l>1?l=1:l<0&&(l=0);var g=f(l);if($bm_isInstanceOfArray(m)){var b,y=m.length,S=createTypedArray("float32",y);for(b=0;b<y;b+=1)S[b]=(_[b]-m[b])*g+m[b];return S}return(_-m)*g+m}function nearestKey(f){var l,u=data.k.length,c,m;if(!data.k.length||typeof data.k[0]=="number")c=0,m=0;else if(c=-1,f*=elem.comp.globalData.frameRate,f<data.k[0].t)c=1,m=data.k[0].t;else{for(l=0;l<u-1;l+=1)if(f===data.k[l].t){c=l+1,m=data.k[l].t;break}else if(f>data.k[l].t&&f<data.k[l+1].t){f-data.k[l].t>data.k[l+1].t-f?(c=l+2,m=data.k[l+1].t):(c=l+1,m=data.k[l].t);break}c===-1&&(c=l+1,m=data.k[l].t)}var _={};return _.index=c,_.time=m/elem.comp.globalData.frameRate,_}function key(f){var l,u,c;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+f);f-=1,l={time:data.k[f].t/elem.comp.globalData.frameRate,value:[]};var m=Object.prototype.hasOwnProperty.call(data.k[f],"s")?data.k[f].s:data.k[f-1].e;for(c=m.length,u=0;u<c;u+=1)l[u]=m[u],l.value[u]=m[u];return l}function framesToTime(f,l){return l||(l=elem.comp.globalData.frameRate),f/l}function timeToFrames(f,l){return!f&&f!==0&&(f=time),l||(l=elem.comp.globalData.frameRate),f*l}function seedRandom(f){BMMath.seedrandom(randSeed+f)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(f,l){return typeof value=="string"?l===void 0?value.substring(f):value.substring(f,l):""}function substr(f,l){return typeof value=="string"?l===void 0?value.substr(f):value.substr(f,l):""}function posterizeTime(f){time=f===0?0:Math.floor(time*f)/f,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(f){return value=f,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var f={};f.initExpressions=l,f.resetFrame=ExpressionManager.resetFrame;function l(u){var c=0,m=[];function _(){c+=1}function g(){c-=1,c===0&&y()}function b(S){m.indexOf(S)===-1&&m.push(S)}function y(){var S,A=m.length;for(S=0;S<A;S+=1)m[S].release();m.length=0}u.renderer.compInterface=CompExpressionInterface(u.renderer),u.renderer.globalData.projectInterface.registerComposition(u.renderer),u.renderer.globalData.pushExpression=_,u.renderer.globalData.popExpression=g,u.renderer.globalData.registerExpressionProperty=b}return f}(),MaskManagerInterface=function(){function f(u,c){this._mask=u,this._data=c}Object.defineProperty(f.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(f.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var l=function(c){var m=createSizedArray(c.viewData.length),_,g=c.viewData.length;for(_=0;_<g;_+=1)m[_]=new f(c.viewData[_],c.masksProperties[_]);var b=function(S){for(_=0;_<g;){if(c.masksProperties[_].nm===S)return m[_];_+=1}return null};return b};return l}(),ExpressionPropertyInterface=function(){var f={pv:0,v:0,mult:1},l={pv:[0,0,0],v:[0,0,0],mult:1};function u(g,b,y){Object.defineProperty(g,"velocity",{get:function(){return b.getVelocityAtTime(b.comp.currentFrame)}}),g.numKeys=b.keyframes?b.keyframes.length:0,g.key=function(S){if(!g.numKeys)return 0;var A="";"s"in b.keyframes[S-1]?A=b.keyframes[S-1].s:"e"in b.keyframes[S-2]?A=b.keyframes[S-2].e:A=b.keyframes[S-2].s;var C=y==="unidimensional"?new Number(A):Object.assign({},A);return C.time=b.keyframes[S-1].t/b.elem.comp.globalData.frameRate,C.value=y==="unidimensional"?A[0]:A,C},g.valueAtTime=b.getValueAtTime,g.speedAtTime=b.getSpeedAtTime,g.velocityAtTime=b.getVelocityAtTime,g.propertyGroup=b.propertyGroup}function c(g){(!g||!("pv"in g))&&(g=f);var b=1/g.mult,y=g.pv*b,S=new Number(y);return S.value=y,u(S,g,"unidimensional"),function(){return g.k&&g.getValue(),y=g.v*b,S.value!==y&&(S=new Number(y),S.value=y,u(S,g,"unidimensional")),S}}function m(g){(!g||!("pv"in g))&&(g=l);var b=1/g.mult,y=g.data&&g.data.l||g.pv.length,S=createTypedArray("float32",y),A=createTypedArray("float32",y);return S.value=A,u(S,g,"multidimensional"),function(){g.k&&g.getValue();for(var C=0;C<y;C+=1)A[C]=g.v[C]*b,S[C]=A[C];return S}}function _(){return f}return function(g){return g?g.propType==="unidimensional"?c(g):m(g):_}}(),TransformExpressionInterface=function(){return function(f){function l(g){switch(g){case"scale":case"Scale":case"ADBE Scale":case 6:return l.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return l.rotation;case"ADBE Rotate X":return l.xRotation;case"ADBE Rotate Y":return l.yRotation;case"position":case"Position":case"ADBE Position":case 2:return l.position;case"ADBE Position_0":return l.xPosition;case"ADBE Position_1":return l.yPosition;case"ADBE Position_2":return l.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return l.anchorPoint;case"opacity":case"Opacity":case 11:return l.opacity;default:return null}}Object.defineProperty(l,"rotation",{get:ExpressionPropertyInterface(f.r||f.rz)}),Object.defineProperty(l,"zRotation",{get:ExpressionPropertyInterface(f.rz||f.r)}),Object.defineProperty(l,"xRotation",{get:ExpressionPropertyInterface(f.rx)}),Object.defineProperty(l,"yRotation",{get:ExpressionPropertyInterface(f.ry)}),Object.defineProperty(l,"scale",{get:ExpressionPropertyInterface(f.s)});var u,c,m,_;return f.p?_=ExpressionPropertyInterface(f.p):(u=ExpressionPropertyInterface(f.px),c=ExpressionPropertyInterface(f.py),f.pz&&(m=ExpressionPropertyInterface(f.pz))),Object.defineProperty(l,"position",{get:function(){return f.p?_():[u(),c(),m?m():0]}}),Object.defineProperty(l,"xPosition",{get:ExpressionPropertyInterface(f.px)}),Object.defineProperty(l,"yPosition",{get:ExpressionPropertyInterface(f.py)}),Object.defineProperty(l,"zPosition",{get:ExpressionPropertyInterface(f.pz)}),Object.defineProperty(l,"anchorPoint",{get:ExpressionPropertyInterface(f.a)}),Object.defineProperty(l,"opacity",{get:ExpressionPropertyInterface(f.o)}),Object.defineProperty(l,"skew",{get:ExpressionPropertyInterface(f.sk)}),Object.defineProperty(l,"skewAxis",{get:ExpressionPropertyInterface(f.sa)}),Object.defineProperty(l,"orientation",{get:ExpressionPropertyInterface(f.or)}),l}}(),LayerExpressionInterface=function(){function f(S){var A=new Matrix;if(S!==void 0){var C=this._elem.finalTransform.mProp.getValueAtTime(S);C.clone(A)}else{var x=this._elem.finalTransform.mProp;x.applyToMatrix(A)}return A}function l(S,A){var C=this.getMatrix(A);return C.props[12]=0,C.props[13]=0,C.props[14]=0,this.applyPoint(C,S)}function u(S,A){var C=this.getMatrix(A);return this.applyPoint(C,S)}function c(S,A){var C=this.getMatrix(A);return C.props[12]=0,C.props[13]=0,C.props[14]=0,this.invertPoint(C,S)}function m(S,A){var C=this.getMatrix(A);return this.invertPoint(C,S)}function _(S,A){if(this._elem.hierarchy&&this._elem.hierarchy.length){var C,x=this._elem.hierarchy.length;for(C=0;C<x;C+=1)this._elem.hierarchy[C].finalTransform.mProp.applyToMatrix(S)}return S.applyToPointArray(A[0],A[1],A[2]||0)}function g(S,A){if(this._elem.hierarchy&&this._elem.hierarchy.length){var C,x=this._elem.hierarchy.length;for(C=0;C<x;C+=1)this._elem.hierarchy[C].finalTransform.mProp.applyToMatrix(S)}return S.inversePoint(A)}function b(S){var A=new Matrix;if(A.reset(),this._elem.finalTransform.mProp.applyToMatrix(A),this._elem.hierarchy&&this._elem.hierarchy.length){var C,x=this._elem.hierarchy.length;for(C=0;C<x;C+=1)this._elem.hierarchy[C].finalTransform.mProp.applyToMatrix(A);return A.inversePoint(S)}return A.inversePoint(S)}function y(){return[1,1,1,1]}return function(S){var A;function C(T){E.mask=new MaskManagerInterface(T,S)}function x(T){E.effect=T}function E(T){switch(T){case"ADBE Root Vectors Group":case"Contents":case 2:return E.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return A;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return E.effect;case"ADBE Text Properties":return E.textInterface;default:return null}}E.getMatrix=f,E.invertPoint=g,E.applyPoint=_,E.toWorld=u,E.toWorldVec=l,E.fromWorld=m,E.fromWorldVec=c,E.toComp=u,E.fromComp=b,E.sampleImage=y,E.sourceRectAtTime=S.sourceRectAtTime.bind(S),E._elem=S,A=TransformExpressionInterface(S.finalTransform.mProp);var k=getDescriptor(A,"anchorPoint");return Object.defineProperties(E,{hasParent:{get:function(){return S.hierarchy.length}},parent:{get:function(){return S.hierarchy[0].layerInterface}},rotation:getDescriptor(A,"rotation"),scale:getDescriptor(A,"scale"),position:getDescriptor(A,"position"),opacity:getDescriptor(A,"opacity"),anchorPoint:k,anchor_point:k,transform:{get:function(){return A}},active:{get:function(){return S.isInRange}}}),E.startTime=S.data.st,E.index=S.data.ind,E.source=S.data.refId,E.height=S.data.ty===0?S.data.h:100,E.width=S.data.ty===0?S.data.w:100,E.inPoint=S.data.ip/S.comp.globalData.frameRate,E.outPoint=S.data.op/S.comp.globalData.frameRate,E._name=S.data.nm,E.registerMaskInterface=C,E.registerEffectsInterface=x,E}}(),propertyGroupFactory=function(){return function(f,l){return function(u){return u=u===void 0?1:u,u<=0?f:l(u-1)}}}(),PropertyInterface=function(){return function(f,l){var u={_name:f};function c(m){return m=m===void 0?1:m,m<=0?u:l(m-1)}return c}}(),EffectsExpressionInterface=function(){var f={createEffectsInterface:l};function l(m,_){if(m.effectsManager){var g=[],b=m.data.ef,y,S=m.effectsManager.effectElements.length;for(y=0;y<S;y+=1)g.push(u(b[y],m.effectsManager.effectElements[y],_,m));var A=m.data.ef||[],C=function(E){for(y=0,S=A.length;y<S;){if(E===A[y].nm||E===A[y].mn||E===A[y].ix)return g[y];y+=1}return null};return Object.defineProperty(C,"numProperties",{get:function(){return A.length}}),C}return null}function u(m,_,g,b){function y(E){for(var k=m.ef,T=0,I=k.length;T<I;){if(E===k[T].nm||E===k[T].mn||E===k[T].ix)return k[T].ty===5?A[T]:A[T]();T+=1}throw new Error}var S=propertyGroupFactory(y,g),A=[],C,x=m.ef.length;for(C=0;C<x;C+=1)m.ef[C].ty===5?A.push(u(m.ef[C],_.effectElements[C],_.effectElements[C].propertyGroup,b)):A.push(c(_.effectElements[C],m.ef[C].ty,b,S));return m.mn==="ADBE Color Control"&&Object.defineProperty(y,"color",{get:function(){return A[0]()}}),Object.defineProperties(y,{numProperties:{get:function(){return m.np}},_name:{value:m.nm},propertyGroup:{value:S}}),y.enabled=m.en!==0,y.active=y.enabled,y}function c(m,_,g,b){var y=ExpressionPropertyInterface(m.p);function S(){return _===10?g.comp.compInterface(m.p.v):y()}return m.p.setGroupProperty&&m.p.setGroupProperty(PropertyInterface("",b)),S}return f}(),ShapePathInterface=function(){return function(l,u,c){var m=u.sh;function _(b){return b==="Shape"||b==="shape"||b==="Path"||b==="path"||b==="ADBE Vector Shape"||b===2?_.path:null}var g=propertyGroupFactory(_,c);return m.setGroupProperty(PropertyInterface("Path",g)),Object.defineProperties(_,{path:{get:function(){return m.k&&m.getValue(),m}},shape:{get:function(){return m.k&&m.getValue(),m}},_name:{value:l.nm},ix:{value:l.ix},propertyIndex:{value:l.ix},mn:{value:l.mn},propertyGroup:{value:c}}),_}}(),ShapeExpressionInterface=function(){function f(k,T,I){var M=[],j,P=k?k.length:0;for(j=0;j<P;j+=1)k[j].ty==="gr"?M.push(u(k[j],T[j],I)):k[j].ty==="fl"?M.push(c(k[j],T[j],I)):k[j].ty==="st"?M.push(g(k[j],T[j],I)):k[j].ty==="tm"?M.push(b(k[j],T[j],I)):k[j].ty==="tr"||(k[j].ty==="el"?M.push(S(k[j],T[j],I)):k[j].ty==="sr"?M.push(A(k[j],T[j],I)):k[j].ty==="sh"?M.push(ShapePathInterface(k[j],T[j],I)):k[j].ty==="rc"?M.push(C(k[j],T[j],I)):k[j].ty==="rd"?M.push(x(k[j],T[j],I)):k[j].ty==="rp"?M.push(E(k[j],T[j],I)):k[j].ty==="gf"?M.push(m(k[j],T[j],I)):M.push(_(k[j],T[j])));return M}function l(k,T,I){var M,j=function(N){for(var D=0,L=M.length;D<L;){if(M[D]._name===N||M[D].mn===N||M[D].propertyIndex===N||M[D].ix===N||M[D].ind===N)return M[D];D+=1}return typeof N=="number"?M[N-1]:null};j.propertyGroup=propertyGroupFactory(j,I),M=f(k.it,T.it,j.propertyGroup),j.numProperties=M.length;var P=y(k.it[k.it.length-1],T.it[T.it.length-1],j.propertyGroup);return j.transform=P,j.propertyIndex=k.cix,j._name=k.nm,j}function u(k,T,I){var M=function(N){switch(N){case"ADBE Vectors Group":case"Contents":case 2:return M.content;default:return M.transform}};M.propertyGroup=propertyGroupFactory(M,I);var j=l(k,T,M.propertyGroup),P=y(k.it[k.it.length-1],T.it[T.it.length-1],M.propertyGroup);return M.content=j,M.transform=P,Object.defineProperty(M,"_name",{get:function(){return k.nm}}),M.numProperties=k.np,M.propertyIndex=k.ix,M.nm=k.nm,M.mn=k.mn,M}function c(k,T,I){function M(j){return j==="Color"||j==="color"?M.color:j==="Opacity"||j==="opacity"?M.opacity:null}return Object.defineProperties(M,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},_name:{value:k.nm},mn:{value:k.mn}}),T.c.setGroupProperty(PropertyInterface("Color",I)),T.o.setGroupProperty(PropertyInterface("Opacity",I)),M}function m(k,T,I){function M(j){return j==="Start Point"||j==="start point"?M.startPoint:j==="End Point"||j==="end point"?M.endPoint:j==="Opacity"||j==="opacity"?M.opacity:null}return Object.defineProperties(M,{startPoint:{get:ExpressionPropertyInterface(T.s)},endPoint:{get:ExpressionPropertyInterface(T.e)},opacity:{get:ExpressionPropertyInterface(T.o)},type:{get:function(){return"a"}},_name:{value:k.nm},mn:{value:k.mn}}),T.s.setGroupProperty(PropertyInterface("Start Point",I)),T.e.setGroupProperty(PropertyInterface("End Point",I)),T.o.setGroupProperty(PropertyInterface("Opacity",I)),M}function _(){function k(){return null}return k}function g(k,T,I){var M=propertyGroupFactory(L,I),j=propertyGroupFactory(D,M);function P(R){Object.defineProperty(D,k.d[R].nm,{get:ExpressionPropertyInterface(T.d.dataProps[R].p)})}var O,N=k.d?k.d.length:0,D={};for(O=0;O<N;O+=1)P(O),T.d.dataProps[O].p.setGroupProperty(j);function L(R){return R==="Color"||R==="color"?L.color:R==="Opacity"||R==="opacity"?L.opacity:R==="Stroke Width"||R==="stroke width"?L.strokeWidth:null}return Object.defineProperties(L,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},strokeWidth:{get:ExpressionPropertyInterface(T.w)},dash:{get:function(){return D}},_name:{value:k.nm},mn:{value:k.mn}}),T.c.setGroupProperty(PropertyInterface("Color",M)),T.o.setGroupProperty(PropertyInterface("Opacity",M)),T.w.setGroupProperty(PropertyInterface("Stroke Width",M)),L}function b(k,T,I){function M(P){return P===k.e.ix||P==="End"||P==="end"?M.end:P===k.s.ix?M.start:P===k.o.ix?M.offset:null}var j=propertyGroupFactory(M,I);return M.propertyIndex=k.ix,T.s.setGroupProperty(PropertyInterface("Start",j)),T.e.setGroupProperty(PropertyInterface("End",j)),T.o.setGroupProperty(PropertyInterface("Offset",j)),M.propertyIndex=k.ix,M.propertyGroup=I,Object.defineProperties(M,{start:{get:ExpressionPropertyInterface(T.s)},end:{get:ExpressionPropertyInterface(T.e)},offset:{get:ExpressionPropertyInterface(T.o)},_name:{value:k.nm}}),M.mn=k.mn,M}function y(k,T,I){function M(P){return k.a.ix===P||P==="Anchor Point"?M.anchorPoint:k.o.ix===P||P==="Opacity"?M.opacity:k.p.ix===P||P==="Position"?M.position:k.r.ix===P||P==="Rotation"||P==="ADBE Vector Rotation"?M.rotation:k.s.ix===P||P==="Scale"?M.scale:k.sk&&k.sk.ix===P||P==="Skew"?M.skew:k.sa&&k.sa.ix===P||P==="Skew Axis"?M.skewAxis:null}var j=propertyGroupFactory(M,I);return T.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",j)),T.transform.mProps.p.setGroupProperty(PropertyInterface("Position",j)),T.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",j)),T.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",j)),T.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",j)),T.transform.mProps.sk&&(T.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",j)),T.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",j))),T.transform.op.setGroupProperty(PropertyInterface("Opacity",j)),Object.defineProperties(M,{opacity:{get:ExpressionPropertyInterface(T.transform.mProps.o)},position:{get:ExpressionPropertyInterface(T.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(T.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(T.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(T.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(T.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(T.transform.mProps.sa)},_name:{value:k.nm}}),M.ty="tr",M.mn=k.mn,M.propertyGroup=I,M}function S(k,T,I){function M(O){return k.p.ix===O?M.position:k.s.ix===O?M.size:null}var j=propertyGroupFactory(M,I);M.propertyIndex=k.ix;var P=T.sh.ty==="tm"?T.sh.prop:T.sh;return P.s.setGroupProperty(PropertyInterface("Size",j)),P.p.setGroupProperty(PropertyInterface("Position",j)),Object.defineProperties(M,{size:{get:ExpressionPropertyInterface(P.s)},position:{get:ExpressionPropertyInterface(P.p)},_name:{value:k.nm}}),M.mn=k.mn,M}function A(k,T,I){function M(O){return k.p.ix===O?M.position:k.r.ix===O?M.rotation:k.pt.ix===O?M.points:k.or.ix===O||O==="ADBE Vector Star Outer Radius"?M.outerRadius:k.os.ix===O?M.outerRoundness:k.ir&&(k.ir.ix===O||O==="ADBE Vector Star Inner Radius")?M.innerRadius:k.is&&k.is.ix===O?M.innerRoundness:null}var j=propertyGroupFactory(M,I),P=T.sh.ty==="tm"?T.sh.prop:T.sh;return M.propertyIndex=k.ix,P.or.setGroupProperty(PropertyInterface("Outer Radius",j)),P.os.setGroupProperty(PropertyInterface("Outer Roundness",j)),P.pt.setGroupProperty(PropertyInterface("Points",j)),P.p.setGroupProperty(PropertyInterface("Position",j)),P.r.setGroupProperty(PropertyInterface("Rotation",j)),k.ir&&(P.ir.setGroupProperty(PropertyInterface("Inner Radius",j)),P.is.setGroupProperty(PropertyInterface("Inner Roundness",j))),Object.defineProperties(M,{position:{get:ExpressionPropertyInterface(P.p)},rotation:{get:ExpressionPropertyInterface(P.r)},points:{get:ExpressionPropertyInterface(P.pt)},outerRadius:{get:ExpressionPropertyInterface(P.or)},outerRoundness:{get:ExpressionPropertyInterface(P.os)},innerRadius:{get:ExpressionPropertyInterface(P.ir)},innerRoundness:{get:ExpressionPropertyInterface(P.is)},_name:{value:k.nm}}),M.mn=k.mn,M}function C(k,T,I){function M(O){return k.p.ix===O?M.position:k.r.ix===O?M.roundness:k.s.ix===O||O==="Size"||O==="ADBE Vector Rect Size"?M.size:null}var j=propertyGroupFactory(M,I),P=T.sh.ty==="tm"?T.sh.prop:T.sh;return M.propertyIndex=k.ix,P.p.setGroupProperty(PropertyInterface("Position",j)),P.s.setGroupProperty(PropertyInterface("Size",j)),P.r.setGroupProperty(PropertyInterface("Rotation",j)),Object.defineProperties(M,{position:{get:ExpressionPropertyInterface(P.p)},roundness:{get:ExpressionPropertyInterface(P.r)},size:{get:ExpressionPropertyInterface(P.s)},_name:{value:k.nm}}),M.mn=k.mn,M}function x(k,T,I){function M(O){return k.r.ix===O||O==="Round Corners 1"?M.radius:null}var j=propertyGroupFactory(M,I),P=T;return M.propertyIndex=k.ix,P.rd.setGroupProperty(PropertyInterface("Radius",j)),Object.defineProperties(M,{radius:{get:ExpressionPropertyInterface(P.rd)},_name:{value:k.nm}}),M.mn=k.mn,M}function E(k,T,I){function M(O){return k.c.ix===O||O==="Copies"?M.copies:k.o.ix===O||O==="Offset"?M.offset:null}var j=propertyGroupFactory(M,I),P=T;return M.propertyIndex=k.ix,P.c.setGroupProperty(PropertyInterface("Copies",j)),P.o.setGroupProperty(PropertyInterface("Offset",j)),Object.defineProperties(M,{copies:{get:ExpressionPropertyInterface(P.c)},offset:{get:ExpressionPropertyInterface(P.o)},_name:{value:k.nm}}),M.mn=k.mn,M}return function(k,T,I){var M;function j(O){if(typeof O=="number")return O=O===void 0?1:O,O===0?I:M[O-1];for(var N=0,D=M.length;N<D;){if(M[N]._name===O)return M[N];N+=1}return null}function P(){return I}return j.propertyGroup=propertyGroupFactory(j,P),M=f(k,T,j.propertyGroup),j.numProperties=M.length,j._name="Contents",j}}(),TextExpressionInterface=function(){return function(f){var l;function u(c){switch(c){case"ADBE Text Document":return u.sourceText;default:return null}}return Object.defineProperty(u,"sourceText",{get:function(){f.textProperty.getValue();var m=f.textProperty.currentData.t;return(!l||m!==l.value)&&(l=new String(m),l.value=m||new String(m),Object.defineProperty(l,"style",{get:function(){return{fillColor:f.textProperty.currentData.fc}}})),l}}),u}}();function _typeof(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(u){return typeof u}:_typeof=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},_typeof(f)}var FootageInterface=function(){var f=function(c){var m="",_=c.getFootageData();function g(){return m="",_=c.getFootageData(),b}function b(y){if(_[y])return m=y,_=_[y],_typeof(_)==="object"?b:_;var S=y.indexOf(m);if(S!==-1){var A=parseInt(y.substr(S+m.length),10);return _=_[A],_typeof(_)==="object"?b:_}return""}return g},l=function(c){function m(_){return _==="Outline"?m.outlineInterface():null}return m._name="Outline",m.outlineInterface=f(c),m};return function(u){function c(m){return m==="Data"?c.dataInterface:null}return c._name="Data",c.dataInterface=l(u),c}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(f){return interfaces[f]||null}var expressionHelpers=function(){function f(g,b,y){b.x&&(y.k=!0,y.x=!0,y.initiateExpression=ExpressionManager.initiateExpression,y.effectsSequence.push(y.initiateExpression(g,b,y).bind(y)))}function l(g){return g*=this.elem.globalData.frameRate,g-=this.offsetTime,g!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<g?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(g,this._cachingAtTime),this._cachingAtTime.lastFrame=g),this._cachingAtTime.value}function u(g){var b=-.01,y=this.getValueAtTime(g),S=this.getValueAtTime(g+b),A=0;if(y.length){var C;for(C=0;C<y.length;C+=1)A+=Math.pow(S[C]-y[C],2);A=Math.sqrt(A)*100}else A=0;return A}function c(g){if(this.vel!==void 0)return this.vel;var b=-.001,y=this.getValueAtTime(g),S=this.getValueAtTime(g+b),A;if(y.length){A=createTypedArray("float32",y.length);var C;for(C=0;C<y.length;C+=1)A[C]=(S[C]-y[C])/b}else A=(S-y)/b;return A}function m(){return this.pv}function _(g){this.propertyGroup=g}return{searchExpressions:f,getSpeedAtTime:u,getVelocityAtTime:c,getValueAtTime:l,getStaticValueAtTime:m,setGroupProperty:_}}();function addPropertyDecorator(){function f(x,E,k){if(!this.k||!this.keyframes)return this.pv;x=x?x.toLowerCase():"";var T=this.comp.renderedFrame,I=this.keyframes,M=I[I.length-1].t;if(T<=M)return this.pv;var j,P;k?(E?j=Math.abs(M-this.elem.comp.globalData.frameRate*E):j=Math.max(0,M-this.elem.data.ip),P=M-j):((!E||E>I.length-1)&&(E=I.length-1),P=I[I.length-1-E].t,j=M-P);var O,N,D;if(x==="pingpong"){var L=Math.floor((T-P)/j);if(L%2!==0)return this.getValueAtTime((j-(T-P)%j+P)/this.comp.globalData.frameRate,0)}else if(x==="offset"){var R=this.getValueAtTime(P/this.comp.globalData.frameRate,0),G=this.getValueAtTime(M/this.comp.globalData.frameRate,0),Z=this.getValueAtTime(((T-P)%j+P)/this.comp.globalData.frameRate,0),B=Math.floor((T-P)/j);if(this.pv.length){for(D=new Array(R.length),N=D.length,O=0;O<N;O+=1)D[O]=(G[O]-R[O])*B+Z[O];return D}return(G-R)*B+Z}else if(x==="continue"){var J=this.getValueAtTime(M/this.comp.globalData.frameRate,0),K=this.getValueAtTime((M-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(D=new Array(J.length),N=D.length,O=0;O<N;O+=1)D[O]=J[O]+(J[O]-K[O])*((T-M)/this.comp.globalData.frameRate)/5e-4;return D}return J+(J-K)*((T-M)/.001)}return this.getValueAtTime(((T-P)%j+P)/this.comp.globalData.frameRate,0)}function l(x,E,k){if(!this.k)return this.pv;x=x?x.toLowerCase():"";var T=this.comp.renderedFrame,I=this.keyframes,M=I[0].t;if(T>=M)return this.pv;var j,P;k?(E?j=Math.abs(this.elem.comp.globalData.frameRate*E):j=Math.max(0,this.elem.data.op-M),P=M+j):((!E||E>I.length-1)&&(E=I.length-1),P=I[E].t,j=P-M);var O,N,D;if(x==="pingpong"){var L=Math.floor((M-T)/j);if(L%2===0)return this.getValueAtTime(((M-T)%j+M)/this.comp.globalData.frameRate,0)}else if(x==="offset"){var R=this.getValueAtTime(M/this.comp.globalData.frameRate,0),G=this.getValueAtTime(P/this.comp.globalData.frameRate,0),Z=this.getValueAtTime((j-(M-T)%j+M)/this.comp.globalData.frameRate,0),B=Math.floor((M-T)/j)+1;if(this.pv.length){for(D=new Array(R.length),N=D.length,O=0;O<N;O+=1)D[O]=Z[O]-(G[O]-R[O])*B;return D}return Z-(G-R)*B}else if(x==="continue"){var J=this.getValueAtTime(M/this.comp.globalData.frameRate,0),K=this.getValueAtTime((M+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(D=new Array(J.length),N=D.length,O=0;O<N;O+=1)D[O]=J[O]+(J[O]-K[O])*(M-T)/.001;return D}return J+(J-K)*(M-T)/.001}return this.getValueAtTime((j-((M-T)%j+M))/this.comp.globalData.frameRate,0)}function u(x,E){if(!this.k)return this.pv;if(x=(x||.4)*.5,E=Math.floor(E||5),E<=1)return this.pv;var k=this.comp.renderedFrame/this.comp.globalData.frameRate,T=k-x,I=k+x,M=E>1?(I-T)/(E-1):1,j=0,P=0,O;this.pv.length?O=createTypedArray("float32",this.pv.length):O=0;for(var N;j<E;){if(N=this.getValueAtTime(T+j*M),this.pv.length)for(P=0;P<this.pv.length;P+=1)O[P]+=N[P];else O+=N;j+=1}if(this.pv.length)for(P=0;P<this.pv.length;P+=1)O[P]/=E;else O/=E;return O}function c(x){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var E=this._transformCachingAtTime.v;if(E.cloneFromProps(this.pre.props),this.appliedTransformations<1){var k=this.a.getValueAtTime(x);E.translate(-k[0]*this.a.mult,-k[1]*this.a.mult,k[2]*this.a.mult)}if(this.appliedTransformations<2){var T=this.s.getValueAtTime(x);E.scale(T[0]*this.s.mult,T[1]*this.s.mult,T[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var I=this.sk.getValueAtTime(x),M=this.sa.getValueAtTime(x);E.skewFromAxis(-I*this.sk.mult,M*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var j=this.r.getValueAtTime(x);E.rotate(-j*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var P=this.rz.getValueAtTime(x),O=this.ry.getValueAtTime(x),N=this.rx.getValueAtTime(x),D=this.or.getValueAtTime(x);E.rotateZ(-P*this.rz.mult).rotateY(O*this.ry.mult).rotateX(N*this.rx.mult).rotateZ(-D[2]*this.or.mult).rotateY(D[1]*this.or.mult).rotateX(D[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var L=this.px.getValueAtTime(x),R=this.py.getValueAtTime(x);if(this.data.p.z){var G=this.pz.getValueAtTime(x);E.translate(L*this.px.mult,R*this.py.mult,-G*this.pz.mult)}else E.translate(L*this.px.mult,R*this.py.mult,0)}else{var Z=this.p.getValueAtTime(x);E.translate(Z[0]*this.p.mult,Z[1]*this.p.mult,-Z[2]*this.p.mult)}return E}function m(){return this.v.clone(new Matrix)}var _=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(x,E,k){var T=_(x,E,k);return T.dynamicProperties.length?T.getValueAtTime=c.bind(T):T.getValueAtTime=m.bind(T),T.setGroupProperty=expressionHelpers.setGroupProperty,T};var g=PropertyFactory.getProp;PropertyFactory.getProp=function(x,E,k,T,I){var M=g(x,E,k,T,I);M.kf?M.getValueAtTime=expressionHelpers.getValueAtTime.bind(M):M.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(M),M.setGroupProperty=expressionHelpers.setGroupProperty,M.loopOut=f,M.loopIn=l,M.smooth=u,M.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(M),M.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(M),M.numKeys=E.a===1?E.k.length:0,M.propertyIndex=E.ix;var j=0;return k!==0&&(j=createTypedArray("float32",E.a===1?E.k[0].s.length:E.k.length)),M._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:j},expressionHelpers.searchExpressions(x,E,M),M.k&&I.addDynamicProperty(M),M};function b(x){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),x*=this.elem.globalData.frameRate,x-=this.offsetTime,x!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<x?this._caching.lastIndex:0,this._cachingAtTime.lastTime=x,this.interpolateShape(x,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var y=ShapePropertyFactory.getConstructorFunction(),S=ShapePropertyFactory.getKeyframedConstructorFunction();function A(){}A.prototype={vertices:function(E,k){this.k&&this.getValue();var T=this.v;k!==void 0&&(T=this.getValueAtTime(k,0));var I,M=T._length,j=T[E],P=T.v,O=createSizedArray(M);for(I=0;I<M;I+=1)E==="i"||E==="o"?O[I]=[j[I][0]-P[I][0],j[I][1]-P[I][1]]:O[I]=[j[I][0],j[I][1]];return O},points:function(E){return this.vertices("v",E)},inTangents:function(E){return this.vertices("i",E)},outTangents:function(E){return this.vertices("o",E)},isClosed:function(){return this.v.c},pointOnPath:function(E,k){var T=this.v;k!==void 0&&(T=this.getValueAtTime(k,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(T));for(var I=this._segmentsLength,M=I.lengths,j=I.totalLength*E,P=0,O=M.length,N=0,D;P<O;){if(N+M[P].addedLength>j){var L=P,R=T.c&&P===O-1?0:P+1,G=(j-N)/M[P].addedLength;D=bez.getPointInSegment(T.v[L],T.v[R],T.o[L],T.i[R],G,M[P]);break}else N+=M[P].addedLength;P+=1}return D||(D=T.c?[T.v[0][0],T.v[0][1]]:[T.v[T._length-1][0],T.v[T._length-1][1]]),D},vectorOnPath:function(E,k,T){E==1?E=this.v.c:E==0&&(E=.999);var I=this.pointOnPath(E,k),M=this.pointOnPath(E+.001,k),j=M[0]-I[0],P=M[1]-I[1],O=Math.sqrt(Math.pow(j,2)+Math.pow(P,2));if(O===0)return[0,0];var N=T==="tangent"?[j/O,P/O]:[-P/O,j/O];return N},tangentOnPath:function(E,k){return this.vectorOnPath(E,k,"tangent")},normalOnPath:function(E,k){return this.vectorOnPath(E,k,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([A],y),extendPrototype([A],S),S.prototype.getValueAtTime=b,S.prototype.initiateExpression=ExpressionManager.initiateExpression;var C=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(x,E,k,T,I){var M=C(x,E,k,T,I);return M.propertyIndex=E.ix,M.lock=!1,k===3?expressionHelpers.searchExpressions(x,E.pt,M):k===4&&expressionHelpers.searchExpressions(x,E.ks,M),M.k&&x.addDynamicProperty(M),M}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function f(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(l,u){var c=this.calculateExpression(u);if(l.t!==c){var m={};return this.copyData(m,l),m.t=c.toString(),m.__complete=!1,m}return l},TextProperty.prototype.searchProperty=function(){var l=this.searchKeyframes(),u=this.searchExpressions();return this.kf=l||u,this.kf},TextProperty.prototype.searchExpressions=f}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function f(l,u){var c=createNS("feMerge");c.setAttribute("result",l);var m,_;for(_=0;_<u.length;_+=1)m=createNS("feMergeNode"),m.setAttribute("in",u[_]),c.appendChild(m),c.appendChild(m);return c}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(f,l,u,c,m){this.filterManager=l;var _=createNS("feColorMatrix");_.setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","linearRGB"),_.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=_,_.setAttribute("result",c+"_tint_1"),f.appendChild(_),_=createNS("feColorMatrix"),_.setAttribute("type","matrix"),_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),_.setAttribute("result",c+"_tint_2"),f.appendChild(_),this.matrixFilter=_;var g=this.createMergeNode(c,[m,c+"_tint_1",c+"_tint_2"]);f.appendChild(g)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l=this.filterManager.effectElements[0].p.v,u=this.filterManager.effectElements[1].p.v,c=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+c+" 0"),this.matrixFilter.setAttribute("values",u[0]-l[0]+" 0 0 0 "+l[0]+" "+(u[1]-l[1])+" 0 0 0 "+l[1]+" "+(u[2]-l[2])+" 0 0 0 "+l[2]+" 0 0 0 1 0")}};function SVGFillFilter(f,l,u,c){this.filterManager=l;var m=createNS("feColorMatrix");m.setAttribute("type","matrix"),m.setAttribute("color-interpolation-filters","sRGB"),m.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),m.setAttribute("result",c),f.appendChild(m),this.matrixFilter=m}SVGFillFilter.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l=this.filterManager.effectElements[2].p.v,u=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+l[0]+" 0 0 0 0 "+l[1]+" 0 0 0 0 "+l[2]+" 0 0 0 "+u+" 0")}};function SVGStrokeEffect(f,l,u){this.initialized=!1,this.filterManager=l,this.elem=u,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var f=this.elem.layerElement.children||this.elem.layerElement.childNodes,l,u,c,m;for(this.filterManager.effectElements[1].p.v===1?(m=this.elem.maskManager.masksProperties.length,c=0):(c=this.filterManager.effectElements[0].p.v-1,m=c+1),u=createNS("g"),u.setAttribute("fill","none"),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-dashoffset",1),c;c<m;c+=1)l=createNS("path"),u.appendChild(l),this.paths.push({p:l,m:c});if(this.filterManager.effectElements[10].p.v===3){var _=createNS("mask"),g=createElementID();_.setAttribute("id",g),_.setAttribute("mask-type","alpha"),_.appendChild(u),this.elem.globalData.defs.appendChild(_);var b=createNS("g");for(b.setAttribute("mask","url("+getLocationHref()+"#"+g+")");f[0];)b.appendChild(f[0]);this.elem.layerElement.appendChild(b),this.masker=_,u.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(f=this.elem.layerElement.children||this.elem.layerElement.childNodes;f.length;)this.elem.layerElement.removeChild(f[0]);this.elem.layerElement.appendChild(u),this.elem.layerElement.removeAttribute("mask"),u.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=u},SVGStrokeEffect.prototype.renderFrame=function(f){this.initialized||this.initialize();var l,u=this.paths.length,c,m;for(l=0;l<u;l+=1)if(this.paths[l].m!==-1&&(c=this.elem.maskManager.viewData[this.paths[l].m],m=this.paths[l].p,(f||this.filterManager._mdf||c.prop._mdf)&&m.setAttribute("d",c.lastPath),f||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||c.prop._mdf)){var _;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var g=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,b=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,y=m.getTotalLength();_="0 0 0 "+y*g+" ";var S=y*(b-g),A=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,C=Math.floor(S/A),x;for(x=0;x<C;x+=1)_+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";_+="0 "+y*10+" 0 0"}else _="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;m.setAttribute("stroke-dasharray",_)}if((f||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(f||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(f||this.filterManager.effectElements[3].p._mdf)){var E=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(E[0]*255)+","+bmFloor(E[1]*255)+","+bmFloor(E[2]*255)+")")}};function SVGTritoneFilter(f,l,u,c){this.filterManager=l;var m=createNS("feColorMatrix");m.setAttribute("type","matrix"),m.setAttribute("color-interpolation-filters","linearRGB"),m.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),f.appendChild(m);var _=createNS("feComponentTransfer");_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("result",c),this.matrixFilter=_;var g=createNS("feFuncR");g.setAttribute("type","table"),_.appendChild(g),this.feFuncR=g;var b=createNS("feFuncG");b.setAttribute("type","table"),_.appendChild(b),this.feFuncG=b;var y=createNS("feFuncB");y.setAttribute("type","table"),_.appendChild(y),this.feFuncB=y,f.appendChild(_)}SVGTritoneFilter.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l=this.filterManager.effectElements[0].p.v,u=this.filterManager.effectElements[1].p.v,c=this.filterManager.effectElements[2].p.v,m=c[0]+" "+u[0]+" "+l[0],_=c[1]+" "+u[1]+" "+l[1],g=c[2]+" "+u[2]+" "+l[2];this.feFuncR.setAttribute("tableValues",m),this.feFuncG.setAttribute("tableValues",_),this.feFuncB.setAttribute("tableValues",g)}};function SVGProLevelsFilter(f,l,u,c){this.filterManager=l;var m=this.filterManager.effectElements,_=createNS("feComponentTransfer");(m[10].p.k||m[10].p.v!==0||m[11].p.k||m[11].p.v!==1||m[12].p.k||m[12].p.v!==1||m[13].p.k||m[13].p.v!==0||m[14].p.k||m[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",_)),(m[17].p.k||m[17].p.v!==0||m[18].p.k||m[18].p.v!==1||m[19].p.k||m[19].p.v!==1||m[20].p.k||m[20].p.v!==0||m[21].p.k||m[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",_)),(m[24].p.k||m[24].p.v!==0||m[25].p.k||m[25].p.v!==1||m[26].p.k||m[26].p.v!==1||m[27].p.k||m[27].p.v!==0||m[28].p.k||m[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",_)),(m[31].p.k||m[31].p.v!==0||m[32].p.k||m[32].p.v!==1||m[33].p.k||m[33].p.v!==1||m[34].p.k||m[34].p.v!==0||m[35].p.k||m[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",_)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(_.setAttribute("color-interpolation-filters","sRGB"),f.appendChild(_)),(m[3].p.k||m[3].p.v!==0||m[4].p.k||m[4].p.v!==1||m[5].p.k||m[5].p.v!==1||m[6].p.k||m[6].p.v!==0||m[7].p.k||m[7].p.v!==1)&&(_=createNS("feComponentTransfer"),_.setAttribute("color-interpolation-filters","sRGB"),_.setAttribute("result",c),f.appendChild(_),this.feFuncRComposed=this.createFeFunc("feFuncR",_),this.feFuncGComposed=this.createFeFunc("feFuncG",_),this.feFuncBComposed=this.createFeFunc("feFuncB",_))}SVGProLevelsFilter.prototype.createFeFunc=function(f,l){var u=createNS(f);return u.setAttribute("type","table"),l.appendChild(u),u},SVGProLevelsFilter.prototype.getTableValue=function(f,l,u,c,m){for(var _=0,g=256,b,y=Math.min(f,l),S=Math.max(f,l),A=Array.call(null,{length:g}),C,x=0,E=m-c,k=l-f;_<=256;)b=_/256,b<=y?C=k<0?m:c:b>=S?C=k<0?c:m:C=c+E*Math.pow((b-f)/k,1/u),A[x]=C,x+=1,_+=256/(g-1);return A.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l,u=this.filterManager.effectElements;this.feFuncRComposed&&(f||u[3].p._mdf||u[4].p._mdf||u[5].p._mdf||u[6].p._mdf||u[7].p._mdf)&&(l=this.getTableValue(u[3].p.v,u[4].p.v,u[5].p.v,u[6].p.v,u[7].p.v),this.feFuncRComposed.setAttribute("tableValues",l),this.feFuncGComposed.setAttribute("tableValues",l),this.feFuncBComposed.setAttribute("tableValues",l)),this.feFuncR&&(f||u[10].p._mdf||u[11].p._mdf||u[12].p._mdf||u[13].p._mdf||u[14].p._mdf)&&(l=this.getTableValue(u[10].p.v,u[11].p.v,u[12].p.v,u[13].p.v,u[14].p.v),this.feFuncR.setAttribute("tableValues",l)),this.feFuncG&&(f||u[17].p._mdf||u[18].p._mdf||u[19].p._mdf||u[20].p._mdf||u[21].p._mdf)&&(l=this.getTableValue(u[17].p.v,u[18].p.v,u[19].p.v,u[20].p.v,u[21].p.v),this.feFuncG.setAttribute("tableValues",l)),this.feFuncB&&(f||u[24].p._mdf||u[25].p._mdf||u[26].p._mdf||u[27].p._mdf||u[28].p._mdf)&&(l=this.getTableValue(u[24].p.v,u[25].p.v,u[26].p.v,u[27].p.v,u[28].p.v),this.feFuncB.setAttribute("tableValues",l)),this.feFuncA&&(f||u[31].p._mdf||u[32].p._mdf||u[33].p._mdf||u[34].p._mdf||u[35].p._mdf)&&(l=this.getTableValue(u[31].p.v,u[32].p.v,u[33].p.v,u[34].p.v,u[35].p.v),this.feFuncA.setAttribute("tableValues",l))}};function SVGDropShadowEffect(f,l,u,c,m){var _=l.container.globalData.renderConfig.filterSize,g=l.data.fs||_;f.setAttribute("x",g.x||_.x),f.setAttribute("y",g.y||_.y),f.setAttribute("width",g.width||_.width),f.setAttribute("height",g.height||_.height),this.filterManager=l;var b=createNS("feGaussianBlur");b.setAttribute("in","SourceAlpha"),b.setAttribute("result",c+"_drop_shadow_1"),b.setAttribute("stdDeviation","0"),this.feGaussianBlur=b,f.appendChild(b);var y=createNS("feOffset");y.setAttribute("dx","25"),y.setAttribute("dy","0"),y.setAttribute("in",c+"_drop_shadow_1"),y.setAttribute("result",c+"_drop_shadow_2"),this.feOffset=y,f.appendChild(y);var S=createNS("feFlood");S.setAttribute("flood-color","#00ff00"),S.setAttribute("flood-opacity","1"),S.setAttribute("result",c+"_drop_shadow_3"),this.feFlood=S,f.appendChild(S);var A=createNS("feComposite");A.setAttribute("in",c+"_drop_shadow_3"),A.setAttribute("in2",c+"_drop_shadow_2"),A.setAttribute("operator","in"),A.setAttribute("result",c+"_drop_shadow_4"),f.appendChild(A);var C=this.createMergeNode(c,[c+"_drop_shadow_4",m]);f.appendChild(C)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){if((f||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),f||this.filterManager.effectElements[0].p._mdf){var l=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(l[0]*255),Math.round(l[1]*255),Math.round(l[2]*255)))}if((f||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),f||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var u=this.filterManager.effectElements[3].p.v,c=(this.filterManager.effectElements[2].p.v-90)*degToRads,m=u*Math.cos(c),_=u*Math.sin(c);this.feOffset.setAttribute("dx",m),this.feOffset.setAttribute("dy",_)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(f,l,u){this.initialized=!1,this.filterManager=l,this.filterElem=f,this.elem=u,u.matteElement=createNS("g"),u.matteElement.appendChild(u.layerElement),u.matteElement.appendChild(u.transformedElement),u.baseElement=u.matteElement}SVGMatte3Effect.prototype.findSymbol=function(f){for(var l=0,u=_svgMatteSymbols.length;l<u;){if(_svgMatteSymbols[l]===f)return _svgMatteSymbols[l];l+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(f,l){var u=f.layerElement.parentNode;if(u){for(var c=u.children,m=0,_=c.length;m<_&&c[m]!==f.layerElement;)m+=1;var g;m<=_-2&&(g=c[m+1]);var b=createNS("use");b.setAttribute("href","#"+l),g?u.insertBefore(b,g):u.appendChild(b)}},SVGMatte3Effect.prototype.setElementAsMask=function(f,l){if(!this.findSymbol(l)){var u=createElementID(),c=createNS("mask");c.setAttribute("id",l.layerId),c.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(l);var m=f.globalData.defs;m.appendChild(c);var _=createNS("symbol");_.setAttribute("id",u),this.replaceInParent(l,u),_.appendChild(l.layerElement),m.appendChild(_);var g=createNS("use");g.setAttribute("href","#"+u),c.appendChild(g),l.data.hd=!1,l.show()}f.setMatte(l.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var f=this.filterManager.effectElements[0].p.v,l=this.elem.comp.elements,u=0,c=l.length;u<c;)l[u]&&l[u].data.ind===f&&this.setElementAsMask(this.elem,l[u]),u+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(f,l,u,c){f.setAttribute("x","-100%"),f.setAttribute("y","-100%"),f.setAttribute("width","300%"),f.setAttribute("height","300%"),this.filterManager=l;var m=createNS("feGaussianBlur");m.setAttribute("result",c),f.appendChild(m),this.feGaussianBlur=m}SVGGaussianBlurEffect.prototype.renderFrame=function(f){if(f||this.filterManager._mdf){var l=.3,u=this.filterManager.effectElements[0].p.v*l,c=this.filterManager.effectElements[1].p.v,m=c==3?0:u,_=c==2?0:u;this.feGaussianBlur.setAttribute("stdDeviation",m+" "+_);var g=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",g)}};function TransformEffect(){}TransformEffect.prototype.init=function(f){this.effectsManager=f,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(f){if(this._opMdf=!1,this._mdf=!1,f||this.effectsManager._mdf){var l=this.effectsManager.effectElements,u=l[0].p.v,c=l[1].p.v,m=l[2].p.v===1,_=l[3].p.v,g=m?_:l[4].p.v,b=l[5].p.v,y=l[6].p.v,S=l[7].p.v;this.matrix.reset(),this.matrix.translate(-u[0],-u[1],u[2]),this.matrix.scale(g*.01,_*.01,1),this.matrix.rotate(-S*degToRads),this.matrix.skewFromAxis(-b*degToRads,(y+90)*degToRads),this.matrix.translate(c[0],c[1],0),this._mdf=!0,this.opacity!==l[8].p.v&&(this.opacity=l[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(f,l){this.init(l)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(f){this.init(f)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports),ColorPicker_svelte_svelte_type_style_lang="";function create_fragment$g(f){let l,u,c,m,_,g,b,y,S,A,C,x,E,k,T,I,M,j,P,O,N,D,L,R,G,Z,B,J,K,ee,V,z,X;return{c(){l=element("div"),u=element("div"),c=element("div"),m=element("strong"),_=text("Red"),g=space(),b=element("input"),y=space(),S=element("input"),A=space(),C=element("div"),x=element("strong"),E=text("Green"),k=space(),T=element("input"),I=space(),M=element("input"),j=space(),P=element("div"),O=element("strong"),N=text("Blue"),D=space(),L=element("input"),R=space(),G=element("input"),Z=space(),B=element("div"),J=element("div"),K=space(),ee=element("div"),V=element("input"),this.h()},l(U){l=claim_element(U,"DIV",{class:!0});var $=children(l);u=claim_element($,"DIV",{class:!0});var ae=children(u);c=claim_element(ae,"DIV",{class:!0});var H=children(c);m=claim_element(H,"STRONG",{class:!0});var ie=children(m);_=claim_text(ie,"Red"),ie.forEach(detach),g=claim_space(H),b=claim_element(H,"INPUT",{type:!0,min:!0,max:!0,class:!0}),y=claim_space(H),S=claim_element(H,"INPUT",{class:!0,type:!0}),H.forEach(detach),A=claim_space(ae),C=claim_element(ae,"DIV",{class:!0});var Y=children(C);x=claim_element(Y,"STRONG",{class:!0});var q=children(x);E=claim_text(q,"Green"),q.forEach(detach),k=claim_space(Y),T=claim_element(Y,"INPUT",{type:!0,min:!0,max:!0,class:!0}),I=claim_space(Y),M=claim_element(Y,"INPUT",{class:!0,type:!0}),Y.forEach(detach),j=claim_space(ae),P=claim_element(ae,"DIV",{class:!0});var ne=children(P);O=claim_element(ne,"STRONG",{class:!0});var oe=children(O);N=claim_text(oe,"Blue"),oe.forEach(detach),D=claim_space(ne),L=claim_element(ne,"INPUT",{type:!0,min:!0,max:!0,class:!0}),R=claim_space(ne),G=claim_element(ne,"INPUT",{class:!0,type:!0}),ne.forEach(detach),ae.forEach(detach),Z=claim_space($),B=claim_element($,"DIV",{class:!0});var he=children(B);J=claim_element(he,"DIV",{class:!0,style:!0}),children(J).forEach(detach),K=claim_space(he),ee=claim_element(he,"DIV",{});var de=children(ee);V=claim_element(de,"INPUT",{class:!0,type:!0}),de.forEach(detach),he.forEach(detach),$.forEach(detach),this.h()},h(){attr(m,"class","svelte-potnje"),attr(b,"type","range"),attr(b,"min","0"),attr(b,"max","255"),attr(b,"class","svelte-potnje"),attr(S,"class","text-input svelte-potnje"),attr(S,"type","number"),attr(c,"class","color-component svelte-potnje"),attr(x,"class","svelte-potnje"),attr(T,"type","range"),attr(T,"min","0"),attr(T,"max","255"),attr(T,"class","svelte-potnje"),attr(M,"class","text-input svelte-potnje"),attr(M,"type","number"),attr(C,"class","color-component svelte-potnje"),attr(O,"class","svelte-potnje"),attr(L,"type","range"),attr(L,"min","0"),attr(L,"max","255"),attr(L,"class","svelte-potnje"),attr(G,"class","text-input svelte-potnje"),attr(G,"type","number"),attr(P,"class","color-component svelte-potnje"),attr(u,"class","color-selectors svelte-potnje"),attr(J,"class","preview svelte-potnje"),set_style(J,"background",f[4]),attr(V,"class","text-input svelte-potnje"),attr(V,"type","text"),V.value=f[3],attr(B,"class","color-preview svelte-potnje"),attr(l,"class","color-picker svelte-potnje")},m(U,$){insert_hydration(U,l,$),append_hydration(l,u),append_hydration(u,c),append_hydration(c,m),append_hydration(m,_),append_hydration(c,g),append_hydration(c,b),set_input_value(b,f[0]),append_hydration(c,y),append_hydration(c,S),set_input_value(S,f[0]),append_hydration(u,A),append_hydration(u,C),append_hydration(C,x),append_hydration(x,E),append_hydration(C,k),append_hydration(C,T),set_input_value(T,f[1]),append_hydration(C,I),append_hydration(C,M),set_input_value(M,f[1]),append_hydration(u,j),append_hydration(u,P),append_hydration(P,O),append_hydration(O,N),append_hydration(P,D),append_hydration(P,L),set_input_value(L,f[2]),append_hydration(P,R),append_hydration(P,G),set_input_value(G,f[2]),append_hydration(l,Z),append_hydration(l,B),append_hydration(B,J),append_hydration(B,K),append_hydration(B,ee),append_hydration(ee,V),z||(X=[listen(b,"change",f[7]),listen(b,"input",f[7]),listen(S,"input",f[8]),listen(T,"change",f[9]),listen(T,"input",f[9]),listen(M,"input",f[10]),listen(L,"change",f[11]),listen(L,"input",f[11]),listen(G,"input",f[12]),listen(V,"change",f[13])],z=!0)},p(U,[$]){$&1&&set_input_value(b,U[0]),$&1&&to_number(S.value)!==U[0]&&set_input_value(S,U[0]),$&2&&set_input_value(T,U[1]),$&2&&to_number(M.value)!==U[1]&&set_input_value(M,U[1]),$&4&&set_input_value(L,U[2]),$&4&&to_number(G.value)!==U[2]&&set_input_value(G,U[2]),$&16&&set_style(J,"background",U[4]),$&8&&V.value!==U[3]&&(V.value=U[3])},i:noop$3,o:noop$3,d(U){U&&detach(l),z=!1,run_all(X)}}}function instance$e(f,l,u){let c;const m=createEventDispatcher();let{color:_}=l,g=0,b=0,y=0,S=null;const A=j=>{if(typeof j!="string")return;let P=[];j[0]==="#"?P=j.length===4?[j.slice(1,2),j.slice(2,3),j.slice(3,4)].map(O=>parseInt(`${O}${O}`,16)):[j.slice(1,3),j.slice(3,5),j.slice(5,7)].map(O=>parseInt(O,16)):j.startsWith("rgb")&&(P=j.match(/\d+/g).map(O=>parseInt(O))),P.length&&(u(0,g=P[0]),u(1,b=P[1]),u(2,y=P[2]))};function C(){g=to_number(this.value),u(0,g)}function x(){g=to_number(this.value),u(0,g)}function E(){b=to_number(this.value),u(1,b)}function k(){b=to_number(this.value),u(1,b)}function T(){y=to_number(this.value),u(2,y)}function I(){y=to_number(this.value),u(2,y)}const M=j=>A(j.target.value);return f.$$set=j=>{"color"in j&&u(6,_=j.color)},f.$$.update=()=>{f.$$.dirty&64&&A(_),f.$$.dirty&7&&u(3,S="#"+(g|256).toString(16).slice(1)+(b|256).toString(16).slice(1)+(y|256).toString(16).slice(1)),f.$$.dirty&7&&u(4,c=`rgb(${g}, ${b}, ${y})`),f.$$.dirty&24&&m("color",{hex:S,rgb:c})},[g,b,y,S,c,A,_,C,x,E,k,T,I,M]}class ColorPicker extends SvelteComponent{constructor(l){super(),init(this,l,instance$e,create_fragment$g,safe_not_equal,{color:6})}}const Info_svelte_svelte_type_style_lang="";function create_if_block_10$1(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Lottie Version"),m=space(),_=element("span"),g=text(f[9]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Lottie Version"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[9]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&512&&set_data(g,b[9])},d(b){b&&detach(l)}}}function create_if_block_9$1(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Frames"),m=space(),_=element("span"),g=text(f[6]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Frames"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[6]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&64&&set_data(g,b[6])},d(b){b&&detach(l)}}}function create_if_block_8$1(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Frame Rate"),m=space(),_=element("span"),g=text(f[1]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Frame Rate"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[1]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&2&&set_data(g,b[1])},d(b){b&&detach(l)}}}function create_if_block_7$1(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Layers"),m=space(),_=element("span"),g=text(f[7]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Layers"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[7]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&128&&set_data(g,b[7])},d(b){b&&detach(l)}}}function create_if_block_6$1(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Assets"),m=space(),_=element("span"),g=text(f[4]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Assets"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[4]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&16&&set_data(g,b[4])},d(b){b&&detach(l)}}}function create_if_block_5$1(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Fonts"),m=space(),_=element("span"),g=text(f[5]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Fonts"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[5]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&32&&set_data(g,b[5])},d(b){b&&detach(l)}}}function create_if_block$5(f){let l,u,c,m,_,g,b=f[2]&&create_if_block_4$1(f),y=f[0]&&create_if_block_3$1(f),S=f[3]&&create_if_block_2$3(f),A=f[8]&&create_if_block_1$4(f);return{c(){l=element("hr"),u=space(),b&&b.c(),c=space(),y&&y.c(),m=space(),S&&S.c(),_=space(),A&&A.c(),g=empty$1()},l(C){l=claim_element(C,"HR",{}),u=claim_space(C),b&&b.l(C),c=claim_space(C),y&&y.l(C),m=claim_space(C),S&&S.l(C),_=claim_space(C),A&&A.l(C),g=empty$1()},m(C,x){insert_hydration(C,l,x),insert_hydration(C,u,x),b&&b.m(C,x),insert_hydration(C,c,x),y&&y.m(C,x),insert_hydration(C,m,x),S&&S.m(C,x),insert_hydration(C,_,x),A&&A.m(C,x),insert_hydration(C,g,x)},p(C,x){C[2]?b?b.p(C,x):(b=create_if_block_4$1(C),b.c(),b.m(c.parentNode,c)):b&&(b.d(1),b=null),C[0]?y?y.p(C,x):(y=create_if_block_3$1(C),y.c(),y.m(m.parentNode,m)):y&&(y.d(1),y=null),C[3]?S?S.p(C,x):(S=create_if_block_2$3(C),S.c(),S.m(_.parentNode,_)):S&&(S.d(1),S=null),C[8]?A?A.p(C,x):(A=create_if_block_1$4(C),A.c(),A.m(g.parentNode,g)):A&&(A.d(1),A=null)},d(C){C&&detach(l),C&&detach(u),b&&b.d(C),C&&detach(c),y&&y.d(C),C&&detach(m),S&&S.d(C),C&&detach(_),A&&A.d(C),C&&detach(g)}}}function create_if_block_4$1(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Generator"),m=space(),_=element("span"),g=text(f[2]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Generator"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[2]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&4&&set_data(g,b[2])},d(b){b&&detach(l)}}}function create_if_block_3$1(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Author"),m=space(),_=element("span"),g=text(f[0]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Author"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[0]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&1&&set_data(g,b[0])},d(b){b&&detach(l)}}}function create_if_block_2$3(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Keywords"),m=space(),_=element("span"),g=text(f[3]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Keywords"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[3]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&8&&set_data(g,b[3])},d(b){b&&detach(l)}}}function create_if_block_1$4(f){let l,u,c,m,_,g;return{c(){l=element("div"),u=element("span"),c=text("Theme Color"),m=space(),_=element("span"),g=text(f[8]),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);u=claim_element(y,"SPAN",{class:!0});var S=children(u);c=claim_text(S,"Theme Color"),S.forEach(detach),m=claim_space(y),_=claim_element(y,"SPAN",{class:!0});var A=children(_);g=claim_text(A,f[8]),A.forEach(detach),y.forEach(detach),this.h()},h(){attr(u,"class","label svelte-54ndm9"),attr(_,"class","value svelte-54ndm9"),attr(l,"class","property svelte-54ndm9")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g)},p(b,y){y&256&&set_data(g,b[8])},d(b){b&&detach(l)}}}function create_fragment$f(f){let l,u,c,m,_,g,b,y,S,A,C=f[9]&&create_if_block_10$1(f),x=f[6]&&create_if_block_9$1(f),E=f[1]&&create_if_block_8$1(f),k=f[7]&&create_if_block_7$1(f),T=f[4]&&create_if_block_6$1(f),I=f[5]&&create_if_block_5$1(f),M=f[10]&&create_if_block$5(f);return{c(){l=element("h4"),u=text("Info"),c=space(),C&&C.c(),m=space(),x&&x.c(),_=space(),E&&E.c(),g=space(),k&&k.c(),b=space(),T&&T.c(),y=space(),I&&I.c(),S=space(),M&&M.c(),A=empty$1(),this.h()},l(j){l=claim_element(j,"H4",{class:!0});var P=children(l);u=claim_text(P,"Info"),P.forEach(detach),c=claim_space(j),C&&C.l(j),m=claim_space(j),x&&x.l(j),_=claim_space(j),E&&E.l(j),g=claim_space(j),k&&k.l(j),b=claim_space(j),T&&T.l(j),y=claim_space(j),I&&I.l(j),S=claim_space(j),M&&M.l(j),A=empty$1(),this.h()},h(){attr(l,"class","svelte-54ndm9")},m(j,P){insert_hydration(j,l,P),append_hydration(l,u),insert_hydration(j,c,P),C&&C.m(j,P),insert_hydration(j,m,P),x&&x.m(j,P),insert_hydration(j,_,P),E&&E.m(j,P),insert_hydration(j,g,P),k&&k.m(j,P),insert_hydration(j,b,P),T&&T.m(j,P),insert_hydration(j,y,P),I&&I.m(j,P),insert_hydration(j,S,P),M&&M.m(j,P),insert_hydration(j,A,P)},p(j,[P]){j[9]?C?C.p(j,P):(C=create_if_block_10$1(j),C.c(),C.m(m.parentNode,m)):C&&(C.d(1),C=null),j[6]?x?x.p(j,P):(x=create_if_block_9$1(j),x.c(),x.m(_.parentNode,_)):x&&(x.d(1),x=null),j[1]?E?E.p(j,P):(E=create_if_block_8$1(j),E.c(),E.m(g.parentNode,g)):E&&(E.d(1),E=null),j[7]?k?k.p(j,P):(k=create_if_block_7$1(j),k.c(),k.m(b.parentNode,b)):k&&(k.d(1),k=null),j[4]?T?T.p(j,P):(T=create_if_block_6$1(j),T.c(),T.m(y.parentNode,y)):T&&(T.d(1),T=null),j[5]?I?I.p(j,P):(I=create_if_block_5$1(j),I.c(),I.m(S.parentNode,S)):I&&(I.d(1),I=null),j[10]?M?M.p(j,P):(M=create_if_block$5(j),M.c(),M.m(A.parentNode,A)):M&&(M.d(1),M=null)},i:noop$3,o:noop$3,d(j){j&&detach(l),j&&detach(c),C&&C.d(j),j&&detach(m),x&&x.d(j),j&&detach(_),E&&E.d(j),j&&detach(g),k&&k.d(j),j&&detach(b),T&&T.d(j),j&&detach(y),I&&I.d(j),j&&detach(S),M&&M.d(j),j&&detach(A)}}}function instance$d(f,l,u){let{animationData:c}=l,m,_,g,b,y,S,A,C,x,E,k=!1;return f.$$set=T=>{"animationData"in T&&u(11,c=T.animationData)},f.$$.update=()=>{f.$$.dirty&2048&&c&&(u(1,_=c.fr),u(4,y=c.assets?c.assets.length:0),u(5,S=c.fonts?c.fonts.length:0),u(6,A=c.op-c.ip),u(7,C=c.layers?c.layers.length:0),u(9,E=c.v),c.meta&&(u(10,k=!0),u(0,m=c.meta.a),u(2,g=c.meta.g),u(3,b=c.meta.k),u(8,x=c.meta.tc)))},[m,_,g,b,y,S,A,C,x,E,k,c]}class Info extends SvelteComponent{constructor(l){super(),init(this,l,instance$d,create_fragment$f,safe_not_equal,{animationData:11})}}const Popover_svelte_svelte_type_style_lang="",get_content_slot_changes=f=>({}),get_content_slot_context=f=>({}),get_target_slot_changes=f=>({}),get_target_slot_context=f=>({});function create_fragment$e(f){let l,u,c,m,_,g,b,y,S;const A=f[8].target,C=create_slot(A,f,f[7],get_target_slot_context),x=f[8].content,E=create_slot(x,f,f[7],get_content_slot_context);return{c(){l=element("div"),u=element("div"),C&&C.c(),c=space(),m=element("div"),E&&E.c(),_=space(),g=element("div"),this.h()},l(k){l=claim_element(k,"DIV",{class:!0});var T=children(l);u=claim_element(T,"DIV",{});var I=children(u);C&&C.l(I),I.forEach(detach),c=claim_space(T),m=claim_element(T,"DIV",{class:!0});var M=children(m);E&&E.l(M),_=claim_space(M),g=claim_element(M,"DIV",{class:!0,style:!0}),children(g).forEach(detach),M.forEach(detach),T.forEach(detach),this.h()},h(){attr(g,"class","arrow svelte-1i83hqr"),set_style(g,"border-color",f[0]+" transparent transparent transparent"),attr(m,"class","popover-content svelte-1i83hqr"),toggle_class(m,"hidden",!f[4]),toggle_class(m,"left-align",f[3]!==-1),toggle_class(m,"right-align",f[3]===-1),attr(l,"class","popover svelte-1i83hqr")},m(k,T){insert_hydration(k,l,T),append_hydration(l,u),C&&C.m(u,null),f[12](u),append_hydration(l,c),append_hydration(l,m),E&&E.m(m,null),append_hydration(m,_),append_hydration(m,g),f[13](m),b=!0,y||(S=[listen(l,"mousedown",f[9]),listen(l,"mouseover",f[5]),listen(l,"mouseout",f[6]),listen(l,"mouseup",f[10]),listen(l,"mousewheel",f[11])],y=!0)},p(k,[T]){C&&C.p&&(!b||T&128)&&update_slot_base(C,A,k,k[7],b?get_slot_changes(A,k[7],T,get_target_slot_changes):get_all_dirty_from_scope(k[7]),get_target_slot_context),E&&E.p&&(!b||T&128)&&update_slot_base(E,x,k,k[7],b?get_slot_changes(x,k[7],T,get_content_slot_changes):get_all_dirty_from_scope(k[7]),get_content_slot_context),(!b||T&1)&&set_style(g,"border-color",k[0]+" transparent transparent transparent"),(!b||T&16)&&toggle_class(m,"hidden",!k[4]),(!b||T&8)&&toggle_class(m,"left-align",k[3]!==-1),(!b||T&8)&&toggle_class(m,"right-align",k[3]===-1)},i(k){b||(transition_in(C,k),transition_in(E,k),b=!0)},o(k){transition_out(C,k),transition_out(E,k),b=!1},d(k){k&&detach(l),C&&C.d(k),f[12](null),E&&E.d(k),f[13](null),y=!1,run_all(S)}}}function instance$c(f,l,u){let{$$slots:c={},$$scope:m}=l,{color:_="transparent"}=l,g,b,y,S=!0;onMount(()=>{const M=g.getBoundingClientRect(),j=b.getBoundingClientRect();u(3,y=M.left+j.width>window.innerWidth?-1:0),u(2,b.style.bottom=M.height+"px",b),C()});const A=()=>{u(4,S=!0)},C=()=>{u(4,S=!1)};function x(M){bubble.call(this,f,M)}function E(M){bubble.call(this,f,M)}function k(M){bubble.call(this,f,M)}function T(M){binding_callbacks[M?"unshift":"push"](()=>{g=M,u(1,g)})}function I(M){binding_callbacks[M?"unshift":"push"](()=>{b=M,u(2,b)})}return f.$$set=M=>{"color"in M&&u(0,_=M.color),"$$scope"in M&&u(7,m=M.$$scope)},[_,g,b,y,S,A,C,m,c,x,E,k,T,I]}class Popover extends SvelteComponent{constructor(l){super(),init(this,l,instance$c,create_fragment$e,safe_not_equal,{color:0})}}const PlayerRender={SVG:"svg",Canvas:"canvas"},PlayerState={Loading:"loading",Playing:"playing",Paused:"paused",Stopped:"stopped",Frozen:"frozen",Error:"error"},PlayMode={Normal:"normal",Bounce:"bounce"},PlayerEvents={Load:"load",Error:"error",Ready:"ready",Play:"play",Pause:"pause",Stop:"stop",Freeze:"freeze",Loop:"loop",Complete:"complete",Frame:"frame"},ControlsLayoutOptions=["previousFrame","playpause","stop","nextFrame","progress","frame","loop","spacer","background","snapshot","info","zoom"],parseSrc=f=>{if(typeof f=="object")return f;try{return JSON.parse(f)}catch{return new URL(f,window.location.href).toString()}},triggerDownload=(f,l)=>{const u=document.createElement("a");u.href=f,u.download=l,document.body.appendChild(u),u.click(),document.body.removeChild(u)},Controls_svelte_svelte_type_style_lang="";function get_each_context$5(f,l,u){const c=f.slice();return c[40]=l[u],c}function create_if_block_13(f){let l;return{c(){l=element("div"),this.h()},l(u){l=claim_element(u,"DIV",{class:!0}),children(l).forEach(detach),this.h()},h(){attr(l,"class","spacer svelte-y4y35s")},m(u,c){insert_hydration(u,l,c)},p:noop$3,i:noop$3,o:noop$3,d(u){u&&detach(l)}}}function create_if_block_12(f){let l,u,c,m,_,g,b,y=[f[19]],S={};for(let A=0;A<y.length;A+=1)S=assign(S,y[A]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),m=svg_element("rect"),_=space(),this.h()},l(A){l=claim_element(A,"DIV",{class:!0});var C=children(l);u=claim_svg_element(C,"svg",{});var x=children(u);c=claim_svg_element(x,"path",{d:!0}),children(c).forEach(detach),m=claim_svg_element(x,"rect",{height:!0,rx:!0,transform:!0,width:!0}),children(m).forEach(detach),x.forEach(detach),_=claim_space(C),C.forEach(detach),this.h()},h(){attr(c,"d","M22 4.5a1.4 1.4 0 00-2.1-1.2l-13 7.5a1.4 1.4 0 000 2.4l13 7.5a1.4 1.4 0 002.1-1.2z"),attr(m,"height","17.1"),attr(m,"rx","1.4"),attr(m,"transform","matrix(-1 0 0 1 7.7 3.4)"),attr(m,"width","5.7"),set_svg_attributes(u,S),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s")},m(A,C){insert_hydration(A,l,C),append_hydration(l,u),append_hydration(u,c),append_hydration(u,m),append_hydration(l,_),g||(b=listen(l,"click",f[24]),g=!0)},p(A,C){toggle_class(u,"svelte-y4y35s",!0)},i:noop$3,o:noop$3,d(A){A&&detach(l),g=!1,b()}}}function create_if_block_11(f){let l,u,c,m,_,g,b,y=[f[19]],S={};for(let A=0;A<y.length;A+=1)S=assign(S,y[A]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),m=svg_element("rect"),_=space(),this.h()},l(A){l=claim_element(A,"DIV",{class:!0});var C=children(l);u=claim_svg_element(C,"svg",{});var x=children(u);c=claim_svg_element(x,"path",{d:!0}),children(c).forEach(detach),m=claim_svg_element(x,"rect",{height:!0,rx:!0,transform:!0,width:!0}),children(m).forEach(detach),x.forEach(detach),_=claim_space(C),C.forEach(detach),this.h()},h(){attr(c,"d",`M2 19.513a1.429 1.429 0 0 0 2.148 1.234l12.88-7.513a1.429 1.429 0 0 0 0-2.468L4.147 3.253A1.429 1.429 0 0
            0 2 4.487z`),attr(m,"height","17.143"),attr(m,"rx","1.429"),attr(m,"transform","matrix(1 0 0 -1 16.286 20.571)"),attr(m,"width","5.714"),set_svg_attributes(u,S),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s")},m(A,C){insert_hydration(A,l,C),append_hydration(l,u),append_hydration(u,c),append_hydration(u,m),append_hydration(l,_),g||(b=listen(l,"click",f[23]),g=!0)},p(A,C){toggle_class(u,"svelte-y4y35s",!0)},i:noop$3,o:noop$3,d(A){A&&detach(l),g=!1,b()}}}function create_if_block_10(f){let l,u,c,m,_;return{c(){l=element("div"),u=element("input"),c=space(),this.h()},l(g){l=claim_element(g,"DIV",{class:!0});var b=children(l);u=claim_element(b,"INPUT",{class:!0,type:!0}),c=claim_space(b),b.forEach(detach),this.h()},h(){attr(u,"class","frame-number svelte-y4y35s"),attr(u,"type","text"),attr(l,"class"," svelte-y4y35s")},m(g,b){insert_hydration(g,l,b),append_hydration(l,u),set_input_value(u,f[15]),append_hydration(l,c),m||(_=[listen(u,"input",f[34]),listen(u,"mouseout",f[35]),listen(u,"mouseover",f[36]),listen(u,"input",f[37]),listen(u,"mousewheel",f[38])],m=!0)},p(g,b){b[0]&32768&&u.value!==g[15]&&set_input_value(u,g[15])},i:noop$3,o:noop$3,d(g){g&&detach(l),m=!1,run_all(_)}}}function create_if_block_9(f){let l,u,c,m;return u=new Popover({props:{color:"#fff",$$slots:{content:[create_content_slot_2],target:[create_target_slot_2]},$$scope:{ctx:f}}}),{c(){l=element("div"),create_component(u.$$.fragment),c=space(),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var g=children(l);claim_component(u.$$.fragment,g),c=claim_space(g),g.forEach(detach),this.h()},h(){attr(l,"class"," svelte-y4y35s")},m(_,g){insert_hydration(_,l,g),mount_component(u,l,null),append_hydration(l,c),m=!0},p(_,g){const b={};g[0]&2|g[1]&4096&&(b.$$scope={dirty:g,ctx:_}),u.$set(b)},i(_){m||(transition_in(u.$$.fragment,_),m=!0)},o(_){transition_out(u.$$.fragment,_),m=!1},d(_){_&&detach(l),destroy_component(u)}}}function create_if_block_7(f){let l,u,c,m;function _(y,S){return y[14]?create_if_block_8:create_else_block_1}let g=_(f),b=g(f);return{c(){l=element("div"),b.c(),u=space(),this.h()},l(y){l=claim_element(y,"DIV",{class:!0});var S=children(l);b.l(S),u=claim_space(S),S.forEach(detach),this.h()},h(){attr(l,"class","btn svelte-y4y35s")},m(y,S){insert_hydration(y,l,S),b.m(l,null),append_hydration(l,u),c||(m=listen(l,"click",f[22]),c=!0)},p(y,S){g===(g=_(y))&&b?b.p(y,S):(b.d(1),b=g(y),b&&(b.c(),b.m(l,u)))},i:noop$3,o:noop$3,d(y){y&&detach(l),b.d(),c=!1,m()}}}function create_if_block_6(f){let l,u,c,m,_,g;return u=new Popover({props:{color:"#fff",$$slots:{content:[create_content_slot_1],target:[create_target_slot_1]},$$scope:{ctx:f}}}),u.$on("mousewheel",f[31]),{c(){l=element("div"),create_component(u.$$.fragment),c=space(),this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);claim_component(u.$$.fragment,y),c=claim_space(y),y.forEach(detach),this.h()},h(){attr(l,"class"," svelte-y4y35s")},m(b,y){insert_hydration(b,l,y),mount_component(u,l,null),append_hydration(l,c),m=!0,_||(g=[listen(l,"mouseout",f[32]),listen(l,"mouseover",f[33])],_=!0)},p(b,y){const S={};y[0]&33792|y[1]&4096&&(S.$$scope={dirty:y,ctx:b}),u.$set(S)},i(b){m||(transition_in(u.$$.fragment,b),m=!0)},o(b){transition_out(u.$$.fragment,b),m=!1},d(b){b&&detach(l),destroy_component(u),_=!1,run_all(g)}}}function create_if_block_5(f){let l,u,c,m;return u=new Popover({props:{color:"#fff",$$slots:{content:[create_content_slot],target:[create_target_slot]},$$scope:{ctx:f}}}),{c(){l=element("div"),create_component(u.$$.fragment),c=space(),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var g=children(l);claim_component(u.$$.fragment,g),c=claim_space(g),g.forEach(detach),this.h()},h(){attr(l,"class"," svelte-y4y35s")},m(_,g){insert_hydration(_,l,g),mount_component(u,l,null),append_hydration(l,c),m=!0},p(_,g){const b={};g[0]&4|g[1]&4096&&(b.$$scope={dirty:g,ctx:_}),u.$set(b)},i(_){m||(transition_in(u.$$.fragment,_),m=!0)},o(_){transition_out(u.$$.fragment,_),m=!1},d(_){_&&detach(l),destroy_component(u)}}}function create_if_block_4(f){let l,u,c,m,_,g,b,y=[f[19]],S={};for(let A=0;A<y.length;A+=1)S=assign(S,y[A]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),m=svg_element("path"),_=space(),this.h()},l(A){l=claim_element(A,"DIV",{class:!0});var C=children(l);u=claim_svg_element(C,"svg",{});var x=children(u);c=claim_svg_element(x,"path",{d:!0,stroke:!0,"stroke-width":!0}),children(c).forEach(detach),m=claim_svg_element(x,"path",{d:!0,fill:!0,stroke:!0,"stroke-width":!0}),children(m).forEach(detach),x.forEach(detach),_=claim_space(C),C.forEach(detach),this.h()},h(){attr(c,"d",`M12.5 16.8137h-.13v1.8939h4.9696c3.6455 0 6.6113-2.9658 6.6113-6.6116
            0-3.64549-2.9658-6.61131-6.6113-6.61131-.5231 0-.947.42391-.947.94696 0 .52304.4239.94696.947.94696 2.6011 0
            4.7174 2.11634 4.7174 4.71739 0 2.6014-2.1166 4.7177-4.7174 4.7177H12.5zM13.6025
            5.61469v-.13H7.48137C3.83582 5.48469.87 8.45051.87 12.096c0 3.6509 3.17269 6.6117 6.81304 6.6117.52304 0
            .94696-.424.94696-.947 0-.5231-.42392-.947-.94696-.947-2.60804 0-4.91907-2.1231-4.91907-4.7176 0-2.60115
            2.11634-4.71744 4.7174-4.71744h6.12113V5.61469z`),attr(c,"stroke","#8795A1"),attr(c,"stroke-width",".26"),attr(m,"d",`M11.1482
            2.20355h0l-.001-.00116c-.3412-.40061-.9405-.44558-1.33668-.0996h-.00001c-.39526.34519-.43936.94795-.09898
            1.34767l2.51487 3.03683-2.51894 3.06468c-.33872.40088-.29282 1.00363.10347
            1.34723l.08517-.0982-.08517.0982c.17853.1549.39807.2308.61647.2308.2671 0 .5328-.114.72-.3347h0l.0011-.0014
            3.0435-3.68655.0006-.00068c.3035-.35872.3025-.88754-.0019-1.24526l-3.0425-3.65786zM13.9453
            21.7965h0l.001.0011c.3413.4006.9407.4456 1.337.0996h0c.3953-.3452.4395-.9479.099-1.3477l-2.5154-3.0368
            2.5195-3.0647c.3388-.4008.2929-1.0036-.1035-1.3472l-.0852.0982.0852-.0982c-.1786-.1549-.3981-.2308-.6166-.2308-.2671
            0-.5329.114-.7202.3347h0l-.0011.0014-3.0442
            3.6865c-.0001.0003-.0003.0005-.0005.0007-.3036.3587-.3027.8876.0019 1.2453l3.0431 3.6579z`),attr(m,"fill","#8795A1"),attr(m,"stroke","#8795A1"),attr(m,"stroke-width",".26"),set_svg_attributes(u,S),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),toggle_class(l,"active",f[7])},m(A,C){insert_hydration(A,l,C),append_hydration(l,u),append_hydration(u,c),append_hydration(u,m),append_hydration(l,_),g||(b=listen(l,"click",function(){is_function(f[12])&&f[12].apply(this,arguments)}),g=!0)},p(A,C){f=A,toggle_class(u,"svelte-y4y35s",!0),C[0]&128&&toggle_class(l,"active",f[7])},i:noop$3,o:noop$3,d(A){A&&detach(l),g=!1,b()}}}function create_if_block_3(f){let l,u,c,m;return{c(){l=element("input"),this.h()},l(_){l=claim_element(_,"INPUT",{class:!0,type:!0,min:!0,step:!0,max:!0,style:!0}),this.h()},h(){attr(l,"class","progress svelte-y4y35s"),attr(l,"type","range"),attr(l,"min","0"),attr(l,"step","1"),attr(l,"max","100"),attr(l,"style",u=`
          background-image: -webkit-gradient(linear, left top, right top, color-stop(${f[0]}%, rgba(15, 204, 206, 0.4)), color-stop(${f[0]}%, #DAE1E7));
          background-image: -moz-linear-gradient(left center, rgba(15, 204, 206, 0.4) 0%, rgba(15, 204, 206, 0.4) ${f[0]}%, #DAE1E7 ${f[0]}%, #DAE1E7 100%);
        `)},m(_,g){insert_hydration(_,l,g),set_input_value(l,f[0]),c||(m=[listen(l,"change",f[28]),listen(l,"input",f[28]),listen(l,"input",f[20]),listen(l,"mousedown",function(){is_function(f[5])&&f[5].apply(this,arguments)}),listen(l,"mouseup",function(){is_function(f[8])&&f[8].apply(this,arguments)})],c=!0)},p(_,g){f=_,g[0]&1&&u!==(u=`
          background-image: -webkit-gradient(linear, left top, right top, color-stop(${f[0]}%, rgba(15, 204, 206, 0.4)), color-stop(${f[0]}%, #DAE1E7));
          background-image: -moz-linear-gradient(left center, rgba(15, 204, 206, 0.4) 0%, rgba(15, 204, 206, 0.4) ${f[0]}%, #DAE1E7 ${f[0]}%, #DAE1E7 100%);
        `)&&attr(l,"style",u),g[0]&1&&set_input_value(l,f[0])},i:noop$3,o:noop$3,d(_){_&&detach(l),c=!1,run_all(m)}}}function create_if_block_2$2(f){let l,u,c,m,_,g,b=[f[19]],y={};for(let S=0;S<b.length;S+=1)y=assign(y,b[S]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),m=space(),this.h()},l(S){l=claim_element(S,"DIV",{class:!0});var A=children(l);u=claim_svg_element(A,"svg",{});var C=children(u);c=claim_svg_element(C,"path",{d:!0}),children(c).forEach(detach),C.forEach(detach),m=claim_space(A),A.forEach(detach),this.h()},h(){attr(c,"d",`M2 3.667A1.67 1.67 0 0 1 3.667 2h16.666A1.67 1.67 0 0 1 22 3.667v16.666A1.67 1.67 0 0 1 20.333
            22H3.667A1.67 1.67 0 0 1 2 20.333z`),set_svg_attributes(u,y),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),toggle_class(l,"active",f[16])},m(S,A){insert_hydration(S,l,A),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),_||(g=listen(l,"click",function(){is_function(f[11])&&f[11].apply(this,arguments)}),_=!0)},p(S,A){f=S,toggle_class(u,"svelte-y4y35s",!0),A[0]&65536&&toggle_class(l,"active",f[16])},i:noop$3,o:noop$3,d(S){S&&detach(l),_=!1,g()}}}function create_if_block$4(f){let l,u,c,m;function _(y,S){return y[18]?create_if_block_1$3:create_else_block$1}let g=_(f),b=g(f);return{c(){l=element("div"),b.c(),u=space(),this.h()},l(y){l=claim_element(y,"DIV",{class:!0});var S=children(l);b.l(S),u=claim_space(S),S.forEach(detach),this.h()},h(){attr(l,"class","btn svelte-y4y35s"),toggle_class(l,"active",f[18]||f[17])},m(y,S){insert_hydration(y,l,S),b.m(l,null),append_hydration(l,u),c||(m=listen(l,"click",function(){is_function(f[13])&&f[13].apply(this,arguments)}),c=!0)},p(y,S){f=y,g===(g=_(f))&&b?b.p(f,S):(b.d(1),b=g(f),b&&(b.c(),b.m(l,u))),S[0]&393216&&toggle_class(l,"active",f[18]||f[17])},i:noop$3,o:noop$3,d(y){y&&detach(l),b.d(),c=!1,m()}}}function create_target_slot_2(f){let l,u,c,m,_=[f[19]],g={};for(let b=0;b<_.length;b+=1)g=assign(g,_[b]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),m=svg_element("path"),this.h()},l(b){l=claim_element(b,"DIV",{class:!0,slot:!0});var y=children(l);u=claim_svg_element(y,"svg",{});var S=children(u);c=claim_svg_element(S,"path",{"fill-rule":!0,"clip-rule":!0,d:!0}),children(c).forEach(detach),m=claim_svg_element(S,"path",{"fill-rule":!0,"clip-rule":!0,d:!0}),children(m).forEach(detach),S.forEach(detach),y.forEach(detach),this.h()},h(){attr(c,"fill-rule","evenodd"),attr(c,"clip-rule","evenodd"),attr(c,"d",`M3.15 0h17.7A3.12 3.12 0 0124 3.1v17.8c0 1.71-1.4 3.1-3.15 3.1H3.15A3.12 3.12 0 010 20.9V3.1C0 1.39
                1.4 0 3.15 0zm0 2.05c-.6 0-1.07.47-1.07 1.05v17.8c0 .58.48 1.05 1.07 1.05h17.7c.6 0 1.07-.47
                1.07-1.05V3.1c0-.58-.48-1.05-1.07-1.05H3.15z`),attr(m,"fill-rule","evenodd"),attr(m,"clip-rule","evenodd"),attr(m,"d",`M12 10c.55 0 1 .42 1 .94v6.12c0 .52-.45.94-1 .94s-1-.42-1-.94v-6.12c0-.52.45-.94 1-.94zM12 6a1 1 0
                011 1v.42a1 1 0 11-2 0V7a1 1 0 011-1z`),set_svg_attributes(u,g),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),attr(l,"slot","target")},m(b,y){insert_hydration(b,l,y),append_hydration(l,u),append_hydration(u,c),append_hydration(u,m)},p(b,y){toggle_class(u,"svelte-y4y35s",!0)},d(b){b&&detach(l)}}}function create_content_slot_2(f){let l,u,c;return u=new Info({props:{animationData:f[1]}}),{c(){l=element("div"),create_component(u.$$.fragment),this.h()},l(m){l=claim_element(m,"DIV",{slot:!0,class:!0});var _=children(l);claim_component(u.$$.fragment,_),_.forEach(detach),this.h()},h(){attr(l,"slot","content"),attr(l,"class","popover popover-info svelte-y4y35s")},m(m,_){insert_hydration(m,l,_),mount_component(u,l,null),c=!0},p(m,_){const g={};_[0]&2&&(g.animationData=m[1]),u.$set(g)},i(m){c||(transition_in(u.$$.fragment,m),c=!0)},o(m){transition_out(u.$$.fragment,m),c=!1},d(m){m&&detach(l),destroy_component(u)}}}function create_else_block_1(f){let l,u,c=[f[19]],m={};for(let _=0;_<c.length;_+=1)m=assign(m,c[_]);return{c(){l=svg_element("svg"),u=svg_element("path"),this.h()},l(_){l=claim_svg_element(_,"svg",{});var g=children(l);u=claim_svg_element(g,"path",{d:!0,"stroke-width":!0}),children(u).forEach(detach),g.forEach(detach),this.h()},h(){attr(u,"d",`M21 8a1 1 0 102 0V4a3 3 0 00-3-3h-4a1 1 0 100 2h4a1 1 0 011 1v4zM1 8a1 1 0 102 0V4a1 1 0 011-1h4a1 1 0
              100-2H4a3 3 0 00-3 3v4zm15 15h4a3 3 0 003-3v-4a1 1 0 10-2 0v4a1 1 0 01-1 1h-4a1 1 0 100 2zM4 23h4a1 1 0
              100-2H4a1 1 0 01-1-1v-4a1 1 0 10-2 0v4a3 3 0 003 3z`),attr(u,"stroke-width",".2"),set_svg_attributes(l,m),toggle_class(l,"svelte-y4y35s",!0)},m(_,g){insert_hydration(_,l,g),append_hydration(l,u)},p(_,g){toggle_class(l,"svelte-y4y35s",!0)},d(_){_&&detach(l)}}}function create_if_block_8(f){let l,u,c=[f[19]],m={};for(let _=0;_<c.length;_+=1)m=assign(m,c[_]);return{c(){l=svg_element("svg"),u=svg_element("path"),this.h()},l(_){l=claim_svg_element(_,"svg",{});var g=children(l);u=claim_svg_element(g,"path",{d:!0,"stroke-width":!0}),children(u).forEach(detach),g.forEach(detach),this.h()},h(){attr(u,"d",`M7 22a1 1 0 102 0v-4a3 3 0 00-3-3H2a1 1 0 100 2h4a1 1 0 011 1v4zm8 0a1 1 0 102 0v-4a1 1 0 011-1h4a1 1 0
              100-2h-4a3 3 0 00-3 3v4zM2 9h4a3 3 0 003-3V2a1 1 0 10-2 0v4a1 1 0 01-1 1H2a1 1 0 100 2zm16 0h4a1 1 0
              100-2h-4a1 1 0 01-1-1V2a1 1 0 10-2 0v4a3 3 0 003 3z`),attr(u,"stroke-width",".2"),set_svg_attributes(l,m),toggle_class(l,"svelte-y4y35s",!0)},m(_,g){insert_hydration(_,l,g),append_hydration(l,u)},p(_,g){toggle_class(l,"svelte-y4y35s",!0)},d(_){_&&detach(l)}}}function create_target_slot_1(f){let l,u,c,m,_,g,b=[f[19]],y={};for(let S=0;S<b.length;S+=1)y=assign(y,b[S]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),m=svg_element("path"),_=svg_element("circle"),g=svg_element("path"),this.h()},l(S){l=claim_element(S,"DIV",{class:!0,slot:!0});var A=children(l);u=claim_svg_element(A,"svg",{});var C=children(u);c=claim_svg_element(C,"path",{"clip-rule":!0,d:!0,"fill-rule":!0}),children(c).forEach(detach),m=claim_svg_element(C,"path",{d:!0}),children(m).forEach(detach),_=claim_svg_element(C,"circle",{cx:!0,cy:!0,r:!0}),children(_).forEach(detach),g=claim_svg_element(C,"path",{d:!0,stroke:!0,"stroke-width":!0}),children(g).forEach(detach),C.forEach(detach),A.forEach(detach),this.h()},h(){attr(c,"clip-rule","evenodd"),attr(c,"d",`M0 3.01A2.983 2.983 0 012.983.027H16.99a2.983 2.983 0 012.983 2.983v14.008a2.982 2.982 0 01-2.983
                2.983H2.983A2.983 2.983 0 010 17.018zm2.983-.941a.941.941 0 00-.942.94v14.01c0
                .52.422.94.942.94H16.99a.94.94 0 00.941-.94V3.008a.941.941 0 00-.94-.94H2.981z`),attr(c,"fill-rule","evenodd"),attr(m,"d","M12.229 7.945l-2.07 4.598-2.586-2.605-2.414 2.758v2.146h9.656V11.93z"),attr(_,"cx","7.444"),attr(_,"cy","6.513"),attr(_,"r","2.032"),attr(g,"d",`M9.561 23.916h11.25a2.929 2.929 0 002.926-2.927V9.954a1.06 1.06 0 10-2.122 0v11.035a.805.805 0
                01-.803.804H9.562a1.061 1.061 0 100 2.123z`),attr(g,"stroke","#8795a1"),attr(g,"stroke-width",".215"),set_svg_attributes(u,y),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),attr(l,"slot","target")},m(S,A){insert_hydration(S,l,A),append_hydration(l,u),append_hydration(u,c),append_hydration(u,m),append_hydration(u,_),append_hydration(u,g)},p(S,A){toggle_class(u,"svelte-y4y35s",!0)},d(S){S&&detach(l)}}}function create_content_slot_1(f){let l,u,c,m,_,g,b,y,S,A,C,x,E,k,T;return{c(){l=element("div"),u=element("h5"),c=text("Frame "),m=text(f[15]),_=space(),g=element("a"),b=text("Download SVG"),y=space(),S=element("a"),A=text("Download PNG"),C=space(),x=element("i"),E=text("Scroll with mousewheel to find exact frame"),this.h()},l(I){l=claim_element(I,"DIV",{slot:!0,class:!0});var M=children(l);u=claim_element(M,"H5",{class:!0});var j=children(u);c=claim_text(j,"Frame "),m=claim_text(j,f[15]),j.forEach(detach),_=claim_space(M),g=claim_element(M,"A",{href:!0,class:!0});var P=children(g);b=claim_text(P,"Download SVG"),P.forEach(detach),y=claim_space(M),S=claim_element(M,"A",{href:!0,class:!0});var O=children(S);A=claim_text(O,"Download PNG"),O.forEach(detach),C=claim_space(M),x=claim_element(M,"I",{class:!0});var N=children(x);E=claim_text(N,"Scroll with mousewheel to find exact frame"),N.forEach(detach),M.forEach(detach),this.h()},h(){attr(u,"class","svelte-y4y35s"),attr(g,"href","#downloadsvg"),attr(g,"class","svelte-y4y35s"),attr(S,"href","#downloadsvg"),attr(S,"class","svelte-y4y35s"),attr(x,"class","note svelte-y4y35s"),attr(l,"slot","content"),attr(l,"class","popover popover-snapshot svelte-y4y35s")},m(I,M){insert_hydration(I,l,M),append_hydration(l,u),append_hydration(u,c),append_hydration(u,m),append_hydration(l,_),append_hydration(l,g),append_hydration(g,b),append_hydration(l,y),append_hydration(l,S),append_hydration(S,A),append_hydration(l,C),append_hydration(l,x),append_hydration(x,E),k||(T=[listen(g,"click",f[29]),listen(S,"click",f[30])],k=!0)},p(I,M){M[0]&32768&&set_data(m,I[15])},d(I){I&&detach(l),k=!1,run_all(T)}}}function create_target_slot(f){let l,u,c,m=[f[19]],_={};for(let g=0;g<m.length;g+=1)_=assign(_,m[g]);return{c(){l=element("div"),u=svg_element("svg"),c=svg_element("path"),this.h()},l(g){l=claim_element(g,"DIV",{class:!0,slot:!0});var b=children(l);u=claim_svg_element(b,"svg",{});var y=children(u);c=claim_svg_element(y,"path",{d:!0}),children(c).forEach(detach),y.forEach(detach),b.forEach(detach),this.h()},h(){attr(c,"d",`M12 3.1L6.1 8.6a7.6 7.6 0 00-2.2 4 7.2 7.2 0 00.4 4.4 7.9 7.9 0 003 3.5 8.7 8.7 0 004.7 1.3c1.6 0
                3.2-.5 4.6-1.3s2.4-2 3-3.5a7.2 7.2 0 00.5-4.5 7.6 7.6 0 00-2.2-4L12 3.2zM12 0l7.5 7a9.8 9.8 0 013 5.1
                9.3 9.3 0 01-.6 5.8c-.9 1.8-2.2 3.3-4 4.4A11.2 11.2 0 0112 24a11.2 11.2 0
                01-6-1.7c-1.7-1-3-2.6-3.9-4.4a9.3 9.3 0 01-.6-5.8c.4-2 1.5-3.7 3-5L12 0zM6 14h12c0 1.5-.7 3-1.8 4s-2.6
                1.6-4.2 1.6S9 19 7.8 18s-1.7-2.5-1.7-4z`),set_svg_attributes(u,_),toggle_class(u,"svelte-y4y35s",!0),attr(l,"class","btn svelte-y4y35s"),attr(l,"slot","target")},m(g,b){insert_hydration(g,l,b),append_hydration(l,u),append_hydration(u,c)},p(g,b){toggle_class(u,"svelte-y4y35s",!0)},d(g){g&&detach(l)}}}function create_content_slot(f){let l,u,c;return u=new ColorPicker({props:{color:f[2]}}),u.$on("color",f[21]),{c(){l=element("div"),create_component(u.$$.fragment),this.h()},l(m){l=claim_element(m,"DIV",{slot:!0,class:!0});var _=children(l);claim_component(u.$$.fragment,_),_.forEach(detach),this.h()},h(){attr(l,"slot","content"),attr(l,"class","popover popover-background svelte-y4y35s")},m(m,_){insert_hydration(m,l,_),mount_component(u,l,null),c=!0},p(m,_){const g={};_[0]&4&&(g.color=m[2]),u.$set(g)},i(m){c||(transition_in(u.$$.fragment,m),c=!0)},o(m){transition_out(u.$$.fragment,m),c=!1},d(m){m&&detach(l),destroy_component(u)}}}function create_else_block$1(f){let l,u,c=[f[19]],m={};for(let _=0;_<c.length;_+=1)m=assign(m,c[_]);return{c(){l=svg_element("svg"),u=svg_element("path"),this.h()},l(_){l=claim_svg_element(_,"svg",{});var g=children(l);u=claim_svg_element(g,"path",{d:!0}),children(u).forEach(detach),g.forEach(detach),this.h()},h(){attr(u,"d","M2 3.4C2 1.9 3.5 1 4.8 1.8l16.5 9.6c1.2.7 1.2 2.5 0 3.2L4.8 24.2C3.5 25 2 24.1 2 22.6V3.4z"),set_svg_attributes(l,m),toggle_class(l,"svelte-y4y35s",!0)},m(_,g){insert_hydration(_,l,g),append_hydration(l,u)},p(_,g){toggle_class(l,"svelte-y4y35s",!0)},d(_){_&&detach(l)}}}function create_if_block_1$3(f){let l,u,c,m=[f[19]],_={};for(let g=0;g<m.length;g+=1)_=assign(_,m[g]);return{c(){l=svg_element("svg"),u=svg_element("rect"),c=svg_element("rect"),this.h()},l(g){l=claim_svg_element(g,"svg",{});var b=children(l);u=claim_svg_element(b,"rect",{height:!0,rx:!0,width:!0,x:!0,y:!0}),children(u).forEach(detach),c=claim_svg_element(b,"rect",{height:!0,rx:!0,width:!0,x:!0,y:!0}),children(c).forEach(detach),b.forEach(detach),this.h()},h(){attr(u,"height","22.9"),attr(u,"rx","1.9"),attr(u,"width","7.6"),attr(u,"x","14"),attr(u,"y",".5"),attr(c,"height","22.9"),attr(c,"rx","1.9"),attr(c,"width","7.6"),attr(c,"x","2"),attr(c,"y",".5"),set_svg_attributes(l,_),toggle_class(l,"svelte-y4y35s",!0)},m(g,b){insert_hydration(g,l,b),append_hydration(l,u),append_hydration(l,c)},p(g,b){toggle_class(l,"svelte-y4y35s",!0)},d(g){g&&detach(l)}}}function create_each_block$5(f){let l,u,c,m;const _=[create_if_block$4,create_if_block_2$2,create_if_block_3,create_if_block_4,create_if_block_5,create_if_block_6,create_if_block_7,create_if_block_9,create_if_block_10,create_if_block_11,create_if_block_12,create_if_block_13],g=[];function b(y,S){return y[40]==="playpause"?0:y[40]==="stop"?1:y[40]==="progress"?2:y[40]==="loop"?3:y[40]==="background"?4:y[40]==="snapshot"?5:y[40]==="zoom"?6:y[40]==="info"?7:y[40]==="frame"?8:y[40]==="nextFrame"?9:y[40]==="previousFrame"?10:y[40]==="spacer"?11:-1}return~(l=b(f))&&(u=g[l]=_[l](f)),{c(){u&&u.c(),c=empty$1()},l(y){u&&u.l(y),c=empty$1()},m(y,S){~l&&g[l].m(y,S),insert_hydration(y,c,S),m=!0},p(y,S){let A=l;l=b(y),l===A?~l&&g[l].p(y,S):(u&&(group_outros(),transition_out(g[A],1,1,()=>{g[A]=null}),check_outros()),~l?(u=g[l],u?u.p(y,S):(u=g[l]=_[l](y),u.c()),transition_in(u,1),u.m(c.parentNode,c)):u=null)},i(y){m||(transition_in(u),m=!0)},o(y){transition_out(u),m=!1},d(y){~l&&g[l].d(y),y&&detach(c)}}}function create_fragment$d(f){let l,u,c=f[6],m=[];for(let g=0;g<c.length;g+=1)m[g]=create_each_block$5(get_each_context$5(f,c,g));const _=g=>transition_out(m[g],1,1,()=>{m[g]=null});return{c(){l=element("div");for(let g=0;g<m.length;g+=1)m[g].c();this.h()},l(g){l=claim_element(g,"DIV",{class:!0});var b=children(l);for(let y=0;y<m.length;y+=1)m[y].l(b);b.forEach(detach),this.h()},h(){attr(l,"class","lottie-player-controls svelte-y4y35s")},m(g,b){insert_hydration(g,l,b);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(l,null);u=!0},p(g,b){if(b[0]&33554431){c=g[6];let y;for(y=0;y<c.length;y+=1){const S=get_each_context$5(g,c,y);m[y]?(m[y].p(S,b),transition_in(m[y],1)):(m[y]=create_each_block$5(S),m[y].c(),transition_in(m[y],1),m[y].m(l,null))}for(group_outros(),y=c.length;y<m.length;y+=1)_(y);check_outros()}},i(g){if(!u){for(let b=0;b<c.length;b+=1)transition_in(m[b]);u=!0}},o(g){m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)transition_out(m[b]);u=!1},d(g){g&&detach(l),destroy_each(m,g)}}}function instance_1$1(f,l,u){let c,m,_,g;const b={width:14,height:14,viewBox:"0 0 24 24"},y=createEventDispatcher();let{animationData:S}=l,{background:A}=l,{currentState:C}=l,{frame:x}=l,{freeze:E}=l,{instance:k}=l,{layout:T=ControlsLayoutOptions}=l,{loop:I}=l,{play:M}=l,{progress:j}=l,{seek:P}=l,{snapshot:O}=l,{stop:N}=l,{toggleZoom:D}=l,{toggleLooping:L}=l,{togglePlay:R}=l,{totalFrames:G=0}=l,Z=!1;const B=he=>{if(!k||isNaN(he.target.value))return;const de=he.target.value/100*G;P(de)},J=he=>{y("background",{color:he.detail.hex})},K=()=>{u(14,Z=!Z),D()},ee=()=>{const he=x+1;he<=G&&P(he)},V=()=>{const he=x-1;he>=0&&P(he)};function z(){j=to_number(this.value),u(0,j)}const X=()=>O(!0),U=()=>O(!0),$=he=>P(x+(he.deltaY>0?-1:1)),ae=()=>C===PlayerState.Frozen&&M(),H=()=>C!==PlayerState.Paused&&E();function ie(){g=this.value,u(15,g),u(4,x)}const Y=()=>C===PlayerState.Frozen&&M(),q=()=>C!==PlayerState.Paused&&E(),ne=he=>P(he.target.value),oe=he=>P(x+(he.deltaY>0?-1:1));return f.$$set=he=>{"animationData"in he&&u(1,S=he.animationData),"background"in he&&u(2,A=he.background),"currentState"in he&&u(3,C=he.currentState),"frame"in he&&u(4,x=he.frame),"freeze"in he&&u(5,E=he.freeze),"instance"in he&&u(25,k=he.instance),"layout"in he&&u(6,T=he.layout),"loop"in he&&u(7,I=he.loop),"play"in he&&u(8,M=he.play),"progress"in he&&u(0,j=he.progress),"seek"in he&&u(9,P=he.seek),"snapshot"in he&&u(10,O=he.snapshot),"stop"in he&&u(11,N=he.stop),"toggleZoom"in he&&u(26,D=he.toggleZoom),"toggleLooping"in he&&u(12,L=he.toggleLooping),"togglePlay"in he&&u(13,R=he.togglePlay),"totalFrames"in he&&u(27,G=he.totalFrames)},f.$$.update=()=>{f.$$.dirty[0]&8&&u(18,c=C===PlayerState.Playing),f.$$.dirty[0]&8&&u(17,m=C===PlayerState.Paused),f.$$.dirty[0]&8&&u(16,_=C===PlayerState.Stopped),f.$$.dirty[0]&16&&u(15,g=Math.round(x))},[j,S,A,C,x,E,T,I,M,P,O,N,L,R,Z,g,_,m,c,b,B,J,K,ee,V,k,D,G,z,X,U,$,ae,H,ie,Y,q,ne,oe]}class Controls extends SvelteComponent{constructor(l){super(),init(this,l,instance_1$1,create_fragment$d,safe_not_equal,{animationData:1,background:2,currentState:3,frame:4,freeze:5,instance:25,layout:6,loop:7,play:8,progress:0,seek:9,snapshot:10,stop:11,toggleZoom:26,toggleLooping:12,togglePlay:13,totalFrames:27},null,[-1,-1])}}const SVELTE_LOTTIE_PLAYER_VERSION="0.3.0",LOTTIE_WEB_VERSION="^5.10.0",LottiePlayer_svelte_svelte_type_style_lang="";function create_if_block_1$2(f){let l,u;return{c(){l=element("div"),u=text(""),this.h()},l(c){l=claim_element(c,"DIV",{class:!0});var m=children(l);u=claim_text(m,""),m.forEach(detach),this.h()},h(){attr(l,"class","lottie-player-error svelte-1n5qc19")},m(c,m){insert_hydration(c,l,m),append_hydration(l,u)},d(c){c&&detach(l)}}}function create_if_block$3(f){let l,u;return l=new Controls({props:{layout:f[3],animationData:f[22],background:f[1],controls:f[2],currentState:f[28],frame:f[26],freeze:f[11],instance:f[21],loop:f[0],lottie,pause:f[9],play:f[8],progress:f[27],seek:f[12],setDirection:f[16],setSpeed:f[15],setLooping:f[14],snapshot:f[13],src:f[5],stop:f[10],toggleZoom:f[20],toggleLooping:f[18],togglePlay:f[17],totalFrames:f[32]}}),l.$on("background",f[47]),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m[0]&8&&(_.layout=c[3]),m[0]&4194304&&(_.animationData=c[22]),m[0]&2&&(_.background=c[1]),m[0]&4&&(_.controls=c[2]),m[0]&268435456&&(_.currentState=c[28]),m[0]&67108864&&(_.frame=c[26]),m[0]&2097152&&(_.instance=c[21]),m[0]&1&&(_.loop=c[0]),m[0]&134217728&&(_.progress=c[27]),m[0]&32&&(_.src=c[5]),m[1]&2&&(_.totalFrames=c[32]),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_fragment$c(f){let l,u,c,m,_,g,b,y=f[28]===PlayerState.Error&&create_if_block_1$2(),S=f[2]&&create_if_block$3(f);return{c(){l=element("div"),u=element("div"),c=element("div"),y&&y.c(),m=space(),S&&S.c(),this.h()},l(A){l=claim_element(A,"DIV",{style:!0});var C=children(l);u=claim_element(C,"DIV",{class:!0});var x=children(u);c=claim_element(x,"DIV",{style:!0,class:!0});var E=children(c);y&&y.l(E),E.forEach(detach),m=claim_space(x),S&&S.l(x),x.forEach(detach),C.forEach(detach),this.h()},h(){set_style(c,"background",f[1]),attr(c,"class","svelte-1n5qc19"),toggle_class(c,"animation",!0),attr(u,"class","lottie-player svelte-1n5qc19"),toggle_class(u,"with-controls",f[2]),toggle_class(u,"is-zoomed",f[29]),attr(l,"style",_=(f[7]?`width:${f[7]}px;`:"")+(f[4]?`height:${f[4]}px;`:"")+f[6]),add_render_callback(()=>f[50].call(l))},m(A,C){insert_hydration(A,l,C),append_hydration(l,u),append_hydration(u,c),y&&y.m(c,null),f[46](c),append_hydration(u,m),S&&S.m(u,null),f[48](u),f[49](l),g=add_iframe_resize_listener(l,f[50].bind(l)),b=!0},p(A,C){A[28]===PlayerState.Error?y||(y=create_if_block_1$2(),y.c(),y.m(c,null)):y&&(y.d(1),y=null),(!b||C[0]&2)&&set_style(c,"background",A[1]),A[2]?S?(S.p(A,C),C[0]&4&&transition_in(S,1)):(S=create_if_block$3(A),S.c(),transition_in(S,1),S.m(u,null)):S&&(group_outros(),transition_out(S,1,1,()=>{S=null}),check_outros()),(!b||C[0]&4)&&toggle_class(u,"with-controls",A[2]),(!b||C[0]&536870912)&&toggle_class(u,"is-zoomed",A[29]),(!b||C[0]&208&&_!==(_=(A[7]?`width:${A[7]}px;`:"")+(A[4]?`height:${A[4]}px;`:"")+A[6]))&&attr(l,"style",_)},i(A){b||(transition_in(S),b=!0)},o(A){transition_out(S),b=!1},d(A){A&&detach(l),y&&y.d(),f[46](null),S&&S.d(),f[48](null),f[49](null),g()}}}function instance_1(f,l,u){let{autoplay:c=!1}=l,{background:m}=l,{controls:_}=l,{controlsLayout:g}=l,{count:b=void 0}=l,{defaultFrame:y=0}=l,{direction:S=1}=l,{height:A}=l,{hover:C=!1}=l,{loop:x=!1}=l,{mode:E=PlayMode.Normal}=l,{onToggleZoom:k=void 0}=l,{renderer:T=PlayerRender.SVG}=l,{speed:I=1}=l,{src:M=""}=l,{style:j=""}=l,{width:P}=l,O,N,D,L,R,G=0,Z=0,B,J=PlayerState.Loading,K=!1,ee,V,z;const X=()=>{document.hidden===!0&&J===PlayerState.Playing?q():J===PlayerState.Frozen&&ae()};onMount(()=>{"IntersectionObserver"in window&&(B=new IntersectionObserver(ue=>{ue[0].isIntersecting?J===PlayerState.Frozen&&ae():J===PlayerState.Playing&&q()}),B.observe(N)),typeof document.hidden<"u"&&document.addEventListener("visibilitychange",X),M&&U(M)}),onDestroy(()=>{B&&(B.disconnect(),B=void 0),document.removeEventListener("visibilitychange",X)});const U=ue=>{if(!N)return;R&&R.destroy();const ve={container:N,loop:x,autoplay:c,renderer:T,rendererSettings:{preserveAspectRatio:"xMidYMid meet",clearCanvas:!0,progressiveLoad:!0,hideOnTransparent:!0}};try{const Se=parseSrc(ue),Ie=typeof Se=="string"?"path":"animationData";u(21,R=lottie.loadAnimation({...ve,[Ie]:Se}))}catch{u(28,J=PlayerState.Error),dispatchEvent(new CustomEvent(PlayerEvents.Error))}R&&(R.addEventListener("enterFrame",()=>{u(26,G=R.currentFrame),u(27,Z=R.currentFrame/R.totalFrames*100),dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:R.currentFrame,progress:Z}}))}),R.addEventListener("complete",()=>{if(J!==PlayerState.Playing){dispatchEvent(new CustomEvent(PlayerEvents.Complete));return}if(!x||b&&_counter>=b){dispatchEvent(new CustomEvent(PlayerEvents.Complete));return}E===PlayMode.Bounce?(b&&(_counter+=.5),setTimeout(()=>{dispatchEvent(new CustomEvent(PlayerEvents.Loop)),J===PlayerState.Playing&&(R.setDirection(R.playDirection*-1),R.play())},intermission)):(b&&(_counter+=1),window.setTimeout(()=>{dispatchEvent(new CustomEvent(PlayerEvents.Loop)),J===PlayerState.Playing&&(R.stop(),R.play())},intermission))}),R.addEventListener("data_ready",()=>{u(22,O=R.animationData),u(32,z=R.totalFrames)}),R.addEventListener("data_failed",()=>{u(28,J=PlayerState.Error),dispatchEvent(new CustomEvent(PlayerEvents.Error))}),N.addEventListener("mouseenter",()=>{C&&J!==PlayerState.Playing&&ae()}),N.addEventListener("mouseleave",()=>{C&&J===PlayerState.Playing&&Y()}),xe(I),Ce(S),c?ae():isNaN(y)||R.goToAndStop(y,!0))},$=()=>R,ae=()=>{R&&(u(28,J=PlayerState.Playing),R.play(),dispatchEvent(new CustomEvent(PlayerEvents.Play)))},H=()=>({lottieWebVersion:LOTTIE_WEB_VERSION,svelteLottiePlayerVersion:SVELTE_LOTTIE_PLAYER_VERSION}),ie=()=>{R&&(u(28,J=PlayerState.Paused),R.pause(),dispatchEvent(new CustomEvent(PlayerEvents.Pause)))},Y=()=>{R&&(u(28,J=PlayerState.Stopped),R.stop(),dispatchEvent(new CustomEvent(PlayerEvents.Stop)))},q=()=>{R&&(R.pause(),u(28,J=PlayerState.Frozen),dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))},ne=()=>{R&&R.resize()},oe=ue=>{if(!R)return;const ve=ue.toString().match(/^([0-9\.]+)(%?)$/);if(!ve)return;const Se=ve[2]==="%"?R.totalFrames*Number(ve[1])/100:Number(ve[1]);J===PlayerState.Playing?R.goToAndPlay(Se,!0):(R.goToAndStop(Se,!0),R.pause())},he=(ue=!0)=>{let ve;if(T===PlayerRender.SVG){const Se=N.querySelector("svg"),Ie=new XMLSerializer().serializeToString(Se);ve="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(Ie),ue&&triggerDownload(ve,`snapshot_${Z}.svg`)}else T===PlayerRender.Canvas&&(ve=N.querySelector("canvas").toDataURL("image/png"),ue&&triggerDownload(ve,`snapshot_${Z}.png`));return ve},de=ue=>{R&&u(0,x=ue)},xe=ue=>{R&&u(34,I=ue)},Ce=ue=>{R&&u(33,S=ue)},ge=()=>J===PlayerState.Playing?ie():ae(),Ae=()=>{de(!x)},we=ue=>{u(1,m=ue)},me=()=>{if(typeof k=="function"){u(29,K=!!k(K));return}K?(L.appendChild(D),u(25,L.style.height=void 0,L),u(25,L.style.width=void 0,L)):(u(25,L.style.height=ee+"px",L),u(25,L.style.width=V+"px",L),document.body.appendChild(D)),u(29,K=!K),setTimeout(()=>ne(),100)};function _e(ue){binding_callbacks[ue?"unshift":"push"](()=>{N=ue,u(23,N)})}const Me=ue=>we(ue.detail.color);function De(ue){binding_callbacks[ue?"unshift":"push"](()=>{D=ue,u(24,D)})}function se(ue){binding_callbacks[ue?"unshift":"push"](()=>{L=ue,u(25,L)})}function ce(){ee=this.clientHeight,V=this.clientWidth,u(30,ee),u(31,V)}return f.$$set=ue=>{"autoplay"in ue&&u(35,c=ue.autoplay),"background"in ue&&u(1,m=ue.background),"controls"in ue&&u(2,_=ue.controls),"controlsLayout"in ue&&u(3,g=ue.controlsLayout),"count"in ue&&u(36,b=ue.count),"defaultFrame"in ue&&u(37,y=ue.defaultFrame),"direction"in ue&&u(33,S=ue.direction),"height"in ue&&u(4,A=ue.height),"hover"in ue&&u(38,C=ue.hover),"loop"in ue&&u(0,x=ue.loop),"mode"in ue&&u(39,E=ue.mode),"onToggleZoom"in ue&&u(40,k=ue.onToggleZoom),"renderer"in ue&&u(41,T=ue.renderer),"speed"in ue&&u(34,I=ue.speed),"src"in ue&&u(5,M=ue.src),"style"in ue&&u(6,j=ue.style),"width"in ue&&u(7,P=ue.width)},f.$$.update=()=>{f.$$.dirty[0]&32&&U(M),f.$$.dirty[0]&2097153&&R&&u(21,R.loop=x,R),f.$$.dirty[0]&2097152|f.$$.dirty[1]&8&&R&&R.setSpeed(I),f.$$.dirty[0]&2097152|f.$$.dirty[1]&4&&R&&R.setDirection(S)},[x,m,_,g,A,M,j,P,ae,ie,Y,q,oe,he,de,xe,Ce,ge,Ae,we,me,R,O,N,D,L,G,Z,J,K,ee,V,z,S,I,c,b,y,C,E,k,T,U,$,H,ne,_e,Me,De,se,ce]}class LottiePlayer extends SvelteComponent{constructor(l){super(),init(this,l,instance_1,create_fragment$c,safe_not_equal,{autoplay:35,background:1,controls:2,controlsLayout:3,count:36,defaultFrame:37,direction:33,height:4,hover:38,loop:0,mode:39,onToggleZoom:40,renderer:41,speed:34,src:5,style:6,width:7,load:42,getLottie:43,play:8,getVersions:44,pause:9,stop:10,freeze:11,resize:45,seek:12,snapshot:13,setLooping:14,setSpeed:15,setDirection:16,togglePlay:17,toggleLooping:18,setBackground:19,toggleZoom:20},null,[-1,-1])}get load(){return this.$$.ctx[42]}get getLottie(){return this.$$.ctx[43]}get play(){return this.$$.ctx[8]}get getVersions(){return this.$$.ctx[44]}get pause(){return this.$$.ctx[9]}get stop(){return this.$$.ctx[10]}get freeze(){return this.$$.ctx[11]}get resize(){return this.$$.ctx[45]}get seek(){return this.$$.ctx[12]}get snapshot(){return this.$$.ctx[13]}get setLooping(){return this.$$.ctx[14]}get setSpeed(){return this.$$.ctx[15]}get setDirection(){return this.$$.ctx[16]}get togglePlay(){return this.$$.ctx[17]}get toggleLooping(){return this.$$.ctx[18]}get setBackground(){return this.$$.ctx[19]}get toggleZoom(){return this.$$.ctx[20]}}function create_fragment$b(f){let l,u;return l=new LottiePlayer({props:{src:f[0],autoplay:!0,loop:!0,controls:!1,renderer:"svg",background:"transparent",width:"100%",height:"100%"}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,[m]){const _={};m&1&&(_.src=c[0]),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function instance$b(f,l,u){let{src:c}=l;return f.$$set=m=>{"src"in m&&u(0,c=m.src)},[c]}class Lottie extends SvelteComponent{constructor(l){super(),init(this,l,instance$b,create_fragment$b,safe_not_equal,{src:0})}}const v="4.8.0",meta={g:"LottieFiles AE 3.1.1",a:"",k:"",d:"",tc:""},fr=30,ip=0,op=180,w=1600,h=1600,nm="Q1 Synth Waiting Icon",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:3,nm:"Null 1",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:180,s:[360]}],ix:10},p:{a:0,k:[800,800,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ip:0,op:2400,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 9",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:90,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:90,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:180,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.411764740944,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:90,op:181,st:90,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 8",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:90,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:180,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.411764740944,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:90,op:181,st:90,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 7",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:360,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[1,.411764711142,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:90,op:181,st:90,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 3",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:90,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:90,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.411764740944,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:91,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"Shape Layer 2",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:90,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,.411764740944,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:91,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"Shape Layer 1",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:360,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[1,.411764711142,.352941185236,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:91,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"Shape Layer 21",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-30,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:150,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:240,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:150,op:241,st:150,bm:0},{ddd:0,ind:9,ty:4,nm:"Shape Layer 20",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:150,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:240,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:150,op:241,st:150,bm:0},{ddd:0,ind:10,ty:4,nm:"Shape Layer 19",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:240,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:150,op:241,st:150,bm:0},{ddd:0,ind:11,ty:4,nm:"Shape Layer 18",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-30,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:150,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:60,op:151,st:60,bm:0},{ddd:0,ind:12,ty:4,nm:"Shape Layer 17",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:150,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:60,op:151,st:60,bm:0},{ddd:0,ind:13,ty:4,nm:"Shape Layer 16",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:240,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:60,op:151,st:60,bm:0},{ddd:0,ind:14,ty:4,nm:"Shape Layer 24",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-30,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:-29,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:61,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-29,op:62,st:-29,bm:0},{ddd:0,ind:15,ty:4,nm:"Shape Layer 23",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:-120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:-29,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:61,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-29,op:62,st:-29,bm:0},{ddd:0,ind:16,ty:4,nm:"Shape Layer 22",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:240,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.898039221764,0,.498039215803,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-29,op:62,st:-29,bm:0},{ddd:0,ind:17,ty:4,nm:"Shape Layer 15",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:210,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:120,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:210,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:120,op:211,st:120,bm:0},{ddd:0,ind:18,ty:4,nm:"Shape Layer 14",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:120,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:210,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:120,op:211,st:120,bm:0},{ddd:0,ind:19,ty:4,nm:"Shape Layer 13",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:120,op:211,st:120,bm:0},{ddd:0,ind:20,ty:4,nm:"Shape Layer 6",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:210,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:30,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:120,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:30,op:121,st:30,bm:0},{ddd:0,ind:21,ty:4,nm:"Shape Layer 5",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:30,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:120,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:30,op:121,st:30,bm:0},{ddd:0,ind:22,ty:4,nm:"Shape Layer 4",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:30,op:121,st:30,bm:0},{ddd:0,ind:23,ty:4,nm:"Shape Layer 12",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:210,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:-60,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:30,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-60,op:31,st:-60,bm:0},{ddd:0,ind:24,ty:4,nm:"Shape Layer 11",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:-60,s:[{i:[[375,0],[0,-375],[-375,0]],o:[[-375,0],[0,375],[375,0]],v:[[0,-700],[-700,0],[0,700]],c:!1}]},{t:30,s:[{i:[[-375,0],[0,-375],[375,0]],o:[[375,0],[0,375],[-375,0]],v:[[0,-700],[700,0],[0,700]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-60,op:31,st:-60,bm:0},{ddd:0,ind:25,ty:4,nm:"Shape Layer 10",parent:1,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:120,ix:10},p:{a:0,k:[0,0,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[1400,1400],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[0,.639215707779,.600000023842,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:50,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:-60,op:31,st:-60,bm:0}],markers=[],lottieSrc={v,meta,fr,ip,op,w,h,nm,ddd,assets,layers,markers},Measure_svelte_svelte_type_style_lang="";function create_if_block_2$1(f){let l,u,c,m;return{c(){l=element("div"),u=element("input"),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var g=children(l);u=claim_element(g,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),g.forEach(detach),this.h()},h(){attr(u,"id","password"),attr(u,"placeholder","Password"),attr(u,"type","password"),attr(u,"class","svelte-lf7juy"),attr(l,"class","svelte-lf7juy")},m(_,g){insert_hydration(_,l,g),append_hydration(l,u),set_input_value(u,f[1]),c||(m=[listen(u,"input",f[9]),listen(u,"focus",f[10]),listen(u,"focusout",f[11])],c=!0)},p(_,g){g&2&&u.value!==_[1]&&set_input_value(u,_[1])},d(_){_&&detach(l),c=!1,run_all(m)}}}function create_if_block_1$1(f){let l,u,c,m;return{c(){l=element("div"),u=element("input"),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var g=children(l);u=claim_element(g,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),g.forEach(detach),this.h()},h(){attr(u,"id","token"),attr(u,"placeholder","Token"),attr(u,"type","text"),attr(u,"class","svelte-lf7juy"),attr(l,"class","svelte-lf7juy")},m(_,g){insert_hydration(_,l,g),append_hydration(l,u),set_input_value(u,f[2]),c||(m=[listen(u,"input",f[12]),listen(u,"focus",f[13]),listen(u,"focusout",f[14])],c=!0)},p(_,g){g&4&&u.value!==_[2]&&set_input_value(u,_[2])},d(_){_&&detach(l),c=!1,run_all(m)}}}function create_else_block(f){let l,u;return{c(){l=element("span"),u=text("Measure"),this.h()},l(c){l=claim_element(c,"SPAN",{class:!0});var m=children(l);u=claim_text(m,"Measure"),m.forEach(detach),this.h()},h(){attr(l,"class","button__text svelte-lf7juy")},m(c,m){insert_hydration(c,l,m),append_hydration(l,u)},p:noop$3,i:noop$3,o:noop$3,d(c){c&&detach(l)}}}function create_if_block$2(f){let l,u;return l=new Lottie({props:{src:lottieSrc}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p:noop$3,i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_fragment$a(f){let l,u,c,m,_,g,b,y,S,A,C,x,E,k,T,I,M,j,P,O,N,D,L,R,G,Z;y=new Select({props:{id:"source",options:f[7],onChange:f[8]}});let B=f[0]!=="local"&&create_if_block_2$1(f),J=f[0]!=="local"&&f[0]!=="qasm_simulator"&&create_if_block_1$1(f);const K=[create_if_block$2,create_else_block],ee=[];function V(z,X){return z[6]?0:1}return D=V(f),L=ee[D]=K[D](f),{c(){l=element("div"),u=element("h2"),c=text("Measure"),m=space(),_=element("form"),g=element("div"),b=element("div"),create_component(y.$$.fragment),S=space(),B&&B.c(),A=space(),J&&J.c(),C=space(),x=element("input"),E=space(),k=element("input"),T=space(),I=element("input"),M=space(),j=element("input"),P=space(),O=element("div"),N=element("button"),L.c(),this.h()},l(z){l=claim_element(z,"DIV",{class:!0});var X=children(l);u=claim_element(X,"H2",{class:!0});var U=children(u);c=claim_text(U,"Measure"),U.forEach(detach),m=claim_space(X),_=claim_element(X,"FORM",{class:!0});var $=children(_);g=claim_element($,"DIV",{class:!0});var ae=children(g);b=claim_element(ae,"DIV",{class:!0});var H=children(b);claim_component(y.$$.fragment,H),H.forEach(detach),S=claim_space(ae),B&&B.l(ae),A=claim_space(ae),J&&J.l(ae),ae.forEach(detach),C=claim_space($),x=claim_element($,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),E=claim_space($),k=claim_element($,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),T=claim_space($),I=claim_element($,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),M=claim_space($),j=claim_element($,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),$.forEach(detach),P=claim_space(X),O=claim_element(X,"DIV",{class:!0});var ie=children(O);N=claim_element(ie,"BUTTON",{class:!0});var Y=children(N);L.l(Y),Y.forEach(detach),ie.forEach(detach),X.forEach(detach),this.h()},h(){attr(u,"class","svelte-lf7juy"),attr(b,"class","svelte-lf7juy"),attr(g,"class","source svelte-lf7juy"),attr(x,"id","seconds"),attr(x,"placeholder","Seconds"),attr(x,"type","number"),attr(x,"class","svelte-lf7juy"),attr(k,"id","seconds"),attr(k,"placeholder","Seconds"),attr(k,"type","number"),attr(k,"class","svelte-lf7juy"),attr(I,"id","bpm"),attr(I,"placeholder","BPM"),attr(I,"type","number"),attr(I,"class","svelte-lf7juy"),attr(j,"id","beats"),attr(j,"placeholder","Beats"),attr(j,"type","number"),attr(j,"class","svelte-lf7juy"),attr(_,"class","svelte-lf7juy"),N.disabled=f[6],attr(N,"class","svelte-lf7juy"),attr(O,"class","button svelte-lf7juy"),attr(l,"class","measure svelte-lf7juy")},m(z,X){insert_hydration(z,l,X),append_hydration(l,u),append_hydration(u,c),append_hydration(l,m),append_hydration(l,_),append_hydration(_,g),append_hydration(g,b),mount_component(y,b,null),append_hydration(g,S),B&&B.m(g,null),append_hydration(g,A),J&&J.m(g,null),append_hydration(_,C),append_hydration(_,x),set_input_value(x,f[3]),append_hydration(_,E),append_hydration(_,k),set_input_value(k,f[3]),append_hydration(_,T),append_hydration(_,I),set_input_value(I,f[4]),append_hydration(_,M),append_hydration(_,j),set_input_value(j,f[5]),append_hydration(l,P),append_hydration(l,O),append_hydration(O,N),ee[D].m(N,null),R=!0,G||(Z=[listen(x,"input",f[15]),listen(x,"focus",f[16]),listen(x,"focusout",f[17]),listen(k,"input",f[18]),listen(k,"focus",f[19]),listen(k,"focusout",f[20]),listen(I,"input",f[21]),listen(I,"focus",f[22]),listen(I,"focusout",f[23]),listen(j,"input",f[24]),listen(j,"focus",f[25]),listen(j,"focusout",f[26]),listen(N,"click",prevent_default(f[27]))],G=!0)},p(z,[X]){z[0]!=="local"?B?B.p(z,X):(B=create_if_block_2$1(z),B.c(),B.m(g,A)):B&&(B.d(1),B=null),z[0]!=="local"&&z[0]!=="qasm_simulator"?J?J.p(z,X):(J=create_if_block_1$1(z),J.c(),J.m(g,null)):J&&(J.d(1),J=null),X&8&&to_number(x.value)!==z[3]&&set_input_value(x,z[3]),X&8&&to_number(k.value)!==z[3]&&set_input_value(k,z[3]),X&16&&to_number(I.value)!==z[4]&&set_input_value(I,z[4]),X&32&&to_number(j.value)!==z[5]&&set_input_value(j,z[5]);let U=D;D=V(z),D===U?ee[D].p(z,X):(group_outros(),transition_out(ee[U],1,1,()=>{ee[U]=null}),check_outros(),L=ee[D],L?L.p(z,X):(L=ee[D]=K[D](z),L.c()),transition_in(L,1),L.m(N,null)),(!R||X&64)&&(N.disabled=z[6])},i(z){R||(transition_in(y.$$.fragment,z),transition_in(L),R=!0)},o(z){transition_out(y.$$.fragment,z),transition_out(L),R=!1},d(z){z&&detach(l),destroy_component(y),B&&B.d(),J&&J.d(),ee[D].d(),G=!1,run_all(Z)}}}function instance$a(f,l,u){let c,m,_,g,b,y,S;component_subscribe(f,source,V=>u(0,c=V)),component_subscribe(f,password,V=>u(1,m=V)),component_subscribe(f,token,V=>u(2,_=V)),component_subscribe(f,seconds,V=>u(3,g=V)),component_subscribe(f,bpm,V=>u(4,b=V)),component_subscribe(f,beats,V=>u(5,y=V)),component_subscribe(f,isMeasuring,V=>u(6,S=V));const A=[{name:"local",active:!0},{name:"qasm_simulator",active:!0},{name:"ibmq_belem",active:!1}],C=V=>source.update(()=>{var z;return((z=V.target)==null?void 0:z.value)||"local"});function x(){m=this.value,password.set(m)}const E=()=>mute.set(!0),k=()=>mute.set(!1);function T(){_=this.value,token.set(_)}const I=()=>mute.set(!0),M=()=>mute.set(!1);function j(){g=to_number(this.value),seconds.set(g)}const P=()=>mute.set(!0),O=()=>mute.set(!1);function N(){g=to_number(this.value),seconds.set(g)}const D=()=>mute.set(!0),L=()=>mute.set(!1);function R(){b=to_number(this.value),bpm.set(b)}const G=()=>mute.set(!0),Z=()=>mute.set(!1);function B(){y=to_number(this.value),beats.set(y)}return[c,m,_,g,b,y,S,A,C,x,E,k,T,I,M,j,P,O,N,D,L,R,G,Z,B,()=>mute.set(!0),()=>mute.set(!1),()=>measure()]}class Measure extends SvelteComponent{constructor(l){super(),init(this,l,instance$a,create_fragment$a,safe_not_equal,{})}}function is_date(f){return Object.prototype.toString.call(f)==="[object Date]"}function get_interpolator(f,l){if(f===l||f!==f)return()=>f;const u=typeof f;if(u!==typeof l||Array.isArray(f)!==Array.isArray(l))throw new Error("Cannot interpolate values of different type");if(Array.isArray(f)){const c=l.map((m,_)=>get_interpolator(f[_],m));return m=>c.map(_=>_(m))}if(u==="object"){if(!f||!l)throw new Error("Object cannot be null");if(is_date(f)&&is_date(l)){f=f.getTime(),l=l.getTime();const _=l-f;return g=>new Date(f+g*_)}const c=Object.keys(l),m={};return c.forEach(_=>{m[_]=get_interpolator(f[_],l[_])}),_=>{const g={};return c.forEach(b=>{g[b]=m[b](_)}),g}}if(u==="number"){const c=l-f;return m=>f+m*c}throw new Error(`Cannot interpolate ${u} values`)}function tweened(f,l={}){const u=writable$1(f);let c,m=f;function _(g,b){if(f==null)return u.set(f=g),Promise.resolve();m=g;let y=c,S=!1,{delay:A=0,duration:C=400,easing:x=identity,interpolate:E=get_interpolator}=assign(assign({},l),b);if(C===0)return y&&(y.abort(),y=null),u.set(f=m),Promise.resolve();const k=now$1()+A;let T;return c=loop(I=>{if(I<k)return!0;S||(T=E(f,g),typeof C=="function"&&(C=C(f,g)),S=!0),y&&(y.abort(),y=null);const M=I-k;return M>C?(u.set(f=g),!1):(u.set(f=T(x(M/C))),!0)}),c.promise}return{set:_,update:(g,b)=>_(g(m,f),b),subscribe:u.subscribe}}var FUNC_ERROR_TEXT="Expected a function",NAN=0/0,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(f,l,u){var c,m,_,g,b,y,S=0,A=!1,C=!1,x=!0;if(typeof f!="function")throw new TypeError(FUNC_ERROR_TEXT);l=toNumber(l)||0,isObject(u)&&(A=!!u.leading,C="maxWait"in u,_=C?nativeMax(toNumber(u.maxWait)||0,l):_,x="trailing"in u?!!u.trailing:x);function E(D){var L=c,R=m;return c=m=void 0,S=D,g=f.apply(R,L),g}function k(D){return S=D,b=setTimeout(M,l),A?E(D):g}function T(D){var L=D-y,R=D-S,G=l-L;return C?nativeMin(G,_-R):G}function I(D){var L=D-y,R=D-S;return y===void 0||L>=l||L<0||C&&R>=_}function M(){var D=now();if(I(D))return j(D);b=setTimeout(M,T(D))}function j(D){return b=void 0,x&&c?E(D):(c=m=void 0,g)}function P(){b!==void 0&&clearTimeout(b),S=0,c=y=m=b=void 0}function O(){return b===void 0?g:j(now())}function N(){var D=now(),L=I(D);if(c=arguments,m=this,y=D,L){if(b===void 0)return k(y);if(C)return b=setTimeout(M,l),E(y)}return b===void 0&&(b=setTimeout(M,l)),g}return N.cancel=P,N.flush=O,N}function isObject(f){var l=typeof f;return!!f&&(l=="object"||l=="function")}function isObjectLike(f){return!!f&&typeof f=="object"}function isSymbol(f){return typeof f=="symbol"||isObjectLike(f)&&objectToString.call(f)==symbolTag}function toNumber(f){if(typeof f=="number")return f;if(isSymbol(f))return NAN;if(isObject(f)){var l=typeof f.valueOf=="function"?f.valueOf():f;f=isObject(l)?l+"":l}if(typeof f!="string")return f===0?f:+f;f=f.replace(reTrim,"");var u=reIsBinary.test(f);return u||reIsOctal.test(f)?freeParseInt(f.slice(2),u?2:8):reIsBadHex.test(f)?NAN:+f}var lodash_debounce=debounce;const debounce$1=getDefaultExportFromCjs(lodash_debounce),Slider_svelte_svelte_type_style_lang="",{window:window_1$1}=globals;function create_fragment$9(f){let l,u,c,m,_,g,b,y,S,A,C,x,E,k,T,I;return{c(){l=element("div"),u=element("span"),c=text(f[1]),g=space(),b=element("div"),y=element("div"),A=space(),C=element("div"),this.h()},l(M){l=claim_element(M,"DIV",{class:!0});var j=children(l);u=claim_element(j,"SPAN",{class:!0,style:!0});var P=children(u);c=claim_text(P,f[1]),P.forEach(detach),g=claim_space(j),b=claim_element(j,"DIV",{class:!0});var O=children(b);y=claim_element(O,"DIV",{class:!0,style:!0}),children(y).forEach(detach),A=claim_space(O),C=claim_element(O,"DIV",{class:!0,style:!0}),children(C).forEach(detach),O.forEach(detach),j.forEach(detach),this.h()},h(){attr(u,"class",m=null_to_empty("label label--"+f[3])+" svelte-1euevz1"),attr(u,"style",_=`color: ${f[2]}`),attr(y,"class","slider__track svelte-1euevz1"),attr(y,"style",S=`background: ${f[2]}`),attr(C,"class","slider__thumb svelte-1euevz1"),attr(C,"style",x=`${f[3]==="vertical"?"top":"left"}: calc(${f[0]*100}% - 4px)`),attr(b,"class",E=null_to_empty(`slider slider--${f[3]}`)+" svelte-1euevz1"),attr(l,"class",k=null_to_empty(`slider__container slider__container--${f[3]}`)+" svelte-1euevz1")},m(M,j){insert_hydration(M,l,j),append_hydration(l,u),append_hydration(u,c),append_hydration(l,g),append_hydration(l,b),append_hydration(b,y),append_hydration(b,A),append_hydration(b,C),f[12](b),T||(I=[listen(window_1$1,"mousemove",f[8]),listen(window_1$1,"touchmove",f[9]),listen(window_1$1,"mouseup",f[10]),listen(window_1$1,"touchend",f[11]),listen(b,"mousedown",f[6]),listen(b,"touchstart",f[7])],T=!0)},p(M,[j]){j&2&&set_data(c,M[1]),j&8&&m!==(m=null_to_empty("label label--"+M[3])+" svelte-1euevz1")&&attr(u,"class",m),j&4&&_!==(_=`color: ${M[2]}`)&&attr(u,"style",_),j&4&&S!==(S=`background: ${M[2]}`)&&attr(y,"style",S),j&9&&x!==(x=`${M[3]==="vertical"?"top":"left"}: calc(${M[0]*100}% - 4px)`)&&attr(C,"style",x),j&8&&E!==(E=null_to_empty(`slider slider--${M[3]}`)+" svelte-1euevz1")&&attr(b,"class",E),j&8&&k!==(k=null_to_empty(`slider__container slider__container--${M[3]}`)+" svelte-1euevz1")&&attr(l,"class",k)},i:noop$3,o:noop$3,d(M){M&&detach(l),f[12](null),T=!1,run_all(I)}}}function instance$9(f,l,u){let{name:c=""}=l,{value:m=0}=l,{colour:_="#000"}=l,{orientation:g="vertical"}=l,b=tweened(0,{duration:400,easing:cubicOut}),y,S=!1;function A(j,P){const{height:O,width:N,top:D,left:L}=y==null?void 0:y.getBoundingClientRect(),R=g==="vertical"?O:N,G=P-(D+window.scrollY),Z=j-(L+window.scrollX),B=g==="vertical"?G:Z;b.set(clamp(1-(R-B)/R,0,1))}const C=j=>{u(5,S=!0);const{pageX:P,pageY:O}=j;A(P,O)},x=j=>{u(5,S=!0);const{pageX:P,pageY:O}=j.touches[0];A(P,O)},E=j=>{if(!S)return;const{pageX:P,pageY:O}=j;A(P,O)},k=j=>{if(!S)return;const{pageX:P,pageY:O}=j.touches[0];A(P,O)};onMount(()=>b.subscribe(debounce$1(j=>u(0,m=j),10)));const T=()=>u(5,S=!1),I=()=>u(5,S=!1);function M(j){binding_callbacks[j?"unshift":"push"](()=>{y=j,u(4,y)})}return f.$$set=j=>{"name"in j&&u(1,c=j.name),"value"in j&&u(0,m=j.value),"colour"in j&&u(2,_=j.colour),"orientation"in j&&u(3,g=j.orientation)},[m,c,_,g,y,S,C,x,E,k,T,I,M]}class Slider extends SvelteComponent{constructor(l){super(),init(this,l,instance$9,create_fragment$9,safe_not_equal,{name:1,value:0,colour:2,orientation:3})}}function create_fragment$8(f){let l,u,c;return{c(){l=element("div"),this.h()},l(m){l=claim_element(m,"DIV",{style:!0,class:!0}),children(l).forEach(detach),this.h()},h(){attr(l,"style",f[0]),attr(l,"class","m-0")},m(m,_){insert_hydration(m,l,_),u||(c=action_destroyer(f[1].call(null,l)),u=!0)},p(m,[_]){_&1&&attr(l,"style",m[0])},i:noop$3,o:noop$3,d(m){m&&detach(l),u=!1,c()}}}function augmentClasses(f,l){return l.forEach(([u,c])=>f[u]=c),f}function instance$8(f,l,u){let{target:c=void 0}=l,{sketch:m=void 0}=l,{parentDivStyle:_="display: block;"}=l,{debug:g=!1}=l,b;const y=createEventDispatcher(),S={ref(){y("ref",c)},instance(){y("instance",b)}};function A(C){return u(2,c=C),{destroy(){u(2,c=void 0)}}}return onMount(async()=>{const C=await __vitePreload(()=>Promise.resolve().then(()=>p5_min$1),void 0,import.meta.url),{default:x}=C,k=Object.entries(C).filter(([T,I])=>I instanceof Function&&T[0]!=="_"&&T!=="default");g&&console.log("available p5 native classes",k),b=new x(T=>(T=augmentClasses(T,k),g&&console.log("p5 instance",T),window._p5Instance=T,m(T)),c),S.ref(),S.instance()}),f.$$set=C=>{"target"in C&&u(2,c=C.target),"sketch"in C&&u(3,m=C.sketch),"parentDivStyle"in C&&u(0,_=C.parentDivStyle),"debug"in C&&u(4,g=C.debug)},[_,A,c,m,g]}class P5 extends SvelteComponent{constructor(l){super(),init(this,l,instance$8,create_fragment$8,safe_not_equal,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function commonjsRequire(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var p5_min$2={exports:{}};/*! p5.js v1.8.0 October 25, 2023 */(function(f,l){(function(u){f.exports=u()})(function(){var u;return function c(m,_,g){function b(A,C){if(!_[A]){if(!m[A]){var x=typeof commonjsRequire=="function"&&commonjsRequire;if(!C&&x)return x(A,!0);if(y)return y(A,!0);throw(C=new Error("Cannot find module '"+A+"'")).code="MODULE_NOT_FOUND",C}x=_[A]={exports:{}},m[A][0].call(x.exports,function(E){return b(m[A][1][E]||E)},x,x.exports,c,m,_,g)}return _[A].exports}for(var y=typeof commonjsRequire=="function"&&commonjsRequire,S=0;S<g.length;S++)b(g[S]);return b}({1:[function(c,m,_){_.byteLength=function(T){var T=x(T),k=T[0],T=T[1];return 3*(k+T)/4-T},_.toByteArray=function(E){var k,T,M=x(E),I=M[0],M=M[1],j=new y(function(N,D){return 3*(N+D)/4-D}(I,M)),P=0,O=0<M?I-4:I;for(T=0;T<O;T+=4)k=b[E.charCodeAt(T)]<<18|b[E.charCodeAt(T+1)]<<12|b[E.charCodeAt(T+2)]<<6|b[E.charCodeAt(T+3)],j[P++]=k>>16&255,j[P++]=k>>8&255,j[P++]=255&k;return M===2&&(k=b[E.charCodeAt(T)]<<2|b[E.charCodeAt(T+1)]>>4,j[P++]=255&k),M===1&&(k=b[E.charCodeAt(T)]<<10|b[E.charCodeAt(T+1)]<<4|b[E.charCodeAt(T+2)]>>2,j[P++]=k>>8&255,j[P++]=255&k),j},_.fromByteArray=function(E){for(var k,T=E.length,I=T%3,M=[],j=0,P=T-I;j<P;j+=16383)M.push(function(O,N,D){for(var L,R=[],G=N;G<D;G+=3)L=(O[G]<<16&16711680)+(O[G+1]<<8&65280)+(255&O[G+2]),R.push(function(Z){return g[Z>>18&63]+g[Z>>12&63]+g[Z>>6&63]+g[63&Z]}(L));return R.join("")}(E,j,P<j+16383?P:j+16383));return I==1?(k=E[T-1],M.push(g[k>>2]+g[k<<4&63]+"==")):I==2&&(k=(E[T-2]<<8)+E[T-1],M.push(g[k>>10]+g[k>>4&63]+g[k<<2&63]+"=")),M.join("")};for(var g=[],b=[],y=typeof Uint8Array<"u"?Uint8Array:Array,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0,C=S.length;A<C;++A)g[A]=S[A],b[S.charCodeAt(A)]=A;function x(E){var k=E.length;if(0<k%4)throw new Error("Invalid string. Length must be a multiple of 4");return E=E.indexOf("="),k=(E=E===-1?k:E)===k?0:4-E%4,[E,k]}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},{}],2:[function(c,m,_){},{}],3:[function(c,m,_){},{}],4:[function(c,m,_){(function(x){var b=c("base64-js"),y=c("ieee754"),S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,A=(_.Buffer=x,_.SlowBuffer=function(Y){return+Y!=Y&&(Y=0),x.alloc(+Y)},_.INSPECT_MAX_BYTES=50,2147483647);function C(Y){if(A<Y)throw new RangeError('The value "'+Y+'" is invalid for option "size"');return Y=new Uint8Array(Y),Object.setPrototypeOf(Y,x.prototype),Y}function x(Y,q,ne){if(typeof Y!="number")return E(Y,q,ne);if(typeof q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(Y)}function E(Y,q,ne){if(typeof Y=="string"){var oe=Y,he=q;if(x.isEncoding(he=typeof he=="string"&&he!==""?he:"utf8"))return de=0|j(oe,he),xe=C(de),xe=(oe=xe.write(oe,he))!==de?xe.slice(0,oe):xe;throw new TypeError("Unknown encoding: "+he)}if(ArrayBuffer.isView(Y))return I(Y);if(Y!=null){if(ae(Y,ArrayBuffer)||Y&&ae(Y.buffer,ArrayBuffer)){var de=Y,oe=q,xe=ne;if(oe<0||de.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(de.byteLength<oe+(xe||0))throw new RangeError('"length" is outside of buffer bounds');return de=oe===void 0&&xe===void 0?new Uint8Array(de):xe===void 0?new Uint8Array(de,oe):new Uint8Array(de,oe,xe),Object.setPrototypeOf(de,x.prototype),de}if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(he=Y.valueOf&&Y.valueOf(),he!=null&&he!==Y)return x.from(he,q,ne);var Ce=function(ge){{var Ae,we;if(x.isBuffer(ge))return Ae=0|M(ge.length),(we=C(Ae)).length!==0&&ge.copy(we,0,0,Ae),we}if(ge.length!==void 0)return typeof ge.length!="number"||H(ge.length)?C(0):I(ge);if(ge.type==="Buffer"&&Array.isArray(ge.data))return I(ge.data)}(Y);if(Ce)return Ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return x.from(Y[Symbol.toPrimitive]("string"),q,ne)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}function k(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function T(Y){return k(Y),C(Y<0?0:0|M(Y))}function I(Y){for(var q=Y.length<0?0:0|M(Y.length),ne=C(q),oe=0;oe<q;oe+=1)ne[oe]=255&Y[oe];return ne}function M(Y){if(A<=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return 0|Y}function j(Y,q){if(x.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||ae(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var ne=Y.length,oe=2<arguments.length&&arguments[2]===!0;if(!oe&&ne===0)return 0;for(var he=!1;;)switch(q){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return X(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ne;case"hex":return ne>>>1;case"base64":return U(Y).length;default:if(he)return oe?-1:X(Y).length;q=(""+q).toLowerCase(),he=!0}}function P(Y,q,ne){var oe,he=!1;if((q=q===void 0||q<0?0:q)>this.length||(ne=ne===void 0||ne>this.length?this.length:ne)<=0||(ne>>>=0)<=(q>>>=0))return"";for(Y=Y||"utf8";;)switch(Y){case"hex":var de=this,se=q,xe=ne,we=de.length;(!xe||xe<0||we<xe)&&(xe=we);for(var Ce="",ge=se=!se||se<0?0:se;ge<xe;++ge)Ce+=ie[de[ge]];return Ce;case"utf8":case"utf-8":return G(this,q,ne);case"ascii":var Ae=this,we=q,me=ne,_e="";me=Math.min(Ae.length,me);for(var Me=we;Me<me;++Me)_e+=String.fromCharCode(127&Ae[Me]);return _e;case"latin1":case"binary":var De=this,se=q,ce=ne,ue="";ce=Math.min(De.length,ce);for(var ve=se;ve<ce;++ve)ue+=String.fromCharCode(De[ve]);return ue;case"base64":return Se=this,oe=ne,(Ie=q)===0&&oe===Se.length?b.fromByteArray(Se):b.fromByteArray(Se.slice(Ie,oe));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Se=q,Ie=ne,Be=this.slice(Se,Ie),$e="",Ke=0;Ke<Be.length;Ke+=2)$e+=String.fromCharCode(Be[Ke]+256*Be[Ke+1]);return $e;default:if(he)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),he=!0}}function O(Y,q,ne){var oe=Y[q];Y[q]=Y[ne],Y[ne]=oe}function N(Y,q,ne,oe,he){if(Y.length===0)return-1;if(typeof ne=="string"?(oe=ne,ne=0):2147483647<ne?ne=2147483647:ne<-2147483648&&(ne=-2147483648),(ne=(ne=H(ne=+ne)?he?0:Y.length-1:ne)<0?Y.length+ne:ne)>=Y.length){if(he)return-1;ne=Y.length-1}else if(ne<0){if(!he)return-1;ne=0}if(typeof q=="string"&&(q=x.from(q,oe)),x.isBuffer(q))return q.length===0?-1:D(Y,q,ne,oe,he);if(typeof q=="number")return q&=255,typeof Uint8Array.prototype.indexOf=="function"?(he?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(Y,q,ne):D(Y,[q],ne,oe,he);throw new TypeError("val must be string, number or Buffer")}function D(Y,q,ne,oe,he){var de=1,xe=Y.length,Ce=q.length;if(oe!==void 0&&((oe=String(oe).toLowerCase())==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(Y.length<2||q.length<2)return-1;xe/=de=2,Ce/=2,ne/=2}function ge(Me,De){return de===1?Me[De]:Me.readUInt16BE(De*de)}if(he)for(var Ae=-1,we=ne;we<xe;we++)if(ge(Y,we)===ge(q,Ae===-1?0:we-Ae)){if(we-(Ae=Ae===-1?we:Ae)+1===Ce)return Ae*de}else Ae!==-1&&(we-=we-Ae),Ae=-1;else for(we=ne=xe<ne+Ce?xe-Ce:ne;0<=we;we--){for(var me=!0,_e=0;_e<Ce;_e++)if(ge(Y,we+_e)!==ge(q,_e)){me=!1;break}if(me)return we}return-1}function L(Y,q,ne,oe){return $(function(he){for(var de=[],xe=0;xe<he.length;++xe)de.push(255&he.charCodeAt(xe));return de}(q),Y,ne,oe)}function R(Y,q,ne,oe){return $(function(he,de){for(var xe,Ce,ge=[],Ae=0;Ae<he.length&&!((de-=2)<0);++Ae)Ce=he.charCodeAt(Ae),xe=Ce>>8,Ce=Ce%256,ge.push(Ce),ge.push(xe);return ge}(q,Y.length-ne),Y,ne,oe)}function G(Y,q,ne){ne=Math.min(Y.length,ne);for(var oe=[],he=q;he<ne;){var de,xe,Ce,ge,Ae=Y[he],we=null,me=239<Ae?4:223<Ae?3:191<Ae?2:1;if(he+me<=ne)switch(me){case 1:Ae<128&&(we=Ae);break;case 2:(192&(de=Y[he+1]))==128&&127<(ge=(31&Ae)<<6|63&de)&&(we=ge);break;case 3:de=Y[he+1],xe=Y[he+2],(192&de)==128&&(192&xe)==128&&2047<(ge=(15&Ae)<<12|(63&de)<<6|63&xe)&&(ge<55296||57343<ge)&&(we=ge);break;case 4:de=Y[he+1],xe=Y[he+2],Ce=Y[he+3],(192&de)==128&&(192&xe)==128&&(192&Ce)==128&&65535<(ge=(15&Ae)<<18|(63&de)<<12|(63&xe)<<6|63&Ce)&&ge<1114112&&(we=ge)}we===null?(we=65533,me=1):65535<we&&(we-=65536,oe.push(we>>>10&1023|55296),we=56320|1023&we),oe.push(we),he+=me}var _e=oe,Me=_e.length;if(Me<=Z)return String.fromCharCode.apply(String,_e);for(var De="",se=0;se<Me;)De+=String.fromCharCode.apply(String,_e.slice(se,se+=Z));return De}_.kMaxLength=A,(x.TYPED_ARRAY_SUPPORT=function(){try{var Y=new Uint8Array(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,Uint8Array.prototype),Object.setPrototypeOf(Y,q),Y.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&x[Symbol.species]===x&&Object.defineProperty(x,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),x.poolSize=8192,x.from=E,Object.setPrototypeOf(x.prototype,Uint8Array.prototype),Object.setPrototypeOf(x,Uint8Array),x.alloc=function(Y,q,ne){return q=q,ne=ne,k(Y=Y),!(Y<=0)&&q!==void 0?typeof ne=="string"?C(Y).fill(q,ne):C(Y).fill(q):C(Y)},x.allocUnsafe=T,x.allocUnsafeSlow=T,x.isBuffer=function(Y){return Y!=null&&Y._isBuffer===!0&&Y!==x.prototype},x.compare=function(Y,q){if(ae(Y,Uint8Array)&&(Y=x.from(Y,Y.offset,Y.byteLength)),ae(q,Uint8Array)&&(q=x.from(q,q.offset,q.byteLength)),!x.isBuffer(Y)||!x.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Y===q)return 0;for(var ne=Y.length,oe=q.length,he=0,de=Math.min(ne,oe);he<de;++he)if(Y[he]!==q[he]){ne=Y[he],oe=q[he];break}return ne<oe?-1:oe<ne?1:0},x.isEncoding=function(Y){switch(String(Y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(Y,q){if(!Array.isArray(Y))throw new TypeError('"list" argument must be an Array of Buffers');if(Y.length===0)return x.alloc(0);if(q===void 0)for(he=q=0;he<Y.length;++he)q+=Y[he].length;for(var ne=x.allocUnsafe(q),oe=0,he=0;he<Y.length;++he){var de=Y[he];if(ae(de,Uint8Array)&&(de=x.from(de)),!x.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(ne,oe),oe+=de.length}return ne},x.byteLength=j,x.prototype._isBuffer=!0,x.prototype.swap16=function(){var Y=this.length;if(Y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var q=0;q<Y;q+=2)O(this,q,q+1);return this},x.prototype.swap32=function(){var Y=this.length;if(Y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var q=0;q<Y;q+=4)O(this,q,q+3),O(this,q+1,q+2);return this},x.prototype.swap64=function(){var Y=this.length;if(Y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var q=0;q<Y;q+=8)O(this,q,q+7),O(this,q+1,q+6),O(this,q+2,q+5),O(this,q+3,q+4);return this},x.prototype.toLocaleString=x.prototype.toString=function(){var Y=this.length;return Y===0?"":arguments.length===0?G(this,0,Y):P.apply(this,arguments)},x.prototype.equals=function(Y){if(x.isBuffer(Y))return this===Y||x.compare(this,Y)===0;throw new TypeError("Argument must be a Buffer")},x.prototype.inspect=function(){var q="",Y=_.INSPECT_MAX_BYTES,q=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim();return this.length>Y&&(q+=" ... "),"<Buffer "+q+">"},S&&(x.prototype[S]=x.prototype.inspect),x.prototype.compare=function(Y,q,ne,oe,he){if(ae(Y,Uint8Array)&&(Y=x.from(Y,Y.offset,Y.byteLength)),!x.isBuffer(Y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Y);if(ne===void 0&&(ne=Y?Y.length:0),oe===void 0&&(oe=0),he===void 0&&(he=this.length),(q=q===void 0?0:q)<0||ne>Y.length||oe<0||he>this.length)throw new RangeError("out of range index");if(he<=oe&&ne<=q)return 0;if(he<=oe)return-1;if(ne<=q)return 1;if(this===Y)return 0;for(var de=(he>>>=0)-(oe>>>=0),xe=(ne>>>=0)-(q>>>=0),Ce=Math.min(de,xe),ge=this.slice(oe,he),Ae=Y.slice(q,ne),we=0;we<Ce;++we)if(ge[we]!==Ae[we]){de=ge[we],xe=Ae[we];break}return de<xe?-1:xe<de?1:0},x.prototype.includes=function(Y,q,ne){return this.indexOf(Y,q,ne)!==-1},x.prototype.indexOf=function(Y,q,ne){return N(this,Y,q,ne,!0)},x.prototype.lastIndexOf=function(Y,q,ne){return N(this,Y,q,ne,!1)},x.prototype.write=function(Y,q,ne,oe){if(q===void 0)oe="utf8",ne=this.length,q=0;else if(ne===void 0&&typeof q=="string")oe=q,ne=this.length,q=0;else{if(!isFinite(q))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");q>>>=0,isFinite(ne)?(ne>>>=0,oe===void 0&&(oe="utf8")):(oe=ne,ne=void 0)}var he=this.length-q;if((ne===void 0||he<ne)&&(ne=he),0<Y.length&&(ne<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe=oe||"utf8";for(var de,xe,Ce,ge=!1;;)switch(oe){case"hex":var Ae=this,we=Y,me=q,_e=ne,Me=(me=Number(me)||0,Ae.length-me);(!_e||Me<(_e=Number(_e)))&&(_e=Me),(Me=we.length)/2<_e&&(_e=Me/2);for(var De=0;De<_e;++De){var se=parseInt(we.substr(2*De,2),16);if(H(se))return De;Ae[me+De]=se}return De;case"utf8":case"utf-8":return Me=q,Ce=ne,$(X(Y,(xe=this).length-Me),xe,Me,Ce);case"ascii":return L(this,Y,q,ne);case"latin1":case"binary":return L(this,Y,q,ne);case"base64":return xe=this,Ce=q,de=ne,$(U(Y),xe,Ce,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,Y,q,ne);default:if(ge)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),ge=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;function B(Y,q,ne){if(Y%1!=0||Y<0)throw new RangeError("offset is not uint");if(ne<Y+q)throw new RangeError("Trying to access beyond buffer length")}function J(Y,q,ne,oe,he,de){if(!x.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(he<q||q<de)throw new RangeError('"value" argument is out of bounds');if(ne+oe>Y.length)throw new RangeError("Index out of range")}function K(Y,q,ne,oe){if(ne+oe>Y.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function ee(Y,q,ne,oe,he){return q=+q,ne>>>=0,he||K(Y,0,ne,4),y.write(Y,q,ne,oe,23,4),ne+4}function V(Y,q,ne,oe,he){return q=+q,ne>>>=0,he||K(Y,0,ne,8),y.write(Y,q,ne,oe,52,8),ne+8}x.prototype.slice=function(Y,q){var ne=this.length,ne=((Y=~~Y)<0?(Y+=ne)<0&&(Y=0):ne<Y&&(Y=ne),(q=q===void 0?ne:~~q)<0?(q+=ne)<0&&(q=0):ne<q&&(q=ne),q<Y&&(q=Y),this.subarray(Y,q));return Object.setPrototypeOf(ne,x.prototype),ne},x.prototype.readUIntLE=function(Y,q,ne){Y>>>=0,q>>>=0,ne||B(Y,q,this.length);for(var oe=this[Y],he=1,de=0;++de<q&&(he*=256);)oe+=this[Y+de]*he;return oe},x.prototype.readUIntBE=function(Y,q,ne){Y>>>=0,q>>>=0,ne||B(Y,q,this.length);for(var oe=this[Y+--q],he=1;0<q&&(he*=256);)oe+=this[Y+--q]*he;return oe},x.prototype.readUInt8=function(Y,q){return Y>>>=0,q||B(Y,1,this.length),this[Y]},x.prototype.readUInt16LE=function(Y,q){return Y>>>=0,q||B(Y,2,this.length),this[Y]|this[Y+1]<<8},x.prototype.readUInt16BE=function(Y,q){return Y>>>=0,q||B(Y,2,this.length),this[Y]<<8|this[Y+1]},x.prototype.readUInt32LE=function(Y,q){return Y>>>=0,q||B(Y,4,this.length),(this[Y]|this[Y+1]<<8|this[Y+2]<<16)+16777216*this[Y+3]},x.prototype.readUInt32BE=function(Y,q){return Y>>>=0,q||B(Y,4,this.length),16777216*this[Y]+(this[Y+1]<<16|this[Y+2]<<8|this[Y+3])},x.prototype.readIntLE=function(Y,q,ne){Y>>>=0,q>>>=0,ne||B(Y,q,this.length);for(var oe=this[Y],he=1,de=0;++de<q&&(he*=256);)oe+=this[Y+de]*he;return(he*=128)<=oe&&(oe-=Math.pow(2,8*q)),oe},x.prototype.readIntBE=function(Y,q,ne){Y>>>=0,q>>>=0,ne||B(Y,q,this.length);for(var oe=q,he=1,de=this[Y+--oe];0<oe&&(he*=256);)de+=this[Y+--oe]*he;return(he*=128)<=de&&(de-=Math.pow(2,8*q)),de},x.prototype.readInt8=function(Y,q){return Y>>>=0,q||B(Y,1,this.length),128&this[Y]?-1*(255-this[Y]+1):this[Y]},x.prototype.readInt16LE=function(Y,q){return Y>>>=0,q||B(Y,2,this.length),q=this[Y]|this[Y+1]<<8,32768&q?4294901760|q:q},x.prototype.readInt16BE=function(Y,q){return Y>>>=0,q||B(Y,2,this.length),q=this[Y+1]|this[Y]<<8,32768&q?4294901760|q:q},x.prototype.readInt32LE=function(Y,q){return Y>>>=0,q||B(Y,4,this.length),this[Y]|this[Y+1]<<8|this[Y+2]<<16|this[Y+3]<<24},x.prototype.readInt32BE=function(Y,q){return Y>>>=0,q||B(Y,4,this.length),this[Y]<<24|this[Y+1]<<16|this[Y+2]<<8|this[Y+3]},x.prototype.readFloatLE=function(Y,q){return Y>>>=0,q||B(Y,4,this.length),y.read(this,Y,!0,23,4)},x.prototype.readFloatBE=function(Y,q){return Y>>>=0,q||B(Y,4,this.length),y.read(this,Y,!1,23,4)},x.prototype.readDoubleLE=function(Y,q){return Y>>>=0,q||B(Y,8,this.length),y.read(this,Y,!0,52,8)},x.prototype.readDoubleBE=function(Y,q){return Y>>>=0,q||B(Y,8,this.length),y.read(this,Y,!1,52,8)},x.prototype.writeUIntLE=function(Y,q,ne,oe){Y=+Y,q>>>=0,ne>>>=0,oe||J(this,Y,q,ne,Math.pow(2,8*ne)-1,0);var he=1,de=0;for(this[q]=255&Y;++de<ne&&(he*=256);)this[q+de]=Y/he&255;return q+ne},x.prototype.writeUIntBE=function(Y,q,ne,oe){Y=+Y,q>>>=0,ne>>>=0,oe||J(this,Y,q,ne,Math.pow(2,8*ne)-1,0);var he=ne-1,de=1;for(this[q+he]=255&Y;0<=--he&&(de*=256);)this[q+he]=Y/de&255;return q+ne},x.prototype.writeUInt8=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,1,255,0),this[q]=255&Y,q+1},x.prototype.writeUInt16LE=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,2,65535,0),this[q]=255&Y,this[q+1]=Y>>>8,q+2},x.prototype.writeUInt16BE=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,2,65535,0),this[q]=Y>>>8,this[q+1]=255&Y,q+2},x.prototype.writeUInt32LE=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,4,4294967295,0),this[q+3]=Y>>>24,this[q+2]=Y>>>16,this[q+1]=Y>>>8,this[q]=255&Y,q+4},x.prototype.writeUInt32BE=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,4,4294967295,0),this[q]=Y>>>24,this[q+1]=Y>>>16,this[q+2]=Y>>>8,this[q+3]=255&Y,q+4},x.prototype.writeIntLE=function(Y,q,ne,oe){Y=+Y,q>>>=0,oe||J(this,Y,q,ne,(oe=Math.pow(2,8*ne-1))-1,-oe);var he=0,de=1,xe=0;for(this[q]=255&Y;++he<ne&&(de*=256);)Y<0&&xe===0&&this[q+he-1]!==0&&(xe=1),this[q+he]=(Y/de>>0)-xe&255;return q+ne},x.prototype.writeIntBE=function(Y,q,ne,oe){Y=+Y,q>>>=0,oe||J(this,Y,q,ne,(oe=Math.pow(2,8*ne-1))-1,-oe);var he=ne-1,de=1,xe=0;for(this[q+he]=255&Y;0<=--he&&(de*=256);)Y<0&&xe===0&&this[q+he+1]!==0&&(xe=1),this[q+he]=(Y/de>>0)-xe&255;return q+ne},x.prototype.writeInt8=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,1,127,-128),this[q]=255&(Y=Y<0?255+Y+1:Y),q+1},x.prototype.writeInt16LE=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,2,32767,-32768),this[q]=255&Y,this[q+1]=Y>>>8,q+2},x.prototype.writeInt16BE=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,2,32767,-32768),this[q]=Y>>>8,this[q+1]=255&Y,q+2},x.prototype.writeInt32LE=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,4,2147483647,-2147483648),this[q]=255&Y,this[q+1]=Y>>>8,this[q+2]=Y>>>16,this[q+3]=Y>>>24,q+4},x.prototype.writeInt32BE=function(Y,q,ne){return Y=+Y,q>>>=0,ne||J(this,Y,q,4,2147483647,-2147483648),this[q]=(Y=Y<0?4294967295+Y+1:Y)>>>24,this[q+1]=Y>>>16,this[q+2]=Y>>>8,this[q+3]=255&Y,q+4},x.prototype.writeFloatLE=function(Y,q,ne){return ee(this,Y,q,!0,ne)},x.prototype.writeFloatBE=function(Y,q,ne){return ee(this,Y,q,!1,ne)},x.prototype.writeDoubleLE=function(Y,q,ne){return V(this,Y,q,!0,ne)},x.prototype.writeDoubleBE=function(Y,q,ne){return V(this,Y,q,!1,ne)},x.prototype.copy=function(Y,q,ne,oe){if(!x.isBuffer(Y))throw new TypeError("argument should be a Buffer");if(ne=ne||0,oe||oe===0||(oe=this.length),q>=Y.length&&(q=Y.length),(oe=0<oe&&oe<ne?ne:oe)===ne||Y.length===0||this.length===0)return 0;if((q=q||0)<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length);var he=(oe=Y.length-q<oe-ne?Y.length-q+ne:oe)-ne;if(this===Y&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(q,ne,oe);else if(this===Y&&ne<q&&q<oe)for(var de=he-1;0<=de;--de)Y[de+q]=this[de+ne];else Uint8Array.prototype.set.call(Y,this.subarray(ne,oe),q);return he},x.prototype.fill=function(Y,q,ne,oe){if(typeof Y=="string"){if(typeof q=="string"?(oe=q,q=0,ne=this.length):typeof ne=="string"&&(oe=ne,ne=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!x.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);var he;Y.length===1&&(he=Y.charCodeAt(0),(oe==="utf8"&&he<128||oe==="latin1")&&(Y=he))}else typeof Y=="number"?Y&=255:typeof Y=="boolean"&&(Y=Number(Y));if(q<0||this.length<q||this.length<ne)throw new RangeError("Out of range index");var de;if(!(ne<=q))if(q>>>=0,ne=ne===void 0?this.length:ne>>>0,typeof(Y=Y||0)=="number")for(de=q;de<ne;++de)this[de]=Y;else{var xe=x.isBuffer(Y)?Y:x.from(Y,oe),Ce=xe.length;if(Ce===0)throw new TypeError('The value "'+Y+'" is invalid for argument "value"');for(de=0;de<ne-q;++de)this[de+q]=xe[de%Ce]}return this};var z=/[^+/0-9A-Za-z-_]/g;function X(Y,q){q=q||1/0;for(var ne,oe=Y.length,he=null,de=[],xe=0;xe<oe;++xe){if(55295<(ne=Y.charCodeAt(xe))&&ne<57344){if(!he){if(56319<ne){-1<(q-=3)&&de.push(239,191,189);continue}if(xe+1===oe){-1<(q-=3)&&de.push(239,191,189);continue}he=ne;continue}if(ne<56320){-1<(q-=3)&&de.push(239,191,189),he=ne;continue}ne=65536+(he-55296<<10|ne-56320)}else he&&-1<(q-=3)&&de.push(239,191,189);if(he=null,ne<128){if(--q<0)break;de.push(ne)}else if(ne<2048){if((q-=2)<0)break;de.push(ne>>6|192,63&ne|128)}else if(ne<65536){if((q-=3)<0)break;de.push(ne>>12|224,ne>>6&63|128,63&ne|128)}else{if(!(ne<1114112))throw new Error("Invalid code point");if((q-=4)<0)break;de.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,63&ne|128)}}return de}function U(Y){return b.toByteArray(function(q){if((q=(q=q.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;q.length%4!=0;)q+="=";return q}(Y))}function $(Y,q,ne,oe){for(var he=0;he<oe&&!(he+ne>=q.length||he>=Y.length);++he)q[he+ne]=Y[he];return he}function ae(Y,q){return Y instanceof q||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===q.name}function H(Y){return Y!=Y}var ie=function(){for(var Y="0123456789abcdef",q=new Array(256),ne=0;ne<16;++ne)for(var oe=16*ne,he=0;he<16;++he)q[oe+he]=Y[ne]+Y[he];return q}()}).call(this,c("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:246}],5:[function(c,m,_){m.exports=function(g){if(typeof g!="function")throw TypeError(String(g)+" is not a function");return g}},{}],6:[function(c,m,_){var g=c("../internals/is-object");m.exports=function(b){if(g(b)||b===null)return b;throw TypeError("Can't set "+String(b)+" as a prototype")}},{"../internals/is-object":74}],7:[function(y,m,_){var g=y("../internals/well-known-symbol"),b=y("../internals/object-create"),y=y("../internals/object-define-property"),S=g("unscopables"),A=Array.prototype;A[S]==null&&y.f(A,S,{configurable:!0,value:b(null)}),m.exports=function(C){A[S][C]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(c,m,_){var g=c("../internals/string-multibyte").charAt;m.exports=function(b,y,S){return y+(S?g(b,y).length:1)}},{"../internals/string-multibyte":123}],9:[function(c,m,_){m.exports=function(g,b,y){if(g instanceof b)return g;throw TypeError("Incorrect "+(y?y+" ":"")+"invocation")}},{}],10:[function(c,m,_){var g=c("../internals/is-object");m.exports=function(b){if(g(b))return b;throw TypeError(String(b)+" is not an object")}},{"../internals/is-object":74}],11:[function(c,m,_){m.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(K,m,_){function g(V){return C(V)&&x(ee,E(V))}var b,y=K("../internals/array-buffer-native"),S=K("../internals/descriptors"),A=K("../internals/global"),C=K("../internals/is-object"),x=K("../internals/has"),E=K("../internals/classof"),k=K("../internals/create-non-enumerable-property"),T=K("../internals/redefine"),I=K("../internals/object-define-property").f,M=K("../internals/object-get-prototype-of"),j=K("../internals/object-set-prototype-of"),Z=K("../internals/well-known-symbol"),K=K("../internals/uid"),P=A.Int8Array,O=P&&P.prototype,N=A.Uint8ClampedArray,N=N&&N.prototype,D=P&&M(P),L=O&&M(O),R=Object.prototype,G=R.isPrototypeOf,Z=Z("toStringTag"),B=K("TYPED_ARRAY_TAG"),J=y&&!!j&&E(A.opera)!=="Opera",K=!1,ee={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(b in ee)A[b]||(J=!1);if((!J||typeof D!="function"||D===Function.prototype)&&(D=function(){throw TypeError("Incorrect invocation")},J))for(b in ee)A[b]&&j(A[b],D);if((!J||!L||L===R)&&(L=D.prototype,J))for(b in ee)A[b]&&j(A[b].prototype,L);if(J&&M(N)!==L&&j(N,L),S&&!x(L,Z))for(b in K=!0,I(L,Z,{get:function(){return C(this)?this[B]:void 0}}),ee)A[b]&&k(A[b],B,b);m.exports={NATIVE_ARRAY_BUFFER_VIEWS:J,TYPED_ARRAY_TAG:K&&B,aTypedArray:function(V){if(g(V))return V;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(V){if(j){if(G.call(D,V))return V}else for(var z in ee)if(x(ee,b)&&(z=A[z],z&&(V===z||G.call(z,V))))return V;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(V,z,X){if(S){if(X)for(var U in ee)U=A[U],U&&x(U.prototype,V)&&delete U.prototype[V];L[V]&&!X||T(L,V,!X&&J&&O[V]||z)}},exportTypedArrayStaticMethod:function(V,z,X){var U,$;if(S){if(j){if(X)for(U in ee)($=A[U])&&x($,V)&&delete $[V];if(D[V]&&!X)return;try{return T(D,V,!X&&J&&P[V]||z)}catch{}}for(U in ee)!($=A[U])||$[V]&&!X||T($,V,z)}},isView:function(V){return V=E(V),V==="DataView"||x(ee,V)},isTypedArray:g,TypedArray:D,TypedArrayPrototype:L}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(ne,m,_){function g(me){return[255&me]}function b(me){return[255&me,me>>8&255]}function y(me){return[255&me,me>>8&255,me>>16&255,me>>24&255]}function S(me){return me[3]<<24|me[2]<<16|me[1]<<8|me[0]}function A(me){return de(me,23,4)}function C(me){return de(me,52,8)}function x(me,_e){K(me[ae],_e,{get:function(){return z(this)[_e]}})}function E(ue,_e,ce,De){if(ce=R(ce),ue=z(ue),ce+_e>ue.byteLength)throw he(H);var se=z(ue.buffer).bytes,ce=ce+ue.byteOffset,ue=se.slice(ce,ce+_e);return De?ue:ue.reverse()}function k(me,_e,Me,De,se,ce){if(Me=R(Me),me=z(me),Me+_e>me.byteLength)throw he(H);for(var ue=z(me.buffer).bytes,ve=Me+me.byteOffset,Se=De(+se),Ie=0;Ie<_e;Ie++)ue[ve+Ie]=Se[ce?Ie:_e-Ie-1]}var T=ne("../internals/global"),I=ne("../internals/descriptors"),M=ne("../internals/array-buffer-native"),j=ne("../internals/create-non-enumerable-property"),P=ne("../internals/redefine-all"),O=ne("../internals/fails"),N=ne("../internals/an-instance"),D=ne("../internals/to-integer"),L=ne("../internals/to-length"),R=ne("../internals/to-index"),G=ne("../internals/ieee754"),Z=ne("../internals/object-get-prototype-of"),B=ne("../internals/object-set-prototype-of"),J=ne("../internals/object-get-own-property-names").f,K=ne("../internals/object-define-property").f,ee=ne("../internals/array-fill"),V=ne("../internals/set-to-string-tag"),ne=ne("../internals/internal-state"),z=ne.get,X=ne.set,U="ArrayBuffer",$="DataView",ae="prototype",H="Wrong index",ie=T[U],Y=ie,q=T[$],ne=q&&q[ae],oe=Object.prototype,he=T.RangeError,de=G.pack,xe=G.unpack;if(M){if(!O(function(){ie(1)})||!O(function(){new ie(-1)})||O(function(){return new ie,new ie(1.5),new ie(NaN),ie.name!=U})){for(var Ce,T=(Y=function(Me){return N(this,Y),new ie(R(Me))})[ae]=ie[ae],ge=J(ie),Ae=0;ge.length>Ae;)(Ce=ge[Ae++])in Y||j(Y,Ce,ie[Ce]);T.constructor=Y}B&&Z(ne)!==oe&&B(ne,oe);var G=new q(new Y(2)),we=ne.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||P(ne,{setInt8:function(_e,Me){we.call(this,_e,Me<<24>>24)},setUint8:function(_e,Me){we.call(this,_e,Me<<24>>24)}},{unsafe:!0})}else Y=function(me){N(this,Y,U),me=R(me),X(this,{bytes:ee.call(new Array(me),0),byteLength:me}),I||(this.byteLength=me)},q=function(me,se,Me){N(this,q,$),N(me,Y,$);var De=z(me).byteLength,se=D(se);if(se<0||De<se)throw he("Wrong offset");if(De<se+(Me=Me===void 0?De-se:L(Me)))throw he("Wrong length");X(this,{buffer:me,byteLength:Me,byteOffset:se}),I||(this.buffer=me,this.byteLength=Me,this.byteOffset=se)},I&&(x(Y,"byteLength"),x(q,"buffer"),x(q,"byteLength"),x(q,"byteOffset")),P(q[ae],{getInt8:function(me){return E(this,1,me)[0]<<24>>24},getUint8:function(me){return E(this,1,me)[0]},getInt16:function(me){return me=E(this,2,me,1<arguments.length?arguments[1]:void 0),(me[1]<<8|me[0])<<16>>16},getUint16:function(me){return me=E(this,2,me,1<arguments.length?arguments[1]:void 0),me[1]<<8|me[0]},getInt32:function(me){return S(E(this,4,me,1<arguments.length?arguments[1]:void 0))},getUint32:function(me){return S(E(this,4,me,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(me){return xe(E(this,4,me,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(me){return xe(E(this,8,me,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(me,_e){k(this,1,me,g,_e)},setUint8:function(me,_e){k(this,1,me,g,_e)},setInt16:function(me,_e){k(this,2,me,b,_e,2<arguments.length?arguments[2]:void 0)},setUint16:function(me,_e){k(this,2,me,b,_e,2<arguments.length?arguments[2]:void 0)},setInt32:function(me,_e){k(this,4,me,y,_e,2<arguments.length?arguments[2]:void 0)},setUint32:function(me,_e){k(this,4,me,y,_e,2<arguments.length?arguments[2]:void 0)},setFloat32:function(me,_e){k(this,4,me,A,_e,2<arguments.length?arguments[2]:void 0)},setFloat64:function(me,_e){k(this,8,me,C,_e,2<arguments.length?arguments[2]:void 0)}});V(Y,U),V(q,$),m.exports={ArrayBuffer:Y,DataView:q}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(c,m,_){var g=c("../internals/to-object"),b=c("../internals/to-absolute-index"),y=c("../internals/to-length"),S=Math.min;m.exports=[].copyWithin||function(I,C){var x=g(this),E=y(x.length),k=b(I,E),T=b(C,E),I=2<arguments.length?arguments[2]:void 0,M=S((I===void 0?E:b(I,E))-T,E-k),j=1;for(T<k&&k<T+M&&(j=-1,T+=M-1,k+=M-1);0<M--;)T in x?x[k]=x[T]:delete x[k],k+=j,T+=j;return x}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(c,m,_){var g=c("../internals/to-object"),b=c("../internals/to-absolute-index"),y=c("../internals/to-length");m.exports=function(S){for(var A=g(this),C=y(A.length),E=arguments.length,x=b(1<E?arguments[1]:void 0,C),E=2<E?arguments[2]:void 0,k=E===void 0?C:b(E,C);x<k;)A[x++]=S;return A}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(y,m,_){var g=y("../internals/array-iteration").forEach,b=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),b=b("forEach"),y=y("forEach");m.exports=b&&y?[].forEach:function(S){return g(this,S,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(c,m,_){var g=c("../internals/function-bind-context"),b=c("../internals/to-object"),y=c("../internals/call-with-safe-iteration-closing"),S=c("../internals/is-array-iterator-method"),A=c("../internals/to-length"),C=c("../internals/create-property"),x=c("../internals/get-iterator-method");m.exports=function(N){var k,T,I,M,j,P,O=b(N),N=typeof this=="function"?this:Array,D=arguments.length,L=1<D?arguments[1]:void 0,R=L!==void 0,G=x(O),Z=0;if(R&&(L=g(L,2<D?arguments[2]:void 0,2)),G==null||N==Array&&S(G))for(T=new N(k=A(O.length));Z<k;Z++)P=R?L(O[Z],Z):O[Z],C(T,Z,P);else for(j=(M=G.call(O)).next,T=new N;!(I=j.call(M)).done;Z++)P=R?y(M,L,[I.value,Z],!0):I.value,C(T,Z,P);return T.length=Z,T}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(c,m,_){function g(A){return function(C,x,E){var k,T=b(C),I=y(T.length),M=S(E,I);if(A&&x!=x){for(;M<I;)if((k=T[M++])!=k)return!0}else for(;M<I;M++)if((A||M in T)&&T[M]===x)return A||M||0;return!A&&-1}}var b=c("../internals/to-indexed-object"),y=c("../internals/to-length"),S=c("../internals/to-absolute-index");m.exports={includes:g(!0),indexOf:g(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(c,m,_){function g(E){var k=E==1,T=E==2,I=E==3,M=E==4,j=E==6,P=E==5||j;return function(O,N,D,L){for(var R,G,Z=S(O),B=y(Z),J=b(N,D,3),K=A(B.length),ee=0,N=L||C,V=k?N(O,K):T?N(O,0):void 0;ee<K;ee++)if((P||ee in B)&&(G=J(R=B[ee],ee,Z),E)){if(k)V[ee]=G;else if(G)switch(E){case 3:return!0;case 5:return R;case 6:return ee;case 2:x.call(V,R)}else if(M)return!1}return j?-1:I||M?M:V}}var b=c("../internals/function-bind-context"),y=c("../internals/indexed-object"),S=c("../internals/to-object"),A=c("../internals/to-length"),C=c("../internals/array-species-create"),x=[].push;m.exports={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(E,m,_){var g=E("../internals/to-indexed-object"),b=E("../internals/to-integer"),y=E("../internals/to-length"),x=E("../internals/array-method-is-strict"),E=E("../internals/array-method-uses-to-length"),S=Math.min,A=[].lastIndexOf,C=!!A&&1/[1].lastIndexOf(1,-0)<0,x=x("lastIndexOf"),E=E("indexOf",{ACCESSORS:!0,1:0});m.exports=C||!x||!E?function(k){if(C)return A.apply(this,arguments)||0;var T=g(this),I=y(T.length),M=I-1;for((M=1<arguments.length?S(M,b(arguments[1])):M)<0&&(M=I+M);0<=M;M--)if(M in T&&T[M]===k)return M||0;return-1}:A},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(c,m,_){var g=c("../internals/fails"),b=c("../internals/well-known-symbol"),y=c("../internals/engine-v8-version"),S=b("species");m.exports=function(A){return 51<=y||!g(function(){var C=[];return(C.constructor={})[S]=function(){return{foo:1}},C[A](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(c,m,_){var g=c("../internals/fails");m.exports=function(b,y){var S=[][b];return!!S&&g(function(){S.call(null,y||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(c,m,_){function g(x){throw x}var b=c("../internals/descriptors"),y=c("../internals/fails"),S=c("../internals/has"),A=Object.defineProperty,C={};m.exports=function(x,E){var k,T,I,M;return S(C,x)?C[x]:(k=[][x],T=!!S(E=E||{},"ACCESSORS")&&E.ACCESSORS,I=S(E,0)?E[0]:g,M=S(E,1)?E[1]:void 0,C[x]=!!k&&!y(function(){if(T&&!b)return!0;var j={length:-1};T?A(j,1,{enumerable:!0,get:g}):j[1]=1,k.call(j,I,M)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(c,m,_){function g(C){return function(x,E,k,T){b(E);var I=y(x),M=S(I),j=A(I.length),P=C?j-1:0,O=C?-1:1;if(k<2)for(;;){if(P in M){T=M[P],P+=O;break}if(P+=O,C?P<0:j<=P)throw TypeError("Reduce of empty array with no initial value")}for(;C?0<=P:P<j;P+=O)P in M&&(T=E(T,M[P],P,I));return T}}var b=c("../internals/a-function"),y=c("../internals/to-object"),S=c("../internals/indexed-object"),A=c("../internals/to-length");m.exports={left:g(!1),right:g(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(c,m,_){var g=c("../internals/is-object"),b=c("../internals/is-array"),y=c("../internals/well-known-symbol")("species");m.exports=function(S,A){var C;return new((C=b(S)&&(typeof(C=S.constructor)=="function"&&(C===Array||b(C.prototype))||g(C)&&(C=C[y])===null)?void 0:C)===void 0?Array:C)(A===0?0:A)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(c,m,_){var g=c("../internals/an-object");m.exports=function(b,y,S,A){try{return A?y(g(S)[0],S[1]):y(S)}catch(C){throw A=b.return,A!==void 0&&g(A.call(b)),C}}},{"../internals/an-object":10}],27:[function(c,m,_){var g=c("../internals/well-known-symbol")("iterator"),b=!1;try{var y=0,S={next:function(){return{done:!!y++}},return:function(){b=!0}};S[g]=function(){return this},Array.from(S,function(){throw 2})}catch{}m.exports=function(A,C){if(!C&&!b)return!1;var x=!1;try{var E={};E[g]=function(){return{next:function(){return{done:x=!0}}}},A(E)}catch{}return x}},{"../internals/well-known-symbol":148}],28:[function(c,m,_){var g={}.toString;m.exports=function(b){return g.call(b).slice(8,-1)}},{}],29:[function(c,m,_){var g=c("../internals/to-string-tag-support"),b=c("../internals/classof-raw"),y=c("../internals/well-known-symbol")("toStringTag"),S=b(function(){return arguments}())=="Arguments";m.exports=g?b:function(A){var C;return A===void 0?"Undefined":A===null?"Null":typeof(C=function(x,E){try{return x[E]}catch{}}(A=Object(A),y))=="string"?C:S?b(A):(C=b(A))=="Object"&&typeof A.callee=="function"?"Arguments":C}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(I,m,_){var g=I("../internals/object-define-property").f,b=I("../internals/object-create"),y=I("../internals/redefine-all"),S=I("../internals/function-bind-context"),A=I("../internals/an-instance"),C=I("../internals/iterate"),x=I("../internals/define-iterator"),E=I("../internals/set-species"),k=I("../internals/descriptors"),T=I("../internals/internal-metadata").fastKey,I=I("../internals/internal-state"),M=I.set,j=I.getterFor;m.exports={getConstructor:function(P,O,N,D){function L(B,J,K){var ee,V=Z(B),z=R(B,J);return z?z.value=K:(V.last=z={index:ee=T(J,!0),key:J,value:K,previous:J=V.last,next:void 0,removed:!1},V.first||(V.first=z),J&&(J.next=z),k?V.size++:B.size++,ee!=="F"&&(V.index[ee]=z)),B}function R(ee,J){var K,ee=Z(ee),V=T(J);if(V!=="F")return ee.index[V];for(K=ee.first;K;K=K.next)if(K.key==J)return K}var G=P(function(B,J){A(B,G,O),M(B,{type:O,index:b(null),first:void 0,last:void 0,size:0}),k||(B.size=0),J!=null&&C(J,B[D],B,N)}),Z=j(O);return y(G.prototype,{clear:function(){for(var B=Z(this),J=B.index,K=B.first;K;)K.removed=!0,K.previous&&(K.previous=K.previous.next=void 0),delete J[K.index],K=K.next;B.first=B.last=void 0,k?B.size=0:this.size=0},delete:function(V){var J,K,ee=Z(this),V=R(this,V);return V&&(J=V.next,K=V.previous,delete ee.index[V.index],V.removed=!0,K&&(K.next=J),J&&(J.previous=K),ee.first==V&&(ee.first=J),ee.last==V&&(ee.last=K),k?ee.size--:this.size--),!!V},forEach:function(B){for(var J,K=Z(this),ee=S(B,1<arguments.length?arguments[1]:void 0,3);J=J?J.next:K.first;)for(ee(J.value,J.key,this);J&&J.removed;)J=J.previous},has:function(B){return!!R(this,B)}}),y(G.prototype,N?{get:function(B){return B=R(this,B),B&&B.value},set:function(B,J){return L(this,B===0?0:B,J)}}:{add:function(B){return L(this,B=B===0?0:B,B)}}),k&&g(G.prototype,"size",{get:function(){return Z(this).size}}),G},setStrong:function(P,O,N){var D=O+" Iterator",L=j(O),R=j(D);x(P,O,function(G,Z){M(this,{type:D,target:G,state:L(G),kind:Z,last:void 0})},function(){for(var G=R(this),Z=G.kind,B=G.last;B&&B.removed;)B=B.previous;return G.target&&(G.last=B=B?B.next:G.state.first)?Z=="keys"?{value:B.key,done:!1}:Z=="values"?{value:B.value,done:!1}:{value:[B.key,B.value],done:!1}:{value:G.target=void 0,done:!0}},N?"entries":"values",!N,!0),E(O)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(M,m,_){function g(L){return L.frozen||(L.frozen=new b)}function b(){this.entries=[]}function y(L,R){return O(L.entries,function(G){return G[0]===R})}var S=M("../internals/redefine-all"),A=M("../internals/internal-metadata").getWeakData,C=M("../internals/an-object"),x=M("../internals/is-object"),E=M("../internals/an-instance"),k=M("../internals/iterate"),T=M("../internals/array-iteration"),I=M("../internals/has"),M=M("../internals/internal-state"),j=M.set,P=M.getterFor,O=T.find,N=T.findIndex,D=0;b.prototype={get:function(L){if(L=y(this,L),L)return L[1]},has:function(L){return!!y(this,L)},set:function(L,R){var G=y(this,L);G?G[1]=R:this.entries.push([L,R])},delete:function(L){var R=N(this.entries,function(G){return G[0]===L});return~R&&this.entries.splice(R,1),!!~R}},m.exports={getConstructor:function(L,R,G,Z){function B(ee,V,z){var X=K(ee),U=A(C(V),!0);return U===!0?g(X).set(V,z):U[X.id]=z,ee}var J=L(function(ee,V){E(ee,J,R),j(ee,{type:R,id:D++,frozen:void 0}),V!=null&&k(V,ee[Z],ee,G)}),K=P(R);return S(J.prototype,{delete:function(ee){var V,z=K(this);return!!x(ee)&&((V=A(ee))===!0?g(z).delete(ee):V&&I(V,z.id)&&delete V[z.id])},has:function(ee){var V,z=K(this);return!!x(ee)&&((V=A(ee))===!0?g(z).has(ee):V&&I(V,z.id))}}),S(J.prototype,G?{get:function(ee){var V,z=K(this);if(x(ee))return(V=A(ee))===!0?g(z).get(ee):V?V[z.id]:void 0},set:function(ee,V){return B(this,ee,V)}}:{add:function(ee){return B(this,ee,!0)}}),J}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/global"),y=c("../internals/is-forced"),S=c("../internals/redefine"),A=c("../internals/internal-metadata"),C=c("../internals/iterate"),x=c("../internals/an-instance"),E=c("../internals/is-object"),k=c("../internals/fails"),T=c("../internals/check-correctness-of-iteration"),I=c("../internals/set-to-string-tag"),M=c("../internals/inherit-if-required");m.exports=function(j,P,O){function N(U){var $=V[U];S(V,U,U=="add"?function(ae){return $.call(this,ae===0?0:ae),this}:U=="delete"?function(ae){return!(J&&!E(ae))&&$.call(this,ae===0?0:ae)}:U=="get"?function(ae){return J&&!E(ae)?void 0:$.call(this,ae===0?0:ae)}:U=="has"?function(ae){return!(J&&!E(ae))&&$.call(this,ae===0?0:ae)}:function(ae,H){return $.call(this,ae===0?0:ae,H),this})}var D,L,R,G,Z,B=j.indexOf("Map")!==-1,J=j.indexOf("Weak")!==-1,K=B?"set":"add",ee=b[j],V=ee&&ee.prototype,z=ee,X={};return y(j,typeof ee!="function"||!(J||V.forEach&&!k(function(){new ee().entries().next()})))?(z=O.getConstructor(P,j,B,K),A.REQUIRED=!0):y(j,!0)&&(L=(D=new z)[K](J?{}:-0,1)!=D,R=k(function(){D.has(1)}),G=T(function(U){new ee(U)}),Z=!J&&k(function(){for(var U=new ee,$=5;$--;)U[K]($,$);return!U.has(-0)}),G||(((z=P(function(U,$){return x(U,z,j),U=M(new ee,U,z),$!=null&&C($,U[K],U,B),U})).prototype=V).constructor=z),(R||Z)&&(N("delete"),N("has"),B&&N("get")),(Z||L)&&N(K),J&&V.clear&&delete V.clear),X[j]=z,g({global:!0,forced:z!=ee},X),I(z,j),J||O.setStrong(z,j,B),z}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(c,m,_){var g=c("../internals/has"),b=c("../internals/own-keys"),y=c("../internals/object-get-own-property-descriptor"),S=c("../internals/object-define-property");m.exports=function(A,C){for(var x=b(C),E=S.f,k=y.f,T=0;T<x.length;T++){var I=x[T];g(A,I)||E(A,I,k(C,I))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(c,m,_){var g=c("../internals/well-known-symbol")("match");m.exports=function(b){var y=/./;try{"/./"[b](y)}catch{try{return y[g]=!1,"/./"[b](y)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(c,m,_){c=c("../internals/fails"),m.exports=!c(function(){function g(){}return g.prototype.constructor=null,Object.getPrototypeOf(new g)!==g.prototype})},{"../internals/fails":51}],36:[function(c,m,_){var g=c("../internals/require-object-coercible"),b=/"/g;m.exports=function(x,S,A,C){var x=String(g(x)),E="<"+S;return A!==""&&(E+=" "+A+'="'+String(C).replace(b,"&quot;")+'"'),E+">"+x+"</"+S+">"}},{"../internals/require-object-coercible":113}],37:[function(c,m,_){function g(){return this}var b=c("../internals/iterators-core").IteratorPrototype,y=c("../internals/object-create"),S=c("../internals/create-property-descriptor"),A=c("../internals/set-to-string-tag"),C=c("../internals/iterators");m.exports=function(x,E,k){return E+=" Iterator",x.prototype=y(b,{next:S(1,k)}),A(x,E,!1,!0),C[E]=g,x}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(c,m,_){var g=c("../internals/descriptors"),b=c("../internals/object-define-property"),y=c("../internals/create-property-descriptor");m.exports=g?function(S,A,C){return b.f(S,A,y(1,C))}:function(S,A,C){return S[A]=C,S}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(c,m,_){m.exports=function(g,b){return{enumerable:!(1&g),configurable:!(2&g),writable:!(4&g),value:b}}},{}],40:[function(c,m,_){var g=c("../internals/to-primitive"),b=c("../internals/object-define-property"),y=c("../internals/create-property-descriptor");m.exports=function(S,A,C){A=g(A),A in S?b.f(S,A,y(0,C)):S[A]=C}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(M,m,_){function g(){return this}var b=M("../internals/export"),y=M("../internals/create-iterator-constructor"),S=M("../internals/object-get-prototype-of"),A=M("../internals/object-set-prototype-of"),C=M("../internals/set-to-string-tag"),x=M("../internals/create-non-enumerable-property"),E=M("../internals/redefine"),k=M("../internals/well-known-symbol"),T=M("../internals/is-pure"),I=M("../internals/iterators"),M=M("../internals/iterators-core"),j=M.IteratorPrototype,P=M.BUGGY_SAFARI_ITERATORS,O=k("iterator"),N="values",D="entries";m.exports=function(L,R,G,X,B,J,K){y(G,R,X);function ee(Y){if(Y===B&&H)return H;if(!P&&Y in $)return $[Y];switch(Y){case"keys":case N:case D:return function(){return new G(this,Y)}}return function(){return new G(this)}}var V,z,X=R+" Iterator",U=!1,$=L.prototype,ae=$[O]||$["@@iterator"]||B&&$[B],H=!P&&ae||ee(B),ie=R=="Array"&&$.entries||ae;if(ie&&(ie=S(ie.call(new L)),j!==Object.prototype&&ie.next&&(T||S(ie)===j||(A?A(ie,j):typeof ie[O]!="function"&&x(ie,O,g)),C(ie,X,!0,!0),T&&(I[X]=g))),B==N&&ae&&ae.name!==N&&(U=!0,H=function(){return ae.call(this)}),T&&!K||$[O]===H||x($,O,H),I[R]=H,B)if(V={values:ee(N),keys:J?H:ee("keys"),entries:ee(D)},K)for(z in V)!P&&!U&&z in $||E($,z,V[z]);else b({target:R,proto:!0,forced:P||U},V);return V}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(c,m,_){var g=c("../internals/path"),b=c("../internals/has"),y=c("../internals/well-known-symbol-wrapped"),S=c("../internals/object-define-property").f;m.exports=function(A){var C=g.Symbol||(g.Symbol={});b(C,A)||S(C,A,{value:y.f(A)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(c,m,_){c=c("../internals/fails"),m.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(b,m,_){var g=b("../internals/global"),b=b("../internals/is-object"),y=g.document,S=b(y)&&b(y.createElement);m.exports=function(A){return S?y.createElement(A):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(c,m,_){m.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(c,m,_){c=c("../internals/engine-user-agent"),m.exports=/(iphone|ipod|ipad).*applewebkit/i.test(c)},{"../internals/engine-user-agent":47}],47:[function(c,m,_){c=c("../internals/get-built-in"),m.exports=c("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(y,m,_){var g,b,S=y("../internals/global"),y=y("../internals/engine-user-agent"),S=S.process,S=S&&S.versions,S=S&&S.v8;S?b=(g=S.split("."))[0]+g[1]:y&&(!(g=y.match(/Edge\/(\d+)/))||74<=g[1])&&(g=y.match(/Chrome\/(\d+)/))&&(b=g[1]),m.exports=b&&+b},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(c,m,_){m.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(c,m,_){var g=c("../internals/global"),b=c("../internals/object-get-own-property-descriptor").f,y=c("../internals/create-non-enumerable-property"),S=c("../internals/redefine"),A=c("../internals/set-global"),C=c("../internals/copy-constructor-properties"),x=c("../internals/is-forced");m.exports=function(E,k){var T,I,M,j=E.target,P=E.global,O=E.stat,N=P?g:O?g[j]||A(j,{}):(g[j]||{}).prototype;if(N)for(T in k){if(I=k[T],M=E.noTargetGet?(M=b(N,T))&&M.value:N[T],!x(P?T:j+(O?".":"#")+T,E.forced)&&M!==void 0){if(typeof I==typeof M)continue;C(I,M)}(E.sham||M&&M.sham)&&y(I,"sham",!0),S(N,T,I,E)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(c,m,_){m.exports=function(g){try{return!!g()}catch{return!0}}},{}],52:[function(k,m,_){k("../modules/es.regexp.exec");var g=k("../internals/redefine"),b=k("../internals/fails"),y=k("../internals/well-known-symbol"),S=k("../internals/regexp-exec"),A=k("../internals/create-non-enumerable-property"),C=y("species"),x=!b(function(){var M=/./;return M.exec=function(){var j=[];return j.groups={a:"7"},j},"".replace(M,"$<a>")!=="7"}),E="a".replace(/./,"$0")==="$0",k=y("replace"),T=!!/./[k]&&/./[k]("a","$0")==="",I=!b(function(){var j=/(?:)/,M=j.exec,j=(j.exec=function(){return M.apply(this,arguments)},"ab".split(j));return j.length!==2||j[0]!=="a"||j[1]!=="b"});m.exports=function(M,j,P,O){var N,D,L=y(M),R=!b(function(){var Z={};return Z[L]=function(){return 7},""[M](Z)!=7}),G=R&&!b(function(){var Z=!1,B=/a/;return M==="split"&&((B={constructor:{}}).constructor[C]=function(){return B},B.flags="",B[L]=/./[L]),B.exec=function(){return Z=!0,null},B[L](""),!Z});R&&G&&(M!=="replace"||x&&E&&!T)&&(M!=="split"||I)||(N=/./[L],P=(G=P(L,""[M],function(Z,B,J,K,ee){return B.exec===S?R&&!ee?{done:!0,value:N.call(B,J,K)}:{done:!0,value:Z.call(J,B,K)}:{done:!1}},{REPLACE_KEEPS_$0:E,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:T}))[0],D=G[1],g(String.prototype,M,P),g(RegExp.prototype,L,j==2?function(Z,B){return D.call(Z,this,B)}:function(Z){return D.call(Z,this)})),O&&A(RegExp.prototype[L],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":187}],53:[function(c,m,_){c=c("../internals/fails"),m.exports=!c(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(c,m,_){var g=c("../internals/a-function");m.exports=function(b,y,S){if(g(b),y===void 0)return b;switch(S){case 0:return function(){return b.call(y)};case 1:return function(A){return b.call(y,A)};case 2:return function(A,C){return b.call(y,A,C)};case 3:return function(A,C,x){return b.call(y,A,C,x)}}return function(){return b.apply(y,arguments)}}},{"../internals/a-function":5}],55:[function(c,m,_){var g=c("../internals/a-function"),b=c("../internals/is-object"),y=[].slice,S={};m.exports=Function.bind||function(A){var C=g(this),x=y.call(arguments,1),E=function(){var k=x.concat(y.call(arguments));if(this instanceof E){var T=C,I=k.length,M=k;if(!(I in S)){for(var j=[],P=0;P<I;P++)j[P]="a["+P+"]";S[I]=Function("C,a","return new C("+j.join(",")+")")}return S[I](T,M)}return C.apply(A,k)};return b(C.prototype)&&(E.prototype=C.prototype),E}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(c,m,_){function g(S){return typeof S=="function"?S:void 0}var b=c("../internals/path"),y=c("../internals/global");m.exports=function(S,A){return arguments.length<2?g(b[S])||g(y[S]):b[S]&&b[S][A]||y[S]&&y[S][A]}},{"../internals/global":59,"../internals/path":104}],57:[function(c,m,_){var g=c("../internals/classof"),b=c("../internals/iterators"),y=c("../internals/well-known-symbol")("iterator");m.exports=function(S){if(S!=null)return S[y]||S["@@iterator"]||b[g(S)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(c,m,_){var g=c("../internals/an-object"),b=c("../internals/get-iterator-method");m.exports=function(y){var S=b(y);if(typeof S!="function")throw TypeError(String(y)+" is not iterable");return g(S.call(y))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(c,m,_){(function(g){function b(y){return y&&y.Math==Math&&y}m.exports=b(typeof globalThis=="object"&&globalThis)||b(typeof window=="object"&&window)||b(typeof self=="object"&&self)||b(typeof g=="object"&&g)||Function("return this")()}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(c,m,_){var g={}.hasOwnProperty;m.exports=function(b,y){return g.call(b,y)}},{}],61:[function(c,m,_){m.exports={}},{}],62:[function(c,m,_){var g=c("../internals/global");m.exports=function(b,y){var S=g.console;S&&S.error&&(arguments.length===1?S.error(b):S.error(b,y))}},{"../internals/global":59}],63:[function(c,m,_){c=c("../internals/get-built-in"),m.exports=c("document","documentElement")},{"../internals/get-built-in":56}],64:[function(c,m,_){var g=c("../internals/descriptors"),b=c("../internals/fails"),y=c("../internals/document-create-element");m.exports=!g&&!b(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(c,m,_){var g=Math.abs,b=Math.pow,y=Math.floor,S=Math.log,A=Math.LN2;m.exports={pack:function(C,x,P){var k,T,I,M=new Array(P),j=8*P-x-1,P=(1<<j)-1,O=P>>1,N=x===23?b(2,-24)-b(2,-77):0,D=C<0||C===0&&1/C<0?1:0,L=0;for((C=g(C))!=C||C===1/0?(T=C!=C?1:0,k=P):(k=y(S(C)/A),C*(I=b(2,-k))<1&&(k--,I*=2),2<=(C+=1<=k+O?N/I:N*b(2,1-O))*I&&(k++,I/=2),P<=k+O?(T=0,k=P):1<=k+O?(T=(C*I-1)*b(2,x),k+=O):(T=C*b(2,O-1)*b(2,x),k=0));8<=x;M[L++]=255&T,T/=256,x-=8);for(k=k<<x|T,j+=x;0<j;M[L++]=255&k,k/=256,j-=8);return M[--L]|=128*D,M},unpack:function(C,x){var E,k=C.length,P=8*k-x-1,T=(1<<P)-1,I=T>>1,M=P-7,j=k-1,P=C[j--],O=127&P;for(P>>=7;0<M;O=256*O+C[j],j--,M-=8);for(E=O&(1<<-M)-1,O>>=-M,M+=x;0<M;E=256*E+C[j],j--,M-=8);if(O===0)O=1-I;else{if(O===T)return E?NaN:P?-1/0:1/0;E+=b(2,x),O-=I}return(P?-1:1)*E*b(2,O-x)}}},{}],66:[function(c,m,_){var g=c("../internals/fails"),b=c("../internals/classof-raw"),y="".split;m.exports=g(function(){return!Object("z").propertyIsEnumerable(0)})?function(S){return b(S)=="String"?y.call(S,""):Object(S)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(c,m,_){var g=c("../internals/is-object"),b=c("../internals/object-set-prototype-of");m.exports=function(y,S,A){return b&&typeof(S=S.constructor)=="function"&&S!==A&&g(S=S.prototype)&&S!==A.prototype&&b(y,S),y}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(g,m,_){var g=g("../internals/shared-store"),b=Function.toString;typeof g.inspectSource!="function"&&(g.inspectSource=function(y){return b.call(y)}),m.exports=g.inspectSource},{"../internals/shared-store":119}],69:[function(c,m,_){function g(M){A(M,E,{value:{objectID:"O"+ ++k,weakData:{}}})}var b=c("../internals/hidden-keys"),y=c("../internals/is-object"),S=c("../internals/has"),A=c("../internals/object-define-property").f,C=c("../internals/uid"),x=c("../internals/freezing"),E=C("meta"),k=0,T=Object.isExtensible||function(){return!0},I=m.exports={REQUIRED:!1,fastKey:function(M,j){if(!y(M))return typeof M=="symbol"?M:(typeof M=="string"?"S":"P")+M;if(!S(M,E)){if(!T(M))return"F";if(!j)return"E";g(M)}return M[E].objectID},getWeakData:function(M,j){if(!S(M,E)){if(!T(M))return!0;if(!j)return!1;g(M)}return M[E].weakData},onFreeze:function(M){return x&&I.REQUIRED&&T(M)&&!S(M,E)&&g(M),M}};b[E]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(P,m,_){var g,b,y,S,A,C,x,E,k=P("../internals/native-weak-map"),O=P("../internals/global"),T=P("../internals/is-object"),I=P("../internals/create-non-enumerable-property"),M=P("../internals/has"),j=P("../internals/shared-key"),P=P("../internals/hidden-keys"),O=O.WeakMap;x=k?(g=new O,b=g.get,y=g.has,S=g.set,A=function(N,D){return S.call(g,N,D),D},C=function(N){return b.call(g,N)||{}},function(N){return y.call(g,N)}):(P[E=j("state")]=!0,A=function(N,D){return I(N,E,D),D},C=function(N){return M(N,E)?N[E]:{}},function(N){return M(N,E)}),m.exports={set:A,get:C,has:x,enforce:function(N){return x(N)?C(N):A(N,{})},getterFor:function(N){return function(D){if(T(D)&&(D=C(D)).type===N)return D;throw TypeError("Incompatible receiver, "+N+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(c,m,_){var g=c("../internals/well-known-symbol"),b=c("../internals/iterators"),y=g("iterator"),S=Array.prototype;m.exports=function(A){return A!==void 0&&(b.Array===A||S[y]===A)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(c,m,_){var g=c("../internals/classof-raw");m.exports=Array.isArray||function(b){return g(b)=="Array"}},{"../internals/classof-raw":28}],73:[function(c,m,_){function g(E,k){return(E=A[S(E)])==x||E!=C&&(typeof k=="function"?b(k):!!k)}var b=c("../internals/fails"),y=/#|\.prototype\./,S=g.normalize=function(E){return String(E).replace(y,".").toLowerCase()},A=g.data={},C=g.NATIVE="N",x=g.POLYFILL="P";m.exports=g},{"../internals/fails":51}],74:[function(c,m,_){m.exports=function(g){return typeof g=="object"?g!==null:typeof g=="function"}},{}],75:[function(c,m,_){m.exports=!1},{}],76:[function(c,m,_){var g=c("../internals/is-object"),b=c("../internals/classof-raw"),y=c("../internals/well-known-symbol")("match");m.exports=function(S){var A;return g(S)&&((A=S[y])!==void 0?!!A:b(S)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(c,m,_){function g(E,k){this.stopped=E,this.result=k}var b=c("../internals/an-object"),y=c("../internals/is-array-iterator-method"),S=c("../internals/to-length"),A=c("../internals/function-bind-context"),C=c("../internals/get-iterator-method"),x=c("../internals/call-with-safe-iteration-closing");(m.exports=function(E,k,T,I,M){var j,P,O,N,D,L,R=A(k,T,I?2:1);if(M)j=E;else{if(typeof(k=C(E))!="function")throw TypeError("Target is not iterable");if(y(k)){for(P=0,O=S(E.length);P<O;P++)if((N=I?R(b(L=E[P])[0],L[1]):R(E[P]))&&N instanceof g)return N;return new g(!1)}j=k.call(E)}for(D=j.next;!(L=D.call(j)).done;)if(typeof(N=x(j,R,L.value,I))=="object"&&N&&N instanceof g)return N;return new g(!1)}).stop=function(E){return new g(!0,E)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(C,m,_){var g,b,y=C("../internals/object-get-prototype-of"),S=C("../internals/create-non-enumerable-property"),A=C("../internals/has"),x=C("../internals/well-known-symbol"),C=C("../internals/is-pure"),x=x("iterator"),E=!1;[].keys&&("next"in(b=[].keys())?(y=y(y(b)))!==Object.prototype&&(g=y):E=!0),g==null&&(g={}),C||A(g,x)||S(g,x,function(){return this}),m.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:E}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(c,m,_){m.exports={}},{}],80:[function(c,m,_){m.exports=Math.sign||function(g){return(g=+g)==0||g!=g?g:g<0?-1:1}},{}],81:[function(I,m,_){var g,b,y,S,A,C,x,E,k=I("../internals/global"),D=I("../internals/object-get-own-property-descriptor").f,N=I("../internals/classof-raw"),T=I("../internals/task").set,I=I("../internals/engine-is-ios"),M=k.MutationObserver||k.WebKitMutationObserver,j=k.process,P=k.Promise,O=N(j)=="process",N=D(k,"queueMicrotask"),D=N&&N.value;D||(g=function(){var L,R;for(O&&(L=j.domain)&&L.exit();b;){R=b.fn,b=b.next;try{R()}catch(G){throw b?S():y=void 0,G}}y=void 0,L&&L.enter()},S=O?function(){j.nextTick(g)}:M&&!I?(A=!0,C=document.createTextNode(""),new M(g).observe(C,{characterData:!0}),function(){C.data=A=!A}):P&&P.resolve?(x=P.resolve(void 0),E=x.then,function(){E.call(x,g)}):function(){T.call(k,g)}),m.exports=D||function(L){L={fn:L,next:void 0},y&&(y.next=L),b||(b=L,S()),y=L}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(c,m,_){c=c("../internals/global"),m.exports=c.Promise},{"../internals/global":59}],83:[function(c,m,_){c=c("../internals/fails"),m.exports=!!Object.getOwnPropertySymbols&&!c(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(c,m,_){var g=c("../internals/fails"),b=c("../internals/well-known-symbol"),y=c("../internals/is-pure"),S=b("iterator");m.exports=!g(function(){var A=new URL("b?a=1&b=2&c=3","http://a"),C=A.searchParams,x="";return A.pathname="c%20d",C.forEach(function(E,k){C.delete("b"),x+=k+E}),y&&!A.toJSON||!C.sort||A.href!=="http://a/c%20d?a=1&c=3"||C.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!C[S]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||x!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(g,m,_){var b=g("../internals/global"),g=g("../internals/inspect-source"),b=b.WeakMap;m.exports=typeof b=="function"&&/native code/.test(g(b))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(c,m,_){function g(y){var S,A;this.promise=new y(function(C,x){if(S!==void 0||A!==void 0)throw TypeError("Bad Promise constructor");S=C,A=x}),this.resolve=b(S),this.reject=b(A)}var b=c("../internals/a-function");m.exports.f=function(y){return new g(y)}},{"../internals/a-function":5}],87:[function(c,m,_){var g=c("../internals/is-regexp");m.exports=function(b){if(g(b))throw TypeError("The method doesn't accept regular expressions");return b}},{"../internals/is-regexp":76}],88:[function(c,m,_){var g=c("../internals/global").isFinite;m.exports=Number.isFinite||function(b){return typeof b=="number"&&g(b)}},{"../internals/global":59}],89:[function(c,m,_){var g=c("../internals/descriptors"),b=c("../internals/fails"),y=c("../internals/object-keys"),S=c("../internals/object-get-own-property-symbols"),A=c("../internals/object-property-is-enumerable"),C=c("../internals/to-object"),x=c("../internals/indexed-object"),E=Object.assign,k=Object.defineProperty;m.exports=!E||b(function(){var T,I,M,j;return!(!g||E({b:1},E(k({},"a",{enumerable:!0,get:function(){k(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(I={},j="abcdefghijklmnopqrst",(T={})[M=Symbol()]=7,j.split("").forEach(function(P){I[P]=P}),E({},T)[M]!=7||y(E({},I)).join("")!=j)})?function(T,I){for(var M=C(T),j=arguments.length,P=1,O=S.f,N=A.f;P<j;)for(var D,L=x(arguments[P++]),R=O?y(L).concat(O(L)):y(L),G=R.length,Z=0;Z<G;)D=R[Z++],g&&!N.call(L,D)||(M[D]=L[D]);return M}:E},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(k,m,_){function g(){}var b,y=k("../internals/an-object"),S=k("../internals/object-define-properties"),A=k("../internals/enum-bug-keys"),C=k("../internals/hidden-keys"),x=k("../internals/html"),E=k("../internals/document-create-element"),k=k("../internals/shared-key"),T="prototype",I="script",M=k("IE_PROTO"),j=function(O){return"<"+I+">"+O+"</"+I+">"},P=function(){try{b=document.domain&&new ActiveXObject("htmlfile")}catch{}P=b?((O=b).write(j("")),O.close(),N=O.parentWindow.Object,O=null,N):(O=E("iframe"),N="java"+I+":",O.style.display="none",x.appendChild(O),O.src=String(N),(N=O.contentWindow.document).open(),N.write(j("document.F=Object")),N.close(),N.F);for(var O,N,D=A.length;D--;)delete P[T][A[D]];return P()};C[M]=!0,m.exports=Object.create||function(O,N){var D;return O!==null?(g[T]=y(O),D=new g,g[T]=null,D[M]=O):D=P(),N===void 0?D:S(D,N)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(c,m,_){var g=c("../internals/descriptors"),b=c("../internals/object-define-property"),y=c("../internals/an-object"),S=c("../internals/object-keys");m.exports=g?Object.defineProperties:function(A,C){y(A);for(var x,E=S(C),k=E.length,T=0;T<k;)b.f(A,x=E[T++],C[x]);return A}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(c,m,_){var g=c("../internals/descriptors"),b=c("../internals/ie8-dom-define"),y=c("../internals/an-object"),S=c("../internals/to-primitive"),A=Object.defineProperty;_.f=g?A:function(C,x,E){if(y(C),x=S(x,!0),y(E),b)try{return A(C,x,E)}catch{}if("get"in E||"set"in E)throw TypeError("Accessors not supported");return"value"in E&&(C[x]=E.value),C}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(c,m,_){var g=c("../internals/descriptors"),b=c("../internals/object-property-is-enumerable"),y=c("../internals/create-property-descriptor"),S=c("../internals/to-indexed-object"),A=c("../internals/to-primitive"),C=c("../internals/has"),x=c("../internals/ie8-dom-define"),E=Object.getOwnPropertyDescriptor;_.f=g?E:function(k,T){if(k=S(k),T=A(T,!0),x)try{return E(k,T)}catch{}if(C(k,T))return y(!b.f.call(k,T),k[T])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(c,m,_){var g=c("../internals/to-indexed-object"),b=c("../internals/object-get-own-property-names").f,y={}.toString,S=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];m.exports.f=function(A){if(!S||y.call(A)!="[object Window]")return b(g(A));try{return b(A)}catch{return S.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(c,m,_){var g=c("../internals/object-keys-internal"),b=c("../internals/enum-bug-keys").concat("length","prototype");_.f=Object.getOwnPropertyNames||function(y){return g(y,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(c,m,_){_.f=Object.getOwnPropertySymbols},{}],97:[function(S,m,_){var g=S("../internals/has"),b=S("../internals/to-object"),y=S("../internals/shared-key"),S=S("../internals/correct-prototype-getter"),A=y("IE_PROTO"),C=Object.prototype;m.exports=S?Object.getPrototypeOf:function(x){return x=b(x),g(x,A)?x[A]:typeof x.constructor=="function"&&x instanceof x.constructor?x.constructor.prototype:x instanceof Object?C:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(c,m,_){var g=c("../internals/has"),b=c("../internals/to-indexed-object"),y=c("../internals/array-includes").indexOf,S=c("../internals/hidden-keys");m.exports=function(A,C){var x,E=b(A),k=0,T=[];for(x in E)!g(S,x)&&g(E,x)&&T.push(x);for(;C.length>k;)!g(E,x=C[k++])||~y(T,x)||T.push(x);return T}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(c,m,_){var g=c("../internals/object-keys-internal"),b=c("../internals/enum-bug-keys");m.exports=Object.keys||function(y){return g(y,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(c,m,_){var g={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,y=b&&!g.call({1:2},1);_.f=y?function(S){return S=b(this,S),!!S&&S.enumerable}:g},{}],101:[function(c,m,_){var g=c("../internals/an-object"),b=c("../internals/a-possible-prototype");m.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var y,S=!1,A={};try{(y=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(A,[]),S=A instanceof Array}catch{}return function(C,x){return g(C),b(x),S?y.call(C,x):C.__proto__=x,C}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(c,m,_){var g=c("../internals/to-string-tag-support"),b=c("../internals/classof");m.exports=g?{}.toString:function(){return"[object "+b(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(c,m,_){var g=c("../internals/get-built-in"),b=c("../internals/object-get-own-property-names"),y=c("../internals/object-get-own-property-symbols"),S=c("../internals/an-object");m.exports=g("Reflect","ownKeys")||function(A){var C=b.f(S(A)),x=y.f;return x?C.concat(x(A)):C}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(c,m,_){c=c("../internals/global"),m.exports=c},{"../internals/global":59}],105:[function(c,m,_){m.exports=function(g){try{return{error:!1,value:g()}}catch(b){return{error:!0,value:b}}}},{}],106:[function(c,m,_){var g=c("../internals/an-object"),b=c("../internals/is-object"),y=c("../internals/new-promise-capability");m.exports=function(S,A){return g(S),b(A)&&A.constructor===S?A:((0,(S=y.f(S)).resolve)(A),S.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(c,m,_){var g=c("../internals/redefine");m.exports=function(b,y,S){for(var A in y)g(b,A,y[A],S);return b}},{"../internals/redefine":108}],108:[function(C,m,_){var g=C("../internals/global"),b=C("../internals/create-non-enumerable-property"),y=C("../internals/has"),S=C("../internals/set-global"),A=C("../internals/inspect-source"),C=C("../internals/internal-state"),x=C.get,E=C.enforce,k=String(String).split("String");(m.exports=function(T,I,M,N){var P=!!N&&!!N.unsafe,O=!!N&&!!N.enumerable,N=!!N&&!!N.noTargetGet;typeof M=="function"&&(typeof I!="string"||y(M,"name")||b(M,"name",I),E(M).source=k.join(typeof I=="string"?I:"")),T===g?O?T[I]=M:S(I,M):(P?!N&&T[I]&&(O=!0):delete T[I],O?T[I]=M:b(T,I,M))})(Function.prototype,"toString",function(){return typeof this=="function"&&x(this).source||A(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(c,m,_){var g=c("./classof-raw"),b=c("./regexp-exec");m.exports=function(y,S){var A=y.exec;if(typeof A=="function"){if(A=A.call(y,S),typeof A!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return A}if(g(y)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return b.call(y,S)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(S,m,_){var g,b,y=S("./regexp-flags"),S=S("./regexp-sticky-helpers"),A=RegExp.prototype.exec,C=String.prototype.replace,x=A,E=(g=/a/,b=/b*/g,A.call(g,"a"),A.call(b,"a"),g.lastIndex!==0||b.lastIndex!==0),k=S.UNSUPPORTED_Y||S.BROKEN_CARET,T=/()??/.exec("")[1]!==void 0;m.exports=x=E||T||k?function(I){var M,j,P,O,N=this,D=k&&N.sticky,L=y.call(N),R=N.source,G=0,Z=I;return D&&((L=L.replace("y","")).indexOf("g")===-1&&(L+="g"),Z=String(I).slice(N.lastIndex),0<N.lastIndex&&(!N.multiline||N.multiline&&I[N.lastIndex-1]!==`
`)&&(R="(?: "+R+")",Z=" "+Z,G++),j=new RegExp("^(?:"+R+")",L)),T&&(j=new RegExp("^"+R+"$(?!\\s)",L)),E&&(M=N.lastIndex),P=A.call(D?j:N,Z),D?P?(P.input=P.input.slice(G),P[0]=P[0].slice(G),P.index=N.lastIndex,N.lastIndex+=P[0].length):N.lastIndex=0:E&&P&&(N.lastIndex=N.global?P.index+P[0].length:M),T&&P&&1<P.length&&C.call(P[0],j,function(){for(O=1;O<arguments.length-2;O++)arguments[O]===void 0&&(P[O]=void 0)}),P}:x},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(c,m,_){var g=c("../internals/an-object");m.exports=function(){var b=g(this),y="";return b.global&&(y+="g"),b.ignoreCase&&(y+="i"),b.multiline&&(y+="m"),b.dotAll&&(y+="s"),b.unicode&&(y+="u"),b.sticky&&(y+="y"),y}},{"../internals/an-object":10}],112:[function(c,m,_){c=c("./fails");function g(b,y){return RegExp(b,y)}_.UNSUPPORTED_Y=c(function(){var b=g("a","y");return b.lastIndex=2,b.exec("abcd")!=null}),_.BROKEN_CARET=c(function(){var b=g("^r","gy");return b.lastIndex=2,b.exec("str")!=null})},{"./fails":51}],113:[function(c,m,_){m.exports=function(g){if(g==null)throw TypeError("Can't call method on "+g);return g}},{}],114:[function(c,m,_){m.exports=Object.is||function(g,b){return g===b?g!==0||1/g==1/b:g!=g&&b!=b}},{}],115:[function(c,m,_){var g=c("../internals/global"),b=c("../internals/create-non-enumerable-property");m.exports=function(y,S){try{b(g,y,S)}catch{g[y]=S}return S}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(c,m,_){var g=c("../internals/get-built-in"),b=c("../internals/object-define-property"),y=c("../internals/well-known-symbol"),S=c("../internals/descriptors"),A=y("species");m.exports=function(x){var x=g(x),E=b.f;S&&x&&!x[A]&&E(x,A,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(c,m,_){var g=c("../internals/object-define-property").f,b=c("../internals/has"),y=c("../internals/well-known-symbol")("toStringTag");m.exports=function(S,A,C){S&&!b(S=C?S:S.prototype,y)&&g(S,y,{configurable:!0,value:A})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(c,m,_){var g=c("../internals/shared"),b=c("../internals/uid"),y=g("keys");m.exports=function(S){return y[S]||(y[S]=b(S))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(g,m,_){var y=g("../internals/global"),g=g("../internals/set-global"),b="__core-js_shared__",y=y[b]||g(b,{});m.exports=y},{"../internals/global":59,"../internals/set-global":115}],120:[function(c,m,_){var g=c("../internals/is-pure"),b=c("../internals/shared-store");(m.exports=function(y,S){return b[y]||(b[y]=S!==void 0?S:{})})("versions",[]).push({version:"3.6.5",mode:g?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(c,m,_){var g=c("../internals/an-object"),b=c("../internals/a-function"),y=c("../internals/well-known-symbol")("species");m.exports=function(C,A){var C=g(C).constructor;return C===void 0||(C=g(C)[y])==null?A:b(C)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(c,m,_){var g=c("../internals/fails");m.exports=function(b){return g(function(){var y=""[b]('"');return y!==y.toLowerCase()||3<y.split('"').length})}},{"../internals/fails":51}],123:[function(c,m,_){function g(S){return function(E,k){var x,E=String(y(E)),k=b(k),T=E.length;return k<0||T<=k?S?"":void 0:(x=E.charCodeAt(k))<55296||56319<x||k+1===T||(T=E.charCodeAt(k+1))<56320||57343<T?S?E.charAt(k):x:S?E.slice(k,k+2):T-56320+(x-55296<<10)+65536}}var b=c("../internals/to-integer"),y=c("../internals/require-object-coercible");m.exports={codeAt:g(!1),charAt:g(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(c,m,_){c=c("../internals/engine-user-agent"),m.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c)},{"../internals/engine-user-agent":47}],125:[function(c,m,_){function g(C){return function(T,j,M){var T=String(S(T)),I=T.length,M=M===void 0?" ":String(M),j=b(j);return j<=I||M==""?T:((I=y.call(M,A((j=j-I)/M.length))).length>j&&(I=I.slice(0,j)),C?T+I:I+T)}}var b=c("../internals/to-length"),y=c("../internals/string-repeat"),S=c("../internals/require-object-coercible"),A=Math.ceil;m.exports={start:g(!1),end:g(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(c,m,_){function g(P){return P+22+75*(P<26)}function b(P){var O,N=[],D=(P=function(ae){for(var H=[],ie=0,Y=ae.length;ie<Y;){var q,ne=ae.charCodeAt(ie++);55296<=ne&&ne<=56319&&ie<Y?(64512&(q=ae.charCodeAt(ie++)))==56320?H.push(((1023&ne)<<10)+(1023&q)+65536):(H.push(ne),ie--):H.push(ne)}return H}(P)).length,L=128,R=0,G=72;for(K=0;K<P.length;K++)(O=P[K])<128&&N.push(j(O));var Z=N.length,B=Z;for(Z&&N.push("-");B<D;){for(var J=y,K=0;K<P.length;K++)L<=(O=P[K])&&O<J&&(J=O);var ee=B+1;if(J-L>M((y-R)/ee))throw RangeError(T);for(R+=(J-L)*ee,L=J,K=0;K<P.length;K++){if((O=P[K])<L&&++R>y)throw RangeError(T);if(O==L){for(var V=R,z=S;;z+=S){var X=z<=G?1:G+A<=z?A:z-G;if(V<X)break;var U=V-X,$=S-X;N.push(j(g(X+U%$))),V=M(U/$)}N.push(j(g(V))),G=function(ae,H,ie){var Y=0;for(ae=ie?M(ae/x):ae>>1,ae+=M(ae/H);I*A>>1<ae;Y+=S)ae=M(ae/I);return M(Y+(I+1)*ae/(ae+C))}(R,ee,B==Z),R=0,++B}}++R,++L}return N.join("")}var y=2147483647,S=36,A=26,C=38,x=700,E=/[^\0-\u007E]/,k=/[.\u3002\uFF0E\uFF61]/g,T="Overflow: input needs wider integers to process",I=S-1,M=Math.floor,j=String.fromCharCode;m.exports=function(P){for(var O,N=[],D=P.toLowerCase().replace(k,".").split("."),L=0;L<D.length;L++)O=D[L],N.push(E.test(O)?"xn--"+b(O):O);return N.join(".")}},{}],127:[function(c,m,_){var g=c("../internals/to-integer"),b=c("../internals/require-object-coercible");m.exports="".repeat||function(y){var S=String(b(this)),A="",C=g(y);if(C<0||C==1/0)throw RangeError("Wrong number of repetitions");for(;0<C;(C>>>=1)&&(S+=S))1&C&&(A+=S);return A}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(c,m,_){var g=c("../internals/fails"),b=c("../internals/whitespaces");m.exports=function(y){return g(function(){return!!b[y]()||""[y]()!=""||b[y].name!==y})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(y,m,_){function g(C){return function(x){return x=String(b(x)),1&C&&(x=x.replace(S,"")),x=2&C?x.replace(A,""):x}}var b=y("../internals/require-object-coercible"),y="["+y("../internals/whitespaces")+"]",S=RegExp("^"+y+y+"*"),A=RegExp(y+y+"*$");m.exports={start:g(1),end:g(2),trim:g(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(I,m,_){function g(B){return function(){Z(B)}}function b(B){Z(B.data)}function y(B){A.postMessage(B+"",M.protocol+"//"+M.host)}var S,A=I("../internals/global"),C=I("../internals/fails"),x=I("../internals/classof-raw"),E=I("../internals/function-bind-context"),k=I("../internals/html"),T=I("../internals/document-create-element"),I=I("../internals/engine-is-ios"),M=A.location,j=A.setImmediate,P=A.clearImmediate,O=A.process,N=A.MessageChannel,D=A.Dispatch,L=0,R={},G="onreadystatechange",Z=function(B){var J;R.hasOwnProperty(B)&&(J=R[B],delete R[B],J())};j&&P||(j=function(B){for(var J=[],K=1;K<arguments.length;)J.push(arguments[K++]);return R[++L]=function(){(typeof B=="function"?B:Function(B)).apply(void 0,J)},S(L),L},P=function(B){delete R[B]},x(O)=="process"?S=function(B){O.nextTick(g(B))}:D&&D.now?S=function(B){D.now(g(B))}:N&&!I?(I=(x=new N).port2,x.port1.onmessage=b,S=E(I.postMessage,I,1)):!A.addEventListener||typeof postMessage!="function"||A.importScripts||C(y)||M.protocol==="file:"?S=G in T("script")?function(B){k.appendChild(T("script"))[G]=function(){k.removeChild(this),Z(B)}}:function(B){setTimeout(g(B),0)}:(S=y,A.addEventListener("message",b,!1))),m.exports={set:j,clear:P}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(c,m,_){var g=c("../internals/classof-raw");m.exports=function(b){if(typeof b!="number"&&g(b)!="Number")throw TypeError("Incorrect invocation");return+b}},{"../internals/classof-raw":28}],132:[function(c,m,_){var g=c("../internals/to-integer"),b=Math.max,y=Math.min;m.exports=function(S,A){return S=g(S),S<0?b(S+A,0):y(S,A)}},{"../internals/to-integer":135}],133:[function(c,m,_){var g=c("../internals/to-integer"),b=c("../internals/to-length");m.exports=function(S){if(S===void 0)return 0;var S=g(S),A=b(S);if(S!==A)throw RangeError("Wrong length or index");return A}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(c,m,_){var g=c("../internals/indexed-object"),b=c("../internals/require-object-coercible");m.exports=function(y){return g(b(y))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(c,m,_){var g=Math.ceil,b=Math.floor;m.exports=function(y){return isNaN(y=+y)?0:(0<y?b:g)(y)}},{}],136:[function(c,m,_){var g=c("../internals/to-integer"),b=Math.min;m.exports=function(y){return 0<y?b(g(y),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(c,m,_){var g=c("../internals/require-object-coercible");m.exports=function(b){return Object(g(b))}},{"../internals/require-object-coercible":113}],138:[function(c,m,_){var g=c("../internals/to-positive-integer");m.exports=function(b,y){if(b=g(b),b%y)throw RangeError("Wrong offset");return b}},{"../internals/to-positive-integer":139}],139:[function(c,m,_){var g=c("../internals/to-integer");m.exports=function(b){if(b=g(b),b<0)throw RangeError("The argument can't be less than 0");return b}},{"../internals/to-integer":135}],140:[function(c,m,_){var g=c("../internals/is-object");m.exports=function(b,y){if(!g(b))return b;var S,A;if(y&&typeof(S=b.toString)=="function"&&!g(A=S.call(b))||typeof(S=b.valueOf)=="function"&&!g(A=S.call(b))||!y&&typeof(S=b.toString)=="function"&&!g(A=S.call(b)))return A;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(c,m,_){var g={};g[c("../internals/well-known-symbol")("toStringTag")]="z",m.exports=String(g)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(c,m,_){function g(se,ce){for(var ue=0,ve=ce.length,Se=new(me(se))(ve);ue<ve;)Se[ue]=ce[ue++];return Se}function b(se,ce){q(se,ce,{get:function(){return ie(this)[ce]}})}function y(se){return se instanceof de||(se=Z(se))=="ArrayBuffer"||se=="SharedArrayBuffer"}function S(se,ce){return _e(se)&&typeof ce!="symbol"&&ce in se&&String(+ce)==String(ce)}function A(se,ce){return S(se,ce=R(ce,!0))?P(2,se[ce]):ne(se,ce)}function C(se,ce,ue){return!(S(se,ce=R(ce,!0))&&B(ue)&&G(ue,"value"))||G(ue,"get")||G(ue,"set")||ue.configurable||G(ue,"writable")&&!ue.writable||G(ue,"enumerable")&&!ue.enumerable?q(se,ce,ue):(se[ce]=ue.value,se)}var x=c("../internals/export"),E=c("../internals/global"),k=c("../internals/descriptors"),T=c("../internals/typed-array-constructors-require-wrappers"),I=c("../internals/array-buffer-view-core"),M=c("../internals/array-buffer"),j=c("../internals/an-instance"),P=c("../internals/create-property-descriptor"),O=c("../internals/create-non-enumerable-property"),N=c("../internals/to-length"),D=c("../internals/to-index"),L=c("../internals/to-offset"),R=c("../internals/to-primitive"),G=c("../internals/has"),Z=c("../internals/classof"),B=c("../internals/is-object"),J=c("../internals/object-create"),K=c("../internals/object-set-prototype-of"),ee=c("../internals/object-get-own-property-names").f,V=c("../internals/typed-array-from"),z=c("../internals/array-iteration").forEach,X=c("../internals/set-species"),U=c("../internals/object-define-property"),$=c("../internals/object-get-own-property-descriptor"),ae=c("../internals/internal-state"),H=c("../internals/inherit-if-required"),ie=ae.get,Y=ae.set,q=U.f,ne=$.f,oe=Math.round,he=E.RangeError,de=M.ArrayBuffer,xe=M.DataView,Ce=I.NATIVE_ARRAY_BUFFER_VIEWS,ge=I.TYPED_ARRAY_TAG,Ae=I.TypedArray,we=I.TypedArrayPrototype,me=I.aTypedArrayConstructor,_e=I.isTypedArray,Me="BYTES_PER_ELEMENT",De="Wrong length";k?(Ce||($.f=A,U.f=C,b(we,"buffer"),b(we,"byteOffset"),b(we,"byteLength"),b(we,"length")),x({target:"Object",stat:!0,forced:!Ce},{getOwnPropertyDescriptor:A,defineProperty:C}),m.exports=function(Re,ce,ue){function ve(Ge,be){q(Ge,be,{get:function(){var ke=this,ye=be;return(ke=ie(ke)).view[Be](ye*Se+ke.byteOffset,!0)},set:function(ke){var ye=this,Te=be;ye=ie(ye),ue&&(ke=(ke=oe(ke))<0?0:255<ke?255:255&ke),ye.view[$e](Te*Se+ye.byteOffset,ke,!0)},enumerable:!0})}var Se=Re.match(/\d+$/)[0]/8,Ie=Re+(ue?"Clamped":"")+"Array",Be="get"+Re,$e="set"+Re,Ke=E[Ie],Qe=Ke,Re=Qe&&Qe.prototype,He={};Ce?T&&(Qe=ce(function(Ge,be,ke,ye){return j(Ge,Qe,Ie),H(B(be)?y(be)?ye!==void 0?new Ke(be,L(ke,Se),ye):ke!==void 0?new Ke(be,L(ke,Se)):new Ke(be):_e(be)?g(Qe,be):V.call(Qe,be):new Ke(D(be)),Ge,Qe)}),K&&K(Qe,Ae),z(ee(Ke),function(Ge){Ge in Qe||O(Qe,Ge,Ke[Ge])}),Qe.prototype=Re):(Qe=ce(function(Ge,be,ke,ye){j(Ge,Qe,Ie);var Te,Le,Ue=0,Xe=0;if(B(be)){if(!y(be))return _e(be)?g(Qe,be):V.call(Qe,be);var rt=be,Xe=L(ke,Se),ke=be.byteLength;if(ye===void 0){if(ke%Se||(Te=ke-Xe)<0)throw he(De)}else if(ke<(Te=N(ye)*Se)+Xe)throw he(De);Le=Te/Se}else Le=D(be),rt=new de(Te=Le*Se);for(Y(Ge,{buffer:rt,byteOffset:Xe,byteLength:Te,length:Le,view:new xe(rt)});Ue<Le;)ve(Ge,Ue++)}),K&&K(Qe,Ae),Re=Qe.prototype=J(we)),Re.constructor!==Qe&&O(Re,"constructor",Qe),ge&&O(Re,ge,Ie),He[Ie]=Qe,x({global:!0,forced:Qe!=Ke,sham:!Ce},He),Me in Qe||O(Qe,Me,Se),Me in Re||O(Re,Me,Se),X(Ie)}):m.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(S,m,_){var g=S("../internals/global"),b=S("../internals/fails"),y=S("../internals/check-correctness-of-iteration"),S=S("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,A=g.ArrayBuffer,C=g.Int8Array;m.exports=!S||!b(function(){C(1)})||!b(function(){new C(-1)})||!y(function(x){new C,new C(null),new C(1.5),new C(x)},!0)||b(function(){return new C(new A(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(c,m,_){var g=c("../internals/to-object"),b=c("../internals/to-length"),y=c("../internals/get-iterator-method"),S=c("../internals/is-array-iterator-method"),A=c("../internals/function-bind-context"),C=c("../internals/array-buffer-view-core").aTypedArrayConstructor;m.exports=function(x){var E,k,T,I,M,j,P=g(x),O=arguments.length,N=1<O?arguments[1]:void 0,D=N!==void 0,L=y(P);if(L!=null&&!S(L))for(j=(M=L.call(P)).next,P=[];!(I=j.call(M)).done;)P.push(I.value);for(D&&2<O&&(N=A(N,arguments[2],2)),k=b(P.length),T=new(C(this))(k),E=0;E<k;E++)T[E]=D?N(P[E],E):P[E];return T}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(c,m,_){var g=0,b=Math.random();m.exports=function(y){return"Symbol("+String(y===void 0?"":y)+")_"+(++g+b).toString(36)}},{}],146:[function(c,m,_){c=c("../internals/native-symbol"),m.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(c,m,_){c=c("../internals/well-known-symbol"),_.f=c},{"../internals/well-known-symbol":148}],148:[function(C,m,_){var g=C("../internals/global"),b=C("../internals/shared"),y=C("../internals/has"),S=C("../internals/uid"),A=C("../internals/native-symbol"),C=C("../internals/use-symbol-as-uid"),x=b("wks"),E=g.Symbol,k=C?E:E&&E.withoutSetter||S;m.exports=function(T){return y(x,T)||(A&&y(E,T)?x[T]=E[T]:x[T]=k("Symbol."+T)),x[T]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(c,m,_){m.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],150:[function(y,m,_){var g=y("../internals/export"),b=y("../internals/global"),A=y("../internals/array-buffer"),y=y("../internals/set-species"),S="ArrayBuffer",A=A[S];g({global:!0,forced:b[S]!==A},{ArrayBuffer:A}),y(S)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(P,m,_){var g=P("../internals/export"),b=P("../internals/fails"),y=P("../internals/is-array"),S=P("../internals/is-object"),A=P("../internals/to-object"),C=P("../internals/to-length"),x=P("../internals/create-property"),E=P("../internals/array-species-create"),k=P("../internals/array-method-has-species-support"),j=P("../internals/well-known-symbol"),P=P("../internals/engine-v8-version"),T=j("isConcatSpreadable"),I=9007199254740991,M="Maximum allowed index exceeded",j=51<=P||!b(function(){var O=[];return O[T]=!1,O.concat()[0]!==O}),P=k("concat");g({target:"Array",proto:!0,forced:!j||!P},{concat:function(O){for(var N,D,L,R,G,Z=A(this),B=E(Z,0),J=0,K=-1,ee=arguments.length;K<ee;K++)if(G=void 0,!S(R=L=K===-1?Z:arguments[K])||((G=R[T])!==void 0?!G:!y(R))){if(I<=J)throw TypeError(M);x(B,J++,L)}else{if(D=C(L.length),I<J+D)throw TypeError(M);for(N=0;N<D;N++,J++)N in L&&x(B,J,L[N])}return B.length=J,B}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(y,m,_){var g=y("../internals/export"),b=y("../internals/array-copy-within"),y=y("../internals/add-to-unscopables");g({target:"Array",proto:!0},{copyWithin:b}),y("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(S,m,_){var g=S("../internals/export"),b=S("../internals/array-iteration").every,y=S("../internals/array-method-is-strict"),S=S("../internals/array-method-uses-to-length"),y=y("every"),S=S("every");g({target:"Array",proto:!0,forced:!y||!S},{every:function(A){return b(this,A,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(y,m,_){var g=y("../internals/export"),b=y("../internals/array-fill"),y=y("../internals/add-to-unscopables");g({target:"Array",proto:!0},{fill:b}),y("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(S,m,_){var g=S("../internals/export"),b=S("../internals/array-iteration").filter,y=S("../internals/array-method-has-species-support"),S=S("../internals/array-method-uses-to-length"),y=y("filter"),S=S("filter");g({target:"Array",proto:!0,forced:!y||!S},{filter:function(A){return b(this,A,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(C,m,_){var g=C("../internals/export"),b=C("../internals/array-iteration").findIndex,y=C("../internals/add-to-unscopables"),C=C("../internals/array-method-uses-to-length"),S="findIndex",A=!0,C=C(S);S in[]&&Array(1)[S](function(){A=!1}),g({target:"Array",proto:!0,forced:A||!C},{findIndex:function(x){return b(this,x,1<arguments.length?arguments[1]:void 0)}}),y(S)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(b,m,_){var g=b("../internals/export"),b=b("../internals/array-for-each");g({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},{"../internals/array-for-each":16,"../internals/export":50}],158:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/array-from");g({target:"Array",stat:!0,forced:!c("../internals/check-correctness-of-iteration")(function(y){Array.from(y)})},{from:b})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],159:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/array-includes").includes,y=c("../internals/add-to-unscopables");g({target:"Array",proto:!0,forced:!c("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(S){return b(this,S,1<arguments.length?arguments[1]:void 0)}}),y("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(C,m,_){var g=C("../internals/export"),b=C("../internals/array-includes").indexOf,A=C("../internals/array-method-is-strict"),C=C("../internals/array-method-uses-to-length"),y=[].indexOf,S=!!y&&1/[1].indexOf(1,-0)<0,A=A("indexOf"),C=C("indexOf",{ACCESSORS:!0,1:0});g({target:"Array",proto:!0,forced:S||!A||!C},{indexOf:function(x){return S?y.apply(this,arguments)||0:b(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],161:[function(A,m,_){var g=A("../internals/to-indexed-object"),b=A("../internals/add-to-unscopables"),y=A("../internals/iterators"),S=A("../internals/internal-state"),A=A("../internals/define-iterator"),C="Array Iterator",x=S.set,E=S.getterFor(C);m.exports=A(Array,"Array",function(k,T){x(this,{type:C,target:g(k),index:0,kind:T})},function(){var k=E(this),T=k.target,I=k.kind,M=k.index++;return!T||M>=T.length?{value:k.target=void 0,done:!0}:I=="keys"?{value:M,done:!1}:I=="values"?{value:T[M],done:!1}:{value:[M,T[M]],done:!1}},"values"),y.Arguments=y.Array,b("keys"),b("values"),b("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],162:[function(A,m,_){var g=A("../internals/export"),S=A("../internals/indexed-object"),b=A("../internals/to-indexed-object"),A=A("../internals/array-method-is-strict"),y=[].join,S=S!=Object,A=A("join",",");g({target:"Array",proto:!0,forced:S||!A},{join:function(C){return y.call(b(this),C===void 0?",":C)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],163:[function(b,m,_){var g=b("../internals/export"),b=b("../internals/array-last-index-of");g({target:"Array",proto:!0,forced:b!==[].lastIndexOf},{lastIndexOf:b})},{"../internals/array-last-index-of":20,"../internals/export":50}],164:[function(S,m,_){var g=S("../internals/export"),b=S("../internals/array-iteration").map,y=S("../internals/array-method-has-species-support"),S=S("../internals/array-method-uses-to-length"),y=y("map"),S=S("map");g({target:"Array",proto:!0,forced:!y||!S},{map:function(A){return b(this,A,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(T,m,_){var g=T("../internals/export"),b=T("../internals/is-object"),y=T("../internals/is-array"),S=T("../internals/to-absolute-index"),A=T("../internals/to-length"),C=T("../internals/to-indexed-object"),x=T("../internals/create-property"),E=T("../internals/well-known-symbol"),k=T("../internals/array-method-has-species-support"),T=T("../internals/array-method-uses-to-length"),k=k("slice"),T=T("slice",{ACCESSORS:!0,0:0,1:2}),I=E("species"),M=[].slice,j=Math.max;g({target:"Array",proto:!0,forced:!k||!T},{slice:function(P,O){var N,D,L,R=C(this),G=A(R.length),Z=S(P,G),B=S(O===void 0?G:O,G);if(y(R)&&((N=typeof(N=R.constructor)=="function"&&(N===Array||y(N.prototype))||b(N)&&(N=N[I])===null?void 0:N)===Array||N===void 0))return M.call(R,Z,B);for(D=new(N===void 0?Array:N)(j(B-Z,0)),L=0;Z<B;Z++,L++)Z in R&&x(D,L,R[Z]);return D.length=L,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],166:[function(S,m,_){var g=S("../internals/export"),b=S("../internals/array-iteration").some,y=S("../internals/array-method-is-strict"),S=S("../internals/array-method-uses-to-length"),y=y("some"),S=S("some");g({target:"Array",proto:!0,forced:!y||!S},{some:function(A){return b(this,A,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],167:[function(k,m,_){var g=k("../internals/export"),b=k("../internals/to-absolute-index"),y=k("../internals/to-integer"),S=k("../internals/to-length"),A=k("../internals/to-object"),C=k("../internals/array-species-create"),x=k("../internals/create-property"),E=k("../internals/array-method-has-species-support"),k=k("../internals/array-method-uses-to-length"),E=E("splice"),k=k("splice",{ACCESSORS:!0,0:0,1:2}),T=Math.max,I=Math.min;g({target:"Array",proto:!0,forced:!E||!k},{splice:function(J,j){var P,O,N,D,L,R,G=A(this),Z=S(G.length),B=b(J,Z),J=arguments.length;if(J===0?P=O=0:O=J===1?(P=0,Z-B):(P=J-2,I(T(y(j),0),Z-B)),9007199254740991<Z+P-O)throw TypeError("Maximum allowed length exceeded");for(N=C(G,O),D=0;D<O;D++)(L=B+D)in G&&x(N,D,G[L]);if(P<(N.length=O)){for(D=B;D<Z-O;D++)R=D+P,(L=D+O)in G?G[R]=G[L]:delete G[R];for(D=Z;Z-O+P<D;D--)delete G[D-1]}else if(O<P)for(D=Z-O;B<D;D--)R=D+P-1,(L=D+O-1)in G?G[R]=G[L]:delete G[R];for(D=0;D<P;D++)G[D+B]=arguments[D+2];return G.length=Z-O+P,N}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],168:[function(b,m,_){var g=b("../internals/descriptors"),b=b("../internals/object-define-property").f,y=Function.prototype,S=y.toString,A=/^\s*function ([^ (]*)/;!g||"name"in y||b(y,"name",{configurable:!0,get:function(){try{return S.call(this).match(A)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],169:[function(b,m,_){var g=b("../internals/collection"),b=b("../internals/collection-strong");m.exports=g("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],170:[function(g,m,_){var g=g("../internals/export"),b=Math.hypot,y=Math.abs,S=Math.sqrt;g({target:"Math",stat:!0,forced:!!b&&b(1/0,NaN)!==1/0},{hypot:function(A,C){for(var x,E,k=0,T=0,I=arguments.length,M=0;T<I;)M<(x=y(arguments[T++]))?(k=k*(E=M/x)*E+1,M=x):k+=0<x?(E=x/M)*E:x;return M===1/0?1/0:M*S(k)}})},{"../internals/export":50}],171:[function(g,m,_){var g=g("../internals/export"),b=Math.log,y=Math.LN2;g({target:"Math",stat:!0},{log2:function(S){return b(S)/y}})},{"../internals/export":50}],172:[function(c,m,_){c("../internals/export")({target:"Math",stat:!0},{sign:c("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],173:[function(c,m,_){function g(K){var ee,V,z,X,U,$,ae,H=k(K,!1);if(typeof H=="string"&&2<H.length){if((K=(H=O(H)).charCodeAt(0))===43||K===45){if((ee=H.charCodeAt(2))===88||ee===120)return NaN}else if(K===48){switch(H.charCodeAt(1)){case 66:case 98:V=2,z=49;break;case 79:case 111:V=8,z=55;break;default:return+H}for(U=(X=H.slice(2)).length,$=0;$<U;$++)if((ae=X.charCodeAt($))<48||z<ae)return NaN;return parseInt(X,V)}}return+H}var b=c("../internals/descriptors"),y=c("../internals/global"),S=c("../internals/is-forced"),A=c("../internals/redefine"),C=c("../internals/has"),x=c("../internals/classof-raw"),E=c("../internals/inherit-if-required"),k=c("../internals/to-primitive"),T=c("../internals/fails"),I=c("../internals/object-create"),M=c("../internals/object-get-own-property-names").f,j=c("../internals/object-get-own-property-descriptor").f,P=c("../internals/object-define-property").f,O=c("../internals/string-trim").trim,N="Number",D=y[N],L=D.prototype,R=x(I(L))==N;if(S(N,!D(" 0o1")||!D("0b1")||D("+0x1"))){for(var G,Z=function(ee){var ee=arguments.length<1?0:ee,V=this;return V instanceof Z&&(R?T(function(){L.valueOf.call(V)}):x(V)!=N)?E(new D(g(ee)),V,Z):g(ee)},B=b?M(D):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),J=0;B.length>J;J++)C(D,G=B[J])&&!C(Z,G)&&P(Z,G,j(D,G));(Z.prototype=L).constructor=Z,A(y,N,Z)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],174:[function(c,m,_){c("../internals/export")({target:"Number",stat:!0},{isFinite:c("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],175:[function(C,m,_){function g(k,T,I){return T===0?I:T%2==1?g(k,T-1,I*k):g(k*k,T/2,I)}var b=C("../internals/export"),y=C("../internals/to-integer"),S=C("../internals/this-number-value"),A=C("../internals/string-repeat"),C=C("../internals/fails"),x=1 .toFixed,E=Math.floor;b({target:"Number",proto:!0,forced:x&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!C(function(){x.call({})})},{toFixed:function(N){function T(G,Z){for(var B=-1,J=Z;++B<6;)J+=G*D[B],D[B]=J%1e7,J=E(J/1e7)}function I(G){for(var Z=6,B=0;0<=--Z;)B+=D[Z],D[Z]=E(B/G),B=B%G*1e7}function M(){for(var G,Z=6,B="";0<=--Z;)B===""&&Z!==0&&D[Z]===0||(G=String(D[Z]),B=B===""?G:B+A.call("0",7-G.length)+G);return B}var j,P,O=S(this),N=y(N),D=[0,0,0,0,0,0],L="",R="0";if(N<0||20<N)throw RangeError("Incorrect fraction digits");if(O!=O)return"NaN";if(O<=-1e21||1e21<=O)return String(O);if(O<0&&(L="-",O=-O),1e-21<O)if(O=(j=function(G){for(var Z=0,B=G;4096<=B;)Z+=12,B/=4096;for(;2<=B;)Z+=1,B/=2;return Z}(O*g(2,69,1))-69)<0?O*g(2,-j,1):O/g(2,j,1),O*=4503599627370496,0<(j=52-j)){for(T(0,O),P=N;7<=P;)T(1e7,0),P-=7;for(T(g(10,P,1),0),P=j-1;23<=P;)I(1<<23),P-=23;I(1<<P),T(1,1),I(2),R=M()}else T(0,O),T(1<<-j,0),R=M()+A.call("0",N);return R=0<N?L+((O=R.length)<=N?"0."+A.call("0",N-O)+R:R.slice(0,O-N)+"."+R.slice(O-N)):L+R}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],176:[function(b,m,_){var g=b("../internals/export"),b=b("../internals/object-assign");g({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},{"../internals/export":50,"../internals/object-assign":89}],177:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/iterate"),y=c("../internals/create-property");g({target:"Object",stat:!0},{fromEntries:function(S){var A={};return b(S,function(C,x){y(A,C,x)},void 0,!0),A}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],178:[function(S,m,_){var g=S("../internals/export"),A=S("../internals/fails"),b=S("../internals/to-indexed-object"),y=S("../internals/object-get-own-property-descriptor").f,S=S("../internals/descriptors"),A=A(function(){y(1)});g({target:"Object",stat:!0,forced:!S||A,sham:!S},{getOwnPropertyDescriptor:function(C,x){return y(b(C),x)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],179:[function(y,m,_){var g=y("../internals/export"),b=y("../internals/fails"),y=y("../internals/object-get-own-property-names-external").f;g({target:"Object",stat:!0,forced:b(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:y})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],180:[function(A,m,_){var g=A("../internals/export"),b=A("../internals/fails"),y=A("../internals/to-object"),S=A("../internals/object-get-prototype-of"),A=A("../internals/correct-prototype-getter");g({target:"Object",stat:!0,forced:b(function(){S(1)}),sham:!A},{getPrototypeOf:function(C){return S(y(C))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],181:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/to-object"),y=c("../internals/object-keys");g({target:"Object",stat:!0,forced:c("../internals/fails")(function(){y(1)})},{keys:function(S){return y(b(S))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],182:[function(y,m,_){var g=y("../internals/to-string-tag-support"),b=y("../internals/redefine"),y=y("../internals/object-to-string");g||b(Object.prototype,"toString",y,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],183:[function(ue,m,_){var g,b,y,S,A=ue("../internals/export"),C=ue("../internals/is-pure"),x=ue("../internals/global"),E=ue("../internals/get-built-in"),k=ue("../internals/native-promise-constructor"),T=ue("../internals/redefine"),I=ue("../internals/redefine-all"),M=ue("../internals/set-to-string-tag"),j=ue("../internals/set-species"),P=ue("../internals/is-object"),O=ue("../internals/a-function"),N=ue("../internals/an-instance"),D=ue("../internals/classof-raw"),L=ue("../internals/inspect-source"),R=ue("../internals/iterate"),G=ue("../internals/check-correctness-of-iteration"),Z=ue("../internals/species-constructor"),B=ue("../internals/task").set,J=ue("../internals/microtask"),K=ue("../internals/promise-resolve"),ee=ue("../internals/host-report-errors"),V=ue("../internals/new-promise-capability"),z=ue("../internals/perform"),X=ue("../internals/internal-state"),U=ue("../internals/is-forced"),ve=ue("../internals/well-known-symbol"),$=ue("../internals/engine-v8-version"),ae=ve("species"),H="Promise",ie=X.get,Y=X.set,q=X.getterFor(H),ne=k,oe=x.TypeError,he=x.document,de=x.process,xe=E("fetch"),Ce=V.f,ge=Ce,Ae=D(de)=="process",we=!!(he&&he.createEvent&&x.dispatchEvent),me="unhandledrejection",_e="rejectionhandled",Me=1,De=2,se=1,ce=2,ue=U(H,function(){var He,Ge;return L(ne)===String(ne)&&($===66||!Ae&&typeof PromiseRejectionEvent!="function")?!0:!(!C||ne.prototype.finally)||!(51<=$&&/native code/.test(ne))&&(Ge=function(be){be(function(){},function(){})},((He=ne.resolve(1)).constructor={})[ae]=Ge,!(He.then(function(){})instanceof Ge))}),ve=ue||!G(function(He){ne.all(He).catch(function(){})}),Se=function(He){var Ge;return!(!P(He)||typeof(Ge=He.then)!="function")&&Ge},Ie=function(He,Ge,be){var ke;Ge.notified||(Ge.notified=!0,ke=Ge.reactions,J(function(){for(var ye,Te,Le=Ge.value,Ue=Ge.state==Me,Xe=0;ke.length>Xe;){var rt,st,it,ot=ke[Xe++],vt=Ue?ot.ok:ot.fail,yt=ot.resolve,ut=ot.reject,gt=ot.domain;try{vt?(Ue||(Ge.rejection===ce&&function(mt,jt){B.call(x,function(){Ae?de.emit("rejectionHandled",mt):Be(_e,mt,jt.value)})}(He,Ge),Ge.rejection=se),vt===!0?rt=Le:(gt&&gt.enter(),rt=vt(Le),gt&&(gt.exit(),it=!0)),rt===ot.promise?ut(oe("Promise-chain cycle")):(st=Se(rt))?st.call(rt,yt,ut):yt(rt)):ut(Le)}catch(mt){gt&&!it&&gt.exit(),ut(mt)}}Ge.reactions=[],Ge.notified=!1,be&&!Ge.rejection&&(ye=He,Te=Ge,B.call(x,function(){var mt=Te.value,jt=$e(Te);if(jt&&(jt=z(function(){Ae?de.emit("unhandledRejection",mt,ye):Be(me,ye,mt)}),Te.rejection=Ae||$e(Te)?ce:se,jt.error))throw jt.value}))}))},Be=function(He,Ge,be){var ke;we?((ke=he.createEvent("Event")).promise=Ge,ke.reason=be,ke.initEvent(He,!1,!0),x.dispatchEvent(ke)):ke={promise:Ge,reason:be},(Ge=x["on"+He])?Ge(ke):He===me&&ee("Unhandled promise rejection",be)},$e=function(He){return He.rejection!==se&&!He.parent},Ke=function(He,Ge,be,ke){return function(ye){He(Ge,be,ye,ke)}},Qe=function(He,Ge,be,ke){Ge.done||(Ge.done=!0,(Ge=ke||Ge).value=be,Ge.state=De,Ie(He,Ge,!0))},Re=function(He,Ge,be,ke){if(!Ge.done){Ge.done=!0,ke&&(Ge=ke);try{if(He===be)throw oe("Promise can't be resolved itself");var ye=Se(be);ye?J(function(){var Te={done:!1};try{ye.call(be,Ke(Re,He,Te,Ge),Ke(Qe,He,Te,Ge))}catch(Le){Qe(He,Te,Le,Ge)}}):(Ge.value=be,Ge.state=Me,Ie(He,Ge,!1))}catch(Te){Qe(He,{done:!1},Te,Ge)}}};ue&&(ne=function(He){N(this,ne,H),O(He),g.call(this);var Ge=ie(this);try{He(Ke(Re,this,Ge),Ke(Qe,this,Ge))}catch(be){Qe(this,Ge,be)}},(g=function(He){Y(this,{type:H,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=I(ne.prototype,{then:function(He,Ge){var be=q(this),ke=Ce(Z(this,ne));return ke.ok=typeof He!="function"||He,ke.fail=typeof Ge=="function"&&Ge,ke.domain=Ae?de.domain:void 0,be.parent=!0,be.reactions.push(ke),be.state!=0&&Ie(this,be,!1),ke.promise},catch:function(He){return this.then(void 0,He)}}),b=function(){var He=new g,Ge=ie(He);this.promise=He,this.resolve=Ke(Re,He,Ge),this.reject=Ke(Qe,He,Ge)},V.f=Ce=function(He){return He===ne||He===y?new b:ge(He)},C||typeof k!="function"||(S=k.prototype.then,T(k.prototype,"then",function(He,Ge){var be=this;return new ne(function(ke,ye){S.call(be,ke,ye)}).then(He,Ge)},{unsafe:!0}),typeof xe=="function"&&A({global:!0,enumerable:!0,forced:!0},{fetch:function(He){return K(ne,xe.apply(x,arguments))}}))),A({global:!0,wrap:!0,forced:ue},{Promise:ne}),M(ne,H,!1,!0),j(H),y=E(H),A({target:H,stat:!0,forced:ue},{reject:function(He){var Ge=Ce(this);return Ge.reject.call(void 0,He),Ge.promise}}),A({target:H,stat:!0,forced:C||ue},{resolve:function(He){return K(C&&this===y?ne:this,He)}}),A({target:H,stat:!0,forced:ve},{all:function(He){var Ge=this,be=Ce(Ge),ke=be.resolve,ye=be.reject,Te=z(function(){var Le=O(Ge.resolve),Ue=[],Xe=0,rt=1;R(He,function(st){var it=Xe++,ot=!1;Ue.push(void 0),rt++,Le.call(Ge,st).then(function(vt){ot||(ot=!0,Ue[it]=vt,--rt||ke(Ue))},ye)}),--rt||ke(Ue)});return Te.error&&ye(Te.value),be.promise},race:function(He){var Ge=this,be=Ce(Ge),ke=be.reject,ye=z(function(){var Te=O(Ge.resolve);R(He,function(Le){Te.call(Ge,Le).then(be.resolve,ke)})});return ye.error&&ke(ye.value),be.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],184:[function(x,m,_){var g=x("../internals/export"),I=x("../internals/get-built-in"),b=x("../internals/a-function"),y=x("../internals/an-object"),S=x("../internals/is-object"),A=x("../internals/object-create"),C=x("../internals/function-bind"),x=x("../internals/fails"),E=I("Reflect","construct"),k=x(function(){function M(){}return!(E(function(){},[],M)instanceof M)}),T=!x(function(){E(function(){})}),I=k||T;g({target:"Reflect",stat:!0,forced:I,sham:I},{construct:function(M,j){b(M),y(j);var P=arguments.length<3?M:b(arguments[2]);if(T&&!k)return E(M,j,P);if(M==P){switch(j.length){case 0:return new M;case 1:return new M(j[0]);case 2:return new M(j[0],j[1]);case 3:return new M(j[0],j[1],j[2]);case 4:return new M(j[0],j[1],j[2],j[3])}var O=[null];return O.push.apply(O,j),new(C.apply(M,O))}return O=P.prototype,P=A(S(O)?O:Object.prototype),O=Function.apply.call(M,P,j),S(O)?O:P}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],185:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/is-object"),y=c("../internals/an-object"),S=c("../internals/has"),A=c("../internals/object-get-own-property-descriptor"),C=c("../internals/object-get-prototype-of");g({target:"Reflect",stat:!0},{get:function x(E,k){var T,I=arguments.length<3?E:arguments[2];return y(E)===I?E[k]:(T=A.f(E,k))?S(T,"value")?T.value:T.get===void 0?void 0:T.get.call(I):b(T=C(E))?x(T,k,I):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],186:[function(c,m,_){var g=c("../internals/descriptors"),b=c("../internals/global"),y=c("../internals/is-forced"),S=c("../internals/inherit-if-required"),A=c("../internals/object-define-property").f,C=c("../internals/object-get-own-property-names").f,x=c("../internals/is-regexp"),E=c("../internals/regexp-flags"),k=c("../internals/regexp-sticky-helpers"),T=c("../internals/redefine"),I=c("../internals/fails"),M=c("../internals/internal-state").set,j=c("../internals/set-species"),P=c("../internals/well-known-symbol")("match"),O=b.RegExp,N=O.prototype,D=/a/g,L=/a/g,R=new O(D)!==D,G=k.UNSUPPORTED_Y;if(g&&y("RegExp",!R||G||I(function(){return L[P]=!1,O(D)!=D||O(L)==L||O(D,"i")!="/a/i"}))){for(var Z=function(K,ee){var V,z=this instanceof Z,X=x(K),U=ee===void 0;return!z&&X&&K.constructor===Z&&U?K:(R?X&&!U&&(K=K.source):K instanceof Z&&(U&&(ee=E.call(K)),K=K.source),G&&(V=!!ee&&-1<ee.indexOf("y"))&&(ee=ee.replace(/y/g,"")),X=S(R?new O(K,ee):O(K,ee),z?this:N,Z),G&&V&&M(X,{sticky:V}),X)},B=C(O),J=0;B.length>J;)(function(K){K in Z||A(Z,K,{configurable:!0,get:function(){return O[K]},set:function(ee){O[K]=ee}})})(B[J++]);(N.constructor=Z).prototype=N,T(b,"RegExp",Z)}j("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],187:[function(b,m,_){var g=b("../internals/export"),b=b("../internals/regexp-exec");g({target:"RegExp",proto:!0,forced:/./.exec!==b},{exec:b})},{"../internals/export":50,"../internals/regexp-exec":110}],188:[function(S,m,_){var g=S("../internals/redefine"),b=S("../internals/an-object"),x=S("../internals/fails"),y=S("../internals/regexp-flags"),S="toString",A=RegExp.prototype,C=A[S],x=x(function(){return C.call({source:"a",flags:"b"})!="/a/b"}),E=C.name!=S;(x||E)&&g(RegExp.prototype,S,function(){var k=b(this),T=String(k.source),I=k.flags;return"/"+T+"/"+String(I===void 0&&k instanceof RegExp&&!("flags"in A)?y.call(k):I)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],189:[function(b,m,_){var g=b("../internals/collection"),b=b("../internals/collection-strong");m.exports=g("Set",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],190:[function(C,m,_){var g=C("../internals/export"),b=C("../internals/object-get-own-property-descriptor").f,y=C("../internals/to-length"),S=C("../internals/not-a-regexp"),A=C("../internals/require-object-coercible"),k=C("../internals/correct-is-regexp-logic"),C=C("../internals/is-pure"),x="".endsWith,E=Math.min,k=k("endsWith");g({target:"String",proto:!0,forced:!!(C||k||!(g=b(String.prototype,"endsWith"))||g.writable)&&!k},{endsWith:function(T){var I=String(A(this)),M=(S(T),1<arguments.length?arguments[1]:void 0),j=y(I.length),M=M===void 0?j:E(y(M),j),j=String(T);return x?x.call(I,j,M):I.slice(M-j.length,M)===j}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],191:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/not-a-regexp"),y=c("../internals/require-object-coercible");g({target:"String",proto:!0,forced:!c("../internals/correct-is-regexp-logic")("includes")},{includes:function(S){return!!~String(y(this)).indexOf(b(S),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],192:[function(y,m,_){var g=y("../internals/string-multibyte").charAt,b=y("../internals/internal-state"),y=y("../internals/define-iterator"),S="String Iterator",A=b.set,C=b.getterFor(S);y(String,"String",function(x){A(this,{type:S,string:String(x),index:0})},function(){var x=C(this),E=x.string,k=x.index;return k>=E.length?{value:void 0,done:!0}:(E=g(E,k),x.index+=E.length,{value:E,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],193:[function(c,m,_){var g=c("../internals/fix-regexp-well-known-symbol-logic"),b=c("../internals/an-object"),y=c("../internals/to-length"),S=c("../internals/require-object-coercible"),A=c("../internals/advance-string-index"),C=c("../internals/regexp-exec-abstract");g("match",1,function(x,E,k){return[function(T){var I=S(this),M=T==null?void 0:T[x];return M!==void 0?M.call(T,I):new RegExp(T)[x](String(I))},function(T){var I=k(E,T,this);if(I.done)return I.value;var M=b(T),j=String(this);if(!M.global)return C(M,j);for(var P=M.unicode,O=[],N=M.lastIndex=0;(D=C(M,j))!==null;){var D=String(D[0]);(O[N]=D)===""&&(M.lastIndex=A(j,y(M.lastIndex),P)),N++}return N===0?null:O}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],194:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/string-pad").start;g({target:"String",proto:!0,forced:c("../internals/string-pad-webkit-bug")},{padStart:function(y){return b(this,y,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],195:[function(c,m,_){c("../internals/export")({target:"String",proto:!0},{repeat:c("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],196:[function(c,m,_){var g=c("../internals/fix-regexp-well-known-symbol-logic"),b=c("../internals/an-object"),y=c("../internals/to-object"),S=c("../internals/to-length"),A=c("../internals/to-integer"),C=c("../internals/require-object-coercible"),x=c("../internals/advance-string-index"),E=c("../internals/regexp-exec-abstract"),k=Math.max,T=Math.min,I=Math.floor,M=/\$([$&'`]|\d\d?|<[^>]*>)/g,j=/\$([$&'`]|\d\d?)/g;g("replace",2,function(P,O,N,D){var L=D.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,R=D.REPLACE_KEEPS_$0,G=L?"$":"$0";return[function(Z,B){var J=C(this),K=Z==null?void 0:Z[P];return K!==void 0?K.call(Z,J,B):O.call(String(J),Z,B)},function(Z,B){if(!L&&R||typeof B=="string"&&B.indexOf(G)===-1){var J=N(O,Z,this,B);if(J.done)return J.value}for(var K,ee=b(Z),V=String(this),z=typeof B=="function",X=(z||(B=String(B)),ee.global),U=(X&&(K=ee.unicode,ee.lastIndex=0),[]);(Y=E(ee,V))!==null&&(U.push(Y),X);)String(Y[0])===""&&(ee.lastIndex=x(V,S(ee.lastIndex),K));for(var $,ae="",H=0,ie=0;ie<U.length;ie++){for(var Y=U[ie],q=String(Y[0]),ne=k(T(A(Y.index),V.length),0),oe=[],he=1;he<Y.length;he++)oe.push(($=Y[he])===void 0?$:String($));var de=Y.groups,xe=z?(xe=[q].concat(oe,ne,V),de!==void 0&&xe.push(de),String(B.apply(void 0,xe))):function(Ce,ge,Ae,we,me,_e){var Me=Ae+Ce.length,De=we.length,se=j;return me!==void 0&&(me=y(me),se=M),O.call(_e,se,function(ce,ue){var ve;switch(ue.charAt(0)){case"$":return"$";case"&":return Ce;case"`":return ge.slice(0,Ae);case"'":return ge.slice(Me);case"<":ve=me[ue.slice(1,-1)];break;default:var Se,Ie=+ue;if(Ie==0)return ce;if(De<Ie)return(Se=I(Ie/10))!==0&&Se<=De?we[Se-1]===void 0?ue.charAt(1):we[Se-1]+ue.charAt(1):ce;ve=we[Ie-1]}return ve===void 0?"":ve})}(q,V,ne,oe,de,B);H<=ne&&(ae+=V.slice(H,ne)+xe,H=ne+q.length)}return ae+V.slice(H)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],197:[function(c,m,_){var g=c("../internals/fix-regexp-well-known-symbol-logic"),b=c("../internals/an-object"),y=c("../internals/require-object-coercible"),S=c("../internals/same-value"),A=c("../internals/regexp-exec-abstract");g("search",1,function(C,x,E){return[function(k){var T=y(this),I=k==null?void 0:k[C];return I!==void 0?I.call(k,T):new RegExp(k)[C](String(T))},function(k){var T,I=E(x,k,this);return I.done?I.value:(I=b(k),k=String(this),T=I.lastIndex,S(T,0)||(I.lastIndex=0),k=A(I,k),S(I.lastIndex,T)||(I.lastIndex=T),k===null?-1:k.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],198:[function(T,m,_){var g=T("../internals/fix-regexp-well-known-symbol-logic"),b=T("../internals/is-regexp"),y=T("../internals/an-object"),S=T("../internals/require-object-coercible"),A=T("../internals/species-constructor"),C=T("../internals/advance-string-index"),x=T("../internals/to-length"),E=T("../internals/regexp-exec-abstract"),k=T("../internals/regexp-exec"),T=T("../internals/fails"),I=[].push,M=Math.min,j=4294967295,P=!T(function(){return!RegExp(j,"y")});g("split",2,function(O,N,D){var L="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(R,G){var Z=String(S(this)),B=G===void 0?j:G>>>0;if(B==0)return[];if(R===void 0)return[Z];if(!b(R))return N.call(Z,R,B);for(var J,K,ee,V=[],G=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(R.sticky?"y":""),z=0,X=new RegExp(R.source,G+"g");(J=k.call(X,Z))&&!(z<(K=X.lastIndex)&&(V.push(Z.slice(z,J.index)),1<J.length&&J.index<Z.length&&I.apply(V,J.slice(1)),ee=J[0].length,z=K,V.length>=B));)X.lastIndex===J.index&&X.lastIndex++;return z===Z.length?!ee&&X.test("")||V.push(""):V.push(Z.slice(z)),V.length>B?V.slice(0,B):V}:"0".split(void 0,0).length?function(R,G){return R===void 0&&G===0?[]:N.call(this,R,G)}:N;return[function(R,G){var Z=S(this),B=R==null?void 0:R[O];return B!==void 0?B.call(R,Z,G):L.call(String(Z),R,G)},function(J,G){var Z=D(L,J,this,G,L!==N);if(Z.done)return Z.value;var Z=y(J),B=String(this),J=A(Z,RegExp),K=Z.unicode,ee=(Z.ignoreCase?"i":"")+(Z.multiline?"m":"")+(Z.unicode?"u":"")+(P?"y":"g"),V=new J(P?Z:"^(?:"+Z.source+")",ee),z=G===void 0?j:G>>>0;if(z==0)return[];if(B.length===0)return E(V,B)===null?[B]:[];for(var X=0,U=0,$=[];U<B.length;){V.lastIndex=P?U:0;var ae,H=E(V,P?B:B.slice(U));if(H===null||(ae=M(x(V.lastIndex+(P?0:U)),B.length))===X)U=C(B,U,K);else{if($.push(B.slice(X,U)),$.length===z)return $;for(var ie=1;ie<=H.length-1;ie++)if($.push(H[ie]),$.length===z)return $;U=X=ae}}return $.push(B.slice(X)),$}]},!P)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],199:[function(C,m,_){var g=C("../internals/export"),b=C("../internals/object-get-own-property-descriptor").f,y=C("../internals/to-length"),S=C("../internals/not-a-regexp"),A=C("../internals/require-object-coercible"),k=C("../internals/correct-is-regexp-logic"),C=C("../internals/is-pure"),x="".startsWith,E=Math.min,k=k("startsWith");g({target:"String",proto:!0,forced:!!(C||k||!(g=b(String.prototype,"startsWith"))||g.writable)&&!k},{startsWith:function(j){var I=String(A(this)),M=(S(j),y(E(1<arguments.length?arguments[1]:void 0,I.length))),j=String(j);return x?x.call(I,j,M):I.slice(M,M+j.length)===j}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],200:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/create-html");g({target:"String",proto:!0,forced:c("../internals/string-html-forced")("sub")},{sub:function(){return b(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],201:[function(c,m,_){var g=c("../internals/export"),b=c("../internals/string-trim").trim;g({target:"String",proto:!0,forced:c("../internals/string-trim-forced")("trim")},{trim:function(){return b(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],202:[function(M,m,_){var g,b,y,S,A,C=M("../internals/export"),x=M("../internals/descriptors"),E=M("../internals/global"),k=M("../internals/has"),T=M("../internals/is-object"),I=M("../internals/object-define-property").f,M=M("../internals/copy-constructor-properties"),j=E.Symbol;!x||typeof j!="function"||"description"in j.prototype&&j().description===void 0||(g={},M(b=function(){var P=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),O=this instanceof b?new j(P):P===void 0?j():j(P);return P===""&&(g[O]=!0),O},j),(E=b.prototype=j.prototype).constructor=b,y=E.toString,S=String(j("test"))=="Symbol(test)",A=/^Symbol\((.*)\)[^)]+$/,I(E,"description",{configurable:!0,get:function(){var P=T(this)?this.valueOf():this,O=y.call(P);return k(g,P)?"":(P=S?O.slice(7,-1):O.replace(A,"$1"))===""?void 0:P}}),C({global:!0,forced:!0},{Symbol:b}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],203:[function(c,m,_){c("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],204:[function(ge,m,_){function g(ye,Te){var Le=ve[ye]=Z(_e[Ce]);return Ae(Le,{type:xe,tag:ye,description:Te}),k||(Le.description=Te),Le}function b(ye,Ue){N(ye);var Le=L(Ue),Ue=B(Le).concat(ke(Le));return he(Ue,function(Xe){k&&!be.call(Le,Xe)||Ge(ye,Xe,Le[Xe])}),ye}function y(Ue,Xe){var Le,Ue=L(Ue),Xe=R(Xe,!0);if(Ue!==me||!j(ve,Xe)||j(Se,Xe))return!(Le=De(Ue,Xe))||!j(ve,Xe)||j(Ue,de)&&Ue[de][Xe]||(Le.enumerable=!0),Le}function S(Te){var Te=ce(L(Te)),Le=[];return he(Te,function(Ue){j(ve,Ue)||j(H,Ue)||Le.push(Ue)}),Le}var A=ge("../internals/export"),C=ge("../internals/global"),x=ge("../internals/get-built-in"),E=ge("../internals/is-pure"),k=ge("../internals/descriptors"),T=ge("../internals/native-symbol"),I=ge("../internals/use-symbol-as-uid"),M=ge("../internals/fails"),j=ge("../internals/has"),P=ge("../internals/is-array"),O=ge("../internals/is-object"),N=ge("../internals/an-object"),D=ge("../internals/to-object"),L=ge("../internals/to-indexed-object"),R=ge("../internals/to-primitive"),G=ge("../internals/create-property-descriptor"),Z=ge("../internals/object-create"),B=ge("../internals/object-keys"),J=ge("../internals/object-get-own-property-names"),K=ge("../internals/object-get-own-property-names-external"),ee=ge("../internals/object-get-own-property-symbols"),V=ge("../internals/object-get-own-property-descriptor"),z=ge("../internals/object-define-property"),X=ge("../internals/object-property-is-enumerable"),U=ge("../internals/create-non-enumerable-property"),$=ge("../internals/redefine"),ae=ge("../internals/shared"),$e=ge("../internals/shared-key"),H=ge("../internals/hidden-keys"),ie=ge("../internals/uid"),Y=ge("../internals/well-known-symbol"),q=ge("../internals/well-known-symbol-wrapped"),ne=ge("../internals/define-well-known-symbol"),oe=ge("../internals/set-to-string-tag"),Ke=ge("../internals/internal-state"),he=ge("../internals/array-iteration").forEach,de=$e("hidden"),xe="Symbol",Ce="prototype",ge=Y("toPrimitive"),Ae=Ke.set,we=Ke.getterFor(xe),me=Object[Ce],_e=C.Symbol,Me=x("JSON","stringify"),De=V.f,se=z.f,ce=K.f,ue=X.f,ve=ae("symbols"),Se=ae("op-symbols"),Ie=ae("string-to-symbol-registry"),Be=ae("symbol-to-string-registry"),$e=ae("wks"),Ke=C.QObject,Qe=!Ke||!Ke[Ce]||!Ke[Ce].findChild,Re=k&&M(function(){return Z(se({},"a",{get:function(){return se(this,"a",{value:7}).a}})).a!=7})?function(ye,Te,Le){var Ue=De(me,Te);Ue&&delete me[Te],se(ye,Te,Le),Ue&&ye!==me&&se(me,Te,Ue)}:se,He=I?function(ye){return typeof ye=="symbol"}:function(ye){return Object(ye)instanceof _e},Ge=function(ye,Te,Le){return ye===me&&Ge(Se,Te,Le),N(ye),Te=R(Te,!0),N(Le),(j(ve,Te)?(Le.enumerable?(j(ye,de)&&ye[de][Te]&&(ye[de][Te]=!1),Le=Z(Le,{enumerable:G(0,!1)})):(j(ye,de)||se(ye,de,G(1,{})),ye[de][Te]=!0),Re):se)(ye,Te,Le)},be=function(Te){var Te=R(Te,!0),Le=ue.call(this,Te);return!(this===me&&j(ve,Te)&&!j(Se,Te))&&(!(Le||!j(this,Te)||!j(ve,Te)||j(this,de)&&this[de][Te])||Le)},ke=function(Le){var Te=Le===me,Le=ce(Te?Se:L(Le)),Ue=[];return he(Le,function(Xe){!j(ve,Xe)||Te&&!j(me,Xe)||Ue.push(ve[Xe])}),Ue};T||($((_e=function(){if(this instanceof _e)throw TypeError("Symbol is not a constructor");var ye=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,Te=ie(ye),Le=function(Ue){this===me&&Le.call(Se,Ue),j(this,de)&&j(this[de],Te)&&(this[de][Te]=!1),Re(this,Te,G(1,Ue))};return k&&Qe&&Re(me,Te,{configurable:!0,set:Le}),g(Te,ye)})[Ce],"toString",function(){return we(this).tag}),$(_e,"withoutSetter",function(ye){return g(ie(ye),ye)}),X.f=be,z.f=Ge,V.f=y,J.f=K.f=S,ee.f=ke,q.f=function(ye){return g(Y(ye),ye)},k&&(se(_e[Ce],"description",{configurable:!0,get:function(){return we(this).description}}),E||$(me,"propertyIsEnumerable",be,{unsafe:!0}))),A({global:!0,wrap:!0,forced:!T,sham:!T},{Symbol:_e}),he(B($e),function(ye){ne(ye)}),A({target:xe,stat:!0,forced:!T},{for:function(Le){var Te,Le=String(Le);return j(Ie,Le)?Ie[Le]:(Te=_e(Le),Ie[Le]=Te,Be[Te]=Le,Te)},keyFor:function(ye){if(!He(ye))throw TypeError(ye+" is not a symbol");if(j(Be,ye))return Be[ye]},useSetter:function(){Qe=!0},useSimple:function(){Qe=!1}}),A({target:"Object",stat:!0,forced:!T,sham:!k},{create:function(ye,Te){return Te===void 0?Z(ye):b(Z(ye),Te)},defineProperty:Ge,defineProperties:b,getOwnPropertyDescriptor:y}),A({target:"Object",stat:!0,forced:!T},{getOwnPropertyNames:S,getOwnPropertySymbols:ke}),A({target:"Object",stat:!0,forced:M(function(){ee.f(1)})},{getOwnPropertySymbols:function(ye){return ee.f(D(ye))}}),Me&&A({target:"JSON",stat:!0,forced:!T||M(function(){var ye=_e();return Me([ye])!="[null]"||Me({a:ye})!="{}"||Me(Object(ye))!="{}"})},{stringify:function(ye,Te,Le){for(var Ue,Xe=[ye],rt=1;rt<arguments.length;)Xe.push(arguments[rt++]);if((O(Ue=Te)||ye!==void 0)&&!He(ye))return P(Te)||(Te=function(st,it){if(typeof Ue=="function"&&(it=Ue.call(this,st,it)),!He(it))return it}),Xe[1]=Te,Me.apply(null,Xe)}}),_e[Ce][ge]||U(_e[Ce],ge,_e[Ce].valueOf),oe(_e,xe),H[de]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],205:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-copy-within"),y=g.aTypedArray;(0,g.exportTypedArrayMethod)("copyWithin",function(S,A){return b.call(y(this),S,A,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],206:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-iteration").every,y=g.aTypedArray;(0,g.exportTypedArrayMethod)("every",function(S){return b(y(this),S,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],207:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-fill"),y=g.aTypedArray;(0,g.exportTypedArrayMethod)("fill",function(S){return b.apply(y(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],208:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-iteration").filter,y=c("../internals/species-constructor"),S=g.aTypedArray,A=g.aTypedArrayConstructor;(0,g.exportTypedArrayMethod)("filter",function(C){for(var x=b(S(this),C,1<arguments.length?arguments[1]:void 0),C=y(this,this.constructor),E=0,k=x.length,T=new(A(C))(k);E<k;)T[E]=x[E++];return T})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],209:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-iteration").findIndex,y=g.aTypedArray;(0,g.exportTypedArrayMethod)("findIndex",function(S){return b(y(this),S,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],210:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-iteration").find,y=g.aTypedArray;(0,g.exportTypedArrayMethod)("find",function(S){return b(y(this),S,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],211:[function(c,m,_){c("../internals/typed-array-constructor")("Float32",function(g){return function(b,y,S){return g(this,b,y,S)}})},{"../internals/typed-array-constructor":142}],212:[function(c,m,_){c("../internals/typed-array-constructor")("Float64",function(g){return function(b,y,S){return g(this,b,y,S)}})},{"../internals/typed-array-constructor":142}],213:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-iteration").forEach,y=g.aTypedArray;(0,g.exportTypedArrayMethod)("forEach",function(S){b(y(this),S,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],214:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-includes").includes,y=g.aTypedArray;(0,g.exportTypedArrayMethod)("includes",function(S){return b(y(this),S,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],215:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-includes").indexOf,y=g.aTypedArray;(0,g.exportTypedArrayMethod)("indexOf",function(S){return b(y(this),S,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],216:[function(c,m,_){c("../internals/typed-array-constructor")("Int16",function(g){return function(b,y,S){return g(this,b,y,S)}})},{"../internals/typed-array-constructor":142}],217:[function(c,m,_){c("../internals/typed-array-constructor")("Int32",function(g){return function(b,y,S){return g(this,b,y,S)}})},{"../internals/typed-array-constructor":142}],218:[function(b,m,_){function g(){return y.call(C(this))}var k=b("../internals/global"),E=b("../internals/array-buffer-view-core"),x=b("../modules/es.array.iterator"),b=b("../internals/well-known-symbol")("iterator"),k=k.Uint8Array,y=x.values,S=x.keys,A=x.entries,C=E.aTypedArray,x=E.exportTypedArrayMethod,E=k&&k.prototype[b],k=!!E&&(E.name=="values"||E.name==null);x("entries",function(){return A.call(C(this))}),x("keys",function(){return S.call(C(this))}),x("values",g,!k),x(b,g,!k)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],219:[function(b,m,_){var b=b("../internals/array-buffer-view-core"),g=b.aTypedArray,b=b.exportTypedArrayMethod,y=[].join;b("join",function(S){return y.apply(g(this),arguments)})},{"../internals/array-buffer-view-core":12}],220:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-last-index-of"),y=g.aTypedArray;(0,g.exportTypedArrayMethod)("lastIndexOf",function(S){return b.apply(y(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],221:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-iteration").map,y=c("../internals/species-constructor"),S=g.aTypedArray,A=g.aTypedArrayConstructor;(0,g.exportTypedArrayMethod)("map",function(C){return b(S(this),C,1<arguments.length?arguments[1]:void 0,function(x,E){return new(A(y(x,x.constructor)))(E)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],222:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-reduce").right,y=g.aTypedArray;(0,g.exportTypedArrayMethod)("reduceRight",function(S){return b(y(this),S,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],223:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-reduce").left,y=g.aTypedArray;(0,g.exportTypedArrayMethod)("reduce",function(S){return b(y(this),S,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],224:[function(b,m,_){var b=b("../internals/array-buffer-view-core"),g=b.aTypedArray,b=b.exportTypedArrayMethod,y=Math.floor;b("reverse",function(){for(var S,A=g(this).length,C=y(A/2),x=0;x<C;)S=this[x],this[x++]=this[--A],this[A]=S;return this})},{"../internals/array-buffer-view-core":12}],225:[function(A,m,_){var g=A("../internals/array-buffer-view-core"),b=A("../internals/to-length"),y=A("../internals/to-offset"),S=A("../internals/to-object"),A=A("../internals/fails"),C=g.aTypedArray;(0,g.exportTypedArrayMethod)("set",function(x){C(this);var E=y(1<arguments.length?arguments[1]:void 0,1),k=this.length,T=S(x),I=b(T.length),M=0;if(k<I+E)throw RangeError("Wrong length");for(;M<I;)this[E+M]=T[M++]},A(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],226:[function(b,m,_){var A=b("../internals/array-buffer-view-core"),g=b("../internals/species-constructor"),b=b("../internals/fails"),y=A.aTypedArray,S=A.aTypedArrayConstructor,A=A.exportTypedArrayMethod,C=[].slice;A("slice",function(x,E){for(var k=C.call(y(this),x,E),x=g(this,this.constructor),T=0,I=k.length,M=new(S(x))(I);T<I;)M[T]=k[T++];return M},b(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],227:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/array-iteration").some,y=g.aTypedArray;(0,g.exportTypedArrayMethod)("some",function(S){return b(y(this),S,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],228:[function(b,m,_){var b=b("../internals/array-buffer-view-core"),g=b.aTypedArray,b=b.exportTypedArrayMethod,y=[].sort;b("sort",function(S){return y.call(g(this),S)})},{"../internals/array-buffer-view-core":12}],229:[function(c,m,_){var g=c("../internals/array-buffer-view-core"),b=c("../internals/to-length"),y=c("../internals/to-absolute-index"),S=c("../internals/species-constructor"),A=g.aTypedArray;(0,g.exportTypedArrayMethod)("subarray",function(T,x){var E=A(this),k=E.length,T=y(T,k);return new(S(E,E.constructor))(E.buffer,E.byteOffset+T*E.BYTES_PER_ELEMENT,b((x===void 0?k:y(x,k))-T))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],230:[function(b,m,_){var A=b("../internals/global"),g=b("../internals/array-buffer-view-core"),b=b("../internals/fails"),y=A.Int8Array,S=g.aTypedArray,A=g.exportTypedArrayMethod,C=[].toLocaleString,x=[].slice,E=!!y&&b(function(){C.call(new y(1))});A("toLocaleString",function(){return C.apply(E?x.call(S(this)):S(this),arguments)},b(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!b(function(){y.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],231:[function(b,m,_){var g=b("../internals/array-buffer-view-core").exportTypedArrayMethod,A=b("../internals/fails"),b=b("../internals/global").Uint8Array,b=b&&b.prototype||{},y=[].toString,S=[].join,A=(A(function(){y.call({})})&&(y=function(){return S.call(this)}),b.toString!=y);g("toString",y,A)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],232:[function(c,m,_){c("../internals/typed-array-constructor")("Uint16",function(g){return function(b,y,S){return g(this,b,y,S)}})},{"../internals/typed-array-constructor":142}],233:[function(c,m,_){c("../internals/typed-array-constructor")("Uint32",function(g){return function(b,y,S){return g(this,b,y,S)}})},{"../internals/typed-array-constructor":142}],234:[function(c,m,_){c("../internals/typed-array-constructor")("Uint8",function(g){return function(b,y,S){return g(this,b,y,S)}})},{"../internals/typed-array-constructor":142}],235:[function(c,m,_){c("../internals/typed-array-constructor")("Uint8",function(g){return function(b,y,S){return g(this,b,y,S)}},!0)},{"../internals/typed-array-constructor":142}],236:[function(j,N,_){function g(D){return function(){return D(this,arguments.length?arguments[0]:void 0)}}var b,y,S,A,C,P=j("../internals/global"),x=j("../internals/redefine-all"),E=j("../internals/internal-metadata"),k=j("../internals/collection"),T=j("../internals/collection-weak"),I=j("../internals/is-object"),M=j("../internals/internal-state").enforce,j=j("../internals/native-weak-map"),P=!P.ActiveXObject&&"ActiveXObject"in P,O=Object.isExtensible,N=N.exports=k("WeakMap",g,T);j&&P&&(b=T.getConstructor(g,"WeakMap",!0),E.REQUIRED=!0,k=N.prototype,y=k.delete,S=k.has,A=k.get,C=k.set,x(k,{delete:function(D){var L;return I(D)&&!O(D)?((L=M(this)).frozen||(L.frozen=new b),y.call(this,D)||L.frozen.delete(D)):y.call(this,D)},has:function(D){var L;return I(D)&&!O(D)?((L=M(this)).frozen||(L.frozen=new b),S.call(this,D)||L.frozen.has(D)):S.call(this,D)},get:function(D){var L;return!I(D)||O(D)||((L=M(this)).frozen||(L.frozen=new b),S.call(this,D))?A.call(this,D):L.frozen.get(D)},set:function(D,L){var R;return!I(D)||O(D)||((R=M(this)).frozen||(R.frozen=new b),S.call(this,D))?C.call(this,D,L):R.frozen.set(D,L),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],237:[function(c,m,_){var g,b=c("../internals/global"),y=c("../internals/dom-iterables"),S=c("../internals/array-for-each"),A=c("../internals/create-non-enumerable-property");for(g in y){var C=b[g],C=C&&C.prototype;if(C&&C.forEach!==S)try{A(C,"forEach",S)}catch{C.forEach=S}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],238:[function(C,m,_){var g,b=C("../internals/global"),y=C("../internals/dom-iterables"),S=C("../modules/es.array.iterator"),A=C("../internals/create-non-enumerable-property"),C=C("../internals/well-known-symbol"),x=C("iterator"),E=C("toStringTag"),k=S.values;for(g in y){var T=b[g],I=T&&T.prototype;if(I){if(I[x]!==k)try{A(I,x,k)}catch{I[x]=k}if(I[E]||A(I,E,g),y[g]){for(var M in S)if(I[M]!==S[M])try{A(I,M,S[M])}catch{I[M]=S[M]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],239:[function(de,m,_){de("../modules/es.array.iterator");function g(xe){try{return decodeURIComponent(xe)}catch{return xe}}function b(xe){return ne[xe]}function y(xe){return encodeURIComponent(xe).replace(q,b)}function S(xe){this.entries.length=0,oe(this.entries,xe)}function A(xe,Ce){if(xe<Ce)throw TypeError("Not enough arguments")}function C(){P(this,C,z);var xe,Ce,ge,Ae,we,me,_e,Me,De=0<arguments.length?arguments[0]:void 0,se=[];if(U(this,{type:z,entries:se,updateURL:function(){},updateSearchParams:S}),De!==void 0)if(R(De))if(typeof(xe=J(De))=="function")for(ge=(Ce=xe.call(De)).next;!(Ae=ge.call(Ce)).done;){if((me=(we=(Ae=B(L(Ae.value))).next).call(Ae)).done||(_e=we.call(Ae)).done||!we.call(Ae).done)throw TypeError("Expected sequence with length 2");se.push({key:me.value+"",value:_e.value+""})}else for(Me in De)O(De,Me)&&se.push({key:Me,value:De[Me]+""});else oe(se,typeof De=="string"?De.charAt(0)==="?"?De.slice(1):De:De+"")}var x=de("../internals/export"),V=de("../internals/get-built-in"),E=de("../internals/native-url"),k=de("../internals/redefine"),T=de("../internals/redefine-all"),I=de("../internals/set-to-string-tag"),M=de("../internals/create-iterator-constructor"),j=de("../internals/internal-state"),P=de("../internals/an-instance"),O=de("../internals/has"),N=de("../internals/function-bind-context"),D=de("../internals/classof"),L=de("../internals/an-object"),R=de("../internals/is-object"),G=de("../internals/object-create"),Z=de("../internals/create-property-descriptor"),B=de("../internals/get-iterator"),J=de("../internals/get-iterator-method"),de=de("../internals/well-known-symbol"),K=V("fetch"),ee=V("Headers"),V=de("iterator"),z="URLSearchParams",X=z+"Iterator",U=j.set,$=j.getterFor(z),ae=j.getterFor(X),H=/\+/g,ie=Array(4),Y=function(xe){var Ce,ge=xe.replace(H," "),Ae=4;try{return decodeURIComponent(ge)}catch{for(;Ae;)ge=ge.replace((Ce=Ae--,ie[Ce-1]||(ie[Ce-1]=RegExp("((?:%[\\da-f]{2}){"+Ce+"})","gi"))),g);return ge}},q=/[!'()~]|%20/g,ne={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},oe=function(xe,Ce){if(Ce)for(var ge,Ae=Ce.split("&"),we=0;we<Ae.length;)(ge=Ae[we++]).length&&(ge=ge.split("="),xe.push({key:Y(ge.shift()),value:Y(ge.join("="))}))},he=M(function(xe,Ce){U(this,{type:X,iterator:B($(xe).entries),kind:Ce})},"Iterator",function(){var Ce=ae(this),xe=Ce.kind,Ce=Ce.iterator.next(),ge=Ce.value;return Ce.done||(Ce.value=xe==="keys"?ge.key:xe==="values"?ge.value:[ge.key,ge.value]),Ce}),de=C.prototype;T(de,{append:function(xe,Ce){A(arguments.length,2);var ge=$(this);ge.entries.push({key:xe+"",value:Ce+""}),ge.updateURL()},delete:function(xe){A(arguments.length,1);for(var Ce=$(this),ge=Ce.entries,Ae=xe+"",we=0;we<ge.length;)ge[we].key===Ae?ge.splice(we,1):we++;Ce.updateURL()},get:function(xe){A(arguments.length,1);for(var Ce=$(this).entries,ge=xe+"",Ae=0;Ae<Ce.length;Ae++)if(Ce[Ae].key===ge)return Ce[Ae].value;return null},getAll:function(xe){A(arguments.length,1);for(var Ce=$(this).entries,ge=xe+"",Ae=[],we=0;we<Ce.length;we++)Ce[we].key===ge&&Ae.push(Ce[we].value);return Ae},has:function(xe){A(arguments.length,1);for(var Ce=$(this).entries,ge=xe+"",Ae=0;Ae<Ce.length;)if(Ce[Ae++].key===ge)return!0;return!1},set:function(xe,Ce){A(arguments.length,1);for(var ge,Ae=$(this),we=Ae.entries,me=!1,_e=xe+"",Me=Ce+"",De=0;De<we.length;De++)(ge=we[De]).key===_e&&(me?we.splice(De--,1):(me=!0,ge.value=Me));me||we.push({key:_e,value:Me}),Ae.updateURL()},sort:function(){for(var xe,Ce,ge=$(this),Ae=ge.entries,we=Ae.slice(),me=Ae.length=0;me<we.length;me++){for(xe=we[me],Ce=0;Ce<me;Ce++)if(Ae[Ce].key>xe.key){Ae.splice(Ce,0,xe);break}Ce===me&&Ae.push(xe)}ge.updateURL()},forEach:function(xe){for(var Ce,ge=$(this).entries,Ae=N(xe,1<arguments.length?arguments[1]:void 0,3),we=0;we<ge.length;)Ae((Ce=ge[we++]).value,Ce.key,this)},keys:function(){return new he(this,"keys")},values:function(){return new he(this,"values")},entries:function(){return new he(this,"entries")}},{enumerable:!0}),k(de,V,de.entries),k(de,"toString",function(){for(var xe,Ce=$(this).entries,ge=[],Ae=0;Ae<Ce.length;)xe=Ce[Ae++],ge.push(y(xe.key)+"="+y(xe.value));return ge.join("&")},{enumerable:!0}),I(C,z),x({global:!0,forced:!E},{URLSearchParams:C}),E||typeof K!="function"||typeof ee!="function"||x({global:!0,enumerable:!0,forced:!0},{fetch:function(we){var Ce,ge,Ae,we=[we];return 1<arguments.length&&(R(Ce=arguments[1])&&(ge=Ce.body,D(ge)===z&&((Ae=Ce.headers?new ee(Ce.headers):new ee).has("content-type")||Ae.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Ce=G(Ce,{body:Z(0,String(ge)),headers:Z(0,Ae)}))),we.push(Ce)),K.apply(this,we)}}),m.exports={URLSearchParams:C,getState:$}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],240:[function(B,m,_){B("../modules/es.string.iterator");function g(Ne){var nt,ct,tt,wt;if(typeof Ne=="number"){for(nt=[],ct=0;ct<4;ct++)nt.unshift(Ne%256),Ne=X(Ne/256);return nt.join(".")}if(typeof Ne!="object")return Ne;for(nt="",tt=_e(Ne),ct=0;ct<8;ct++)wt&&Ne[ct]===0||(wt=wt&&!1,tt===ct?(nt+=ct?":":"::",wt=!0):(nt+=Ne[ct].toString(16),ct<7&&(nt+=":")));return"["+nt+"]"}function b(Ne){return!Ne.host||Ne.cannotBeABaseURL||Ne.scheme=="file"}function y(Ne,nt,ct,tt){var wt,et,Et,at=ct||He,St=0,lt="",Bt=!1,zt=!1,Lt=!1;for(ct||(Ne.scheme="",Ne.username="",Ne.password="",Ne.host=null,Ne.port=null,Ne.path=[],Ne.query=null,Ne.fragment=null,Ne.cannotBeABaseURL=!1,nt=nt.replace(Ae,"")),nt=nt.replace(we,""),wt=D(nt);St<=wt.length;){switch(et=wt[St],at){case He:if(!et||!Y.test(et)){if(ct)return ae;at=be;continue}lt+=et.toLowerCase(),at=Ge;break;case Ge:if(et&&(q.test(et)||et=="+"||et=="-"||et=="."))lt+=et.toLowerCase();else{if(et!=":"){if(ct)return ae;lt="",at=be,St=0;continue}if(ct&&(Se(Ne)!=O(ve,lt)||lt=="file"&&(Ie(Ne)||Ne.port!==null)||Ne.scheme=="file"&&!Ne.host))return;if(Ne.scheme=lt,ct)return void(Se(Ne)&&ve[Ne.scheme]==Ne.port&&(Ne.port=null));lt="",Ne.scheme=="file"?at=vt:Se(Ne)&&tt&&tt.scheme==Ne.scheme?at=ke:Se(Ne)?at=Ue:wt[St+1]=="/"?(at=ye,St++):(Ne.cannotBeABaseURL=!0,Ne.path.push(""),at=jt)}break;case be:if(!tt||tt.cannotBeABaseURL&&et!="#")return ae;if(tt.cannotBeABaseURL&&et=="#"){Ne.scheme=tt.scheme,Ne.path=tt.path.slice(),Ne.query=tt.query,Ne.fragment="",Ne.cannotBeABaseURL=!0,at=Vt;break}at=tt.scheme=="file"?vt:Te;continue;case ke:if(et!="/"||wt[St+1]!="/"){at=Te;continue}at=Xe,St++;break;case ye:if(et=="/"){at=rt;break}at=mt;continue;case Te:if(Ne.scheme=tt.scheme,et==C)Ne.username=tt.username,Ne.password=tt.password,Ne.host=tt.host,Ne.port=tt.port,Ne.path=tt.path.slice(),Ne.query=tt.query;else if(et=="/"||et=="\\"&&Se(Ne))at=Le;else if(et=="?")Ne.username=tt.username,Ne.password=tt.password,Ne.host=tt.host,Ne.port=tt.port,Ne.path=tt.path.slice(),Ne.query="",at=Kt;else{if(et!="#"){Ne.username=tt.username,Ne.password=tt.password,Ne.host=tt.host,Ne.port=tt.port,Ne.path=tt.path.slice(),Ne.path.pop(),at=mt;continue}Ne.username=tt.username,Ne.password=tt.password,Ne.host=tt.host,Ne.port=tt.port,Ne.path=tt.path.slice(),Ne.query=tt.query,Ne.fragment="",at=Vt}break;case Le:if(!Se(Ne)||et!="/"&&et!="\\"){if(et!="/"){Ne.username=tt.username,Ne.password=tt.password,Ne.host=tt.host,Ne.port=tt.port,at=mt;continue}at=rt}else at=Xe;break;case Ue:if(at=Xe,et!="/"||lt.charAt(St+1)!="/")continue;St++;break;case Xe:if(et=="/"||et=="\\")break;at=rt;continue;case rt:if(et=="@"){Bt&&(lt="%40"+lt);for(var Bt=!0,qt=D(lt),ir=0;ir<qt.length;ir++){var tr=qt[ir];tr!=":"||Lt?(tr=ue(tr,ce),Lt?Ne.password+=tr:Ne.username+=tr):Lt=!0}lt=""}else if(et==C||et=="/"||et=="?"||et=="#"||et=="\\"&&Se(Ne)){if(Bt&&lt=="")return $;St-=D(lt).length+1,lt="",at=st}else lt+=et;break;case st:case it:if(ct&&Ne.scheme=="file"){at=ut;continue}if(et!=":"||zt){if(et==C||et=="/"||et=="?"||et=="#"||et=="\\"&&Se(Ne)){if(Se(Ne)&&lt=="")return H;if(ct&&lt==""&&(Ie(Ne)||Ne.port!==null))return;if(Et=me(Ne,lt))return Et;if(lt="",at=gt,ct)return;continue}et=="["?zt=!0:et=="]"&&(zt=!1),lt+=et}else{if(lt=="")return H;if(Et=me(Ne,lt))return Et;if(lt="",at=ot,ct==it)return}break;case ot:if(!ne.test(et)){if(et==C||et=="/"||et=="?"||et=="#"||et=="\\"&&Se(Ne)||ct){if(lt!=""){var ar=parseInt(lt,10);if(65535<ar)return ie;Ne.port=Se(Ne)&&ar===ve[Ne.scheme]?null:ar,lt=""}if(ct)return;at=gt;continue}return ie}lt+=et;break;case vt:if(Ne.scheme="file",et=="/"||et=="\\")at=yt;else{if(!tt||tt.scheme!="file"){at=mt;continue}if(et==C)Ne.host=tt.host,Ne.path=tt.path.slice(),Ne.query=tt.query;else if(et=="?")Ne.host=tt.host,Ne.path=tt.path.slice(),Ne.query="",at=Kt;else{if(et!="#"){$e(wt.slice(St).join(""))||(Ne.host=tt.host,Ne.path=tt.path.slice(),Ke(Ne)),at=mt;continue}Ne.host=tt.host,Ne.path=tt.path.slice(),Ne.query=tt.query,Ne.fragment="",at=Vt}}break;case yt:if(et=="/"||et=="\\"){at=ut;break}tt&&tt.scheme=="file"&&!$e(wt.slice(St).join(""))&&(Be(tt.path[0],!0)?Ne.path.push(tt.path[0]):Ne.host=tt.host),at=mt;continue;case ut:if(et==C||et=="/"||et=="\\"||et=="?"||et=="#"){if(!ct&&Be(lt))at=mt;else{if(lt==""){if(Ne.host="",ct)return}else{if(Et=me(Ne,lt))return Et;if(Ne.host=="localhost"&&(Ne.host=""),ct)return;lt=""}at=gt}continue}lt+=et;break;case gt:if(Se(Ne)){if(at=mt,et!="/"&&et!="\\")continue}else if(ct||et!="?")if(ct||et!="#"){if(et!=C&&(at=mt,et!="/"))continue}else Ne.fragment="",at=Vt;else Ne.query="",at=Kt;break;case mt:if(et==C||et=="/"||et=="\\"&&Se(Ne)||!ct&&(et=="?"||et=="#")){if(Re(lt)?(Ke(Ne),et=="/"||et=="\\"&&Se(Ne)||Ne.path.push("")):Qe(lt)?et=="/"||et=="\\"&&Se(Ne)||Ne.path.push(""):(Ne.scheme=="file"&&!Ne.path.length&&Be(lt)&&(Ne.host&&(Ne.host=""),lt=lt.charAt(0)+":"),Ne.path.push(lt)),lt="",Ne.scheme=="file"&&(et==C||et=="?"||et=="#"))for(;1<Ne.path.length&&Ne.path[0]==="";)Ne.path.shift();et=="?"?(Ne.query="",at=Kt):et=="#"&&(Ne.fragment="",at=Vt)}else lt+=ue(et,se);break;case jt:et=="?"?(Ne.query="",at=Kt):et=="#"?(Ne.fragment="",at=Vt):et!=C&&(Ne.path[0]+=ue(et,Me));break;case Kt:ct||et!="#"?et!=C&&(et=="'"&&Se(Ne)?Ne.query+="%27":Ne.query+=et=="#"?"%23":ue(et,Me)):(Ne.fragment="",at=Vt);break;case Vt:et!=C&&(Ne.fragment+=ue(et,De))}St++}}function S(et){var nt,ct,tt=P(this,S,"URL"),wt=1<arguments.length?arguments[1]:void 0,et=String(et),Et=V(tt,{type:"URL"});if(wt!==void 0){if(wt instanceof S)nt=z(wt);else if(ct=y(nt={},String(wt)))throw TypeError(ct)}if(ct=y(Et,et,null,nt))throw TypeError(ct);var at=Et.searchParams=new K;(wt=ee(at)).updateSearchParams(Et.query),wt.updateURL=function(){Et.query=String(at)||null},T||(tt.href=Ot.call(tt),tt.origin=xt.call(tt),tt.protocol=Xt.call(tt),tt.username=Wt.call(tt),tt.password=Tt.call(tt),tt.host=$t.call(tt),tt.hostname=br.call(tt),tt.port=wr.call(tt),tt.pathname=Sr.call(tt),tt.search=Mr.call(tt),tt.searchParams=xr.call(tt),tt.hash=Er.call(tt))}function A(Ne,nt){return{get:Ne,set:nt,configurable:!0,enumerable:!0}}var C,x,E,k=B("../internals/export"),T=B("../internals/descriptors"),I=B("../internals/native-url"),kt=B("../internals/global"),M=B("../internals/object-define-properties"),j=B("../internals/redefine"),P=B("../internals/an-instance"),O=B("../internals/has"),N=B("../internals/object-assign"),D=B("../internals/array-from"),L=B("../internals/string-multibyte").codeAt,R=B("../internals/string-punycode-to-ascii"),G=B("../internals/set-to-string-tag"),Z=B("../modules/web.url-search-params"),B=B("../internals/internal-state"),J=kt.URL,K=Z.URLSearchParams,ee=Z.getState,V=B.set,z=B.getterFor("URL"),X=Math.floor,U=Math.pow,$="Invalid authority",ae="Invalid scheme",H="Invalid host",ie="Invalid port",Y=/[A-Za-z]/,q=/[\d+-.A-Za-z]/,ne=/\d/,oe=/^(0x|0X)/,he=/^[0-7]+$/,de=/^\d+$/,xe=/^[\dA-Fa-f]+$/,Ce=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ge=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Ae=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,we=/[\u0009\u000A\u000D]/g,me=function(Ne,nt){var ct,tt,wt;if(nt.charAt(0)=="[")return nt.charAt(nt.length-1)=="]"&&(ct=function(et){var Et=[0,0,0,0,0,0,0,0],at=0,St=null,lt=0,Bt,zt,Lt,qt,ir,tr,ar,Ht=function(){return et.charAt(lt)};if(Ht()==":"){if(et.charAt(1)!=":")return;lt+=2,at++,St=at}for(;Ht();){if(at==8)return;if(Ht()==":"){if(St!==null)return;lt++,at++,St=at;continue}for(Bt=zt=0;zt<4&&xe.test(Ht());)Bt=Bt*16+parseInt(Ht(),16),lt++,zt++;if(Ht()=="."){if(zt==0||(lt-=zt,at>6))return;for(Lt=0;Ht();){if(qt=null,Lt>0)if(Ht()=="."&&Lt<4)lt++;else return;if(!ne.test(Ht()))return;for(;ne.test(Ht());){if(ir=parseInt(Ht(),10),qt===null)qt=ir;else{if(qt==0)return;qt=qt*10+ir}if(qt>255)return;lt++}Et[at]=Et[at]*256+qt,Lt++,(Lt==2||Lt==4)&&at++}if(Lt!=4)return;break}else if(Ht()==":"){if(lt++,!Ht())return}else if(Ht())return;Et[at++]=Bt}if(St!==null)for(tr=at-St,at=7;at!=0&&tr>0;)ar=Et[at],Et[at--]=Et[St+tr-1],Et[St+--tr]=ar;else if(at!=8)return;return Et}(nt.slice(1,-1)))?void(Ne.host=ct):H;if(Se(Ne))return nt=R(nt),Ce.test(nt)||(ct=function(et){var Et=et.split("."),at,St,lt,Bt,zt,Lt,qt;if(Et.length&&Et[Et.length-1]==""&&Et.pop(),(at=Et.length)>4)return et;for(St=[],lt=0;lt<at;lt++){if(Bt=Et[lt],Bt=="")return et;if(zt=10,Bt.length>1&&Bt.charAt(0)=="0"&&(zt=oe.test(Bt)?16:8,Bt=Bt.slice(zt==8?1:2)),Bt==="")Lt=0;else{if(!(zt==10?de:zt==8?he:xe).test(Bt))return et;Lt=parseInt(Bt,zt)}St.push(Lt)}for(lt=0;lt<at;lt++)if(Lt=St[lt],lt==at-1){if(Lt>=U(256,5-at))return null}else if(Lt>255)return null;for(qt=St.pop(),lt=0;lt<St.length;lt++)qt+=St[lt]*U(256,3-lt);return qt}(nt))===null?H:void(Ne.host=ct);if(ge.test(nt))return H;for(ct="",tt=D(nt),wt=0;wt<tt.length;wt++)ct+=ue(tt[wt],Me);Ne.host=ct},_e=function(Ne){for(var nt=null,ct=1,tt=null,wt=0,et=0;et<8;et++)Ne[et]!==0?(ct<wt&&(nt=tt,ct=wt),tt=null,wt=0):(tt===null&&(tt=et),++wt);return ct<wt&&(nt=tt,ct=wt),nt},Me={},De=N({},Me,{" ":1,'"':1,"<":1,">":1,"`":1}),se=N({},De,{"#":1,"?":1,"{":1,"}":1}),ce=N({},se,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(Ne,nt){var ct=L(Ne,0);return 32<ct&&ct<127&&!O(nt,Ne)?Ne:encodeURIComponent(Ne)},ve={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Se=function(Ne){return O(ve,Ne.scheme)},Ie=function(Ne){return Ne.username!=""||Ne.password!=""},Be=function(Ne,nt){return Ne.length==2&&Y.test(Ne.charAt(0))&&((Ne=Ne.charAt(1))==":"||!nt&&Ne=="|")},$e=function(Ne){return 1<Ne.length&&Be(Ne.slice(0,2))&&(Ne.length==2||(Ne=Ne.charAt(2))==="/"||Ne==="\\"||Ne==="?"||Ne==="#")},Ke=function(Ne){var nt=Ne.path,ct=nt.length;!ct||Ne.scheme=="file"&&ct==1&&Be(nt[0],!0)||nt.pop()},Qe=function(Ne){return Ne==="."||Ne.toLowerCase()==="%2e"},Re=function(Ne){return(Ne=Ne.toLowerCase())===".."||Ne==="%2e."||Ne===".%2e"||Ne==="%2e%2e"},He={},Ge={},be={},ke={},ye={},Te={},Le={},Ue={},Xe={},rt={},st={},it={},ot={},vt={},yt={},ut={},gt={},mt={},jt={},Kt={},Vt={},kt=S.prototype,Ot=function(){var Ne=z(this),nt=Ne.scheme,ct=Ne.username,tt=Ne.password,wt=Ne.host,et=Ne.port,Et=Ne.path,at=Ne.query,St=Ne.fragment,lt=nt+":";return wt!==null?(lt+="//",Ie(Ne)&&(lt+=ct+(tt?":"+tt:"")+"@"),lt+=g(wt),et!==null&&(lt+=":"+et)):nt=="file"&&(lt+="//"),lt+=Ne.cannotBeABaseURL?Et[0]:Et.length?"/"+Et.join("/"):"",at!==null&&(lt+="?"+at),St!==null&&(lt+="#"+St),lt},xt=function(){var Ne=z(this),nt=Ne.scheme,ct=Ne.port;if(nt=="blob")try{return new URL(nt.path[0]).origin}catch{return"null"}return nt!="file"&&Se(Ne)?nt+"://"+g(Ne.host)+(ct!==null?":"+ct:""):"null"},Xt=function(){return z(this).scheme+":"},Wt=function(){return z(this).username},Tt=function(){return z(this).password},$t=function(){var nt=z(this),Ne=nt.host,nt=nt.port;return Ne===null?"":nt===null?g(Ne):g(Ne)+":"+nt},br=function(){var Ne=z(this).host;return Ne===null?"":g(Ne)},wr=function(){var Ne=z(this).port;return Ne===null?"":String(Ne)},Sr=function(){var Ne=z(this),nt=Ne.path;return Ne.cannotBeABaseURL?nt[0]:nt.length?"/"+nt.join("/"):""},Mr=function(){var Ne=z(this).query;return Ne?"?"+Ne:""},xr=function(){return z(this).searchParams},Er=function(){var Ne=z(this).fragment;return Ne?"#"+Ne:""};T&&M(kt,{href:A(Ot,function(ct){var nt=z(this),ct=String(ct),ct=y(nt,ct);if(ct)throw TypeError(ct);ee(nt.searchParams).updateSearchParams(nt.query)}),origin:A(xt),protocol:A(Xt,function(Ne){var nt=z(this);y(nt,String(Ne)+":",He)}),username:A(Wt,function(Ne){var nt=z(this),ct=D(String(Ne));if(!b(nt)){nt.username="";for(var tt=0;tt<ct.length;tt++)nt.username+=ue(ct[tt],ce)}}),password:A(Tt,function(Ne){var nt=z(this),ct=D(String(Ne));if(!b(nt)){nt.password="";for(var tt=0;tt<ct.length;tt++)nt.password+=ue(ct[tt],ce)}}),host:A($t,function(Ne){var nt=z(this);nt.cannotBeABaseURL||y(nt,String(Ne),st)}),hostname:A(br,function(Ne){var nt=z(this);nt.cannotBeABaseURL||y(nt,String(Ne),it)}),port:A(wr,function(Ne){var nt=z(this);b(nt)||((Ne=String(Ne))==""?nt.port=null:y(nt,Ne,ot))}),pathname:A(Sr,function(Ne){var nt=z(this);nt.cannotBeABaseURL||(nt.path=[],y(nt,Ne+"",gt))}),search:A(Mr,function(Ne){var nt=z(this);(Ne=String(Ne))==""?nt.query=null:(Ne.charAt(0)=="?"&&(Ne=Ne.slice(1)),nt.query="",y(nt,Ne,Kt)),ee(nt.searchParams).updateSearchParams(nt.query)}),searchParams:A(xr),hash:A(Er,function(Ne){var nt=z(this);(Ne=String(Ne))==""?nt.fragment=null:(Ne.charAt(0)=="#"&&(Ne=Ne.slice(1)),nt.fragment="",y(nt,Ne,Vt))})}),j(kt,"toJSON",function(){return Ot.call(this)},{enumerable:!0}),j(kt,"toString",function(){return Ot.call(this)},{enumerable:!0}),J&&(x=J.createObjectURL,E=J.revokeObjectURL,x&&j(S,"createObjectURL",function(Ne){return x.apply(J,arguments)}),E&&j(S,"revokeObjectURL",function(Ne){return E.apply(J,arguments)})),G(S,"URL"),k({global:!0,forced:!I,sham:!T},{URL:S})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":192,"../modules/web.url-search-params":239}],241:[function(c,m,_){m.exports=c("./").polyfill()},{"./":242}],242:[function(c,m,_){(function(g,b){var y,S;y=this,S=function(){function A(me){return typeof me=="function"}var C=Array.isArray||function(me){return Object.prototype.toString.call(me)==="[object Array]"},x=0,E=void 0,k=void 0,T=function(me,_e){N[x]=me,N[x+1]=_e,(x+=2)===2&&(k?k(D):K())},I=typeof window<"u"?window:void 0,M=I||{},M=M.MutationObserver||M.WebKitMutationObserver,j=typeof self>"u"&&g!==void 0&&{}.toString.call(g)==="[object process]",P=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function O(){var me=setTimeout;return function(){return me(D,1)}}var N=new Array(1e3);function D(){for(var me=0;me<x;me+=2)(0,N[me])(N[me+1]),N[me]=void 0,N[me+1]=void 0;x=0}function L(){try{var me=Function("return this")().require("vertx");return(E=me.runOnLoop||me.runOnContext)!==void 0?function(){E(D)}:O()}catch{return O()}}var R,G,Z,K=void 0;function B(me,_e){var Me,De=this,se=new this.constructor(V),ce=(se[ee]===void 0&&xe(se),De._state);return ce?(Me=arguments[ce-1],T(function(){return he(ce,se,Me,De._result)})):ne(De,se,me,_e),se}function J(me){var _e;return me&&typeof me=="object"&&me.constructor===this?me:(H(_e=new this(V),me),_e)}var K=j?function(){return g.nextTick(D)}:M?(G=0,j=new M(D),Z=document.createTextNode(""),j.observe(Z,{characterData:!0}),function(){Z.data=G=++G%2}):P?((R=new MessageChannel).port1.onmessage=D,function(){return R.port2.postMessage(0)}):(I===void 0&&typeof c=="function"?L:O)(),ee=Math.random().toString(36).substring(2);function V(){}var z=void 0,X=1,U=2;function $(me,_e,Me){T(function(De){var se=!1,ce=function(ue,ve,Se,Ie){try{ue.call(ve,Se,Ie)}catch(Be){return Be}}(Me,_e,function(ue){se||(se=!0,(_e!==ue?H:Y)(De,ue))},function(ue){se||(se=!0,q(De,ue))},De._label);!se&&ce&&(se=!0,q(De,ce))},me)}function ae(me,_e,Me){var De,se;_e.constructor===me.constructor&&Me===B&&_e.constructor.resolve===J?(De=me,(se=_e)._state===X?Y(De,se._result):se._state===U?q(De,se._result):ne(se,void 0,function(ce){return H(De,ce)},function(ce){return q(De,ce)})):Me!==void 0&&A(Me)?$(me,_e,Me):Y(me,_e)}function H(me,_e){if(me===_e)q(me,new TypeError("You cannot resolve a promise with itself"));else if(Me=typeof _e,_e===null||Me!="object"&&Me!="function")Y(me,_e);else{Me=void 0;try{Me=_e.then}catch(De){return void q(me,De)}ae(me,_e,Me)}var Me}function ie(me){me._onerror&&me._onerror(me._result),oe(me)}function Y(me,_e){me._state===z&&(me._result=_e,me._state=X,me._subscribers.length!==0&&T(oe,me))}function q(me,_e){me._state===z&&(me._state=U,me._result=_e,T(ie,me))}function ne(me,_e,Me,De){var se=me._subscribers,ce=se.length;me._onerror=null,se[ce]=_e,se[ce+X]=Me,se[ce+U]=De,ce===0&&me._state&&T(oe,me)}function oe(me){var _e=me._subscribers,Me=me._state;if(_e.length!==0){for(var De,se=void 0,ce=me._result,ue=0;ue<_e.length;ue+=3)De=_e[ue],se=_e[ue+Me],De?he(Me,De,se,ce):se(ce);me._subscribers.length=0}}function he(me,_e,Me,De){var se=A(Me),ce=void 0,ue=void 0,ve=!0;if(se){try{ce=Me(De)}catch(Se){ve=!1,ue=Se}if(_e===ce)return void q(_e,new TypeError("A promises callback cannot return that same promise."))}else ce=De;_e._state===z&&(se&&ve?H(_e,ce):ve===!1?q(_e,ue):me===X?Y(_e,ce):me===U&&q(_e,ce))}var de=0;function xe(me){me[ee]=de++,me._state=void 0,me._result=void 0,me._subscribers=[]}ge.prototype._enumerate=function(me){for(var _e=0;this._state===z&&_e<me.length;_e++)this._eachEntry(me[_e],_e)},ge.prototype._eachEntry=function(me,_e){var Me=this._instanceConstructor,De=Me.resolve;if(De===J){var se,ce=void 0,ue=void 0,ve=!1;try{ce=me.then}catch(Se){ve=!0,ue=Se}ce===B&&me._state!==z?this._settledAt(me._state,_e,me._result):typeof ce!="function"?(this._remaining--,this._result[_e]=me):Me===Ae?(se=new Me(V),ve?q(se,ue):ae(se,me,ce),this._willSettleAt(se,_e)):this._willSettleAt(new Me(function(Se){return Se(me)}),_e)}else this._willSettleAt(De(me),_e)},ge.prototype._settledAt=function(me,_e,Me){var De=this.promise;De._state===z&&(this._remaining--,me===U?q(De,Me):this._result[_e]=Me),this._remaining===0&&Y(De,this._result)},ge.prototype._willSettleAt=function(me,_e){var Me=this;ne(me,void 0,function(De){return Me._settledAt(X,_e,De)},function(De){return Me._settledAt(U,_e,De)})};var Ce=ge;function ge(me,_e){this._instanceConstructor=me,this.promise=new me(V),this.promise[ee]||xe(this.promise),C(_e)?(this.length=_e.length,this._remaining=_e.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(_e),this._remaining!==0)||Y(this.promise,this._result)):q(this.promise,new Error("Array Methods must be provided an Array"))}we.prototype.catch=function(me){return this.then(null,me)},we.prototype.finally=function(me){var _e=this.constructor;return A(me)?this.then(function(Me){return _e.resolve(me()).then(function(){return Me})},function(Me){return _e.resolve(me()).then(function(){throw Me})}):this.then(me,me)};var Ae=we;function we(me){if(this[ee]=de++,this._result=this._state=void 0,this._subscribers=[],V!==me){if(typeof me!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof we))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var _e=this;try{me(function(Me){H(_e,Me)},function(Me){q(_e,Me)})}catch(Me){q(_e,Me)}}}return Ae.prototype.then=B,Ae.all=function(me){return new Ce(this,me).promise},Ae.race=function(me){var _e=this;return C(me)?new _e(function(Me,De){for(var se=me.length,ce=0;ce<se;ce++)_e.resolve(me[ce]).then(Me,De)}):new _e(function(Me,De){return De(new TypeError("You must pass an array to race."))})},Ae.resolve=J,Ae.reject=function(me){var _e=new this(V);return q(_e,me),_e},Ae._setScheduler=function(me){k=me},Ae._setAsap=function(me){T=me},Ae._asap=T,Ae.polyfill=function(){var me=void 0;if(b!==void 0)me=b;else if(typeof self<"u")me=self;else try{me=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var _e=me.Promise;if(_e){var Me=null;try{Me=Object.prototype.toString.call(_e.resolve())}catch{}if(Me==="[object Promise]"&&!_e.cast)return}me.Promise=Ae},Ae.Promise=Ae},typeof _=="object"&&m!==void 0?m.exports=S():y.ES6Promise=S()}).call(this,c("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:251}],243:[function(c,m,_){var g,b;g=this,b=function(y,S){var A=5e3,C="callback";function x(k){try{delete window[k]}catch{window[k]=void 0}}function E(k){k=document.getElementById(k),k&&document.getElementsByTagName("head")[0].removeChild(k)}S.exports=function(k){var T=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],I=k,M=T.timeout||A,j=T.jsonpCallback||C,P=void 0;return new Promise(function(O,N){var D=T.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),L=j+"_"+D,R=(window[D]=function(G){O({ok:!0,json:function(){return Promise.resolve(G)}}),P&&clearTimeout(P),E(L),x(D)},I+=I.indexOf("?")===-1?"?":"&",document.createElement("script"));R.setAttribute("src",""+I+j+"="+D),T.charset&&R.setAttribute("charset",T.charset),R.id=L,document.getElementsByTagName("head")[0].appendChild(R),P=setTimeout(function(){N(new Error("JSONP request to "+k+" timed out")),x(D),E(L),window[D]=function(){x(D)}},M),R.onerror=function(){N(new Error("JSONP request to "+k+" failed")),x(D),E(L),P&&clearTimeout(P)}})}},_!==void 0&&m!==void 0?b(0,m):(b(b={exports:{}},b),g.fetchJsonp=b.exports)},{}],244:[function(c,m,_){var g=function(b){var y,S,A,C,x,E,k,T,I,M,j;if(!(b===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return j=b.document,y=function(){return b.URL||b.webkitURL||b},S=j.createElementNS("http://www.w3.org/1999/xhtml","a"),A="download"in S,C=/constructor/i.test(b.HTMLElement)||b.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent),E=function(P){(b.setImmediate||b.setTimeout)(function(){throw P},0)},k=4e4,T=function(P){setTimeout(function(){typeof P=="string"?y().revokeObjectURL(P):P.remove()},k)},I=function(P){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(P.type)?new Blob([String.fromCharCode(65279),P],{type:P.type}):P},j=(M=function(P,O,G){G||(P=I(P));var D,L,R=this,G=P.type==="application/octet-stream",Z=function(){for(var B=R,J="writestart progress write writeend".split(" "),K=void 0,ee=(J=[].concat(J)).length;ee--;){var V=B["on"+J[ee]];if(typeof V=="function")try{V.call(B,K||B)}catch(z){E(z)}}};R.readyState=R.INIT,A?(D=y().createObjectURL(P),setTimeout(function(){var B,J;S.href=D,S.download=O,B=S,J=new MouseEvent("click"),B.dispatchEvent(J),Z(),T(D),R.readyState=R.DONE})):(x||G&&C)&&b.FileReader?((L=new FileReader).onloadend=function(){var B=x?L.result:L.result.replace(/^data:[^;]*;/,"data:attachment/file;");b.open(B,"_blank")||(b.location.href=B),B=void 0,R.readyState=R.DONE,Z()},L.readAsDataURL(P),R.readyState=R.INIT):(D=D||y().createObjectURL(P),!G&&b.open(D,"_blank")||(b.location.href=D),R.readyState=R.DONE,Z(),T(D))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(P,O,N){return O=O||P.name||"download",N||(P=I(P)),navigator.msSaveOrOpenBlob(P,O)}:(j.abort=function(){},j.readyState=j.INIT=0,j.WRITING=1,j.DONE=2,j.error=j.onwritestart=j.onprogress=j.onwrite=j.onabort=j.onerror=j.onwriteend=null,function(P,O,N){return new M(P,O||P.name||"download",N)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);m!==void 0&&m.exports?m.exports.saveAs=g:u!=null},{}],245:[function(c,m,_){var g,b=Object.defineProperty,y=(b(_,"__esModule",{value:!0}),_),S={GIFEncoder:()=>Z,applyPalette:()=>function(z,X,U="rgb565"){if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<X.length)throw new Error("applyPalette() only works with 256 colors or less");const $=new Uint32Array(z.buffer),ae=$.length,H=U==="rgb444"?4096:65536,ie=new Uint8Array(ae),Y=new Array(H);if(U==="rgba4444")for(let we=0;we<ae;we++){var he=$[we],q=he>>24&255,ne=he>>16&255,oe=he>>8&255,he=255&he,de=T(he,oe,ne,q),de=de in Y?Y[de]:Y[de]=function(me,_e,Me,De,se){let ce=0,ue=1e100;for(let Be=0;Be<se.length;Be++){var ve,Se=se[Be],Ie=L(Se[3]-De);Ie>ue||(ve=Se[0],(Ie+=L(ve-me))>ue||(ve=Se[1],(Ie+=L(ve-_e))>ue||(ve=Se[2],(Ie+=L(ve-Me))>ue||(ue=Ie,ce=Be))))}return ce}(he,oe,ne,q,X);ie[we]=de}else{const we=U==="rgb444"?I:k;for(let me=0;me<ae;me++){var ge=$[me],xe=ge>>16&255,Ce=ge>>8&255,ge=255&ge,Ae=we(ge,Ce,xe),Ae=Ae in Y?Y[Ae]:Y[Ae]=function(_e,Me,De,se){let ce=0,ue=1e100;for(let Be=0;Be<se.length;Be++){var ve,Se=se[Be],Ie=L(Se[0]-_e);Ie>ue||(ve=Se[1],(Ie+=L(ve-Me))>ue||(ve=Se[2],(Ie+=L(ve-De))>ue||(ue=Ie,ce=Be)))}return ce}(ge,Ce,xe,X);ie[me]=Ae}}return ie},default:()=>V,nearestColor:()=>function(z,X,U=N){return z[R(z,X,U)]},nearestColorIndex:()=>R,nearestColorIndexWithDistance:()=>G,prequantize:()=>function(z,{roundRGB:X=5,roundAlpha:U=10,oneBitAlpha:$=null}={}){const ae=new Uint32Array(z.buffer);for(let ne=0;ne<ae.length;ne++){var q=ae[ne];let oe=q>>24&255;var H,ie=q>>16&255,Y=q>>8&255,q=255&q;oe=D(oe,U),$&&(H=typeof $=="number"?$:127,oe=oe<=H?0:255),q=D(q,X),Y=D(Y,X),ie=D(ie,X),ae[ne]=oe<<24|ie<<16|Y<<8|q<<0}},quantize:()=>function(z,X,U={}){var{format:$="rgb565",clearAlpha:ae=!0,clearAlphaColor:H=0,clearAlphaThreshold:ie=0,oneBitAlpha:Y=!1}=U;if(!z||!z.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(z instanceof Uint8Array||z instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");z=new Uint32Array(z.buffer);let q=U.useSqrt!==!1;const ne=$==="rgba4444",oe=function($e,Ke){const Qe=Ke==="rgb444"?4096:65536,Re=new Array(Qe),He=$e.length;if(Ke==="rgba4444")for(let yt=0;yt<He;++yt){var ye=$e[yt],Ge=ye>>24&255,be=ye>>16&255,ke=ye>>8&255,ye=255&ye,Te=T(ye,ke,be,Ge);let ut=Te in Re?Re[Te]:Re[Te]=O();ut.rc+=ye,ut.gc+=ke,ut.bc+=be,ut.ac+=Ge,ut.cnt++}else if(Ke==="rgb444")for(let yt=0;yt<He;++yt){var Xe=$e[yt],Le=Xe>>16&255,Ue=Xe>>8&255,Xe=255&Xe,rt=I(Xe,Ue,Le);let ut=rt in Re?Re[rt]:Re[rt]=O();ut.rc+=Xe,ut.gc+=Ue,ut.bc+=Le,ut.cnt++}else for(let yt=0;yt<He;++yt){var ot=$e[yt],st=ot>>16&255,it=ot>>8&255,ot=255&ot,vt=k(ot,it,st);let ut=vt in Re?Re[vt]:Re[vt]=O();ut.rc+=ot,ut.gc+=it,ut.bc+=st,ut.cnt++}return Re}(z,$),he=oe.length,de=he-1,xe=new Uint32Array(he+1);for(var Ce=0,ge=0;ge<he;++ge){const $e=oe[ge];$e!=null&&(Se=1/$e.cnt,ne&&($e.ac*=Se),$e.rc*=Se,$e.gc*=Se,$e.bc*=Se,oe[Ce++]=$e)}j(X)/Ce<.022&&(q=!1);for(var Ae,we,me,ge=0;ge<Ce-1;++ge)oe[ge].fw=ge+1,oe[ge+1].bk=ge,q&&(oe[ge].cnt=Math.sqrt(oe[ge].cnt));for(q&&(oe[ge].cnt=Math.sqrt(oe[ge].cnt)),ge=0;ge<Ce;++ge){P(oe,ge,!1);var _e=oe[ge].err;for(we=++xe[0];1<we&&(me=we>>1,!(oe[Ae=xe[me]].err<=_e));we=me)xe[we]=Ae;xe[we]=ge}var Me,De=Ce-X;for(ge=0;ge<De;){for(;;){var se=xe[1];if((Me=oe[se]).tm>=Me.mtm&&oe[Me.nn].mtm<=Me.tm)break;for(Me.mtm==de?se=xe[1]=xe[xe[0]--]:(P(oe,se,!1),Me.tm=ge),_e=oe[se].err,we=1;(me=we+we)<=xe[0]&&(me<xe[0]&&oe[xe[me]].err>oe[xe[me+1]].err&&me++,!(_e<=oe[Ae=xe[me]].err));we=me)xe[we]=Ae;xe[we]=se}var ce=oe[Me.nn],ue=Me.cnt,ve=ce.cnt,Se=1/(ue+ve);ne&&(Me.ac=Se*(ue*Me.ac+ve*ce.ac)),Me.rc=Se*(ue*Me.rc+ve*ce.rc),Me.gc=Se*(ue*Me.gc+ve*ce.gc),Me.bc=Se*(ue*Me.bc+ve*ce.bc),Me.cnt+=ce.cnt,Me.mtm=++ge,oe[ce.bk].fw=ce.fw,oe[ce.fw].bk=ce.bk,ce.mtm=de}let Ie=[];for(ge=0;;0){let $e=M(Math.round(oe[ge].rc),0,255),Ke=M(Math.round(oe[ge].gc),0,255),Qe=M(Math.round(oe[ge].bc),0,255),Re=255;ne&&(Re=M(Math.round(oe[ge].ac),0,255),Y&&(Be=typeof Y=="number"?Y:127,Re=Re<=Be?0:255),ae&&Re<=ie&&($e=Ke=Qe=H,Re=0));var Be=ne?[$e,Ke,Qe,Re]:[$e,Ke,Qe];if(function(He,Ge){for(let ye=0;ye<He.length;ye++){var ke=He[ye],be=ke[0]===Ge[0]&&ke[1]===Ge[1]&&ke[2]===Ge[2],ke=!(4<=ke.length&&4<=Ge.length)||ke[3]===Ge[3];if(be&&ke)return!0}return!1}(Ie,Be)||Ie.push(Be),(ge=oe[ge].fw)==0)break}return Ie},snapColorsToPalette:()=>function(z,X,U=5){if(z.length&&X.length){var $=z.map(q=>q.slice(0,3)),ae=U*U,H=z[0].length;for(let q=0;q<X.length;q++){let ne=X[q];ne=ne.length<H?[ne[0],ne[1],ne[2],255]:ne.length>H?ne.slice(0,3):ne.slice();var Y=G($,ne.slice(0,3),N),ie=Y[0],Y=Y[1];0<Y&&Y<=ae&&(z[ie]=ne)}}}};for(g in S)b(y,g,{get:S[g],enumerable:!0});var A={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function C(z=256){let X=0,U=new Uint8Array(z);return{get buffer(){return U.buffer},reset(){X=0},bytesView(){return U.subarray(0,X)},bytes(){return U.slice(0,X)},writeByte(ae){$(X+1),U[X]=ae,X++},writeBytes(ae,H=0,ie=ae.length){$(X+ie);for(let Y=0;Y<ie;Y++)U[X++]=ae[Y+H]},writeBytesView(ae,H=0,ie=ae.byteLength){$(X+ie),U.set(ae.subarray(H,H+ie),X),X+=ie}};function $(ae){var H=U.length;if(!(ae<=H)){ae=Math.max(ae,H*(H<1048576?2:1.125)>>>0),H!=0&&(ae=Math.max(ae,256));const ie=U;U=new Uint8Array(ae),0<X&&U.set(ie.subarray(0,X),0)}}}var x=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],E=function(z,X,U,ne,ae=C(512),H=new Uint8Array(256),ie=new Int32Array(5003),Y=new Int32Array(5003)){var q=ie.length,ne=Math.max(2,ne);H.fill(0),Y.fill(0),ie.fill(-1);let oe=0,he=0;var de=ne+1;const xe=de;let Ce=!1,ge=xe,Ae=(1<<ge)-1;var we=1<<de-1;const me=1+we;let _e=2+we,Me=0,De=U[0],se=0;for(let Be=q;Be<65536;Be*=2)++se;se=8-se,ae.writeByte(ne),Ie(we);var ce=U.length;for(let Be=1;Be<ce;Be++)e:{var ue=U[Be],ve=(ue<<12)+De;let $e=ue<<se^De;if(ie[$e]===ve)De=Y[$e];else{for(var Se=$e===0?1:q-$e;0<=ie[$e];)if(($e-=Se)<0&&($e+=q),ie[$e]===ve){De=Y[$e];break e}Ie(De),De=ue,_e<4096?(Y[$e]=_e++,ie[$e]=ve):(ie.fill(-1),_e=2+we,Ce=!0,Ie(we))}}return Ie(De),Ie(me),ae.writeByte(0),ae.bytesView();function Ie(Be){for(oe&=x[he],0<he?oe|=Be<<he:oe=Be,he+=ge;8<=he;)H[Me++]=255&oe,254<=Me&&(ae.writeByte(Me),ae.writeBytesView(H,0,Me),Me=0),oe>>=8,he-=8;if((_e>Ae||Ce)&&(Ce?(ge=xe,Ae=(1<<ge)-1,Ce=!1):(++ge,Ae=ge===12?1<<ge:(1<<ge)-1)),Be==me){for(;0<he;)H[Me++]=255&oe,254<=Me&&(ae.writeByte(Me),ae.writeBytesView(H,0,Me),Me=0),oe>>=8,he-=8;0<Me&&(ae.writeByte(Me),ae.writeBytesView(H,0,Me),Me=0)}}};function k(z,X,U){return z<<8&63488|X<<2&992|U>>3}function T(z,X,U,$){return z>>4|240&X|(240&U)<<4|(240&$)<<8}function I(z,X,U){return z>>4<<8|240&X|U>>4}function M(z,X,U){return z<X?X:U<z?U:z}function j(z){return z*z}function P(z,X,U){var $=0,ae=1e100;const H=z[X];for(var ie=H.cnt,Y=H.ac,q=H.rc,ne=H.gc,oe=H.bc,he=H.fw;he!=0;he=z[he].fw){var de,xe=z[he],Ce=xe.cnt,Ce=ie*Ce/(ie+Ce);ae<=Ce||(de=0,U&&ae<=(de+=Ce*j(xe.ac-Y))||ae<=(de+=Ce*j(xe.rc-q))||ae<=(de+=Ce*j(xe.gc-ne))||ae<=(de+=Ce*j(xe.bc-oe))||(ae=de,$=he))}H.err=ae,H.nn=$}function O(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function N(z,X){for(var U=0,$=0;$<z.length;$++){var ae=z[$]-X[$];U+=ae*ae}return U}function D(z,X){return 1<X?Math.round(z/X)*X:z}function L(z){return z*z}function R(z,X,U=N){let $=1/0,ae=-1;for(let ie=0;ie<z.length;ie++){var H=U(X,z[ie]);H<$&&($=H,ae=ie)}return ae}function G(z,X,U=N){let $=1/0,ae=-1;for(let ie=0;ie<z.length;ie++){var H=U(X,z[ie]);H<$&&($=H,ae=ie)}return[ae,$]}function Z(z={}){const{initialCapacity:X=4096,auto:U=!0}=z,$=C(X),ae=new Uint8Array(256),H=new Int32Array(5003),ie=new Int32Array(5003);let Y=!1;return{reset(){$.reset(),Y=!1},finish(){$.writeByte(A.trailer)},bytes(){return $.bytes()},bytesView(){return $.bytesView()},get buffer(){return $.buffer},get stream(){return $},writeHeader:q,writeFrame(ne,oe,he,De={}){var{transparent:xe=!1,transparentIndex:Ce=0,delay:Se=0,palette:ge=null,repeat:ce=0,colorDepth:Ae=8,dispose:we=-1}=De;let me=!1;if(U?Y||(me=!0,q(),Y=!0):me=!!De.first,oe=Math.max(0,Math.floor(oe)),he=Math.max(0,Math.floor(he)),me){if(!ge)throw new Error("First frame must include a { palette } option");var[De,ue,Me,ve,se=8]=[$,oe,he,ge,Ae];ve=ee(ve.length)-1,se=128|se-1<<4|ve,J(De,ue),J(De,Me),De.writeBytes([se,0,0]),B($,ge),0<=ce&&(ve=$,ue=ce,ve.writeByte(33),ve.writeByte(255),ve.writeByte(11),K(ve,"NETSCAPE2.0"),ve.writeByte(3),ve.writeByte(1),J(ve,ue),ve.writeByte(0))}var _e,Me=Math.round(Se/10),De=$,se=we,ce=Me,ue=xe,ve=Ce,Se=(De.writeByte(33),De.writeByte(249),De.writeByte(4),ve<0&&(ve=0,ue=!1),ue=ue?(_e=1,2):_e=0,0<=se&&(ue=7&se),ue<<=2,De.writeByte(0|ue|_e),J(De,ce),De.writeByte(ve||0),De.writeByte(0),!!ge&&!me);we=$,xe=oe,Ce=he,_e=Se?ge:null,we.writeByte(44),J(we,0),J(we,0),J(we,xe),J(we,Ce),_e?(xe=ee(_e.length)-1,we.writeByte(128|xe)):we.writeByte(0),Se&&B($,ge),[ce,De,Ce,xe,we=8,Se,ge,ne]=[$,ne,oe,he,Ae,ae,H,ie],E(Ce,xe,De,we,ce,Se,ge,ne)}};function q(){K($,"GIF89a")}}function B(z,X){var U=1<<ee(X.length);for(let $=0;$<U;$++){let ae=[0,0,0];$<X.length&&(ae=X[$]),z.writeByte(ae[0]),z.writeByte(ae[1]),z.writeByte(ae[2])}}function J(z,X){z.writeByte(255&X),z.writeByte(X>>8&255)}function K(z,X){for(var U=0;U<X.length;U++)z.writeByte(X.charCodeAt(U))}function ee(z){return Math.max(Math.ceil(Math.log2(z)),1)}var V=Z},{}],246:[function(c,m,_){_.read=function(g,b,y,S,P){var C,x,E=8*P-S-1,k=(1<<E)-1,T=k>>1,I=-7,M=y?P-1:0,j=y?-1:1,P=g[b+M];for(M+=j,C=P&(1<<-I)-1,P>>=-I,I+=E;0<I;C=256*C+g[b+M],M+=j,I-=8);for(x=C&(1<<-I)-1,C>>=-I,I+=S;0<I;x=256*x+g[b+M],M+=j,I-=8);if(C===0)C=1-T;else{if(C===k)return x?NaN:1/0*(P?-1:1);x+=Math.pow(2,S),C-=T}return(P?-1:1)*x*Math.pow(2,C-S)},_.write=function(g,b,y,S,A,O){var x,E,k=8*O-A-1,T=(1<<k)-1,I=T>>1,M=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,j=S?0:O-1,P=S?1:-1,O=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(E=isNaN(b)?1:0,x=T):(x=Math.floor(Math.log(b)/Math.LN2),b*(S=Math.pow(2,-x))<1&&(x--,S*=2),2<=(b+=1<=x+I?M/S:M*Math.pow(2,1-I))*S&&(x++,S/=2),T<=x+I?(E=0,x=T):1<=x+I?(E=(b*S-1)*Math.pow(2,A),x+=I):(E=b*Math.pow(2,I-1)*Math.pow(2,A),x=0));8<=A;g[y+j]=255&E,j+=P,E/=256,A-=8);for(x=x<<A|E,k+=A;0<k;g[y+j]=255&x,j+=P,x/=256,k-=8);g[y+j-P]|=128*O}},{}],247:[function(c,m,_){var g;function b(be,ke){return be.b===ke.b&&be.a===ke.a}function y(be,ke){return be.b<ke.b||be.b===ke.b&&be.a<=ke.a}function S(be,ke,ye){var Te=ke.b-be.b,Le=ye.b-ke.b;return 0<Te+Le?Te<Le?ke.a-be.a+Te/(Te+Le)*(be.a-ye.a):ke.a-ye.a+Le/(Te+Le)*(ye.a-be.a):0}function A(be,ke,ye){var Te=ke.b-be.b,Le=ye.b-ke.b;return 0<Te+Le?(ke.a-ye.a)*Te+(ke.a-be.a)*Le:0}function C(be,ke){return be.a<ke.a||be.a===ke.a&&be.b<=ke.b}function x(be,ke,ye){var Te=ke.a-be.a,Le=ye.a-ke.a;return 0<Te+Le?Te<Le?ke.b-be.b+Te/(Te+Le)*(be.b-ye.b):ke.b-ye.b+Le/(Te+Le)*(ye.b-be.b):0}function E(be,ke,ye){var Te=ke.a-be.a,Le=ye.a-ke.a;return 0<Te+Le?(ke.b-ye.b)*Te+(ke.b-be.b)*Le:0}function k(be,ke,ye,Te){return(be=be<0?0:be)<=(ye=ye<0?0:ye)?ye===0?(ke+Te)/2:ke+be/(be+ye)*(Te-ke):Te+ye/(be+ye)*(ke-Te)}function T(be){var ke=O(be.b);return D(ke,be.c),D(ke.b,be.c),L(ke,be.a),ke}function I(be,ke){var ye=!1,Te=!1;be!==ke&&(ke.a!==be.a&&(Te=!0,G(ke.a,be.a)),ke.d!==be.d&&(ye=!0,Z(ke.d,be.d)),N(ke,be),Te||(D(ke,be.a),be.a.c=be),ye||(L(ke,be.d),be.d.a=be))}function M(be){var ke=be.b,ye=!1;be.d!==be.b.d&&(ye=!0,Z(be.d,be.b.d)),be.c===be?G(be.a,null):(be.b.d.a=be.b.e,be.a.c=be.c,N(be,be.b.e),ye||L(be,be.d)),ke.c===ke?(G(ke.a,null),Z(ke.d,null)):(be.d.a=ke.b.e,ke.a.c=ke.c,N(ke,ke.b.e)),R(be)}function j(be){var ke=O(be),ye=ke.b;return N(ke,be.e),ke.a=be.b.a,D(ye,ke.a),ke.d=ye.d=be.d,ke=ke.b,N(be.b,be.b.b.e),N(be.b,ke),be.b.a=ke.a,ke.b.a.c=ke.b,ke.b.d=be.b.d,ke.f=be.f,ke.b.f=be.b.f,ke}function P(be,ke){var ye=!1,Te=O(be),Le=Te.b;return ke.d!==be.d&&(ye=!0,Z(ke.d,be.d)),N(Te,be.e),N(Le,ke),Te.a=be.b.a,Le.a=ke.a,Te.d=Le.d=be.d,be.d.a=Le,ye||L(Te,be.d),Te}function O(be){var ke=new Me,ye=new Me,Te=be.b.h;return(((ye.h=Te).b.h=ke).h=be).b.h=ye,ke.b=ye,((ke.c=ke).e=ye).b=ke,(ye.c=ye).e=ke}function N(be,ke){var ye=be.c,Te=ke.c;ye.b.e=ke,(Te.b.e=be).c=Te,ke.c=ye}function D(be,ke){var ye=ke.f,Te=new se(ke,ye);for(ye.e=Te,ye=(ke.f=Te).c=be;ye.a=Te,(ye=ye.c)!==be;);}function L(be,ke){var ye=ke.d,Te=new _e(ke,ye);for(ye.b=Te,(ke.d=Te).a=be,Te.c=ke.c,ye=be;ye.d=Te,(ye=ye.e)!==be;);}function R(be){var ke=be.h;be=be.b.h,(ke.b.h=be).b.h=ke}function G(be,ke){for(var ye=be.c,Te=ye;Te.a=ke,(Te=Te.c)!==ye;);ye=be.f,((Te=be.e).f=ye).e=Te}function Z(be,ke){for(var ye=be.a,Te=ye;Te.d=ke,(Te=Te.e)!==ye;);ye=be.d,((Te=be.b).d=ye).b=Te}function B(be){var ke=0;return Math.abs(be[1])>Math.abs(be[0])&&(ke=1),ke=Math.abs(be[2])>Math.abs(be[ke])?2:ke}function J(be,ke){be.f+=ke.f,be.b.f+=ke.b.f}function K(be,ke,ye){return be=be.a,ke=ke.a,ye=ye.a,ke.b.a===be?ye.b.a===be?y(ke.a,ye.a)?A(ye.b.a,ke.a,ye.a)<=0:0<=A(ke.b.a,ye.a,ke.a):A(ye.b.a,be,ye.a)<=0:ye.b.a===be?0<=A(ke.b.a,be,ke.a):(ke=S(ke.b.a,be,ke.a),(be=S(ye.b.a,be,ye.a))<=ke)}function ee(be){be.a.i=null;var ke=be.e;ke.a.c=ke.c,ke.c.a=ke.a,be.e=null}function V(be,ke){M(be.a),be.c=!1,(be.a=ke).i=be}function z(be){for(var ke=be.a.a;(be=Ge(be)).a.a===ke;);return be.c&&(V(be,ke=P(He(be).a.b,be.a.e)),be=Ge(be)),be}function X(be,ke,ye){var Te=new Re;return Te.a=ye,Te.e=Ce(be.f,ke.e,Te),ye.i=Te}function U(be,ke){switch(be.s){case 100130:return(1&ke)!=0;case 100131:return ke!==0;case 100132:return 0<ke;case 100133:return ke<0;case 100134:return 2<=ke||ke<=-2}return!1}function $(be){var ke=be.a,ye=ke.d;ye.c=be.d,ye.a=ke,ee(be)}function ae(be,ke,ye){for(ke=(be=ke).a;be!==ye;){be.c=!1;var Te=He(be),Le=Te.a;if(Le.a!==ke.a){if(!Te.c){$(be);break}V(Te,Le=P(ke.c.b,Le.b))}ke.c!==Le&&(I(Le.b.e,Le),I(ke,Le)),$(be),ke=Te.a,be=Te}return ke}function H(be,ke,ye,Te,Le,Ue){for(var Xe=!0;X(be,ke,ye.b),(ye=ye.c)!==Te;);for(Le===null&&(Le=He(ke).a.b.c);(ye=(Te=He(ke)).a.b).a===Le.a;)ye.c!==Le&&(I(ye.b.e,ye),I(Le.b.e,ye)),Te.f=ke.f-ye.f,Te.d=U(be,Te.f),ke.b=!0,!Xe&&ne(be,ke)&&(J(ye,Le),ee(ke),M(Le)),Xe=!1,ke=Te,Le=ye;ke.b=!0,Ue&&he(be,ke)}function ie(be,ke,ye,Te,Le){var Ue=[ke.g[0],ke.g[1],ke.g[2]];ke.d=null,ke.d=be.o&&be.o(Ue,ye,Te,be.c)||null,ke.d===null&&(Le?be.n||(me(be,100156),be.n=!0):ke.d=ye[0])}function Y(be,ke,ye){var Te=[null,null,null,null];Te[0]=ke.a.d,Te[1]=ye.a.d,ie(be,ke.a,Te,[.5,.5,0,0],!1),I(ke,ye)}function q(be,ke,ye,Te,Le){var Ue=Math.abs(ke.b-be.b)+Math.abs(ke.a-be.a),Xe=Math.abs(ye.b-be.b)+Math.abs(ye.a-be.a),rt=Le+1;Te[Le]=.5*Xe/(Ue+Xe),Te[rt]=.5*Ue/(Ue+Xe),be.g[0]+=Te[Le]*ke.g[0]+Te[rt]*ye.g[0],be.g[1]+=Te[Le]*ke.g[1]+Te[rt]*ye.g[1],be.g[2]+=Te[Le]*ke.g[2]+Te[rt]*ye.g[2]}function ne(be,ke){var ye=He(ke),Te=ke.a,Le=ye.a;if(y(Te.a,Le.a)){if(0<A(Le.b.a,Te.a,Le.a))return;if(b(Te.a,Le.a)){if(Te.a!==Le.a){var ye=be.e,Ue=Te.a.h;if(0<=Ue){var Xe=(ye=ye.b).d,rt=ye.e,st=ye.c,it=st[Ue];Xe[it]=Xe[ye.a],(st[Xe[it]]=it)<=--ye.a&&(it<=1||y(rt[Xe[it>>1]],rt[Xe[it]])?Ke:Qe)(ye,it),rt[Ue]=null,st[Ue]=ye.b,ye.b=Ue}else for(ye.c[-(Ue+1)]=null;0<ye.a&&ye.c[ye.d[ye.a-1]]===null;)--ye.a;Y(be,Le.b.e,Te)}}else j(Le.b),I(Te,Le.b.e),ke.b=ye.b=!0}else{if(A(Te.b.a,Le.a,Te.a)<0)return;Ge(ke).b=ke.b=!0,j(Te.b),I(Le.b.e,Te)}return 1}function oe(be,ke){var ye=He(ke),Te=ke.a,Le=ye.a,Ue=Te.a,Xe=Le.a,rt=Te.b.a,st=Le.b.a,it=new se;if(A(rt,be.a,Ue),A(st,be.a,Xe),!(Ue===Xe||Math.min(Ue.a,rt.a)>Math.max(Xe.a,st.a))){if(y(Ue,Xe)){if(0<A(st,Ue,Xe))return}else if(A(rt,Xe,Ue)<0)return;var ot,vt,yt=rt,ut=Ue,gt=st,mt=Xe;if(y(yt,ut)||(ot=yt,yt=ut,ut=ot),y(gt,mt)||(ot=gt,gt=mt,mt=ot),y(yt,gt)||(ot=yt,yt=gt,gt=ot,ot=ut,ut=mt,mt=ot),y(gt,ut)?y(ut,mt)?((ot=S(yt,gt,ut))+(vt=S(gt,ut,mt))<0&&(ot=-ot,vt=-vt),it.b=k(ot,gt.b,vt,ut.b)):((ot=A(yt,gt,ut))+(vt=-A(yt,mt,ut))<0&&(ot=-ot,vt=-vt),it.b=k(ot,gt.b,vt,mt.b)):it.b=(gt.b+ut.b)/2,C(yt,ut)||(ot=yt,yt=ut,ut=ot),C(gt,mt)||(ot=gt,gt=mt,mt=ot),C(yt,gt)||(ot=yt,yt=gt,gt=ot,ot=ut,ut=mt,mt=ot),C(gt,ut)?C(ut,mt)?((ot=x(yt,gt,ut))+(vt=x(gt,ut,mt))<0&&(ot=-ot,vt=-vt),it.a=k(ot,gt.a,vt,ut.a)):((ot=E(yt,gt,ut))+(vt=-E(yt,mt,ut))<0&&(ot=-ot,vt=-vt),it.a=k(ot,gt.a,vt,mt.a)):it.a=(gt.a+ut.a)/2,y(it,be.a)&&(it.b=be.a.b,it.a=be.a.a),yt=y(Ue,Xe)?Ue:Xe,y(yt,it)&&(it.b=yt.b,it.a=yt.a),b(it,Ue)||b(it,Xe))return ne(be,ke),0;if(!b(rt,be.a)&&0<=A(rt,be.a,it)||!b(st,be.a)&&A(st,be.a,it)<=0){if(st===be.a)j(Te.b),I(Le.b,Te),Te=He(ke=z(ke)).a,ae(be,He(ke),ye),H(be,ke,Te.b.e,Te,Te,!0);else{if(rt!==be.a)return 0<=A(rt,be.a,it)&&(Ge(ke).b=ke.b=!0,j(Te.b),Te.a.b=be.a.b,Te.a.a=be.a.a),void(A(st,be.a,it)<=0&&(ke.b=ye.b=!0,j(Le.b),Le.a.b=be.a.b,Le.a.a=be.a.a));for(j(Le.b),I(Te.e,Le.b.e),Xe=(Ue=ye=ke).a.b.a;(Ue=Ge(Ue)).a.b.a===Xe;);Ue=He(ke=Ue).a.b.c,ye.a=Le.b.e,H(be,ke,(Le=ae(be,ye,null)).c,Te.b.c,Ue,!0)}return 1}j(Te.b),j(Le.b),I(Le.b.e,Te),Te.a.b=it.b,Te.a.a=it.a,Te.a.h=ue(be.e,Te.a),Te=Te.a,Le=[0,0,0,0],it=[Ue.d,rt.d,Xe.d,st.d],Te.g[0]=Te.g[1]=Te.g[2]=0,q(Te,Ue,rt,Le,0),q(Te,Xe,st,Le,2),ie(be,Te,it,Le,!0),Ge(ke).b=ke.b=ye.b=!0}}function he(be,ke){for(var ye=He(ke);;){for(;ye.b;)ye=He(ke=ye);if(!ke.b&&((ke=Ge(ye=ke))===null||!ke.b))break;ke.b=!1;var Te=ke.a,Le=ye.a;if(Ue=Te.b.a!==Le.b.a)e:{var Ue,Xe=He(Ue=ke),rt=Ue.a,st=Xe.a,it=void 0;if(y(rt.b.a,st.b.a)){if(A(rt.b.a,st.b.a,rt.a)<0){Ue=!1;break e}Ge(Ue).b=Ue.b=!0,it=j(rt),I(st.b,it),it.d.c=Ue.d}else{if(0<A(st.b.a,rt.b.a,st.a)){Ue=!1;break e}Ue.b=Xe.b=!0,it=j(st),I(rt.e,st.b),it.b.d.c=Ue.d}Ue=!0}if(Ue&&(ye.c?(ee(ye),M(Le),Le=(ye=He(ke)).a):ke.c&&(ee(ke),M(Te),Te=(ke=Ge(ye)).a)),Te.a!==Le.a){if(Te.b.a===Le.b.a||ke.c||ye.c||Te.b.a!==be.a&&Le.b.a!==be.a)ne(be,ke);else if(oe(be,ke))break}Te.a===Le.a&&Te.b.a===Le.b.a&&(J(Le,Te),ee(ke),M(Te),ke=Ge(ye))}}function de(be,ke){var ye=new Re,Te=T(be.b);Te.a.b=4e150,Te.a.a=ke,Te.b.a.b=-4e150,Te.b.a.a=ke,be.a=Te.b.a,ye.a=Te,ye.f=0,ye.d=!1,ye.c=!1,ye.h=!0,ye.b=!1,Te=Ce(Te=be.f,Te.a,ye),ye.e=Te}function xe(be){this.a=new ge,this.b=be,this.c=K}function Ce(be,ke,ye){for(;(ke=ke.c).b!==null&&!be.c(be.b,ke.b,ye););return be=new ge(ye,ke.a,ke),ke.a.c=be,ke.a=be}function ge(be,ke,ye){this.b=be||null,this.a=ke||this,this.c=ye||this}function Ae(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function we(be,ke){if(be.d!==ke)for(;be.d!==ke;)if(be.d<ke)switch(be.d){case 0:me(be,100151),be.u(null);break;case 1:me(be,100152),be.t()}else switch(be.d){case 2:me(be,100154),be.v();break;case 1:me(be,100153),be.w()}}function me(be,ke){be.p&&be.p(ke,be.c)}function _e(be,ke){this.b=be||this,this.d=ke||this,this.a=null,this.c=!1}function Me(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function De(){this.c=new se,this.a=new _e,this.b=new Me,this.d=new Me,this.b.b=this.d,this.d.b=this.b}function se(be,ke){this.e=be||this,this.f=ke||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ce(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Se}function ue(be,ke){var ye,Te,Le;return be.e?(2*(Te=++(ye=be.b).a)>ye.f&&(ye.f*=2,ye.c=Ie(ye.c,ye.f+1)),ye.b===0?Le=Te:(Le=ye.b,ye.b=ye.c[ye.b]),ye.e[Le]=ke,ye.c[Le]=Te,ye.d[Te]=Le,ye.h&&Qe(ye,Te),Le):(ye=be.a++,be.c[ye]=ke,-(ye+1))}function ve(be){if(be.a===0)return $e(be.b);var ke=be.c[be.d[be.a-1]];if(be.b.a!==0&&y(Be(be.b),ke))return $e(be.b);for(;--be.a,0<be.a&&be.c[be.d[be.a-1]]===null;);return ke}function Se(){this.d=Ie([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function Ie(be,ke){for(var ye=Array(ke),Te=0;Te<be.length;Te++)ye[Te]=be[Te];for(;Te<ke;Te++)ye[Te]=0;return ye}function Be(be){return be.e[be.d[1]]}function $e(be){var ke=be.d,ye=be.e,Te=be.c,Le=ke[1],Ue=ye[Le];return 0<be.a&&(ke[1]=ke[be.a],Te[ke[1]]=1,ye[Le]=null,Te[Le]=be.b,be.b=Le,0<--be.a&&Ke(be,1)),Ue}function Ke(be,ke){for(var ye=be.d,Te=be.e,Le=be.c,Ue=ke,Xe=ye[Ue];;){var rt=Ue<<1,st=(rt<be.a&&y(Te[ye[rt+1]],Te[ye[rt]])&&(rt+=1),ye[rt]);if(rt>be.a||y(Te[Xe],Te[st])){Le[ye[Ue]=Xe]=Ue;break}Le[ye[Ue]=st]=Ue,Ue=rt}}function Qe(be,ke){for(var ye=be.d,Te=be.e,Le=be.c,Ue=ke,Xe=ye[Ue];;){var rt=Ue>>1,st=ye[rt];if(rt==0||y(Te[st],Te[Xe])){Le[ye[Ue]=Xe]=Ue;break}Le[ye[Ue]=st]=Ue,Ue=rt}}function Re(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function He(be){return be.e.c.b}function Ge(be){return be.e.a.b}(g=Ae.prototype).x=function(){we(this,0)},g.B=function(be,ke){switch(be){case 100142:return;case 100140:switch(ke){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ke)}break;case 100141:return void(this.m=!!ke);default:return void me(this,100900)}me(this,100901)},g.y=function(be){switch(be){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:me(this,100900)}return!1},g.A=function(be,ke,ye){this.j[0]=be,this.j[1]=ke,this.j[2]=ye},g.z=function(be,ke){var ye=ke||null;switch(be){case 100100:case 100106:this.h=ye;break;case 100104:case 100110:this.l=ye;break;case 100101:case 100107:this.k=ye;break;case 100102:case 100108:this.i=ye;break;case 100103:case 100109:this.p=ye;break;case 100105:case 100111:this.o=ye;break;case 100112:this.r=ye;break;default:me(this,100900)}},g.C=function(be,ke){var ye=!1,Te=[0,0,0];we(this,2);for(var Le=0;Le<3;++Le){var Ue=be[Le];Ue<-1e150&&(Ue=-1e150,ye=!0),1e150<Ue&&(Ue=1e150,ye=!0),Te[Le]=Ue}ye&&me(this,100155),(ye=this.q)===null?I(ye=T(this.b),ye.b):(j(ye),ye=ye.e),ye.a.d=ke,ye.a.g[0]=Te[0],ye.a.g[1]=Te[1],ye.a.g[2]=Te[2],ye.f=1,ye.b.f=-1,this.q=ye},g.u=function(be){we(this,0),this.d=1,this.b=new De,this.c=be},g.t=function(){we(this,1),this.d=2,this.q=null},g.v=function(){we(this,2),this.d=1},g.w=function(){we(this,1),this.d=0;var be,ke,ye=this.j[0],Te=this.j[1],Le=this.j[2],Ue=!1,Xe=[ye,Te,Le];if(ye===0&&Te===0&&Le===0){for(var Te=[-2e150,-2e150,-2e150],rt=[2e150,2e150,2e150],Le=[],st=[],ye=(Ue=this.b.c).e;ye!==Ue;ye=ye.e)for(var it=0;it<3;++it){var ot=ye.g[it];ot<rt[it]&&(rt[it]=ot,st[it]=ye),ot>Te[it]&&(Te[it]=ot,Le[it]=ye)}if(Te[1]-rt[1]>Te[ye=0]-rt[0]&&(ye=1),rt[ye=Te[2]-rt[2]>Te[ye]-rt[ye]?2:ye]>=Te[ye])Xe[0]=0,Xe[1]=0,Xe[2]=1;else{for(rt=st[ye],Le=Le[ye],st=[Te=0,0,0],rt=[rt.g[0]-Le.g[0],rt.g[1]-Le.g[1],rt.g[2]-Le.g[2]],it=[0,0,0],ye=Ue.e;ye!==Ue;ye=ye.e)it[0]=ye.g[0]-Le.g[0],it[1]=ye.g[1]-Le.g[1],it[2]=ye.g[2]-Le.g[2],st[0]=rt[1]*it[2]-rt[2]*it[1],st[1]=rt[2]*it[0]-rt[0]*it[2],st[2]=rt[0]*it[1]-rt[1]*it[0],Te<(ot=st[0]*st[0]+st[1]*st[1]+st[2]*st[2])&&(Te=ot,Xe[0]=st[0],Xe[1]=st[1],Xe[2]=st[2]);Te<=0&&(Xe[0]=Xe[1]=Xe[2]=0,Xe[B(rt)]=1)}Ue=!0}for(st=B(Xe),ye=this.b.c,Te=(st+1)%3,Le=(st+2)%3,st=0<Xe[st]?1:-1,Xe=ye.e;Xe!==ye;Xe=Xe.e)Xe.b=Xe.g[Te],Xe.a=st*Xe.g[Le];if(Ue){for(Xe=0,ye=(Ue=this.b.a).b;ye!==Ue;ye=ye.b)if(!((Te=ye.a).f<=0))for(;Xe+=(Te.a.b-Te.b.a.b)*(Te.a.a+Te.b.a.a),(Te=Te.e)!==ye.a;);if(Xe<0)for(Ue=(Xe=this.b.c).e;Ue!==Xe;Ue=Ue.e)Ue.a=-Ue.a}for(this.n=!1,Xe=this.b.b,ye=Xe.h;ye!==Xe;ye=Ue)Ue=ye.h,Te=ye.e,b(ye.a,ye.b.a)&&ye.e.e!==ye&&(Y(this,Te,ye),M(ye),Te=(ye=Te).e),Te.e===ye&&(Te!==ye&&(Te!==Ue&&Te!==Ue.b||(Ue=Ue.h),M(Te)),ye!==Ue&&ye!==Ue.b||(Ue=Ue.h),M(ye));for(this.e=Xe=new ce,Ue=this.b.c,ye=Ue.e;ye!==Ue;ye=ye.e)ye.h=ue(Xe,ye);var vt=Xe;vt.d=[];for(var yt=0;yt<vt.a;yt++)vt.d[yt]=yt;vt.d.sort(function(mt){return function(jt,Kt){return y(mt[jt],mt[Kt])?1:-1}}(vt.c)),vt.e=!0;for(var ut=vt.b,gt=ut.a;1<=gt;--gt)Ke(ut,gt);for(ut.h=!0,this.f=new xe(this),de(this,-4e150),de(this,4e150);(Xe=ve(this.e))!==null;){for(;;){e:if((ye=this.e).a===0)Ue=Be(ye.b);else if(Ue=ye.c[ye.d[ye.a-1]],ye.b.a!==0&&y(ye=Be(ye.b),Ue)){Ue=ye;break e}if(Ue===null||!b(Ue,Xe))break;Ue=ve(this.e),Y(this,Xe.c,Ue.c)}(function mt(jt,Kt){for(var Vt,kt=(jt.a=Kt).c;kt.i===null;)if((kt=kt.c)===Kt.c){var kt=jt,Ot=Kt;(Tt=new Re).a=Ot.c.b;for(var $t=(xt=kt.f).a;($t=$t.a).b!==null&&!xt.c(xt.b,Tt,$t.b););var xt,Xt,Wt=He(xt=$t.b),Tt=xt.a,$t=Wt.a;return void(A(Tt.b.a,Ot,Tt.a)===0?b((Tt=xt.a).a,Ot)||b(Tt.b.a,Ot)||(j(Tt.b),xt.c&&(M(Tt.c),xt.c=!1),I(Ot.c,Tt),mt(kt,Ot)):(Xt=y($t.b.a,Tt.b.a)?xt:Wt,Wt=void 0,xt.d||Xt.c?(Wt=Xt===xt?P(Ot.c.b,Tt.e):P($t.b.c.b,Ot.c).b,Xt.c?V(Xt,Wt):((xt=X(Tt=kt,xt,Wt)).f=Ge(xt).f+xt.a.f,xt.d=U(Tt,xt.f)),mt(kt,Ot)):H(kt,xt,Ot.c,Ot.c,null,!0)))}xt=(Tt=He(kt=z(kt.i))).a,(Tt=ae(jt,Tt,null)).c===xt?(Tt=(xt=Tt).c,$t=He(kt),Wt=kt.a,Xt=$t.a,Vt=!1,Wt.b.a!==Xt.b.a&&oe(jt,kt),b(Wt.a,jt.a)&&(I(Tt.b.e,Wt),Tt=He(kt=z(kt)).a,ae(jt,He(kt),$t),Vt=!0),b(Xt.a,jt.a)&&(I(xt,Xt.b.e),xt=ae(jt,$t,null),Vt=!0),Vt?H(jt,kt,xt.c,Tt,Tt,!0):(Ot=y(Xt.a,Wt.a)?Xt.b.e:Wt,H(jt,kt,Ot=P(xt.c.b,Ot),Ot.c,Ot.c,!1),Ot.b.i.c=!0,he(jt,kt))):H(jt,kt,Tt.c,xt,xt,!0)})(this,Xe)}for(this.a=this.f.a.a.b.a.a,Xe=0;(Ue=this.f.a.a.b)!==null;)Ue.h||++Xe,ee(Ue);for(this.f=null,(Xe=this.e).b=null,Xe.d=null,this.e=Xe.c=null,Xe=this.b,ye=Xe.a.b;ye!==Xe.a;ye=Ue)Ue=ye.b,(ye=ye.a).e.e===ye&&(J(ye.c,ye),M(ye));if(!this.n){if(Xe=this.b,this.m)for(ye=Xe.b.h;ye!==Xe.b;ye=Ue)Ue=ye.h,ye.b.d.c!==ye.d.c?ye.f=ye.d.c?1:-1:M(ye);else for(ye=Xe.a.b;ye!==Xe.a;ye=Ue)if(Ue=ye.b,ye.c){for(ye=ye.a;y(ye.b.a,ye.a);ye=ye.c.b);for(;y(ye.a,ye.b.a);ye=ye.e);for(Te=ye.c.b,Le=void 0;ye.e!==Te;)if(y(ye.b.a,Te.a)){for(;Te.e!==ye&&(y((ke=Te.e).b.a,ke.a)||A(Te.a,Te.b.a,Te.e.b.a)<=0);)Te=(Le=P(Te.e,Te)).b;Te=Te.c.b}else{for(;Te.e!==ye&&(y((be=ye.c.b).a,be.b.a)||0<=A(ye.b.a,ye.a,ye.c.b.a));)ye=(Le=P(ye,ye.c.b)).b;ye=ye.e}for(;Te.e.e!==ye;)Le=P(Te.e,Te),Te=Le.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ue=(Xe=this.b).a.b;Ue!==Xe.a;Ue=Ue.b)if(Ue.c){for(this.h&&this.h(2,this.c),ye=Ue.a;this.k&&this.k(ye.a.d,this.c),(ye=ye.e)!==Ue.a;);this.i&&this.i(this.c)}}else{for(Xe=this.b,Ue=!!this.l,ye=!1,Te=-1,Le=Xe.a.d;Le!==Xe.a;Le=Le.d)if(Le.c)for(ye||(this.h&&this.h(4,this.c),ye=!0),st=Le.a;Ue&&(rt=st.b.d.c?0:1,Te!==rt&&(Te=rt,this.l&&this.l(!!Te,this.c))),this.k&&this.k(st.a.d,this.c),(st=st.e)!==Le.a;);ye&&this.i&&this.i(this.c)}if(this.r){for(Xe=this.b,ye=Xe.a.b;ye!==Xe.a;ye=Ue)if(Ue=ye.b,!ye.c){for(Le=(Te=ye.a).e,st=void 0;Le=(st=Le).e,(st.d=null)===st.b.d&&(st.c===st?G(st.a,null):(st.a.c=st.c,N(st,st.b.e)),(rt=st.b).c===rt?G(rt.a,null):(rt.a.c=rt.c,N(rt,rt.b.e)),R(st)),st!==Te;);Te=ye.d,((ye=ye.b).d=Te).b=ye}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Ae,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Ae.prototype.gluDeleteTess=Ae.prototype.x,Ae.prototype.gluTessProperty=Ae.prototype.B,Ae.prototype.gluGetTessProperty=Ae.prototype.y,Ae.prototype.gluTessNormal=Ae.prototype.A,Ae.prototype.gluTessCallback=Ae.prototype.z,Ae.prototype.gluTessVertex=Ae.prototype.C,Ae.prototype.gluTessBeginPolygon=Ae.prototype.u,Ae.prototype.gluTessBeginContour=Ae.prototype.t,Ae.prototype.gluTessEndContour=Ae.prototype.v,Ae.prototype.gluTessEndPolygon=Ae.prototype.w,m!==void 0&&(m.exports=this.libtess)},{}],248:[function(c,m,_){function g(y,S,A,C){var x=0,E=(C=C===void 0?{}:C).loop===void 0?null:C.loop,k=C.palette===void 0?null:C.palette;if(S<=0||A<=0||65535<S||65535<A)throw new Error("Width/Height invalid.");function T(L){if(L=L.length,L<2||256<L||L&L-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return L}y[x++]=71,y[x++]=73,y[x++]=70,y[x++]=56,y[x++]=57,y[x++]=97;var I=0,M=0;if(k!==null){for(var j=T(k);j>>=1;)++I;if(j=1<<I,--I,C.background!==void 0){if(j<=(M=C.background))throw new Error("Background index out of range.");if(M===0)throw new Error("Background index explicitly passed as 0.")}}if(y[x++]=255&S,y[x++]=S>>8&255,y[x++]=255&A,y[x++]=A>>8&255,y[x++]=(k!==null?128:0)|I,y[x++]=M,y[x++]=0,k!==null)for(var P=0,O=k.length;P<O;++P){var N=k[P];y[x++]=N>>16&255,y[x++]=N>>8&255,y[x++]=255&N}if(E!==null){if(E<0||65535<E)throw new Error("Loop count invalid.");y[x++]=33,y[x++]=255,y[x++]=11,y[x++]=78,y[x++]=69,y[x++]=84,y[x++]=83,y[x++]=67,y[x++]=65,y[x++]=80,y[x++]=69,y[x++]=50,y[x++]=46,y[x++]=48,y[x++]=3,y[x++]=1,y[x++]=255&E,y[x++]=E>>8&255,y[x++]=0}var D=!1;this.addFrame=function(L,R,G,Z,B,J){if(D===!0&&(--x,D=!1),J=J===void 0?{}:J,L<0||R<0||65535<L||65535<R)throw new Error("x/y invalid.");if(G<=0||Z<=0||65535<G||65535<Z)throw new Error("Width/Height invalid.");if(B.length<G*Z)throw new Error("Not enough pixels for the frame size.");var K=!0,ee=J.palette;if(ee==null&&(K=!1,ee=k),ee==null)throw new Error("Must supply either a local or global palette.");for(var z=T(ee),V=0;z>>=1;)++V;var z=1<<V,X=J.delay===void 0?0:J.delay,U=J.disposal===void 0?0:J.disposal;if(U<0||3<U)throw new Error("Disposal out of range.");var $=!1,ae=0;if(J.transparent!==void 0&&J.transparent!==null&&($=!0,(ae=J.transparent)<0||z<=ae))throw new Error("Transparent color index.");if(U===0&&!$&&X===0||(y[x++]=33,y[x++]=249,y[x++]=4,y[x++]=U<<2|($===!0?1:0),y[x++]=255&X,y[x++]=X>>8&255,y[x++]=ae,y[x++]=0),y[x++]=44,y[x++]=255&L,y[x++]=L>>8&255,y[x++]=255&R,y[x++]=R>>8&255,y[x++]=255&G,y[x++]=G>>8&255,y[x++]=255&Z,y[x++]=Z>>8&255,y[x++]=K===!0?128|V-1:0,K===!0)for(var H=0,ie=ee.length;H<ie;++H){var Y=ee[H];y[x++]=Y>>16&255,y[x++]=Y>>8&255,y[x++]=255&Y}return x=function(q,ne,oe,he){q[ne++]=oe;var de=ne++,xe=1<<oe,Ce=xe-1,ge=1+xe,Ae=1+ge,we=oe+1,me=0,_e=0;function Me($e){for(;$e<=me;)q[ne++]=255&_e,_e>>=8,me-=8,ne===de+256&&(q[de]=255,de=ne++)}function De($e){_e|=$e<<me,me+=we,Me(8)}var se=he[0]&Ce,ce={};De(xe);for(var ue=1,ve=he.length;ue<ve;++ue){var Se=he[ue]&Ce,Ie=se<<8|Se,Be=ce[Ie];if(Be===void 0){for(_e|=se<<me,me+=we;8<=me;)q[ne++]=255&_e,_e>>=8,me-=8,ne===de+256&&(q[de]=255,de=ne++);Ae===4096?(De(xe),Ae=1+ge,we=oe+1,ce={}):(1<<we<=Ae&&++we,ce[Ie]=Ae++),se=Se}else se=Be}return De(se),De(ge),Me(1),de+1===ne?q[de]=0:(q[de]=ne-de-1,q[ne++]=0),ne}(y,x,V<2?2:V,B)},this.end=function(){return D===!1&&(y[x++]=59,D=!0),x},this.getOutputBuffer=function(){return y},this.setOutputBuffer=function(L){y=L},this.getOutputBufferPosition=function(){return x},this.setOutputBufferPosition=function(L){x=L}}function b(y,S,A,C){for(var x=y[S++],E=1<<x,k=1+E,T=1+k,I=x+1,M=(1<<I)-1,j=0,P=0,O=0,N=y[S++],D=new Int32Array(4096),L=null;;){for(;j<16&&N!==0;)P|=y[S++]<<j,j+=8,N===1?N=y[S++]:--N;if(j<I)break;var R=P&M;if(P>>=I,j-=I,R==E)T=1+k,M=(1<<(I=x+1))-1,L=null;else{if(R==k)break;for(var G=R<T?R:L,Z=0,B=G;E<B;)B=D[B]>>8,++Z;var J=B;if(C<O+Z+(G!==R?1:0))return void console.log("Warning, gif stream longer than expected.");A[O++]=J;var K=O+=Z;for(G!==R&&(A[O++]=J),B=G;Z--;)B=D[B],A[--K]=255&B,B>>=8;L!==null&&T<4096&&(D[T++]=L<<8|J,M+1<=T&&I<12&&(++I,M=M<<1|1)),L=R}}O!==C&&console.log("Warning, gif stream shorter than expected.")}try{_.GifWriter=g,_.GifReader=function(y){var S=0;if(y[S++]!==71||y[S++]!==73||y[S++]!==70||y[S++]!==56||(y[S++]+1&253)!=56||y[S++]!==97)throw new Error("Invalid GIF 87a/89a header.");var A=y[S++]|y[S++]<<8,C=y[S++]|y[S++]<<8,x=y[S++],E=1<<1+(7&x),k=(y[S++],y[S++],null),T=null,I=(x>>7&&(k=S,S+=3*(T=E)),!0),M=[],j=0,P=null,O=0,N=null;for(this.width=A,this.height=C;I&&S<y.length;)switch(y[S++]){case 33:switch(y[S++]){case 255:if(y[S]!==11||y[S+1]==78&&y[S+2]==69&&y[S+3]==84&&y[S+4]==83&&y[S+5]==67&&y[S+6]==65&&y[S+7]==80&&y[S+8]==69&&y[S+9]==50&&y[S+10]==46&&y[S+11]==48&&y[S+12]==3&&y[S+13]==1&&y[S+16]==0)S+=14,N=y[S++]|y[S++]<<8,S++;else for(S+=12;;){if(!(0<=(L=y[S++])))throw Error("Invalid block size");if(L===0)break;S+=L}break;case 249:if(y[S++]!==4||y[S+4]!==0)throw new Error("Invalid graphics extension block.");var D=y[S++],j=y[S++]|y[S++]<<8,P=y[S++];!(1&D)&&(P=null),O=D>>2&7,S++;break;case 254:for(;;){if(!(0<=(L=y[S++])))throw Error("Invalid block size");if(L===0)break;S+=L}break;default:throw new Error("Unknown graphic control label: 0x"+y[S-1].toString(16))}break;case 44:var L,R=y[S++]|y[S++]<<8,G=y[S++]|y[S++]<<8,Z=y[S++]|y[S++]<<8,B=y[S++]|y[S++]<<8,X=y[S++],J=X>>6&1,K=1<<1+(7&X),ee=k,V=T,z=!1,X=(X>>7&&(z=!0,ee=S,S+=3*(V=K)),S);for(S++;;){if(!(0<=(L=y[S++])))throw Error("Invalid block size");if(L===0)break;S+=L}M.push({x:R,y:G,width:Z,height:B,has_local_palette:z,palette_offset:ee,palette_size:V,data_offset:X,data_length:S-X,transparent_index:P,interlaced:!!J,delay:j,disposal:O});break;case 59:I=!1;break;default:throw new Error("Unknown gif block: 0x"+y[S-1].toString(16))}this.numFrames=function(){return M.length},this.loopCount=function(){return N},this.frameInfo=function(U){if(U<0||U>=M.length)throw new Error("Frame index out of range.");return M[U]},this.decodeAndBlitFrameBGRA=function(U,$){for(var U=this.frameInfo(U),ae=U.width*U.height,H=new Uint8Array(ae),ie=(b(y,U.data_offset,H,ae),U.palette_offset),Y=U.transparent_index,q=(Y===null&&(Y=256),U.width),ne=A-q,oe=q,he=4*(U.y*A+U.x),de=4*((U.y+U.height)*A+U.x),xe=he,Ce=4*ne,ge=(U.interlaced===!0&&(Ce+=4*A*7),8),Ae=0,we=H.length;Ae<we;++Ae){var me,_e,Me=H[Ae];oe===0&&(oe=q,de<=(xe+=Ce)&&(Ce=4*ne+4*A*(ge-1),xe=he+(q+ne)*(ge<<1),ge>>=1)),Me===Y?xe+=4:(me=y[ie+3*Me],_e=y[ie+3*Me+1],Me=y[ie+3*Me+2],$[xe++]=Me,$[xe++]=_e,$[xe++]=me,$[xe++]=255),--oe}},this.decodeAndBlitFrameRGBA=function(U,$){for(var U=this.frameInfo(U),ae=U.width*U.height,H=new Uint8Array(ae),ie=(b(y,U.data_offset,H,ae),U.palette_offset),Y=U.transparent_index,q=(Y===null&&(Y=256),U.width),ne=A-q,oe=q,he=4*(U.y*A+U.x),de=4*((U.y+U.height)*A+U.x),xe=he,Ce=4*ne,ge=(U.interlaced===!0&&(Ce+=4*A*7),8),Ae=0,we=H.length;Ae<we;++Ae){var me,_e,Me=H[Ae];oe===0&&(oe=q,de<=(xe+=Ce)&&(Ce=4*ne+4*A*(ge-1),xe=he+(q+ne)*(ge<<1),ge>>=1)),Me===Y?xe+=4:(me=y[ie+3*Me],_e=y[ie+3*Me+1],Me=y[ie+3*Me+2],$[xe++]=me,$[xe++]=_e,$[xe++]=Me,$[xe++]=255),--oe}}}}catch{}},{}],249:[function(c,m,_){(function(g){var b,y;b=this,y=function(S){function A(le){if(this==null)throw TypeError();var W,Q=String(this),te=Q.length,le=le?Number(le):0;if(!((le=le!=le?0:le)<0||te<=le))return 55296<=(W=Q.charCodeAt(le))&&W<=56319&&le+1<te&&56320<=(te=Q.charCodeAt(le+1))&&te<=57343?1024*(W-55296)+te-56320+65536:W}String.prototype.codePointAt||((C=function(){try{var F={},W=Object.defineProperty,Q=W(F,F,F)&&W}catch{}return Q}())?C(String.prototype,"codePointAt",{value:A,configurable:!0,writable:!0}):String.prototype.codePointAt=A);var C,x=0,E=-3;function k(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function T(F,W){this.source=F,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=W,this.destLen=0,this.ltree=new k,this.dtree=new k}var I=new k,M=new k,j=new Uint8Array(30),P=new Uint16Array(30),O=new Uint8Array(30),N=new Uint16Array(30),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L=new k,R=new Uint8Array(320);function G(F,W,Q,te){for(var le,fe=0;fe<Q;++fe)F[fe]=0;for(fe=0;fe<30-Q;++fe)F[fe+Q]=fe/Q|0;for(le=te,fe=0;fe<30;++fe)W[fe]=le,le+=1<<F[fe]}var Z=new Uint16Array(16);function B(F,W,Q,te){for(var le,fe=0;fe<16;++fe)F.table[fe]=0;for(fe=0;fe<te;++fe)F.table[W[Q+fe]]++;for(fe=le=F.table[0]=0;fe<16;++fe)Z[fe]=le,le+=F.table[fe];for(fe=0;fe<te;++fe)W[Q+fe]&&(F.trans[Z[W[Q+fe]]++]=fe)}function J(F,W,Q){if(!W)return Q;for(;F.bitcount<24;)F.tag|=F.source[F.sourceIndex++]<<F.bitcount,F.bitcount+=8;var te=F.tag&65535>>>16-W;return F.tag>>>=W,F.bitcount-=W,te+Q}function K(F,W){for(;F.bitcount<24;)F.tag|=F.source[F.sourceIndex++]<<F.bitcount,F.bitcount+=8;for(var Q=0,te=0,le=0,fe=F.tag;te=2*te+(1&fe),fe>>>=1,Q+=W.table[++le],0<=(te-=W.table[le]););return F.tag=fe,F.bitcount-=le,W.trans[Q+te]}function ee(F,W,Q){for(;;){var te=K(F,W);if(te===256)return x;if(te<256)F.dest[F.destLen++]=te;else for(var le,fe=J(F,j[te-=257],P[te]),te=K(F,Q),pe=le=F.destLen-J(F,O[te],N[te]);pe<le+fe;++pe)F.dest[F.destLen++]=F.dest[pe]}}for(var V=I,z=M,X=0;X<7;++X)V.table[X]=0;for(V.table[7]=24,V.table[8]=152,V.table[9]=112,X=0;X<24;++X)V.trans[X]=256+X;for(X=0;X<144;++X)V.trans[24+X]=X;for(X=0;X<8;++X)V.trans[168+X]=280+X;for(X=0;X<112;++X)V.trans[176+X]=144+X;for(X=0;X<5;++X)z.table[X]=0;for(z.table[5]=32,X=0;X<32;++X)z.trans[X]=X;G(j,P,4,3),G(O,N,2,1),j[28]=0,P[28]=258;var U=function(F,W){var Q,te,le,fe=new T(F,W);do{switch(le=void 0,(te=fe).bitcount--||(te.tag=te.source[te.sourceIndex++],te.bitcount=7),le=1&te.tag,te.tag>>>=1,te=le,J(fe,2,0)){case 0:Q=function(qe){for(var dt,_t;8<qe.bitcount;)qe.sourceIndex--,qe.bitcount-=8;if((dt=256*qe.source[qe.sourceIndex+1]+qe.source[qe.sourceIndex])!==(65535&~(256*qe.source[qe.sourceIndex+3]+qe.source[qe.sourceIndex+2])))return E;for(qe.sourceIndex+=4,_t=dt;_t;--_t)qe.dest[qe.destLen++]=qe.source[qe.sourceIndex++];return qe.bitcount=0,x}(fe);break;case 1:Q=ee(fe,I,M);break;case 2:Ze=Ye=Je=We=pe=Oe=Ve=ze=Fe=Pe=je=Ee=void 0;for(var pe,Ee=fe,je=fe.ltree,Pe=fe.dtree,Fe=J(Ee,5,257),ze=J(Ee,5,1),Ve=J(Ee,4,4),Oe=0;Oe<19;++Oe)R[Oe]=0;for(Oe=0;Oe<Ve;++Oe){var Je=J(Ee,3,0);R[D[Oe]]=Je}for(B(L,R,0,19),pe=0;pe<Fe+ze;){var Ye=K(Ee,L);switch(Ye){case 16:for(var Ze=R[pe-1],We=J(Ee,2,3);We;--We)R[pe++]=Ze;break;case 17:for(We=J(Ee,3,3);We;--We)R[pe++]=0;break;case 18:for(We=J(Ee,7,11);We;--We)R[pe++]=0;break;default:R[pe++]=Ye}}B(je,R,0,Fe),B(Pe,R,Fe,ze),Q=ee(fe,fe.ltree,fe.dtree);break;default:Q=E}if(Q!==x)throw new Error("Data error")}while(!te);return fe.destLen<fe.dest.length?typeof fe.dest.slice=="function"?fe.dest.slice(0,fe.destLen):fe.dest.subarray(0,fe.destLen):fe.dest};function $(F,W,Q,te,le){return Math.pow(1-le,3)*F+3*Math.pow(1-le,2)*le*W+3*(1-le)*Math.pow(le,2)*Q+Math.pow(le,3)*te}function ae(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function H(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ie(F){throw new Error(F)}function Y(F,W){F||ie(W)}ae.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},ae.prototype.addPoint=function(F,W){typeof F=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=F,this.x2=F),F<this.x1&&(this.x1=F),F>this.x2&&(this.x2=F)),typeof W=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=W,this.y2=W),W<this.y1&&(this.y1=W),W>this.y2&&(this.y2=W))},ae.prototype.addX=function(F){this.addPoint(F,null)},ae.prototype.addY=function(F){this.addPoint(null,F)},ae.prototype.addBezier=function(F,W,Q,te,le,fe,pe,Ee){var je=[F,W],Pe=[Q,te],Fe=[le,fe],ze=[pe,Ee];this.addPoint(F,W),this.addPoint(pe,Ee);for(var Ve=0;Ve<=1;Ve++){var Oe,Je=6*je[Ve]-12*Pe[Ve]+6*Fe[Ve],Ye=-3*je[Ve]+9*Pe[Ve]-9*Fe[Ve]+3*ze[Ve],Ze=3*Pe[Ve]-3*je[Ve];Ye==0?Je==0||0<(Oe=-Ze/Je)&&Oe<1&&(Ve===0&&this.addX($(je[Ve],Pe[Ve],Fe[Ve],ze[Ve],Oe)),Ve===1&&this.addY($(je[Ve],Pe[Ve],Fe[Ve],ze[Ve],Oe))):(Oe=Math.pow(Je,2)-4*Ze*Ye)<0||(0<(Ze=(-Je+Math.sqrt(Oe))/(2*Ye))&&Ze<1&&(Ve===0&&this.addX($(je[Ve],Pe[Ve],Fe[Ve],ze[Ve],Ze)),Ve===1&&this.addY($(je[Ve],Pe[Ve],Fe[Ve],ze[Ve],Ze))),0<(Ze=(-Je-Math.sqrt(Oe))/(2*Ye))&&Ze<1&&(Ve===0&&this.addX($(je[Ve],Pe[Ve],Fe[Ve],ze[Ve],Ze)),Ve===1&&this.addY($(je[Ve],Pe[Ve],Fe[Ve],ze[Ve],Ze))))}},ae.prototype.addQuad=function(F,W,Q,te,le,fe){Q=F+2/3*(Q-F),te=W+2/3*(te-W),this.addBezier(F,W,Q,te,Q+1/3*(le-F),te+1/3*(fe-W),le,fe)},H.prototype.moveTo=function(F,W){this.commands.push({type:"M",x:F,y:W})},H.prototype.lineTo=function(F,W){this.commands.push({type:"L",x:F,y:W})},H.prototype.curveTo=H.prototype.bezierCurveTo=function(F,W,Q,te,le,fe){this.commands.push({type:"C",x1:F,y1:W,x2:Q,y2:te,x:le,y:fe})},H.prototype.quadTo=H.prototype.quadraticCurveTo=function(F,W,Q,te){this.commands.push({type:"Q",x1:F,y1:W,x:Q,y:te})},H.prototype.close=H.prototype.closePath=function(){this.commands.push({type:"Z"})},H.prototype.extend=function(F){var W;if(F.commands)F=F.commands;else if(F instanceof ae)return W=F,this.moveTo(W.x1,W.y1),this.lineTo(W.x2,W.y1),this.lineTo(W.x2,W.y2),this.lineTo(W.x1,W.y2),void this.close();Array.prototype.push.apply(this.commands,F)},H.prototype.getBoundingBox=function(){for(var F=new ae,W=0,Q=0,te=0,le=0,fe=0;fe<this.commands.length;fe++){var pe=this.commands[fe];switch(pe.type){case"M":F.addPoint(pe.x,pe.y),W=te=pe.x,Q=le=pe.y;break;case"L":F.addPoint(pe.x,pe.y),te=pe.x,le=pe.y;break;case"Q":F.addQuad(te,le,pe.x1,pe.y1,pe.x,pe.y),te=pe.x,le=pe.y;break;case"C":F.addBezier(te,le,pe.x1,pe.y1,pe.x2,pe.y2,pe.x,pe.y),te=pe.x,le=pe.y;break;case"Z":te=W,le=Q;break;default:throw new Error("Unexpected path command "+pe.type)}}return F.isEmpty()&&F.addPoint(0,0),F},H.prototype.draw=function(F){F.beginPath();for(var W=0;W<this.commands.length;W+=1){var Q=this.commands[W];Q.type==="M"?F.moveTo(Q.x,Q.y):Q.type==="L"?F.lineTo(Q.x,Q.y):Q.type==="C"?F.bezierCurveTo(Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y):Q.type==="Q"?F.quadraticCurveTo(Q.x1,Q.y1,Q.x,Q.y):Q.type==="Z"&&F.closePath()}this.fill&&(F.fillStyle=this.fill,F.fill()),this.stroke&&(F.strokeStyle=this.stroke,F.lineWidth=this.strokeWidth,F.stroke())},H.prototype.toPathData=function(F){function W(){for(var fe=arguments,pe="",Ee=0;Ee<arguments.length;Ee+=1){var je=fe[Ee];0<=je&&0<Ee&&(pe+=" "),pe+=(je=je,Math.round(je)===je?""+Math.round(je):je.toFixed(F))}return pe}F=F!==void 0?F:2;for(var Q="",te=0;te<this.commands.length;te+=1){var le=this.commands[te];le.type==="M"?Q+="M"+W(le.x,le.y):le.type==="L"?Q+="L"+W(le.x,le.y):le.type==="C"?Q+="C"+W(le.x1,le.y1,le.x2,le.y2,le.x,le.y):le.type==="Q"?Q+="Q"+W(le.x1,le.y1,le.x,le.y):le.type==="Z"&&(Q+="Z")}return Q},H.prototype.toSVG=function(F){var W=(W='<path d="')+this.toPathData(F)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?W+=' fill="none"':W+=' fill="'+this.fill+'"'),this.stroke&&(W+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),W+="/>"},H.prototype.toDOMElement=function(W){var W=this.toPathData(W),Q=document.createElementNS("http://www.w3.org/2000/svg","path");return Q.setAttribute("d",W),Q};var q={fail:ie,argument:Y,assert:Y},ne={},oe={},he={};function de(F){return function(){return F}}oe.BYTE=function(F){return q.argument(0<=F&&F<=255,"Byte value should be between 0 and 255."),[F]},he.BYTE=de(1),oe.CHAR=function(F){return[F.charCodeAt(0)]},he.CHAR=de(1),oe.CHARARRAY=function(F){for(var W=[],Q=0;Q<F.length;Q+=1)W[Q]=F.charCodeAt(Q);return W},he.CHARARRAY=function(F){return F.length},oe.USHORT=function(F){return[F>>8&255,255&F]},he.USHORT=de(2),oe.SHORT=function(F){return[(F=32768<=F?-(65536-F):F)>>8&255,255&F]},he.SHORT=de(2),oe.UINT24=function(F){return[F>>16&255,F>>8&255,255&F]},he.UINT24=de(3),oe.ULONG=function(F){return[F>>24&255,F>>16&255,F>>8&255,255&F]},he.ULONG=de(4),oe.LONG=function(F){return[(F=2147483648<=F?-(4294967296-F):F)>>24&255,F>>16&255,F>>8&255,255&F]},he.LONG=de(4),oe.FIXED=oe.ULONG,he.FIXED=he.ULONG,oe.FWORD=oe.SHORT,he.FWORD=he.SHORT,oe.UFWORD=oe.USHORT,he.UFWORD=he.USHORT,oe.LONGDATETIME=function(F){return[0,0,0,0,F>>24&255,F>>16&255,F>>8&255,255&F]},he.LONGDATETIME=de(8),oe.TAG=function(F){return q.argument(F.length===4,"Tag should be exactly 4 ASCII characters."),[F.charCodeAt(0),F.charCodeAt(1),F.charCodeAt(2),F.charCodeAt(3)]},he.TAG=de(4),oe.Card8=oe.BYTE,he.Card8=he.BYTE,oe.Card16=oe.USHORT,he.Card16=he.USHORT,oe.OffSize=oe.BYTE,he.OffSize=he.BYTE,oe.SID=oe.USHORT,he.SID=he.USHORT,oe.NUMBER=function(F){return-107<=F&&F<=107?[F+139]:108<=F&&F<=1131?[247+((F-=108)>>8),255&F]:-1131<=F&&F<=-108?[251+((F=-F-108)>>8),255&F]:-32768<=F&&F<=32767?oe.NUMBER16(F):oe.NUMBER32(F)},he.NUMBER=function(F){return oe.NUMBER(F).length},oe.NUMBER16=function(F){return[28,F>>8&255,255&F]},he.NUMBER16=de(3),oe.NUMBER32=function(F){return[29,F>>24&255,F>>16&255,F>>8&255,255&F]},he.NUMBER32=de(5),oe.REAL=function(F){for(var W=F.toString(),Q=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(W),te=(Q&&(Q=parseFloat("1e"+((Q[2]?+Q[2]:0)+Q[1].length)),W=(Math.round(F*Q)/Q).toString()),""),le=0,fe=W.length;le<fe;le+=1){var pe=W[le];te+=pe==="e"?W[++le]==="-"?"c":"b":pe==="."?"a":pe==="-"?"e":pe}for(var Ee=[30],je=0,Pe=(te+=1&te.length?"f":"ff").length;je<Pe;je+=2)Ee.push(parseInt(te.substr(je,2),16));return Ee},he.REAL=function(F){return oe.REAL(F).length},oe.NAME=oe.CHARARRAY,he.NAME=he.CHARARRAY,oe.STRING=oe.CHARARRAY,he.STRING=he.CHARARRAY,ne.UTF8=function(F,W,Q){for(var te=[],le=Q,fe=0;fe<le;fe++,W+=1)te[fe]=F.getUint8(W);return String.fromCharCode.apply(null,te)},ne.UTF16=function(F,W,Q){for(var te=[],le=Q/2,fe=0;fe<le;fe++,W+=2)te[fe]=F.getUint16(W);return String.fromCharCode.apply(null,te)},oe.UTF16=function(F){for(var W=[],Q=0;Q<F.length;Q+=1){var te=F.charCodeAt(Q);W[W.length]=te>>8&255,W[W.length]=255&te}return W},he.UTF16=function(F){return 2*F.length};var xe,Ce={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},ge=(ne.MACSTRING=function(F,W,Q,te){var le=Ce[te];if(le!==void 0){for(var fe="",pe=0;pe<Q;pe++){var Ee=F.getUint8(W+pe);fe+=Ee<=127?String.fromCharCode(Ee):le[127&Ee]}return fe}},typeof WeakMap=="function"&&new WeakMap);function Ae(F){return-128<=F&&F<=127}oe.MACSTRING=function(F,W){var Q=function(pe){if(!xe)for(var Ee in xe={},Ce)xe[Ee]=new String(Ee);var je=xe[pe];if(je!==void 0){if(ge){var Pe=ge.get(je);if(Pe!==void 0)return Pe}var Fe=Ce[pe];if(Fe!==void 0){for(var ze={},Ve=0;Ve<Fe.length;Ve++)ze[Fe.charCodeAt(Ve)]=Ve+128;return ge&&ge.set(je,ze),ze}}}(W);if(Q!==void 0){for(var te=[],le=0;le<F.length;le++){var fe=F.charCodeAt(le);if(128<=fe&&(fe=Q[fe])===void 0)return;te[le]=fe}return te}},he.MACSTRING=function(F,W){return F=oe.MACSTRING(F,W),F!==void 0?F.length:0},oe.VARDELTAS=function(F){for(var te=0,W=[];te<F.length;)var Q=F[te],te=(Q===0?function(le,fe,pe){for(var Ee=0,je=le.length;fe<je&&Ee<64&&le[fe]===0;)++fe,++Ee;return pe.push(128|Ee-1),fe}:-128<=Q&&Q<=127?function(le,fe,pe){for(var Ee=0,je=le.length,Pe=fe;Pe<je&&Ee<64;){var Fe=le[Pe];if(!Ae(Fe)||Fe===0&&Pe+1<je&&le[Pe+1]===0)break;++Pe,++Ee}pe.push(Ee-1);for(var ze=fe;ze<Pe;++ze)pe.push(le[ze]+256&255);return Pe}:function(le,fe,pe){for(var Ee=0,je=le.length,Pe=fe;Pe<je&&Ee<64;){var Fe=le[Pe];if(Fe===0||Ae(Fe)&&Pe+1<je&&Ae(le[Pe+1]))break;++Pe,++Ee}pe.push(64|Ee-1);for(var ze=fe;ze<Pe;++ze){var Ve=le[ze];pe.push(Ve+65536>>8&255,Ve+256&255)}return Pe})(F,te,W);return W},oe.INDEX=function(F){for(var W=1,Q=[W],te=[],le=0;le<F.length;le+=1){var fe=oe.OBJECT(F[le]);Array.prototype.push.apply(te,fe),W+=fe.length,Q.push(W)}if(te.length===0)return[0,0];for(var pe=[],Ee=1+Math.floor(Math.log(W)/Math.log(2))/8|0,je=[void 0,oe.BYTE,oe.USHORT,oe.UINT24,oe.ULONG][Ee],Pe=0;Pe<Q.length;Pe+=1){var Fe=je(Q[Pe]);Array.prototype.push.apply(pe,Fe)}return Array.prototype.concat(oe.Card16(F.length),oe.OffSize(Ee),pe,te)},he.INDEX=function(F){return oe.INDEX(F).length},oe.DICT=function(F){for(var W=[],Q=Object.keys(F),te=Q.length,le=0;le<te;le+=1){var fe=parseInt(Q[le],0),pe=F[fe];W=(W=W.concat(oe.OPERAND(pe.value,pe.type))).concat(oe.OPERATOR(fe))}return W},he.DICT=function(F){return oe.DICT(F).length},oe.OPERATOR=function(F){return F<1200?[F]:[12,F-1200]},oe.OPERAND=function(F,W){var Q=[];if(Array.isArray(W))for(var te=0;te<W.length;te+=1)q.argument(F.length===W.length,"Not enough arguments given for type"+W),Q=Q.concat(oe.OPERAND(F[te],W[te]));else if(W==="SID")Q=Q.concat(oe.NUMBER(F));else if(W==="offset")Q=Q.concat(oe.NUMBER32(F));else if(W==="number")Q=Q.concat(oe.NUMBER(F));else{if(W!=="real")throw new Error("Unknown operand type "+W);Q=Q.concat(oe.REAL(F))}return Q},oe.OP=oe.BYTE,he.OP=he.BYTE;var we=typeof WeakMap=="function"&&new WeakMap;function me(F,W,Q){for(var te=0;te<W.length;te+=1){var le=W[te];this[le.name]=le.value}if(this.tableName=F,this.fields=W,Q)for(var fe=Object.keys(Q),pe=0;pe<fe.length;pe+=1){var Ee=fe[pe],je=Q[Ee];this[Ee]!==void 0&&(this[Ee]=je)}}function _e(F,W,Q){Q===void 0&&(Q=W.length);var te=new Array(W.length+1);te[0]={name:F+"Count",type:"USHORT",value:Q};for(var le=0;le<W.length;le++)te[le+1]={name:F+le,type:"USHORT",value:W[le]};return te}function Me(F,W,Q){var te=W.length,le=new Array(te+1);le[0]={name:F+"Count",type:"USHORT",value:te};for(var fe=0;fe<te;fe++)le[fe+1]={name:F+fe,type:"TABLE",value:Q(W[fe],fe)};return le}function De(F,W,Q){var te=W.length,le=[];le[0]={name:F+"Count",type:"USHORT",value:te};for(var fe=0;fe<te;fe++)le=le.concat(Q(W[fe],fe));return le}function se(F){F.format===1?me.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(_e("glyph",F.glyphs))):q.assert(!1,"Can't create coverage table format 2 yet.")}function ce(F){me.call(this,"scriptListTable",De("scriptRecord",F,function(W,Q){var te=W.script,le=te.defaultLangSys;return q.assert(!!le,"Unable to write GSUB: script "+W.tag+" has no default language system."),[{name:"scriptTag"+Q,type:"TAG",value:W.tag},{name:"script"+Q,type:"TABLE",value:new me("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new me("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:le.reqFeatureIndex}].concat(_e("featureIndex",le.featureIndexes)))}].concat(De("langSys",te.langSysRecords,function(fe,pe){var Ee=fe.langSys;return[{name:"langSysTag"+pe,type:"TAG",value:fe.tag},{name:"langSys"+pe,type:"TABLE",value:new me("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Ee.reqFeatureIndex}].concat(_e("featureIndex",Ee.featureIndexes)))}]})))}]}))}function ue(F){me.call(this,"featureListTable",De("featureRecord",F,function(W,Q){var te=W.feature;return[{name:"featureTag"+Q,type:"TAG",value:W.tag},{name:"feature"+Q,type:"TABLE",value:new me("featureTable",[{name:"featureParams",type:"USHORT",value:te.featureParams}].concat(_e("lookupListIndex",te.lookupListIndexes)))}]}))}function ve(F,W){me.call(this,"lookupListTable",Me("lookup",F,function(Q){var te=W[Q.lookupType];return q.assert(!!te,"Unable to write GSUB lookup type "+Q.lookupType+" tables."),new me("lookupTable",[{name:"lookupType",type:"USHORT",value:Q.lookupType},{name:"lookupFlag",type:"USHORT",value:Q.lookupFlag}].concat(Me("subtable",Q.subtables,te)))}))}oe.CHARSTRING=function(F){if(we){var W=we.get(F);if(W!==void 0)return W}for(var fe=[],Q=F.length,te=0;te<Q;te+=1)var le=F[te],fe=fe.concat(oe[le.type](le.value));return we&&we.set(F,fe),fe},he.CHARSTRING=function(F){return oe.CHARSTRING(F).length},oe.OBJECT=function(F){var W=oe[F.type];return q.argument(W!==void 0,"No encoding function for type "+F.type),W(F.value)},he.OBJECT=function(F){var W=he[F.type];return q.argument(W!==void 0,"No sizeOf function for type "+F.type),W(F.value)},oe.TABLE=function(F){for(var W=[],Q=F.fields.length,te=[],le=[],fe=0;fe<Q;fe+=1){var pe=F.fields[fe],je=oe[pe.type],Ee=(q.argument(je!==void 0,"No encoding function for field type "+pe.type+" ("+pe.name+")"),F[pe.name]),je=je(Ee=Ee===void 0?pe.value:Ee);pe.type==="TABLE"?(le.push(W.length),W=W.concat([0,0]),te.push(je)):W=W.concat(je)}for(var Pe=0;Pe<te.length;Pe+=1){var Fe=le[Pe],ze=W.length;q.argument(ze<65536,"Table "+F.tableName+" too big."),W[Fe]=ze>>8,W[Fe+1]=255&ze,W=W.concat(te[Pe])}return W},he.TABLE=function(F){for(var W=0,Q=F.fields.length,te=0;te<Q;te+=1){var le=F.fields[te],fe=he[le.type],pe=(q.argument(fe!==void 0,"No sizeOf function for field type "+le.type+" ("+le.name+")"),F[le.name]);W+=fe(pe=pe===void 0?le.value:pe),le.type==="TABLE"&&(W+=2)}return W},oe.RECORD=oe.TABLE,he.RECORD=he.TABLE,oe.LITERAL=function(F){return F},he.LITERAL=function(F){return F.length},me.prototype.encode=function(){return oe.TABLE(this)},me.prototype.sizeOf=function(){return he.TABLE(this)};var Se={Table:me,Record:me,Coverage:(se.prototype=Object.create(me.prototype)).constructor=se,ScriptList:(ce.prototype=Object.create(me.prototype)).constructor=ce,FeatureList:(ue.prototype=Object.create(me.prototype)).constructor=ue,LookupList:(ve.prototype=Object.create(me.prototype)).constructor=ve,ushortList:_e,tableList:Me,recordList:De};function Ie(F,W){return F.getUint8(W)}function Be(F,W){return F.getUint16(W,!1)}function $e(F,W){return F.getUint32(W,!1)}function Ke(F,W){return F.getInt16(W,!1)+F.getUint16(W+2,!1)/65535}var Qe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Re(F,W){this.data=F,this.offset=W,this.relativeOffset=0}Re.prototype.parseByte=function(){var F=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,F},Re.prototype.parseChar=function(){var F=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,F},Re.prototype.parseCard8=Re.prototype.parseByte,Re.prototype.parseCard16=Re.prototype.parseUShort=function(){var F=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,F},Re.prototype.parseSID=Re.prototype.parseUShort,Re.prototype.parseOffset16=Re.prototype.parseUShort,Re.prototype.parseShort=function(){var F=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,F},Re.prototype.parseF2Dot14=function(){var F=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,F},Re.prototype.parseOffset32=Re.prototype.parseULong=function(){var F=$e(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,F},Re.prototype.parseFixed=function(){var F=Ke(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,F},Re.prototype.parseString=function(F){var W=this.data,Q=this.offset+this.relativeOffset,te="";this.relativeOffset+=F;for(var le=0;le<F;le++)te+=String.fromCharCode(W.getUint8(Q+le));return te},Re.prototype.parseTag=function(){return this.parseString(4)},Re.prototype.parseLongDateTime=function(){var F=$e(this.data,this.offset+this.relativeOffset+4);return F-=2082844800,this.relativeOffset+=8,F},Re.prototype.parseVersion=function(F){var W=Be(this.data,this.offset+this.relativeOffset),Q=Be(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,W+Q/(F=F===void 0?4096:F)/10},Re.prototype.skip=function(F,W){this.relativeOffset+=Qe[F]*(W=W===void 0?1:W)},Re.prototype.parseULongList=function(F){F===void 0&&(F=this.parseULong());for(var W=new Array(F),Q=this.data,te=this.offset+this.relativeOffset,le=0;le<F;le++)W[le]=Q.getUint32(te),te+=4;return this.relativeOffset+=4*F,W},Re.prototype.parseOffset16List=Re.prototype.parseUShortList=function(F){F===void 0&&(F=this.parseUShort());for(var W=new Array(F),Q=this.data,te=this.offset+this.relativeOffset,le=0;le<F;le++)W[le]=Q.getUint16(te),te+=2;return this.relativeOffset+=2*F,W},Re.prototype.parseShortList=function(F){for(var W=new Array(F),Q=this.data,te=this.offset+this.relativeOffset,le=0;le<F;le++)W[le]=Q.getInt16(te),te+=2;return this.relativeOffset+=2*F,W},Re.prototype.parseByteList=function(F){for(var W=new Array(F),Q=this.data,te=this.offset+this.relativeOffset,le=0;le<F;le++)W[le]=Q.getUint8(te++);return this.relativeOffset+=F,W},Re.prototype.parseList=function(F,W){W||(W=F,F=this.parseUShort());for(var Q=new Array(F),te=0;te<F;te++)Q[te]=W.call(this);return Q},Re.prototype.parseList32=function(F,W){W||(W=F,F=this.parseULong());for(var Q=new Array(F),te=0;te<F;te++)Q[te]=W.call(this);return Q},Re.prototype.parseRecordList=function(F,W){W||(W=F,F=this.parseUShort());for(var Q=new Array(F),te=Object.keys(W),le=0;le<F;le++){for(var fe={},pe=0;pe<te.length;pe++){var Ee=te[pe],je=W[Ee];fe[Ee]=je.call(this)}Q[le]=fe}return Q},Re.prototype.parseRecordList32=function(F,W){W||(W=F,F=this.parseULong());for(var Q=new Array(F),te=Object.keys(W),le=0;le<F;le++){for(var fe={},pe=0;pe<te.length;pe++){var Ee=te[pe],je=W[Ee];fe[Ee]=je.call(this)}Q[le]=fe}return Q},Re.prototype.parseStruct=function(F){if(typeof F=="function")return F.call(this);for(var W=Object.keys(F),Q={},te=0;te<W.length;te++){var le=W[te],fe=F[le];Q[le]=fe.call(this)}return Q},Re.prototype.parseValueRecord=function(F){var W;if((F=F===void 0?this.parseUShort():F)!==0)return W={},1&F&&(W.xPlacement=this.parseShort()),2&F&&(W.yPlacement=this.parseShort()),4&F&&(W.xAdvance=this.parseShort()),8&F&&(W.yAdvance=this.parseShort()),16&F&&(W.xPlaDevice=void 0,this.parseShort()),32&F&&(W.yPlaDevice=void 0,this.parseShort()),64&F&&(W.xAdvDevice=void 0,this.parseShort()),128&F&&(W.yAdvDevice=void 0,this.parseShort()),W},Re.prototype.parseValueRecordList=function(){for(var F=this.parseUShort(),W=this.parseUShort(),Q=new Array(W),te=0;te<W;te++)Q[te]=this.parseValueRecord(F);return Q},Re.prototype.parsePointer=function(F){var W=this.parseOffset16();if(0<W)return new Re(this.data,this.offset+W).parseStruct(F)},Re.prototype.parsePointer32=function(F){var W=this.parseOffset32();if(0<W)return new Re(this.data,this.offset+W).parseStruct(F)},Re.prototype.parseListOfLists=function(F){for(var W=this.parseOffset16List(),Q=W.length,te=this.relativeOffset,le=new Array(Q),fe=0;fe<Q;fe++){var pe=W[fe];if(pe===0)le[fe]=void 0;else if(this.relativeOffset=pe,F){for(var Ee=this.parseOffset16List(),je=new Array(Ee.length),Pe=0;Pe<Ee.length;Pe++)this.relativeOffset=pe+Ee[Pe],je[Pe]=F.call(this);le[fe]=je}else le[fe]=this.parseUShortList()}return this.relativeOffset=te,le},Re.prototype.parseCoverage=function(){var F=this.offset+this.relativeOffset,W=this.parseUShort(),Q=this.parseUShort();if(W===1)return{format:1,glyphs:this.parseUShortList(Q)};if(W!==2)throw new Error("0x"+F.toString(16)+": Coverage format must be 1 or 2.");for(var te=new Array(Q),le=0;le<Q;le++)te[le]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:te}},Re.prototype.parseClassDef=function(){var F=this.offset+this.relativeOffset,W=this.parseUShort();if(W===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(W===2)return{format:2,ranges:this.parseRecordList({start:Re.uShort,end:Re.uShort,classId:Re.uShort})};throw new Error("0x"+F.toString(16)+": ClassDef format must be 1 or 2.")},Re.list=function(F,W){return function(){return this.parseList(F,W)}},Re.list32=function(F,W){return function(){return this.parseList32(F,W)}},Re.recordList=function(F,W){return function(){return this.parseRecordList(F,W)}},Re.recordList32=function(F,W){return function(){return this.parseRecordList32(F,W)}},Re.pointer=function(F){return function(){return this.parsePointer(F)}},Re.pointer32=function(F){return function(){return this.parsePointer32(F)}},Re.tag=Re.prototype.parseTag,Re.byte=Re.prototype.parseByte,Re.uShort=Re.offset16=Re.prototype.parseUShort,Re.uShortList=Re.prototype.parseUShortList,Re.uLong=Re.offset32=Re.prototype.parseULong,Re.uLongList=Re.prototype.parseULongList,Re.struct=Re.prototype.parseStruct,Re.coverage=Re.prototype.parseCoverage,Re.classDef=Re.prototype.parseClassDef;var He={reserved:Re.uShort,reqFeatureIndex:Re.uShort,featureIndexes:Re.uShortList},Ge=(Re.prototype.parseScriptList=function(){return this.parsePointer(Re.recordList({tag:Re.tag,script:Re.pointer({defaultLangSys:Re.pointer(He),langSysRecords:Re.recordList({tag:Re.tag,langSys:Re.pointer(He)})})}))||[]},Re.prototype.parseFeatureList=function(){return this.parsePointer(Re.recordList({tag:Re.tag,feature:Re.pointer({featureParams:Re.offset16,lookupListIndexes:Re.uShortList})}))||[]},Re.prototype.parseLookupList=function(F){return this.parsePointer(Re.list(Re.pointer(function(){var W=this.parseUShort(),Q=(q.argument(1<=W&&W<=9,"GPOS/GSUB lookup type "+W+" unknown."),this.parseUShort()),te=16&Q;return{lookupType:W,lookupFlag:Q,subtables:this.parseList(Re.pointer(F[W])),markFilteringSet:te?this.parseUShort():void 0}})))||[]},Re.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var F=this.parseUShort(),W=this.parseUShort();return q.argument(F===1&&W<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Re.offset32,featureTableSubstitutionOffset:Re.offset32})})||[]},{getByte:Ie,getCard8:Ie,getUShort:Be,getCard16:Be,getShort:function(F,W){return F.getInt16(W,!1)},getULong:$e,getFixed:Ke,getTag:function(F,W){for(var Q="",te=W;te<W+4;te+=1)Q+=String.fromCharCode(F.getInt8(te));return Q},getOffset:function(F,W,Q){for(var te=0,le=0;le<Q;le+=1)te=(te<<=8)+F.getUint8(W+le);return te},getBytes:function(F,W,Q){for(var te=[],le=W;le<Q;le+=1)te.push(F.getUint8(le));return te},bytesToString:function(F){for(var W="",Q=0;Q<F.length;Q+=1)W+=String.fromCharCode(F[Q]);return W},Parser:Re}),be={parse:function(F,W){for(var Q={},te=(Q.version=Ge.getUShort(F,W),q.argument(Q.version===0,"cmap table version should be 0."),Q.numTables=Ge.getUShort(F,W+2),-1),le=Q.numTables-1;0<=le;--le){var fe=Ge.getUShort(F,W+4+8*le),pe=Ge.getUShort(F,W+4+8*le+2);if(fe===3&&(pe===0||pe===1||pe===10)||fe===0&&(pe===0||pe===1||pe===2||pe===3||pe===4)){te=Ge.getULong(F,W+4+8*le+4);break}}if(te===-1)throw new Error("No valid cmap sub-tables found.");var Ee=new Ge.Parser(F,W+te);if(Q.format=Ee.parseUShort(),Q.format===12){var je,Pe=Q,Fe=Ee;Fe.parseUShort(),Pe.length=Fe.parseULong(),Pe.language=Fe.parseULong(),Pe.groupCount=je=Fe.parseULong(),Pe.glyphIndexMap={};for(var ze=0;ze<je;ze+=1)for(var Ve=Fe.parseULong(),Oe=Fe.parseULong(),Je=Fe.parseULong(),Ye=Ve;Ye<=Oe;Ye+=1)Pe.glyphIndexMap[Ye]=Je,Je++}else{if(Q.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+Q.format+").");var Ze=Q,We=F,qe=W,dt=te;Ze.length=Ee.parseUShort(),Ze.language=Ee.parseUShort(),Ze.segCount=_t=Ee.parseUShort()>>1,Ee.skip("uShort",3),Ze.glyphIndexMap={};for(var _t,ft=new Ge.Parser(We,qe+dt+14),pt=new Ge.Parser(We,qe+dt+16+2*_t),bt=new Ge.Parser(We,qe+dt+16+4*_t),It=new Ge.Parser(We,qe+dt+16+6*_t),Ft=qe+dt+16+8*_t,Gt=0;Gt<_t-1;Gt+=1)for(var Jt=void 0,Qt=ft.parseUShort(),sr=pt.parseUShort(),Pt=bt.parseShort(),Nt=It.parseUShort(),At=sr;At<=Qt;At+=1)Nt!==0?(Ft=(Ft=It.offset+It.relativeOffset-2)+Nt+2*(At-sr),(Jt=Ge.getUShort(We,Ft))!==0&&(Jt=Jt+Pt&65535)):Jt=At+Pt&65535,Ze.glyphIndexMap[At]=Jt}return Q},make:function(F){for(var W=!0,Q=F.length-1;0<Q;--Q)if(65535<F.get(Q).unicode){console.log("Adding CMAP format 12 (needed!)"),W=!1;break}var te,le,fe=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:W?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:W?12:20}],pe=(fe=(fe=W?fe:fe.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Se.Table("cmap",fe));for(pe.segments=[],Q=0;Q<F.length;Q+=1){for(var Ee=F.get(Q),je=0;je<Ee.unicodes.length;je+=1)te=Ee.unicodes[je],le=Q,pe.segments.push({end:te,start:te,delta:-(te-le),offset:0,glyphIndex:le});pe.segments=pe.segments.sort(function(qe,dt){return qe.start-dt.start})}pe.segments.push({end:65535,start:65535,delta:1,offset:0});var Pe=pe.segments.length,Fe=0,ze=[],Ve=[],Oe=[],Je=[],Ye=[],Ze=[];for(Q=0;Q<Pe;Q+=1){var We=pe.segments[Q];We.end<=65535&&We.start<=65535?(ze=ze.concat({name:"end_"+Q,type:"USHORT",value:We.end}),Ve=Ve.concat({name:"start_"+Q,type:"USHORT",value:We.start}),Oe=Oe.concat({name:"idDelta_"+Q,type:"SHORT",value:We.delta}),Je=Je.concat({name:"idRangeOffset_"+Q,type:"USHORT",value:We.offset}),We.glyphId!==void 0&&(Ye=Ye.concat({name:"glyph_"+Q,type:"USHORT",value:We.glyphId}))):Fe+=1,W||We.glyphIndex===void 0||(Ze=(Ze=(Ze=Ze.concat({name:"cmap12Start_"+Q,type:"ULONG",value:We.start})).concat({name:"cmap12End_"+Q,type:"ULONG",value:We.end})).concat({name:"cmap12Glyph_"+Q,type:"ULONG",value:We.glyphIndex}))}return pe.segCountX2=2*(Pe-Fe),pe.searchRange=2*Math.pow(2,Math.floor(Math.log(Pe-Fe)/Math.log(2))),pe.entrySelector=Math.log(pe.searchRange/2)/Math.log(2),pe.rangeShift=pe.segCountX2-pe.searchRange,pe.fields=pe.fields.concat(ze),pe.fields.push({name:"reservedPad",type:"USHORT",value:0}),pe.fields=pe.fields.concat(Ve),pe.fields=pe.fields.concat(Oe),pe.fields=pe.fields.concat(Je),pe.fields=pe.fields.concat(Ye),pe.cmap4Length=14+2*ze.length+2+2*Ve.length+2*Oe.length+2*Je.length+2*Ye.length,W||(fe=16+4*Ze.length,pe.cmap12Offset=20+pe.cmap4Length,pe.fields=pe.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:fe},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ze.length/3}]),pe.fields=pe.fields.concat(Ze)),pe}},ke=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ye=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Te=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Le=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ue(F){this.font=F}function Xe(F){this.cmap=F}function rt(F,W){this.encoding=F,this.charset=W}function st(F){switch(F.version){case 1:this.names=Le.slice();break;case 2:this.names=new Array(F.numberOfGlyphs);for(var W=0;W<F.numberOfGlyphs;W++)F.glyphNameIndex[W]<Le.length?this.names[W]=Le[F.glyphNameIndex[W]]:this.names[W]=F.names[F.glyphNameIndex[W]-Le.length];break;case 2.5:this.names=new Array(F.numberOfGlyphs);for(var Q=0;Q<F.numberOfGlyphs;Q++)this.names[Q]=Le[Q+F.glyphNameIndex[Q]];break;default:this.names=[]}}Ue.prototype.charToGlyphIndex=function(F){var W=F.codePointAt(0),Q=this.font.glyphs;if(Q){for(var te=0;te<Q.length;te+=1)for(var le=Q.get(te),fe=0;fe<le.unicodes.length;fe+=1)if(le.unicodes[fe]===W)return te}return null},Xe.prototype.charToGlyphIndex=function(F){return this.cmap.glyphIndexMap[F.codePointAt(0)]||0},rt.prototype.charToGlyphIndex=function(F){return F=F.codePointAt(0),F=this.encoding[F],this.charset.indexOf(F)},st.prototype.nameToGlyphIndex=function(F){return this.names.indexOf(F)},st.prototype.glyphIndexToName=function(F){return this.names[F]};var it={line:function(F,W,Q,te,le){F.beginPath(),F.moveTo(W,Q),F.lineTo(te,le),F.stroke()}};function ot(F){this.bindConstructorValues(F)}function vt(F,W,Q){Object.defineProperty(F,W,{get:function(){return F.path,F[Q]},set:function(te){F[Q]=te},enumerable:!0,configurable:!0})}function yt(F,W){if(this.font=F,this.glyphs={},Array.isArray(W))for(var Q=0;Q<W.length;Q++)this.glyphs[Q]=W[Q];this.length=W&&W.length||0}ot.prototype.bindConstructorValues=function(F){var W;this.index=F.index||0,this.name=F.name||null,this.unicode=F.unicode||void 0,this.unicodes=F.unicodes||F.unicode!==void 0?[F.unicode]:[],F.xMin&&(this.xMin=F.xMin),F.yMin&&(this.yMin=F.yMin),F.xMax&&(this.xMax=F.xMax),F.yMax&&(this.yMax=F.yMax),F.advanceWidth&&(this.advanceWidth=F.advanceWidth),Object.defineProperty(this,"path",(F=F.path,W=F||new H,{configurable:!0,get:function(){return W=typeof W=="function"?W():W},set:function(Q){W=Q}}))},ot.prototype.addUnicode=function(F){this.unicodes.length===0&&(this.unicode=F),this.unicodes.push(F)},ot.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ot.prototype.getPath=function(F,W,Q,te,le){F=F!==void 0?F:0,W=W!==void 0?W:0,Q=Q!==void 0?Q:72;for(var fe,pe,Ee=(te=te||{}).xScale,je=te.yScale,Pe=((fe=te.hinting&&le&&le.hinting?this.path&&le.hinting.exec(this,Q):fe)?(pe=le.hinting.getCommands(fe),F=Math.round(F),W=Math.round(W),Ee=je=1):(pe=this.path.commands,te=1/this.path.unitsPerEm*Q,Ee===void 0&&(Ee=te),je===void 0&&(je=te)),new H),Fe=0;Fe<pe.length;Fe+=1){var ze=pe[Fe];ze.type==="M"?Pe.moveTo(F+ze.x*Ee,W+-ze.y*je):ze.type==="L"?Pe.lineTo(F+ze.x*Ee,W+-ze.y*je):ze.type==="Q"?Pe.quadraticCurveTo(F+ze.x1*Ee,W+-ze.y1*je,F+ze.x*Ee,W+-ze.y*je):ze.type==="C"?Pe.curveTo(F+ze.x1*Ee,W+-ze.y1*je,F+ze.x2*Ee,W+-ze.y2*je,F+ze.x*Ee,W+-ze.y*je):ze.type==="Z"&&Pe.closePath()}return Pe},ot.prototype.getContours=function(){if(this.points===void 0)return[];for(var F=[],W=[],Q=0;Q<this.points.length;Q+=1){var te=this.points[Q];W.push(te),te.lastPointOfContour&&(F.push(W),W=[])}return q.argument(W.length===0,"There are still points left in the current contour."),F},ot.prototype.getMetrics=function(){for(var F=this.path.commands,W=[],Q=[],te=0;te<F.length;te+=1){var le=F[te];le.type!=="Z"&&(W.push(le.x),Q.push(le.y)),le.type!=="Q"&&le.type!=="C"||(W.push(le.x1),Q.push(le.y1)),le.type==="C"&&(W.push(le.x2),Q.push(le.y2))}var fe={xMin:Math.min.apply(null,W),yMin:Math.min.apply(null,Q),xMax:Math.max.apply(null,W),yMax:Math.max.apply(null,Q),leftSideBearing:this.leftSideBearing};return isFinite(fe.xMin)||(fe.xMin=0),isFinite(fe.xMax)||(fe.xMax=this.advanceWidth),isFinite(fe.yMin)||(fe.yMin=0),isFinite(fe.yMax)||(fe.yMax=0),fe.rightSideBearing=this.advanceWidth-fe.leftSideBearing-(fe.xMax-fe.xMin),fe},ot.prototype.draw=function(F,W,Q,te,le){this.getPath(W,Q,te,le).draw(F)},ot.prototype.drawPoints=function(F,W,Q,te){function le(Fe,ze,Ve,Oe){var Je=2*Math.PI;F.beginPath();for(var Ye=0;Ye<Fe.length;Ye+=1)F.moveTo(ze+Fe[Ye].x*Oe,Ve+Fe[Ye].y*Oe),F.arc(ze+Fe[Ye].x*Oe,Ve+Fe[Ye].y*Oe,2,0,Je,!1);F.closePath(),F.fill()}W=W!==void 0?W:0,Q=Q!==void 0?Q:0;for(var te=1/this.path.unitsPerEm*(te=te!==void 0?te:24),fe=[],pe=[],Ee=this.path,je=0;je<Ee.commands.length;je+=1){var Pe=Ee.commands[je];Pe.x!==void 0&&fe.push({x:Pe.x,y:-Pe.y}),Pe.x1!==void 0&&pe.push({x:Pe.x1,y:-Pe.y1}),Pe.x2!==void 0&&pe.push({x:Pe.x2,y:-Pe.y2})}F.fillStyle="blue",le(fe,W,Q,te),F.fillStyle="red",le(pe,W,Q,te)},ot.prototype.drawMetrics=function(F,W,Q,te){W=W!==void 0?W:0,Q=Q!==void 0?Q:0,te=1/this.path.unitsPerEm*(te=te!==void 0?te:24),F.lineWidth=1,F.strokeStyle="black",it.line(F,W,-1e4,W,1e4),it.line(F,-1e4,Q,1e4,Q);var le=this.xMin||0,fe=this.yMin||0,pe=this.xMax||0,Ee=this.yMax||0,je=this.advanceWidth||0;F.strokeStyle="blue",it.line(F,W+le*te,-1e4,W+le*te,1e4),it.line(F,W+pe*te,-1e4,W+pe*te,1e4),it.line(F,-1e4,Q+-fe*te,1e4,Q+-fe*te),it.line(F,-1e4,Q+-Ee*te,1e4,Q+-Ee*te),F.strokeStyle="green",it.line(F,W+je*te,-1e4,W+je*te,1e4)},yt.prototype.get=function(F){return typeof this.glyphs[F]=="function"&&(this.glyphs[F]=this.glyphs[F]()),this.glyphs[F]},yt.prototype.push=function(F,W){this.glyphs[F]=W,this.length++};var ut={GlyphSet:yt,glyphLoader:function(F,W){return new ot({index:W,font:F})},ttfGlyphLoader:function(F,W,Q,te,le,fe){return function(){var pe=new ot({index:W,font:F});return pe.path=function(){Q(pe,te,le);var Ee=fe(F.glyphs,pe);return Ee.unitsPerEm=F.unitsPerEm,Ee},vt(pe,"xMin","_xMin"),vt(pe,"xMax","_xMax"),vt(pe,"yMin","_yMin"),vt(pe,"yMax","_yMax"),pe}},cffGlyphLoader:function(F,W,Q,te){return function(){var le=new ot({index:W,font:F});return le.path=function(){var fe=Q(F,le,te);return fe.unitsPerEm=F.unitsPerEm,fe},le}}};function gt(F){return F=F.length<1240?107:F.length<33900?1131:32768,F}function mt(F,W,Q){var te,le=[],fe=[],pe=Ge.getCard16(F,W);if(pe!==0){for(var Ee=Ge.getByte(F,W+2),je=W+(pe+1)*Ee+2,Pe=W+3,Fe=0;Fe<pe+1;Fe+=1)le.push(Ge.getOffset(F,Pe,Ee)),Pe+=Ee;te=je+le[pe]}else te=W+2;for(var ze=0;ze<le.length-1;ze+=1){var Ve=Ge.getBytes(F,je+le[ze],je+le[ze+1]);Q&&(Ve=Q(Ve)),fe.push(Ve)}return{objects:fe,startOffset:W,endOffset:te}}function jt(F,W){if(W===28)return F.parseByte()<<8|F.parseByte();if(W===29)return F.parseByte()<<24|F.parseByte()<<16|F.parseByte()<<8|F.parseByte();if(W===30){for(var Q=F,te="",le=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var pe=Q.parseByte(),fe=pe>>4,pe=15&pe;if(fe==15||(te+=le[fe],pe==15))break;te+=le[pe]}return parseFloat(te)}if(32<=W&&W<=246)return W-139;if(247<=W&&W<=250)return 256*(W-247)+F.parseByte()+108;if(251<=W&&W<=254)return 256*-(W-251)-F.parseByte()-108;throw new Error("Invalid b0 "+W)}function Kt(F,W,Q){var te=new Ge.Parser(F,W=W!==void 0?W:0),le=[],fe=[];for(Q=Q!==void 0?Q:F.length;te.relativeOffset<Q;){var pe=te.parseByte();pe<=21?(pe===12&&(pe=1200+te.parseByte()),le.push([pe,fe]),fe=[]):fe.push(jt(te,pe))}for(var Ee=le,je={},Pe=0;Pe<Ee.length;Pe+=1){var Fe=Ee[Pe][0],ze=Ee[Pe][1],Ve=void 0,Ve=ze.length===1?ze[0]:ze;if(je.hasOwnProperty(Fe)&&!isNaN(je[Fe]))throw new Error("Object "+je+" already has key "+Fe);je[Fe]=Ve}return je}function Vt(F,W){return W=W<=390?ke[W]:F[W-391]}function kt(F,W,Q){for(var te,le={},fe=0;fe<W.length;fe+=1){var pe=W[fe];if(Array.isArray(pe.type)){var Ee=[];Ee.length=pe.type.length;for(var je=0;je<pe.type.length;je++)(te=F[pe.op]!==void 0?F[pe.op][je]:void 0)===void 0&&(te=pe.value!==void 0&&pe.value[je]!==void 0?pe.value[je]:null),pe.type[je]==="SID"&&(te=Vt(Q,te)),Ee[je]=te;le[pe.name]=Ee}else(te=F[pe.op])===void 0&&(te=pe.value!==void 0?pe.value:null),pe.type==="SID"&&(te=Vt(Q,te)),le[pe.name]=te}return le}var Ot=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],xt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Xt(F,W,Q,te){return kt(Kt(F,W,Q),xt,te)}function Wt(F,W,Q,te){for(var le=[],fe=0;fe<Q.length;fe+=1){var pe=new DataView(new Uint8Array(Q[fe]).buffer),pe=(Ee=te,kt(Kt(pe,0,pe.byteLength),Ot,Ee)),Ee=(pe._subrs=[],pe._subrsBias=0,pe.private[0]),je=pe.private[1];Ee!==0&&je!==0&&(Ee=Xt(F,je+W,Ee,te),pe._defaultWidthX=Ee.defaultWidthX,pe._nominalWidthX=Ee.nominalWidthX,Ee.subrs!==0&&(je=mt(F,je+Ee.subrs+W),pe._subrs=je.objects,pe._subrsBias=gt(pe._subrs)),pe._privateDict=Ee),le.push(pe)}return le}function Tt(F,W,Q){var te,le,fe,pe,Ee,je,Pe,Fe,ze,Ve=new H,Oe=[],Je=0,Ye=!1,Ze=!1,We=0,qe=0,dt=(ze=(F.isCIDFont?(Ee=F.tables.cff.topDict._fdSelect[W.index],Ee=F.tables.cff.topDict._fdArray[Ee],je=Ee._subrs,Pe=Ee._subrsBias,Fe=Ee._defaultWidthX,Ee):(je=F.tables.cff.topDict._subrs,Pe=F.tables.cff.topDict._subrsBias,Fe=F.tables.cff.topDict._defaultWidthX,F.tables.cff.topDict))._nominalWidthX,Fe);function _t(pt,bt){Ze&&Ve.closePath(),Ve.moveTo(pt,bt),Ze=!0}function ft(){Oe.length%2==0||Ye||(dt=Oe.shift()+ze),Je+=Oe.length>>1,Oe.length=0,Ye=!0}return function pt(bt){for(var It,Ft,Gt,Jt,Qt,sr,Pt,Nt,At,er,Dt,Zt,Rt=0;Rt<bt.length;){var Yt=bt[Rt];switch(Rt+=1,Yt){case 1:case 3:ft();break;case 4:1<Oe.length&&!Ye&&(dt=Oe.shift()+ze,Ye=!0),qe+=Oe.pop(),_t(We,qe);break;case 5:for(;0<Oe.length;)We+=Oe.shift(),qe+=Oe.shift(),Ve.lineTo(We,qe);break;case 6:for(;0<Oe.length&&(We+=Oe.shift(),Ve.lineTo(We,qe),Oe.length!==0);)qe+=Oe.shift(),Ve.lineTo(We,qe);break;case 7:for(;0<Oe.length&&(qe+=Oe.shift(),Ve.lineTo(We,qe),Oe.length!==0);)We+=Oe.shift(),Ve.lineTo(We,qe);break;case 8:for(;0<Oe.length;)te=We+Oe.shift(),le=qe+Oe.shift(),fe=te+Oe.shift(),pe=le+Oe.shift(),We=fe+Oe.shift(),qe=pe+Oe.shift(),Ve.curveTo(te,le,fe,pe,We,qe);break;case 10:Qt=Oe.pop()+Pe,(sr=je[Qt])&&pt(sr);break;case 11:return;case 12:switch(Yt=bt[Rt],Rt+=1,Yt){case 35:te=We+Oe.shift(),le=qe+Oe.shift(),fe=te+Oe.shift(),pe=le+Oe.shift(),Pt=fe+Oe.shift(),Nt=pe+Oe.shift(),At=Pt+Oe.shift(),er=Nt+Oe.shift(),Dt=At+Oe.shift(),Zt=er+Oe.shift(),We=Dt+Oe.shift(),qe=Zt+Oe.shift(),Oe.shift(),Ve.curveTo(te,le,fe,pe,Pt,Nt),Ve.curveTo(At,er,Dt,Zt,We,qe);break;case 34:te=We+Oe.shift(),le=qe,fe=te+Oe.shift(),pe=le+Oe.shift(),Pt=fe+Oe.shift(),Nt=pe,At=Pt+Oe.shift(),er=pe,Dt=At+Oe.shift(),Zt=qe,We=Dt+Oe.shift(),Ve.curveTo(te,le,fe,pe,Pt,Nt),Ve.curveTo(At,er,Dt,Zt,We,qe);break;case 36:te=We+Oe.shift(),le=qe+Oe.shift(),fe=te+Oe.shift(),pe=le+Oe.shift(),Pt=fe+Oe.shift(),Nt=pe,At=Pt+Oe.shift(),er=pe,Dt=At+Oe.shift(),Zt=er+Oe.shift(),We=Dt+Oe.shift(),Ve.curveTo(te,le,fe,pe,Pt,Nt),Ve.curveTo(At,er,Dt,Zt,We,qe);break;case 37:te=We+Oe.shift(),le=qe+Oe.shift(),fe=te+Oe.shift(),pe=le+Oe.shift(),Pt=fe+Oe.shift(),Nt=pe+Oe.shift(),At=Pt+Oe.shift(),er=Nt+Oe.shift(),Dt=At+Oe.shift(),Zt=er+Oe.shift(),Math.abs(Dt-We)>Math.abs(Zt-qe)?We=Dt+Oe.shift():qe=Zt+Oe.shift(),Ve.curveTo(te,le,fe,pe,Pt,Nt),Ve.curveTo(At,er,Dt,Zt,We,qe);break;default:console.log("Glyph "+W.index+": unknown operator 1200"+Yt),Oe.length=0}break;case 14:0<Oe.length&&!Ye&&(dt=Oe.shift()+ze,Ye=!0),Ze&&(Ve.closePath(),Ze=!1);break;case 18:ft();break;case 19:case 20:ft(),Rt+=Je+7>>3;break;case 21:2<Oe.length&&!Ye&&(dt=Oe.shift()+ze,Ye=!0),qe+=Oe.pop(),_t(We+=Oe.pop(),qe);break;case 22:1<Oe.length&&!Ye&&(dt=Oe.shift()+ze,Ye=!0),_t(We+=Oe.pop(),qe);break;case 23:ft();break;case 24:for(;2<Oe.length;)te=We+Oe.shift(),le=qe+Oe.shift(),fe=te+Oe.shift(),pe=le+Oe.shift(),We=fe+Oe.shift(),qe=pe+Oe.shift(),Ve.curveTo(te,le,fe,pe,We,qe);We+=Oe.shift(),qe+=Oe.shift(),Ve.lineTo(We,qe);break;case 25:for(;6<Oe.length;)We+=Oe.shift(),qe+=Oe.shift(),Ve.lineTo(We,qe);te=We+Oe.shift(),le=qe+Oe.shift(),fe=te+Oe.shift(),pe=le+Oe.shift(),We=fe+Oe.shift(),qe=pe+Oe.shift(),Ve.curveTo(te,le,fe,pe,We,qe);break;case 26:for(Oe.length%2&&(We+=Oe.shift());0<Oe.length;)te=We,le=qe+Oe.shift(),fe=te+Oe.shift(),pe=le+Oe.shift(),We=fe,qe=pe+Oe.shift(),Ve.curveTo(te,le,fe,pe,We,qe);break;case 27:for(Oe.length%2&&(qe+=Oe.shift());0<Oe.length;)te=We+Oe.shift(),le=qe,fe=te+Oe.shift(),pe=le+Oe.shift(),We=fe+Oe.shift(),qe=pe,Ve.curveTo(te,le,fe,pe,We,qe);break;case 28:It=bt[Rt],Ft=bt[Rt+1],Oe.push((It<<24|Ft<<16)>>16),Rt+=2;break;case 29:Qt=Oe.pop()+F.gsubrsBias,(sr=F.gsubrs[Qt])&&pt(sr);break;case 30:for(;0<Oe.length&&(te=We,le=qe+Oe.shift(),fe=te+Oe.shift(),pe=le+Oe.shift(),We=fe+Oe.shift(),qe=pe+(Oe.length===1?Oe.shift():0),Ve.curveTo(te,le,fe,pe,We,qe),Oe.length!==0);)te=We+Oe.shift(),le=qe,fe=te+Oe.shift(),pe=le+Oe.shift(),qe=pe+Oe.shift(),We=fe+(Oe.length===1?Oe.shift():0),Ve.curveTo(te,le,fe,pe,We,qe);break;case 31:for(;0<Oe.length&&(te=We+Oe.shift(),le=qe,fe=te+Oe.shift(),pe=le+Oe.shift(),qe=pe+Oe.shift(),We=fe+(Oe.length===1?Oe.shift():0),Ve.curveTo(te,le,fe,pe,We,qe),Oe.length!==0);)te=We,le=qe+Oe.shift(),fe=te+Oe.shift(),pe=le+Oe.shift(),We=fe+Oe.shift(),qe=pe+(Oe.length===1?Oe.shift():0),Ve.curveTo(te,le,fe,pe,We,qe);break;default:Yt<32?console.log("Glyph "+W.index+": unknown operator "+Yt):Yt<247?Oe.push(Yt-139):Yt<251?(It=bt[Rt],Rt+=1,Oe.push(256*(Yt-247)+It+108)):Yt<255?(It=bt[Rt],Rt+=1,Oe.push(256*-(Yt-251)-It-108)):(It=bt[Rt],Ft=bt[Rt+1],Gt=bt[Rt+2],Jt=bt[Rt+3],Rt+=4,Oe.push((It<<24|Ft<<16|Gt<<8|Jt)/65536))}}}(Q),W.advanceWidth=dt,Ve}function $t(F,W){var Q,te=ke.indexOf(F);return 0<=te&&(Q=te),0<=(te=W.indexOf(F))?Q=te+ke.length:(Q=ke.length+W.length,W.push(F)),Q}function br(F,W,Q){for(var te={},le=0;le<F.length;le+=1){var fe=F[le],pe=W[fe.name];pe===void 0||function Ee(je,Pe){if(je===Pe)return 1;if(Array.isArray(je)&&Array.isArray(Pe)&&je.length===Pe.length){for(var Fe=0;Fe<je.length;Fe+=1)if(!Ee(je[Fe],Pe[Fe]))return;return 1}}(pe,fe.value)||(fe.type==="SID"&&(pe=$t(pe,Q)),te[fe.op]={name:fe.name,type:fe.type,value:pe})}return te}function wr(F,W){var Q=new Se.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return Q.dict=br(Ot,F,W),Q}function Sr(F){var W=new Se.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return W.topDicts=[{name:"topDict_0",type:"TABLE",value:F}],W}function Mr(F){for(var W=new Se.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Q=0;Q<F.length;Q+=1){var te=F.get(Q),le=function(fe){for(var pe=[],Ee=fe.path,je=(pe.push({name:"width",type:"NUMBER",value:fe.advanceWidth}),0),Pe=0,Fe=0;Fe<Ee.commands.length;Fe+=1){var ze,Ve,Oe,Je,Ye=void 0,Ze=void 0,We=Ee.commands[Fe];(We=We.type==="Q"?{type:"C",x:We.x,y:We.y,x1:1/3*je+2/3*We.x1,y1:1/3*Pe+2/3*We.y1,x2:1/3*We.x+2/3*We.x1,y2:1/3*We.y+2/3*We.y1}:We).type==="M"?(Ye=Math.round(We.x-je),Ze=Math.round(We.y-Pe),pe.push({name:"dx",type:"NUMBER",value:Ye}),pe.push({name:"dy",type:"NUMBER",value:Ze}),pe.push({name:"rmoveto",type:"OP",value:21}),je=Math.round(We.x),Pe=Math.round(We.y)):We.type==="L"?(Ye=Math.round(We.x-je),Ze=Math.round(We.y-Pe),pe.push({name:"dx",type:"NUMBER",value:Ye}),pe.push({name:"dy",type:"NUMBER",value:Ze}),pe.push({name:"rlineto",type:"OP",value:5}),je=Math.round(We.x),Pe=Math.round(We.y)):We.type==="C"&&(ze=Math.round(We.x1-je),Ve=Math.round(We.y1-Pe),Oe=Math.round(We.x2-We.x1),Je=Math.round(We.y2-We.y1),Ye=Math.round(We.x-We.x2),Ze=Math.round(We.y-We.y2),pe.push({name:"dx1",type:"NUMBER",value:ze}),pe.push({name:"dy1",type:"NUMBER",value:Ve}),pe.push({name:"dx2",type:"NUMBER",value:Oe}),pe.push({name:"dy2",type:"NUMBER",value:Je}),pe.push({name:"dx",type:"NUMBER",value:Ye}),pe.push({name:"dy",type:"NUMBER",value:Ze}),pe.push({name:"rrcurveto",type:"OP",value:8}),je=Math.round(We.x),Pe=Math.round(We.y))}return pe.push({name:"endchar",type:"OP",value:14}),pe}(te);W.charStrings.push({name:te.name,type:"CHARSTRING",value:le})}return W}var xr={parse:function(F,W,Q){Q.tables.cff={},Ee=F,te=W,(le={}).formatMajor=Ge.getCard8(Ee,te),le.formatMinor=Ge.getCard8(Ee,te+1),le.size=Ge.getCard8(Ee,te+2),le.offsetSize=Ge.getCard8(Ee,te+3),le.startOffset=te,le.endOffset=te+4;var Ee=mt(F,le.endOffset,Ge.bytesToString),te=mt(F,Ee.endOffset),le=mt(F,te.endOffset,Ge.bytesToString),Ee=mt(F,le.endOffset);if(Q.gsubrs=Ee.objects,Q.gsubrsBias=gt(Q.gsubrs),(Ee=Wt(F,W,te.objects,le.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Ee.length);if(te=Ee[0],(Q.tables.cff.topDict=te)._privateDict&&(Q.defaultWidthX=te._privateDict.defaultWidthX,Q.nominalWidthX=te._privateDict.nominalWidthX),te.ros[0]!==void 0&&te.ros[1]!==void 0&&(Q.isCIDFont=!0),Q.isCIDFont){var Ee=te.fdArray,fe=te.fdSelect;if(Ee===0||fe===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Ee=Wt(F,W,mt(F,Ee+=W).objects,le.objects),te._fdArray=Ee,te._fdSelect=function(Ve,Oe,Je,Ye){var Ze,We=[],qe=new Ge.Parser(Ve,Oe);if((Ve=qe.parseCard8())===0)for(var dt=0;dt<Je;dt++){if(Ye<=(Ze=qe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ze+" (FD count "+Ye+")");We.push(Ze)}else{if(Ve!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ve);var _t,ft=qe.parseCard16(),pt=qe.parseCard16();if(pt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+pt);for(var bt=0;bt<ft;bt++){if(Ze=qe.parseCard8(),_t=qe.parseCard16(),Ye<=Ze)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ze+" (FD count "+Ye+")");if(Je<_t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+_t);for(;pt<_t;pt++)We.push(Ze);pt=_t}if(_t!==Je)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+_t)}return We}(F,fe+=W,Q.numGlyphs,Ee.length)}var fe=W+te.private[1],Ee=Xt(F,fe,te.private[0],le.objects),pe=(Q.defaultWidthX=Ee.defaultWidthX,Q.nominalWidthX=Ee.nominalWidthX,Ee.subrs!==0?(fe=mt(F,fe+Ee.subrs),Q.subrs=fe.objects,Q.subrsBias=gt(Q.subrs)):(Q.subrs=[],Q.subrsBias=0),mt(F,W+te.charStrings)),Ee=(Q.nGlyphs=pe.objects.length,function(Fe,ze,Ve,Oe){var Je=new Ge.Parser(Fe,ze),Ye=(--Ve,[".notdef"]);if((Fe=Je.parseCard8())===0)for(var Ze=0;Ze<Ve;Ze+=1)We=Je.parseSID(),Ye.push(Vt(Oe,We));else if(Fe===1)for(;Ye.length<=Ve;)for(var We=Je.parseSID(),qe=Je.parseCard8(),dt=0;dt<=qe;dt+=1)Ye.push(Vt(Oe,We)),We+=1;else{if(Fe!==2)throw new Error("Unknown charset format "+Fe);for(;Ye.length<=Ve;){We=Je.parseSID(),qe=Je.parseCard16();for(var _t=0;_t<=qe;_t+=1)Ye.push(Vt(Oe,We)),We+=1}}return Ye}(F,W+te.charset,Q.nGlyphs,le.objects));te.encoding===0?Q.cffEncoding=new rt(ye,Ee):te.encoding===1?Q.cffEncoding=new rt(Te,Ee):Q.cffEncoding=function(Fe,ze,Ve){var Oe={},Je=new Ge.Parser(Fe,ze);if((Fe=Je.parseCard8())===0)for(var Ye=Je.parseCard8(),Ze=0;Ze<Ye;Ze+=1)Oe[qe=Je.parseCard8()]=Ze;else{if(Fe!==1)throw new Error("Unknown encoding format "+Fe);for(var We=Je.parseCard8(),qe=1,dt=0;dt<We;dt+=1)for(var _t=Je.parseCard8(),ft=Je.parseCard8(),pt=_t;pt<=_t+ft;pt+=1)Oe[pt]=qe,qe+=1}return new rt(Oe,Ve)}(F,W+te.encoding,Ee),Q.encoding=Q.encoding||Q.cffEncoding,Q.glyphs=new ut.GlyphSet(Q);for(var je=0;je<Q.nGlyphs;je+=1){var Pe=pe.objects[je];Q.glyphs.push(je,ut.cffGlyphLoader(Q,je,Tt,Pe))}},make:function(F,Fe){for(var Q,te=new Se.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),le=1/Fe.unitsPerEm,le={version:Fe.version,fullName:Fe.fullName,familyName:Fe.familyName,weight:Fe.weightName,fontBBox:Fe.fontBBox||[0,0,0,0],fontMatrix:[le,0,0,le,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},fe=[],pe=1;pe<F.length;pe+=1)Q=F.get(pe),fe.push(Q.name);var Ee,je,Pe=[],Fe=(te.header=new Se.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),te.nameIndex=function(Ve){var Oe=new Se.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Oe.names=[];for(var Je=0;Je<Ve.length;Je+=1)Oe.names.push({name:"name_"+Je,type:"NAME",value:Ve[Je]});return Oe}([Fe.postScriptName]),wr(le,Pe)),ze=(te.topDictIndex=Sr(Fe),te.globalSubrIndex=new Se.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),te.charsets=function(Ve,Oe){for(var Je=new Se.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ye=0;Ye<Ve.length;Ye+=1){var Ze=$t(Ve[Ye],Oe);Je.fields.push({name:"glyph_"+Ye,type:"SID",value:Ze})}return Je}(fe,Pe),te.charStringsIndex=Mr(F),te.privateDict=(ze={},Ee=Pe,(je=new Se.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=br(xt,ze,Ee),je),te.stringIndex=function(Ve){var Oe=new Se.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Oe.strings=[];for(var Je=0;Je<Ve.length;Je+=1)Oe.strings.push({name:"string_"+Je,type:"STRING",value:Ve[Je]});return Oe}(Pe),te.header.sizeOf()+te.nameIndex.sizeOf()+te.topDictIndex.sizeOf()+te.stringIndex.sizeOf()+te.globalSubrIndex.sizeOf());return le.charset=ze,le.encoding=0,le.charStrings=le.charset+te.charsets.sizeOf(),le.private[1]=le.charStrings+te.charStringsIndex.sizeOf(),Fe=wr(le,Pe),te.topDictIndex=Sr(Fe),te}},Er={parse:function(te,W){var Q={},te=new Ge.Parser(te,W);return Q.version=te.parseVersion(),Q.fontRevision=Math.round(1e3*te.parseFixed())/1e3,Q.checkSumAdjustment=te.parseULong(),Q.magicNumber=te.parseULong(),q.argument(Q.magicNumber===1594834165,"Font header has wrong magic number."),Q.flags=te.parseUShort(),Q.unitsPerEm=te.parseUShort(),Q.created=te.parseLongDateTime(),Q.modified=te.parseLongDateTime(),Q.xMin=te.parseShort(),Q.yMin=te.parseShort(),Q.xMax=te.parseShort(),Q.yMax=te.parseShort(),Q.macStyle=te.parseUShort(),Q.lowestRecPPEM=te.parseUShort(),Q.fontDirectionHint=te.parseShort(),Q.indexToLocFormat=te.parseShort(),Q.glyphDataFormat=te.parseShort(),Q},make:function(F){var W=Math.round(new Date().getTime()/1e3)+2082844800,Q=W;return F.createdTimestamp&&(Q=F.createdTimestamp+2082844800),new Se.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:Q},{name:"modified",type:"LONGDATETIME",value:W},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],F)}},Ne={parse:function(te,W){var Q={},te=new Ge.Parser(te,W);return Q.version=te.parseVersion(),Q.ascender=te.parseShort(),Q.descender=te.parseShort(),Q.lineGap=te.parseShort(),Q.advanceWidthMax=te.parseUShort(),Q.minLeftSideBearing=te.parseShort(),Q.minRightSideBearing=te.parseShort(),Q.xMaxExtent=te.parseShort(),Q.caretSlopeRise=te.parseShort(),Q.caretSlopeRun=te.parseShort(),Q.caretOffset=te.parseShort(),te.relativeOffset+=8,Q.metricDataFormat=te.parseShort(),Q.numberOfHMetrics=te.parseUShort(),Q},make:function(F){return new Se.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],F)}},nt={parse:function(F,W,Q,te,le){for(var fe,pe,Ee=new Ge.Parser(F,W),je=0;je<te;je+=1){je<Q&&(fe=Ee.parseUShort(),pe=Ee.parseShort());var Pe=le.get(je);Pe.advanceWidth=fe,Pe.leftSideBearing=pe}},make:function(F){for(var W=new Se.Table("hmtx",[]),Q=0;Q<F.length;Q+=1){var le=F.get(Q),te=le.advanceWidth||0,le=le.leftSideBearing||0;W.fields.push({name:"advanceWidth_"+Q,type:"USHORT",value:te}),W.fields.push({name:"leftSideBearing_"+Q,type:"SHORT",value:le})}return W}},ct={make:function(F){for(var W=new Se.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:F.length}]),Q="",te=12+4*F.length,le=0;le<F.length;++le){var fe=Q.indexOf(F[le]);fe<0&&(fe=Q.length,Q+=F[le]),W.fields.push({name:"offset "+le,type:"USHORT",value:te+fe}),W.fields.push({name:"length "+le,type:"USHORT",value:F[le].length})}return W.fields.push({name:"stringPool",type:"CHARARRAY",value:Q}),W},parse:function(F,W){for(var Q=new Ge.Parser(F,W),te=Q.parseULong(),le=(q.argument(te===1,"Unsupported ltag table version."),Q.skip("uLong",1),Q.parseULong()),fe=[],pe=0;pe<le;pe++){for(var Ee="",je=W+Q.parseUShort(),Pe=Q.parseUShort(),Fe=je;Fe<je+Pe;++Fe)Ee+=String.fromCharCode(F.getInt8(Fe));fe.push(Ee)}return fe}},tt={parse:function(te,W){var Q={},te=new Ge.Parser(te,W);return Q.version=te.parseVersion(),Q.numGlyphs=te.parseUShort(),Q.version===1&&(Q.maxPoints=te.parseUShort(),Q.maxContours=te.parseUShort(),Q.maxCompositePoints=te.parseUShort(),Q.maxCompositeContours=te.parseUShort(),Q.maxZones=te.parseUShort(),Q.maxTwilightPoints=te.parseUShort(),Q.maxStorage=te.parseUShort(),Q.maxFunctionDefs=te.parseUShort(),Q.maxInstructionDefs=te.parseUShort(),Q.maxStackElements=te.parseUShort(),Q.maxSizeOfInstructions=te.parseUShort(),Q.maxComponentElements=te.parseUShort(),Q.maxComponentDepth=te.parseUShort()),Q},make:function(F){return new Se.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:F}])}},wt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],et={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Et={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},at={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},St="utf-16",lt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Bt={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function zt(F,W,Q){switch(F){case 0:return St;case 1:return Bt[Q]||lt[W];case 3:if(W===1||W===10)return St}}function Lt(F){var W,Q={};for(W in F)Q[F[W]]=parseInt(W);return Q}function qt(F,W,Q,te,le,fe){return new Se.Record("NameRecord",[{name:"platformID",type:"USHORT",value:F},{name:"encodingID",type:"USHORT",value:W},{name:"languageID",type:"USHORT",value:Q},{name:"nameID",type:"USHORT",value:te},{name:"length",type:"USHORT",value:le},{name:"offset",type:"USHORT",value:fe}])}function ir(F,W){if((Q=function(fe,pe){var Ee=fe.length,je=pe.length-Ee+1;e:for(var Pe=0;Pe<je;Pe++)for(;Pe<je;Pe++){for(var Fe=0;Fe<Ee;Fe++)if(pe[Pe+Fe]!==fe[Fe])continue e;return Pe}return-1}(F,W))<0)for(var Q=W.length,te=0,le=F.length;te<le;++te)W.push(F[te]);return Q}var tr={parse:function(F,W,Q){for(var te={},le=new Ge.Parser(F,W),W=le.parseUShort(),fe=le.parseUShort(),pe=le.offset+le.parseUShort(),Ee=0;Ee<fe;Ee++){var Je=le.parseUShort(),je=le.parseUShort(),Pe=le.parseUShort(),Fe=le.parseUShort(),Fe=wt[Fe]||Fe,ze=le.parseUShort(),Ve=le.parseUShort(),Oe=function(Ze,We,qe){switch(Ze){case 0:if(We===65535)return"und";if(qe)return qe[We];break;case 1:return et[We];case 3:return at[We]}}(Je,Pe,Q),Je=zt(Je,je,Pe);Je!==void 0&&Oe!==void 0&&(je=void 0,(je=Je===St?ne.UTF16(F,pe+Ve,ze):ne.MACSTRING(F,pe+Ve,ze,Je))&&((Pe=(Pe=te[Fe])===void 0?te[Fe]={}:Pe)[Oe]=je))}return W===1&&le.parseUShort(),te},make:function(F,W){var Q,te=[],le={},fe=Lt(wt);for(Q in F){var pe=fe[Q];if(pe===void 0&&(pe=Q),Ve=parseInt(pe),isNaN(Ve))throw new Error('Name table entry "'+Q+'" does not exist, see nameTableNames for complete list.');le[Ve]=F[Q],te.push(Ve)}for(var Ee=Lt(et),je=Lt(at),Pe=[],Fe=[],ze=0;ze<te.length;ze++){var Ve,Oe,Je=le[Ve=te[ze]];for(Oe in Je){var Ye=Je[Oe],_t=1,Ze=Ee[Oe],We=Et[Ze],qe=zt(_t,We,Ze),qe=oe.MACSTRING(Ye,qe),dt=(qe===void 0&&(_t=0,(Ze=W.indexOf(Oe))<0&&(Ze=W.length,W.push(Oe)),We=4,qe=oe.UTF16(Ye)),ir(qe,Fe)),_t=(Pe.push(qt(_t,We,Ze,Ve,qe.length,dt)),je[Oe]);_t!==void 0&&(Ze=ir(We=oe.UTF16(Ye),Fe),Pe.push(qt(3,1,_t,Ve,We.length,Ze)))}}Pe.sort(function(bt,It){return bt.platformID-It.platformID||bt.encodingID-It.encodingID||bt.languageID-It.languageID||bt.nameID-It.nameID});for(var ft=new Se.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Pe.length},{name:"stringOffset",type:"USHORT",value:6+12*Pe.length}]),pt=0;pt<Pe.length;pt++)ft.fields.push({name:"record_"+pt,type:"RECORD",value:Pe[pt]});return ft.fields.push({name:"strings",type:"LITERAL",value:Fe}),ft}},ar=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Ht={parse:function(F,W){var Q={},te=new Ge.Parser(F,W);Q.version=te.parseUShort(),Q.xAvgCharWidth=te.parseShort(),Q.usWeightClass=te.parseUShort(),Q.usWidthClass=te.parseUShort(),Q.fsType=te.parseUShort(),Q.ySubscriptXSize=te.parseShort(),Q.ySubscriptYSize=te.parseShort(),Q.ySubscriptXOffset=te.parseShort(),Q.ySubscriptYOffset=te.parseShort(),Q.ySuperscriptXSize=te.parseShort(),Q.ySuperscriptYSize=te.parseShort(),Q.ySuperscriptXOffset=te.parseShort(),Q.ySuperscriptYOffset=te.parseShort(),Q.yStrikeoutSize=te.parseShort(),Q.yStrikeoutPosition=te.parseShort(),Q.sFamilyClass=te.parseShort(),Q.panose=[];for(var le=0;le<10;le++)Q.panose[le]=te.parseByte();return Q.ulUnicodeRange1=te.parseULong(),Q.ulUnicodeRange2=te.parseULong(),Q.ulUnicodeRange3=te.parseULong(),Q.ulUnicodeRange4=te.parseULong(),Q.achVendID=String.fromCharCode(te.parseByte(),te.parseByte(),te.parseByte(),te.parseByte()),Q.fsSelection=te.parseUShort(),Q.usFirstCharIndex=te.parseUShort(),Q.usLastCharIndex=te.parseUShort(),Q.sTypoAscender=te.parseShort(),Q.sTypoDescender=te.parseShort(),Q.sTypoLineGap=te.parseShort(),Q.usWinAscent=te.parseUShort(),Q.usWinDescent=te.parseUShort(),1<=Q.version&&(Q.ulCodePageRange1=te.parseULong(),Q.ulCodePageRange2=te.parseULong()),2<=Q.version&&(Q.sxHeight=te.parseShort(),Q.sCapHeight=te.parseShort(),Q.usDefaultChar=te.parseUShort(),Q.usBreakChar=te.parseUShort(),Q.usMaxContent=te.parseUShort()),Q},make:function(F){return new Se.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],F)},unicodeRanges:ar,getUnicodeRange:function(F){for(var W=0;W<ar.length;W+=1){var Q=ar[W];if(F>=Q.begin&&F<Q.end)return W}return-1}},Hr={parse:function(F,W){var Q={},te=new Ge.Parser(F,W);switch(Q.version=te.parseVersion(),Q.italicAngle=te.parseFixed(),Q.underlinePosition=te.parseShort(),Q.underlineThickness=te.parseShort(),Q.isFixedPitch=te.parseULong(),Q.minMemType42=te.parseULong(),Q.maxMemType42=te.parseULong(),Q.minMemType1=te.parseULong(),Q.maxMemType1=te.parseULong(),Q.version){case 1:Q.names=Le.slice();break;case 2:Q.numberOfGlyphs=te.parseUShort(),Q.glyphNameIndex=new Array(Q.numberOfGlyphs);for(var le=0;le<Q.numberOfGlyphs;le++)Q.glyphNameIndex[le]=te.parseUShort();Q.names=[];for(var fe,pe=0;pe<Q.numberOfGlyphs;pe++)Q.glyphNameIndex[pe]>=Le.length&&(fe=te.parseChar(),Q.names.push(te.parseString(fe)));break;case 2.5:Q.numberOfGlyphs=te.parseUShort(),Q.offset=new Array(Q.numberOfGlyphs);for(var Ee=0;Ee<Q.numberOfGlyphs;Ee++)Q.offset[Ee]=te.parseChar()}return Q},make:function(){return new Se.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},rr=new Array(9),mr=(rr[1]=function(){var F=this.offset+this.relativeOffset,W=this.parseUShort();return W===1?{substFormat:1,coverage:this.parsePointer(Re.coverage),deltaGlyphId:this.parseUShort()}:W===2?{substFormat:2,coverage:this.parsePointer(Re.coverage),substitute:this.parseOffset16List()}:void q.assert(!1,"0x"+F.toString(16)+": lookup type 1 format must be 1 or 2.")},rr[2]=function(){var F=this.parseUShort();return q.argument(F===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:F,coverage:this.parsePointer(Re.coverage),sequences:this.parseListOfLists()}},rr[3]=function(){var F=this.parseUShort();return q.argument(F===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:F,coverage:this.parsePointer(Re.coverage),alternateSets:this.parseListOfLists()}},rr[4]=function(){var F=this.parseUShort();return q.argument(F===1,"GSUB ligature table identifier-format must be 1"),{substFormat:F,coverage:this.parsePointer(Re.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Re.uShort,lookupListIndex:Re.uShort});rr[5]=function(){var F,W,Q=this.offset+this.relativeOffset,te=this.parseUShort();return te===1?{substFormat:te,coverage:this.parsePointer(Re.coverage),ruleSets:this.parseListOfLists(function(){var le=this.parseUShort(),fe=this.parseUShort();return{input:this.parseUShortList(le-1),lookupRecords:this.parseRecordList(fe,mr)}})}:te===2?{substFormat:te,coverage:this.parsePointer(Re.coverage),classDef:this.parsePointer(Re.classDef),classSets:this.parseListOfLists(function(){var le=this.parseUShort(),fe=this.parseUShort();return{classes:this.parseUShortList(le-1),lookupRecords:this.parseRecordList(fe,mr)}})}:te===3?(F=this.parseUShort(),W=this.parseUShort(),{substFormat:te,coverages:this.parseList(F,Re.pointer(Re.coverage)),lookupRecords:this.parseRecordList(W,mr)}):void q.assert(!1,"0x"+Q.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},rr[6]=function(){var F=this.offset+this.relativeOffset,W=this.parseUShort();return W===1?{substFormat:1,coverage:this.parsePointer(Re.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(mr)}})}:W===2?{substFormat:2,coverage:this.parsePointer(Re.coverage),backtrackClassDef:this.parsePointer(Re.classDef),inputClassDef:this.parsePointer(Re.classDef),lookaheadClassDef:this.parsePointer(Re.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(mr)}})}:W===3?{substFormat:3,backtrackCoverage:this.parseList(Re.pointer(Re.coverage)),inputCoverage:this.parseList(Re.pointer(Re.coverage)),lookaheadCoverage:this.parseList(Re.pointer(Re.coverage)),lookupRecords:this.parseRecordList(mr)}:void q.assert(!1,"0x"+F.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},rr[7]=function(){var F=this.parseUShort(),F=(q.argument(F===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),W=new Re(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:F,extension:rr[F].call(W)}},rr[8]=function(){var F=this.parseUShort();return q.argument(F===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:F,coverage:this.parsePointer(Re.coverage),backtrackCoverage:this.parseList(Re.pointer(Re.coverage)),lookaheadCoverage:this.parseList(Re.pointer(Re.coverage)),substitutes:this.parseUShortList()}};var Pr=new Array(9);Pr[1]=function(F){return F.substFormat===1?new Se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Se.Coverage(F.coverage)},{name:"deltaGlyphID",type:"USHORT",value:F.deltaGlyphId}]):new Se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Se.Coverage(F.coverage)}].concat(Se.ushortList("substitute",F.substitute)))},Pr[3]=function(F){return q.assert(F.substFormat===1,"Lookup type 3 substFormat must be 1."),new Se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Se.Coverage(F.coverage)}].concat(Se.tableList("altSet",F.alternateSets,function(W){return new Se.Table("alternateSetTable",Se.ushortList("alternate",W))})))},Pr[4]=function(F){return q.assert(F.substFormat===1,"Lookup type 4 substFormat must be 1."),new Se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Se.Coverage(F.coverage)}].concat(Se.tableList("ligSet",F.ligatureSets,function(W){return new Se.Table("ligatureSetTable",Se.tableList("ligature",W,function(Q){return new Se.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:Q.ligGlyph}].concat(Se.ushortList("component",Q.components,Q.components.length+1)))}))})))};var Yr={parse:function(F,W){return W=(F=new Re(F,W=W||0)).parseVersion(1),q.argument(W===1||W===1.1,"Unsupported GSUB table version."),W===1?{version:W,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(rr)}:{version:W,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(rr),variations:F.parseFeatureVariationsList()}},make:function(F){return new Se.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Se.ScriptList(F.scripts)},{name:"features",type:"TABLE",value:new Se.FeatureList(F.features)},{name:"lookups",type:"TABLE",value:new Se.LookupList(F.lookups,Pr)}])}},Xr={parse:function(F,W){for(var Q=new Ge.Parser(F,W),te=Q.parseULong(),le=(q.argument(te===1,"Unsupported META table version."),Q.parseULong(),Q.parseULong(),Q.parseULong()),fe={},pe=0;pe<le;pe++){var Ee=Q.parseTag(),Pe=Q.parseULong(),je=Q.parseULong(),Pe=ne.UTF8(F,W+Pe,je);fe[Ee]=Pe}return fe},make:function(F){var W,Q=Object.keys(F).length,te="",le=16+12*Q,fe=new Se.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:le},{name:"numTags",type:"ULONG",value:Q}]);for(W in F){var pe=te.length;te+=F[W],fe.fields.push({name:"tag "+W,type:"TAG",value:W}),fe.fields.push({name:"offset "+W,type:"ULONG",value:le+pe}),fe.fields.push({name:"length "+W,type:"ULONG",value:F[W].length})}return fe.fields.push({name:"stringPool",type:"CHARARRAY",value:te}),fe}};function $r(F){return Math.log(F)/Math.log(2)|0}function Dr(F){for(;F.length%4!=0;)F.push(0);for(var W=0,Q=0;Q<F.length;Q+=4)W+=(F[Q]<<24)+(F[Q+1]<<16)+(F[Q+2]<<8)+F[Q+3];return W%=Math.pow(2,32)}function Zr(F,W,Q,te){return new Se.Record("Table Record",[{name:"tag",type:"TAG",value:F!==void 0?F:""},{name:"checkSum",type:"ULONG",value:W!==void 0?W:0},{name:"offset",type:"ULONG",value:Q!==void 0?Q:0},{name:"length",type:"ULONG",value:te!==void 0?te:0}])}function Kr(F){for(var W=new Se.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),Q=(W.tables=F,W.numTables=F.length,Math.pow(2,$r(W.numTables))),te=(W.searchRange=16*Q,W.entrySelector=$r(Q),W.rangeShift=16*W.numTables-W.searchRange,[]),le=[],fe=W.sizeOf()+Zr().sizeOf()*W.numTables;fe%4!=0;)fe+=1,le.push({name:"padding",type:"BYTE",value:0});for(var pe=0;pe<F.length;pe+=1){var Ee=F[pe],je=(q.argument(Ee.tableName.length===4,"Table name"+Ee.tableName+" is invalid."),Ee.sizeOf()),Pe=Zr(Ee.tableName,Dr(Ee.encode()),fe,je);for(te.push({name:Pe.tag+" Table Record",type:"RECORD",value:Pe}),le.push({name:Ee.tableName+" table",type:"RECORD",value:Ee}),fe+=je,q.argument(!isNaN(fe),"Something went wrong calculating the offset.");fe%4!=0;)fe+=1,le.push({name:"padding",type:"BYTE",value:0})}return te.sort(function(Fe,ze){return Fe.value.tag>ze.value.tag?1:-1}),W.fields=W.fields.concat(te),W.fields=W.fields.concat(le),W}function Jr(F,W,Q){for(var te=0;te<W.length;te+=1){var le=F.charToGlyphIndex(W[te]);if(0<le)return F.glyphs.get(le).getMetrics()}return Q}var Nn={make:Kr,fontToTable:function(F){for(var W,Q=[],te=[],le=[],fe=[],pe=[],Ee=[],je=[],Pe=0,Fe=0,ze=0,Ve=0,Oe=0,Je=0;Je<F.glyphs.length;Je+=1){var Ye=F.glyphs.get(Je),Ze=0|Ye.unicode;if(isNaN(Ye.advanceWidth))throw new Error("Glyph "+Ye.name+" ("+Je+"): advanceWidth is not a number.");(Ze<W||W===void 0)&&0<Ze&&(W=Ze),Pe<Ze&&(Pe=Ze);var Ze=Ht.getUnicodeRange(Ze);if(Ze<32)Fe|=1<<Ze;else if(Ze<64)ze|=1<<Ze-32;else if(Ze<96)Ve|=1<<Ze-64;else{if(!(Ze<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Oe|=1<<Ze-96}Ye.name!==".notdef"&&(Ze=Ye.getMetrics(),Q.push(Ze.xMin),te.push(Ze.yMin),le.push(Ze.xMax),fe.push(Ze.yMax),Ee.push(Ze.leftSideBearing),je.push(Ze.rightSideBearing),pe.push(Ye.advanceWidth))}var We,qe={xMin:Math.min.apply(null,Q),yMin:Math.min.apply(null,te),xMax:Math.max.apply(null,le),yMax:Math.max.apply(null,fe),advanceWidthMax:Math.max.apply(null,pe),advanceWidthAvg:function(Yt){for(var Cr=0,vr=0;vr<Yt.length;vr+=1)Cr+=Yt[vr];return Cr/Yt.length}(pe),minLeftSideBearing:Math.min.apply(null,Ee),maxLeftSideBearing:Math.max.apply(null,Ee),minRightSideBearing:Math.min.apply(null,je)},dt=(qe.ascender=F.ascender,qe.descender=F.descender,Er.make({flags:3,unitsPerEm:F.unitsPerEm,xMin:qe.xMin,yMin:qe.yMin,xMax:qe.xMax,yMax:qe.yMax,lowestRecPPEM:3,createdTimestamp:F.createdTimestamp})),_t=Ne.make({ascender:qe.ascender,descender:qe.descender,advanceWidthMax:qe.advanceWidthMax,minLeftSideBearing:qe.minLeftSideBearing,minRightSideBearing:qe.minRightSideBearing,xMaxExtent:qe.maxLeftSideBearing+(qe.xMax-qe.xMin),numberOfHMetrics:F.glyphs.length}),ft=tt.make(F.glyphs.length),pt=Ht.make({xAvgCharWidth:Math.round(qe.advanceWidthAvg),usWeightClass:F.tables.os2.usWeightClass,usWidthClass:F.tables.os2.usWidthClass,usFirstCharIndex:W,usLastCharIndex:Pe,ulUnicodeRange1:Fe,ulUnicodeRange2:ze,ulUnicodeRange3:Ve,ulUnicodeRange4:Oe,fsSelection:F.tables.os2.fsSelection,sTypoAscender:qe.ascender,sTypoDescender:qe.descender,sTypoLineGap:0,usWinAscent:qe.yMax,usWinDescent:Math.abs(qe.yMin),ulCodePageRange1:1,sxHeight:Jr(F,"xyvw",{yMax:Math.round(qe.ascender/2)}).yMax,sCapHeight:Jr(F,"HIKLEFJMNTZBDPRAGOQSUVWXY",qe).yMax,usDefaultChar:F.hasChar(" ")?32:0,usBreakChar:F.hasChar(" ")?32:0}),bt=nt.make(F.glyphs),It=be.make(F.glyphs),Nt=F.getEnglishName("fontFamily"),At=F.getEnglishName("fontSubfamily"),Pt=Nt+" "+At,Ft=(Ft=F.getEnglishName("postScriptName"))||Nt.replace(/\s/g,"")+"-"+At,Gt={};for(We in F.names)Gt[We]=F.names[We];Gt.uniqueID||(Gt.uniqueID={en:F.getEnglishName("manufacturer")+":"+Pt}),Gt.postScriptName||(Gt.postScriptName={en:Ft}),Gt.preferredFamily||(Gt.preferredFamily=F.names.fontFamily),Gt.preferredSubfamily||(Gt.preferredSubfamily=F.names.fontSubfamily);var Qt=[],Jt=tr.make(Gt,Qt),Qt=0<Qt.length?ct.make(Qt):void 0,sr=Hr.make(),Pt=xr.make(F.glyphs,{version:F.getEnglishName("version"),fullName:Pt,familyName:Nt,weightName:At,postScriptName:Ft,unitsPerEm:F.unitsPerEm,fontBBox:[0,qe.yMin,qe.ascender,qe.advanceWidthMax]}),Nt=F.metas&&0<Object.keys(F.metas).length?Xr.make(F.metas):void 0,At=[dt,_t,ft,pt,Jt,It,sr,Pt,bt];Qt&&At.push(Qt),F.tables.gsub&&At.push(Yr.make(F.tables.gsub)),Nt&&At.push(Nt);for(var er=Dr((Ft=Kr(At)).encode()),Dt=Ft.fields,Zt=!1,Rt=0;Rt<Dt.length;Rt+=1)if(Dt[Rt].name==="head table"){Dt[Rt].value.checkSumAdjustment=2981146554-er,Zt=!0;break}if(Zt)return Ft;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Dr};function Lr(F,W){for(var Q=0,te=F.length-1;Q<=te;){var le=Q+te>>>1,fe=F[le].tag;if(fe===W)return le;fe<W?Q=1+le:te=le-1}return-Q-1}function Qr(F,W){for(var Q=0,te=F.length-1;Q<=te;){var le=Q+te>>>1,fe=F[le];if(fe===W)return le;fe<W?Q=1+le:te=le-1}return-Q-1}function en(F,W){for(var Q=0,te=F.length-1;Q<=te;){var le,fe=Q+te>>>1,pe=(le=F[fe]).start;if(pe===W)return le;pe<W?Q=1+fe:te=fe-1}if(0<Q)return W>(le=F[Q-1]).end?0:le}function jr(F,W){this.font=F,this.tableName=W}function Ir(F){jr.call(this,F,"gpos")}function or(F){jr.call(this,F,"gsub")}function tn(F,W,Q){for(var te=F.subtables,le=0;le<te.length;le++){var fe=te[le];if(fe.substFormat===W)return fe}if(Q)return te.push(Q),Q}function rn(F){for(var W=new ArrayBuffer(F.length),Q=new Uint8Array(W),te=0;te<F.length;++te)Q[te]=F[te];return W}function yr(F,W){if(!F)throw W}function nn(F,W,Q,te,le){var fe=0<(W&te)?(fe=F.parseByte(),Q+(fe=W&le?fe:-fe)):0<(W&le)?Q:Q+F.parseShort();return fe}function Rn(F,W,Q){var te,le=new Ge.Parser(W,Q);if(F.numberOfContours=le.parseShort(),F._xMin=le.parseShort(),F._yMin=le.parseShort(),F._xMax=le.parseShort(),F._yMax=le.parseShort(),0<F.numberOfContours){for(var fe=F.endPointIndices=[],pe=0;pe<F.numberOfContours;pe+=1)fe.push(le.parseUShort());F.instructionLength=le.parseUShort(),F.instructions=[];for(var Ee=0;Ee<F.instructionLength;Ee+=1)F.instructions.push(le.parseByte());for(var je=fe[fe.length-1]+1,Pe=[],Fe=0;Fe<je;Fe+=1)if(te=le.parseByte(),Pe.push(te),0<(8&te))for(var ze=le.parseByte(),Ve=0;Ve<ze;Ve+=1)Pe.push(te),Fe+=1;if(q.argument(Pe.length===je,"Bad flags."),0<fe.length){var Oe,Je=[];if(0<je){for(var Ye=0;Ye<je;Ye+=1)te=Pe[Ye],(Oe={}).onCurve=!!(1&te),Oe.lastPointOfContour=0<=fe.indexOf(Ye),Je.push(Oe);for(var Ze=0,We=0;We<je;We+=1)te=Pe[We],(Oe=Je[We]).x=nn(le,te,Ze,2,16),Ze=Oe.x;for(var qe=0,dt=0;dt<je;dt+=1)te=Pe[dt],(Oe=Je[dt]).y=nn(le,te,qe,4,32),qe=Oe.y}F.points=Je}else F.points=[]}else if(F.numberOfContours===0)F.points=[];else{F.isComposite=!0,F.points=[],F.components=[];for(var _t=!0;_t;){Pe=le.parseUShort();var ft={glyphIndex:le.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Pe)?0<(2&Pe)?(ft.dx=le.parseShort(),ft.dy=le.parseShort()):ft.matchedPoints=[le.parseUShort(),le.parseUShort()]:0<(2&Pe)?(ft.dx=le.parseChar(),ft.dy=le.parseChar()):ft.matchedPoints=[le.parseByte(),le.parseByte()],0<(8&Pe)?ft.xScale=ft.yScale=le.parseF2Dot14():0<(64&Pe)?(ft.xScale=le.parseF2Dot14(),ft.yScale=le.parseF2Dot14()):0<(128&Pe)&&(ft.xScale=le.parseF2Dot14(),ft.scale01=le.parseF2Dot14(),ft.scale10=le.parseF2Dot14(),ft.yScale=le.parseF2Dot14()),F.components.push(ft),_t=!!(32&Pe)}if(256&Pe){F.instructionLength=le.parseUShort(),F.instructions=[];for(var pt=0;pt<F.instructionLength;pt+=1)F.instructions.push(le.parseByte())}}}function Fr(F,W){for(var Q=[],te=0;te<F.length;te+=1){var le=F[te],le={x:W.xScale*le.x+W.scale01*le.y+W.dx,y:W.scale10*le.x+W.yScale*le.y+W.dy,onCurve:le.onCurve,lastPointOfContour:le.lastPointOfContour};Q.push(le)}return Q}function sn(F){var W=new H;if(F)for(var Q=function(ze){for(var Ve=[],Oe=[],Je=0;Je<ze.length;Je+=1){var Ye=ze[Je];Oe.push(Ye),Ye.lastPointOfContour&&(Ve.push(Oe),Oe=[])}return q.argument(Oe.length===0,"There are still points left in the current contour."),Ve}(F),te=0;te<Q.length;++te){var le,fe=Q[te],pe=fe[fe.length-1],Ee=fe[0];pe.onCurve?W.moveTo(pe.x,pe.y):Ee.onCurve?W.moveTo(Ee.x,Ee.y):(le={x:.5*(pe.x+Ee.x),y:.5*(pe.y+Ee.y)},W.moveTo(le.x,le.y));for(var je=0;je<fe.length;++je){var Pe,Fe=pe,pe=Ee,Ee=fe[(je+1)%fe.length];pe.onCurve?W.lineTo(pe.x,pe.y):(Pe=Ee,Fe.onCurve||(pe.x,Fe.x,pe.y,Fe.y),Ee.onCurve||(Pe={x:.5*(pe.x+Ee.x),y:.5*(pe.y+Ee.y)}),W.quadraticCurveTo(pe.x,pe.y,Pe.x,Pe.y))}W.closePath()}return W}function Dn(F,W){if(W.isComposite)for(var Q=0;Q<W.components.length;Q+=1){var te=W.components[Q],le=F.get(te.glyphIndex);if(le.getPath(),le.points){var fe=void 0;if(te.matchedPoints===void 0)fe=Fr(le.points,te);else{if(te.matchedPoints[0]>W.points.length-1||te.matchedPoints[1]>le.points.length-1)throw Error("Matched points out of range in "+W.name);var pe=W.points[te.matchedPoints[0]],Ee=le.points[te.matchedPoints[1]],te={xScale:te.xScale,scale01:te.scale01,scale10:te.scale10,yScale:te.yScale,dx:0,dy:0},Ee=Fr([Ee],te)[0];te.dx=pe.x-Ee.x,te.dy=pe.y-Ee.y,fe=Fr(le.points,te)}W.points=W.points.concat(fe)}}return sn(W.points)}(Ir.prototype=jr.prototype={searchTag:Lr,binSearch:Qr,getTable:function(F){var W=this.font.tables[this.tableName];return W=!W&&F?this.font.tables[this.tableName]=this.createDefaultTable():W},getScriptNames:function(){var F=this.getTable();return F?F.scripts.map(function(W){return W.tag}):[]},getDefaultScriptName:function(){var F=this.getTable();if(F){for(var W=!1,Q=0;Q<F.scripts.length;Q++){var te=F.scripts[Q].tag;if(te==="DFLT")return te;te==="latn"&&(W=!0)}return W?"latn":void 0}},getScriptTable:function(F,W){var Q,te=this.getTable(W);if(te)return Q=te.scripts,0<=(te=Lr(te.scripts,F=F||"DFLT"))?Q[te].script:W?(Q.splice(-1-te,0,W={tag:F,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),W.script):void 0},getLangSysTable:function(le,W,Q){var te,le=this.getScriptTable(le,Q);if(le)return W&&W!=="dflt"&&W!=="DFLT"?0<=(te=Lr(le.langSysRecords,W))?le.langSysRecords[te].langSys:Q?(le.langSysRecords.splice(-1-te,0,Q={tag:W,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),Q.langSys):void 0:le.defaultLangSys},getFeatureTable:function(F,W,Q,te){if(F=this.getLangSysTable(F,W,te),F){for(var le,fe=F.featureIndexes,pe=this.font.tables[this.tableName].features,Ee=0;Ee<fe.length;Ee++)if((le=pe[fe[Ee]]).tag===Q)return le.feature;if(te)return W=pe.length,q.assert(W===0||Q>=pe[W-1].tag,"Features must be added in alphabetical order."),pe.push(le={tag:Q,feature:{params:0,lookupListIndexes:[]}}),fe.push(W),le.feature}},getLookupTables:function(fe,W,Q,te,le){var fe=this.getFeatureTable(fe,W,Q,le),pe=[];if(fe){for(var Ee,je=fe.lookupListIndexes,Pe=this.font.tables[this.tableName].lookups,Fe=0;Fe<je.length;Fe++)(Ee=Pe[je[Fe]]).lookupType===te&&pe.push(Ee);if(pe.length===0&&le)return W=Pe.length,Pe.push(Ee={lookupType:te,lookupFlag:0,subtables:[],markFilteringSet:void 0}),je.push(W),[Ee]}return pe},getGlyphClass:function(F,W){switch(F.format){case 1:return F.startGlyph<=W&&W<F.startGlyph+F.classes.length?F.classes[W-F.startGlyph]:0;case 2:var Q=en(F.ranges,W);return Q?Q.classId:0}},getCoverageIndex:function(F,W){switch(F.format){case 1:var Q=Qr(F.glyphs,W);return 0<=Q?Q:-1;case 2:return Q=en(F.ranges,W),Q?Q.index+W-Q.start:-1}},expandCoverage:function(F){if(F.format===1)return F.glyphs;for(var W=[],Q=F.ranges,te=0;te<Q.length;te++)for(var le=Q[te],fe=le.start,pe=le.end,Ee=fe;Ee<=pe;Ee++)W.push(Ee);return W}}).init=function(){var F=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(F)},Ir.prototype.getKerningValue=function(F,W,Q){for(var te=0;te<F.length;te++)for(var le=F[te].subtables,fe=0;fe<le.length;fe++){var pe=le[fe],Ee=this.getCoverageIndex(pe.coverage,W);if(!(Ee<0))switch(pe.posFormat){case 1:for(var je=pe.pairSets[Ee],Pe=0;Pe<je.length;Pe++){var Fe=je[Pe];if(Fe.secondGlyph===Q)return Fe.value1&&Fe.value1.xAdvance||0}break;case 2:var Ve=this.getGlyphClass(pe.classDef1,W),ze=this.getGlyphClass(pe.classDef2,Q),Ve=pe.classRecords[Ve][ze];return Ve.value1&&Ve.value1.xAdvance||0}}return 0},Ir.prototype.getKerningTables=function(F,W){if(this.font.tables.gpos)return this.getLookupTables(F,W,"kern",2)},(or.prototype=jr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},or.prototype.getSingle=function(F,W,Q){for(var te=[],le=this.getLookupTables(W,Q,F,1),fe=0;fe<le.length;fe++)for(var pe=le[fe].subtables,Ee=0;Ee<pe.length;Ee++){var je=pe[Ee],Pe=this.expandCoverage(je.coverage),Fe=void 0;if(je.substFormat===1)for(var ze=je.deltaGlyphId,Fe=0;Fe<Pe.length;Fe++){var Ve=Pe[Fe];te.push({sub:Ve,by:Ve+ze})}else{var Oe=je.substitute;for(Fe=0;Fe<Pe.length;Fe++)te.push({sub:Pe[Fe],by:Oe[Fe]})}}return te},or.prototype.getAlternates=function(F,W,Q){for(var te=[],le=this.getLookupTables(W,Q,F,3),fe=0;fe<le.length;fe++)for(var pe=le[fe].subtables,Ee=0;Ee<pe.length;Ee++)for(var je=pe[Ee],Pe=this.expandCoverage(je.coverage),Fe=je.alternateSets,ze=0;ze<Pe.length;ze++)te.push({sub:Pe[ze],by:Fe[ze]});return te},or.prototype.getLigatures=function(F,W,Q){for(var te=[],le=this.getLookupTables(W,Q,F,4),fe=0;fe<le.length;fe++)for(var pe=le[fe].subtables,Ee=0;Ee<pe.length;Ee++)for(var je=pe[Ee],Pe=this.expandCoverage(je.coverage),Fe=je.ligatureSets,ze=0;ze<Pe.length;ze++)for(var Ve=Pe[ze],Oe=Fe[ze],Je=0;Je<Oe.length;Je++){var Ye=Oe[Je];te.push({sub:[Ve].concat(Ye.components),by:Ye.ligGlyph})}return te},or.prototype.addSingle=function(F,W,Q,te){Q=tn(this.getLookupTables(Q,te,F,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),q.assert(Q.coverage.format===1,"Ligature: unable to modify coverage table format "+Q.coverage.format),te=W.sub,F=this.binSearch(Q.coverage.glyphs,te),F<0&&(Q.coverage.glyphs.splice(F=-1-F,0,te),Q.substitute.splice(F,0,0)),Q.substitute[F]=W.by},or.prototype.addAlternate=function(F,W,Q,te){Q=tn(this.getLookupTables(Q,te,F,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),q.assert(Q.coverage.format===1,"Ligature: unable to modify coverage table format "+Q.coverage.format),te=W.sub,F=this.binSearch(Q.coverage.glyphs,te),F<0&&(Q.coverage.glyphs.splice(F=-1-F,0,te),Q.alternateSets.splice(F,0,0)),Q.alternateSets[F]=W.by},or.prototype.addLigature=function(fe,je,Ee,le){var Ee=this.getLookupTables(Ee,le,fe,4,!0)[0],le=Ee.subtables[0],fe=(le||(Ee.subtables[0]=le={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),q.assert(le.coverage.format===1,"Ligature: unable to modify coverage table format "+le.coverage.format),je.sub[0]),pe=je.sub.slice(1),Ee={ligGlyph:je.by,components:pe},je=this.binSearch(le.coverage.glyphs,fe);if(0<=je){for(var Pe=le.ligatureSets[je],Fe=0;Fe<Pe.length;Fe++)if(function(ze,Ve){var Oe=ze.length;if(Oe===Ve.length){for(var Je=0;Je<Oe;Je++)if(ze[Je]!==Ve[Je])return;return 1}}(Pe[Fe].components,pe))return;Pe.push(Ee)}else le.coverage.glyphs.splice(je=-1-je,0,fe),le.ligatureSets.splice(je,0,[Ee])},or.prototype.getFeature=function(F,W,Q){if(/ss\d\d/.test(F))return this.getSingle(F,W,Q);switch(F){case"aalt":case"salt":return this.getSingle(F,W,Q).concat(this.getAlternates(F,W,Q));case"dlig":case"liga":case"rlig":return this.getLigatures(F,W,Q)}},or.prototype.add=function(F,W,Q,te){if(/ss\d\d/.test(F))return this.addSingle(F,W,Q,te);switch(F){case"aalt":case"salt":return typeof W.by=="number"?this.addSingle(F,W,Q,te):this.addAlternate(F,W,Q,te);case"dlig":case"liga":case"rlig":return this.addLigature(F,W,Q,te)}};var an={getPath:sn,parse:function(F,W,Q,te){for(var le=new ut.GlyphSet(te),fe=0;fe<Q.length-1;fe+=1){var pe=Q[fe];pe!==Q[fe+1]?le.push(fe,ut.ttfGlyphLoader(te,fe,Rn,F,W+pe,Dn)):le.push(fe,ut.glyphLoader(te,fe))}return le}};function ln(F){this.font=F,this.getCommands=function(W){return an.getPath(W).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ln(F){return F}function cn(F){return Math.sign(F)*Math.round(Math.abs(F))}function Fn(F){return Math.sign(F)*Math.round(Math.abs(2*F))/2}function Bn(F){return Math.sign(F)*(Math.round(Math.abs(F)+.5)-.5)}function Vn(F){return Math.sign(F)*Math.ceil(Math.abs(F))}function Un(F){return Math.sign(F)*Math.floor(Math.abs(F))}function un(F){var W=this.srPeriod,Q=this.srPhase,te=1;return F<0&&(F=-F,te=-1),F+=this.srThreshold-Q,F=Math.trunc(F/W)*W,(F+=Q)<0?Q*te:F*te}var lr={x:1,y:0,axis:"x",distance:function(F,W,Q,te){return(Q?F.xo:F.x)-(te?W.xo:W.x)},interpolate:function(F,W,Q,te){var le,fe,pe,Ee,je,Pe,Fe;if(!te||te===this)return le=F.xo-W.xo,fe=F.xo-Q.xo,je=W.x-W.xo,Pe=Q.x-Q.xo,(Fe=(pe=Math.abs(le))+(Ee=Math.abs(fe)))===0?void(F.x=F.xo+(je+Pe)/2):void(F.x=F.xo+(je*Ee+Pe*pe)/Fe);le=te.distance(F,W,!0,!0),fe=te.distance(F,Q,!0,!0),je=te.distance(W,W,!1,!0),Pe=te.distance(Q,Q,!1,!0),(Fe=(pe=Math.abs(le))+(Ee=Math.abs(fe)))===0?lr.setRelative(F,F,(je+Pe)/2,te,!0):lr.setRelative(F,F,(je*Ee+Pe*pe)/Fe,te,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(F,W,Q,te,le){var fe,pe;te&&te!==this?(fe=le?W.xo:W.x,pe=le?W.yo:W.y,fe+=Q*te.x,pe+=Q*te.y,F.x=fe+(F.y-pe)/te.normalSlope):F.x=(le?W.xo:W.x)+Q},slope:0,touch:function(F){F.xTouched=!0},touched:function(F){return F.xTouched},untouch:function(F){F.xTouched=!1}},cr={x:0,y:1,axis:"y",distance:function(F,W,Q,te){return(Q?F.yo:F.y)-(te?W.yo:W.y)},interpolate:function(F,W,Q,te){var le,fe,pe,Ee,je,Pe,Fe;if(!te||te===this)return le=F.yo-W.yo,fe=F.yo-Q.yo,je=W.y-W.yo,Pe=Q.y-Q.yo,(Fe=(pe=Math.abs(le))+(Ee=Math.abs(fe)))===0?void(F.y=F.yo+(je+Pe)/2):void(F.y=F.yo+(je*Ee+Pe*pe)/Fe);le=te.distance(F,W,!0,!0),fe=te.distance(F,Q,!0,!0),je=te.distance(W,W,!1,!0),Pe=te.distance(Q,Q,!1,!0),(Fe=(pe=Math.abs(le))+(Ee=Math.abs(fe)))===0?cr.setRelative(F,F,(je+Pe)/2,te,!0):cr.setRelative(F,F,(je*Ee+Pe*pe)/Fe,te,!0)},normalSlope:0,setRelative:function(F,W,Q,te,le){var fe,pe;te&&te!==this?(fe=le?W.xo:W.x,pe=le?W.yo:W.y,fe+=Q*te.x,pe+=Q*te.y,F.y=pe+te.normalSlope*(F.x-fe)):F.y=(le?W.yo:W.y)+Q},slope:Number.POSITIVE_INFINITY,touch:function(F){F.yTouched=!0},touched:function(F){return F.yTouched},untouch:function(F){F.yTouched=!1}};function kr(F,W){this.x=F,this.y=W,this.axis=void 0,this.slope=W/F,this.normalSlope=-F/W,Object.freeze(this)}function Ar(F,W){var Q=Math.sqrt(F*F+W*W);return W/=Q,(F/=Q)===1&&W===0?lr:F===0&&W===1?cr:new kr(F,W)}function ur(F,W,Q,te){this.x=this.xo=Math.round(64*F)/64,this.y=this.yo=Math.round(64*W)/64,this.lastPointOfContour=Q,this.onCurve=te,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(lr),Object.freeze(cr),kr.prototype.distance=function(F,W,Q,te){return this.x*lr.distance(F,W,Q,te)+this.y*cr.distance(F,W,Q,te)},kr.prototype.interpolate=function(F,le,fe,te){var pe=te.distance(F,le,!0,!0),Ee=te.distance(F,fe,!0,!0),le=te.distance(le,le,!1,!0),fe=te.distance(fe,fe,!1,!0),pe=Math.abs(pe),Ee=Math.abs(Ee),je=pe+Ee;je===0?this.setRelative(F,F,(le+fe)/2,te,!0):this.setRelative(F,F,(le*Ee+fe*pe)/je,te,!0)},kr.prototype.setRelative=function(F,fe,je,Pe,Ee){var pe=Ee?fe.xo:fe.x,Ee=Ee?fe.yo:fe.y,fe=pe+je*(Pe=Pe||this).x,pe=Ee+je*Pe.y,Ee=Pe.normalSlope,je=this.slope,Pe=F.x,Fe=F.y;F.x=(je*Pe-Ee*fe+pe-Fe)/(je-Ee),F.y=je*(F.x-Pe)+Fe},kr.prototype.touch=function(F){F.xTouched=!0,F.yTouched=!0},ur.prototype.nextTouched=function(F){for(var W=this.nextPointOnContour;!F.touched(W)&&W!==this;)W=W.nextPointOnContour;return W},ur.prototype.prevTouched=function(F){for(var W=this.prevPointOnContour;!F.touched(W)&&W!==this;)W=W.prevPointOnContour;return W};var Tr=Object.freeze(new ur(0,0)),Gn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function hr(F,W){switch(this.env=F,this.stack=[],this.prog=W,F){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=lr,this.round=cn}}function Or(F){for(var W=F.tZone=new Array(F.gZone.length),Q=0;Q<W.length;Q++)W[Q]=new ur(0,0)}function hn(F,W){var Q,te=F.prog,le=F.ip,fe=1;do if((Q=te[++le])===88)fe++;else if(Q===89)fe--;else if(Q===64)le+=te[le+1]+1;else if(Q===65)le+=2*te[le+1]+1;else if(176<=Q&&Q<=183)le+=Q-176+1;else if(184<=Q&&Q<=191)le+=2*(Q-184+1);else if(W&&fe===1&&Q===27)break;while(0<fe);F.ip=le}function dn(F,W){S.DEBUG&&console.log(W.step,"SVTCA["+F.axis+"]"),W.fv=W.pv=W.dpv=F}function fn(F,W){S.DEBUG&&console.log(W.step,"SPVTCA["+F.axis+"]"),W.pv=W.dpv=F}function pn(F,W){S.DEBUG&&console.log(W.step,"SFVTCA["+F.axis+"]"),W.fv=F}function mn(F,W){var Q,le=W.stack,te=le.pop(),le=le.pop(),fe=W.z2[te],pe=W.z1[le];S.DEBUG&&console.log("SPVTL["+F+"]",te,le),te=F?(Q=fe.y-pe.y,pe.x-fe.x):(Q=pe.x-fe.x,pe.y-fe.y),W.pv=W.dpv=Ar(Q,te)}function yn(F,W){var Q,le=W.stack,te=le.pop(),le=le.pop(),fe=W.z2[te],pe=W.z1[le];S.DEBUG&&console.log("SFVTL["+F+"]",te,le),te=F?(Q=fe.y-pe.y,pe.x-fe.x):(Q=pe.x-fe.x,pe.y-fe.y),W.fv=Ar(Q,te)}function Br(F){S.DEBUG&&console.log(F.step,"POP[]"),F.stack.pop()}function gn(F,W){var Q=W.stack.pop(),te=W.z0[Q],le=W.fv,fe=W.pv,pe=(S.DEBUG&&console.log(W.step,"MDAP["+F+"]",Q),fe.distance(te,Tr));F&&(pe=W.round(pe)),le.setRelative(te,Tr,pe,fe),le.touch(te),W.rp0=W.rp1=Q}function vn(F,W){var Q,te,le,fe=W.z2,pe=fe.length-2;S.DEBUG&&console.log(W.step,"IUP["+F.axis+"]");for(var Ee=0;Ee<pe;Ee++)Q=fe[Ee],F.touched(Q)||(te=Q.prevTouched(F))!==Q&&(te===(le=Q.nextTouched(F))&&F.setRelative(Q,Q,F.distance(te,te,!1,!0),F,!0),F.interpolate(Q,te,le,F))}function _n(F,W){for(var Q=W.stack,te=F?W.rp1:W.rp2,le=(F?W.z0:W.z1)[te],fe=W.fv,pe=W.pv,Ee=W.loop,je=W.z2;Ee--;){var Pe=Q.pop(),Fe=je[Pe],ze=pe.distance(le,le,!1,!0);fe.setRelative(Fe,Fe,ze,pe),fe.touch(Fe),S.DEBUG&&console.log(W.step,(1<W.loop?"loop "+(W.loop-Ee)+": ":"")+"SHP["+(F?"rp1":"rp2")+"]",Pe)}W.loop=1}function bn(F,W){for(var Q=W.stack,pe=F?W.rp1:W.rp2,te=(F?W.z0:W.z1)[pe],le=W.fv,fe=W.pv,pe=Q.pop(),Ee=W.z2[W.contours[pe]],je=Ee,Pe=(S.DEBUG&&console.log(W.step,"SHC["+F+"]",pe),fe.distance(te,te,!1,!0));je!==te&&le.setRelative(je,je,Pe,fe),(je=je.nextPointOnContour)!==Ee;);}function wn(F,W){var Q,te,Ee=W.stack,le=F?W.rp1:W.rp2,le=(F?W.z0:W.z1)[le],fe=W.fv,pe=W.pv,Ee=Ee.pop();switch(S.DEBUG&&console.log(W.step,"SHZ["+F+"]",Ee),Ee){case 0:Q=W.tZone;break;case 1:Q=W.gZone;break;default:throw new Error("Invalid zone")}for(var je=pe.distance(le,le,!1,!0),Pe=Q.length-2,Fe=0;Fe<Pe;Fe++)te=Q[Fe],fe.setRelative(te,te,je,pe)}function Sn(F,W){var te=W.stack,Q=te.pop()/64,te=te.pop(),le=W.z1[te],fe=W.z0[W.rp0],pe=W.fv,Ee=W.pv;pe.setRelative(le,fe,Q,Ee),pe.touch(le),S.DEBUG&&console.log(W.step,"MSIRP["+F+"]",Q,te),W.rp1=W.rp0,W.rp2=te,F&&(W.rp0=te)}function xn(F,W){var Q=W.stack,Ee=Q.pop(),Q=Q.pop(),te=W.z0[Q],le=W.fv,fe=W.pv,pe=W.cvt[Ee],Ee=(S.DEBUG&&console.log(W.step,"MIAP["+F+"]",Ee,"(",pe,")",Q),fe.distance(te,Tr));F&&(Math.abs(Ee-pe)<W.cvCutIn&&(Ee=pe),Ee=W.round(Ee)),le.setRelative(te,Tr,Ee,fe),W.zp0===0&&(te.xo=te.x,te.yo=te.y),le.touch(te),W.rp0=W.rp1=Q}function En(F,W){var Q=W.stack,te=Q.pop(),le=W.z2[te];S.DEBUG&&console.log(W.step,"GC["+F+"]",te),Q.push(64*W.dpv.distance(le,Tr,F,!1))}function kn(F,W){var te=W.stack,Q=te.pop(),te=te.pop(),le=W.z1[Q],fe=W.z0[te],fe=W.dpv.distance(fe,le,F,F);S.DEBUG&&console.log(W.step,"MD["+F+"]",Q,te,"->",fe),W.stack.push(Math.round(64*fe))}function Vr(F,W){var Q=W.stack,te=Q.pop(),le=W.fv,fe=W.pv,pe=W.ppem,Ee=W.deltaBase+16*(F-1),je=W.deltaShift,Pe=W.z0;S.DEBUG&&console.log(W.step,"DELTAP["+F+"]",te,Q);for(var Fe=0;Fe<te;Fe++){var ze=Q.pop(),Ve=Q.pop();Ee+((240&Ve)>>4)===pe&&(0<=(Ve=(15&Ve)-8)&&Ve++,S.DEBUG&&console.log(W.step,"DELTAPFIX",ze,"by",Ve*je),ze=Pe[ze],le.setRelative(ze,ze,Ve*je,fe))}}function Nr(F,W){var Q=W.stack,te=Q.pop();S.DEBUG&&console.log(W.step,"ROUND[]"),Q.push(64*W.round(te/64))}function Ur(F,W){var Q=W.stack,te=Q.pop(),le=W.ppem,fe=W.deltaBase+16*(F-1),pe=W.deltaShift;S.DEBUG&&console.log(W.step,"DELTAC["+F+"]",te,Q);for(var Ee=0;Ee<te;Ee++){var je=Q.pop(),Pe=Q.pop();fe+((240&Pe)>>4)===le&&(0<=(Pe=(15&Pe)-8)&&Pe++,Pe=Pe*pe,S.DEBUG&&console.log(W.step,"DELTACFIX",je,"by",Pe),W.cvt[je]+=Pe)}}function An(F,W){var Q,le=W.stack,te=le.pop(),le=le.pop(),fe=W.z2[te],pe=W.z1[le];S.DEBUG&&console.log(W.step,"SDPVTL["+F+"]",te,le),te=F?(Q=fe.y-pe.y,pe.x-fe.x):(Q=pe.x-fe.x,pe.y-fe.y),W.dpv=Ar(Q,te)}function dr(F,W){var Q=W.stack,te=W.prog,le=W.ip;S.DEBUG&&console.log(W.step,"PUSHB["+F+"]");for(var fe=0;fe<F;fe++)Q.push(te[++le]);W.ip=le}function pr(F,W){var Q=W.ip,te=W.prog,le=W.stack;S.DEBUG&&console.log(W.ip,"PUSHW["+F+"]");for(var fe=0;fe<F;fe++){var pe=te[++Q]<<8|te[++Q];32768&pe&&(pe=-(1+(65535^pe))),le.push(pe)}W.ip=Q}function ht(F,W,Q,te,le,fe){var pe,Ee,Pe=fe.stack,je=F&&Pe.pop(),Pe=Pe.pop(),Fe=fe.rp0,Fe=fe.z0[Fe],ze=fe.z1[Pe],Ve=fe.minDis,Oe=fe.fv,Je=fe.dpv,Ye=pe=Je.distance(ze,Fe,!0,!0),Ze=0<=Ye?1:-1;Ye=Math.abs(Ye),F&&(Ee=fe.cvt[je],te&&Math.abs(Ye-Ee)<fe.cvCutIn&&(Ye=Ee)),Q&&Ye<Ve&&(Ye=Ve),te&&(Ye=fe.round(Ye)),Oe.setRelative(ze,Fe,Ze*Ye,Je),Oe.touch(ze),S.DEBUG&&console.log(fe.step,(F?"MIRP[":"MDRP[")+(W?"M":"m")+(Q?">":"_")+(te?"R":"_")+(le===0?"Gr":le===1?"Bl":le===2?"Wh":"")+"]",F?je+"("+fe.cvt[je]+","+Ee+")":"",Pe,"(d =",pe,"->",Ze*Ye,")"),fe.rp1=fe.rp0,fe.rp2=Pe,W&&(fe.rp0=Pe)}ln.prototype.exec=function(F,W){if(typeof W!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var Q=this.font,te=this._prepState;if(!te||te.ppem!==W){var le=this._fpgmState;if(!le){hr.prototype=Gn,(le=this._fpgmState=new hr("fpgm",Q.tables.fpgm)).funcs=[],le.font=Q,S.DEBUG&&(console.log("---EXEC FPGM---"),le.step=-1);try{gr(le)}catch(Pe){return console.log("Hinting error in FPGM:"+Pe),void(this._errorState=3)}}hr.prototype=le,(te=this._prepState=new hr("prep",Q.tables.prep)).ppem=W;var fe=Q.tables.cvt;if(fe)for(var pe=te.cvt=new Array(fe.length),Ee=W/Q.unitsPerEm,je=0;je<fe.length;je++)pe[je]=fe[je]*Ee;else te.cvt=[];S.DEBUG&&(console.log("---EXEC PREP---"),te.step=-1);try{gr(te)}catch(Pe){this._errorState<2&&console.log("Hinting error in PREP:"+Pe),this._errorState=2}}if(!(1<this._errorState))try{return zn(F,te)}catch(Pe){this._errorState<1&&(console.log("Hinting error:"+Pe),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var zn=function(F,W){var Q=W.ppem/W.font.unitsPerEm,te=Q,le=F.components;if(hr.prototype=W,le){for(var fe=W.font,pe=[],Ee=[],je=0;je<le.length;je++){var Pe=le[je],Fe=fe.glyphs.get(Pe.glyphIndex),ze=new hr("glyf",Fe.instructions);S.DEBUG&&(console.log("---EXEC COMP "+je+"---"),ze.step=-1),Tn(Fe,ze,Q,te);for(var Ve=Math.round(Pe.dx*Q),Oe=Math.round(Pe.dy*te),Je=ze.gZone,Ye=ze.contours,Ze=0;Ze<Je.length;Ze++){var We=Je[Ze];We.xTouched=We.yTouched=!1,We.xo=We.x=We.x+Ve,We.yo=We.y=We.y+Oe}var qe=pe.length;pe.push.apply(pe,Je);for(var dt=0;dt<Ye.length;dt++)Ee.push(Ye[dt]+qe)}F.instructions&&!ze.inhibitGridFit&&((ze=new hr("glyf",F.instructions)).gZone=ze.z0=ze.z1=ze.z2=pe,ze.contours=Ee,pe.push(new ur(0,0),new ur(Math.round(F.advanceWidth*Q),0)),S.DEBUG&&(console.log("---EXEC COMPOSITE---"),ze.step=-1),gr(ze),pe.length-=2)}else ze=new hr("glyf",F.instructions),S.DEBUG&&(console.log("---EXEC GLYPH---"),ze.step=-1),Tn(F,ze,Q,te),pe=ze.gZone;return pe},Tn=function(F,W,Q,te){for(var le,fe,pe,Ee=F.points||[],je=Ee.length,Pe=W.gZone=W.z0=W.z1=W.z2=[],Fe=W.contours=[],ze=0;ze<je;ze++)le=Ee[ze],Pe[ze]=new ur(le.x*Q,le.y*te,le.lastPointOfContour,le.onCurve);for(var Ve=0;Ve<je;Ve++)le=Pe[Ve],fe||(fe=le,Fe.push(Ve)),le.lastPointOfContour?((le.nextPointOnContour=fe).prevPointOnContour=le,fe=void 0):(pe=Pe[Ve+1],(le.nextPointOnContour=pe).prevPointOnContour=le);if(!W.inhibitGridFit){if(S.DEBUG){console.log("PROCESSING GLYPH",W.stack);for(var Oe=0;Oe<je;Oe++)console.log(Oe,Pe[Oe].x,Pe[Oe].y)}if(Pe.push(new ur(0,0),new ur(Math.round(F.advanceWidth*Q),0)),gr(W),Pe.length-=2,S.DEBUG){console.log("FINISHED GLYPH",W.stack);for(var Je=0;Je<je;Je++)console.log(Je,Pe[Je].x,Pe[Je].y)}}},gr=function(F){var W=F.prog;if(W){var Q,te=W.length;for(F.ip=0;F.ip<te;F.ip++){if(S.DEBUG&&F.step++,!(Q=Wn[W[F.ip]]))throw new Error("unknown instruction: 0x"+Number(W[F.ip]).toString(16));Q(F)}}},Wn=[dn.bind(void 0,cr),dn.bind(void 0,lr),fn.bind(void 0,cr),fn.bind(void 0,lr),pn.bind(void 0,cr),pn.bind(void 0,lr),mn.bind(void 0,0),mn.bind(void 0,1),yn.bind(void 0,0),yn.bind(void 0,1),function(F){var W=(Q=F.stack).pop(),Q=Q.pop();S.DEBUG&&console.log(F.step,"SPVFS[]",W,Q),F.pv=F.dpv=Ar(Q,W)},function(F){var W=(Q=F.stack).pop(),Q=Q.pop();S.DEBUG&&console.log(F.step,"SPVFS[]",W,Q),F.fv=Ar(Q,W)},function(F){var W=F.stack,Q=F.pv;S.DEBUG&&console.log(F.step,"GPV[]"),W.push(16384*Q.x),W.push(16384*Q.y)},function(F){var W=F.stack,Q=F.fv;S.DEBUG&&console.log(F.step,"GFV[]"),W.push(16384*Q.x),W.push(16384*Q.y)},function(F){F.fv=F.pv,S.DEBUG&&console.log(F.step,"SFVTPV[]")},function(W){var Q=(pe=W.stack).pop(),te=pe.pop(),le=pe.pop(),fe=pe.pop(),pe=pe.pop(),je=W.z0,Fe=W.z1,Ee=je[Q],je=je[te],Pe=Fe[le],Fe=Fe[fe],W=W.z2[pe],Q=(S.DEBUG&&console.log("ISECT[], ",Q,te,le,fe,pe),Ee.x),te=Ee.y,le=je.x,fe=je.y,pe=Pe.x,Ee=Pe.y,je=Fe.x,Pe=Fe.y,Fe=(Q-le)*(Ee-Pe)-(te-fe)*(pe-je),ze=Q*fe-te*le,Ve=pe*Pe-Ee*je;W.x=(ze*(pe-je)-Ve*(Q-le))/Fe,W.y=(ze*(Ee-Pe)-Ve*(te-fe))/Fe},function(F){F.rp0=F.stack.pop(),S.DEBUG&&console.log(F.step,"SRP0[]",F.rp0)},function(F){F.rp1=F.stack.pop(),S.DEBUG&&console.log(F.step,"SRP1[]",F.rp1)},function(F){F.rp2=F.stack.pop(),S.DEBUG&&console.log(F.step,"SRP2[]",F.rp2)},function(F){var W=F.stack.pop();switch(S.DEBUG&&console.log(F.step,"SZP0[]",W),F.zp0=W){case 0:F.tZone||Or(F),F.z0=F.tZone;break;case 1:F.z0=F.gZone;break;default:throw new Error("Invalid zone pointer")}},function(F){var W=F.stack.pop();switch(S.DEBUG&&console.log(F.step,"SZP1[]",W),F.zp1=W){case 0:F.tZone||Or(F),F.z1=F.tZone;break;case 1:F.z1=F.gZone;break;default:throw new Error("Invalid zone pointer")}},function(F){var W=F.stack.pop();switch(S.DEBUG&&console.log(F.step,"SZP2[]",W),F.zp2=W){case 0:F.tZone||Or(F),F.z2=F.tZone;break;case 1:F.z2=F.gZone;break;default:throw new Error("Invalid zone pointer")}},function(F){var W=F.stack.pop();switch(S.DEBUG&&console.log(F.step,"SZPS[]",W),F.zp0=F.zp1=F.zp2=W){case 0:F.tZone||Or(F),F.z0=F.z1=F.z2=F.tZone;break;case 1:F.z0=F.z1=F.z2=F.gZone;break;default:throw new Error("Invalid zone pointer")}},function(F){F.loop=F.stack.pop(),S.DEBUG&&console.log(F.step,"SLOOP[]",F.loop)},function(F){S.DEBUG&&console.log(F.step,"RTG[]"),F.round=cn},function(F){S.DEBUG&&console.log(F.step,"RTHG[]"),F.round=Bn},function(F){var W=F.stack.pop();S.DEBUG&&console.log(F.step,"SMD[]",W),F.minDis=W/64},function(F){S.DEBUG&&console.log(F.step,"ELSE[]"),hn(F,!1)},function(F){var W=F.stack.pop();S.DEBUG&&console.log(F.step,"JMPR[]",W),F.ip+=W-1},function(F){var W=F.stack.pop();S.DEBUG&&console.log(F.step,"SCVTCI[]",W),F.cvCutIn=W/64},void 0,void 0,function(F){var W=F.stack;S.DEBUG&&console.log(F.step,"DUP[]"),W.push(W[W.length-1])},Br,function(F){S.DEBUG&&console.log(F.step,"CLEAR[]"),F.stack.length=0},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"SWAP[]"),W.push(Q),W.push(te)},function(F){var W=F.stack;S.DEBUG&&console.log(F.step,"DEPTH[]"),W.push(W.length)},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"CINDEX[]",Q),W.push(W[W.length-Q])},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"MINDEX[]",Q),W.push(W.splice(W.length-Q,1)[0])},void 0,void 0,void 0,function(F){var W=(te=F.stack).pop(),Q=te.pop(),te=(S.DEBUG&&console.log(F.step,"LOOPCALL[]",W,Q),F.ip),le=F.prog;F.prog=F.funcs[W];for(var fe=0;fe<Q;fe++)gr(F),S.DEBUG&&console.log(++F.step,fe+1<Q?"next loopcall":"done loopcall",fe);F.ip=te,F.prog=le},function(F){var W=F.stack.pop(),Q=(S.DEBUG&&console.log(F.step,"CALL[]",W),F.ip),te=F.prog;F.prog=F.funcs[W],gr(F),F.ip=Q,F.prog=te,S.DEBUG&&console.log(++F.step,"returning from",W)},function(F){if(F.env!=="fpgm")throw new Error("FDEF not allowed here");var te=F.stack,W=F.prog,Q=F.ip,te=te.pop(),le=Q;for(S.DEBUG&&console.log(F.step,"FDEF[]",te);W[++Q]!==45;);F.ip=Q,F.funcs[te]=W.slice(le+1,Q)},void 0,gn.bind(void 0,0),gn.bind(void 0,1),vn.bind(void 0,cr),vn.bind(void 0,lr),_n.bind(void 0,0),_n.bind(void 0,1),bn.bind(void 0,0),bn.bind(void 0,1),wn.bind(void 0,0),wn.bind(void 0,1),function(F){for(var W=F.stack,Q=F.loop,te=F.fv,le=W.pop()/64,fe=F.z2;Q--;){var pe=W.pop(),Ee=fe[pe];S.DEBUG&&console.log(F.step,(1<F.loop?"loop "+(F.loop-Q)+": ":"")+"SHPIX[]",pe,le),te.setRelative(Ee,Ee,le),te.touch(Ee)}F.loop=1},function(F){for(var W=F.stack,Q=F.rp1,te=F.rp2,le=F.loop,fe=F.z0[Q],pe=F.z1[te],Ee=F.fv,je=F.dpv,Pe=F.z2;le--;){var Fe=W.pop(),ze=Pe[Fe];S.DEBUG&&console.log(F.step,(1<F.loop?"loop "+(F.loop-le)+": ":"")+"IP[]",Fe,Q,"<->",te),Ee.interpolate(ze,fe,pe,je),Ee.touch(ze)}F.loop=1},Sn.bind(void 0,0),Sn.bind(void 0,1),function(F){for(var W=F.stack,Q=F.rp0,te=F.z0[Q],le=F.loop,fe=F.fv,pe=F.pv,Ee=F.z1;le--;){var je=W.pop(),Pe=Ee[je];S.DEBUG&&console.log(F.step,(1<F.loop?"loop "+(F.loop-le)+": ":"")+"ALIGNRP[]",je),fe.setRelative(Pe,te,0,pe),fe.touch(Pe)}F.loop=1},function(F){S.DEBUG&&console.log(F.step,"RTDG[]"),F.round=Fn},xn.bind(void 0,0),xn.bind(void 0,1),function(F){var W=F.prog,Q=F.ip,te=F.stack,le=W[++Q];S.DEBUG&&console.log(F.step,"NPUSHB[]",le);for(var fe=0;fe<le;fe++)te.push(W[++Q]);F.ip=Q},function(F){var W=F.ip,Q=F.prog,te=F.stack,le=Q[++W];S.DEBUG&&console.log(F.step,"NPUSHW[]",le);for(var fe=0;fe<le;fe++){var pe=Q[++W]<<8|Q[++W];32768&pe&&(pe=-(1+(65535^pe))),te.push(pe)}F.ip=W},function(F){var te=F.stack,W=(W=F.store)||(F.store=[]),Q=te.pop(),te=te.pop();S.DEBUG&&console.log(F.step,"WS",Q,te),W[te]=Q},function(le){var W=le.stack,Q=le.store,te=W.pop(),le=(S.DEBUG&&console.log(le.step,"RS",te),Q&&Q[te]||0);W.push(le)},function(F){var W=(Q=F.stack).pop(),Q=Q.pop();S.DEBUG&&console.log(F.step,"WCVTP",W,Q),F.cvt[Q]=W/64},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"RCVT",Q),W.push(64*F.cvt[Q])},En.bind(void 0,0),En.bind(void 0,1),void 0,kn.bind(void 0,0),kn.bind(void 0,1),function(F){S.DEBUG&&console.log(F.step,"MPPEM[]"),F.stack.push(F.ppem)},void 0,function(F){S.DEBUG&&console.log(F.step,"FLIPON[]"),F.autoFlip=!0},void 0,void 0,function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"LT[]",Q,te),W.push(te<Q?1:0)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"LTEQ[]",Q,te),W.push(te<=Q?1:0)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"GT[]",Q,te),W.push(Q<te?1:0)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"GTEQ[]",Q,te),W.push(Q<=te?1:0)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"EQ[]",Q,te),W.push(Q===te?1:0)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"NEQ[]",Q,te),W.push(Q!==te?1:0)},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"ODD[]",Q),W.push(Math.trunc(Q)%2?1:0)},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"EVEN[]",Q),W.push(Math.trunc(Q)%2?0:1)},function(F){var W=F.stack.pop();S.DEBUG&&console.log(F.step,"IF[]",W),W||(hn(F,!0),S.DEBUG&&console.log(F.step,"EIF[]"))},function(F){S.DEBUG&&console.log(F.step,"EIF[]")},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"AND[]",Q,te),W.push(Q&&te?1:0)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"OR[]",Q,te),W.push(Q||te?1:0)},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"NOT[]",Q),W.push(Q?0:1)},Vr.bind(void 0,1),function(F){var W=F.stack.pop();S.DEBUG&&console.log(F.step,"SDB[]",W),F.deltaBase=W},function(F){var W=F.stack.pop();S.DEBUG&&console.log(F.step,"SDS[]",W),F.deltaShift=Math.pow(.5,W)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"ADD[]",Q,te),W.push(te+Q)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"SUB[]",Q,te),W.push(te-Q)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"DIV[]",Q,te),W.push(64*te/Q)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"MUL[]",Q,te),W.push(te*Q/64)},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"ABS[]",Q),W.push(Math.abs(Q))},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"NEG[]",Q),W.push(-Q)},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"FLOOR[]",Q),W.push(64*Math.floor(Q/64))},function(F){var W=F.stack,Q=W.pop();S.DEBUG&&console.log(F.step,"CEILING[]",Q),W.push(64*Math.ceil(Q/64))},Nr.bind(void 0,0),Nr.bind(void 0,1),Nr.bind(void 0,2),Nr.bind(void 0,3),void 0,void 0,void 0,void 0,function(F){var W=(Q=F.stack).pop(),Q=Q.pop();S.DEBUG&&console.log(F.step,"WCVTF[]",W,Q),F.cvt[Q]=W*F.ppem/F.font.unitsPerEm},Vr.bind(void 0,2),Vr.bind(void 0,3),Ur.bind(void 0,1),Ur.bind(void 0,2),Ur.bind(void 0,3),function(F){var W,Q=F.stack.pop();switch(S.DEBUG&&console.log(F.step,"SROUND[]",Q),F.round=un,192&Q){case 0:W=.5;break;case 64:W=1;break;case 128:W=2;break;default:throw new Error("invalid SROUND value")}switch(F.srPeriod=W,48&Q){case 0:F.srPhase=0;break;case 16:F.srPhase=.25*W;break;case 32:F.srPhase=.5*W;break;case 48:F.srPhase=.75*W;break;default:throw new Error("invalid SROUND value")}F.srThreshold=(Q&=15)===0?0:(Q/8-.5)*W},function(F){var W,Q=F.stack.pop();switch(S.DEBUG&&console.log(F.step,"S45ROUND[]",Q),F.round=un,192&Q){case 0:W=Math.sqrt(2)/2;break;case 64:W=Math.sqrt(2);break;case 128:W=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(F.srPeriod=W,48&Q){case 0:F.srPhase=0;break;case 16:F.srPhase=.25*W;break;case 32:F.srPhase=.5*W;break;case 48:F.srPhase=.75*W;break;default:throw new Error("invalid S45ROUND value")}F.srThreshold=(Q&=15)===0?0:(Q/8-.5)*W},void 0,void 0,function(F){S.DEBUG&&console.log(F.step,"ROFF[]"),F.round=Ln},void 0,function(F){S.DEBUG&&console.log(F.step,"RUTG[]"),F.round=Vn},function(F){S.DEBUG&&console.log(F.step,"RDTG[]"),F.round=Un},Br,Br,void 0,void 0,void 0,void 0,void 0,function(F){var W=F.stack.pop();S.DEBUG&&console.log(F.step,"SCANCTRL[]",W)},An.bind(void 0,0),An.bind(void 0,1),function(F){var W=F.stack,Q=W.pop(),te=0;S.DEBUG&&console.log(F.step,"GETINFO[]",Q),1&Q&&(te=35),32&Q&&(te|=4096),W.push(te)},void 0,function(F){var W=F.stack,Q=W.pop(),te=W.pop(),le=W.pop();S.DEBUG&&console.log(F.step,"ROLL[]"),W.push(te),W.push(Q),W.push(le)},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"MAX[]",Q,te),W.push(Math.max(te,Q))},function(F){var W=F.stack,Q=W.pop(),te=W.pop();S.DEBUG&&console.log(F.step,"MIN[]",Q,te),W.push(Math.min(te,Q))},function(F){var W=F.stack.pop();S.DEBUG&&console.log(F.step,"SCANTYPE[]",W)},function(F){var W=F.stack.pop(),Q=F.stack.pop();switch(S.DEBUG&&console.log(F.step,"INSTCTRL[]",W,Q),W){case 1:return void(F.inhibitGridFit=!!Q);case 2:return void(F.ignoreCvt=!!Q);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,dr.bind(void 0,1),dr.bind(void 0,2),dr.bind(void 0,3),dr.bind(void 0,4),dr.bind(void 0,5),dr.bind(void 0,6),dr.bind(void 0,7),dr.bind(void 0,8),pr.bind(void 0,1),pr.bind(void 0,2),pr.bind(void 0,3),pr.bind(void 0,4),pr.bind(void 0,5),pr.bind(void 0,6),pr.bind(void 0,7),pr.bind(void 0,8),ht.bind(void 0,0,0,0,0,0),ht.bind(void 0,0,0,0,0,1),ht.bind(void 0,0,0,0,0,2),ht.bind(void 0,0,0,0,0,3),ht.bind(void 0,0,0,0,1,0),ht.bind(void 0,0,0,0,1,1),ht.bind(void 0,0,0,0,1,2),ht.bind(void 0,0,0,0,1,3),ht.bind(void 0,0,0,1,0,0),ht.bind(void 0,0,0,1,0,1),ht.bind(void 0,0,0,1,0,2),ht.bind(void 0,0,0,1,0,3),ht.bind(void 0,0,0,1,1,0),ht.bind(void 0,0,0,1,1,1),ht.bind(void 0,0,0,1,1,2),ht.bind(void 0,0,0,1,1,3),ht.bind(void 0,0,1,0,0,0),ht.bind(void 0,0,1,0,0,1),ht.bind(void 0,0,1,0,0,2),ht.bind(void 0,0,1,0,0,3),ht.bind(void 0,0,1,0,1,0),ht.bind(void 0,0,1,0,1,1),ht.bind(void 0,0,1,0,1,2),ht.bind(void 0,0,1,0,1,3),ht.bind(void 0,0,1,1,0,0),ht.bind(void 0,0,1,1,0,1),ht.bind(void 0,0,1,1,0,2),ht.bind(void 0,0,1,1,0,3),ht.bind(void 0,0,1,1,1,0),ht.bind(void 0,0,1,1,1,1),ht.bind(void 0,0,1,1,1,2),ht.bind(void 0,0,1,1,1,3),ht.bind(void 0,1,0,0,0,0),ht.bind(void 0,1,0,0,0,1),ht.bind(void 0,1,0,0,0,2),ht.bind(void 0,1,0,0,0,3),ht.bind(void 0,1,0,0,1,0),ht.bind(void 0,1,0,0,1,1),ht.bind(void 0,1,0,0,1,2),ht.bind(void 0,1,0,0,1,3),ht.bind(void 0,1,0,1,0,0),ht.bind(void 0,1,0,1,0,1),ht.bind(void 0,1,0,1,0,2),ht.bind(void 0,1,0,1,0,3),ht.bind(void 0,1,0,1,1,0),ht.bind(void 0,1,0,1,1,1),ht.bind(void 0,1,0,1,1,2),ht.bind(void 0,1,0,1,1,3),ht.bind(void 0,1,1,0,0,0),ht.bind(void 0,1,1,0,0,1),ht.bind(void 0,1,1,0,0,2),ht.bind(void 0,1,1,0,0,3),ht.bind(void 0,1,1,0,1,0),ht.bind(void 0,1,1,0,1,1),ht.bind(void 0,1,1,0,1,2),ht.bind(void 0,1,1,0,1,3),ht.bind(void 0,1,1,1,0,0),ht.bind(void 0,1,1,1,0,1),ht.bind(void 0,1,1,1,0,2),ht.bind(void 0,1,1,1,0,3),ht.bind(void 0,1,1,1,1,0),ht.bind(void 0,1,1,1,1,1),ht.bind(void 0,1,1,1,1,2),ht.bind(void 0,1,1,1,1,3)],qn=Array.from||function(F){return F.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Mt(F){(F=F||{}).empty||(yr(F.familyName,"When creating a new Font object, familyName is required."),yr(F.styleName,"When creating a new Font object, styleName is required."),yr(F.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),yr(F.ascender,"When creating a new Font object, ascender is required."),yr(F.descender,"When creating a new Font object, descender is required."),yr(F.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:F.familyName||" "},fontSubfamily:{en:F.styleName||" "},fullName:{en:F.fullName||F.familyName+" "+F.styleName},postScriptName:{en:F.postScriptName||(F.familyName+F.styleName).replace(/\s/g,"")},designer:{en:F.designer||" "},designerURL:{en:F.designerURL||" "},manufacturer:{en:F.manufacturer||" "},manufacturerURL:{en:F.manufacturerURL||" "},license:{en:F.license||" "},licenseURL:{en:F.licenseURL||" "},version:{en:F.version||"Version 0.1"},description:{en:F.description||" "},copyright:{en:F.copyright||" "},trademark:{en:F.trademark||" "}},this.unitsPerEm=F.unitsPerEm||1e3,this.ascender=F.ascender,this.descender=F.descender,this.createdTimestamp=F.createdTimestamp,this.tables={os2:{usWeightClass:F.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:F.widthClass||this.usWidthClasses.MEDIUM,fsSelection:F.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ut.GlyphSet(this,F.glyphs||[]),this.encoding=new Ue(this),this.position=new Ir(this),this.substitution=new or(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ln(this):void 0)}})}function Cn(F,W){var Q,te=JSON.stringify(F),le=256;for(Q in W){var fe=parseInt(Q);if(fe&&!(fe<256)){if(JSON.stringify(W[Q])===te)return fe;le<=fe&&(le=fe+1)}}return W[le]=F,le}Mt.prototype.hasChar=function(F){return this.encoding.charToGlyphIndex(F)!==null},Mt.prototype.charToGlyphIndex=function(F){return this.encoding.charToGlyphIndex(F)},Mt.prototype.charToGlyph=function(F){return F=this.charToGlyphIndex(F),this.glyphs.get(F)||this.glyphs.get(0)},Mt.prototype.stringToGlyphs=function(F,W){W=W||this.defaultRenderOptions;for(var Q=qn(F),te=[],le=0;le<Q.length;le+=1){var fe=Q[le];te.push(this.charToGlyphIndex(fe))}var pe=te.length;if(W.features){var F=W.script||this.substitution.getDefaultScriptName(),Ee=[];W.features.liga&&(Ee=Ee.concat(this.substitution.getFeature("liga",F,W.language))),W.features.rlig&&(Ee=Ee.concat(this.substitution.getFeature("rlig",F,W.language)));for(var je=0;je<pe;je+=1)for(var Pe=0;Pe<Ee.length;Pe++){for(var Fe=Ee[Pe],ze=Fe.sub,Ve=ze.length,Oe=0;Oe<Ve&&ze[Oe]===te[je+Oe];)Oe++;Oe===Ve&&(te.splice(je,Ve,Fe.by),pe=pe-Ve+1)}}for(var Je=new Array(pe),Ye=this.glyphs.get(0),Ze=0;Ze<pe;Ze+=1)Je[Ze]=this.glyphs.get(te[Ze])||Ye;return Je},Mt.prototype.nameToGlyphIndex=function(F){return this.glyphNames.nameToGlyphIndex(F)},Mt.prototype.nameToGlyph=function(F){return F=this.nameToGlyphIndex(F),this.glyphs.get(F)||this.glyphs.get(0)},Mt.prototype.glyphIndexToName=function(F){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(F):""},Mt.prototype.getKerningValue=function(F,W){F=F.index||F,W=W.index||W;var Q=this.position.defaultKerningTables;return Q?this.position.getKerningValue(Q,F,W):this.kerningPairs[F+","+W]||0},Mt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Mt.prototype.forEachGlyph=function(F,W,Q,te,le,fe){W=W!==void 0?W:0,Q=Q!==void 0?Q:0,le=le||this.defaultRenderOptions;var pe,Ee=1/this.unitsPerEm*(te=te!==void 0?te:72),je=this.stringToGlyphs(F,le);le.kerning&&(F=le.script||this.position.getDefaultScriptName(),pe=this.position.getKerningTables(F,le.language));for(var Pe=0;Pe<je.length;Pe+=1){var Fe=je[Pe];fe.call(this,Fe,W,Q,te,le),Fe.advanceWidth&&(W+=Fe.advanceWidth*Ee),le.kerning&&Pe<je.length-1&&(W+=(pe?this.position.getKerningValue(pe,Fe.index,je[Pe+1].index):this.getKerningValue(Fe,je[Pe+1]))*Ee),le.letterSpacing?W+=le.letterSpacing*te:le.tracking&&(W+=le.tracking/1e3*te)}return W},Mt.prototype.getPath=function(F,W,Q,te,le){var fe=new H;return this.forEachGlyph(F,W,Q,te,le,function(pe,Ee,je,Pe){pe=pe.getPath(Ee,je,Pe,le,this),fe.extend(pe)}),fe},Mt.prototype.getPaths=function(F,W,Q,te,le){var fe=[];return this.forEachGlyph(F,W,Q,te,le,function(pe,Ee,je,Pe){pe=pe.getPath(Ee,je,Pe,le,this),fe.push(pe)}),fe},Mt.prototype.getAdvanceWidth=function(F,W,Q){return this.forEachGlyph(F,0,0,W,Q,function(){})},Mt.prototype.draw=function(F,W,Q,te,le,fe){this.getPath(W,Q,te,le,fe).draw(F)},Mt.prototype.drawPoints=function(F,W,Q,te,le,fe){this.forEachGlyph(W,Q,te,le,fe,function(pe,Ee,je,Pe){pe.drawPoints(F,Ee,je,Pe)})},Mt.prototype.drawMetrics=function(F,W,Q,te,le,fe){this.forEachGlyph(W,Q,te,le,fe,function(pe,Ee,je,Pe){pe.drawMetrics(F,Ee,je,Pe)})},Mt.prototype.getEnglishName=function(F){if(F=this.names[F],F)return F.en},Mt.prototype.validate=function(){var F=this;function W(Q){Q=F.getEnglishName(Q),Q&&Q.trim().length}W("fontFamily"),W("weightName"),W("manufacturer"),W("copyright"),W("version"),this.unitsPerEm},Mt.prototype.toTables=function(){return Nn.fontToTable(this)},Mt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Mt.prototype.toArrayBuffer=function(){for(var F=this.toTables().encode(),W=new ArrayBuffer(F.length),Q=new Uint8Array(W),te=0;te<F.length;te++)Q[te]=F[te];return W},Mt.prototype.download=function(F){var W=this.getEnglishName("fontFamily"),Q=this.getEnglishName("fontSubfamily"),te=(F=F||W.replace(/\s/g,"")+"-"+Q+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,te.byteLength,function(le){le.root.getFile(F,{create:!0},function(fe){fe.createWriter(function(pe){var Ee=new DataView(te),Ee=new Blob([Ee],{type:"font/opentype"});pe.write(Ee),pe.addEventListener("writeend",function(){location.href=fe.toURL()},!1)})})},function(le){throw new Error(le.name+": "+le.message)})):(W=c("fs"),Q=function(le){for(var fe=new g(le.byteLength),pe=new Uint8Array(le),Ee=0;Ee<fe.length;++Ee)fe[Ee]=pe[Ee];return fe}(te),W.writeFileSync(F,Q))},Mt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Mt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Mt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Hn={make:function(F,W){var Q=new Se.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:F.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:F.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*F.axes.length}]);Q.offsetToData=Q.sizeOf();for(var te,le,fe,pe=0;pe<F.axes.length;pe++)Q.fields=Q.fields.concat((te=pe,le=F.axes[pe],fe=W,fe=Cn(le.name,W),[{name:"tag_"+te,type:"TAG",value:le.tag},{name:"minValue_"+te,type:"FIXED",value:le.minValue<<16},{name:"defaultValue_"+te,type:"FIXED",value:le.defaultValue<<16},{name:"maxValue_"+te,type:"FIXED",value:le.maxValue<<16},{name:"flags_"+te,type:"USHORT",value:0},{name:"nameID_"+te,type:"USHORT",value:fe}]));for(var Ee=0;Ee<F.instances.length;Ee++)Q.fields=Q.fields.concat(function(je,Pe,Fe,ze){for(var Ve=[{name:"nameID_"+je,type:"USHORT",value:Cn(Pe.name,ze)},{name:"flags_"+je,type:"USHORT",value:0}],Oe=0;Oe<Fe.length;++Oe){var Je=Fe[Oe].tag;Ve.push({name:"axis_"+je+" "+Je,type:"FIXED",value:Pe.coordinates[Je]<<16})}return Ve}(Ee,F.instances[Ee],F.axes,W));return Q},parse:function(F,W,Q){for(var te,le,fe,pe,Ee=new Ge.Parser(F,W),je=Ee.parseULong(),Pe=(q.argument(je===65536,"Unsupported fvar table version."),Ee.parseOffset16()),Fe=(Ee.skip("uShort",1),Ee.parseUShort()),ze=Ee.parseUShort(),Ve=Ee.parseUShort(),Oe=Ee.parseUShort(),Je=[],Ye=0;Ye<Fe;Ye++)Je.push((te=F,le=W+Pe+Ye*ze,fe=Q,pe={},te=new Ge.Parser(te,le),pe.tag=te.parseTag(),pe.minValue=te.parseFixed(),pe.defaultValue=te.parseFixed(),pe.maxValue=te.parseFixed(),te.skip("uShort",1),pe.name=fe[te.parseUShort()]||{},pe));for(var Ze=[],We=W+Pe+Fe*ze,qe=0;qe<Ve;qe++)Ze.push(function(dt,_t,ft,pt){var bt={},It=new Ge.Parser(dt,_t);bt.name=pt[It.parseUShort()]||{},It.skip("uShort",1),bt.coordinates={};for(var Ft=0;Ft<ft.length;++Ft)bt.coordinates[ft[Ft].tag]=It.parseFixed();return bt}(F,We+qe*Oe,Je,Q));return{axes:Je,instances:Ze}}},nr=new Array(10);nr[1]=function(){var F=this.offset+this.relativeOffset,W=this.parseUShort();return W===1?{posFormat:1,coverage:this.parsePointer(Re.coverage),value:this.parseValueRecord()}:W===2?{posFormat:2,coverage:this.parsePointer(Re.coverage),values:this.parseValueRecordList()}:void q.assert(!1,"0x"+F.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},nr[2]=function(){var F,W,Q,te,fe=this.offset+this.relativeOffset,le=this.parseUShort(),fe=(q.assert(le===1||le===2,"0x"+fe.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Re.coverage)),pe=this.parseUShort(),Ee=this.parseUShort();return le===1?{posFormat:le,coverage:fe,valueFormat1:pe,valueFormat2:Ee,pairSets:this.parseList(Re.pointer(Re.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(pe),value2:this.parseValueRecord(Ee)}})))}:le===2?(F=this.parsePointer(Re.classDef),W=this.parsePointer(Re.classDef),Q=this.parseUShort(),te=this.parseUShort(),{posFormat:le,coverage:fe,valueFormat1:pe,valueFormat2:Ee,classDef1:F,classDef2:W,class1Count:Q,class2Count:te,classRecords:this.parseList(Q,Re.list(te,function(){return{value1:this.parseValueRecord(pe),value2:this.parseValueRecord(Ee)}}))}):void 0},nr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},nr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},nr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},nr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},nr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},nr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},nr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Yn=new Array(10),Xn={parse:function(F,W){return W=(F=new Re(F,W=W||0)).parseVersion(1),q.argument(W===1||W===1.1,"Unsupported GPOS table version "+W),W===1?{version:W,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(nr)}:{version:W,scripts:F.parseScriptList(),features:F.parseFeatureList(),lookups:F.parseLookupList(nr),variations:F.parseFeatureVariationsList()}},make:function(F){return new Se.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Se.ScriptList(F.scripts)},{name:"features",type:"TABLE",value:new Se.FeatureList(F.features)},{name:"lookups",type:"TABLE",value:new Se.LookupList(F.lookups,Yn)}])}},$n={parse:function(F,W){if(F=new Ge.Parser(F,W),(W=F.parseUShort())===0){var Q=F,te={},ze=(Q.skip("uShort"),Q.parseUShort()),le=(q.argument(ze===0,"Unsupported kern sub-table version."),Q.skip("uShort",2),Q.parseUShort());Q.skip("uShort",3);for(var fe=0;fe<le;fe+=1){var pe=Q.parseUShort(),Ee=Q.parseUShort(),je=Q.parseShort();te[pe+","+Ee]=je}return te}if(W!==1)throw new Error("Unsupported kern table version ("+W+").");var Pe=F,Fe={},ze=(Pe.skip("uShort"),1<Pe.parseULong()&&console.warn("Only the first kern subtable is supported."),Pe.skip("uLong"),255&Pe.parseUShort());if(Pe.skip("uShort"),ze==0){var Ve=Pe.parseUShort();Pe.skip("uShort",3);for(var Oe=0;Oe<Ve;Oe+=1){var Je=Pe.parseUShort(),Ye=Pe.parseUShort(),Ze=Pe.parseShort();Fe[Je+","+Ye]=Ze}}return Fe}},Zn={parse:function(F,W,Q,te){for(var le=new Ge.Parser(F,W),fe=te?le.parseUShort:le.parseULong,pe=[],Ee=0;Ee<Q+1;Ee+=1){var je=fe.call(le);te&&(je*=2),pe.push(je)}return pe}};function Kn(F,W){c("fs").readFile(F,function(Q,te){if(Q)return W(Q.message);W(null,rn(te))})}function Jn(F,W){var Q=new XMLHttpRequest;Q.open("get",F,!0),Q.responseType="arraybuffer",Q.onload=function(){return Q.response?W(null,Q.response):W("Font could not be loaded: "+Q.statusText)},Q.onerror=function(){W("Font could not be loaded")},Q.send()}function Mn(F,W){for(var Q=[],te=12,le=0;le<W;le+=1){var fe=Ge.getTag(F,te),pe=Ge.getULong(F,te+4),Ee=Ge.getULong(F,te+8),je=Ge.getULong(F,te+12);Q.push({tag:fe,checksum:pe,offset:Ee,length:je,compression:!1}),te+=16}return Q}function Ut(Q,W){if(W.compression!=="WOFF")return{data:Q,offset:W.offset};var Q=new Uint8Array(Q.buffer,W.offset+2,W.compressedLength-2),te=new Uint8Array(W.length);if(U(Q,te),te.byteLength!==W.length)throw new Error("Decompression error: "+W.tag+" decompressed length doesn't match recorded length");return{data:new DataView(te.buffer,0),offset:0}}function Gr(qe){var W,Q,te,le,fe,pe,Ee,je,Pe,Fe,ze,Ve,Oe,Je,Ye=new Mt({empty:!0}),Ze=new DataView(qe,0),We=[],qe=Ge.getTag(Ze,0);if(qe===String.fromCharCode(0,1,0,0)||qe==="true"||qe==="typ1")Ye.outlinesFormat="truetype",We=Mn(Ze,te=Ge.getUShort(Ze,4));else if(qe==="OTTO")Ye.outlinesFormat="cff",We=Mn(Ze,te=Ge.getUShort(Ze,4));else{if(qe!=="wOFF")throw new Error("Unsupported OpenType signature "+qe);var dt=Ge.getTag(Ze,4);if(dt===String.fromCharCode(0,1,0,0))Ye.outlinesFormat="truetype";else{if(dt!=="OTTO")throw new Error("Unsupported OpenType flavor "+qe);Ye.outlinesFormat="cff"}We=function(Nt,At){for(var er=[],Dt=44,Zt=0;Zt<At;Zt+=1){var Rt=Ge.getTag(Nt,Dt),Yt=Ge.getULong(Nt,Dt+4),Cr=Ge.getULong(Nt,Dt+8),vr=Ge.getULong(Nt,Dt+12),Pn=void 0,Pn=Cr<vr&&"WOFF";er.push({tag:Rt,offset:Yt,compression:Pn,compressedLength:Cr,length:vr}),Dt+=20}return er}(Ze,te=Ge.getUShort(Ze,12))}for(var _t=0;_t<te;_t+=1){var ft=We[_t],pt=void 0;switch(ft.tag){case"cmap":pt=Ut(Ze,ft),Ye.tables.cmap=be.parse(pt.data,pt.offset),Ye.encoding=new Xe(Ye.tables.cmap);break;case"cvt ":pt=Ut(Ze,ft),Je=new Ge.Parser(pt.data,pt.offset),Ye.tables.cvt=Je.parseShortList(ft.length/2);break;case"fvar":fe=ft;break;case"fpgm":pt=Ut(Ze,ft),Je=new Ge.Parser(pt.data,pt.offset),Ye.tables.fpgm=Je.parseByteList(ft.length);break;case"head":pt=Ut(Ze,ft),Ye.tables.head=Er.parse(pt.data,pt.offset),Ye.unitsPerEm=Ye.tables.head.unitsPerEm,W=Ye.tables.head.indexToLocFormat;break;case"hhea":pt=Ut(Ze,ft),Ye.tables.hhea=Ne.parse(pt.data,pt.offset),Ye.ascender=Ye.tables.hhea.ascender,Ye.descender=Ye.tables.hhea.descender,Ye.numberOfHMetrics=Ye.tables.hhea.numberOfHMetrics;break;case"hmtx":Pe=ft;break;case"ltag":pt=Ut(Ze,ft),Q=ct.parse(pt.data,pt.offset);break;case"maxp":pt=Ut(Ze,ft),Ye.tables.maxp=tt.parse(pt.data,pt.offset),Ye.numGlyphs=Ye.tables.maxp.numGlyphs;break;case"name":Ve=ft;break;case"OS/2":pt=Ut(Ze,ft),Ye.tables.os2=Ht.parse(pt.data,pt.offset);break;case"post":pt=Ut(Ze,ft),Ye.tables.post=Hr.parse(pt.data,pt.offset),Ye.glyphNames=new st(Ye.tables.post);break;case"prep":pt=Ut(Ze,ft),Je=new Ge.Parser(pt.data,pt.offset),Ye.tables.prep=Je.parseByteList(ft.length);break;case"glyf":pe=ft;break;case"loca":ze=ft;break;case"CFF ":le=ft;break;case"kern":Fe=ft;break;case"GPOS":Ee=ft;break;case"GSUB":je=ft;break;case"meta":Oe=ft}}if(dt=Ut(Ze,Ve),Ye.tables.name=tr.parse(dt.data,dt.offset,Q),Ye.names=Ye.tables.name,pe&&ze)qe=W===0,dt=Ut(Ze,ze),dt=Zn.parse(dt.data,dt.offset,Ye.numGlyphs,qe),qe=Ut(Ze,pe),Ye.glyphs=an.parse(qe.data,qe.offset,dt,Ye);else{if(!le)throw new Error("Font doesn't contain TrueType or CFF outlines.");qe=Ut(Ze,le),xr.parse(qe.data,qe.offset,Ye)}for(var dt=Ut(Ze,Pe),bt=(nt.parse(dt.data,dt.offset,Ye.numberOfHMetrics,Ye.numGlyphs,Ye.glyphs),Ye),It=bt.tables.cmap.glyphIndexMap,Ft=Object.keys(It),Gt=0;Gt<Ft.length;Gt+=1){var Jt,Qt=Ft[Gt],sr=It[Qt];(Jt=bt.glyphs.get(sr)).addUnicode(parseInt(Qt))}for(var Pt=0;Pt<bt.glyphs.length;Pt+=1)Jt=bt.glyphs.get(Pt),bt.cffEncoding?bt.isCIDFont?Jt.name="gid"+Pt:Jt.name=bt.cffEncoding.charset[Pt]:bt.glyphNames.names&&(Jt.name=bt.glyphNames.glyphIndexToName(Pt));return Fe?(qe=Ut(Ze,Fe),Ye.kerningPairs=$n.parse(qe.data,qe.offset)):Ye.kerningPairs={},Ee&&(dt=Ut(Ze,Ee),Ye.tables.gpos=Xn.parse(dt.data,dt.offset),Ye.position.init()),je&&(qe=Ut(Ze,je),Ye.tables.gsub=Yr.parse(qe.data,qe.offset)),fe&&(dt=Ut(Ze,fe),Ye.tables.fvar=Hn.parse(dt.data,dt.offset,Ye.names)),Oe&&(qe=Ut(Ze,Oe),Ye.tables.meta=Xr.parse(qe.data,qe.offset),Ye.metas=Ye.tables.meta),Ye}S.Font=Mt,S.Glyph=ot,S.Path=H,S.BoundingBox=ae,S._parse=Ge,S.parse=Gr,S.load=function(F,W){(typeof window>"u"?Kn:Jn)(F,function(Q,te){if(Q)return W(Q);var le;try{le=Gr(te)}catch(fe){return W(fe,null)}return W(null,le)})},S.loadSync=function(F){return Gr(rn(c("fs").readFileSync(F)))},Object.defineProperty(S,"__esModule",{value:!0})},y(typeof _=="object"&&m!==void 0?_:b.opentype={})}).call(this,c("buffer").Buffer)},{buffer:4,fs:2}],250:[function(c,m,_){(function(g){function b(A,C){for(var x=0,E=A.length-1;0<=E;E--){var k=A[E];k==="."?A.splice(E,1):k===".."?(A.splice(E,1),x++):x&&(A.splice(E,1),x--)}if(C)for(;x--;)A.unshift("..");return A}function y(A,C){if(A.filter)return A.filter(C);for(var x=[],E=0;E<A.length;E++)C(A[E],E,A)&&x.push(A[E]);return x}_.resolve=function(){for(var A="",C=!1,x=arguments.length-1;-1<=x&&!C;x--){var E=0<=x?arguments[x]:g.cwd();if(typeof E!="string")throw new TypeError("Arguments to path.resolve must be strings");E&&(A=E+"/"+A,C=E.charAt(0)==="/")}return(C?"/":"")+(A=b(y(A.split("/"),function(k){return!!k}),!C).join("/"))||"."},_.normalize=function(A){var C=_.isAbsolute(A),x=S(A,-1)==="/";return(A=(A=b(y(A.split("/"),function(E){return!!E}),!C).join("/"))||C?A:".")&&x&&(A+="/"),(C?"/":"")+A},_.isAbsolute=function(A){return A.charAt(0)==="/"},_.join=function(){var A=Array.prototype.slice.call(arguments,0);return _.normalize(y(A,function(C,x){if(typeof C!="string")throw new TypeError("Arguments to path.join must be strings");return C}).join("/"))},_.relative=function(A,C){function x(P){for(var O=0;O<P.length&&P[O]==="";O++);for(var N=P.length-1;0<=N&&P[N]==="";N--);return N<O?[]:P.slice(O,N-O+1)}A=_.resolve(A).substr(1),C=_.resolve(C).substr(1);for(var E=x(A.split("/")),k=x(C.split("/")),T=Math.min(E.length,k.length),I=T,M=0;M<T;M++)if(E[M]!==k[M]){I=M;break}for(var j=[],M=I;M<E.length;M++)j.push("..");return(j=j.concat(k.slice(I))).join("/")},_.sep="/",_.delimiter=":",_.dirname=function(A){if(typeof A!="string"&&(A+=""),A.length===0)return".";for(var C=A.charCodeAt(0)===47,x=-1,E=!0,k=A.length-1;1<=k;--k)if(A.charCodeAt(k)===47){if(!E){x=k;break}}else E=!1;return x===-1?C?"/":".":C&&x===1?"/":A.slice(0,x)},_.basename=function(A,C){return A=function(x){typeof x!="string"&&(x+="");for(var E=0,k=-1,T=!0,I=x.length-1;0<=I;--I)if(x.charCodeAt(I)===47){if(!T){E=I+1;break}}else k===-1&&(T=!1,k=I+1);return k===-1?"":x.slice(E,k)}(A),A=C&&A.substr(-1*C.length)===C?A.substr(0,A.length-C.length):A},_.extname=function(A){typeof A!="string"&&(A+="");for(var C=-1,x=0,E=-1,k=!0,T=0,I=A.length-1;0<=I;--I){var M=A.charCodeAt(I);if(M===47){if(k)continue;x=I+1;break}E===-1&&(k=!1,E=I+1),M===46?C===-1?C=I:T!==1&&(T=1):C!==-1&&(T=-1)}return C===-1||E===-1||T===0||T===1&&C===E-1&&C===x+1?"":A.slice(C,E)};var S="ab".substr(-1)==="b"?function(A,C,x){return A.substr(C,x)}:function(A,C,x){return C<0&&(C=A.length+C),A.substr(C,x)}}).call(this,c("_process"))},{_process:251}],251:[function(c,y,_){var g,b,y=y.exports={};function S(){throw new Error("setTimeout has not been defined")}function A(){throw new Error("clearTimeout has not been defined")}try{g=typeof setTimeout=="function"?setTimeout:S}catch{g=S}try{b=typeof clearTimeout=="function"?clearTimeout:A}catch{b=A}function C(O){if(g===setTimeout)return setTimeout(O,0);if((g===S||!g)&&setTimeout)return(g=setTimeout)(O,0);try{return g(O,0)}catch{try{return g.call(null,O,0)}catch{return g.call(this,O,0)}}}var x,E=[],k=!1,T=-1;function I(){k&&x&&(k=!1,x.length?E=x.concat(E):T=-1,E.length&&M())}function M(){if(!k){for(var O=C(I),N=(k=!0,E.length);N;){for(x=E,E=[];++T<N;)x&&x[T].run();T=-1,N=E.length}x=null,k=!1,function(D){if(b===clearTimeout)return clearTimeout(D);if((b===A||!b)&&clearTimeout)return(b=clearTimeout)(D);try{b(D)}catch{try{return b.call(null,D)}catch{return b.call(this,D)}}}(O)}}function j(O,N){this.fun=O,this.array=N}function P(){}y.nextTick=function(O){var N=new Array(arguments.length-1);if(1<arguments.length)for(var D=1;D<arguments.length;D++)N[D-1]=arguments[D];E.push(new j(O,N)),E.length!==1||k||C(M)},j.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=P,y.addListener=P,y.once=P,y.off=P,y.removeListener=P,y.removeAllListeners=P,y.emit=P,y.prependListener=P,y.prependOnceListener=P,y.listeners=function(O){return[]},y.binding=function(O){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(O){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},{}],252:[function(c,m,_){m=function(g){var b,y=Object.prototype,S=y.hasOwnProperty,L=typeof Symbol=="function"?Symbol:{},A=L.iterator||"@@iterator",C=L.asyncIterator||"@@asyncIterator",x=L.toStringTag||"@@toStringTag";function E(X,ne,$,oe){var H,ie,Y,q,ne=ne&&ne.prototype instanceof O?ne:O,ne=Object.create(ne.prototype),oe=new ee(oe||[]);return ne._invoke=(H=X,ie=$,Y=oe,q=T,function(he,de){if(q===M)throw new Error("Generator is already running");if(q===j){if(he==="throw")throw de;return z()}for(Y.method=he,Y.arg=de;;){var xe=Y.delegate;if(xe&&(xe=function Ce(ge,Ae){var we=ge.iterator[Ae.method];if(we===b){if(Ae.delegate=null,Ae.method==="throw"){if(ge.iterator.return&&(Ae.method="return",Ae.arg=b,Ce(ge,Ae),Ae.method==="throw"))return P;Ae.method="throw",Ae.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}if(we=k(we,ge.iterator,Ae.arg),we.type==="throw")return Ae.method="throw",Ae.arg=we.arg,Ae.delegate=null,P;if(we=we.arg,!we)return Ae.method="throw",Ae.arg=new TypeError("iterator result is not an object"),Ae.delegate=null,P;{if(!we.done)return we;Ae[ge.resultName]=we.value,Ae.next=ge.nextLoc,Ae.method!=="return"&&(Ae.method="next",Ae.arg=b)}return Ae.delegate=null,P}(xe,Y),xe)){if(xe===P)continue;return xe}if(Y.method==="next")Y.sent=Y._sent=Y.arg;else if(Y.method==="throw"){if(q===T)throw q=j,Y.arg;Y.dispatchException(Y.arg)}else Y.method==="return"&&Y.abrupt("return",Y.arg);if(q=M,xe=k(H,ie,Y),xe.type==="normal"){if(q=Y.done?j:I,xe.arg!==P)return{value:xe.arg,done:Y.done}}else xe.type==="throw"&&(q=j,Y.method="throw",Y.arg=xe.arg)}}),ne}function k(X,U,$){try{return{type:"normal",arg:X.call(U,$)}}catch(ae){return{type:"throw",arg:ae}}}g.wrap=E;var T="suspendedStart",I="suspendedYield",M="executing",j="completed",P={};function O(){}function N(){}function D(){}var L={},R=(L[A]=function(){return this},Object.getPrototypeOf),R=R&&R(R(V([]))),G=(R&&R!==y&&S.call(R,A)&&(L=R),D.prototype=O.prototype=Object.create(L));function Z(X){["next","throw","return"].forEach(function(U){X[U]=function($){return this._invoke(U,$)}})}function B(X){var U;this._invoke=function($,ae){function H(){return new Promise(function(ie,Y){(function q(Ce,oe,he,de){var xe,Ce=k(X[Ce],X,oe);if(Ce.type!=="throw")return(oe=(xe=Ce.arg).value)&&typeof oe=="object"&&S.call(oe,"__await")?Promise.resolve(oe.__await).then(function(ge){q("next",ge,he,de)},function(ge){q("throw",ge,he,de)}):Promise.resolve(oe).then(function(ge){xe.value=ge,he(xe)},function(ge){return q("throw",ge,he,de)});de(Ce.arg)})($,ae,ie,Y)})}return U=U?U.then(H,H):H()}}function J(X){var U={tryLoc:X[0]};1 in X&&(U.catchLoc=X[1]),2 in X&&(U.finallyLoc=X[2],U.afterLoc=X[3]),this.tryEntries.push(U)}function K(X){var U=X.completion||{};U.type="normal",delete U.arg,X.completion=U}function ee(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(J,this),this.reset(!0)}function V(X){if(X){var U,$=X[A];if($)return $.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length))return U=-1,($=function ae(){for(;++U<X.length;)if(S.call(X,U))return ae.value=X[U],ae.done=!1,ae;return ae.value=b,ae.done=!0,ae}).next=$}return{next:z}}function z(){return{value:b,done:!0}}return(N.prototype=G.constructor=D).constructor=N,D[x]=N.displayName="GeneratorFunction",g.isGeneratorFunction=function(X){return X=typeof X=="function"&&X.constructor,!!X&&(X===N||(X.displayName||X.name)==="GeneratorFunction")},g.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,D):(X.__proto__=D,x in X||(X[x]="GeneratorFunction")),X.prototype=Object.create(G),X},g.awrap=function(X){return{__await:X}},Z(B.prototype),B.prototype[C]=function(){return this},g.AsyncIterator=B,g.async=function(X,U,$,ae){var H=new B(E(X,U,$,ae));return g.isGeneratorFunction(U)?H:H.next().then(function(ie){return ie.done?ie.value:H.next()})},Z(G),G[x]="Generator",G[A]=function(){return this},G.toString=function(){return"[object Generator]"},g.keys=function(X){var U,$=[];for(U in X)$.push(U);return $.reverse(),function ae(){for(;$.length;){var H=$.pop();if(H in X)return ae.value=H,ae.done=!1,ae}return ae.done=!0,ae}},g.values=V,ee.prototype={constructor:ee,reset:function(X){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(K),!X)for(var U in this)U.charAt(0)==="t"&&S.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=b)},stop:function(){this.done=!0;var X=this.tryEntries[0].completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function(X){if(this.done)throw X;var U=this;function $(ne,oe){return ie.type="throw",ie.arg=X,U.next=ne,oe&&(U.method="next",U.arg=b),!!oe}for(var ae=this.tryEntries.length-1;0<=ae;--ae){var H=this.tryEntries[ae],ie=H.completion;if(H.tryLoc==="root")return $("end");if(H.tryLoc<=this.prev){var Y=S.call(H,"catchLoc"),q=S.call(H,"finallyLoc");if(Y&&q){if(this.prev<H.catchLoc)return $(H.catchLoc,!0);if(this.prev<H.finallyLoc)return $(H.finallyLoc)}else if(Y){if(this.prev<H.catchLoc)return $(H.catchLoc,!0)}else{if(!q)throw new Error("try statement without catch or finally");if(this.prev<H.finallyLoc)return $(H.finallyLoc)}}}},abrupt:function(X,U){for(var $=this.tryEntries.length-1;0<=$;--$){var ae=this.tryEntries[$];if(ae.tryLoc<=this.prev&&S.call(ae,"finallyLoc")&&this.prev<ae.finallyLoc){var H=ae;break}}var ie=(H=H&&(X==="break"||X==="continue")&&H.tryLoc<=U&&U<=H.finallyLoc?null:H)?H.completion:{};return ie.type=X,ie.arg=U,H?(this.method="next",this.next=H.finallyLoc,P):this.complete(ie)},complete:function(X,U){if(X.type==="throw")throw X.arg;return X.type==="break"||X.type==="continue"?this.next=X.arg:X.type==="return"?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):X.type==="normal"&&U&&(this.next=U),P},finish:function(X){for(var U=this.tryEntries.length-1;0<=U;--U){var $=this.tryEntries[U];if($.finallyLoc===X)return this.complete($.completion,$.afterLoc),K($),P}},catch:function(X){for(var U=this.tryEntries.length-1;0<=U;--U){var $,ae,H=this.tryEntries[U];if(H.tryLoc===X)return($=H.completion).type==="throw"&&(ae=$.arg,K(H)),ae}throw new Error("illegal catch attempt")},delegateYield:function(X,U,$){return this.delegate={iterator:V(X),resultName:U,nextLoc:$},this.method==="next"&&(this.arg=b),P}},g}(typeof m=="object"?m.exports:{});try{regeneratorRuntime=m}catch{Function("r","regeneratorRuntime = r")(m)}},{}],253:[function(c,m,_){(function(g){var b,y,S,A,C,x,E,k,T,I;function M(K){if(typeof K!="string"&&(K=String(K)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(K))throw new TypeError("Invalid character in header field name");return K.toLowerCase()}function j(K){return K=typeof K!="string"?String(K):K}function P(K){var ee={next:function(){var V=K.shift();return{done:V===void 0,value:V}}};return y&&(ee[Symbol.iterator]=function(){return ee}),ee}function O(K){this.map={},K instanceof O?K.forEach(function(ee,V){this.append(V,ee)},this):Array.isArray(K)?K.forEach(function(ee){this.append(ee[0],ee[1])},this):K&&Object.getOwnPropertyNames(K).forEach(function(ee){this.append(ee,K[ee])},this)}function N(K){if(K.bodyUsed)return Promise.reject(new TypeError("Already read"));K.bodyUsed=!0}function D(K){return new Promise(function(ee,V){K.onload=function(){ee(K.result)},K.onerror=function(){V(K.error)}})}function L(K){var ee=new FileReader,V=D(ee);return ee.readAsArrayBuffer(K),V}function R(K){var ee;return K.slice?K.slice(0):((ee=new Uint8Array(K.byteLength)).set(new Uint8Array(K)),ee.buffer)}function G(){return this.bodyUsed=!1,this._initBody=function(K){if(this._bodyInit=K)if(typeof K=="string")this._bodyText=K;else if(S&&Blob.prototype.isPrototypeOf(K))this._bodyBlob=K;else if(A&&FormData.prototype.isPrototypeOf(K))this._bodyFormData=K;else if(b&&URLSearchParams.prototype.isPrototypeOf(K))this._bodyText=K.toString();else if(C&&S&&E(K))this._bodyArrayBuffer=R(K.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!C||!ArrayBuffer.prototype.isPrototypeOf(K)&&!k(K))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=R(K)}else this._bodyText="";this.headers.get("content-type")||(typeof K=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b&&URLSearchParams.prototype.isPrototypeOf(K)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},S&&(this.blob=function(){var K=N(this);if(K)return K;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?N(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(L)}),this.text=function(){var K,ee,V=N(this);if(V)return V;if(this._bodyBlob)return V=this._bodyBlob,K=new FileReader,ee=D(K),K.readAsText(V),ee;if(this._bodyArrayBuffer)return Promise.resolve(function(z){for(var X=new Uint8Array(z),U=new Array(X.length),$=0;$<X.length;$++)U[$]=String.fromCharCode(X[$]);return U.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},A&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}function Z(K,ee){var V,z=(ee=ee||{}).body;if(K instanceof Z){if(K.bodyUsed)throw new TypeError("Already read");this.url=K.url,this.credentials=K.credentials,ee.headers||(this.headers=new O(K.headers)),this.method=K.method,this.mode=K.mode,z||K._bodyInit==null||(z=K._bodyInit,K.bodyUsed=!0)}else this.url=String(K);if(this.credentials=ee.credentials||this.credentials||"omit",!ee.headers&&this.headers||(this.headers=new O(ee.headers)),this.method=(K=ee.method||this.method||"GET",V=K.toUpperCase(),-1<T.indexOf(V)?V:K),this.mode=ee.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&z)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(z)}function B(K){var ee=new FormData;return K.trim().split("&").forEach(function(V){var z;V&&(z=(V=V.split("=")).shift().replace(/\+/g," "),V=V.join("=").replace(/\+/g," "),ee.append(decodeURIComponent(z),decodeURIComponent(V)))}),ee}function J(K,ee){ee=ee||{},this.type="default",this.status=ee.status===void 0?200:ee.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in ee?ee.statusText:"OK",this.headers=new O(ee.headers),this.url=ee.url||"",this._initBody(K)}g.fetch||(b="URLSearchParams"in g,y="Symbol"in g&&"iterator"in Symbol,S="FileReader"in g&&"Blob"in g&&function(){try{return new Blob,!0}catch{return!1}}(),A="FormData"in g,(C="ArrayBuffer"in g)&&(x=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=function(K){return K&&DataView.prototype.isPrototypeOf(K)},k=ArrayBuffer.isView||function(K){return K&&-1<x.indexOf(Object.prototype.toString.call(K))}),O.prototype.append=function(K,ee){K=M(K),ee=j(ee);var V=this.map[K];this.map[K]=V?V+","+ee:ee},O.prototype.delete=function(K){delete this.map[M(K)]},O.prototype.get=function(K){return K=M(K),this.has(K)?this.map[K]:null},O.prototype.has=function(K){return this.map.hasOwnProperty(M(K))},O.prototype.set=function(K,ee){this.map[M(K)]=j(ee)},O.prototype.forEach=function(K,ee){for(var V in this.map)this.map.hasOwnProperty(V)&&K.call(ee,this.map[V],V,this)},O.prototype.keys=function(){var K=[];return this.forEach(function(ee,V){K.push(V)}),P(K)},O.prototype.values=function(){var K=[];return this.forEach(function(ee){K.push(ee)}),P(K)},O.prototype.entries=function(){var K=[];return this.forEach(function(ee,V){K.push([V,ee])}),P(K)},y&&(O.prototype[Symbol.iterator]=O.prototype.entries),T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],Z.prototype.clone=function(){return new Z(this,{body:this._bodyInit})},G.call(Z.prototype),G.call(J.prototype),J.prototype.clone=function(){return new J(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},J.error=function(){var K=new J(null,{status:0,statusText:""});return K.type="error",K},I=[301,302,303,307,308],J.redirect=function(K,ee){if(I.indexOf(ee)===-1)throw new RangeError("Invalid status code");return new J(null,{status:ee,headers:{location:K}})},g.Headers=O,g.Request=Z,g.Response=J,g.fetch=function(K,ee){return new Promise(function(V,z){var X=new Z(K,ee),U=new XMLHttpRequest;U.onload=function(){var $,ae={status:U.status,statusText:U.statusText,headers:(ae=U.getAllResponseHeaders()||"",$=new O,ae.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Y){var Y=Y.split(":"),q=Y.shift().trim();q&&(Y=Y.join(":").trim(),$.append(q,Y))}),$)},H=(ae.url="responseURL"in U?U.responseURL:ae.headers.get("X-Request-URL"),"response"in U?U.response:U.responseText);V(new J(H,ae))},U.onerror=function(){z(new TypeError("Network request failed"))},U.ontimeout=function(){z(new TypeError("Network request failed"))},U.open(X.method,X.url,!0),X.credentials==="include"?U.withCredentials=!0:X.credentials==="omit"&&(U.withCredentials=!1),"responseType"in U&&S&&(U.responseType="blob"),X.headers.forEach(function($,ae){U.setRequestHeader(ae,$)}),U.send(X._bodyInit===void 0?null:X._bodyInit)})},g.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],254:[function(c,m,_){c("core-js/modules/es.function.name"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.split"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.split"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g,b=S(c("../core/main")),y=S(c("../color/color_conversion"));function S(x){return x&&x.__esModule?x:{default:x}}var A=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],C=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];b.default.prototype._rgbColorName=function(T){var E,k,T=y.default._rgbaToHSBA(T),I=[(g=T)[0],T[1],T[2]];I[0]!==0&&(I[0]=Math.round(100*I[0]),(T=I[0].toString().split(""))[k=T.length-1]=parseInt(T[k]),T[k]<2.5?T[k]=0:2.5<=T[k]&&T[k]<7.5&&(T[k]=5),T.length===2?(T[0]=parseInt(T[0]),7.5<=T[k]&&(T[k]=0,T[0]=T[0]+1),I[0]=10*T[0]+T[1]):7.5<=T[k]?I[0]=10:I[0]=T[k]),I[2]=I[2]/255;for(var M=I.length-1;1<=M;M--)I[M]<=.25?I[M]=0:.25<I[M]&&I[M]<.75?I[M]=.5:I[M]=1;if(I[0]===0&&I[1]===0&&I[2]===1){for(var j=2;0<=j;j--)g[j]=Math.round(1e4*g[j])/1e4;for(var P=0;P<A.length;P++){if(A[P].h===g[0]&&A[P].s===g[1]&&A[P].b===g[2]){E=A[P].name;break}E="white"}}else for(var O=0;O<C.length;O++)if(C[O].h===I[0]&&C[O].s===I[1]&&C[O].b===I[2]){E=C[O].name;break}return E},c=b.default,_.default=c},{"../color/color_conversion":260,"../core/main":275,"core-js/modules/es.function.name":168,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198}],255:[function(c,m,_){c("core-js/modules/es.array.concat"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.ends-with"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.ends-with"),c("core-js/modules/es.string.replace"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c},b="_Description",y="_fallbackDesc",S="_fallbackTable",A="_Label",C="_labelDesc",x="_labelTable";function E(k){if(k==="label"||k==="fallback")throw new Error("description should not be LABEL or FALLBACK");return k.endsWith(".")||k.endsWith(";")||k.endsWith(",")||k.endsWith("?")||k.endsWith("!")||(k+="."),k}g.default.prototype.describe=function(k,T){var I;g.default._validateParameters("describe",arguments),typeof k=="string"&&(I=this.canvas.id,k=E(k),this.dummyDOM||(this.dummyDOM=document.getElementById(I).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==k&&(this.descriptions.fallback.innerHTML=k):this._describeHTML("fallback",k),T===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==k&&(this.descriptions.label.innerHTML=k):this._describeHTML("label",k)))},g.default.prototype.describeElement=function(k,T,I){var M,j;g.default._validateParameters("describeElement",arguments),typeof T=="string"&&typeof k=="string"&&(M=this.canvas.id,T=E(T),j=function(P){if(P==="label"||P==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return P.endsWith(".")||P.endsWith(";")||P.endsWith(",")?P=P.replace(/.$/,":"):P.endsWith(":")||(P+=":"),P}(k),k=k.replace(/[^a-zA-Z0-9]/g,""),j='<th scope="row">'.concat(j,"</th><td>").concat(T,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(M).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[k]?this.descriptions.fallbackElements[k].innerHTML!==j&&(this.descriptions.fallbackElements[k].innerHTML=j):this._describeElementHTML("fallback",k,j),I===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[k]?this.descriptions.labelElements[k].innerHTML!==j&&(this.descriptions.labelElements[k].innerHTML=j):this._describeElementHTML("label",k,j)))},g.default.prototype._describeHTML=function(k,T){var I,M=this.canvas.id;k==="fallback"?(this.dummyDOM.querySelector("#".concat(M+b))?this.dummyDOM.querySelector("#"+M+S).insertAdjacentHTML("beforebegin",'<p id="'.concat(M+y,'"></p>')):(I='<div id="'.concat(M).concat(b,'" role="region" aria-label="Canvas Description"><p id="').concat(M).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(M,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(M,"accessibleOutput")).insertAdjacentHTML("beforebegin",I):this.dummyDOM.querySelector("#".concat(M)).innerHTML=I),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(M).concat(y)),this.descriptions.fallback.innerHTML=T):k==="label"&&(this.dummyDOM.querySelector("#".concat(M+A))?this.dummyDOM.querySelector("#".concat(M+x))&&this.dummyDOM.querySelector("#".concat(M+x)).insertAdjacentHTML("beforebegin",'<p id="'.concat(M).concat(C,'"></p>')):(I='<div id="'.concat(M).concat(A,'" class="p5Label"><p id="').concat(M).concat(C,'"></p></div>'),this.dummyDOM.querySelector("#".concat(M,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(M,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",I):this.dummyDOM.querySelector("#"+M).insertAdjacentHTML("afterend",I)),this.descriptions.label=this.dummyDOM.querySelector("#"+M+C),this.descriptions.label.innerHTML=T)},g.default.prototype._describeElementHTML=function(k,T,I){var M,j=this.canvas.id;k==="fallback"?(this.dummyDOM.querySelector("#".concat(j+b))?this.dummyDOM.querySelector("#"+j+S)||this.dummyDOM.querySelector("#"+j+y).insertAdjacentHTML("afterend",'<table id="'.concat(j).concat(S,'"><caption>Canvas elements and their descriptions</caption></table>')):(M='<div id="'.concat(j).concat(b,'" role="region" aria-label="Canvas Description"><table id="').concat(j).concat(S,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(j,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(j,"accessibleOutput")).insertAdjacentHTML("beforebegin",M):this.dummyDOM.querySelector("#"+j).innerHTML=M),(M=document.createElement("tr")).id=j+"_fte_"+T,this.dummyDOM.querySelector("#"+j+S).appendChild(M),this.descriptions.fallbackElements[T]=this.dummyDOM.querySelector("#".concat(j).concat("_fte_").concat(T)),this.descriptions.fallbackElements[T].innerHTML=I):k==="label"&&(this.dummyDOM.querySelector("#".concat(j+A))?this.dummyDOM.querySelector("#".concat(j+x))||this.dummyDOM.querySelector("#"+j+C).insertAdjacentHTML("afterend",'<table id="'.concat(j+x,'"></table>')):(M='<div id="'.concat(j).concat(A,'" class="p5Label"><table id="').concat(j).concat(x,'"></table></div>'),this.dummyDOM.querySelector("#".concat(j,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(j,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",M):this.dummyDOM.querySelector("#"+j).insertAdjacentHTML("afterend",M)),(k=document.createElement("tr")).id=j+"_lte_"+T,this.dummyDOM.querySelector("#"+j+x).appendChild(k),this.descriptions.labelElements[T]=this.dummyDOM.querySelector("#".concat(j).concat("_lte_").concat(T)),this.descriptions.labelElements[T].innerHTML=I)},c=g.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.replace":196}],256:[function(c,m,_){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.map"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.map"),c("core-js/modules/es.string.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype._updateGridOutput=function(g){var b,y,S,A;this.dummyDOM.querySelector("#".concat(g,"_summary"))&&(b=this._accessibleOutputs[g],S=function(C,x,E,k){return x="".concat(x," canvas, ").concat(E," by ").concat(k," pixels, contains ").concat(C[0]),x=(C[0]===1?"".concat(x," shape: "):"".concat(x," shapes: ")).concat(C[1]),x}((y=function(C,x){var E,k="",T="",I=0;for(E in x){var M,j=0;for(M in x[E]){var P='<li id="'.concat(C,"shape").concat(I,'">').concat(x[E][M].color," ").concat(E,",");E==="line"?P+=" location = ".concat(x[E][M].pos,", length = ").concat(x[E][M].length," pixels"):(P+=" location = ".concat(x[E][M].pos),E!=="point"&&(P+=", area = ".concat(x[E][M].area," %")),P+="</li>"),k+=P,j++,I++}T=1<j?"".concat(T," ").concat(j," ").concat(E,"s"):"".concat(T," ").concat(j," ").concat(E)}return{numShapes:[I,T],details:k}}(g,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),A=function(C,x){var E,k,T=0,I="",M=Array.from(Array(10),function(){return Array(10)});for(E in x)for(var j in x[E]){var P=void 0;P=E!=="line"?'<a href="#'.concat(C,"shape").concat(T,'">').concat(x[E][j].color," ").concat(E,"</a>"):'<a href="#'.concat(C,"shape").concat(T,'">').concat(x[E][j].color," ").concat(E," midpoint</a>"),M[x[E][j].loc.locY][x[E][j].loc.locX]?M[x[E][j].loc.locY][x[E][j].loc.locX]=M[x[E][j].loc.locY][x[E][j].loc.locX]+"  "+P:M[x[E][j].loc.locY][x[E][j].loc.locX]=P,T++}for(k in M){var O,N="<tr>";for(O in M[k])N+="<td>",M[k][O]!==void 0&&(N+=M[k][O]),N+="</td>";I=I+N+"</tr>"}return I}(g,this.ingredients.shapes),S!==b.summary.innerHTML&&(b.summary.innerHTML=S),A!==b.map.innerHTML&&(b.map.innerHTML=A),y.details!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=y.details),this._accessibleOutputs[g]=b)},c=c.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":158,"core-js/modules/es.array.map":164,"core-js/modules/es.string.iterator":192}],257:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.map"),c("core-js/modules/es.number.to-fixed"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};function b(S){return function(A){if(Array.isArray(A)){for(var C=0,x=new Array(A.length);C<A.length;C++)x[C]=A[C];return x}}(S)||function(A){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]")return Array.from(A)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(S,A,C){return A=Math.floor(S[0]/A*10),S=Math.floor(S[1]/C*10),A===10&&(A-=1),S===10&&(S-=1),{locX:A,locY:S}}g.default.prototype.textOutput=function(S){g.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),S===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},g.default.prototype.gridOutput=function(S){g.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),S===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},g.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},g.default.prototype._createOutput=function(S,A){var C,x,E,k=this.canvas.id,T=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(k).parentNode),"");A==="Fallback"?(C=k+S,this.dummyDOM.querySelector("#".concat(x=k+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(k,"_Description"))?this.dummyDOM.querySelector("#".concat(k,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(x,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(k)).innerHTML='<div id="'.concat(x,'" role="region" aria-label="Canvas Outputs"></div>'))):A==="Label"&&(C=k+S+(T=A),this.dummyDOM.querySelector("#".concat(x=k+"accessibleOutput"+A))||(this.dummyDOM.querySelector("#".concat(k,"_Label"))?this.dummyDOM.querySelector("#".concat(k,"_Label")):this.dummyDOM.querySelector("#".concat(k))).insertAdjacentHTML("afterend",'<div id="'.concat(x,'"></div>'))),this._accessibleOutputs[C]={},S==="textOutput"?(T="#".concat(k,"gridOutput").concat(T),E='<div id="'.concat(C,'">Text Output<div id="').concat(C,'Summary" aria-label="text output summary"><p id="').concat(C,'_summary"></p><ul id="').concat(C,'_list"></ul></div><table id="').concat(C,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(T)?this.dummyDOM.querySelector(T).insertAdjacentHTML("beforebegin",E):this.dummyDOM.querySelector("#".concat(x)).innerHTML=E,this._accessibleOutputs[C].list=this.dummyDOM.querySelector("#".concat(C,"_list"))):S==="gridOutput"&&(T="#".concat(k,"textOutput").concat(T),E='<div id="'.concat(C,'">Grid Output<p id="').concat(C,'_summary" aria-label="grid output summary"><table id="').concat(C,'_map" summary="grid output content"></table><ul id="').concat(C,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(T)?this.dummyDOM.querySelector(T).insertAdjacentHTML("afterend",E):this.dummyDOM.querySelector("#".concat(x)).innerHTML=E,this._accessibleOutputs[C].map=this.dummyDOM.querySelector("#".concat(C,"_map"))),this._accessibleOutputs[C].shapeDetails=this.dummyDOM.querySelector("#".concat(C,"_shapeDetails")),this._accessibleOutputs[C].summary=this.dummyDOM.querySelector("#".concat(C,"_summary"))},g.default.prototype._updateAccsOutput=function(){var S=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(S+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(S+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(S+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(S+"gridOutputLabel"))},g.default.prototype._accsBackground=function(S){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==S&&(this.ingredients.colors.backgroundRGBA=S,this.ingredients.colors.background=this._rgbColorName(S))},g.default.prototype._accsCanvasColors=function(S,A){S==="fill"?this.ingredients.colors.fillRGBA!==A&&(this.ingredients.colors.fillRGBA=A,this.ingredients.colors.fill=this._rgbColorName(A)):S==="stroke"&&this.ingredients.colors.strokeRGBA!==A&&(this.ingredients.colors.strokeRGBA=A,this.ingredients.colors.stroke=this._rgbColorName(A))},g.default.prototype._accsOutput=function(S,A){S==="ellipse"&&A[2]===A[3]?S="circle":S==="rectangle"&&A[2]===A[3]&&(S="square");var C,x,E={},k=!0,T=function(M,j){var P;return M=M==="rectangle"||M==="ellipse"||M==="arc"||M==="circle"||M==="square"?(P=Math.round(j[0]+j[2]/2),Math.round(j[1]+j[3]/2)):M==="triangle"?(P=(j[0]+j[2]+j[4])/3,(j[1]+j[3]+j[5])/3):M==="quadrilateral"?(P=(j[0]+j[2]+j[4]+j[6])/4,(j[1]+j[3]+j[5]+j[7])/4):M==="line"?(P=(j[0]+j[2])/2,(j[1]+j[3])/2):(P=j[0],j[1]),[P,M]}(S,A);if(S==="line"?(E.color=this.ingredients.colors.stroke,E.length=Math.round(this.dist(A[0],A[1],A[2],A[3])),C=this._getPos(A[0],[1]),x=this._getPos(A[2],[3]),E.loc=y(T,this.width,this.height),E.pos=C===x?"at ".concat(C):"from ".concat(C," to ").concat(x)):(S==="point"?E.color=this.ingredients.colors.stroke:(E.color=this.ingredients.colors.fill,E.area=this._getArea(S,A)),E.pos=this._getPos.apply(this,b(T)),E.loc=y(T,this.width,this.height)),this.ingredients.shapes[S]){if(this.ingredients.shapes[S]!==[E]){for(var I in this.ingredients.shapes[S])JSON.stringify(this.ingredients.shapes[S][I])===JSON.stringify(E)&&(k=!1);k===!0&&this.ingredients.shapes[S].push(E)}}else this.ingredients.shapes[S]=[E]},g.default.prototype._getPos=function(x,C){var x=new DOMPointReadOnly(x,C),C=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),x=x.matrixTransform(C),C=x.x,x=x.y,E=this.width,k=this.height;return C<.4*E?x<.4*k?"top left":.6*k<x?"bottom left":"mid left":.6*E<C?x<.4*k?"top right":.6*k<x?"bottom right":"mid right":x<.4*k?"top middle":.6*k<x?"bottom middle":"middle"},g.default.prototype._getArea=function(S,A){var C,x,E=0,k=(S==="arc"?(E=(C=((A[5]-A[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*A[2]*A[3]/8,A[6]!=="open"&&A[6]!=="chord"||(x=A[0],j=A[1],k=A[0]+A[2]/2*Math.cos(A[4]).toFixed(2),P=A[1]+A[3]/2*Math.sin(A[4]).toFixed(2),I=A[0]+A[2]/2*Math.cos(A[5]).toFixed(2),T=A[1]+A[3]/2*Math.sin(A[5]).toFixed(2),x=Math.abs(x*(P-T)+k*(T-j)+I*(j-P))/2,C>Math.PI?E+=x:E-=x)):S==="ellipse"||S==="circle"?E=3.14*A[2]/2*A[3]/2:S==="line"||S==="point"?E=0:S==="quadrilateral"?E=Math.abs((A[6]+A[0])*(A[7]-A[1])+(A[0]+A[2])*(A[1]-A[3])+(A[2]+A[4])*(A[3]-A[5])+(A[4]+A[6])*(A[5]-A[7]))/2:S==="rectangle"||S==="square"?E=A[2]*A[3]:S==="triangle"&&(E=Math.abs(A[0]*(A[3]-A[5])+A[2]*(A[5]-A[1])+A[4]*(A[1]-A[3]))/2),this.width*this._pixelDensity),T=this.height*this._pixelDensity,I=[new DOMPoint(0,0),new DOMPoint(k,0),new DOMPoint(k,T),new DOMPoint(0,T)],M=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),j=I.map(function(O){return O.matrixTransform(M)}),P=Math.abs((j[3].x+j[0].x)*(j[3].y-j[0].y)+(j[0].x+j[1].x)*(j[0].y-j[1].y)+(j[1].x+j[2].x)*(j[1].y-j[2].y)+(j[2].x+j[3].x)*(j[2].y-j[3].y))/2;return Math.round(100*E/P)},c=g.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],258:[function(c,m,_){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.concat"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype._updateTextOutput=function(g){var b,y,S,A;this.dummyDOM.querySelector("#".concat(g,"_summary"))&&(b=this._accessibleOutputs[g],S=function(C,x,E,k){return E="Your output is a, ".concat(E," by ").concat(k," pixels, ").concat(x," canvas containing the following"),E=C===1?"".concat(E," shape:"):"".concat(E," ").concat(C," shapes:"),E}((y=function(C,x){var E,k="",T=0;for(E in x)for(var I in x[E]){var M='<li><a href="#'.concat(C,"shape").concat(T,'">').concat(x[E][I].color," ").concat(E,"</a>");E==="line"?M+=", ".concat(x[E][I].pos,", ").concat(x[E][I].length," pixels long.</li>"):(M+=", at ".concat(x[E][I].pos),E!=="point"&&(M+=", covering ".concat(x[E][I].area,"% of the canvas")),M+=".</li>"),k+=M,T++}return{numShapes:T,listShapes:k}}(g,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),A=function(C,x){var E,k="",T=0;for(E in x)for(var I in x[E]){var M='<tr id="'.concat(C,"shape").concat(T,'"><th>').concat(x[E][I].color," ").concat(E,"</th>");E==="line"?M+="<td>location = ".concat(x[E][I].pos,"</td><td>length = ").concat(x[E][I].length," pixels</td></tr>"):(M+="<td>location = ".concat(x[E][I].pos,"</td>"),E!=="point"&&(M+="<td> area = ".concat(x[E][I].area,"%</td>")),M+="</tr>"),k+=M,T++}return k}(g,this.ingredients.shapes),S!==b.summary.innerHTML&&(b.summary.innerHTML=S),y.listShapes!==b.list.innerHTML&&(b.list.innerHTML=y.listShapes),A!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=A),this._accessibleOutputs[g]=b)},c=c.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151}],259:[function(c,m,_){var g=(g=c("./core/main"))&&g.__esModule?g:{default:g};c("./core/constants"),c("./core/environment"),c("./core/friendly_errors/stacktrace"),c("./core/friendly_errors/validate_params"),c("./core/friendly_errors/file_errors"),c("./core/friendly_errors/fes_core"),c("./core/friendly_errors/sketch_reader"),c("./core/helpers"),c("./core/legacy"),c("./core/preload"),c("./core/p5.Element"),c("./core/p5.Graphics"),c("./core/p5.Renderer"),c("./core/p5.Renderer2D"),c("./core/rendering"),c("./core/shim"),c("./core/structure"),c("./core/transform"),c("./core/shape/2d_primitives"),c("./core/shape/attributes"),c("./core/shape/curves"),c("./core/shape/vertex"),c("./accessibility/outputs"),c("./accessibility/textOutput"),c("./accessibility/gridOutput"),c("./accessibility/color_namer"),c("./color/color_conversion"),c("./color/creating_reading"),c("./color/p5.Color"),c("./color/setting"),c("./data/p5.TypedDict"),c("./data/local_storage.js"),c("./dom/dom"),c("./accessibility/describe"),c("./events/acceleration"),c("./events/keyboard"),c("./events/mouse"),c("./events/touch"),c("./image/filters"),c("./image/image"),c("./image/loading_displaying"),c("./image/p5.Image"),c("./image/pixels"),c("./io/files"),c("./io/p5.Table"),c("./io/p5.TableRow"),c("./io/p5.XML"),c("./math/calculation"),c("./math/math"),c("./math/noise"),c("./math/p5.Vector"),c("./math/random"),c("./math/trigonometry"),c("./typography/attributes"),c("./typography/loading_displaying"),c("./typography/p5.Font"),c("./utilities/array_functions"),c("./utilities/conversion"),c("./utilities/string_functions"),c("./utilities/time_date"),c("./webgl/3d_primitives"),c("./webgl/interaction"),c("./webgl/light"),c("./webgl/loading"),c("./webgl/material"),c("./webgl/p5.Camera"),c("./webgl/p5.DataArray"),c("./webgl/p5.Geometry"),c("./webgl/p5.Matrix"),c("./webgl/p5.RendererGL.Immediate"),c("./webgl/p5.RendererGL"),c("./webgl/p5.RendererGL.Retained"),c("./webgl/p5.Framebuffer"),c("./webgl/p5.Shader"),c("./webgl/p5.RenderBuffer"),c("./webgl/p5.Texture"),c("./webgl/text"),c("./core/init"),m.exports=g.default},{"./accessibility/color_namer":254,"./accessibility/describe":255,"./accessibility/gridOutput":256,"./accessibility/outputs":257,"./accessibility/textOutput":258,"./color/color_conversion":260,"./color/creating_reading":261,"./color/p5.Color":262,"./color/setting":263,"./core/constants":264,"./core/environment":265,"./core/friendly_errors/fes_core":266,"./core/friendly_errors/file_errors":267,"./core/friendly_errors/sketch_reader":268,"./core/friendly_errors/stacktrace":269,"./core/friendly_errors/validate_params":270,"./core/helpers":271,"./core/init":272,"./core/legacy":274,"./core/main":275,"./core/p5.Element":276,"./core/p5.Graphics":277,"./core/p5.Renderer":278,"./core/p5.Renderer2D":279,"./core/preload":280,"./core/rendering":281,"./core/shape/2d_primitives":282,"./core/shape/attributes":283,"./core/shape/curves":284,"./core/shape/vertex":285,"./core/shim":286,"./core/structure":287,"./core/transform":288,"./data/local_storage.js":289,"./data/p5.TypedDict":290,"./dom/dom":291,"./events/acceleration":292,"./events/keyboard":293,"./events/mouse":294,"./events/touch":295,"./image/filters":296,"./image/image":297,"./image/loading_displaying":298,"./image/p5.Image":299,"./image/pixels":300,"./io/files":301,"./io/p5.Table":302,"./io/p5.TableRow":303,"./io/p5.XML":304,"./math/calculation":305,"./math/math":306,"./math/noise":307,"./math/p5.Vector":308,"./math/random":309,"./math/trigonometry":310,"./typography/attributes":311,"./typography/loading_displaying":312,"./typography/p5.Font":313,"./utilities/array_functions":314,"./utilities/conversion":315,"./utilities/string_functions":316,"./utilities/time_date":317,"./webgl/3d_primitives":318,"./webgl/interaction":320,"./webgl/light":321,"./webgl/loading":322,"./webgl/material":323,"./webgl/p5.Camera":324,"./webgl/p5.DataArray":325,"./webgl/p5.Framebuffer":326,"./webgl/p5.Geometry":327,"./webgl/p5.Matrix":328,"./webgl/p5.RenderBuffer":329,"./webgl/p5.RendererGL":332,"./webgl/p5.RendererGL.Immediate":330,"./webgl/p5.RendererGL.Retained":331,"./webgl/p5.Shader":333,"./webgl/p5.Texture":334,"./webgl/text":335}],260:[function(c,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.ColorConversion={_hsbaToHSLA:function(g){var b=g[0],y=g[1],S=g[2],A=(2-y)*S/2;return A!=0&&(A==1?y=0:A<.5?y/=2-y:y=y*S/(2-2*A)),[b,y,A,g[3]]},_hsbaToRGBA:function(g){var b,y,S,A,C,x=6*g[0],E=g[1],k=g[2];return E===0?[k,k,k,g[3]]:(y=k*(1-E),S=k*(1-E*(x-(b=Math.floor(x)))),E=k*(1-E*(1+b-x)),x=b===1?(A=S,C=k,y):b===2?(A=y,C=k,E):b===3?(A=y,C=S,k):b===4?(A=E,C=y,k):b===5?(A=k,C=y,S):(A=k,C=E,y),[A,C,x,g[3]])},_hslaToHSBA:function(g){var b=g[0],y=g[1],S=g[2],A=S<.5?(1+y)*S:S+y-S*y;return[b,y=2*(A-S)/A,A,g[3]]},_hslaToRGBA:function(g){var b,y=6*g[0],S=g[1],A=g[2];return S===0?[A,A,A,g[3]]:[(b=function(C,x,E){return C<0?C+=6:6<=C&&(C-=6),C<1?x+(E-x)*C:C<3?E:C<4?x+(E-x)*(4-C):x})(2+y,S=2*A-(A=A<.5?(1+S)*A:A+S-A*S),A),b(y,S,A),b(y-2,S,A),g[3]]},_rgbaToHSBA:function(g){var b,y,S=g[0],A=g[1],C=g[2],x=Math.max(S,A,C),E=x-Math.min(S,A,C);return E==0?y=b=0:(y=E/x,S===x?b=(A-C)/E:A===x?b=2+(C-S)/E:C===x&&(b=4+(S-A)/E),b<0?b+=6:6<=b&&(b-=6)),[b/6,y,x,g[3]]},_rgbaToHSLA:function(g){var b,y,S=g[0],A=g[1],C=g[2],x=Math.max(S,A,C),k=Math.min(S,A,C),E=x+k,k=x-k;return k==0?y=b=0:(y=E<1?k/E:k/(2-E),S===x?b=(A-C)/k:A===x?b=2+(C-S)/k:C===x&&(b=4+(S-A)/k),b<0?b+=6:6<=b&&(b-=6)),[b/6,y,E/2,g[3]]}},c=c.default.ColorConversion,_.default=c},{"../core/main":275}],261:[function(c,m,_){function g(x){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function b(x){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(E){return g(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":g(E)})(x)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.map"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(C=c("../core/main"))&&C.__esModule?C:{default:C},S=function(x){if(x&&x.__esModule)return x;if(x===null||b(x)!=="object"&&typeof x!="function")return{default:x};var E=A();if(E&&E.has(x))return E.get(x);var k,T={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in x){var M;Object.prototype.hasOwnProperty.call(x,k)&&((M=I?Object.getOwnPropertyDescriptor(x,k):null)&&(M.get||M.set)?Object.defineProperty(T,k,M):T[k]=x[k])}return T.default=x,E&&E.set(x,T),T}(c("../core/constants"));function A(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,A=function(){return x},x)}c("./p5.Color"),c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),y.default.prototype.alpha=function(x){return y.default._validateParameters("alpha",arguments),this.color(x)._getAlpha()},y.default.prototype.blue=function(x){return y.default._validateParameters("blue",arguments),this.color(x)._getBlue()},y.default.prototype.brightness=function(x){return y.default._validateParameters("brightness",arguments),this.color(x)._getBrightness()},y.default.prototype.color=function(){var x;return y.default._validateParameters("color",arguments),arguments[0]instanceof y.default.Color?arguments[0]:(x=arguments[0]instanceof Array?arguments[0]:arguments,new y.default.Color(this,x))},y.default.prototype.green=function(x){return y.default._validateParameters("green",arguments),this.color(x)._getGreen()},y.default.prototype.hue=function(x){return y.default._validateParameters("hue",arguments),this.color(x)._getHue()},y.default.prototype.lerpColor=function(x,E,k){y.default._validateParameters("lerpColor",arguments);var T,I,M,j=this._colorMode,P=this._colorMaxes;if(j===S.RGB)I=x.levels.map(function(O){return O/255}),M=E.levels.map(function(O){return O/255});else if(j===S.HSB)x._getBrightness(),E._getBrightness(),I=x.hsba,M=E.hsba;else{if(j!==S.HSL)throw new Error("".concat(j,"cannot be used for interpolation."));x._getLightness(),E._getLightness(),I=x.hsla,M=E.hsla}return k=Math.max(Math.min(k,1),0),this.lerp===void 0&&(this.lerp=function(O,N,D){return D*(N-O)+O}),x=this.lerp(I[0],M[0],k),E=this.lerp(I[1],M[1],k),T=this.lerp(I[2],M[2],k),I=this.lerp(I[3],M[3],k),x*=P[j][0],E*=P[j][1],T*=P[j][2],I*=P[j][3],this.color(x,E,T,I)},y.default.prototype.lightness=function(x){return y.default._validateParameters("lightness",arguments),this.color(x)._getLightness()},y.default.prototype.red=function(x){return y.default._validateParameters("red",arguments),this.color(x)._getRed()},y.default.prototype.saturation=function(x){return y.default._validateParameters("saturation",arguments),this.color(x)._getSaturation()};var C=y.default;_.default=C},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],262:[function(T,m,_){function g(O){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(O)}function b(O){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(N){return g(N)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":g(N)})(O)}T("core-js/modules/es.symbol"),T("core-js/modules/es.symbol.description"),T("core-js/modules/es.symbol.iterator"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.iterator"),T("core-js/modules/es.array.join"),T("core-js/modules/es.array.map"),T("core-js/modules/es.array.slice"),T("core-js/modules/es.object.get-own-property-descriptor"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.regexp.constructor"),T("core-js/modules/es.regexp.exec"),T("core-js/modules/es.regexp.to-string"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.string.iterator"),T("core-js/modules/es.string.trim"),T("core-js/modules/es.weak-map"),T("core-js/modules/web.dom-collections.iterator"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.join"),T("core-js/modules/es.array.map"),T("core-js/modules/es.array.slice"),T("core-js/modules/es.object.to-string"),T("core-js/modules/es.regexp.constructor"),T("core-js/modules/es.regexp.exec"),T("core-js/modules/es.regexp.to-string"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.string.trim"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=x(T("../core/main")),S=function(O){if(O&&O.__esModule)return O;if(O===null||b(O)!=="object"&&typeof O!="function")return{default:O};var N=C();if(N&&N.has(O))return N.get(O);var D,L={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in O){var G;Object.prototype.hasOwnProperty.call(O,D)&&((G=R?Object.getOwnPropertyDescriptor(O,D):null)&&(G.get||G.set)?Object.defineProperty(L,D,G):L[D]=O[D])}return L.default=O,N&&N.set(O,L),L}(T("../core/constants")),A=x(T("./color_conversion"));function C(){var O;return typeof WeakMap!="function"?null:(O=new WeakMap,C=function(){return O},O)}function x(O){return O&&O.__esModule?O:{default:O}}function E(O,N){for(var D=0;D<N.length;D++){var L=N[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,L.key,L)}}var k={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},T=/\s*/,P=/(\d{1,3})/,I=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,M=new RegExp("".concat(I.source,"%")),j={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",P.source,",",P.source,",",P.source,"\\)$"].join(T.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",M.source,",",M.source,",",M.source,"\\)$"].join(T.source),"i"),RGBA:new RegExp(["^rgba\\(",P.source,",",P.source,",",P.source,",",I.source,"\\)$"].join(T.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",M.source,",",M.source,",",M.source,",",I.source,"\\)$"].join(T.source),"i"),HSL:new RegExp(["^hsl\\(",P.source,",",M.source,",",M.source,"\\)$"].join(T.source),"i"),HSLA:new RegExp(["^hsla\\(",P.source,",",M.source,",",M.source,",",I.source,"\\)$"].join(T.source),"i"),HSB:new RegExp(["^hsb\\(",P.source,",",M.source,",",M.source,"\\)$"].join(T.source),"i"),HSBA:new RegExp(["^hsba\\(",P.source,",",M.source,",",M.source,",",I.source,"\\)$"].join(T.source),"i")},P=(y.default.Color=function(){function O(R,G){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(R._colorMode,R._colorMaxes),![S.RGB,S.HSL,S.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=O._parseInputs.apply(this,G),this._calculateLevels()}var N,D,L;return N=O,L=[{key:"_parseInputs",value:function(R,G,Z,B){var J,K=arguments.length,ee=this.mode,V=this.maxes[ee],z=[];if(3<=K){for(z[0]=R/V[0],z[1]=G/V[1],z[2]=Z/V[2],z[3]=typeof B=="number"?B/V[3]:1,J=z.length-1;0<=J;--J){var X=z[J];X<0?z[J]=0:1<X&&(z[J]=1)}return ee===S.HSL?A.default._hslaToRGBA(z):ee===S.HSB?A.default._hsbaToRGBA(z):z}if(K===1&&typeof R=="string"){if(Z=R.trim().toLowerCase(),k[Z])return O._parseInputs.call(this,k[Z]);if(j.HEX3.test(Z))return(z=j.HEX3.exec(Z).slice(1).map(function(U){return parseInt(U+U,16)/255}))[3]=1,z;if(j.HEX6.test(Z))return(z=j.HEX6.exec(Z).slice(1).map(function(U){return parseInt(U,16)/255}))[3]=1,z;if(j.HEX4.test(Z))return z=j.HEX4.exec(Z).slice(1).map(function(U){return parseInt(U+U,16)/255});if(j.HEX8.test(Z))return z=j.HEX8.exec(Z).slice(1).map(function(U){return parseInt(U,16)/255});if(j.RGB.test(Z))return(z=j.RGB.exec(Z).slice(1).map(function(U){return U/255}))[3]=1,z;if(j.RGB_PERCENT.test(Z))return(z=j.RGB_PERCENT.exec(Z).slice(1).map(function(U){return parseFloat(U)/100}))[3]=1,z;if(j.RGBA.test(Z))return z=j.RGBA.exec(Z).slice(1).map(function(U,$){return $===3?parseFloat(U):U/255});if(j.RGBA_PERCENT.test(Z))return z=j.RGBA_PERCENT.exec(Z).slice(1).map(function(U,$){return $===3?parseFloat(U):parseFloat(U)/100});if(j.HSL.test(Z)?(z=j.HSL.exec(Z).slice(1).map(function(U,$){return $===0?parseInt(U,10)/360:parseInt(U,10)/100}))[3]=1:j.HSLA.test(Z)&&(z=j.HSLA.exec(Z).slice(1).map(function(U,$){return $===0?parseInt(U,10)/360:$===3?parseFloat(U):parseInt(U,10)/100})),(z=z.map(function(U){return Math.max(Math.min(U,1),0)})).length)return A.default._hslaToRGBA(z);if(j.HSB.test(Z)?(z=j.HSB.exec(Z).slice(1).map(function(U,$){return $===0?parseInt(U,10)/360:parseInt(U,10)/100}))[3]=1:j.HSBA.test(Z)&&(z=j.HSBA.exec(Z).slice(1).map(function(U,$){return $===0?parseInt(U,10)/360:$===3?parseFloat(U):parseInt(U,10)/100})),z.length){for(J=z.length-1;0<=J;--J)z[J]=Math.max(Math.min(z[J],1),0);return A.default._hsbaToRGBA(z)}z=[1,1,1,1]}else{if(K!==1&&K!==2||typeof R!="number")throw new Error("".concat(arguments,"is not a valid color representation."));z[0]=R/V[2],z[1]=R/V[2],z[2]=R/V[2],z[3]=typeof G=="number"?G/V[3]:1,z=z.map(function(U){return Math.max(Math.min(U,1),0)})}return z}}],(D=[{key:"toString",value:function(R){var G=this.levels,Z=this._array,B=Z[3];switch(R){case"#rrggbb":return"#".concat(G[0]<16?"0".concat(G[0].toString(16)):G[0].toString(16),G[1]<16?"0".concat(G[1].toString(16)):G[1].toString(16),G[2]<16?"0".concat(G[2].toString(16)):G[2].toString(16));case"#rrggbbaa":return"#".concat(G[0]<16?"0".concat(G[0].toString(16)):G[0].toString(16),G[1]<16?"0".concat(G[1].toString(16)):G[1].toString(16),G[2]<16?"0".concat(G[2].toString(16)):G[2].toString(16),G[3]<16?"0".concat(G[3].toString(16)):G[3].toString(16));case"#rgb":return"#".concat(Math.round(15*Z[0]).toString(16),Math.round(15*Z[1]).toString(16),Math.round(15*Z[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*Z[0]).toString(16),Math.round(15*Z[1]).toString(16),Math.round(15*Z[2]).toString(16),Math.round(15*Z[3]).toString(16));case"rgb":return"rgb(".concat(G[0],", ",G[1],", ",G[2],")");case"rgb%":return"rgb(".concat((100*Z[0]).toPrecision(3),"%, ",(100*Z[1]).toPrecision(3),"%, ",(100*Z[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*Z[0]).toPrecision(3),"%, ",(100*Z[1]).toPrecision(3),"%, ",(100*Z[2]).toPrecision(3),"%, ",(100*Z[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[S.HSB][0],", ",this.hsba[1]*this.maxes[S.HSB][1],", ",this.hsba[2]*this.maxes[S.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[S.HSB][0],", ",this.hsba[1]*this.maxes[S.HSB][1],", ",this.hsba[2]*this.maxes[S.HSB][2],", ",B,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*B).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[S.HSL][0],", ",this.hsla[1]*this.maxes[S.HSL][1],", ",this.hsla[2]*this.maxes[S.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[S.HSL][0],", ",this.hsla[1]*this.maxes[S.HSL][1],", ",this.hsla[2]*this.maxes[S.HSL][2],", ",B,")");case"hsla%":return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*B).toPrecision(3),"%)");default:return"rgba(".concat(G[0],",",G[1],",",G[2],",",B,")")}}},{key:"setRed",value:function(R){this._array[0]=R/this.maxes[S.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(R){this._array[1]=R/this.maxes[S.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(R){this._array[2]=R/this.maxes[S.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(R){this._array[3]=R/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var R=this._array,G=this.levels=new Array(R.length),Z=R.length-1;0<=Z;--Z)G[Z]=Math.round(255*R[Z]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(R,G){this.mode=R,this.maxes=G}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[S.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[S.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[S.RGB][1]}},{key:"_getHue",value:function(){return this.mode===S.HSB?(this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[S.HSB][0]):(this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[S.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[S.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[S.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===S.HSB?(this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[S.HSB][1]):(this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[S.HSL][1])}}])&&E(N.prototype,D),L&&E(N,L),O}(),y.default.Color);_.default=P},{"../core/constants":264,"../core/main":275,"./color_conversion":260,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],263:[function(c,m,_){function g(x){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function b(x){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(E){return g(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":g(E)})(x)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.fill"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(C=c("../core/main"))&&C.__esModule?C:{default:C},S=function(x){if(x&&x.__esModule)return x;if(x===null||b(x)!=="object"&&typeof x!="function")return{default:x};var E=A();if(E&&E.has(x))return E.get(x);var k,T={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in x){var M;Object.prototype.hasOwnProperty.call(x,k)&&((M=I?Object.getOwnPropertyDescriptor(x,k):null)&&(M.get||M.set)?Object.defineProperty(T,k,M):T[k]=x[k])}return T.default=x,E&&E.set(x,T),T}(c("../core/constants"));function A(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,A=function(){return x},x)}c("./p5.Color"),y.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},y.default.prototype.endClip=function(){this._renderer.endClip()},y.default.prototype.clip=function(x,E){this._renderer.beginClip(E),x(),this._renderer.endClip(E)},y.default.prototype.background=function(){var x;return(x=this._renderer).background.apply(x,arguments),this},y.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},y.default.prototype.colorMode=function(x,E,k,T,I){return y.default._validateParameters("colorMode",arguments),x!==S.RGB&&x!==S.HSB&&x!==S.HSL||(this._colorMode=x,x=this._colorMaxes[x],arguments.length===2?(x[0]=E,x[1]=E,x[2]=E,x[3]=E):arguments.length===4?(x[0]=E,x[1]=k,x[2]=T):arguments.length===5&&(x[0]=E,x[1]=k,x[2]=T,x[3]=I)),this},y.default.prototype.fill=function(){var x;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(x=this._renderer).fill.apply(x,arguments),this},y.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},y.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},y.default.prototype.stroke=function(){var x;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(x=this._renderer).stroke.apply(x,arguments),this},y.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},y.default.prototype.noErase=function(){return this._renderer.noErase(),this};var C=y.default;_.default=C},{"../core/constants":264,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],264:[function(c,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.QUADRATIC=_.LINEAR=_._CTX_MIDDLE=_._DEFAULT_LEADMULT=_._DEFAULT_TEXT_FILL=_.WORD=_.CHAR=_.BOLDITALIC=_.BOLD=_.ITALIC=_.NORMAL=_.BLUR=_.ERODE=_.DILATE=_.POSTERIZE=_.INVERT=_.OPAQUE=_.GRAY=_.THRESHOLD=_.BURN=_.DODGE=_.SOFT_LIGHT=_.HARD_LIGHT=_.OVERLAY=_.REPLACE=_.SCREEN=_.MULTIPLY=_.EXCLUSION=_.SUBTRACT=_.DIFFERENCE=_.LIGHTEST=_.DARKEST=_.ADD=_.REMOVE=_.BLEND=_.UP_ARROW=_.TAB=_.SHIFT=_.RIGHT_ARROW=_.RETURN=_.OPTION=_.LEFT_ARROW=_.ESCAPE=_.ENTER=_.DOWN_ARROW=_.DELETE=_.CONTROL=_.BACKSPACE=_.ALT=_.AUTO=_.HSL=_.HSB=_.RGB=_.MITER=_.BEVEL=_.ROUND=_.SQUARE=_.PROJECT=_.PIE=_.CHORD=_.OPEN=_.CLOSE=_.TESS=_.QUAD_STRIP=_.QUADS=_.TRIANGLE_STRIP=_.TRIANGLE_FAN=_.TRIANGLES=_.LINE_LOOP=_.LINE_STRIP=_.LINES=_.POINTS=_.BASELINE=_.BOTTOM=_.TOP=_.CENTER=_.LEFT=_.RIGHT=_.RADIUS=_.CORNERS=_.CORNER=_.RAD_TO_DEG=_.DEG_TO_RAD=_.RADIANS=_.DEGREES=_.TWO_PI=_.TAU=_.QUARTER_PI=_.PI=_.HALF_PI=_.WAIT=_.TEXT=_.MOVE=_.HAND=_.CROSS=_.ARROW=_.WEBGL2=_.WEBGL=_.P2D=_.VERSION=void 0,_.RGBA=_.HALF_FLOAT=_.FLOAT=_.UNSIGNED_INT=_.UNSIGNED_BYTE=_.COVER=_.CONTAIN=_.FALLBACK=_.LABEL=_.AXES=_.GRID=_._DEFAULT_FILL=_._DEFAULT_STROKE=_.PORTRAIT=_.LANDSCAPE=_.MIRROR=_.CLAMP=_.REPEAT=_.NEAREST=_.IMAGE=_.IMMEDIATE=_.TEXTURE=_.FILL=_.STROKE=_.CURVE=_.BEZIER=void 0;var g=Math.PI,b=(_.VERSION="1.8.0",_.P2D="p2d",_.WEBGL="webgl",_.WEBGL2="webgl2",_.ARROW="default",_.CROSS="crosshair",_.HAND="pointer",_.MOVE="move",_.TEXT="text",_.WAIT="wait",g/2),b=(_.HALF_PI=b,g),b=(_.PI=b,g/4),b=(_.QUARTER_PI=b,2*g),b=(_.TAU=b,2*g),b=(_.TWO_PI=b,_.DEGREES="degrees",_.RADIANS="radians",g/180),b=(_.DEG_TO_RAD=b,180/g);_.RAD_TO_DEG=b,_.CORNER="corner",_.CORNERS="corners",_.RADIUS="radius",_.RIGHT="right",_.LEFT="left",_.CENTER="center",_.TOP="top",_.BOTTOM="bottom",_.BASELINE="alphabetic",_.POINTS=0,_.LINES=1,_.LINE_STRIP=3,_.LINE_LOOP=2,_.TRIANGLES=4,_.TRIANGLE_FAN=6,_.TRIANGLE_STRIP=5,_.QUADS="quads",_.QUAD_STRIP="quad_strip",_.TESS="tess",_.CLOSE="close",_.OPEN="open",_.CHORD="chord",_.PIE="pie",_.PROJECT="square",_.SQUARE="butt",_.ROUND="round",_.BEVEL="bevel",_.MITER="miter",_.RGB="rgb",_.HSB="hsb",_.HSL="hsl",_.AUTO="auto",_.ALT=18,_.BACKSPACE=8,_.CONTROL=17,_.DELETE=46,_.DOWN_ARROW=40,_.ENTER=13,_.ESCAPE=27,_.LEFT_ARROW=37,_.OPTION=18,_.RETURN=13,_.RIGHT_ARROW=39,_.SHIFT=16,_.TAB=9,_.UP_ARROW=38,_.BLEND="source-over",_.REMOVE="destination-out",_.ADD="lighter",_.DARKEST="darken",_.LIGHTEST="lighten",_.DIFFERENCE="difference",_.SUBTRACT="subtract",_.EXCLUSION="exclusion",_.MULTIPLY="multiply",_.SCREEN="screen",_.REPLACE="copy",_.OVERLAY="overlay",_.HARD_LIGHT="hard-light",_.SOFT_LIGHT="soft-light",_.DODGE="color-dodge",_.BURN="color-burn",_.THRESHOLD="threshold",_.GRAY="gray",_.OPAQUE="opaque",_.INVERT="invert",_.POSTERIZE="posterize",_.DILATE="dilate",_.ERODE="erode",_.BLUR="blur",_.NORMAL="normal",_.ITALIC="italic",_.BOLD="bold",_.BOLDITALIC="bold italic",_.CHAR="CHAR",_.WORD="WORD",_._DEFAULT_TEXT_FILL="#000000",_._DEFAULT_LEADMULT=1.25,_._CTX_MIDDLE="middle",_.LINEAR="linear",_.QUADRATIC="quadratic",_.BEZIER="bezier",_.CURVE="curve",_.STROKE="stroke",_.FILL="fill",_.TEXTURE="texture",_.IMMEDIATE="immediate",_.IMAGE="image",_.NEAREST="nearest",_.REPEAT="repeat",_.CLAMP="clamp",_.MIRROR="mirror",_.LANDSCAPE="landscape",_.PORTRAIT="portrait",_._DEFAULT_STROKE="#000000",_._DEFAULT_FILL="#FFFFFF",_.GRID="grid",_.AXES="axes",_.LABEL="label",_.FALLBACK="fallback",_.CONTAIN="contain",_.COVER="cover",_.UNSIGNED_BYTE="unsigned-byte",_.UNSIGNED_INT="unsigned-int",_.FLOAT="float",_.HALF_FLOAT="half-float",_.RGBA="rgba"},{}],265:[function(c,m,_){function g(I){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(I)}function b(I){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(M){return g(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":g(M)})(I)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.search"),c("core-js/modules/es.string.split"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.search"),c("core-js/modules/es.string.split"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(S=c("./main"))&&S.__esModule?S:{default:S},S=function(I){if(I&&I.__esModule)return I;if(I===null||b(I)!=="object"&&typeof I!="function")return{default:I};var M=A();if(M&&M.has(I))return M.get(I);var j,P={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(j in I){var N;Object.prototype.hasOwnProperty.call(I,j)&&((N=O?Object.getOwnPropertyDescriptor(I,j):null)&&(N.get||N.set)?Object.defineProperty(P,j,N):P[j]=I[j])}return P.default=I,M&&M.set(I,P),P}(c("./constants"));function A(){var I;return typeof WeakMap!="function"?null:(I=new WeakMap,A=function(){return I},I)}var C=[S.ARROW,S.CROSS,S.HAND,S.MOVE,S.TEXT,S.WAIT],x=(y.default.prototype._frameRate=0,y.default.prototype._lastFrameTime=window.performance.now(),y.default.prototype._targetFrameRate=60,window.print),E=!1;function k(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function T(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}y.default.prototype.print=function(){var I;arguments.length?(I=console).log.apply(I,arguments):E||(x(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(E=!0))},y.default.prototype.frameCount=0,y.default.prototype.deltaTime=0,y.default.prototype.focused=document.hasFocus(),y.default.prototype.cursor=function(I,M,j){var P,O="auto",N=this._curElement.elt;C.includes(I)?O=I:typeof I=="string"&&(P="",M&&j&&typeof M=="number"&&typeof j=="number"&&(P="".concat(M," ").concat(j)),O=I.substring(0,7)==="http://"||I.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(I)?"url(".concat(I,") ").concat(P,", auto"):I),N.style.cursor=O},y.default.prototype.frameRate=function(I){return y.default._validateParameters("frameRate",arguments),typeof I!="number"||I<0?this._frameRate:(this._setProperty("_targetFrameRate",I),I===0&&this._setProperty("_frameRate",I),this)},y.default.prototype.getFrameRate=function(){return this.frameRate()},y.default.prototype.setFrameRate=function(I){return this.frameRate(I)},y.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},y.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},y.default.prototype.webglVersion=S.P2D,y.default.prototype.displayWidth=screen.width,y.default.prototype.displayHeight=screen.height,y.default.prototype.windowWidth=k(),y.default.prototype.windowHeight=T(),y.default.prototype._onresize=function(I){this._setProperty("windowWidth",k()),this._setProperty("windowHeight",T());var M=this._isGlobal?window:this;typeof M.windowResized!="function"||(M=M.windowResized(I))===void 0||M||I.preventDefault()},y.default.prototype.width=0,y.default.prototype.height=0,y.default.prototype.fullscreen=function(I){if(y.default._validateParameters("fullscreen",arguments),I===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(I){if(I=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");I.requestFullscreen?I.requestFullscreen():I.mozRequestFullScreen?I.mozRequestFullScreen():I.webkitRequestFullscreen?I.webkitRequestFullscreen():I.msRequestFullscreen&&I.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},y.default.prototype.pixelDensity=function(I){var M;return y.default._validateParameters("pixelDensity",arguments),typeof I=="number"?(I!==this._pixelDensity&&(this._pixelDensity=I),(M=this).resizeCanvas(this.width,this.height,!0)):M=this._pixelDensity,M},y.default.prototype.displayDensity=function(){return window.devicePixelRatio},y.default.prototype.getURL=function(){return location.href},y.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(I){return I!==""})},y.default.prototype.getURLParams=function(){for(var I,M=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,j={};(I=M.exec(location.search))!=null;)I.index===M.lastIndex&&M.lastIndex++,j[I[1]]=I[2];return j},c=y.default,_.default=c},{"./constants":264,"./main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.search":197,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],266:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-own-property-names"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.starts-with"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-own-property-names"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.starts-with"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(C=c("../main"))&&C.__esModule?C:{default:C};c("../internationalization");function b(x,E){E=E||console.log.bind(console),y||A(),y.some(function(k){var T;if(x.message&&x.message.match("\\W?".concat(k.name,"\\W"))!==null)return T=k.type==="function"?"".concat(k.name,"()"):k.name,E("Did you just try to use p5.js's ".concat(T," ").concat(k.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(S)),!0})}var y=null,A=null,S=(g.default._friendlyError=g.default._checkForUserDefinedFunctions=g.default._fesErrorMonitor=function(){},y=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),A=function(){function x(k){return Object.getOwnPropertyNames(k).filter(function(T){return T[0]!=="_"&&!(T in E)&&(E[T]=!0)}).map(function(T){var I=typeof k[T]=="function"?"function":T===T.toUpperCase()?"constant":"variable";return{name:T,type:I}})}var E={};(y=[].concat(x(g.default.prototype),x(c("../constants")))).sort(function(k,T){return T.name.length-k.name.length})},C=(g.default.prototype._helpForMisusedAtTopLevelCode=b,document.readyState!=="complete"&&(window.addEventListener("error",b,!1),window.addEventListener("load",function(){window.removeEventListener("error",b,!1)})),g.default);_.default=C},{"../constants":264,"../internationalization":273,"../main":275,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.starts-with":199,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],267:[function(c,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(g=c("../main"))&&g.__esModule?g:{default:g};c("../internationalization"),g.default._friendlyFileLoadError=function(){},c=g.default,_.default=c},{"../internationalization":273,"../main":275}],268:[function(c,m,_){function g(E){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(E)}function b(E){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(k){return g(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":g(k)})(E)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=C(c("../main"));c("../internationalization"),A(c("../constants"));function S(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,S=function(){return E},E)}function A(E){if(E&&E.__esModule)return E;if(E===null||b(E)!=="object"&&typeof E!="function")return{default:E};var k=S();if(k&&k.has(E))return k.get(E);var T,I,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E)Object.prototype.hasOwnProperty.call(E,T)&&((I=j?Object.getOwnPropertyDescriptor(E,T):null)&&(I.get||I.set)?Object.defineProperty(M,T,I):M[T]=E[T]);return M.default=E,k&&k.set(E,M),M}function C(E){return E&&E.__esModule?E:{default:E}}y.default._fesCodeReader=function(){};var x=y.default;_.default=x},{"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],269:[function(c,m,_){c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../main"))&&c.__esModule?c:{default:c};function g(){var b=/(^|@)\S+:\d+/,y=/^\s*at .*(\S+:\d+|\(native\))/m,S=/^(eval@)?(\[native code])?$/;return{parse:function(A){return A.stacktrace!==void 0||A["opera#sourceloc"]!==void 0?this.parseOpera(A):A.stack&&A.stack.match(y)?this.parseV8OrIE(A):A.stack?this.parseFFOrSafari(A):void 0},extractLocation:function(A){return A.indexOf(":")===-1?[A]:[(A=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(A.replace(/[()]/g,"")))[1],A[2]||void 0,A[3]||void 0]},parseV8OrIE:function(A){return A.stack.split(`
`).filter(function(C){return!!C.match(y)},this).map(function(C){var x=(C=-1<C.indexOf("(eval ")?C.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):C).replace(/^\s+/,"").replace(/\(eval code/g,"("),E=x.match(/ (\((.+):(\d+):(\d+)\)$)/),x=(x=E?x.replace(E[0],""):x).split(/\s+/).slice(1),E=this.extractLocation(E?E[1]:x.pop());return{functionName:x.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(E[0])?void 0:E[0],lineNumber:E[1],columnNumber:E[2],source:C}},this)},parseFFOrSafari:function(A){return A.stack.split(`
`).filter(function(C){return!C.match(S)},this).map(function(C){var x,E;return(C=-1<C.indexOf(" > eval")?C.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):C).indexOf("@")===-1&&C.indexOf(":")===-1?{functionName:C}:{functionName:(E=C.match(x=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&E[1]?E[1]:void 0,fileName:(E=this.extractLocation(C.replace(x,"")))[0],lineNumber:E[1],columnNumber:E[2],source:C}},this)},parseOpera:function(A){return!A.stacktrace||-1<A.message.indexOf(`
`)&&A.message.split(`
`).length>A.stacktrace.split(`
`).length?this.parseOpera9(A):A.stack?this.parseOpera11(A):this.parseOpera10(A)},parseOpera9:function(A){for(var C=/Line (\d+).*script (?:in )?(\S+)/i,x=A.message.split(`
`),E=[],k=2,T=x.length;k<T;k+=2){var I=C.exec(x[k]);I&&E.push({fileName:I[2],lineNumber:I[1],source:x[k]})}return E},parseOpera10:function(A){for(var C=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,x=A.stacktrace.split(`
`),E=[],k=0,T=x.length;k<T;k+=2){var I=C.exec(x[k]);I&&E.push({functionName:I[3]||void 0,fileName:I[2],lineNumber:I[1],source:x[k]})}return E},parseOpera11:function(A){return A.stack.split(`
`).filter(function(C){return!!C.match(b)&&!C.match(/^Error created at/)},this).map(function(C){var x,k=C.split("@"),E=this.extractLocation(k.pop()),k=k.shift()||"";return{functionName:k.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(x=k.match(/\(([^)]*)\)/)?k.replace(/^[^(]+\(([^)]*)\)$/,"$1"):x)===void 0||x==="[arguments not available]"?void 0:x.split(","),fileName:E[0],lineNumber:E[1],columnNumber:E[2],source:C}},this)}}}c.default._getErrorStackParser=function(){return new g},c=c.default,_.default=c},{"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],270:[function(c,m,_){function g(A){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(A)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.map"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var b=(b=c("../main"))&&b.__esModule?b:{default:b};(function(A){if(!(A&&A.__esModule)&&!(A===null||S(A)!=="object"&&typeof A!="function")){var C=y();if(C&&C.has(A))return C.get(A);var x,E={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in A){var T;Object.prototype.hasOwnProperty.call(A,x)&&((T=k?Object.getOwnPropertyDescriptor(A,x):null)&&(T.get||T.set)?Object.defineProperty(E,x,T):E[x]=A[x])}E.default=A,C&&C.set(A,E)}})(c("../constants")),c("../internationalization");function y(){var A;return typeof WeakMap!="function"?null:(A=new WeakMap,y=function(){return A},A)}function S(A){return(S=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(C){return g(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":g(C)})(A)}b.default._validateParameters=b.default._clearValidateParamsCache=function(){},c=b.default,_.default=c},{"../../../docs/parameterData.json":void 0,"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.map":169,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],271:[function(c,m,_){function g(A){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(A)}function b(A){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(C){return g(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":g(C)})(A)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=function(A){if(A&&A.__esModule)return A;if(A===null||b(A)!=="object"&&typeof A!="function")return{default:A};var C=S();if(C&&C.has(A))return C.get(A);var x,E={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in A){var T;Object.prototype.hasOwnProperty.call(A,x)&&((T=k?Object.getOwnPropertyDescriptor(A,x):null)&&(T.get||T.set)?Object.defineProperty(E,x,T):E[x]=A[x])}return E.default=A,C&&C.set(A,E),E}(c("./constants"));function S(){var A;return typeof WeakMap!="function"?null:(A=new WeakMap,S=function(){return A},A)}_.default={modeAdjust:function(A,C,x,E,k){return k===y.CORNER?{x:A,y:C,w:x,h:E}:k===y.CORNERS?{x:A,y:C,w:x-A,h:E-C}:k===y.RADIUS?{x:A-x,y:C-E,w:2*x,h:2*E}:k===y.CENTER?{x:A-.5*x,y:C-.5*E,w:x,h:E}:void 0}}},{"./constants":264,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],272:[function(c,m,_){c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator");var g=(b=c("../core/main"))&&b.__esModule?b:{default:b};c("./internationalization");var b=Promise.resolve();Promise.all([new Promise(function(y,S){document.readyState==="complete"?y():window.addEventListener("load",y,!1)}),b]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!g.default.instance&&new g.default})},{"../core/main":275,"./internationalization":273,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/web.dom-collections.iterator":238}],273:[function(c,m,_){c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.setTranslatorLanguage=_.currentTranslatorLanguage=_.availableTranslatorLanguages=_.initialize=_.translator=void 0;var g,b,y=A(c("i18next")),S=A(c("i18next-browser-languagedetector"));function A(E){return E&&E.__esModule?E:{default:E}}function C(E,k){for(var T=0;T<k.length;T++){var I=k[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}var x=function(){function E(I,M){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.init(I,M)}var k,T;return k=E,(T=[{key:"fetchWithTimeout",value:function(I,M){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(I,M),new Promise(function(P,O){return setTimeout(function(){return O(new Error("timeout"))},j)})])}},{key:"init",value:function(I){var M=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=I,this.options=M}},{key:"read",value:function(I,M,j){var P=this.options.loadPath;I===this.options.fallback?j(null,g[I][M]):b.includes(I)?(P=this.services.interpolator.interpolate(P,{lng:I,ns:M}),this.loadUrl(P,j)):j("Not found",!1)}},{key:"loadUrl",value:function(I,M){this.fetchWithTimeout(I).then(function(j){if(j.ok)return j.json();throw new Error("failed loading ".concat(I))},function(){throw new Error("failed loading ".concat(I))}).then(function(j){return M(null,j)}).catch(M)}}])&&C(k.prototype,T),E}();x.type="backend",_.translator=function(E,k){console.debug("p5.js translator called before translations were loaded"),y.default.t(E,k)},_.initialize=function(){return y.default.use(S.default).use(x).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:g}).then(function(E){_.translator=E},function(E){return console.debug("Translations failed to load (".concat(E,")"))})},_.availableTranslatorLanguages=function(){return y.default.languages},_.currentTranslatorLanguage=function(E){return y.default.language},_.setTranslatorLanguage=function(E){return y.default.changeLanguage(E||void 0,function(k){return console.debug("Translations failed to load (".concat(k,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238,i18next:3,"i18next-browser-languagedetector":3}],274:[function(c,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("./main"))&&c.__esModule?c:{default:c},c.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},c.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},c.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},c.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},c=c.default,_.default=c},{"./main":275}],275:[function(c,m,_){function g(E){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(E)}function b(E){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(k){return g(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":g(k)})(E)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-own-property-names"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.get-own-property-names"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c("./shim");var y=function(E){if(E&&E.__esModule)return E;if(E===null||b(E)!=="object"&&typeof E!="function")return{default:E};var k=S();if(k&&k.has(E))return k.get(E);var T,I={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var j;Object.prototype.hasOwnProperty.call(E,T)&&((j=M?Object.getOwnPropertyDescriptor(E,T):null)&&(j.get||j.set)?Object.defineProperty(I,T,j):I[T]=E[T])}return I.default=E,k&&k.set(E,I),I}(c("./constants"));function S(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,S=function(){return E},E)}function A(E,k){for(var T=0;T<k.length;T++){var I=k[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}var C,x=function(){function E(I,P){var j=this;if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=P,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var P=Object.getOwnPropertyNames(E.prototype._registeredMethods),O=!0,N=!1,D=void 0;try{for(var L,R=P[Symbol.iterator]();!(O=(L=R.next()).done);O=!0){var G=L.value;this._registeredMethods[G]=E.prototype._registeredMethods[G].slice()}}catch(U){N=!0,D=U}finally{try{O||R.return==null||R.return()}finally{if(N)throw D}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),E.prototype.callRegisteredHooksFor=function(U){var $=this||E.prototype,ae=this._isGlobal?window:this;if($._registeredMethods.hasOwnProperty(U)){var $=$._registeredMethods[U],H=!0,U=!1,ie=void 0;try{for(var Y,q=$[Symbol.iterator]();!(H=(Y=q.next()).done);H=!0){var ne=Y.value;typeof ne=="function"&&ne.call(ae)}}catch(de){U=!0,ie=de}finally{try{H||q.return==null||q.return()}finally{if(U)throw ie}}}},this._start=function(){j._userNode&&typeof j._userNode=="string"&&(j._userNode=document.getElementById(j._userNode));var U=j._isGlobal?window:j;if(U.preload){j.callRegisteredHooksFor("beforePreload");var $,ae=document.getElementById(j._loadingScreenId),H=(ae||((ae=document.createElement("div")).innerHTML="Loading...",ae.style.position="absolute",ae.id=j._loadingScreenId,(j._userNode||document.body).appendChild(ae)),j._preloadMethods);for($ in H){H[$]=H[$]||E;var ie=H[$];ie!==E.prototype&&ie!==E||(j._isGlobal&&(window[$]=j._wrapPreload(j,$)),ie=j),j._registeredPreloadMethods[$]=ie[$],ie[$]=j._wrapPreload(ie,$)}U.preload(),j._runIfPreloadsAreDone()}else j._setup(),j._recording||j._draw()},this._runIfPreloadsAreDone=function(){var U,$=this._isGlobal?window:this;$._preloadCount===0&&((U=document.getElementById($._loadingScreenId))&&U.parentNode.removeChild(U),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),$._setup(),this._recording||$._draw()))},this._decrementPreload=function(){var U=this._isGlobal?window:this;U._preloadDone||typeof U.preload!="function"||(U._setProperty("_preloadCount",U._preloadCount-1),U._runIfPreloadsAreDone())},this._wrapPreload=function(U,$){var ae=this;return function(){ae._incrementPreload();for(var H=arguments.length,ie=new Array(H),Y=0;Y<H;Y++)ie[Y]=arguments[Y];return ae._registeredPreloadMethods[$].apply(U,ie)}},this._incrementPreload=function(){var U=this._isGlobal?window:this;U._preloadDone||U._setProperty("_preloadCount",U._preloadCount+1)},this._setup=function(){j.callRegisteredHooksFor("beforeSetup"),j.createCanvas(j._defaultCanvasSize.width,j._defaultCanvasSize.height,"p2d");var U=j._isGlobal?window:j;if(typeof U.preload=="function")for(var $ in j._preloadMethods)U[$]=j._preloadMethods[$][$],U[$]&&j&&(U[$]=U[$].bind(j));j._millisStart=window.performance.now(),U._preloadDone=!0,typeof U.setup=="function"&&U.setup();var ae=document.getElementsByTagName("canvas"),H=!0,ie=!1,Y=void 0;try{for(var q,ne=ae[Symbol.iterator]();!(H=(q=ne.next()).done);H=!0){var oe=q.value;oe.dataset.hidden==="true"&&(oe.style.visibility="",delete oe.dataset.hidden)}}catch(he){ie=!0,Y=he}finally{try{H||ne.return==null||ne.return()}finally{if(ie)throw Y}}j._lastTargetFrameTime=window.performance.now(),j._lastRealFrameTime=window.performance.now(),j._setupDone=!0,(j._accessibleOutputs.grid||j._accessibleOutputs.text)&&j._updateAccsOutput(),j.callRegisteredHooksFor("afterSetup")},this._draw=function(){var U=window.performance.now(),$=U-j._lastTargetFrameTime,ae=1e3/j._targetFrameRate;(!j._loop||ae-5<=$)&&(j.deltaTime=U-j._lastRealFrameTime,j._setProperty("deltaTime",j.deltaTime),j._frameRate=1e3/j.deltaTime,j.redraw(),j._lastTargetFrameTime=Math.max(j._lastTargetFrameTime+ae,U),j._lastRealFrameTime=U,j._updateMouseCoords!==void 0&&(j._updateMouseCoords(),j._setProperty("movedX",0),j._setProperty("movedY",0))),j._loop&&(j._requestAnimId=window.requestAnimationFrame(j._draw))},this._setProperty=function(U,$){j[U]=$,j._isGlobal&&(window[U]=$)},this.remove=function(){j._startListener&&window.removeEventListener("load",j._startListener,!1);var U=document.getElementById(j._loadingScreenId);if(U&&(U.parentNode.removeChild(U),j._incrementPreload()),j._curElement){for(var $ in j._loop=!1,j._requestAnimId&&window.cancelAnimationFrame(j._requestAnimId),j._events)window.removeEventListener($,j._events[$]);var ae=!0,U=!1,H=void 0;try{for(var ie,Y=j._elements[Symbol.iterator]();!(ae=(ie=Y.next()).done);ae=!0){var q,ne=ie.value;for(q in ne.elt&&ne.elt.parentNode&&ne.elt.parentNode.removeChild(ne.elt),ne._events)ne.elt.removeEventListener(q,ne._events[q])}}catch(Ce){U=!0,H=Ce}finally{try{ae||Y.return==null||Y.return()}finally{if(U)throw H}}var oe=j;j._registeredMethods.remove.forEach(function(Ce){Ce!==void 0&&Ce.call(oe)})}if(j._isGlobal){for(var he in E.prototype)try{delete window[he]}catch{window[he]=void 0}for(var de in j)if(j.hasOwnProperty(de))try{delete window[de]}catch{window[de]=void 0}E.instance=null}},this._registeredMethods.init.forEach(function(U){U!==void 0&&U.call(this)},this),this._setupPromisePreloads();var Z,B,J=this._createFriendlyGlobalFunctionBinder();if(I)I(this),E._checkForUserDefinedFunctions(this);else{for(var K in this._isGlobal=!0,E.instance=this,E.prototype)typeof E.prototype[K]=="function"?(Z=K.substring(2),this._events.hasOwnProperty(Z)||(Math.hasOwnProperty(K)&&Math[K]===E.prototype[K]?J(K,E.prototype[K]):J(K,E.prototype[K].bind(this)))):J(K,E.prototype[K]);for(var ee in this)this.hasOwnProperty(ee)&&J(ee,this[ee])}for(B in this._events){var V=this["_on".concat(B)];V&&(V=V.bind(this),window.addEventListener(B,V,{passive:!1}),this._events[B]=V)}function z(){j._setProperty("focused",!0)}function X(){j._setProperty("focused",!1)}window.addEventListener("focus",z),window.addEventListener("blur",X),this.registerMethod("remove",function(){window.removeEventListener("focus",z),window.removeEventListener("blur",X)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var k,T;return k=E,(T=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=y.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(I,M){E.prototype._preloadMethods.hasOwnProperty(I)||(E.prototype._preloadMethods[I]=M)}},{key:"registerMethod",value:function(I,M){var j=this||E.prototype;j._registeredMethods.hasOwnProperty(I)||(j._registeredMethods[I]=[]),j._registeredMethods[I].push(M)}},{key:"unregisterMethod",value:function(I,M){var j=this||E.prototype;if(j._registeredMethods.hasOwnProperty(I)){for(var P=j._registeredMethods[I],O=[],N=0;N<P.length;N++)P[N]===M&&O.push(N);for(var D=O.length-1;0<=D;D--)P.splice(O[D],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var I=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},M=I.globalObject||window;return I.log||console.log.bind(console),function(j,P){E.disableFriendlyErrors,M[j]=P}}}])&&A(k.prototype,T),E}();for(C in x.instance=null,x.disableFriendlyErrors=!1,y)x.prototype[C]=y[C];x.VERSION=y.VERSION,x.prototype._preloadMethods={loadJSON:x.prototype,loadImage:x.prototype,loadStrings:x.prototype,loadXML:x.prototype,loadBytes:x.prototype,loadTable:x.prototype,loadFont:x.prototype,loadModel:x.prototype,loadShader:x.prototype},x.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},x.prototype._registeredPreloadMethods={},_.default=x},{"./constants":264,"./shim":286,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],276:[function(c,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("./main"))&&c.__esModule?c:{default:c};function b(y,S){for(var A=0;A<S.length;A++){var C=S[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}g.default.Element=function(){function y(x,E){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.elt=x,this._pInst=this._pixelsState=E,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var S,A,C;return S=y,C=[{key:"_adjustListener",value:function(x,E,k){return E===!1?g.default.Element._detachListener(x,k):g.default.Element._attachListener(x,E,k),this}},{key:"_attachListener",value:function(x,E,k){k._events[x]&&g.default.Element._detachListener(x,k),E=E.bind(k),k.elt.addEventListener(x,E,!1),k._events[x]=E}},{key:"_detachListener",value:function(x,E){var k=E._events[x];E.elt.removeEventListener(x,k,!1),E._events[x]=null}}],(A=[{key:"parent",value:function(x){return x===void 0?this.elt.parentNode:(typeof x=="string"?(x[0]==="#"&&(x=x.substring(1)),x=document.getElementById(x)):x instanceof g.default.Element&&(x=x.elt),x.appendChild(this.elt),this)}},{key:"id",value:function(x){return x===void 0?this.elt.id:(this.elt.id=x,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(x){return x===void 0?this.elt.className:(this.elt.className=x,this)}},{key:"mousePressed",value:function(x){return g.default.Element._adjustListener("mousedown",function(E){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(E),x.call(this,E)},this),this}},{key:"doubleClicked",value:function(x){return g.default.Element._adjustListener("dblclick",x,this),this}},{key:"mouseWheel",value:function(x){return g.default.Element._adjustListener("wheel",x,this),this}},{key:"mouseReleased",value:function(x){return g.default.Element._adjustListener("mouseup",x,this),this}},{key:"mouseClicked",value:function(x){return g.default.Element._adjustListener("click",x,this),this}},{key:"mouseMoved",value:function(x){return g.default.Element._adjustListener("mousemove",x,this),this}},{key:"mouseOver",value:function(x){return g.default.Element._adjustListener("mouseover",x,this),this}},{key:"mouseOut",value:function(x){return g.default.Element._adjustListener("mouseout",x,this),this}},{key:"touchStarted",value:function(x){return g.default.Element._adjustListener("touchstart",x,this),this}},{key:"touchMoved",value:function(x){return g.default.Element._adjustListener("touchmove",x,this),this}},{key:"touchEnded",value:function(x){return g.default.Element._adjustListener("touchend",x,this),this}},{key:"dragOver",value:function(x){return g.default.Element._adjustListener("dragover",x,this),this}},{key:"dragLeave",value:function(x){return g.default.Element._adjustListener("dragleave",x,this),this}},{key:"_setProperty",value:function(x,E){this[x]=E}}])&&b(S.prototype,A),C&&b(S,C),y}(),c=g.default.Element,_.default=c},{"./main":275}],277:[function(c,m,_){function g(j){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(j)}function b(j){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(P){return g(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":g(P)})(j)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(M=c("./main"))&&M.__esModule?M:{default:M},S=function(j){if(j&&j.__esModule)return j;if(j===null||b(j)!=="object"&&typeof j!="function")return{default:j};var P=A();if(P&&P.has(j))return P.get(j);var O,N={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in j){var L;Object.prototype.hasOwnProperty.call(j,O)&&((L=D?Object.getOwnPropertyDescriptor(j,O):null)&&(L.get||L.set)?Object.defineProperty(N,O,L):N[O]=j[O])}return N.default=j,P&&P.set(j,N),N}(c("./constants"));function A(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,A=function(){return j},j)}function C(j,P){for(var O=0;O<P.length;O++){var N=P[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(j,N.key,N)}}function x(j,P){return(x=Object.setPrototypeOf||function(O,N){return O.__proto__=N,O})(j,P)}function E(j){return function(){var P,O=I(j);return k(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(P=I(this).constructor,Reflect.construct(O,arguments,P)):O.apply(this,arguments))}}function k(j,P){return!P||b(P)!=="object"&&typeof P!="function"?T(j):P}function T(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function I(j){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(j)}y.default.Graphics=function(j){var P=N;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(j&&j.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),j&&x(P,j);var O=E(N);function N(D,L,ee,G,Z){var B;if(!(this instanceof N))throw new TypeError("Cannot call a class as a function");K=Z||document.createElement("canvas"),(B=O.call(this,K,G)).canvas=K;var J,K=ee||S.P2D,ee=G._userNode||document.body;for(J in Z||ee.appendChild(B.canvas),y.default.prototype)B[J]||(typeof y.default.prototype[J]=="function"?B[J]=y.default.prototype[J].bind(T(B)):B[J]=y.default.prototype[J]);return y.default.prototype._initializeInstanceVariables.apply(T(B)),B.width=D,B.height=L,B._pixelDensity=G._pixelDensity,K===S.WEBGL?B._renderer=new y.default.RendererGL(B.canvas,T(B),!1):B._renderer=new y.default.Renderer2D(B.canvas,T(B),!1),G._elements.push(T(B)),Object.defineProperty(T(B),"deltaTime",{get:function(){return this._pInst.deltaTime}}),B._renderer.resize(D,L),B._renderer._applyDefaults(),k(B,T(B))}return P=N,(j=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var D,L=this._pInst._elements.indexOf(this);for(D in L!==-1&&this._pInst._elements.splice(L,1),this._events)this.elt.removeEventListener(D,this._events[D])}},{key:"createFramebuffer",value:function(D){return new y.default.Framebuffer(this,D)}}])&&C(P.prototype,j),N}(y.default.Element);var M=y.default.Graphics;_.default=M},{"./constants":264,"./main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],278:[function(c,m,_){function g(j){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(j)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var b=(I=c("./main"))&&I.__esModule?I:{default:I},y=function(j){if(j&&j.__esModule)return j;if(j===null||A(j)!=="object"&&typeof j!="function")return{default:j};var P=S();if(P&&P.has(j))return P.get(j);var O,N={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in j){var L;Object.prototype.hasOwnProperty.call(j,O)&&((L=D?Object.getOwnPropertyDescriptor(j,O):null)&&(L.get||L.set)?Object.defineProperty(N,O,L):N[O]=j[O])}return N.default=j,P&&P.set(j,N),N}(c("../core/constants"));function S(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,S=function(){return j},j)}function A(j){return(A=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(P){return g(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":g(P)})(j)}function C(j,P){for(var O=0;O<P.length;O++){var N=P[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(j,N.key,N)}}function x(j,P){return(x=Object.setPrototypeOf||function(O,N){return O.__proto__=N,O})(j,P)}function E(j){return function(){var P,O,N=T(j);return P=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(P=T(this).constructor,Reflect.construct(N,arguments,P)):N.apply(this,arguments),N=this,!(O=P)||A(O)!=="object"&&typeof O!="function"?k(N):O}}function k(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function T(j){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)})(j)}var I=function(j){var P=N;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(j&&j.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),j&&x(P,j);var O=E(N);function N(D,L,R){var G;if(this instanceof N)return(G=O.call(this,D,L)).canvas=D,G._pixelsState=L,R?(G._isMainCanvas=!0,G._pInst._setProperty("_curElement",k(G)),G._pInst._setProperty("canvas",G.canvas),G._pInst._setProperty("width",G.width),G._pInst._setProperty("height",G.height)):(G.canvas.style.display="none",G._styles=[]),G._clipping=!1,G._clipInvert=!1,G._textSize=12,G._textLeading=15,G._textFont="sans-serif",G._textStyle=y.NORMAL,G._textAscent=null,G._textDescent=null,G._textAlign=y.LEFT,G._textBaseline=y.BASELINE,G._textWrap=y.WORD,G._rectMode=y.CORNER,G._ellipseMode=y.CENTER,G._curveTightness=0,G._imageMode=y.CORNER,G._tint=null,G._doStroke=!0,G._doFill=!0,G._strokeSet=!1,G._fillSet=!1,G._leadingSet=!1,G._pushPopDepth=0,G;throw new TypeError("Cannot call a class as a function")}return P=N,(j=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(D){this._pushPopDepth--,D.properties&&Object.assign(this,D.properties)}},{key:"beginClip",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=D.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(D,L){this.width=D,this.height=L,this.elt.width=D*this._pInst._pixelDensity,this.elt.height=L*this._pInst._pixelDensity,this.elt.style.width="".concat(D,"px"),this.elt.style.height="".concat(L,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(D,L,R,G){var Z=this._pixelsState,B=Z._pixelDensity,J=this.canvas;if(D===void 0&&L===void 0)D=L=0,R=Z.width,G=Z.height;else if(D*=B,L*=B,R===void 0&&G===void 0)return D<0||L<0||D>=J.width||L>=J.height?[0,0,0,0]:this._getPixel(D,L);return Z=new b.default.Image(R*B,G*B),Z._pixelDensity=B,Z.canvas.getContext("2d").drawImage(J,D,L,R*B,G*B,0,0,R*B,G*B),Z}},{key:"textLeading",value:function(D){return typeof D=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",D),this._pInst):this._textLeading}},{key:"textStyle",value:function(D){return D?(D!==y.NORMAL&&D!==y.ITALIC&&D!==y.BOLD&&D!==y.BOLDITALIC||this._setProperty("_textStyle",D),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(D,L){return D!==void 0?(this._setProperty("_textAlign",D),L!==void 0&&this._setProperty("_textBaseline",L),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(D){return this._setProperty("_textWrap",D),this._textWrap}},{key:"text",value:function(D,L,R,G,Z){var B,J,K,ee,V=this._pInst,z=this._textWrap,X=Number.MAX_VALUE,U=R;if((this._doFill||this._doStroke)&&D!==void 0){if(B=(D=(D=typeof D!="string"?D.toString():D).replace(/(\t)/g,"  ")).split(`
`),G!==void 0){switch(this._rectMode===y.CENTER&&(L-=G/2),this._textAlign){case y.CENTER:L+=G/2;break;case y.RIGHT:L+=G}if(Z!==void 0){this._rectMode===y.CENTER&&(R-=Z/2,U-=Z/2);var D=R,$=V.textAscent();switch(this._textBaseline){case y.BOTTOM:ee=R+Z,R=Math.max(ee,R),U+=$;break;case y.CENTER:ee=R+Z/2,R=Math.max(ee,R),U+=$/2}X=R+Z-$,this._textBaseline===y.CENTER&&(X=D+Z-$/2)}else this._textBaseline!==y.BOTTOM&&this._textBaseline!==y.CENTER||(U=R-(D=V.textSize()*this._textLeading)/2,X=R+D/2);if(z===y.WORD){for(var ae=[],H=0;H<B.length;H++){for(var ie="",Y=B[H].split(" "),q=0;q<Y.length;q++)J="".concat(ie+Y[q])+" ",ie=G<(K=this.textWidth(J))&&0<ie.length?(ae.push(ie),"".concat(Y[q])+" "):J;ae.push(ie)}var ne=0;this._textBaseline===y.CENTER?ne=(ae.length-1)*V.textLeading()/2:this._textBaseline===y.BOTTOM&&(ne=(ae.length-1)*V.textLeading());for(var oe=0;oe<B.length;oe++){ie="",Y=B[oe].split(" ");for(var he=0;he<Y.length;he++)J="".concat(ie+Y[he])+" ",G<(K=this.textWidth(J))&&0<ie.length?(this._renderText(V,ie.trim(),L,R-ne,X,U),ie="".concat(Y[he])+" ",R+=V.textLeading()):ie=J;this._renderText(V,ie.trim(),L,R-ne,X,U),R+=V.textLeading()}}else{for(var de=[],xe=0;xe<B.length;xe++)for(var Ce=B[xe].split(ie=""),ge=0;ge<Ce.length;ge++)J="".concat(ie+Ce[ge]),(K=this.textWidth(J))<=G?ie+=Ce[ge]:G<K&&0<ie.length&&(de.push(ie),ie="".concat(Ce[ge]));de.push(ie);var Ae=0;this._textBaseline===y.CENTER?Ae=(de.length-1)*V.textLeading()/2:this._textBaseline===y.BOTTOM&&(Ae=(de.length-1)*V.textLeading());for(var we=0;we<B.length;we++){Ce=B[we].split(ie="");for(var me=0;me<Ce.length;me++)J="".concat(ie+Ce[me]),(K=this.textWidth(J))<=G?ie+=Ce[me]:G<K&&0<ie.length&&(this._renderText(V,ie.trim(),L,R-Ae,X,U),R+=V.textLeading(),ie="".concat(Ce[me]))}this._renderText(V,ie.trim(),L,R-Ae,X,U),R+=V.textLeading()}}else{var _e=0;this._textBaseline===y.CENTER?_e=(B.length-1)*V.textLeading()/2:this._textBaseline===y.BOTTOM&&(_e=(B.length-1)*V.textLeading());for(var Me=0;Me<B.length;Me++)this._renderText(V,B[Me],L,R-_e,X,U-_e),R+=V.textLeading()}return V}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return A(D)==="object"&&D.font&&D.font.supported}},{key:"_updateTextMetrics",value:function(){var D,L,R,G,Z,B;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((D=document.createElement("span")).style.fontFamily=this._textFont,D.style.fontSize="".concat(this._textSize,"px"),D.innerHTML="ABCjgq|",(B=document.createElement("div")).style.display="inline-block",B.style.width="1px",B.style.height="0px",G=((L=document.createElement("div")).appendChild(D),L.appendChild(B),L.style.height="0px",L.style.overflow="hidden",document.body.appendChild(L),B.style.verticalAlign="baseline",M(B)),Z=M(D),R=G[1]-Z[1],G=(B.style.verticalAlign="bottom",M(B)),Z=M(D),B=G[1]-Z[1]-R,document.body.removeChild(L),this._setProperty("_textAscent",R),this._setProperty("_textDescent",B)),this}}])&&C(P.prototype,j),N}(b.default.Element);function M(j){var P=0,O=0;if(j.offsetParent)for(;P+=j.offsetLeft,O+=j.offsetTop,j=j.offsetParent;);else P+=j.offsetLeft,O+=j.offsetTop;return[P,O]}I.prototype.textSize=function(j){return typeof j=="number"?(this._setProperty("_textSize",j),this._leadingSet||this._setProperty("_textLeading",j*y._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},b.default.Renderer=I,c=b.default.Renderer,_.default=c},{"../core/constants":264,"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],279:[function(j,m,_){function g(P){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(P)}function b(P){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(O){return g(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":g(O)})(P)}j("core-js/modules/es.symbol"),j("core-js/modules/es.symbol.description"),j("core-js/modules/es.symbol.iterator"),j("core-js/modules/es.array.concat"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.for-each"),j("core-js/modules/es.array.iterator"),j("core-js/modules/es.array.join"),j("core-js/modules/es.array.slice"),j("core-js/modules/es.function.name"),j("core-js/modules/es.number.to-fixed"),j("core-js/modules/es.object.get-own-property-descriptor"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.reflect.construct"),j("core-js/modules/es.reflect.get"),j("core-js/modules/es.regexp.to-string"),j("core-js/modules/es.string.iterator"),j("core-js/modules/es.weak-map"),j("core-js/modules/web.dom-collections.iterator"),j("core-js/modules/es.array.concat"),j("core-js/modules/es.array.fill"),j("core-js/modules/es.array.for-each"),j("core-js/modules/es.array.join"),j("core-js/modules/es.array.slice"),j("core-js/modules/es.function.name"),j("core-js/modules/es.number.to-fixed"),j("core-js/modules/es.object.get-prototype-of"),j("core-js/modules/es.object.to-string"),j("core-js/modules/es.regexp.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(M=j("./main"))&&M.__esModule?M:{default:M},S=function(P){if(P&&P.__esModule)return P;if(P===null||b(P)!=="object"&&typeof P!="function")return{default:P};var O=A();if(O&&O.has(P))return O.get(P);var N,D={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in P){var R;Object.prototype.hasOwnProperty.call(P,N)&&((R=L?Object.getOwnPropertyDescriptor(P,N):null)&&(R.get||R.set)?Object.defineProperty(D,N,R):D[N]=P[N])}return D.default=P,O&&O.set(P,D),D}(j("./constants"));function A(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,A=function(){return P},P)}function C(P,O){for(var N=0;N<O.length;N++){var D=O[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}function x(P,O,N){return(x=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(G,L,R){var G=function(Z,B){for(;!Object.prototype.hasOwnProperty.call(Z,B)&&(Z=T(Z))!==null;);return Z}(G,L);if(G)return(G=Object.getOwnPropertyDescriptor(G,L)).get?G.get.call(R):G.value})(P,O,N||P)}function E(P,O){return(E=Object.setPrototypeOf||function(N,D){return N.__proto__=D,N})(P,O)}function k(P){return function(){var O,N=T(P),N=(O=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(O=T(this).constructor,Reflect.construct(N,arguments,O)):N.apply(this,arguments),this);if(!O||b(O)!=="object"&&typeof O!="function"){if(N!==void 0)return N;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return O}}function T(P){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}j("./p5.Renderer");var I="rgba(0,0,0,0)",M=function(P){var O=D;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),P&&E(O,P);var N=k(D);function D(L,R,G){if(this instanceof D)return(L=N.call(this,L,R,G)).drawingContext=L.canvas.getContext("2d"),L._pInst._setProperty("drawingContext",L.drawingContext),L;throw new TypeError("Cannot call a class as a function")}return O=D,(P=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=S.BLEND,this._setFill(S._DEFAULT_FILL),this._setStroke(S._DEFAULT_STROKE),this.drawingContext.lineCap=S.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(L,R){x(T(D.prototype),"resize",this).call(this,L,R),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var L,R;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof y.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(L=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(L,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(L=this._getFill(),R=(R=this._pInst).color.apply(R,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(R.levels),R=R.toString(),this._setFill(R),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(L),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var L=(L=this._pInst).color.apply(L,arguments);this._setFill(L.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",L.levels)}},{key:"stroke",value:function(){var L=(L=this._pInst).color.apply(L,arguments);this._setStroke(L.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",L.levels)}},{key:"erase",value:function(L,R){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,L=this._pInst.color(255,L).toString(),this.drawingContext.fillStyle=L,this._cachedStrokeStyle=this.drawingContext.strokeStyle,L=this._pInst.color(255,R).toString(),this.drawingContext.strokeStyle=L,R=this._cachedBlendMode,this.blendMode(S.REMOVE),this._cachedBlendMode=R,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var L=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},L=(x(T(D.prototype),"beginClip",this).call(this,L),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),L=(this.drawingContext.fillStyle=L,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),L=(this.drawingContext.strokeStyle=L,this._cachedBlendMode);this.blendMode(S.BLEND),this._cachedBlendMode=L,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),x(T(D.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(L,R,G,Z,B,J,K,ee,V){L.gifProperties&&L._animateGif(this._pInst);try{y.default.MediaElement&&L instanceof y.default.MediaElement&&L._ensureCanvas();var z=(z=this._tint&&L.canvas?this._getTintedImageCanvas(L):z)||L.canvas||L.elt,X=1;L.width&&0<L.width&&(X=z.width/L.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(z,X*R,X*G,X*Z,X*B,J,K,ee,V),this._isErasing&&this._pInst.erase()}catch(U){if(U.name!=="NS_ERROR_NOT_AVAILABLE")throw U}}},{key:"_getTintedImageCanvas",value:function(L){if(!L.canvas)return L;L.tintCanvas||(L.tintCanvas=document.createElement("canvas")),L.tintCanvas.width!==L.canvas.width&&(L.tintCanvas.width=L.canvas.width),L.tintCanvas.height!==L.canvas.height&&(L.tintCanvas.height=L.canvas.height);var R=L.tintCanvas.getContext("2d");return R.save(),R.clearRect(0,0,L.canvas.width,L.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(R.drawImage(L.canvas,0,0),R.globalCompositeOperation="luminosity",R.drawImage(L.canvas,0,0),R.globalCompositeOperation="color",R.drawImage(L.canvas,0,0),R.globalCompositeOperation="multiply",R.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),R.fillRect(0,0,L.canvas.width,L.canvas.height),R.globalCompositeOperation="destination-in"),R.globalAlpha=this._tint[3]/255,R.drawImage(L.canvas,0,0),R.restore(),L.tintCanvas}},{key:"blendMode",value:function(L){if(L===S.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(L!==S.BLEND&&L!==S.REMOVE&&L!==S.DARKEST&&L!==S.LIGHTEST&&L!==S.DIFFERENCE&&L!==S.MULTIPLY&&L!==S.EXCLUSION&&L!==S.SCREEN&&L!==S.REPLACE&&L!==S.OVERLAY&&L!==S.HARD_LIGHT&&L!==S.SOFT_LIGHT&&L!==S.DODGE&&L!==S.BURN&&L!==S.ADD)throw new Error("Mode ".concat(L," not recognized."));this._cachedBlendMode=L,this.drawingContext.globalCompositeOperation=L}}},{key:"blend",value:function(){for(var L=this.drawingContext.globalCompositeOperation,R=arguments.length,G=new Array(R),Z=0;Z<R;Z++)G[Z]=arguments[Z];var B=G[G.length-1],J=Array.prototype.slice.call(G,0,G.length-1);this.drawingContext.globalCompositeOperation=B,y.default.prototype.copy.apply(this,J),this.drawingContext.globalCompositeOperation=L}},{key:"_getPixel",value:function(L,R){return L=this.drawingContext.getImageData(L,R,1,1).data,[L[0],L[1],L[2],L[3]]}},{key:"loadPixels",value:function(){var L=this._pixelsState,R=L._pixelDensity,G=this.width*R,R=this.height*R,G=this.drawingContext.getImageData(0,0,G,R);L._setProperty("imageData",G),L._setProperty("pixels",G.data)}},{key:"set",value:function(L,R,G){L=Math.floor(L),R=Math.floor(R);var Z=this._pixelsState;if(G instanceof y.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(Z._pixelDensity,Z._pixelDensity),this.drawingContext.clearRect(L,R,G.width,G.height),this.drawingContext.drawImage(G.canvas,L,R),this.drawingContext.restore();else{var B=0,J=0,K=0,ee=0,V=4*(R*Z._pixelDensity*(this.width*Z._pixelDensity)+L*Z._pixelDensity);if(Z.imageData||Z.loadPixels.call(Z),typeof G=="number")V<Z.pixels.length&&(K=J=B=G,ee=255);else if(G instanceof Array){if(G.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");V<Z.pixels.length&&(B=G[0],J=G[1],K=G[2],ee=G[3])}else G instanceof y.default.Color&&V<Z.pixels.length&&(B=G.levels[0],J=G.levels[1],K=G.levels[2],ee=G.levels[3]);for(var z=0;z<Z._pixelDensity;z++)for(var X=0;X<Z._pixelDensity;X++)V=4*((R*Z._pixelDensity+X)*this.width*Z._pixelDensity+(L*Z._pixelDensity+z)),Z.pixels[V]=B,Z.pixels[V+1]=J,Z.pixels[V+2]=K,Z.pixels[V+3]=ee}}},{key:"updatePixels",value:function(L,R,G,Z){var B=this._pixelsState,J=B._pixelDensity;L===void 0&&R===void 0&&G===void 0&&Z===void 0&&(R=L=0,G=this.width,Z=this.height),L*=J,R*=J,G*=J,Z*=J,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=B.imageData),this.drawingContext.putImageData(B.imageData,L,R,0,0,G,Z)}},{key:"_acuteArcToBezier",value:function(L,R){var J=R/2,G=Math.cos(J),ee=Math.sin(J),Z=1/Math.tan(J),J=L+J,B=Math.cos(J),J=Math.sin(J),K=(4-G)/3,ee=ee+(G-K)*Z;return{ax:Math.cos(L).toFixed(7),ay:Math.sin(L).toFixed(7),bx:(K*B+ee*J).toFixed(7),by:(K*J-ee*B).toFixed(7),cx:(K*B-ee*J).toFixed(7),cy:(K*J+ee*B).toFixed(7),dx:Math.cos(L+R).toFixed(7),dy:Math.sin(L+R).toFixed(7)}}},{key:"arc",value:function(L,R,G,Z,B,J,K){var ee,V=this.drawingContext,z=G/2,X=Z/2,U=[];for(L+=z,R+=X;1e-5<=J-B;)ee=Math.min(J-B,S.HALF_PI),U.push(this._acuteArcToBezier(B,ee)),B+=ee;return this._doFill&&(this._clipping||V.beginPath(),U.forEach(function($,ae){ae===0&&V.moveTo(L+$.ax*z,R+$.ay*X),V.bezierCurveTo(L+$.bx*z,R+$.by*X,L+$.cx*z,R+$.cy*X,L+$.dx*z,R+$.dy*X)}),K!==S.PIE&&K!=null||V.lineTo(L,R),V.closePath(),this._clipping||V.fill()),this._doStroke&&(this._clipping||V.beginPath(),U.forEach(function($,ae){ae===0&&V.moveTo(L+$.ax*z,R+$.ay*X),V.bezierCurveTo(L+$.bx*z,R+$.by*X,L+$.cx*z,R+$.cy*X,L+$.dx*z,R+$.dy*X)}),K===S.PIE?(V.lineTo(L,R),V.closePath()):K===S.CHORD&&V.closePath(),this._clipping||V.stroke()),this}},{key:"ellipse",value:function(U){var R=this.drawingContext,G=this._doFill,Z=this._doStroke,B=parseFloat(U[0]),J=parseFloat(U[1]),X=parseFloat(U[2]),U=parseFloat(U[3]);if(G&&!Z){if(this._getFill()===I)return this}else if(!G&&Z&&this._getStroke()===I)return this;var K=X/2*.5522847498,ee=U/2*.5522847498,V=B+X,z=J+U,X=B+X/2,U=J+U/2;this._clipping||R.beginPath(),R.moveTo(B,U),R.bezierCurveTo(B,U-ee,X-K,J,X,J),R.bezierCurveTo(X+K,J,V,U-ee,V,U),R.bezierCurveTo(V,U+ee,X+K,z,X,z),R.bezierCurveTo(X-K,z,B,U+ee,B,U),!this._clipping&&G&&R.fill(),!this._clipping&&Z&&R.stroke()}},{key:"line",value:function(L,R,G,Z){var B=this.drawingContext;return this._doStroke&&this._getStroke()!==I&&(this._clipping||B.beginPath(),B.moveTo(L,R),B.lineTo(G,Z),B.stroke()),this}},{key:"point",value:function(L,R){var G,Z,B=this.drawingContext;return!this._doStroke||this._getStroke()===I?this:(G=this._getStroke(),Z=this._getFill(),this._clipping||this._setFill(G),this._clipping||B.beginPath(),B.arc(L,R,B.lineWidth/2,0,S.TWO_PI,!1),void(this._clipping||(B.fill(),this._setFill(Z))))}},{key:"quad",value:function(L,R,G,Z,B,J,K,ee){var V=this.drawingContext,z=this._doFill,X=this._doStroke;if(z&&!X){if(this._getFill()===I)return this}else if(!z&&X&&this._getStroke()===I)return this;return this._clipping||V.beginPath(),V.moveTo(L,R),V.lineTo(G,Z),V.lineTo(B,J),V.lineTo(K,ee),V.closePath(),!this._clipping&&z&&V.fill(),!this._clipping&&X&&V.stroke(),this}},{key:"rect",value:function(X){var R,G,Z=X[0],B=X[1],J=X[2],K=X[3],ee=X[4],V=X[5],z=X[6],X=X[7],U=this.drawingContext,$=this._doFill,ae=this._doStroke;if($&&!ae){if(this._getFill()===I)return this}else if(!$&&ae&&this._getStroke()===I)return this;return this._clipping||U.beginPath(),ee===void 0?U.rect(Z,B,J,K):(V===void 0&&(V=ee),z===void 0&&(z=V),X===void 0&&(X=z),ae=($=Math.abs(J))/2,G=(R=Math.abs(K))/2,R<2*(ee=$<2*ee?ae:ee)&&(ee=G),R<2*(V=$<2*V?ae:V)&&(V=G),R<2*(z=$<2*z?ae:z)&&(z=G),R<2*(X=$<2*X?ae:X)&&(X=G),this._clipping||U.beginPath(),U.moveTo(Z+ee,B),U.arcTo(Z+J,B,Z+J,B+K,V),U.arcTo(Z+J,B+K,Z,B+K,z),U.arcTo(Z,B+K,Z,B,X),U.arcTo(Z,B,Z+J,B,ee),U.closePath()),!this._clipping&&this._doFill&&U.fill(),!this._clipping&&this._doStroke&&U.stroke(),this}},{key:"triangle",value:function(z){var R=this.drawingContext,G=this._doFill,Z=this._doStroke,B=z[0],J=z[1],K=z[2],ee=z[3],V=z[4],z=z[5];if(G&&!Z){if(this._getFill()===I)return this}else if(!G&&Z&&this._getStroke()===I)return this;this._clipping||R.beginPath(),R.moveTo(B,J),R.lineTo(K,ee),R.lineTo(V,z),R.closePath(),!this._clipping&&G&&R.fill(),!this._clipping&&Z&&R.stroke()}},{key:"endShape",value:function(L,R,G,Z,B,J,K){if(R.length!==0&&(this._doStroke||this._doFill)){var ee,V,z,X=L===S.CLOSE,U=(X&&!J&&R.push(R[0]),R.length);if(!G||K!==S.POLYGON&&K!==null)if(!Z||K!==S.POLYGON&&K!==null)if(!B||K!==S.POLYGON&&K!==null)if(K===S.POINTS)for(V=0;V<U;V++)ee=R[V],this._doStroke&&this._pInst.stroke(ee[6]),this._pInst.point(ee[0],ee[1]);else if(K===S.LINES)for(V=0;V+1<U;V+=2)ee=R[V],this._doStroke&&this._pInst.stroke(R[V+1][6]),this._pInst.line(ee[0],ee[1],R[V+1][0],R[V+1][1]);else if(K===S.TRIANGLES)for(V=0;V+2<U;V+=3)ee=R[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ee[0],ee[1]),this.drawingContext.lineTo(R[V+1][0],R[V+1][1]),this.drawingContext.lineTo(R[V+2][0],R[V+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(R[V+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(R[V+2][6]),this.drawingContext.stroke());else if(K===S.TRIANGLE_STRIP)for(V=0;V+1<U;V++)ee=R[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(R[V+1][0],R[V+1][1]),this.drawingContext.lineTo(ee[0],ee[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(R[V+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(R[V+1][5]),V+2<U&&(this.drawingContext.lineTo(R[V+2][0],R[V+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(R[V+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(R[V+2][5])),this._doFillStrokeClose(X);else if(K===S.TRIANGLE_FAN){if(2<U){for(this._clipping||this.drawingContext.beginPath(),V=2;V<U;V++)ee=R[V],this.drawingContext.moveTo(R[0][0],R[0][1]),this.drawingContext.lineTo(R[V-1][0],R[V-1][1]),this.drawingContext.lineTo(ee[0],ee[1]),this.drawingContext.lineTo(R[0][0],R[0][1]),V<U-1&&(this._doFill&&ee[5]!==R[V+1][5]||this._doStroke&&ee[6]!==R[V+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(ee[5]),this.drawingContext.fill(),this._pInst.fill(R[V+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(ee[6]),this.drawingContext.stroke(),this._pInst.stroke(R[V+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(X)}}else if(K===S.QUADS)for(V=0;V+3<U;V+=4){for(ee=R[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(ee[0],ee[1]),z=1;z<4;z++)this.drawingContext.lineTo(R[V+z][0],R[V+z][1]);this.drawingContext.lineTo(ee[0],ee[1]),!this._clipping&&this._doFill&&this._pInst.fill(R[V+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(R[V+3][6]),this._doFillStrokeClose(X)}else if(K===S.QUAD_STRIP){if(3<U)for(V=0;V+1<U;V+=2)ee=R[V],this._clipping||this.drawingContext.beginPath(),V+3<U?(this.drawingContext.moveTo(R[V+2][0],R[V+2][1]),this.drawingContext.lineTo(ee[0],ee[1]),this.drawingContext.lineTo(R[V+1][0],R[V+1][1]),this.drawingContext.lineTo(R[V+3][0],R[V+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(R[V+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(R[V+3][6])):(this.drawingContext.moveTo(ee[0],ee[1]),this.drawingContext.lineTo(R[V+1][0],R[V+1][1])),this._doFillStrokeClose(X)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(R[0][0],R[0][1]),V=1;V<U;V++)(ee=R[V]).isVert&&(ee.moveTo?(X&&this.drawingContext.closePath(),this.drawingContext.moveTo(ee[0],ee[1])):this.drawingContext.lineTo(ee[0],ee[1]));this._doFillStrokeClose(X)}else{for(this._clipping||this.drawingContext.beginPath(),V=0;V<U;V++)R[V].isVert?R[V].moveTo?this.drawingContext.moveTo(R[V][0],R[V][1]):this.drawingContext.lineTo(R[V][0],R[V][1]):this.drawingContext.quadraticCurveTo(R[V][0],R[V][1],R[V][2],R[V][3]);this._doFillStrokeClose(X)}else{for(this._clipping||this.drawingContext.beginPath(),V=0;V<U;V++)R[V].isVert?R[V].moveTo?this.drawingContext.moveTo(R[V][0],R[V][1]):this.drawingContext.lineTo(R[V][0],R[V][1]):this.drawingContext.bezierCurveTo(R[V][0],R[V][1],R[V][2],R[V][3],R[V][4],R[V][5]);this._doFillStrokeClose(X)}else if(3<U){var $=[],ae=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(R[1][0],R[1][1]),V=1;V+2<U;V++)ee=R[V],$[0]=[ee[0],ee[1]],$[1]=[ee[0]+(ae*R[V+1][0]-ae*R[V-1][0])/6,ee[1]+(ae*R[V+1][1]-ae*R[V-1][1])/6],$[2]=[R[V+1][0]+(ae*R[V][0]-ae*R[V+2][0])/6,R[V+1][1]+(ae*R[V][1]-ae*R[V+2][1])/6],$[3]=[R[V+1][0],R[V+1][1]],this.drawingContext.bezierCurveTo($[1][0],$[1][1],$[2][0],$[2][1],$[3][0],$[3][1]);X&&this.drawingContext.lineTo(R[V+1][0],R[V+1][1]),this._doFillStrokeClose(X)}J=B=Z=G=!1,X&&R.pop()}return this}},{key:"strokeCap",value:function(L){return L!==S.ROUND&&L!==S.SQUARE&&L!==S.PROJECT||(this.drawingContext.lineCap=L),this}},{key:"strokeJoin",value:function(L){return L!==S.ROUND&&L!==S.BEVEL&&L!==S.MITER||(this.drawingContext.lineJoin=L),this}},{key:"strokeWeight",value:function(L){return this.drawingContext.lineWidth=L===void 0||L===0?1e-4:L,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(L){L!==this._cachedFillStyle&&(this.drawingContext.fillStyle=L,this._cachedFillStyle=L)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(L){L!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=L,this._cachedStrokeStyle=L)}},{key:"bezier",value:function(L,R,G,Z,B,J,K,ee){return this._pInst.beginShape(),this._pInst.vertex(L,R),this._pInst.bezierVertex(G,Z,B,J,K,ee),this._pInst.endShape(),this}},{key:"curve",value:function(L,R,G,Z,B,J,K,ee){return this._pInst.beginShape(),this._pInst.curveVertex(L,R),this._pInst.curveVertex(G,Z),this._pInst.curveVertex(B,J),this._pInst.curveVertex(K,ee),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(L){L&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(L,R,G,Z,B,J){this.drawingContext.transform(L,R,G,Z,B,J)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(L){this.drawingContext.rotate(L)}},{key:"scale",value:function(L,R){return this.drawingContext.scale(L,R),this}},{key:"translate",value:function(L,R){return L instanceof y.default.Vector&&(R=L.y,L=L.x),this.drawingContext.translate(L,R),this}},{key:"_renderText",value:function(L,R,G,Z,B,J){if(!(Z<J||B<=Z))return L.push(),this._isOpenType()?this._textFont._renderPath(R,G,Z,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(R,G,Z),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(S._DEFAULT_TEXT_FILL),this.drawingContext.fillText(R,G,Z))),L.pop(),L}},{key:"textWidth",value:function(L){return this._isOpenType()?this._textFont._textWidth(L,this._textSize):this.drawingContext.measureText(L).width}},{key:"_applyTextProperties",value:function(){var L,R=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),L=this._textFont,this._isOpenType()&&(L=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(L||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===S.CENTER?this.drawingContext.textBaseline=S._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,R}},{key:"push",value:function(){return this.drawingContext.save(),x(T(D.prototype),"push",this).call(this)}},{key:"pop",value:function(L){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,x(T(D.prototype),"pop",this).call(this,L)}}])&&C(O.prototype,P),D}(y.default.Renderer),j=(M.prototype.text=function(P,O,N,G,L){G!==void 0&&this.drawingContext.textBaseline===S.BASELINE&&(R=!0,this.drawingContext.textBaseline=S.TOP);var R,G=y.default.Renderer.prototype.text.apply(this,arguments);return R&&(this.drawingContext.textBaseline=S.BASELINE),G},y.default.Renderer2D=M,y.default.Renderer2D);_.default=j},{"./constants":264,"./main":275,"./p5.Renderer":278,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],280:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator");var g=(c=c("./main"))&&c.__esModule?c:{default:c};g.default.prototype._promisePreloads=[];function b(){return{}}var y=!(g.default.prototype.registerPromisePreload=function(S){g.default.prototype._promisePreloads.push(S)});g.default.prototype._setupPromisePreloads=function(){var S=!0,A=!1,C=void 0;try{for(var x,E=this._promisePreloads[Symbol.iterator]();!(S=(x=E.next()).done);S=!0){var k=x.value,T=this,I=k.method,M=k.addCallbacks,j=k.legacyPreloadSetup,P=k.target||this,O=P[I].bind(P);if(P===g.default.prototype){if(y)continue;T=null,O=P[I]}P[I]=this._wrapPromisePreload(T,O,M),j&&(P[j.method]=this._legacyPreloadGenerator(T,j,P[I]))}}catch(N){A=!0,C=N}finally{try{S||E.return==null||E.return()}finally{if(A)throw C}}y=!0},g.default.prototype._wrapPromisePreload=function(S,A,C){var x=function(){for(var E=this,k=(this._incrementPreload(),null),T=null,I=arguments.length,M=new Array(I),j=0;j<I;j++)M[j]=arguments[j];if(C)for(var P=M.length-1;0<=P&&!T&&typeof M[P]=="function";P--)T=k,k=M.pop();var O=Promise.resolve(A.apply(this,M));return k&&O.then(k),T&&O.catch(T),O.then(function(){return E._decrementPreload()}),O};return x=S?x.bind(S):x},g.default.prototype._legacyPreloadGenerator=function(S,E,C){var x=E.createBaseObject||b,E=function(){var k=this;this._incrementPreload();for(var T=arguments.length,I=new Array(T),M=0;M<T;M++)I[M]=arguments[M];var j=x.apply(this,I);return C.apply(this,I).then(function(P){Object.assign(j,P),k._decrementPreload()}),j};return E=S?E.bind(S):E}},{"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],281:[function(c,m,_){function g(E){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(E)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var b=(x=c("./main"))&&x.__esModule?x:{default:x},y=function(E){if(E&&E.__esModule)return E;if(E===null||A(E)!=="object"&&typeof E!="function")return{default:E};var k=S();if(k&&k.has(E))return k.get(E);var T,I={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var j;Object.prototype.hasOwnProperty.call(E,T)&&((j=M?Object.getOwnPropertyDescriptor(E,T):null)&&(j.get||j.set)?Object.defineProperty(I,T,j):I[T]=E[T])}return I.default=E,k&&k.set(E,I),I}(c("./constants"));function S(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,S=function(){return E},E)}function A(E){return(A=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(k){return g(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":g(k)})(E)}c("./p5.Graphics"),c("./p5.Renderer2D"),c("../webgl/p5.RendererGL");var C="defaultCanvas0",x=(b.default.prototype.createCanvas=function(E,k,T,I){var M,j,P;if(b.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(T=y.P2D,I=arguments[2]):M=T||y.P2D,I)(P=document.getElementById(C))&&P.parentNode.removeChild(P),P=I,this._defaultGraphicsCreated=!1;else{if(M===y.WEBGL)(P=document.getElementById(C))&&(P.parentNode.removeChild(P),j=this._renderer,this._elements=this._elements.filter(function(N){return N!==j})),(P=document.createElement("canvas")).id=C,P.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)P=this.canvas;else{P=I||document.createElement("canvas");for(var O=0;document.getElementById("defaultCanvas".concat(O));)O++;C="defaultCanvas".concat(O),P.id=C,P.classList.add("p5Canvas")}this._setupDone||(P.dataset.hidden=!0,P.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(T=document.createElement("main"),document.body.appendChild(T)),document.getElementsByTagName("main")[0])).appendChild(P)}return M===y.WEBGL?(this._setProperty("_renderer",new b.default.RendererGL(P,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new b.default.Renderer2D(P,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(E,k),this._renderer._applyDefaults(),this._renderer},b.default.prototype.resizeCanvas=function(E,k,T){if(b.default._validateParameters("resizeCanvas",arguments),this._renderer){var I,M,j={};for(I in this.drawingContext){var P=this.drawingContext[I];A(P)!=="object"&&typeof P!="function"&&(j[I]=P)}for(M in this.width=E,this.height=k,this._renderer.resize(E,k),j)try{this.drawingContext[M]=j[M]}catch{}T||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},b.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},b.default.prototype.createGraphics=function(E,k,T,I){return arguments[2]instanceof HTMLCanvasElement&&(T=y.P2D,I=arguments[2]),b.default._validateParameters("createGraphics",arguments),new b.default.Graphics(E,k,T,this,I)},b.default.prototype.createFramebuffer=function(E){return new b.default.Framebuffer(this,E)},b.default.prototype.blendMode=function(E){b.default._validateParameters("blendMode",arguments),E===y.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),E=y.BLEND),this._renderer.blendMode(E)},b.default);_.default=x},{"../webgl/p5.RendererGL":332,"./constants":264,"./main":275,"./p5.Graphics":277,"./p5.Renderer2D":279,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],282:[function(c,m,_){function g(k){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(k)}function b(k){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(T){return g(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":g(T)})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.slice"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=x(c("../main")),S=function(k){if(k&&k.__esModule)return k;if(k===null||b(k)!=="object"&&typeof k!="function")return{default:k};var T=C();if(T&&T.has(k))return T.get(k);var I,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in k){var P;Object.prototype.hasOwnProperty.call(k,I)&&((P=j?Object.getOwnPropertyDescriptor(k,I):null)&&(P.get||P.set)?Object.defineProperty(M,I,P):M[I]=k[I])}return M.default=k,T&&T.set(k,M),M}(c("../constants")),A=x(c("../helpers"));function C(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,C=function(){return k},k)}function x(k){return k&&k.__esModule?k:{default:k}}function E(k){return function(T){if(Array.isArray(T)){for(var I=0,M=new Array(T.length);I<T.length;I++)M[I]=T[I];return M}}(k)||function(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}c("../friendly_errors/fes_core"),c("../friendly_errors/file_errors"),c("../friendly_errors/validate_params"),y.default.prototype._normalizeArcAngles=function(k,T,I,M,j){var P;return k-=S.TWO_PI*Math.floor(k/S.TWO_PI),T-=S.TWO_PI*Math.floor(T/S.TWO_PI),P=Math.min(Math.abs(k-T),S.TWO_PI-Math.abs(k-T)),j&&(k=k<=S.HALF_PI?Math.atan(I/M*Math.tan(k)):k>S.HALF_PI&&k<=3*S.HALF_PI?Math.atan(I/M*Math.tan(k))+S.PI:Math.atan(I/M*Math.tan(k))+S.TWO_PI,T=T<=S.HALF_PI?Math.atan(I/M*Math.tan(T)):T>S.HALF_PI&&T<=3*S.HALF_PI?Math.atan(I/M*Math.tan(T))+S.PI:Math.atan(I/M*Math.tan(T))+S.TWO_PI),T<k&&(T+=S.TWO_PI),{start:k,stop:T,correspondToSamePoint:P<1e-5}},y.default.prototype.arc=function(k,T,I,M,j,P,O,N){return y.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&j!==P&&(j=this._toRadians(j),P=this._toRadians(P),I=Math.abs(I),M=Math.abs(M),k=A.default.modeAdjust(k,T,I,M,this._renderer._ellipseMode),(T=this._normalizeArcAngles(j,P,k.w,k.h,!0)).correspondToSamePoint?this._renderer.ellipse([k.x,k.y,k.w,k.h,N]):(this._renderer.arc(k.x,k.y,k.w,k.h,T.start,T.stop,O,N),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[k.x,k.y,k.w,k.h,T.start,T.stop,O]))),this},y.default.prototype.ellipse=function(k,T,I,M,j){return y.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},y.default.prototype.circle=function(){y.default._validateParameters("circle",arguments);var k=Array.prototype.slice.call(arguments,0,2);return k.push(arguments[2]),k.push(arguments[2]),this._renderEllipse.apply(this,E(k))},y.default.prototype._renderEllipse=function(k,T,I,M,j){return(this._renderer._doStroke||this._renderer._doFill)&&(I<0&&(I=Math.abs(I)),M===void 0?M=I:M<0&&(M=Math.abs(M)),k=A.default.modeAdjust(k,T,I,M,this._renderer._ellipseMode),this._renderer.ellipse([k.x,k.y,k.w,k.h,j]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[k.x,k.y,k.w,k.h])),this},y.default.prototype.line=function(){for(var k,T=arguments.length,I=new Array(T),M=0;M<T;M++)I[M]=arguments[M];return y.default._validateParameters("line",I),this._renderer._doStroke&&(k=this._renderer).line.apply(k,I),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",I),this},y.default.prototype.point=function(){for(var k,T=arguments.length,I=new Array(T),M=0;M<T;M++)I[M]=arguments[M];return y.default._validateParameters("point",I),this._renderer._doStroke&&(I.length===1&&I[0]instanceof y.default.Vector?this._renderer.point.call(this._renderer,I[0].x,I[0].y,I[0].z):((k=this._renderer).point.apply(k,I),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",I))),this},y.default.prototype.quad=function(){for(var k,T=arguments.length,I=new Array(T),M=0;M<T;M++)I[M]=arguments[M];return y.default._validateParameters("quad",I),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&I.length<12?this._renderer.quad.call(this._renderer,I[0],I[1],0,I[2],I[3],0,I[4],I[5],0,I[6],I[7],0,I[8],I[9]):((k=this._renderer).quad.apply(k,I),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",I))),this},y.default.prototype.rect=function(){for(var k=arguments.length,T=new Array(k),I=0;I<k;I++)T[I]=arguments[I];return y.default._validateParameters("rect",T),this._renderRect.apply(this,T)},y.default.prototype.square=function(k,T,I,M,j,P,O){return y.default._validateParameters("square",arguments),this._renderRect.call(this,k,T,I,I,M,j,P,O)},y.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var k=A.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),T=[k.x,k.y,k.w,k.h],I=4;I<arguments.length;I++)T[I]=arguments[I];this._renderer.rect(T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[k.x,k.y,k.w,k.h])}return this},y.default.prototype.triangle=function(){for(var k=arguments.length,T=new Array(k),I=0;I<k;I++)T[I]=arguments[I];return y.default._validateParameters("triangle",T),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(T),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",T),this},c=y.default,_.default=c},{"../constants":264,"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../helpers":271,"../main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],283:[function(c,m,_){function g(x){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function b(x){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(E){return g(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":g(E)})(x)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(C=c("../main"))&&C.__esModule?C:{default:C},S=function(x){if(x&&x.__esModule)return x;if(x===null||b(x)!=="object"&&typeof x!="function")return{default:x};var E=A();if(E&&E.has(x))return E.get(x);var k,T={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in x){var M;Object.prototype.hasOwnProperty.call(x,k)&&((M=I?Object.getOwnPropertyDescriptor(x,k):null)&&(M.get||M.set)?Object.defineProperty(T,k,M):T[k]=x[k])}return T.default=x,E&&E.set(x,T),T}(c("../constants"));function A(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,A=function(){return x},x)}y.default.prototype.ellipseMode=function(x){return y.default._validateParameters("ellipseMode",arguments),x!==S.CORNER&&x!==S.CORNERS&&x!==S.RADIUS&&x!==S.CENTER||(this._renderer._ellipseMode=x),this},y.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},y.default.prototype.rectMode=function(x){return y.default._validateParameters("rectMode",arguments),x!==S.CORNER&&x!==S.CORNERS&&x!==S.RADIUS&&x!==S.CENTER||(this._renderer._rectMode=x),this},y.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},y.default.prototype.strokeCap=function(x){return y.default._validateParameters("strokeCap",arguments),x!==S.ROUND&&x!==S.SQUARE&&x!==S.PROJECT||this._renderer.strokeCap(x),this},y.default.prototype.strokeJoin=function(x){return y.default._validateParameters("strokeJoin",arguments),x!==S.ROUND&&x!==S.BEVEL&&x!==S.MITER||this._renderer.strokeJoin(x),this},y.default.prototype.strokeWeight=function(x){return y.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(x),this};var C=y.default;_.default=C},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],284:[function(c,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(b=c("../main"))&&b.__esModule?b:{default:b};c("../friendly_errors/fes_core"),c("../friendly_errors/file_errors"),c("../friendly_errors/validate_params"),g.default.prototype.bezier=function(){for(var y,S=arguments.length,A=new Array(S),C=0;C<S;C++)A[C]=arguments[C];return g.default._validateParameters("bezier",A),(this._renderer._doStroke||this._renderer._doFill)&&(y=this._renderer).bezier.apply(y,A),this},g.default.prototype.bezierDetail=function(y){return g.default._validateParameters("bezierDetail",arguments),this._bezierDetail=y,this},g.default.prototype.bezierPoint=function(y,S,A,C,x){g.default._validateParameters("bezierPoint",arguments);var E=1-x;return Math.pow(E,3)*y+3*Math.pow(E,2)*x*S+3*E*Math.pow(x,2)*A+Math.pow(x,3)*C},g.default.prototype.bezierTangent=function(y,S,A,C,x){g.default._validateParameters("bezierTangent",arguments);var E=1-x;return 3*C*Math.pow(x,2)-3*A*Math.pow(x,2)+6*A*E*x-6*S*E*x+3*S*Math.pow(E,2)-3*y*Math.pow(E,2)},g.default.prototype.curve=function(){for(var y,S=arguments.length,A=new Array(S),C=0;C<S;C++)A[C]=arguments[C];return g.default._validateParameters("curve",A),this._renderer._doStroke&&(y=this._renderer).curve.apply(y,A),this},g.default.prototype.curveDetail=function(y){return g.default._validateParameters("curveDetail",arguments),this._curveDetail=y<3?3:y,this},g.default.prototype.curveTightness=function(y){return g.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=y,this},g.default.prototype.curvePoint=function(y,S,A,C,x){g.default._validateParameters("curvePoint",arguments);var E=this._renderer._curveTightness,k=x*x*x,T=x*x;return y*((E-1)/2*k+(1-E)*T+(E-1)/2*x)+S*((E+3)/2*k+(-5-E)/2*T+1)+A*((-3-E)/2*k+(E+2)*T+(1-E)/2*x)+C*((1-E)/2*k+(E-1)/2*T)},g.default.prototype.curveTangent=function(y,S,A,C,T){g.default._validateParameters("curveTangent",arguments);var E=this._renderer._curveTightness,k=T*T*3,T=2*T;return y*((E-1)/2*k+(1-E)*T+(E-1)/2)+S*((E+3)/2*k+(-5-E)/2*T)+A*((-3-E)/2*k+(E+2)*T+(1-E)/2)+C*((1-E)/2*k+(E-1)/2*T)};var b=g.default;_.default=b},{"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../main":275}],285:[function(c,m,_){function g(O){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(O)}function b(O){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(N){return g(N)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":g(N)})(O)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.slice"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(P=c("../main"))&&P.__esModule?P:{default:P},S=function(O){if(O&&O.__esModule)return O;if(O===null||b(O)!=="object"&&typeof O!="function")return{default:O};var N=A();if(N&&N.has(O))return N.get(O);var D,L={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in O){var G;Object.prototype.hasOwnProperty.call(O,D)&&((G=R?Object.getOwnPropertyDescriptor(O,D):null)&&(G.get||G.set)?Object.defineProperty(L,D,G):L[D]=O[D])}return L.default=O,N&&N.set(O,L),L}(c("../constants"));function A(){var O;return typeof WeakMap!="function"?null:(O=new WeakMap,A=function(){return O},O)}var C=null,x=[],E=[],k=!1,T=!1,I=!1,M=!1,j=!0,P=(y.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(E=[],M=!0),this},y.default.prototype.beginShape=function(O){var N;return y.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(N=this._renderer).beginShape.apply(N,arguments):(C=O===S.POINTS||O===S.LINES||O===S.TRIANGLES||O===S.TRIANGLE_FAN||O===S.TRIANGLE_STRIP||O===S.QUADS||O===S.QUAD_STRIP?O:null,x=[],E=[]),this},y.default.prototype.bezierVertex=function(){for(var O,N=arguments.length,D=new Array(N),L=0;L<N;L++)D[L]=arguments[L];if(y.default._validateParameters("bezierVertex",D),this._renderer.isP3D)(O=this._renderer).bezierVertex.apply(O,D);else if(x.length===0)y.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{k=!0;for(var R=[],G=0;G<D.length;G++)R[G]=D[G];R.isVert=!1,(M?E:x).push(R)}return this},y.default.prototype.curveVertex=function(){for(var O,N=arguments.length,D=new Array(N),L=0;L<N;L++)D[L]=arguments[L];return y.default._validateParameters("curveVertex",D),this._renderer.isP3D?(O=this._renderer).curveVertex.apply(O,D):(T=!0,this.vertex(D[0],D[1])),this},y.default.prototype.endContour=function(){if(!this._renderer.isP3D){var O=E[0].slice();O.isVert=E[0].isVert,O.moveTo=!1,E.push(O),j&&(x.push(x[0]),j=!1);for(var N=0;N<E.length;N++)x.push(E[N])}return this},y.default.prototype.endShape=function(O){var N=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(y.default._validateParameters("endShape",arguments),N<1&&(console.log(" p5.js says: You can not have less than one instance"),N=1),this._renderer.isP3D)this._renderer.endShape(O,T,k,I,M,C,N);else{if(N!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),x.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;N=O===S.CLOSE,N&&!M&&x.push(x[0]),this._renderer.endShape(O,x,T,k,I,M,C),j=!(M=I=k=T=!1),N&&x.pop()}return this},y.default.prototype.quadraticVertex=function(){for(var O,N=arguments.length,D=new Array(N),L=0;L<N;L++)D[L]=arguments[L];if(y.default._validateParameters("quadraticVertex",D),this._renderer.isP3D)(O=this._renderer).quadraticVertex.apply(O,D);else{if(this._contourInited)return(O={}).x=D[0],O.y=D[1],O.x3=D[2],O.y3=D[3],O.type=S.QUADRATIC,this._contourVertices.push(O),this;if(0<x.length){I=!0;for(var R=[],G=0;G<D.length;G++)R[G]=D[G];R.isVert=!1,(M?E:x).push(R)}else y.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},y.default.prototype.vertex=function(O,N,D,L,R){var G;return this._renderer.isP3D?(G=this._renderer).vertex.apply(G,arguments):((G=[]).isVert=!0,G[0]=O,G[1]=N,G[2]=0,G[3]=0,G[4]=0,G[5]=this._renderer._getFill(),G[6]=this._renderer._getStroke(),D&&(G.moveTo=D),(M?(E.length===0&&(G.moveTo=!0),E):x).push(G)),this},y.default.prototype.normal=function(O,N,D){var L;return this._assert3d("normal"),y.default._validateParameters("normal",arguments),(L=this._renderer).normal.apply(L,arguments),this},y.default);_.default=P},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],286:[function(c,m,_){function g(x){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function b(x){return function(E){if(Array.isArray(E)){for(var k=0,T=new Array(E.length);k<E.length;k++)T[k]=E[k];return T}}(x)||function(E){if(Symbol.iterator in Object(E)||Object.prototype.toString.call(E)==="[object Arguments]")return Array.from(E)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(x){return(y=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(E){return g(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":g(E)})(x)}var S,A,C;c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-clamped-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-clamped-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(x,E){window.setTimeout(x,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(S=Object.keys,c=Object.defineProperty,A=typeof Symbol=="function"&&y(Symbol())==="symbol",C=Object.prototype.propertyIsEnumerable,c(Object,"assign",{value:function(x,E){if(x==null)throw new TypeError("target must be an object");for(var k,T=Object(x),I=1;I<arguments.length;++I){var M=Object(arguments[I]),j=S(M);for(A&&Object.getOwnPropertySymbols&&j.push.apply(j,b(Object.getOwnPropertySymbols(M).filter(function(P){return function(O){return C.call(P,O)}}(M)))),k=0;k<j.length;++k)T[j[k]]=M[j[k]]}return T},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/web.dom-collections.iterator":238}],287:[function(c,m,_){c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.assign"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("./main"))&&c.__esModule?c:{default:c},c.default.prototype.noLoop=function(){this._loop=!1},c.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},c.default.prototype.isLooping=function(){return this._loop},c.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},c.default.prototype.pop=function(){var g=this._styles.pop();g?(this._renderer.pop(g.renderer),Object.assign(this,g.props)):console.warn("pop() was called without matching push()")},c.default.prototype.redraw=function(g){if(!this._inUserDraw&&this._setupDone){var b=parseInt(g),y=((isNaN(b)||b<1)&&(b=1),this._isGlobal?window:this);if(typeof y.draw=="function"){y.setup===void 0&&y.scale(y._pixelDensity,y._pixelDensity);for(var S=0;S<b;S++){y.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),y._renderer.isP3D&&y._renderer._update(),y._setProperty("frameCount",y.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{y.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},c=c.default,_.default=c},{"./main":275,"core-js/modules/es.object.assign":176}],288:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("./main"))&&c.__esModule?c:{default:c};function b(y){return function(S){if(Array.isArray(S)){for(var A=0,C=new Array(S.length);A<S.length;A++)C[A]=S[A];return C}}(y)||function(S){if(Symbol.iterator in Object(S)||Object.prototype.toString.call(S)==="[object Arguments]")return Array.from(S)}(y)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}g.default.prototype.applyMatrix=function(){var y=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||y?(y=this._renderer).applyMatrix.apply(y,b(arguments.length<=0?void 0:arguments[0])):(y=this._renderer).applyMatrix.apply(y,arguments),this},g.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},g.default.prototype.rotate=function(y,S){return g.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(y),S),this},g.default.prototype.rotateX=function(y){return this._assert3d("rotateX"),g.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(y)),this},g.default.prototype.rotateY=function(y){return this._assert3d("rotateY"),g.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(y)),this},g.default.prototype.rotateZ=function(y){return this._assert3d("rotateZ"),g.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(y)),this},g.default.prototype.scale=function(y,S,A){var C;return g.default._validateParameters("scale",arguments),y instanceof g.default.Vector?(y=(C=y).x,S=C.y,A=C.z):y instanceof Array&&(y=(C=y)[0],S=C[1],A=C[2]||1),isNaN(S)?S=A=y:isNaN(A)&&(A=1),this._renderer.scale.call(this._renderer,y,S,A),this},g.default.prototype.shearX=function(y){return g.default._validateParameters("shearX",arguments),y=this._toRadians(y),this._renderer.applyMatrix(1,0,Math.tan(y),1,0,0),this},g.default.prototype.shearY=function(y){return g.default._validateParameters("shearY",arguments),y=this._toRadians(y),this._renderer.applyMatrix(1,Math.tan(y),0,1,0,0),this},g.default.prototype.translate=function(y,S,A){return g.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(y,S,A):this._renderer.translate(y,S),this},c=g.default,_.default=c},{"./main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238}],289:[function(c,m,_){function g(A){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(A)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.ends-with"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.ends-with"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator");var b=(c=c("../core/main"))&&c.__esModule?c:{default:c};function y(A){return function(C){if(Array.isArray(C)){for(var x=0,E=new Array(C.length);x<C.length;x++)E[x]=C[x];return E}}(A)||function(C){if(Symbol.iterator in Object(C)||Object.prototype.toString.call(C)==="[object Arguments]")return Array.from(C)}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(A){return(S=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(C){return g(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":g(C)})(A)}b.default.prototype.storeItem=function(A,C){typeof A!="string"&&console.log("The argument that you passed to storeItem() - ".concat(A," is not a string.")),A.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(A," must not end with 'p5TypeID'.")),C===void 0&&console.log("You cannot store undefined variables using storeItem().");var x=S(C);switch(x){case"number":case"boolean":C=C.toString();break;case"object":C instanceof b.default.Color?x="p5.Color":C instanceof b.default.Vector&&(x="p5.Vector",C=[C.x,C.y,C.z]),C=JSON.stringify(C)}localStorage.setItem(A,C),A="".concat(A,"p5TypeID"),localStorage.setItem(A,x)},b.default.prototype.getItem=function(A){var C=localStorage.getItem(A),x=localStorage.getItem("".concat(A,"p5TypeID"));if(x===void 0)console.log("Unable to determine type of item stored under ".concat(A,"in local storage. Did you save the item with something other than setItem()?"));else if(C!==null)switch(x){case"number":C=parseFloat(C);break;case"boolean":C=C==="true";break;case"object":C=JSON.parse(C);break;case"p5.Color":C=JSON.parse(C),C=this.color.apply(this,y(C.levels));break;case"p5.Vector":C=JSON.parse(C),C=this.createVector.apply(this,y(C))}return C},b.default.prototype.clearStorage=function(){localStorage.clear()},b.default.prototype.removeItem=function(A){typeof A!="string"&&console.log("The argument that you passed to removeItem() - ".concat(A," is not a string.")),localStorage.removeItem(A),localStorage.removeItem("".concat(A,"p5TypeID"))}},{"../core/main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],290:[function(c,m,_){function g(I){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(I)}function b(I){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(M){return g(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":g(M)})(I)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.object.keys"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(c=c("../core/main"))&&c.__esModule?c:{default:c};function S(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),M&&A(I,M)}function A(I,M){return(A=Object.setPrototypeOf||function(j,P){return j.__proto__=P,j})(I,M)}function C(I){return function(){var M,j=x(I),j=(M=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(M=x(this).constructor,Reflect.construct(j,arguments,M)):j.apply(this,arguments),this);if(!M||b(M)!=="object"&&typeof M!="function"){if(j!==void 0)return j;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return M}}function x(I){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(I)}function E(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function k(I,M){for(var j=0;j<M.length;j++){var P=M[j];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(I,P.key,P)}}function T(I,M,j){M&&k(I.prototype,M),j&&k(I,j)}y.default.prototype.createStringDict=function(I,M){return y.default._validateParameters("createStringDict",arguments),new y.default.StringDict(I,M)},y.default.prototype.createNumberDict=function(I,M){return y.default._validateParameters("createNumberDict",arguments),new y.default.NumberDict(I,M)},y.default.TypedDict=function(){function I(M,j){return E(this,I),M instanceof Object?this.data=M:(this.data={},this.data[M]=j),this}return T(I,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(M){return this.data.hasOwnProperty(M)}},{key:"get",value:function(M){if(this.data.hasOwnProperty(M))return this.data[M];console.log("".concat(M," does not exist in this Dictionary"))}},{key:"set",value:function(M,j){this._validate(j)?this.data[M]=j:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(M){for(var j in M)this.set(j,M[j])}},{key:"create",value:function(M,j){M instanceof Object&&j===void 0?this._addObj(M):M!==void 0?this.set(M,j):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(M){if(!this.data.hasOwnProperty(M))throw new Error("".concat(M," does not exist in this Dictionary"));delete this.data[M]}},{key:"print",value:function(){for(var M in this.data)console.log("key:".concat(M," value:").concat(this.data[M]))}},{key:"saveTable",value:function(M){var j,P="";for(j in this.data)P+="".concat(j,",").concat(this.data[j],`
`);var O=new Blob([P],{type:"text/csv"});y.default.prototype.downloadFile(O,M||"mycsv","csv")}},{key:"saveJSON",value:function(M,j){y.default.prototype.saveJSON(this.data,M,j)}},{key:"_validate",value:function(M){return!0}}]),I}(),y.default.StringDict=function(){S(M,y.default.TypedDict);var I=C(M);function M(){E(this,M);for(var j=arguments.length,P=new Array(j),O=0;O<j;O++)P[O]=arguments[O];return I.call.apply(I,[this].concat(P))}return T(M,[{key:"_validate",value:function(j){return typeof j=="string"}}]),M}(),y.default.NumberDict=function(){S(M,y.default.TypedDict);var I=C(M);function M(){E(this,M);for(var j=arguments.length,P=new Array(j),O=0;O<j;O++)P[O]=arguments[O];return I.call.apply(I,[this].concat(P))}return T(M,[{key:"_validate",value:function(j){return typeof j=="number"}},{key:"add",value:function(j,P){this.data.hasOwnProperty(j)?this.data[j]+=P:console.log("The key - ".concat(j," does not exist in this dictionary."))}},{key:"sub",value:function(j,P){this.add(j,-P)}},{key:"mult",value:function(j,P){this.data.hasOwnProperty(j)?this.data[j]*=P:console.log("The key - ".concat(j," does not exist in this dictionary."))}},{key:"div",value:function(j,P){this.data.hasOwnProperty(j)?this.data[j]/=P:console.log("The key - ".concat(j," does not exist in this dictionary."))}},{key:"_valueTest",value:function(j){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var P,O=this.data[Object.keys(this.data)[0]];for(P in this.data)this.data[P]*j<O*j&&(O=this.data[P]);return O}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(j){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var P=Object.keys(this.data)[0],O=1;O<Object.keys(this.data).length;O++)Object.keys(this.data)[O]*j<P*j&&(P=Object.keys(this.data)[O]);return P}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),M}(),c=y.default.TypedDict,_.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],291:[function(c,m,_){function g(P){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(P)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.get-prototype-of"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/web.url"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/web.url"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var b=(c=c("../core/main"))&&c.__esModule?c:{default:c};function y(P,O){for(var N=0;N<O.length;N++){var D=O[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}function S(P,O,N){O&&y(P.prototype,O),N&&y(P,N)}function A(P,O){return(A=Object.setPrototypeOf||function(N,D){return N.__proto__=D,N})(P,O)}function C(P){return function(){var O,N,D=E(P);return O=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(O=E(this).constructor,Reflect.construct(D,arguments,O)):D.apply(this,arguments),D=this,!(N=O)||T(N)!=="object"&&typeof N!="function"?x(D):N}}function x(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function E(P){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(P)}function k(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function T(P){return(T=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(O){return g(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":g(O)})(P)}function I(P,O,N){return(O._userNode||document.body).appendChild(P),N=new(N?b.default.MediaElement:b.default.Element)(P,O),O._elements.push(N),N}function M(P,G,N,D){var L=document.createElement(G),R=(typeof(N=N||"")=="string"&&(N=[N]),!0),G=!1,Z=void 0;try{for(var B,J=N[Symbol.iterator]();!(R=(B=J.next()).done);R=!0){var K=B.value,ee=document.createElement("source");ee.setAttribute("src",K),L.appendChild(ee)}}catch(z){G=!0,Z=z}finally{try{R||J.return==null||J.return()}finally{if(G)throw Z}}typeof D=="function"&&L.addEventListener("canplaythrough",function z(){D(),L.removeEventListener("canplaythrough",z)});var V=I(L,P,!0);return V.loadedmetadata=!1,L.addEventListener("loadedmetadata",function(){V.width=L.videoWidth,V.height=L.videoHeight,V.elt.width===0&&(V.elt.width=L.videoWidth),V.elt.height===0&&(V.elt.height=L.videoHeight),V.presetPlaybackRate&&(V.elt.playbackRate=V.presetPlaybackRate,delete V.presetPlaybackRate),V.loadedmetadata=!0}),V}b.default.prototype.select=function(P,O){return b.default._validateParameters("select",arguments),O=this._getContainer(O).querySelector(P),O?this._wrapElement(O):null},b.default.prototype.selectAll=function(P,O){b.default._validateParameters("selectAll",arguments);var N=[],D=this._getContainer(O).querySelectorAll(P);if(D)for(var L=0;L<D.length;L++){var R=this._wrapElement(D[L]);N.push(R)}return N},b.default.prototype._getContainer=function(P){var O=document;return typeof P=="string"?O=document.querySelector(P)||document:P instanceof b.default.Element?O=P.elt:P instanceof HTMLElement&&(O=P),O},b.default.prototype._wrapElement=function(P){var O,N=Array.prototype.slice.call(P.children);return P.tagName==="INPUT"&&P.type==="checkbox"?((O=new b.default.Element(P,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},O):P.tagName==="VIDEO"||P.tagName==="AUDIO"?new b.default.MediaElement(P,this):P.tagName==="SELECT"?this.createSelect(new b.default.Element(P,this)):0<N.length&&N.every(function(D){return D.tagName==="INPUT"||D.tagName==="LABEL"})?this.createRadio(new b.default.Element(P,this)):new b.default.Element(P,this)},b.default.prototype.removeElements=function(P){b.default._validateParameters("removeElements",arguments),this._elements.filter(function(O){return!(O.elt instanceof HTMLCanvasElement)}).map(function(O){return O.remove()})},b.default.Element.prototype.changed=function(P){return b.default.Element._adjustListener("change",P,this),this},b.default.Element.prototype.input=function(P){return b.default.Element._adjustListener("input",P,this),this},b.default.prototype.createDiv=function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",O=document.createElement("div");return O.innerHTML=P,I(O,this)},b.default.prototype.createP=function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",O=document.createElement("p");return O.innerHTML=P,I(O,this)},b.default.prototype.createSpan=function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",O=document.createElement("span");return O.innerHTML=P,I(O,this)},b.default.prototype.createImg=function(){b.default._validateParameters("createImg",arguments);var P,O=document.createElement("img"),N=arguments;return 1<N.length&&typeof N[1]=="string"&&(O.alt=N[1]),2<N.length&&typeof N[2]=="string"&&(O.crossOrigin=N[2]),O.src=N[0],P=I(O,this),O.addEventListener("load",function(){P.width=O.offsetWidth||O.width,P.height=O.offsetHeight||O.height;var D=N[N.length-1];typeof D=="function"&&D(P)}),P},b.default.prototype.createA=function(P,O,N){b.default._validateParameters("createA",arguments);var D=document.createElement("a");return D.href=P,D.innerHTML=O,N&&(D.target=N),I(D,this)},b.default.prototype.createSlider=function(P,O,N,D){b.default._validateParameters("createSlider",arguments);var L=document.createElement("input");return L.type="range",L.min=P,L.max=O,D===0?L.step=1e-18:D&&(L.step=D),typeof N=="number"&&(L.value=N),I(L,this)},b.default.prototype.createButton=function(P,O){b.default._validateParameters("createButton",arguments);var N=document.createElement("button");return N.innerHTML=P,O&&(N.value=O),I(N,this)},b.default.prototype.createCheckbox=function(){for(var P=arguments.length,O=new Array(P),N=0;N<P;N++)O[N]=arguments[N];b.default._validateParameters("createCheckbox",O);var D=document.createElement("div"),L=document.createElement("input"),R=(L.type="checkbox",document.createElement("label")),G=(R.appendChild(L),D.appendChild(R),I(D,this));return G.checked=function(){var Z=G.elt.firstElementChild.getElementsByTagName("input")[0];if(Z){if(arguments.length===0)return Z.checked;Z.checked=!(arguments.length<=0||!arguments[0])}return G},this.value=function(Z){return G.value=Z,this},O[0]&&(G.value(O[0]),(D=document.createElement("span")).innerHTML=O[0],R.appendChild(D)),O[1]&&(L.checked=!0),G},b.default.prototype.createSelect=function(){for(var P,O=arguments.length,N=new Array(O),D=0;D<O;D++)N[D]=arguments[D];b.default._validateParameters("createSelect",N);var L,R=N[0];return R instanceof b.default.Element&&R.elt instanceof HTMLSelectElement?this.elt=(P=R).elt:R instanceof HTMLSelectElement?(P=I(R,this),this.elt=R):(L=document.createElement("select"),R&&typeof R=="boolean"&&L.setAttribute("multiple","true"),P=I(L,this),this.elt=L),P.option=function(G,Z){var B;if(G!==void 0){for(var J,K=0;K<this.elt.length;K+=1)if(this.elt[K].textContent===G){B=K;break}B!==void 0?Z===!1?this.elt.remove(B):this.elt[B].value=Z:((J=document.createElement("option")).textContent=G,J.value=Z===void 0?G:Z,this.elt.appendChild(J),this._pInst._elements.push(J))}},P.selected=function(G){if(G!==void 0){for(var Z=0;Z<this.elt.length;Z+=1)this.elt[Z].value.toString()===G.toString()&&(this.elt.selectedIndex=Z);return this}if(this.elt.getAttribute("multiple")){var B=[],J=!0,K=!1,ee=void 0;try{for(var V,z=this.elt.selectedOptions[Symbol.iterator]();!(J=(V=z.next()).done);J=!0){var X=V.value;B.push(X.value)}}catch(U){K=!0,ee=U}finally{try{J||z.return==null||z.return()}finally{if(K)throw ee}}return B}return this.elt.value},P.disable=function(G){if(typeof G=="string")for(var Z=0;Z<this.elt.length;Z++)this.elt[Z].value.toString()===G&&(this.elt[Z].disabled=!0,this.elt[Z].selected=!1);else this.elt.disabled=!0;return this},P.enable=function(G){if(typeof G=="string")for(var Z=0;Z<this.elt.length;Z++)this.elt[Z].value.toString()===G&&(this.elt[Z].disabled=!1,this.elt[Z].selected=!1);else{this.elt.disabled=!1;for(var B=0;B<this.elt.length;B++)this.elt[B].disabled=!1,this.elt[B].selected=!1}return this},P},b.default.prototype.createRadio=function(){function P(G){return G instanceof HTMLInputElement&&G.type==="radio"}function O(G){return G instanceof HTMLLabelElement}var N,D,L,R=arguments.length<=0?void 0:arguments[0];return R instanceof b.default.Element&&(R.elt instanceof HTMLDivElement||R.elt instanceof HTMLSpanElement)?(N=R,this.elt=R.elt):R instanceof HTMLDivElement||R instanceof HTMLSpanElement?(N=I(R,this),D=this.elt=R,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(L=arguments.length<=1?void 0:arguments[1])):(typeof R=="string"&&(L=R),D=document.createElement("div"),N=I(D,this),this.elt=D),N._name=L||"radioOption",N._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(G){return P(G)||O(G)&&P(G.firstElementChild)}).map(function(G){return P(G)?G:G.firstElementChild})},N.option=function(G,Z){var B,J,K,ee=!0,V=!1,z=void 0;try{for(var X,U=N._getOptionsArray()[Symbol.iterator]();!(ee=(X=U.next()).done);ee=!0){var $=X.value;if($.value===G){B=$;break}}}catch(ae){V=!0,z=ae}finally{try{ee||U.return==null||U.return()}finally{if(V)throw z}}return B===void 0&&((B=document.createElement("input")).setAttribute("type","radio"),B.setAttribute("value",G)),B.setAttribute("name",N._name),O(B.parentElement)?J=B.parentElement:(J=document.createElement("label")).insertAdjacentElement("afterbegin",B),J.lastElementChild instanceof HTMLSpanElement?K=J.lastElementChild:(K=document.createElement("span"),B.insertAdjacentElement("afterend",K)),K.innerHTML=Z===void 0?G:Z,this.elt.appendChild(J),B},N.remove=function(G){var Z=!0,B=!1,J=void 0;try{for(var K,ee=N._getOptionsArray()[Symbol.iterator]();!(Z=(K=ee.next()).done);Z=!0){var V=K.value;if(V.value===G)return void(O(V.parentElement)?V.parentElement:V).remove()}}catch(z){B=!0,J=z}finally{try{Z||ee.return==null||ee.return()}finally{if(B)throw J}}},N.value=function(){var G="",Z=!0,B=!1,J=void 0;try{for(var K,ee=N._getOptionsArray()[Symbol.iterator]();!(Z=(K=ee.next()).done);Z=!0){var V=K.value;if(V.checked){G=V.value;break}}}catch(z){B=!0,J=z}finally{try{Z||ee.return==null||ee.return()}finally{if(B)throw J}}return G},N.selected=function(G){var Z=null;if(G===void 0){var B=!0,J=!1,K=void 0;try{for(var ee,V=N._getOptionsArray()[Symbol.iterator]();!(B=(ee=V.next()).done);B=!0){var z=ee.value;if(z.checked){Z=z;break}}}catch(H){J=!0,K=H}finally{try{B||V.return==null||V.return()}finally{if(J)throw K}}}else{N._getOptionsArray().forEach(function(Y){Y.checked=!1,Y.removeAttribute("checked")});var X=!0,J=!1,K=void 0;try{for(var U,$=N._getOptionsArray()[Symbol.iterator]();!(X=(U=$.next()).done);X=!0){var ae=U.value;ae.value===G&&(ae.setAttribute("checked",!0),ae.checked=!0,Z=ae)}}catch(Y){J=!0,K=Y}finally{try{X||$.return==null||$.return()}finally{if(J)throw K}}}return Z},N.disable=function(){var G=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],Z=!0,B=!1,J=void 0;try{for(var K,ee=N._getOptionsArray()[Symbol.iterator]();!(Z=(K=ee.next()).done);Z=!0)K.value.setAttribute("disabled",G)}catch(V){B=!0,J=V}finally{try{Z||ee.return==null||ee.return()}finally{if(B)throw J}}},N},b.default.prototype.createColorPicker=function(P){b.default._validateParameters("createColorPicker",arguments);var O=document.createElement("input");return O.type="color",P?P instanceof b.default.Color?O.value=P.toString("#rrggbb"):(b.default.prototype._colorMode="rgb",b.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},O.value=b.default.prototype.color(P).toString("#rrggbb")):O.value="#000000",(O=I(O,this)).color=function(){return P&&(P.mode&&(b.default.prototype._colorMode=P.mode),P.maxes&&(b.default.prototype._colorMaxes=P.maxes)),b.default.prototype.color(this.elt.value)},O},b.default.prototype.createInput=function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",N=(b.default._validateParameters("createInput",arguments),document.createElement("input"));return N.setAttribute("value",P),N.setAttribute("type",O),I(N,this)},b.default.prototype.createFileInput=function(P){var O,N=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(b.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(O=document.createElement("input")).setAttribute("type","file"),N&&O.setAttribute("multiple",!0),O.addEventListener("change",function(D){var L=!0,R=!1,G=void 0;try{for(var Z,B=D.target.files[Symbol.iterator]();!(L=(Z=B.next()).done);L=!0){var J=Z.value;b.default.File._load(J,P)}}catch(K){R=!0,G=K}finally{try{L||B.return==null||B.return()}finally{if(R)throw G}}},!1),I(O,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},b.default.prototype.createVideo=function(P,O){return b.default._validateParameters("createVideo",arguments),M(this,"video",P,O)},b.default.prototype.createAudio=function(P,O){return b.default._validateParameters("createAudio",arguments),M(this,"audio",P,O)},b.default.prototype.VIDEO="video",b.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(P){var O=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return O?new Promise(function(N,D){O.call(navigator,P,N,D)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),b.default.prototype.createCapture=function(){for(var P=arguments.length,O=new Array(P),N=0;N<P;N++)O[N]=arguments[N];if(b.default._validateParameters("createCapture",O),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var D,L=!0,R=!0,G=0,Z=O;G<Z.length;G++){var B=Z[G];B===b.default.prototype.VIDEO?R=!1:B===b.default.prototype.AUDIO?L=!1:T(B)==="object"?J=B:typeof B=="function"&&(D=B)}var J=J||{video:L,audio:R},K=document.createElement("video"),ee=(K.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(J).then(function(V){try{"srcObject"in K?K.srcObject=V:K.src=window.URL.createObjectURL(V)}catch{K.src=V}},console.log),I(K,this,!0));return ee.loadedmetadata=!1,K.addEventListener("loadedmetadata",function(){K.play(),K.width?(ee.width=K.width,ee.height=K.height):(ee.width=ee.elt.width=K.videoWidth,ee.height=ee.elt.height=K.videoHeight),ee.loadedmetadata=!0,D&&D(K.srcObject)}),ee},b.default.prototype.createElement=function(P,O){return b.default._validateParameters("createElement",arguments),P=document.createElement(P),O!==void 0&&(P.innerHTML=O),I(P,this)},b.default.Element.prototype.addClass=function(P){return this.elt.className?this.hasClass(P)||(this.elt.className=this.elt.className+" "+P):this.elt.className=P,this},b.default.Element.prototype.removeClass=function(P){return this.elt.classList.remove(P),this},b.default.Element.prototype.hasClass=function(P){return this.elt.classList.contains(P)},b.default.Element.prototype.toggleClass=function(P){return this.elt.classList.contains(P)?this.elt.classList.remove(P):this.elt.classList.add(P),this},b.default.Element.prototype.child=function(P){return P===void 0?this.elt.childNodes:(typeof P=="string"?(P[0]==="#"&&(P=P.substring(1)),P=document.getElementById(P)):P instanceof b.default.Element&&(P=P.elt),P instanceof HTMLElement&&this.elt.appendChild(P),this)},b.default.Element.prototype.center=function(P){var O=this.elt.style.display,N=this.elt.style.display==="none",D=this.parent().style.display==="none",L={x:this.elt.offsetLeft,y:this.elt.offsetTop},R=(N&&this.show(),D&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),G=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return P==="both"||P===void 0?this.position(R/2+this.parent().offsetLeft,G/2+this.parent().offsetTop):P==="horizontal"?this.position(R/2+this.parent().offsetLeft,L.y):P==="vertical"&&this.position(L.x,G/2+this.parent().offsetTop),this.style("display",O),N&&this.hide(),D&&this.parent().hide(),this},b.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},b.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},b.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var P="";return this.elt.style.transform&&(P=(P=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=P,this},b.default.Element.prototype._rotate=function(){var P="";return this.elt.style.transform&&(P=(P=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=P,this},b.default.Element.prototype.style=function(P,O){if((O=O instanceof b.default.Color?"rgba("+O.levels[0]+","+O.levels[1]+","+O.levels[2]+","+O.levels[3]/255+")":O)===void 0){if(P.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(P);for(var N=P.split(";"),D=0;D<N.length;D++){var L=N[D].split(":");L[0]&&L[1]&&(this.elt.style[L[0].trim()]=L[1].trim())}}else this.elt.style[P]=O,P!=="width"&&P!=="height"&&P!=="left"&&P!=="top"||(O=window.getComputedStyle(this.elt).getPropertyValue(P).replace(/[^\d.]/g,""),this[P]=Math.round(parseFloat(O,10)));return this},b.default.Element.prototype.attribute=function(P,O){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return O===void 0?this.elt.getAttribute(P):(this.elt.setAttribute(P,O),this);if(O===void 0)return this.elt.firstChild.getAttribute(P);for(var N=0;N<this.elt.childNodes.length;N++)this.elt.childNodes[N].setAttribute(P,O)},b.default.Element.prototype.removeAttribute=function(P){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var O=0;O<this.elt.childNodes.length;O++)this.elt.childNodes[O].removeAttribute(P);return this.elt.removeAttribute(P),this},b.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},b.default.Element.prototype.show=function(){return this.elt.style.display="block",this},b.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},b.default.Element.prototype.size=function(P,O){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var N=P,D=O,L=b.default.prototype.AUTO;if(N!==L||D!==L){if(N===L?N=O*this.width/this.height:D===L&&(D=P*this.height/this.width),this.elt instanceof HTMLCanvasElement){var R,G={},Z=this.elt.getContext("2d");for(R in Z)G[R]=Z[R];for(R in this.elt.setAttribute("width",N*this._pInst._pixelDensity),this.elt.setAttribute("height",D*this._pInst._pixelDensity),this.elt.style.width=N+"px",this.elt.style.height=D+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),G)this.elt.getContext("2d")[R]=G[R]}else this.elt.style.width=N+"px",this.elt.style.height=D+"px",this.elt.width=N,this.elt.height=D;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},b.default.Element.prototype.remove=function(){this instanceof b.default.MediaElement&&(this.stop(),(O=this.elt.srcObject)!==null&&O.getTracks().forEach(function(N){N.stop()}));var P,O=this._pInst._elements.indexOf(this);for(P in O!==-1&&this._pInst._elements.splice(O,1),this._events)this.elt.removeEventListener(P,this._events[P]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},b.default.Element.prototype.drop=function(P,O){var N;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",N=function(D){D.preventDefault()}),this.elt.addEventListener("dragleave",N)),b.default.Element._attachListener("drop",function(L){L.preventDefault(),typeof O=="function"&&O.call(this,L);var L=L.dataTransfer.files,R=!0,G=!1,Z=void 0;try{for(var B,J=L[Symbol.iterator]();!(R=(B=J.next()).done);R=!0){var K=B.value;b.default.File._load(K,P)}}catch(ee){G=!0,Z=ee}finally{try{R||J.return==null||J.return()}finally{if(G)throw Z}}},this)):console.log("The File APIs are not fully supported in this browser."),this};function j(P,O,N,D){k(this,j),this.callback=P,this.time=O,this.id=N,this.val=D}c=function(P){var O=D;if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(P&&P.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),P&&A(O,P);var N=C(D);function D(L,R){k(this,D);var G=x(R=N.call(this,L,R));return R.elt.crossOrigin="anonymous",R._prevTime=0,R._cueIDCounter=0,R._cues=[],R.pixels=[],R._pixelsState=x(R),R._pixelDensity=1,R._modified=!1,R._frameOnCanvas=-1,Object.defineProperty(G,"src",{get:function(){var Z=G.elt.children[0].src,B=G.elt.src===window.location.href?"":G.elt.src;return Z===window.location.href?B:Z},set:function(Z){for(var B=0;B<G.elt.children.length;B++)G.elt.removeChild(G.elt.children[B]);var J=document.createElement("source");J.src=Z,L.appendChild(J),G.elt.src=Z,G.modified=!0}}),G._onended=function(){},G.elt.onended=function(){G._onended(G)},R}return S(D,[{key:"play",value:function(){var L;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(L=this.elt.play())&&L.catch&&L.catch(function(R){R.name==="NotAllowedError"?console.error(R):console.error("Media play method encountered an unexpected error",R)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var L=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(L)},{passive:!0,once:!0})}},{key:"autoplay",value:function(L){var R=this,G=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",L),L&&!G&&(L=function(){return R._setupAutoplayFailDetection()},this.elt.readyState===4?L():this.elt.addEventListener("canplay",L,{passive:!0,once:!0})),this}},{key:"volume",value:function(L){if(L===void 0)return this.elt.volume;this.elt.volume=L}},{key:"speed",value:function(L){if(L===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=L:this.presetPlaybackRate=L}},{key:"time",value:function(L){return L===void 0?this.elt.currentTime:(this.elt.currentTime=L,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var L=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&L&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var L=arguments.length,R=new Array(L),G=0;G<L;G++)R[G]=arguments[G];return b.default.Renderer2D.prototype.loadPixels.apply(this,R)}},{key:"updatePixels",value:function(L,R,G,Z){return this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.updatePixels.call(this,L,R,G,Z)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var L=arguments.length,R=new Array(L),G=0;G<L;G++)R[G]=arguments[G];return b.default.Renderer2D.prototype.get.apply(this,R)}},{key:"_getPixel",value:function(){this.loadPixels();for(var L=arguments.length,R=new Array(L),G=0;G<L;G++)R[G]=arguments[G];return b.default.Renderer2D.prototype._getPixel.apply(this,R)}},{key:"set",value:function(L,R,G){this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.set.call(this,L,R,G),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var L=arguments.length,R=new Array(L),G=0;G<L;G++)R[G]=arguments[G];b.default.prototype.copy.apply(this,R)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var L=arguments.length,R=new Array(L),G=0;G<L;G++)R[G]=arguments[G];b.default.Image.prototype.mask.apply(this,R)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(L){this._modified=L}},{key:"onended",value:function(L){return this._onended=L,this}},{key:"connect",value:function(L){var R,G;if(typeof b.default.prototype.getAudioContext=="function")R=b.default.prototype.getAudioContext(),G=b.default.soundOut.input;else try{G=(R=L.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=R.createMediaElementSource(this.elt),this.audioSourceNode.connect(G)),L?L.input?this.audioSourceNode.connect(L.input):this.audioSourceNode.connect(L):this.audioSourceNode.connect(G)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(L,B,G){var Z=this._cueIDCounter++,B=new j(B,L,Z,G);return this._cues.push(B),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),Z}},{key:"removeCue",value:function(L){for(var R=0;R<this._cues.length;R++)this._cues[R].id===L&&(console.log(L),this._cues.splice(R,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var L=this.time(),R=0;R<this._cues.length;R++){var G=this._cues[R].time,Z=this._cues[R].val;this._prevTime<G&&G<=L&&this._cues[R].callback(Z)}this._prevTime=L}}]),D}(b.default.Element),b.default.MediaElement=c,c=function(){function P(O,N){k(this,P),this.file=O,this._pInst=N,N=O.type.split("/"),this.type=N[0],this.subtype=N[1],this.name=O.name,this.size=O.size,this.data=void 0}return S(P,null,[{key:"_createLoader",value:function(O,N){var D=new FileReader;return D.onload=function(L){var R,G=new b.default.File(O);G.file.type==="application/json"?G.data=JSON.parse(L.target.result):G.file.type==="text/xml"?(R=new DOMParser().parseFromString(L.target.result,"text/xml"),G.data=new b.default.XML(R.documentElement)):G.data=L.target.result,N(G)},D}},{key:"_load",value:function(O,N){var D;/^text\//.test(O.type)||O.type==="application/json"?b.default.File._createLoader(O,N).readAsText(O):/^(video|audio)\//.test(O.type)?((D=new b.default.File(O)).data=URL.createObjectURL(O),N(D)):b.default.File._createLoader(O,N).readAsDataURL(O)}}]),P}(),b.default.File=c,c=b.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240}],292:[function(c,m,_){function g(O){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(O)}function b(O){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(N){return g(N)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":g(N)})(O)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(P=c("../core/main"))&&P.__esModule?P:{default:P},S=function(O){if(O&&O.__esModule)return O;if(O===null||b(O)!=="object"&&typeof O!="function")return{default:O};var N=A();if(N&&N.has(O))return N.get(O);var D,L={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in O){var G;Object.prototype.hasOwnProperty.call(O,D)&&((G=R?Object.getOwnPropertyDescriptor(O,D):null)&&(G.get||G.set)?Object.defineProperty(L,D,G):L[D]=O[D])}return L.default=O,N&&N.set(O,L),L}(c("../core/constants"));function A(){var O;return typeof WeakMap!="function"?null:(O=new WeakMap,A=function(){return O},O)}y.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",y.default.prototype.accelerationX=0,y.default.prototype.accelerationY=0,y.default.prototype.accelerationZ=0,y.default.prototype.pAccelerationX=0,y.default.prototype.pAccelerationY=0,y.default.prototype.pAccelerationZ=0,y.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},y.default.prototype.rotationX=0,y.default.prototype.rotationY=0,y.default.prototype.rotationZ=0,y.default.prototype.pRotationX=0,y.default.prototype.pRotationY=0;var C=y.default.prototype.pRotationZ=0,x=0,E=0,k="clockwise",T="clockwise",I="clockwise",M=(y.default.prototype.pRotateDirectionX=void 0,y.default.prototype.pRotateDirectionY=void 0,y.default.prototype.pRotateDirectionZ=void 0,y.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},y.default.prototype.turnAxis=void 0,.5),j=30,P=(y.default.prototype.setMoveThreshold=function(O){y.default._validateParameters("setMoveThreshold",arguments),M=O},y.default.prototype.setShakeThreshold=function(O){y.default._validateParameters("setShakeThreshold",arguments),j=O},y.default.prototype._ondeviceorientation=function(O){this._updatePRotations(),this._angleMode===S.radians&&(O.beta=O.beta*(_PI/180),O.gamma=O.gamma*(_PI/180),O.alpha=O.alpha*(_PI/180)),this._setProperty("rotationX",O.beta),this._setProperty("rotationY",O.gamma),this._setProperty("rotationZ",O.alpha),this._handleMotion()},y.default.prototype._ondevicemotion=function(O){this._updatePAccelerations(),this._setProperty("accelerationX",2*O.acceleration.x),this._setProperty("accelerationY",2*O.acceleration.y),this._setProperty("accelerationZ",2*O.acceleration.z),this._handleMotion()},y.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var O,N,D,L,R,G=this._isGlobal?window:this;typeof G.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>M||Math.abs(this.accelerationY-this.pAccelerationY)>M||Math.abs(this.accelerationZ-this.pAccelerationZ)>M)&&G.deviceMoved(),typeof G.deviceTurned=="function"&&(N=this.rotationX+180,O=this.pRotationX+180,D=C+180,0<N-O&&N-O<270||N-O<-270?k="clockwise":(N-O<0||270<N-O)&&(k="counter-clockwise"),k!==this.pRotateDirectionX&&(D=N),90<Math.abs(N-D)&&Math.abs(N-D)<270&&(D=N,this._setProperty("turnAxis","X"),G.deviceTurned()),this.pRotateDirectionX=k,C=D-180,O=this.rotationY+180,N=this.pRotationY+180,D=x+180,0<O-N&&O-N<270||O-N<-270?T="clockwise":(O-N<0||270<O-this.pRotationY)&&(T="counter-clockwise"),T!==this.pRotateDirectionY&&(D=O),90<Math.abs(O-D)&&Math.abs(O-D)<270&&(D=O,this._setProperty("turnAxis","Y"),G.deviceTurned()),this.pRotateDirectionY=T,x=D-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?I="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(I="counter-clockwise"),I!==this.pRotateDirectionZ&&(E=this.rotationZ),90<Math.abs(this.rotationZ-E)&&Math.abs(this.rotationZ-E)<270&&(E=this.rotationZ,this._setProperty("turnAxis","Z"),G.deviceTurned()),this.pRotateDirectionZ=I,this._setProperty("turnAxis",void 0)),typeof G.deviceShaken=="function"&&(this.pAccelerationX!==null&&(L=Math.abs(this.accelerationX-this.pAccelerationX),R=Math.abs(this.accelerationY-this.pAccelerationY)),j<L+R&&G.deviceShaken())},y.default);_.default=P},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],293:[function(c,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};g.default.prototype.isKeyPressed=!1,g.default.prototype.keyIsPressed=!1,g.default.prototype.key="",g.default.prototype.keyCode=0,g.default.prototype._onkeydown=function(b){var y;this._downKeys[b.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",b.which),this._downKeys[b.which]=!0,this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),typeof(y=this._isGlobal?window:this).keyPressed!="function"||b.charCode||y.keyPressed(b)===!1&&b.preventDefault())},g.default.prototype._onkeyup=function(b){this._downKeys[b.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),this._setProperty("keyCode",b.which);var y=this._isGlobal?window:this;typeof y.keyReleased=="function"&&y.keyReleased(b)===!1&&b.preventDefault()},g.default.prototype._onkeypress=function(b){var y;b.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",b.which),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),typeof(y=this._isGlobal?window:this).keyTyped=="function"&&y.keyTyped(b)===!1&&b.preventDefault())},g.default.prototype._onblur=function(b){this._downKeys={}},g.default.prototype.keyIsDown=function(b){return g.default._validateParameters("keyIsDown",arguments),this._downKeys[b]||!1},g.default.prototype._areDownKeys=function(){for(var b in this._downKeys)if(this._downKeys.hasOwnProperty(b)&&this._downKeys[b]===!0)return!0;return!1},c=g.default,_.default=c},{"../core/main":275}],294:[function(c,m,_){function g(C){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(C)}function b(C){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(x){return g(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":g(x)})(C)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.string.includes"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(y=c("../core/main"))&&y.__esModule?y:{default:y},S=function(C){if(C&&C.__esModule)return C;if(C===null||b(C)!=="object"&&typeof C!="function")return{default:C};var x=A();if(x&&x.has(C))return x.get(C);var E,k={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in C){var I;Object.prototype.hasOwnProperty.call(C,E)&&((I=T?Object.getOwnPropertyDescriptor(C,E):null)&&(I.get||I.set)?Object.defineProperty(k,E,I):k[E]=C[E])}return k.default=C,x&&x.set(C,k),k}(c("../core/constants"));function A(){var C;return typeof WeakMap!="function"?null:(C=new WeakMap,A=function(){return C},C)}y.default.prototype.movedX=0,y.default.prototype.movedY=0,y.default.prototype._hasMouseInteracted=!1,y.default.prototype.mouseX=0,y.default.prototype.mouseY=0,y.default.prototype.pmouseX=0,y.default.prototype.pmouseY=0,y.default.prototype.winMouseX=0,y.default.prototype.winMouseY=0,y.default.prototype.pwinMouseX=0,y.default.prototype.pwinMouseY=0,y.default.prototype.mouseButton=0,y.default.prototype.mouseIsPressed=!1,y.default.prototype._updateNextMouseCoords=function(C){var x,E,k,T,I;this._curElement!==null&&(!C.touches||0<C.touches.length)&&(x=this._curElement.elt,E=this.width,k=this.height,(T=C)&&!T.clientX&&(T.touches?T=T.touches[0]:T.changedTouches&&(T=T.changedTouches[0])),I=x.getBoundingClientRect(),E=x.scrollWidth/E||1,x=x.scrollHeight/k||1,k={x:(T.clientX-I.left)/E,y:(T.clientY-I.top)/x,winX:T.clientX,winY:T.clientY,id:T.identifier},this._setProperty("movedX",C.movementX),this._setProperty("movedY",C.movementY),this._setProperty("mouseX",k.x),this._setProperty("mouseY",k.y),this._setProperty("winMouseX",k.winX),this._setProperty("winMouseY",k.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},y.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},y.default.prototype._setMouseButton=function(C){C.button===1?this._setProperty("mouseButton",S.CENTER):C.button===2?this._setProperty("mouseButton",S.RIGHT):this._setProperty("mouseButton",S.LEFT)},y.default.prototype._onmousemove=function(C){var x=this._isGlobal?window:this;this._updateNextMouseCoords(C),this.mouseIsPressed?typeof x.mouseDragged=="function"?x.mouseDragged(C)===!1&&C.preventDefault():typeof x.touchMoved=="function"&&x.touchMoved(C)===!1&&C.preventDefault():typeof x.mouseMoved=="function"&&x.mouseMoved(C)===!1&&C.preventDefault()},y.default.prototype._onmousedown=function(C){var x=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(C),this._updateNextMouseCoords(C),typeof x.mousePressed=="function"?x.mousePressed(C)===!1&&C.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof x.touchStarted=="function"&&x.touchStarted(C)===!1&&C.preventDefault()},y.default.prototype._onmouseup=function(C){var x=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof x.mouseReleased=="function"?x.mouseReleased(C)===!1&&C.preventDefault():typeof x.touchEnded=="function"&&x.touchEnded(C)===!1&&C.preventDefault()},y.default.prototype._ondragend=y.default.prototype._onmouseup,y.default.prototype._ondragover=y.default.prototype._onmousemove,y.default.prototype._onclick=function(C){var x=this._isGlobal?window:this;typeof x.mouseClicked=="function"&&x.mouseClicked(C)===!1&&C.preventDefault()},y.default.prototype._ondblclick=function(C){var x=this._isGlobal?window:this;typeof x.doubleClicked=="function"&&x.doubleClicked(C)===!1&&C.preventDefault()},y.default.prototype._mouseWheelDeltaY=0,y.default.prototype._pmouseWheelDeltaY=0,y.default.prototype._onwheel=function(C){var x=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",C.deltaY),typeof x.mouseWheel=="function"&&(C.delta=C.deltaY,x.mouseWheel(C)===!1&&C.preventDefault())},y.default.prototype.requestPointerLock=function(){var C=this._curElement.elt;return C.requestPointerLock=C.requestPointerLock||C.mozRequestPointerLock,C.requestPointerLock?(C.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},y.default.prototype.exitPointerLock=function(){document.exitPointerLock()},c=y.default,_.default=c},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],295:[function(c,m,_){c("core-js/modules/es.array.includes"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.string.includes"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype.touches=[],c.default.prototype._updateTouchCoords=function(g){if(this._curElement!==null){for(var b=[],y=0;y<g.touches.length;y++)b[y]=function(I,T,M,x){var E=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,k=I.getBoundingClientRect(),T=I.scrollWidth/T||1,I=I.scrollHeight/M||1,M=x.touches[E]||x.changedTouches[E];return{x:(M.clientX-k.left)/T,y:(M.clientY-k.top)/I,winX:M.clientX,winY:M.clientY,id:M.identifier}}(this._curElement.elt,this.width,this.height,g,y);this._setProperty("touches",b)}},c.default.prototype._ontouchstart=function(g){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(g),this._updateNextMouseCoords(g),this._updateMouseCoords(),typeof b.touchStarted=="function"?b.touchStarted(g)===!1&&g.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof b.mousePressed=="function"&&b.mousePressed(g)===!1&&g.preventDefault()},c.default.prototype._ontouchmove=function(g){var b=this._isGlobal?window:this;this._updateTouchCoords(g),this._updateNextMouseCoords(g),typeof b.touchMoved=="function"?b.touchMoved(g)===!1&&g.preventDefault():typeof b.mouseDragged=="function"&&b.mouseDragged(g)===!1&&g.preventDefault()},c.default.prototype._ontouchend=function(g){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(g),this._updateNextMouseCoords(g);var b=this._isGlobal?window:this;typeof b.touchEnded=="function"?b.touchEnded(g)===!1&&g.preventDefault():typeof b.mouseReleased=="function"&&b.mouseReleased(g)===!1&&g.preventDefault()},c=c.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.string.includes":191}],296:[function(c,m,_){c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.int32-array"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.int32-array"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g,b,y,S,A={_toPixels:function(C){var x,E;return C instanceof ImageData?C.data:C.getContext("2d")?C.getContext("2d").getImageData(0,0,C.width,C.height).data:C.getContext("webgl")?(E=(x=C.getContext("webgl")).drawingBufferWidth*x.drawingBufferHeight*4,E=new Uint8Array(E),x.readPixels(0,0,C.width,C.height,x.RGBA,x.UNSIGNED_BYTE,E),E):void 0},_getARGB:function(C,x){return x*=4,C[3+x]<<24&4278190080|C[x]<<16&16711680|C[1+x]<<8&65280|255&C[2+x]},_setPixels:function(C,x){for(var E,k=0,T=C.length;k<T;k++)C[0+(E=4*k)]=(16711680&x[k])>>>16,C[1+E]=(65280&x[k])>>>8,C[2+E]=255&x[k],C[3+E]=(4278190080&x[k])>>>24},_toImageData:function(C){return C instanceof ImageData?C:C.getContext("2d").getImageData(0,0,C.width,C.height)},_createImageData:function(C,x){return A._tmpCanvas=document.createElement("canvas"),A._tmpCtx=A._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(C,x)},apply:function(C,I,E){var k=C.getContext("2d"),T=k.getImageData(0,0,C.width,C.height),I=I(T,E);I instanceof ImageData?k.putImageData(I,0,0,0,0,C.width,C.height):k.putImageData(T,0,0,0,0,C.width,C.height)},threshold:function(C,x){for(var E=A._toPixels(C),k=(x===void 0&&(x=.5),Math.floor(255*x)),T=0;T<E.length;T+=4){var I=void 0,I=k<=.2126*E[T]+.7152*E[T+1]+.0722*E[T+2]?255:0;E[T]=E[T+1]=E[T+2]=I}},gray:function(C){for(var x=A._toPixels(C),E=0;E<x.length;E+=4){var k=x[E],T=x[E+1],I=x[E+2];x[E]=x[E+1]=x[E+2]=.2126*k+.7152*T+.0722*I}},opaque:function(C){for(var x=A._toPixels(C),E=0;E<x.length;E+=4)x[E+3]=255;return x},invert:function(C){for(var x=A._toPixels(C),E=0;E<x.length;E+=4)x[E]=255-x[E],x[E+1]=255-x[E+1],x[E+2]=255-x[E+2]},posterize:function(C,x){var E=A._toPixels(C);if(x<2||255<x)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var k=x-1,T=0;T<E.length;T+=4){var I=E[T],M=E[T+1],j=E[T+2];E[T]=255*(I*x>>8)/k,E[T+1]=255*(M*x>>8)/k,E[T+2]=255*(j*x>>8)/k}},dilate:function(C){for(var x,E,k,T,I,M,j,P,O,N=A._toPixels(C),D=0,L=N.length?N.length/4:0,R=new Int32Array(L);D<L;)for(E=(x=D)+C.width;D<E;)T=k=A._getARGB(N,D),(O=D-1)<x&&(O=D),E<=(P=D+1)&&(P=D),(I=D-C.width)<0&&(I=0),L<=(M=D+C.width)&&(M=D),I=A._getARGB(N,I),O=A._getARGB(N,O),M=A._getARGB(N,M),(T=77*(T>>16&255)+151*(T>>8&255)+28*(255&T))<(j=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))&&(k=O,T=j),T<(j=77*((O=A._getARGB(N,P))>>16&255)+151*(O>>8&255)+28*(255&O))&&(k=O,T=j),T<(P=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))&&(k=I,T=P),T<(O=77*(M>>16&255)+151*(M>>8&255)+28*(255&M))&&(k=M,T=O),R[D++]=k;A._setPixels(N,R)},erode:function(C){for(var x,E,k,T,I,M,j,P,O,N=A._toPixels(C),D=0,L=N.length?N.length/4:0,R=new Int32Array(L);D<L;)for(E=(x=D)+C.width;D<E;)T=k=A._getARGB(N,D),(O=D-1)<x&&(O=D),E<=(P=D+1)&&(P=D),(I=D-C.width)<0&&(I=0),L<=(M=D+C.width)&&(M=D),I=A._getARGB(N,I),O=A._getARGB(N,O),M=A._getARGB(N,M),(j=77*(O>>16&255)+151*(O>>8&255)+28*(255&O))<(T=77*(T>>16&255)+151*(T>>8&255)+28*(255&T))&&(k=O,T=j),(j=77*((O=A._getARGB(N,P))>>16&255)+151*(O>>8&255)+28*(255&O))<T&&(k=O,T=j),(P=77*(I>>16&255)+151*(I>>8&255)+28*(255&I))<T&&(k=I,T=P),(O=77*(M>>16&255)+151*(M>>8&255)+28*(255&M))<T&&(k=M,T=O),R[D++]=k;A._setPixels(N,R)},blur:function(C,x){for(var E,k,T,I,M,j,P,O,N,D,L=A._toPixels(C),R=C.width,G=C.height,Z=R*G,B=new Int32Array(Z),J=0;J<Z;J++)B[J]=A._getARGB(L,J);var K,ee,V,z,X,U,$,ae,H=new Int32Array(Z),ie=new Int32Array(Z),Y=new Int32Array(Z),q=new Int32Array(Z),ne=0,oe=3.5*x|0;if(g!==(oe=oe<1?1:oe<248?oe:248)){b=1+(g=oe)<<1,y=new Int32Array(b),S=new Array(b);for(var he=0;he<b;he++)S[he]=new Int32Array(256);for(var de=1,xe=oe-1;de<oe;de++){y[oe+de]=y[xe]=U=xe*xe,$=S[oe+de],ae=S[xe--];for(var Ce=0;Ce<256;Ce++)$[Ce]=ae[Ce]=U*Ce}X=y[oe]=oe*oe,$=S[oe];for(var ge=0;ge<256;ge++)$[ge]=X*ge}for(ee=0;ee<G;ee++){for(K=0;K<R;K++){if(I=T=k=M=E=0,(j=K-g)<0)D=-j,j=0;else{if(R<=j)break;D=0}for(V=D;V<b&&!(R<=j);V++){var Ae=B[j+ne];z=S[V],M+=z[(-16777216&Ae)>>>24],k+=z[(16711680&Ae)>>16],T+=z[(65280&Ae)>>8],I+=z[255&Ae],E+=y[V],j++}H[P=ne+K]=M/E,ie[P]=k/E,Y[P]=T/E,q[P]=I/E}ne+=R}for(N=(O=-g)*R,ee=ne=0;ee<G;ee++){for(K=0;K<R;K++){if(I=T=k=M=E=0,O<0)D=P=-O,j=K;else{if(G<=O)break;D=0,P=O,j=K+N}for(V=D;V<b&&!(G<=P);V++)z=S[V],M+=z[H[j]],k+=z[ie[j]],T+=z[Y[j]],I+=z[q[j]],E+=y[V],P++,j+=R;B[K+ne]=M/E<<24|k/E<<16|T/E<<8|I/E}ne+=R,N+=R,O++}A._setPixels(L,B)}};_.default=A},{"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int32-array":217,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234}],297:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=y(c("../core/main")),b=y(c("omggif"));function y(A){return A&&A.__esModule?A:{default:A}}function S(A){return function(C){if(Array.isArray(C)){for(var x=0,E=new Array(C.length);x<C.length;x++)E[x]=C[x];return E}}(A)||function(C){if(Symbol.iterator in Object(C)||Object.prototype.toString.call(C)==="[object Arguments]")return Array.from(C)}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}g.default.prototype.createImage=function(A,C){return g.default._validateParameters("createImage",arguments),new g.default.Image(A,C)},g.default.prototype.saveCanvas=function(){g.default._validateParameters("saveCanvas",arguments);var A,C,x,E,k=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(A=arguments[0],k.shift()):arguments[0]instanceof g.default.Element?(A=arguments[0].elt,k.shift()):A=this._curElement&&this._curElement.elt,1<=k.length&&(C=k[0]),x=(x=2<=k.length?k[1]:x)||g.default.prototype._checkFileExtension(C,x)[1]||"png"){default:E="image/png";break;case"jpeg":case"jpg":E="image/jpeg"}A.toBlob(function(T){g.default.prototype.downloadFile(T,C,x)},E)},g.default.prototype.encodeAndDownloadGif=function(A,C){for(var x=A.gifProperties,E=x.loopLimit,k=(E===1?E=null:E===null&&(E=0),new Uint8Array(A.width*A.height*x.numFrames)),T=[],I={},M=0;M<x.numFrames;M++){for(var j=new Set,P=x.frames[M].image.data,O=P.length,N=new Uint32Array(A.width*A.height),D=0,L=0;D<O;D+=4,L++){var R=P[D+0]<<16|P[D+1]<<8|P[D+2]<<0;j.add(R),N[L]=R}var G=S(j).sort().toString();I[G]===void 0?I[G]={freq:1,frames:[M]}:(I[G].freq+=1,I[G].frames.push(M)),T.push(N)}for(var J=[],Z=Object.keys(I).sort(function(Y,q){return I[q].freq-I[Y].freq}),B=Z[0].split(",").map(function(Y){return parseInt(Y)}),J=J.concat(I[B].frames),K=new Set(B),ee=1;ee<Z.length;ee++){var V=Z[ee].split(",").map(function(Y){return parseInt(Y)}).filter(function(Y){return!K.has(Y)});if(B.length+V.length<=256){for(var z=0;z<V.length;z++)B.push(V[z]),K.add(V[z]);J=J.concat(I[Z[ee]].frames)}}J=new Set(J);for(var X={},U=0;U<B.length;U++)X[B[U]]||(X[B[U]]=U);for(var $=1;$<B.length;)$<<=1;B.length=$;for(var E={loop:E,palette:new Uint32Array(B)},ae=new b.default.GifWriter(k,A.width,A.height,E),H={},ie=0;ie<x.numFrames;ie++)(function(q){var ne=!J.has(q),oe=ne?[]:B,he=new Uint8Array(A.width*A.height),de={},xe=new Set,Ce=(T[q].forEach(function(_e,Me){ne?(de[_e]===void 0&&(de[_e]=oe.length,oe.push(_e)),he[Me]=de[_e]):he[Me]=X[_e],0<q&&T[q-1][Me]!==_e&&xe.add(_e)}),{}),ge=oe.filter(function(_e){return!xe.has(_e)});if(0<ge.length){var ge=ge[0],Ae=(ne?de:X)[ge];if(0<q){for(var we=0;we<T[q].length;we++)T[q-1][we]===T[q][we]&&(he[we]=Ae);Ce.transparent=Ae,H.frameOpts.disposal=1}}if(Ce.delay=x.frames[q].delay/10,ne){for(var me=1;me<oe.length;)me<<=1;oe.length=me,Ce.palette=new Uint32Array(oe)}0<q&&ae.addFrame(0,0,A.width,A.height,H.pixelPaletteIndex,H.frameOpts),H={pixelPaletteIndex:he,frameOpts:Ce}})(ie);H.frameOpts.disposal=1,ae.addFrame(0,0,A.width,A.height,H.pixelPaletteIndex,H.frameOpts),E=new Blob([k.slice(0,ae.end())],{type:"image/gif"}),g.default.prototype.downloadFile(E,C,"gif")},g.default.prototype.saveFrames=function(A,C,x,T,k){g.default._validateParameters("saveFrames",arguments),x=g.default.prototype.constrain(x=x||3,0,15),x*=1e3;var T=g.default.prototype.constrain(T||15,0,22),I=0,M=g.default.prototype._makeFrame,j=this._curElement.elt,P=[],O=setInterval(function(){P.push(M(A+I,C,j)),I++},1e3/T);setTimeout(function(){if(clearInterval(O),k)k(P);else for(var N=0,D=P;N<D.length;N++){var L=D[N];g.default.prototype.downloadFile(L.imageData,L.filename,L.ext)}P=[]},.01+x)},g.default.prototype._makeFrame=function(A,C,k){var E,k=this?this._curElement.elt:k;if(C)switch(C.toLowerCase()){case"png":E="image/png";break;case"jpeg":case"jpg":E="image/jpeg";break;default:E="image/png"}else C="png",E="image/png";var k=(k=k.toDataURL(E)).replace(E,"image/octet-stream"),T={};return T.imageData=k,T.filename=A,T.ext=C,T},c=g.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,omggif:248}],298:[function(c,m,_){function g(j){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(j)}function b(j){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(P){return g(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":g(P)})(j)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.copy-within"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint8-clamped-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.copy-within"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.uint8-clamped-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c("regenerator-runtime/runtime");var y=k(c("../core/main")),S=k(c("../core/helpers")),A=function(j){if(j&&j.__esModule)return j;if(j===null||b(j)!=="object"&&typeof j!="function")return{default:j};var P=E();if(P&&P.has(j))return P.get(j);var O,N={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in j){var L;Object.prototype.hasOwnProperty.call(j,O)&&((L=D?Object.getOwnPropertyDescriptor(j,O):null)&&(L.get||L.set)?Object.defineProperty(N,O,L):N[O]=j[O])}return N.default=j,P&&P.set(j,N),N}(c("../core/constants")),C=k(c("omggif")),x=c("gifenc");function E(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,E=function(){return j},j)}function k(j){return j&&j.__esModule?j:{default:j}}function T(j,P,O,N,D,L,R){try{var G=j[L](R),Z=G.value}catch(B){return void O(B)}G.done?P(Z):Promise.resolve(Z).then(N,D)}function I(j,P,O,N,D,L,R,G,Z,B,J){var K,ee,V,z,X,U,$,ae,H;return j===A.COVER&&(K=P,V=O,$=L,ae=R,U=G,H=Z,ee=B,z=J,X=Math.max($/ee,ae/z),$/=X,ae/=X,X=U,U=H,K===A.CENTER?X+=(ee-$)/2:K===A.RIGHT&&(X+=ee-$),V===A.CENTER?U+=(z-ae)/2:V===A.BOTTOM&&(U+=z-ae),G=(H={x:X,y:U,w:$,h:ae}).x,Z=H.y,B=H.w,J=H.h),j===A.CONTAIN&&(K=P,ee=O,V=N,z=D,X=L,U=R,$=B,ae=J,H=Math.max($/X,ae/U),$/=H,ae/=H,H=V,V=z,K===A.CENTER?H+=(X-$)/2:K===A.RIGHT&&(H+=X-$),ee===A.CENTER?V+=(U-ae)/2:ee===A.BOTTOM&&(V+=U-ae),N=(j={x:H,y:V,w:$,h:ae}).x,D=j.y,L=j.w,R=j.h),{sx:G,sy:Z,sw:B,sh:J,dx:N,dy:D,dw:L,dh:R}}function M(j,P){return 0<j&&j<P?j:P}c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),y.default.prototype.loadImage=function(j,P,O){y.default._validateParameters("loadImage",arguments);var N=new y.default.Image(1,1,this),D=this,L=new Request(j,{method:"GET",mode:"cors"});return fetch(j,L).then(function(R){var G,Z=R.headers.get("content-type");Z===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),Z&&Z.includes("image/gif")?R.arrayBuffer().then(function(B){if(B){for(var B=new Uint8Array(B),J=N,K=P,ee=O,V=(function(ne){D._decrementPreload()}).bind(D),z=new C.default.GifReader(B),X=(J.width=J.canvas.width=z.width,J.height=J.canvas.height=z.height,[]),U=z.numFrames(),$=new Uint8ClampedArray(J.width*J.height*4),ae=0;ae<U;ae++){var H=z.frameInfo(ae),ie=J.drawingContext.getImageData(0,0,J.width,J.height),Y=($=ie.data.slice(),function(ne,oe){try{oe.decodeAndBlitFrameRGBA(ne,$)}catch(he){y.default._friendlyFileLoadError(8,J.src),typeof ee=="function"?ee(he):console.error(he)}}(ae,z),new ImageData($,J.width,J.height)),Y=(J.drawingContext.putImageData(Y,0,0),H.delay);Y===0&&(Y=10),X.push({image:J.drawingContext.getImageData(0,0,J.width,J.height),delay:10*Y}),H.disposal===2?J.drawingContext.clearRect(H.x,H.y,H.width,H.height):H.disposal===3&&J.drawingContext.putImageData(ie,0,0,H.x,H.y,H.width,H.height)}(B=z.loopCount())===null?B=1:B===0&&(B=null),J.drawingContext.putImageData(X[0].image,0,0),1<X.length&&(J.gifProperties={displayIndex:0,loopLimit:B,loopCount:0,frames:X,numFrames:U,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof K=="function"&&K(J),V()}},function(B){typeof O=="function"?(O(B),D._decrementPreload()):console.error(B)}):((G=new Image).onload=function(){N.width=N.canvas.width=G.width,N.height=N.canvas.height=G.height,N.drawingContext.drawImage(G,0,0),N.modified=!0,typeof P=="function"&&P(N),D._decrementPreload()},G.onerror=function(B){y.default._friendlyFileLoadError(0,G.src),typeof O=="function"?(O(B),D._decrementPreload()):console.error(B)},j.indexOf("data:image/")!==0&&(G.crossOrigin="Anonymous"),G.src=j),N.modified=!0}).catch(function(R){y.default._friendlyFileLoadError(0,j),typeof O=="function"?(O(R),D._decrementPreload()):console.error(R)}),N},y.default.prototype.saveGif=function(){j=regeneratorRuntime.mark(function O(N,D){var L,R,G,Z,B,J,K,ee,V,z,X,U,$,ae,H,ie,Y,q,ne,oe,he,de,xe,Ce,ge,Ae,we=arguments;return regeneratorRuntime.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(L=2<we.length&&we[2]!==void 0?we[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof N!="string")throw TypeError("fileName parameter must be a string");me.next=3;break;case 3:if(typeof D!="number")throw TypeError("Duration parameter must be a number");me.next=5;break;case 5:if(R=L&&L.delay||0,G=L&&L.units||"seconds",Z=L&&L.silent||!1,B=L&&L.notificationDuration||0,J=L&&L.notificationID||"progressBar",typeof R!="number")throw TypeError("Delay parameter must be a number");me.next=12;break;case 12:if(G!=="seconds"&&G!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');me.next=14;break;case 14:if(typeof Z!="boolean")throw TypeError("Silent parameter must be a boolean");me.next=16;break;case 16:if(typeof B!="number")throw TypeError("Notification duration parameter must be a number");me.next=18;break;case 18:if(typeof J!="string")throw TypeError("Notification ID parameter must be a string");me.next=20;break;case 20:return this._recording=!0,z=this._targetFrameRate,K=(K=1/(z=z!==1/0&&z!==void 0&&z!==0?z:60)*1e3)<20?20:K,V=(ee=G==="seconds"?D*z:D)+(z=G==="seconds"?R*z:R),z=z,this.frameCount=z,X=this._pixelDensity,this.pixelDensity(1),U=[],document.getElementById(J)!==null&&document.getElementById(J).remove(),Z||(($=this.createP("")).id(J),$.style("font-size","16px"),$.style("font-family","Montserrat"),$.style("background-color","#ffffffa0"),$.style("padding","8px"),$.style("border-radius","10px"),$.position(0,0)),this._renderer instanceof y.default.RendererGL&&(H=this.drawingContext,ae=new Uint8Array(H.drawingBufferWidth*H.drawingBufferHeight*4)),this.noLoop(),me.next=39,Promise.resolve();case 39:if(z<V)return this.redraw(),Ce=void 0,Ce=this._renderer instanceof y.default.RendererGL?(ae=new Uint8Array(H.drawingBufferWidth*H.drawingBufferHeight*4),H.readPixels(0,0,H.drawingBufferWidth,H.drawingBufferHeight,H.RGBA,H.UNSIGNED_BYTE,ae),function(_e){for(var Me=parseInt(height/2),De=4*width,se=new Uint8Array(4*width),ce=0;ce<Me;++ce){var ue=ce*De,ve=(height-ce-1)*De;se.set(_e.subarray(ue,ue+De)),_e.copyWithin(ue,ve,ve+De),_e.set(se,ve)}return _e}(ae)):this.drawingContext.getImageData(0,0,this.width,this.height).data,U.push(Ce),z++,Z||$.html("Saved frame <b>"+U.length.toString()+"</b> out of "+ee.toString()),me.next=48,new Promise(function(_e){return setTimeout(_e,0)});me.next=50;break;case 48:me.next=39;break;case 50:Z||$.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(X),ie=(0,x.GIFEncoder)(),Y=function(_e){for(var Me=new Uint8Array(_e.length*_e[0].length),De=0;De<_e.length;De++)Me.set(_e[De],De*_e[0].length);var se=(0,x.quantize)(Me,256,{format:"rgba4444",oneBitAlpha:!0});return se.length===256?se[se.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:se.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),se}(U),q={},ne=function(_e){for(var Me=_e.length/4,De=new Uint8Array(Me),se=0;se<Me;se++){var ce=_e[4*se]<<24|_e[4*se+1]<<16|_e[4*se+2]<<8|_e[4*se+3];q[ce]===void 0&&(q[ce]=(0,x.nearestColorIndex)(Y,_e.slice(4*se,4*(se+1)))),De[se]=q[ce]}return De},oe=Y.length-1,he=[],de=0;case 60:if(!(de<U.length)){me.next=71;break}if(xe=ne(U[de]),Ce=xe.slice(),de===0)ie.writeFrame(xe,this.width,this.height,{palette:Y,delay:K,dispose:1});else{for(ge=0;ge<xe.length;ge++)xe[ge]===he[ge]&&(xe[ge]=oe);ie.writeFrame(xe,this.width,this.height,{delay:K,transparent:!0,transparentIndex:oe,dispose:1})}return he=Ce,Z||$.html("Rendered frame <b>"+de.toString()+"</b> out of "+ee.toString()),me.next=68,new Promise(function(_e){return setTimeout(_e,0)});case 68:de++,me.next=60;break;case 71:ie.finish(),Ae=ie.bytesView(),Ae=new Blob([Ae],{type:"image/gif"}),U=[],this._recording=!1,this.loop(),Z||($.html("Done. Downloading your gif!"),0<B&&setTimeout(function(){return $.remove()},1e3*B)),y.default.prototype.downloadFile(Ae,N,"gif");case 80:case"end":return me.stop()}},O,this)});var j,P=function(){var O=this,N=arguments;return new Promise(function(D,L){var R=j.apply(O,N);function G(B){T(R,D,L,G,Z,"next",B)}function Z(B){T(R,D,L,G,Z,"throw",B)}G(void 0)})};return function(O,N){return P.apply(this,arguments)}}(),y.default.prototype.image=function(j,P,O,N,z,X,U,$,H,B,J,K){y.default._validateParameters("image",arguments);var ae=j.width,ee=j.height,V=(K=K||A.CENTER,J=J||A.CENTER,j.elt&&(ae=ae!==void 0?ae:j.elt.width,ee=ee!==void 0?ee:j.elt.height),j.elt&&j.elt.videoWidth&&!j.canvas&&(ae=ae!==void 0?ae:j.elt.videoWidth,ee=ee!==void 0?ee:j.elt.videoHeight),N||ae),z=z||ee,X=X||0,U=U||0,$=M($!==void 0?$:ae,ae),ae=M(H!==void 0?H:ee,ee),H=1;j.elt&&!j.canvas&&j.elt.style.width&&(H=j.elt.videoWidth&&!N?j.elt.videoWidth:j.elt.width,H/=parseInt(j.elt.style.width,10)),X*=H,U*=H,ae*=H,$*=H,ee=I(B,J,K,(ee=S.default.modeAdjust(P,O,V,z,this._renderer._imageMode)).x,ee.y,ee.w,ee.h,X,U,$,ae),this._renderer.image(j,ee.sx,ee.sy,ee.sw,ee.sh,ee.dx,ee.dy,ee.dw,ee.dh)},y.default.prototype.tint=function(){for(var j=arguments.length,P=new Array(j),O=0;O<j;O++)P[O]=arguments[O];y.default._validateParameters("tint",P);var N=this.color.apply(this,P);this._renderer._tint=N.levels},y.default.prototype.noTint=function(){this._renderer._tint=null},y.default.prototype._getTintedImageCanvas=y.default.Renderer2D.prototype._getTintedImageCanvas,y.default.prototype.imageMode=function(j){y.default._validateParameters("imageMode",arguments),j!==A.CORNER&&j!==A.CORNERS&&j!==A.CENTER||(this._renderer._imageMode=j)},c=y.default,_.default=c},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/helpers":271,"../core/main":275,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,gifenc:245,omggif:248,"regenerator-runtime/runtime":252}],299:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=y(c("../core/main")),b=y(c("./filters"));function y(A){return A&&A.__esModule?A:{default:A}}function S(A,C){for(var x=0;x<C.length;x++){var E=C[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}g.default.Image=function(){function A(E,k){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this.width=E,this.height=k,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var C,x;return C=A,(x=[{key:"pixelDensity",value:function(E){return E!==void 0?(E<=0&&(g.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),E=1),this._pixelDensity=E,this.width/=E,this.height/=E,this):this._pixelDensity}},{key:"_animateGif",value:function(I){var k,T=this.gifProperties,I=I._lastRealFrameTime;T.lastChangeTime===0&&(T.lastChangeTime=I),T.playing&&(T.timeDisplayed=I-T.lastChangeTime,k=T.frames[T.displayIndex].delay,T.timeDisplayed>=k&&(k=Math.floor(T.timeDisplayed/k),T.timeDisplayed=0,T.lastChangeTime=I,T.displayIndex+=k,T.loopCount=Math.floor(T.displayIndex/T.numFrames),T.loopLimit!==null&&T.loopCount>=T.loopLimit?T.playing=!1:(I=T.displayIndex%T.numFrames,this.drawingContext.putImageData(T.frames[I].image,0,0),T.displayIndex=I,this.setModified(!0))))}},{key:"_setProperty",value:function(E,k){this[E]=k,this.setModified(!0)}},{key:"loadPixels",value:function(){g.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(E,k,T,I){g.default.Renderer2D.prototype.updatePixels.call(this,E,k,T,I),this.setModified(!0)}},{key:"get",value:function(E,k,T,I){return g.default._validateParameters("p5.Image.get",arguments),g.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var E=arguments.length,k=new Array(E),T=0;T<E;T++)k[T]=arguments[T];return g.default.Renderer2D.prototype._getPixel.apply(this,k)}},{key:"set",value:function(E,k,T){g.default.Renderer2D.prototype.set.call(this,E,k,T),this.setModified(!0)}},{key:"resize",value:function(E,k){E===0&&k===0?(E=this.canvas.width,k=this.canvas.height):E===0?E=this.canvas.width*k/this.canvas.height:k===0&&(k=this.canvas.height*E/this.canvas.width),E=Math.floor(E),k=Math.floor(k);var T=document.createElement("canvas");if(T.width=E,T.height=k,this.gifProperties)for(var I=this.gifProperties,M=0;M<I.numFrames;M++){for(var j=this.drawingContext.createImageData(E,k),P=(R=R=L=D=N=void 0,I.frames[M].image),O=j,N=0,D=0;D<O.height;D++)for(var L=0;L<O.width;L++){var R=Math.floor(L*P.width/O.width),R=4*(Math.floor(D*P.height/O.height)*P.width+R);O.data[N++]=P.data[R++],O.data[N++]=P.data[R++],O.data[N++]=P.data[R++],O.data[N++]=P.data[+R]}I.frames[M].image=j}T.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,T.width,T.height),this.canvas.width=this.width=E,this.canvas.height=this.height=k,this.drawingContext.drawImage(T,0,0,E,k,0,0,E,k),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var E=arguments.length,k=new Array(E),T=0;T<E;T++)k[T]=arguments[T];g.default.prototype.copy.apply(this,k)}},{key:"mask",value:function(E){var k=this.drawingContext.globalCompositeOperation,T=1,I=[E=E===void 0?this:E,0,0,(T=E instanceof g.default.Renderer?E._pInst._pixelDensity:T)*E.width,T*E.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var M=0;M<this.gifProperties.frames.length;M++)this.drawingContext.putImageData(this.gifProperties.frames[M].image,0,0),this.copy.apply(this,I),this.gifProperties.frames[M].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,I);this.drawingContext.globalCompositeOperation=k,this.setModified(!0)}},{key:"filter",value:function(E,k){b.default.apply(this.canvas,b.default[E],k),this.setModified(!0)}},{key:"blend",value:function(){for(var E=arguments.length,k=new Array(E),T=0;T<E;T++)k[T]=arguments[T];g.default._validateParameters("p5.Image.blend",arguments),g.default.prototype.blend.apply(this,k),this.setModified(!0)}},{key:"setModified",value:function(E){this._modified=E}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(E,k){this.gifProperties?g.default.prototype.encodeAndDownloadGif(this,E):g.default.prototype.saveCanvas(this.canvas,E,k)}},{key:"reset",value:function(){var E;this.gifProperties&&((E=this.gifProperties).playing=!0,E.timeSinceStart=0,E.timeDisplayed=0,E.lastChangeTime=0,E.loopCount=0,E.displayIndex=0,this.drawingContext.putImageData(E.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var E;if(this.gifProperties)return(E=this.gifProperties).displayIndex%E.numFrames}},{key:"setFrame",value:function(E){var k;this.gifProperties&&(E<(k=this.gifProperties).numFrames&&0<=E?(k.timeDisplayed=0,k.lastChangeTime=0,k.displayIndex=E,this.drawingContext.putImageData(k.frames[E].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(E,k){if(this.gifProperties){var T=this.gifProperties;if(k<T.numFrames&&0<=k)T.frames[k].delay=E;else{var I=!0,k=!1,M=void 0;try{for(var j,P=T.frames[Symbol.iterator]();!(I=(j=P.next()).done);I=!0)j.value.delay=E}catch(N){k=!0,M=N}finally{try{I||P.return==null||P.return()}finally{if(k)throw M}}}}}}])&&S(C.prototype,x),A}(),c=g.default.Image,_.default=c},{"../core/main":275,"./filters":296,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],300:[function(c,m,_){function g(E){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(E)}function b(E){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(k){return g(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":g(k)})(E)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.filter"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=x(c("../core/main")),S=x(c("./filters")),A=(c("../color/p5.Color"),function(E){if(E&&E.__esModule)return E;if(E===null||b(E)!=="object"&&typeof E!="function")return{default:E};var k=C();if(k&&k.has(E))return k.get(E);var T,I={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var j;Object.prototype.hasOwnProperty.call(E,T)&&((j=M?Object.getOwnPropertyDescriptor(E,T):null)&&(j.get||j.set)?Object.defineProperty(I,T,j):I[T]=E[T])}return I.default=E,k&&k.set(E,I),I}(c("../core/constants")));function C(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,C=function(){return E},E)}function x(E){return E&&E.__esModule?E:{default:E}}y.default.prototype.pixels=[],y.default.prototype.blend=function(){for(var E,k=arguments.length,T=new Array(k),I=0;I<k;I++)T[I]=arguments[I];y.default._validateParameters("blend",T),this._renderer?(E=this._renderer).blend.apply(E,T):y.default.Renderer2D.prototype.blend.apply(this,T)},y.default.prototype.copy=function(){for(var E,k,T,I,M,j,P,O,N,D=arguments.length,L=new Array(D),R=0;R<D;R++)L[R]=arguments[R];if(y.default._validateParameters("copy",L),L.length===9)E=L[0],k=L[1],T=L[2],I=L[3],M=L[4],j=L[5],P=L[6],O=L[7],N=L[8];else{if(L.length!==8)throw new Error("Signature not supported");E=this,k=L[0],T=L[1],I=L[2],M=L[3],j=L[4],P=L[5],O=L[6],N=L[7]}y.default.prototype._copyHelper(this,E,k,T,I,M,j,P,O,N)},y.default.prototype._copyHelper=function(E,k,T,I,M,j,P,O,N,D){k.loadPixels();var L=k.canvas.width/k.width,R=0,G=0;k._renderer&&k._renderer.isP3D&&(R=k.width/2,G=k.height/2),E._renderer&&E._renderer.isP3D?y.default.RendererGL.prototype.image.call(E._renderer,k,T+R,I+G,M,j,P,O,N,D):E.drawingContext.drawImage(k.canvas,L*(T+R),L*(I+G),L*M,L*j,P,O,N,D)},y.default.prototype.filter=function(){for(var E=arguments.length,k=new Array(E),T=0;T<E;T++)k[T]=arguments[T];y.default._validateParameters("filter",arguments);var P=(function(){var O,N={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof y.default.Shader?N.shader=arguments.length<=0?void 0:arguments[0]:(N.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(N.value=arguments.length<=1?void 0:arguments[1]),((O=arguments.length-1)<0||arguments.length<=O?void 0:arguments[O])===!1&&(N.useWebGL=!1)),N}).apply(void 0,k),I=P.shader,M=P.operation,j=P.value,P=P.useWebGL;I?y.default.RendererGL.prototype.filter.call(this._renderer,I):P||this._renderer.isP3D?(!P&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?y.default.RendererGL.prototype.filter.call(this._renderer,M,j):(this.filterGraphicsLayer||(I=(this._renderer._pInst instanceof y.default.Graphics?this._renderer._pInst:this._renderer)._pInst,this.filterGraphicsLayer=new y.default.Graphics(this.width,this.height,A.WEBGL,I)),this.filterGraphicsLayer.copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this.filterGraphicsLayer.filter(M,j),this._renderer._pInst.image(this.filterGraphicsLayer,0,0),this.filterGraphicsLayer.clear())):this.canvas!==void 0?S.default.apply(this.canvas,S.default[M],j):S.default.apply(this.elt,S.default[M],j)},y.default.prototype.get=function(E,k,T,I){var M;return y.default._validateParameters("get",arguments),(M=this._renderer).get.apply(M,arguments)},y.default.prototype.loadPixels=function(){for(var E=arguments.length,k=new Array(E),T=0;T<E;T++)k[T]=arguments[T];y.default._validateParameters("loadPixels",k),this._renderer.loadPixels()},y.default.prototype.set=function(E,k,T){this._renderer.set(E,k,T)},y.default.prototype.updatePixels=function(E,k,T,I){y.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(E,k,T,I)},c=y.default,_.default=c},{"../color/p5.Color":262,"../core/constants":264,"../core/main":275,"./filters":296,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],301:[function(c,m,_){function g(k){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.from-entries"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/web.url"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.from-entries"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.promise"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/web.url"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var b=A(c("../core/main")),y=(c("whatwg-fetch"),c("es6-promise/auto"),A(c("fetch-jsonp"))),S=A(c("file-saver"));function A(k){return k&&k.__esModule?k:{default:k}}function C(k){return(C=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(T){return g(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":g(T)})(k)}function x(k){return k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function E(k,T){T&&T!==!0&&T!=="true"||(T="");var I="";return(k=k||"untitled")&&k.includes(".")&&(I=k.split(".").pop()),T&&I!==T&&(I=T,k="".concat(k,".").concat(I)),[k,I]}c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),b.default.prototype.loadJSON=function(){for(var k=arguments.length,T=new Array(k),I=0;I<k;I++)T[I]=arguments[I];b.default._validateParameters("loadJSON",T);for(var M,j,P,O=T[0],N={},D="json",L=1;L<T.length;L++){var R=T[L];typeof R=="string"?R!=="jsonp"&&R!=="json"||(D=R):typeof R=="function"?M?j=R:M=R:C(R)==="object"&&(R.hasOwnProperty("jsonpCallback")||R.hasOwnProperty("jsonpCallbackFunction"))&&(D="jsonp",P=R)}var G=this;return this.httpDo(O,"GET",P,D,function(Z){for(var B in Z)N[B]=Z[B];M!==void 0&&M(Z),G._decrementPreload()},function(Z){if(b.default._friendlyFileLoadError(5,O),!j)throw Z;j(Z)}),N},b.default.prototype.loadStrings=function(){for(var k=arguments.length,T=new Array(k),I=0;I<k;I++)T[I]=arguments[I];b.default._validateParameters("loadStrings",T);for(var M,j,P=[],O=1;O<T.length;O++){var N=T[O];typeof N=="function"&&(M===void 0?M=N:j===void 0&&(j=N))}var D=this;return b.default.prototype.httpDo.call(this,T[0],"GET","text",function(L){for(var R=L.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),G=0,Z=R.length;G<Z;G+=32768)Array.prototype.push.apply(P,R.slice(G,Math.min(G+32768,Z)));M!==void 0&&M(P),D._decrementPreload()},function(L){if(b.default._friendlyFileLoadError(3,L),!j)throw L;j(L)}),P},b.default.prototype.loadTable=function(k){var T,I,M,j=!1,P=k.substring(k.lastIndexOf(".")+1,k.length);P==="csv"?M=",":P==="ssv"?M=";":P==="tsv"&&(M="	");for(var O=1;O<arguments.length;O++)typeof arguments[O]=="function"?T===void 0?T=arguments[O]:I===void 0&&(I=arguments[O]):typeof arguments[O]=="string"&&(arguments[O]==="header"&&(j=!0),arguments[O]==="csv"?M=",":arguments[O]==="ssv"?M=";":arguments[O]==="tsv"&&(M="	"));var N=new b.default.Table,D=this;return this.httpDo(k,"GET","table",function(L){for(var R,G,Z={},B=0,J=[],K=0,ee=null,V=function(){Z.currentState=B,Z.token=""},z=function(){ee.push(Z.token),V()},X=function(){Z.currentState=4,J.push(ee),ee=null};;){if((R=L[K++])==null){if(Z.escaped)throw new Error("Unclosed quote in file.");if(ee){z(),X();break}}if(ee===null&&(Z.escaped=!1,ee=[],V()),Z.currentState===B){if(R==='"'){Z.escaped=!0,Z.currentState=1;continue}Z.currentState=1}if(Z.currentState===1&&Z.escaped)if(R==='"')L[K]==='"'?(Z.token+='"',K++):(Z.escaped=!1,Z.currentState=2);else{if(R==="\r")continue;Z.token+=R}else R==="\r"?(L[K]===`
`&&K++,z(),X()):R===`
`?(z(),X()):R===M?z():Z.currentState===1&&(Z.token+=R)}if(j)N.columns=J.shift();else for(var U=0;U<J[0].length;U++)N.columns[U]="null";for(var $=0;$<J.length;$++)(J[$].length!==1||J[$][0]!=="undefined"&&J[$][0]!=="")&&((G=new b.default.TableRow).arr=J[$],G.obj=function(ae,H){if((H=H||[])===void 0)for(var ie=0;ie<ae.length;ie++)H[ie.toString()]=ie;return Object.fromEntries(H.map(function(Y,q){return[Y,ae[q]]}))}(J[$],N.columns),N.addRow(G));typeof T=="function"&&T(N),D._decrementPreload()},function(L){b.default._friendlyFileLoadError(2,k),I?I(L):console.error(L)}),N},b.default.prototype.loadXML=function(){for(var k=arguments.length,T=new Array(k),I=0;I<k;I++)T[I]=arguments[I];for(var M,j,P=new b.default.XML,O=1;O<T.length;O++){var N=T[O];typeof N=="function"&&(M===void 0?M=N:j===void 0&&(j=N))}var D=this;return this.httpDo(T[0],"GET","xml",function(L){for(var R in L)P[R]=L[R];M!==void 0&&M(P),D._decrementPreload()},function(L){if(b.default._friendlyFileLoadError(1,L),!j)throw L;j(L)}),P},b.default.prototype.loadBytes=function(k,T,I){var M={},j=this;return this.httpDo(k,"GET","arrayBuffer",function(P){M.bytes=new Uint8Array(P),typeof T=="function"&&T(M),j._decrementPreload()},function(P){if(b.default._friendlyFileLoadError(6,k),!I)throw P;I(P)}),M},b.default.prototype.httpGet=function(){b.default._validateParameters("httpGet",arguments);var k=Array.prototype.slice.call(arguments);return k.splice(1,0,"GET"),b.default.prototype.httpDo.apply(this,k)},b.default.prototype.httpPost=function(){b.default._validateParameters("httpPost",arguments);var k=Array.prototype.slice.call(arguments);return k.splice(1,0,"POST"),b.default.prototype.httpDo.apply(this,k)},b.default.prototype.httpDo=function(){for(var k,T,I,M={},j=0,P="text/plain",O=arguments.length-1;0<O&&typeof(O<0||arguments.length<=O?void 0:arguments[O])=="function";O--)j++;var N=arguments.length-j,D=arguments.length<=0?void 0:arguments[0];if(N==2&&typeof D=="string"&&C(arguments.length<=1?void 0:arguments[1])==="object")J=new Request(D,arguments.length<=1?void 0:arguments[1]),T=arguments.length<=2?void 0:arguments[2],I=arguments.length<=3?void 0:arguments[3];else{for(var L,R="GET",G=1;G<arguments.length;G++){var Z=G<0||arguments.length<=G?void 0:arguments[G];if(typeof Z=="string")Z==="GET"||Z==="POST"||Z==="PUT"||Z==="DELETE"?R=Z:Z==="json"||Z==="jsonp"||Z==="binary"||Z==="arrayBuffer"||Z==="xml"||Z==="text"||Z==="table"?k=Z:L=Z;else if(typeof Z=="number")L=Z.toString();else if(C(Z)==="object")if(Z.hasOwnProperty("jsonpCallback")||Z.hasOwnProperty("jsonpCallbackFunction"))for(var B in Z)M[B]=Z[B];else P=Z instanceof b.default.XML?(L=Z.serialize(),"application/xml"):(L=JSON.stringify(Z),"application/json");else typeof Z=="function"&&(T?I=Z:T=Z)}var N=R==="GET"?new Headers:new Headers({"Content-Type":P}),J=new Request(D,{method:R,mode:"cors",body:L,headers:N})}return(N=(N=(k=k||(D.includes("json")?"json":D.includes("xml")?"xml":"text"))==="jsonp"?(0,y.default)(D,M):fetch(J)).then(function(K){if(!K.ok)throw(ee=new Error(K.body)).status=K.status,ee.ok=!1,ee;var ee=0;switch((ee=k!=="jsonp"?K.headers.get("content-length"):ee)&&64e6<ee&&b.default._friendlyFileLoadError(7,D),k){case"json":case"jsonp":return K.json();case"binary":return K.blob();case"arrayBuffer":return K.arrayBuffer();case"xml":return K.text().then(function(V){return V=new DOMParser().parseFromString(V,"text/xml"),new b.default.XML(V.documentElement)});default:return K.text()}})).then(T||function(){}),N.catch(I||console.error),N},window.URL=window.URL||window.webkitURL,b.default.prototype._pWriters=[],b.default.prototype.createWriter=function(k,T){var I,M;for(M in b.default.prototype._pWriters)if(b.default.prototype._pWriters[M].name===k)return I=new b.default.PrintWriter(k+this.millis(),T),b.default.prototype._pWriters.push(I),I;return I=new b.default.PrintWriter(k,T),b.default.prototype._pWriters.push(I),I},b.default.PrintWriter=function(k,T){var I=this;this.name=k,this.content="",this.write=function(M){this.content+=M},this.print=function(M){this.content+="".concat(M,`
`)},this.clear=function(){this.content=""},this.close=function(){var M,j=[];for(M in j.push(this.content),b.default.prototype.writeFile(j,k,T),b.default.prototype._pWriters)b.default.prototype._pWriters[M].name===this.name&&b.default.prototype._pWriters.splice(M,1);I.clear(),I={}}},b.default.prototype.save=function(k,T,I){var M=arguments,j=(this._curElement||this).elt;if(M.length===0)b.default.prototype.saveCanvas(j);else if(M[0]instanceof b.default.Renderer||M[0]instanceof b.default.Graphics)b.default.prototype.saveCanvas(M[0].elt,M[1],M[2]);else if(M.length===1&&typeof M[0]=="string")b.default.prototype.saveCanvas(j,M[0]);else switch(E(M[1],M[2])[1]){case"json":return void b.default.prototype.saveJSON(M[0],M[1],M[2]);case"txt":return void b.default.prototype.saveStrings(M[0],M[1],M[2]);default:M[0]instanceof Array?b.default.prototype.saveStrings(M[0],M[1],M[2]):M[0]instanceof b.default.Table?b.default.prototype.saveTable(M[0],M[1],M[2]):M[0]instanceof b.default.Image?b.default.prototype.saveCanvas(M[0].canvas,M[1]):M[0]instanceof b.default.SoundFile&&b.default.prototype.saveSound(M[0],M[1],M[2],M[3])}},b.default.prototype.saveJSON=function(k,T,I){b.default._validateParameters("saveJSON",arguments),I=I?JSON.stringify(k):JSON.stringify(k,void 0,2),this.saveStrings(I.split(`
`),T,"json")},b.default.prototype.saveJSONObject=b.default.prototype.saveJSON,b.default.prototype.saveJSONArray=b.default.prototype.saveJSON,b.default.prototype.saveStrings=function(k,T,I,M){b.default._validateParameters("saveStrings",arguments);for(var j=this.createWriter(T,I||"txt"),P=0;P<k.length;P++)M?j.write(k[P]+`\r
`):j.write(k[P]+`
`);j.close(),j.clear()},b.default.prototype.saveTable=function(k,T,I){b.default._validateParameters("saveTable",arguments),M=I===void 0?T.substring(T.lastIndexOf(".")+1,T.length):I;var M,j=this.createWriter(T,M),P=k.columns,O=M==="tsv"?"	":",";if(M!=="html"){if(P[0]!=="0"){for(var N=0;N<P.length;N++)N<P.length-1?j.write(P[N]+O):j.write(P[N]);j.write(`
`)}for(var D=0;D<k.rows.length;D++){for(var L=void 0,L=0;L<k.rows[D].arr.length;L++)L<k.rows[D].arr.length-1?M==="csv"&&String(k.rows[D].arr[L]).includes(",")?j.write('"'+k.rows[D].arr[L]+'"'+O):j.write(k.rows[D].arr[L]+O):M==="csv"&&String(k.rows[D].arr[L]).includes(",")?j.write('"'+k.rows[D].arr[L]+'"'):j.write(k.rows[D].arr[L]);j.write(`
`)}}else{if(j.print("<html>"),j.print("<head>"),j.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),j.print("</head>"),j.print("<body>"),j.print("  <table>"),P[0]!=="0"){j.print("    <tr>");for(var R=0;R<P.length;R++){var G=x(P[R]);j.print("      <td>".concat(G)),j.print("      </td>")}j.print("    </tr>")}for(var Z=0;Z<k.rows.length;Z++){j.print("    <tr>");for(var B=0;B<k.columns.length;B++){var J=x(k.rows[Z].getString(B));j.print("      <td>".concat(J)),j.print("      </td>")}j.print("    </tr>")}j.print("  </table>"),j.print("</body>"),j.print("</html>")}j.close(),j.clear()},b.default.prototype.writeFile=function(j,T,I){var M="application/octet-stream",j=(b.default.prototype._isSafari()&&(M="text/plain"),new Blob(j,{type:M}));b.default.prototype.downloadFile(j,T,I)},b.default.prototype.downloadFile=function(k,j,P){var M,j=E(j,P),P=j[0];k instanceof Blob?S.default.saveAs(k,P):((M=document.createElement("a")).href=k,M.download=P,M.onclick=function(O){document.body.removeChild(O.target),O.stopPropagation()},M.style.display="none",document.body.appendChild(M),b.default.prototype._isSafari()&&(k=(k=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(j[1],'"'),alert(k)),M.click())},b.default.prototype._checkFileExtension=E,b.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},c=b.default,_.default=c},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240,"es6-promise/auto":241,"fetch-jsonp":243,"file-saver":244,"whatwg-fetch":253}],302:[function(c,m,_){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.replace"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};function b(y,S){for(var A=0;A<S.length;A++){var C=S[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}g.default.Table=function(){function y(C){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var S,A;return S=y,(A=[{key:"addRow",value:function(C){if(C=C||new g.default.TableRow,C.arr===void 0||C.obj===void 0)throw new Error("invalid TableRow: ".concat(C));return(C.table=this).rows.push(C),C}},{key:"removeRow",value:function(C){this.rows[C].table=null,C=this.rows.splice(C+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(C)}},{key:"getRow",value:function(C){return this.rows[C]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(C,x){if(typeof x=="string"){for(var E=0;E<this.rows.length;E++)if(this.rows[E].obj[x]===C)return this.rows[E]}else for(var k=0;k<this.rows.length;k++)if(this.rows[k].arr[x]===C)return this.rows[k];return null}},{key:"findRows",value:function(C,x){var E=[];if(typeof x=="string")for(var k=0;k<this.rows.length;k++)this.rows[k].obj[x]===C&&E.push(this.rows[k]);else for(var T=0;T<this.rows.length;T++)this.rows[T].arr[x]===C&&E.push(this.rows[T]);return E}},{key:"matchRow",value:function(C,x){if(typeof x=="number"){for(var E=0;E<this.rows.length;E++)if(this.rows[E].arr[x].match(C))return this.rows[E]}else for(var k=0;k<this.rows.length;k++)if(this.rows[k].obj[x].match(C))return this.rows[k];return null}},{key:"matchRows",value:function(C,x){var E=[];if(typeof x=="number")for(var k=0;k<this.rows.length;k++)this.rows[k].arr[x].match(C)&&E.push(this.rows[k]);else for(var T=0;T<this.rows.length;T++)this.rows[T].obj[x].match(C)&&E.push(this.rows[T]);return E}},{key:"getColumn",value:function(C){var x=[];if(typeof C=="string")for(var E=0;E<this.rows.length;E++)x.push(this.rows[E].obj[C]);else for(var k=0;k<this.rows.length;k++)x.push(this.rows[k].arr[C]);return x}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(C){this.columns.push(C||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(C,x){for(var E=[],k=0;k<C.length;k++)E.push(C.charAt(k).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var T=new RegExp(E.join("|"),"g");if(x===void 0)for(var I=0;I<this.columns.length;I++)for(var M=0;M<this.rows.length;M++){var j=(j=this.rows[M].arr[I]).replace(T,"");this.rows[M].arr[I]=j,this.rows[M].obj[this.columns[I]]=j}else if(typeof x=="string")for(var P=0;P<this.rows.length;P++){var O=(O=this.rows[P].obj[x]).replace(T,""),N=(this.rows[P].obj[x]=O,this.columns.indexOf(x));this.rows[P].arr[N]=O}else for(var D=0;D<this.rows.length;D++){var L=(L=this.rows[D].arr[x]).replace(T,"");this.rows[D].arr[x]=L,this.rows[D].obj[this.columns[x]]=L}}},{key:"trim",value:function(C){var x=new RegExp(" ","g");if(C===void 0)for(var E=0;E<this.columns.length;E++)for(var k=0;k<this.rows.length;k++){var T=(T=this.rows[k].arr[E]).replace(x,"");this.rows[k].arr[E]=T,this.rows[k].obj[this.columns[E]]=T}else if(typeof C=="string")for(var I=0;I<this.rows.length;I++){var M=(M=this.rows[I].obj[C]).replace(x,""),j=(this.rows[I].obj[C]=M,this.columns.indexOf(C));this.rows[I].arr[j]=M}else for(var P=0;P<this.rows.length;P++){var O=(O=this.rows[P].arr[C]).replace(x,"");this.rows[P].arr[C]=O,this.rows[P].obj[this.columns[C]]=O}}},{key:"removeColumn",value:function(k){typeof k=="string"?E=this.columns.indexOf(x=k):x=this.columns[E=k];var x,E,k=this.columns.splice(E+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(k);for(var T=0;T<this.rows.length;T++){var I=this.rows[T].arr,M=I.splice(E+1,I.length);I.pop(),this.rows[T].arr=I.concat(M),delete this.rows[T].obj[x]}}},{key:"set",value:function(C,x,E){this.rows[C].set(x,E)}},{key:"setNum",value:function(C,x,E){this.rows[C].setNum(x,E)}},{key:"setString",value:function(C,x,E){this.rows[C].setString(x,E)}},{key:"get",value:function(C,x){return this.rows[C].get(x)}},{key:"getNum",value:function(C,x){return this.rows[C].getNum(x)}},{key:"getString",value:function(C,x){return this.rows[C].getString(x)}},{key:"getObject",value:function(C){for(var x,E={},k=0;k<this.rows.length;k++)if(x=this.rows[k].obj,typeof C=="string"){if(!(0<=this.columns.indexOf(C)))throw new Error('This table has no column named "'.concat(C,'"'));E[x[C]]=x}else E[k]=this.rows[k].obj;return E}},{key:"getArray",value:function(){for(var C=[],x=0;x<this.rows.length;x++)C.push(this.rows[x].arr);return C}}])&&b(S.prototype,A),y}(),c=g.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.splice":167,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196}],303:[function(c,m,_){c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.from-entries"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.from-entries"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c};function g(b,y){for(var S=0;S<y.length;S++){var A=y[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}c.default.TableRow=function(){function b(A,C){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var x=[];A&&(x=A.split(C=C||",")),this.arr=x,this.obj=Object.fromEntries(x.entries()),this.table=null}var y,S;return y=b,(S=[{key:"set",value:function(A,C){if(typeof A=="string"){var x=this.table.columns.indexOf(A);if(!(0<=x))throw new Error('This table has no column named "'.concat(A,'"'));this.obj[A]=C,this.arr[x]=C}else{if(!(A<this.table.columns.length))throw new Error("Column #".concat(A," is out of the range of this table"));this.arr[A]=C,x=this.table.columns[A],this.obj[x]=C}}},{key:"setNum",value:function(A,C){C=parseFloat(C),this.set(A,C)}},{key:"setString",value:function(A,C){C=C.toString(),this.set(A,C)}},{key:"get",value:function(A){return(typeof A=="string"?this.obj:this.arr)[A]}},{key:"getNum",value:function(A){var C=parseFloat(typeof A=="string"?this.obj[A]:this.arr[A]);if(C.toString()==="NaN")throw"Error: ".concat(this.obj[A]," is NaN (Not a Number)");return C}},{key:"getString",value:function(A){return(typeof A=="string"?this.obj:this.arr)[A].toString()}}])&&g(y.prototype,S),b}(),c=c.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238}],304:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};function b(S,A){for(var C=0;C<A.length;C++){var x=A[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}function y(S){for(var A=[],C=0;C<S.length;C++)A.push(new g.default.XML(S[C]));return A}g.default.XML=function(){function S(x){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");x?this.DOM=x:(x=document.implementation.createDocument(null,"doc"),this.DOM=x.createElement("root"))}var A,C;return A=S,(C=[{key:"getParent",value:function(){return new g.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(x){var E=this.DOM.innerHTML,k=this.DOM.attributes,T=document.implementation.createDocument(null,"default").createElement(x);T.innerHTML=E;for(var I=0;I<k.length;I++)T.setAttribute(k[I].nodeName,k.nodeValue);this.DOM=T}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var x=[],E=0;E<this.DOM.childNodes.length;E++)x.push(this.DOM.childNodes[E].nodeName);return x}},{key:"getChildren",value:function(x){return y(x?this.DOM.getElementsByTagName(x):this.DOM.children)}},{key:"getChild",value:function(x){if(typeof x!="string")return new g.default.XML(this.DOM.children[x]);var E=!0,k=!1,T=void 0;try{for(var I,M=this.DOM.children[Symbol.iterator]();!(E=(I=M.next()).done);E=!0){var j=I.value;if(j.tagName===x)return new g.default.XML(j)}}catch(P){k=!0,T=P}finally{try{E||M.return==null||M.return()}finally{if(k)throw T}}}},{key:"addChild",value:function(x){x instanceof g.default.XML&&this.DOM.appendChild(x.DOM)}},{key:"removeChild",value:function(x){var E=-1;if(typeof x=="string"){for(var k=0;k<this.DOM.children.length;k++)if(this.DOM.children[k].tagName===x){E=k;break}}else E=x;E!==-1&&this.DOM.removeChild(this.DOM.children[E])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var x=[],E=!0,k=!1,T=void 0;try{for(var I,M=this.DOM.attributes[Symbol.iterator]();!(E=(I=M.next()).done);E=!0){var j=I.value;x.push(j.nodeName)}}catch(P){k=!0,T=P}finally{try{E||M.return==null||M.return()}finally{if(k)throw T}}return x}},{key:"hasAttribute",value:function(x){var E={},k=!0,T=!1,I=void 0;try{for(var M,j=this.DOM.attributes[Symbol.iterator]();!(k=(M=j.next()).done);k=!0){var P=M.value;E[P.nodeName]=P.nodeValue}}catch(O){T=!0,I=O}finally{try{k||j.return==null||j.return()}finally{if(T)throw I}}return!!E[x]}},{key:"getNum",value:function(x,E){var k={},T=!0,I=!1,M=void 0;try{for(var j,P=this.DOM.attributes[Symbol.iterator]();!(T=(j=P.next()).done);T=!0){var O=j.value;k[O.nodeName]=O.nodeValue}}catch(N){I=!0,M=N}finally{try{T||P.return==null||P.return()}finally{if(I)throw M}}return Number(k[x])||E||0}},{key:"getString",value:function(x,E){var k={},T=!0,I=!1,M=void 0;try{for(var j,P=this.DOM.attributes[Symbol.iterator]();!(T=(j=P.next()).done);T=!0){var O=j.value;k[O.nodeName]=O.nodeValue}}catch(N){I=!0,M=N}finally{try{T||P.return==null||P.return()}finally{if(I)throw M}}return k[x]?String(k[x]):E||null}},{key:"setAttribute",value:function(x,E){this.DOM.setAttribute(x,E)}},{key:"getContent",value:function(x){var E=this.DOM.textContent;return(E=E.replace(/\s\s+/g,","))||x||null}},{key:"setContent",value:function(x){this.DOM.children.length||(this.DOM.textContent=x)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&b(A.prototype,C),S}(),c=g.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],305:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};function b(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var y=arguments.length,S=[],A=0,C=0;C<y;C++){var x=arguments[C];if((x=+x)===1/0||x===-1/0)return 1/0;A<(x=Math.abs(x))&&(A=x),S[C]=x}A===0&&(A=1);for(var M=0,I=0,E=0;E<y;E++)var k=S[E]/A,k=k*k-I,T=M+k,I=T-M-k,M=T;return Math.sqrt(M)*A}g.default.prototype.abs=Math.abs,g.default.prototype.ceil=Math.ceil,g.default.prototype.constrain=function(y,S,A){return g.default._validateParameters("constrain",arguments),Math.max(Math.min(y,A),S)},g.default.prototype.dist=function(){for(var y=arguments.length,S=new Array(y),A=0;A<y;A++)S[A]=arguments[A];return g.default._validateParameters("dist",S),S.length===4?b(S[2]-S[0],S[3]-S[1]):S.length===6?b(S[3]-S[0],S[4]-S[1],S[5]-S[2]):void 0},g.default.prototype.exp=Math.exp,g.default.prototype.floor=Math.floor,g.default.prototype.lerp=function(y,S,A){return g.default._validateParameters("lerp",arguments),A*(S-y)+y},g.default.prototype.log=Math.log,g.default.prototype.mag=function(y,S){return g.default._validateParameters("mag",arguments),b(y,S)},g.default.prototype.map=function(y,S,A,C,x,E){return g.default._validateParameters("map",arguments),y=(y-S)/(A-S)*(x-C)+C,E?C<x?this.constrain(y,C,x):this.constrain(y,x,C):y},g.default.prototype.max=function(){for(var y=function(x){var E=-1/0,k=!0,T=!1,I=void 0;try{for(var M,j=x[Symbol.iterator]();!(k=(M=j.next()).done);k=!0)var P=M.value,E=E<P?P:E}catch(O){T=!0,I=O}finally{try{k||j.return==null||j.return()}finally{if(T)throw I}}return E},S=arguments.length,A=new Array(S),C=0;C<S;C++)A[C]=arguments[C];return A[0]instanceof Array?y(A[0]):y(A)},g.default.prototype.min=function(){for(var y=function(x){var E=1/0,k=!0,T=!1,I=void 0;try{for(var M,j=x[Symbol.iterator]();!(k=(M=j.next()).done);k=!0)var P=M.value,E=P<E?P:E}catch(O){T=!0,I=O}finally{try{k||j.return==null||j.return()}finally{if(T)throw I}}return E},S=arguments.length,A=new Array(S),C=0;C<S;C++)A[C]=arguments[C];return A[0]instanceof Array?y(A[0]):y(A)},g.default.prototype.norm=function(y,S,A){return g.default._validateParameters("norm",arguments),this.map(y,S,A,0,1)},g.default.prototype.pow=Math.pow,g.default.prototype.round=function(y,S){return S?(S=Math.pow(10,S),Math.round(y*S)/S):Math.round(y)},g.default.prototype.sq=function(y){return y*y},g.default.prototype.sqrt=Math.sqrt,g.default.prototype.fract=function(C){g.default._validateParameters("fract",arguments);var S,A=0,C=Number(C);return isNaN(C)||Math.abs(C)===1/0?C:(C<0&&(C=-C,A=1),String(C).includes(".")&&!String(C).includes("e")?(S=String(C),S=+("0"+S.slice(S.indexOf("."))),Math.abs(A-S)):C<1?Math.abs(A-C):0)},c=g.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],306:[function(c,m,_){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.reflect.construct"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.slice"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};function b(S,A,C){return(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(x,E,k){var T=[null];return T.push.apply(T,E),E=new(Function.bind.apply(x,T)),k&&y(E,k.prototype),E}).apply(null,arguments)}function y(S,A){return(y=Object.setPrototypeOf||function(C,x){return C.__proto__=x,C})(S,A)}g.default.prototype.createVector=function(S,A,C){return this instanceof g.default?b(g.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new g.default.Vector(S,A,C)},c=g.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188}],307:[function(C,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,C=(C=C("../core/main"))&&C.__esModule?C:{default:C};function g(x){return .5*(1-Math.cos(x*Math.PI))}var b,y=4095,S=4,A=.5,C=(C.default.prototype.noise=function(x){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(b==null){b=new Array(4096);for(var T=0;T<4096;T++)b[T]=Math.random()}x<0&&(x=-x),E<0&&(E=-E),k<0&&(k=-k);for(var I,M,j=Math.floor(x),P=Math.floor(E),O=Math.floor(k),N=x-j,D=E-P,L=k-O,R=0,G=.5,Z=0;Z<S;Z++){var B=j+(P<<4)+(O<<8),J=g(N),K=g(D),ee=b[B&y];ee+=J*(b[B+1&y]-ee),I=b[B+16&y],ee+=K*((I+=J*(b[B+16+1&y]-I))-ee),I=b[(B+=256)&y],I+=J*(b[B+1&y]-I),M=b[B+16&y],I+=K*((M+=J*(b[B+16+1&y]-M))-I),R+=(ee+=g(L)*(I-ee))*G,G*=A,j<<=1,P<<=1,O<<=1,1<=(N*=2)&&(j++,N--),1<=(D*=2)&&(P++,D--),1<=(L*=2)&&(O++,L--)}return R},C.default.prototype.noiseDetail=function(x,E){0<x&&(S=x),0<E&&(A=E)},C.default.prototype.noiseSeed=function(x){T=4294967296;var E,k,T,I={setSeed:function(j){k=E=(j??Math.random()*T)>>>0},getSeed:function(){return E},rand:function(){return(k=(1664525*k+1013904223)%T)/T}};I.setSeed(x),b=new Array(4096);for(var M=0;M<4096;M++)b[M]=I.rand()},C.default);_.default=C},{"../core/main":275}],308:[function(c,m,_){function g(T){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(T)}function b(T){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(I){return g(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":g(I)})(T)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.number.is-finite"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.sub"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.number.is-finite"),c("core-js/modules/es.string.sub"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(k=c("../core/main"))&&k.__esModule?k:{default:k},S=function(T){if(T&&T.__esModule)return T;if(T===null||b(T)!=="object"&&typeof T!="function")return{default:T};var I=A();if(I&&I.has(T))return I.get(T);var M,j={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in T){var O;Object.prototype.hasOwnProperty.call(T,M)&&((O=P?Object.getOwnPropertyDescriptor(T,M):null)&&(O.get||O.set)?Object.defineProperty(j,M,O):j[M]=T[M])}return j.default=T,I&&I.set(T,j),j}(c("../core/constants"));function A(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,A=function(){return T},T)}function C(T,I){for(var M=0;M<I.length;M++){var j=I[M];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}function x(T,I){return T!==0&&(this.x=this.x%T),I!==0&&(this.y=this.y%I),this}function E(T,I,M){return T!==0&&(this.x=this.x%T),I!==0&&(this.y=this.y%I),M!==0&&(this.z=this.z%M),this}y.default.Vector=function(){function T(){var D=this,P=T;if(!(D instanceof P))throw new TypeError("Cannot call a class as a function");var O,N,D=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],O=(arguments.length<=2?void 0:arguments[2])||0,N=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(O=(arguments.length<=0?void 0:arguments[0])||0,N=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=O,this.y=N,this.z=D}var I,M,j;return I=T,j=[{key:"fromAngle",value:function(P,O){return new y.default.Vector((O=O===void 0?1:O)*Math.cos(P),O*Math.sin(P),0)}},{key:"fromAngles",value:function(G,L,N){N===void 0&&(N=1);var D=Math.cos(L),L=Math.sin(L),R=Math.cos(G),G=Math.sin(G);return new y.default.Vector(N*G*L,-N*R,N*G*D)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*S.TWO_PI)}},{key:"random3D",value:function(){var P=Math.random()*S.TWO_PI,O=2*Math.random()-1,D=Math.sqrt(1-O*O),N=D*Math.cos(P),D=D*Math.sin(P);return new y.default.Vector(N,D,O)}},{key:"copy",value:function(P){return P.copy(P)}},{key:"add",value:function(P,O,N){return N?N.set(P):(N=P.copy(),arguments.length===3&&y.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),N.add(O),N}},{key:"rem",value:function(P,O){if(P instanceof y.default.Vector&&O instanceof y.default.Vector)return(P=P.copy()).rem(O),P}},{key:"sub",value:function(P,O,N){return N?N.set(P):(N=P.copy(),arguments.length===3&&y.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),N.sub(O),N}},{key:"mult",value:function(P,O,N){return N?N.set(P):(N=P.copy(),arguments.length===3&&y.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),N.mult(O),N}},{key:"rotate",value:function(P,O,N){return arguments.length===2?N=P.copy():(N instanceof y.default.Vector||y.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),N.set(P)),N.rotate(O),N}},{key:"div",value:function(P,O,N){return N?N.set(P):(N=P.copy(),arguments.length===3&&y.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),N.div(O),N}},{key:"dot",value:function(P,O){return P.dot(O)}},{key:"cross",value:function(P,O){return P.cross(O)}},{key:"dist",value:function(P,O){return P.dist(O)}},{key:"lerp",value:function(P,O,N,D){return D?D.set(P):(D=P.copy(),arguments.length===4&&y.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),D.lerp(O,N),D}},{key:"slerp",value:function(P,O,N,D){return D?D.set(P):(D=P.copy(),arguments.length===4&&y.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),D.slerp(O,N),D}},{key:"mag",value:function(P){return P.mag()}},{key:"magSq",value:function(P){return P.magSq()}},{key:"normalize",value:function(P,O){return arguments.length<2?O=P.copy():(O instanceof y.default.Vector||y.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),O.set(P)),O.normalize()}},{key:"limit",value:function(P,O,N){return arguments.length<3?N=P.copy():(N instanceof y.default.Vector||y.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),N.set(P)),N.limit(O)}},{key:"setMag",value:function(P,O,N){return arguments.length<3?N=P.copy():(N instanceof y.default.Vector||y.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),N.set(P)),N.setMag(O)}},{key:"heading",value:function(P){return P.heading()}},{key:"angleBetween",value:function(P,O){return P.angleBetween(O)}},{key:"reflect",value:function(P,O,N){return arguments.length<3?N=P.copy():(N instanceof y.default.Vector||y.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),N.set(P)),N.reflect(O)}},{key:"array",value:function(P){return P.array()}},{key:"equals",value:function(P,O){var N;return P instanceof y.default.Vector?N=P:P instanceof Array?N=new y.default.Vector().set(P):y.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),N.equals(O)}}],(M=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(P,O,N){return P instanceof y.default.Vector?(this.x=P.x||0,this.y=P.y||0,this.z=P.z||0):Array.isArray(P)?(this.x=P[0]||0,this.y=P[1]||0,this.z=P[2]||0):(this.x=P||0,this.y=O||0,this.z=N||0),this}},{key:"copy",value:function(){return this.isPInst?new y.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new y.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(P,O,N){return P instanceof y.default.Vector?(this.x+=P.x||0,this.y+=P.y||0,this.z+=P.z||0):Array.isArray(P)?(this.x+=P[0]||0,this.y+=P[1]||0,this.z+=P[2]||0):(this.x+=P||0,this.y+=O||0,this.z+=N||0),this}},{key:"rem",value:function(P,O,N){var D;if(P instanceof y.default.Vector){if([P.x,P.y,P.z].every(Number.isFinite))return L=parseFloat(P.x),R=parseFloat(P.y),D=parseFloat(P.z),E.call(this,L,R,D)}else if(Array.isArray(P)){if(P.every(function(G){return Number.isFinite(G)}))return P.length===2?x.call(this,P[0],P[1]):P.length===3?E.call(this,P[0],P[1],P[2]):void 0}else if(arguments.length===1){if(Number.isFinite(P)&&P!==0)return this.x=this.x%P,this.y=this.y%P,this.z=this.z%P,this}else if(arguments.length===2){var L=Array.prototype.slice.call(arguments);if(L.every(function(G){return Number.isFinite(G)})&&L.length===2)return x.call(this,L[0],L[1])}else if(arguments.length===3){var R=Array.prototype.slice.call(arguments);if(R.every(function(G){return Number.isFinite(G)})&&R.length===3)return E.call(this,R[0],R[1],R[2])}}},{key:"sub",value:function(P,O,N){return P instanceof y.default.Vector?(this.x-=P.x||0,this.y-=P.y||0,this.z-=P.z||0):Array.isArray(P)?(this.x-=P[0]||0,this.y-=P[1]||0,this.z-=P[2]||0):(this.x-=P||0,this.y-=O||0,this.z-=N||0),this}},{key:"mult",value:function(P,O,N){var D;return P instanceof y.default.Vector?Number.isFinite(P.x)&&Number.isFinite(P.y)&&Number.isFinite(P.z)&&typeof P.x=="number"&&typeof P.y=="number"&&typeof P.z=="number"?(this.x*=P.x,this.y*=P.y,this.z*=P.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(P)?P.every(function(L){return Number.isFinite(L)})&&P.every(function(L){return typeof L=="number"})?P.length===1?(this.x*=P[0],this.y*=P[0],this.z*=P[0]):P.length===2?(this.x*=P[0],this.y*=P[1]):P.length===3&&(this.x*=P[0],this.y*=P[1],this.z*=P[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(D=Array.prototype.slice.call(arguments)).every(function(L){return Number.isFinite(L)})&&D.every(function(L){return typeof L=="number"})?(arguments.length===1&&(this.x*=P,this.y*=P,this.z*=P),arguments.length===2&&(this.x*=P,this.y*=O),arguments.length===3&&(this.x*=P,this.y*=O,this.z*=N)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(P,O,N){if(P instanceof y.default.Vector)if(Number.isFinite(P.x)&&Number.isFinite(P.y)&&Number.isFinite(P.z)&&typeof P.x=="number"&&typeof P.y=="number"&&typeof P.z=="number"){var D=P.z===0&&this.z===0;if(P.x===0||P.y===0||!D&&P.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=P.x,this.y/=P.y,D||(this.z/=P.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(P))if(P.every(function(L){return Number.isFinite(L)})&&P.every(function(L){return typeof L=="number"})){if(P.some(function(L){return L===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;P.length===1?(this.x/=P[0],this.y/=P[0],this.z/=P[0]):P.length===2?(this.x/=P[0],this.y/=P[1]):P.length===3&&(this.x/=P[0],this.y/=P[1],this.z/=P[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(D=Array.prototype.slice.call(arguments),D.every(function(L){return Number.isFinite(L)})&&D.every(function(L){return typeof L=="number"})){if(D.some(function(L){return L===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=P,this.y/=P,this.z/=P),arguments.length===2&&(this.x/=P,this.y/=O),arguments.length===3&&(this.x/=P,this.y/=O,this.z/=N)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var P=this.x,O=this.y,N=this.z;return P*P+O*O+N*N}},{key:"dot",value:function(P,O,N){return P instanceof y.default.Vector?this.dot(P.x,P.y,P.z):this.x*(P||0)+this.y*(O||0)+this.z*(N||0)}},{key:"cross",value:function(D){var O=this.y*D.z-this.z*D.y,N=this.z*D.x-this.x*D.z,D=this.x*D.y-this.y*D.x;return this.isPInst?new y.default.Vector(this._fromRadians,this._toRadians,O,N,D):new y.default.Vector(O,N,D)}},{key:"dist",value:function(P){return P.copy().sub(this).mag()}},{key:"normalize",value:function(){var P=this.mag();return P!==0&&this.mult(1/P),this}},{key:"limit",value:function(P){var O=this.magSq();return P*P<O&&this.div(Math.sqrt(O)).mult(P),this}},{key:"setMag",value:function(P){return this.normalize().mult(P)}},{key:"heading",value:function(){var P=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(P):P}},{key:"setHeading",value:function(P){this.isPInst&&(P=this._toRadians(P));var O=this.mag();return this.x=O*Math.cos(P),this.y=O*Math.sin(P),this}},{key:"rotate",value:function(O){var O=this.heading()+O,N=(this.isPInst&&(O=this._toRadians(O)),this.mag());return this.x=Math.cos(O)*N,this.y=Math.sin(O)*N,this}},{key:"angleBetween",value:function(P){var O;return this.magSq()*P.magSq()==0?NaN:(O=this.cross(P),P=Math.atan2(O.mag(),this.dot(P))*Math.sign(O.z||1),this.isPInst?this._fromRadians(P):P)}},{key:"lerp",value:function(P,O,N,D){return P instanceof y.default.Vector?this.lerp(P.x,P.y,P.z,O):(this.x+=(P-this.x)*D||0,this.y+=(O-this.y)*D||0,this.z+=(N-this.z)*D||0,this)}},{key:"slerp",value:function(P,O){if(O!==0){if(O===1)return this.set(P);var N=this.mag(),D=P.mag();if(N*D==0)this.mult(1-O).add(P.x*O,P.y*O,P.z*O);else{var L=this.cross(P),R=L.mag(),G=Math.atan2(R,this.dot(P));if(0<R)L.x/=R,L.y/=R,L.z/=R;else{if(G<.5*Math.PI)return this.mult(1-O).add(P.x*O,P.y*O,P.z*O),this;this.z===0&&P.z===0?L.set(0,0,1):this.x!==0?L.set(this.y,-this.x,0).normalize():L.set(1,0,0)}R=L.cross(this),P=1-O+O*D/N,L=P*Math.cos(O*G),D=P*Math.sin(O*G),this.x=this.x*L+R.x*D,this.y=this.y*L+R.y*D,this.z=this.z*L+R.z*D}}return this}},{key:"reflect",value:function(P){return P.normalize(),this.sub(P.mult(2*this.dot(P)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(R,O,N){var D,L,R=R instanceof y.default.Vector?(D=R.x||0,L=R.y||0,R.z||0):Array.isArray(R)?(D=R[0]||0,L=R[1]||0,R[2]||0):(D=R||0,L=O||0,N||0);return this.x===D&&this.y===L&&this.z===R}}])&&C(I.prototype,M),j&&C(I,j),T}();var k=y.default.Vector;_.default=k},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.constructor":173,"core-js/modules/es.number.is-finite":174,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],309:[function(A,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(A=A("../core/main"))&&A.__esModule?A:{default:A},b="_lcg_random_state",y=4294967296,S=0,A=(g.default.prototype._lcg=function(C){return this[C]=(1664525*this[C]+1013904223)%y,this[C]/y},g.default.prototype._lcgSetSeed=function(C,x){this[C]=(x??Math.random()*y)>>>0},g.default.prototype.randomSeed=function(C){this._lcgSetSeed(b,C),this._gaussian_previous=!1},g.default.prototype.random=function(C,x){var E,k;return g.default._validateParameters("random",arguments),E=this[b]!=null?this._lcg(b):Math.random(),C===void 0?E:x===void 0?C instanceof Array?C[Math.floor(E*C.length)]:E*C:(x<C&&(k=C,C=x,x=k),E*(x-C)+C)},g.default.prototype.randomGaussian=function(C){var x,E,k,T,I=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)x=S,this._gaussian_previous=!1;else{for(;1<=(T=(E=this.random(2)-1)*E+(k=this.random(2)-1)*k););x=E*(T=Math.sqrt(-2*Math.log(T)/T)),S=k*T,this._gaussian_previous=!0}return x*I+(C||0)},g.default);_.default=A},{"../core/main":275}],310:[function(c,m,_){function g(x){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function b(x){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(E){return g(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":g(E)})(x)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(C=c("../core/main"))&&C.__esModule?C:{default:C},S=function(x){if(x&&x.__esModule)return x;if(x===null||b(x)!=="object"&&typeof x!="function")return{default:x};var E=A();if(E&&E.has(x))return E.get(x);var k,T={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in x){var M;Object.prototype.hasOwnProperty.call(x,k)&&((M=I?Object.getOwnPropertyDescriptor(x,k):null)&&(M.get||M.set)?Object.defineProperty(T,k,M):T[k]=x[k])}return T.default=x,E&&E.set(x,T),T}(c("../core/constants"));function A(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,A=function(){return x},x)}y.default.prototype._angleMode=S.RADIANS,y.default.prototype.acos=function(x){return this._fromRadians(Math.acos(x))},y.default.prototype.asin=function(x){return this._fromRadians(Math.asin(x))},y.default.prototype.atan=function(x){return this._fromRadians(Math.atan(x))},y.default.prototype.atan2=function(x,E){return this._fromRadians(Math.atan2(x,E))},y.default.prototype.cos=function(x){return Math.cos(this._toRadians(x))},y.default.prototype.sin=function(x){return Math.sin(this._toRadians(x))},y.default.prototype.tan=function(x){return Math.tan(this._toRadians(x))},y.default.prototype.degrees=function(x){return x*S.RAD_TO_DEG},y.default.prototype.radians=function(x){return x*S.DEG_TO_RAD},y.default.prototype.angleMode=function(x){if(y.default._validateParameters("angleMode",arguments),x===void 0)return this._angleMode;x!==S.DEGREES&&x!==S.RADIANS||(this._angleMode=x)},y.default.prototype._toRadians=function(x){return this._angleMode===S.DEGREES?x*S.DEG_TO_RAD:x},y.default.prototype._toDegrees=function(x){return this._angleMode===S.RADIANS?x*S.RAD_TO_DEG:x},y.default.prototype._fromRadians=function(x){return this._angleMode===S.DEGREES?x*S.RAD_TO_DEG:x};var C=y.default;_.default=C},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],311:[function(c,m,_){c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};g.default.prototype.textAlign=function(b,y){var S;return g.default._validateParameters("textAlign",arguments),(S=this._renderer).textAlign.apply(S,arguments)},g.default.prototype.textLeading=function(b){var y;return g.default._validateParameters("textLeading",arguments),(y=this._renderer).textLeading.apply(y,arguments)},g.default.prototype.textSize=function(b){var y;return g.default._validateParameters("textSize",arguments),(y=this._renderer).textSize.apply(y,arguments)},g.default.prototype.textStyle=function(b){var y;return g.default._validateParameters("textStyle",arguments),(y=this._renderer).textStyle.apply(y,arguments)},g.default.prototype.textWidth=function(){for(var b=arguments.length,y=new Array(b),S=0;S<b;S++)y[S]=arguments[S];if(y[0]+="",g.default._validateParameters("textWidth",y),y[0].length===0)return 0;for(var A=y[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),C=[],x=0;x<A.length;x++)C.push(this._renderer.textWidth(A[x]));return Math.max.apply(Math,C)},g.default.prototype.textAscent=function(){for(var b=arguments.length,y=new Array(b),S=0;S<b;S++)y[S]=arguments[S];return g.default._validateParameters("textAscent",y),this._renderer.textAscent()},g.default.prototype.textDescent=function(){for(var b=arguments.length,y=new Array(b),S=0;S<b;S++)y[S]=arguments[S];return g.default._validateParameters("textDescent",y),this._renderer.textDescent()},g.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},g.default.prototype.textWrap=function(b){if(b!=="WORD"&&b!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(b)},c=g.default,_.default=c},{"../core/main":275,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],312:[function(c,m,_){function g(k){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(k)}function b(k){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(T){return g(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":g(T)})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.last-index-of"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.split"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(E=c("../core/main"))&&E.__esModule?E:{default:E},S=x(c("../core/constants")),A=x(c("opentype.js"));function C(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,C=function(){return k},k)}function x(k){if(k&&k.__esModule)return k;if(k===null||b(k)!=="object"&&typeof k!="function")return{default:k};var T=C();if(T&&T.has(k))return T.get(k);var I,M,j={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in k)Object.prototype.hasOwnProperty.call(k,I)&&((M=P?Object.getOwnPropertyDescriptor(k,I):null)&&(M.get||M.set)?Object.defineProperty(j,I,M):j[I]=k[I]);return j.default=k,T&&T.set(k,j),j}c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),y.default.prototype.loadFont=function(k,T,I){y.default._validateParameters("loadFont",arguments);var M=new y.default.Font(this),j=this;return A.load(k,function(N,D){if(N)return y.default._friendlyFileLoadError(4,k),I!==void 0?I(N):void console.error(N,k);M.font=D,T!==void 0&&T(M),j._decrementPreload();var N=k.split("\\").pop().split("/").pop(),D=N.lastIndexOf("."),L=D<1?null:N.slice(D+1);["ttf","otf","woff","woff2"].includes(L)&&(L=N.slice(0,D!==-1?D:0),(N=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(L,`;
src: url(`).concat(k,`);
}
`))),document.head.appendChild(N))}),M},y.default.prototype.text=function(k,T,I,M,j){var P;return y.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(P=this._renderer).text.apply(P,arguments):this},y.default.prototype.textFont=function(k,T){if(y.default._validateParameters("textFont",arguments),arguments.length){if(k)return this._renderer._setProperty("_textFont",k),T&&(this._renderer._setProperty("_textSize",T),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",T*S._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var E=y.default;_.default=E},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,"opentype.js":249}],313:[function(c,m,_){function g(R){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(R)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.function.name"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var b=(b=c("../core/main"))&&b.__esModule?b:{default:b},y=function(R){if(R&&R.__esModule)return R;if(R===null||A(R)!=="object"&&typeof R!="function")return{default:R};var G=S();if(G&&G.has(R))return G.get(R);var Z,B={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Z in R){var K;Object.prototype.hasOwnProperty.call(R,Z)&&((K=J?Object.getOwnPropertyDescriptor(R,Z):null)&&(K.get||K.set)?Object.defineProperty(B,Z,K):B[Z]=R[Z])}return B.default=R,G&&G.set(R,B),B}(c("../core/constants"));function S(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,S=function(){return R},R)}function A(R){return(A=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(G){return g(G)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":g(G)})(R)}function C(R,G){for(var Z=0;Z<G.length;Z++){var B=G[Z];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(R,B.key,B)}}function x(R,G){var Z=R.length;return R[G<0?G%Z+Z:G%Z]}function E(R,G,Z,B){var J,K,ee;return B?(E.tmpPoint1===void 0&&(E.tmpPoint1=[],E.tmpPoint2=[]),K=E.tmpPoint1,ee=E.tmpPoint2,K.x=G.x-R.x,K.y=G.y-R.y,ee.x=Z.x-G.x,ee.y=Z.y-G.y,J=K.x*ee.x+K.y*ee.y,K=Math.sqrt(K.x*K.x+K.y*K.y),ee=Math.sqrt(ee.x*ee.x+ee.y*ee.y),Math.acos(J/(K*ee))<B):(G[0]-R[0])*(Z[1]-R[1])-(Z[0]-R[0])*(G[1]-R[1])==0}function k(q,oe,ne,he,de,K,ee,V,z){var X=1-z,$=Math.pow(X,3),ae=Math.pow(X,2),Y=z*z,H=Y*z,U=$*q+3*ae*z*ne+3*X*z*z*de+H*ee,$=$*oe+3*ae*z*he+3*X*z*z*K+H*V,ae=q+2*z*(ne-q)+Y*(de-2*ne+q),H=oe+2*z*(he-oe)+Y*(K-2*he+oe),ie=ne+2*z*(de-ne)+Y*(ee-2*de+ne),Y=he+2*z*(K-he)+Y*(V-2*K+he),q=X*q+z*ne,ne=X*oe+z*he,oe=X*de+z*ee,he=X*K+z*V,de=90-180*Math.atan2(ae-ie,H-Y)/Math.PI;return(ie<ae||H<Y)&&(de+=180),{x:U,y:$,m:{x:ae,y:H},n:{x:ie,y:Y},start:{x:q,y:ne},end:{x:oe,y:he},alpha:de}}function T(R,G,Z,B,J,K,ee,V,z){return z==null?D(R,G,Z,B,J,K,ee,V):k(R,G,Z,B,J,K,ee,V,function(X,U,$,ae,H,ie,Y,q,ne){if(!(ne<0||D(X,U,$,ae,H,ie,Y,q)<ne)){var oe,he=.5,de=1-he;for(oe=D(X,U,$,ae,H,ie,Y,q,de);.01<Math.abs(oe-ne);)oe=D(X,U,$,ae,H,ie,Y,q,de+=(oe<ne?1:-1)*(he/=2));return de}}(R,G,Z,B,J,K,ee,V,z))}function I(R,G,Z){for(var B,J,K,ee,V,z=0,X=0,U=(R=function($,ae){function H(se,ce,ue){var ve,Se;if(!se)return["C",ce.x,ce.y,ce.x,ce.y,ce.x,ce.y];switch(se[0]in{T:1,Q:1}||(ce.qx=ce.qy=null),se[0]){case"M":ce.X=se[1],ce.Y=se[2];break;case"A":se=["C"].concat(j.apply(0,[ce.x,ce.y].concat(se.slice(1))));break;case"S":Se=ue==="C"||ue==="S"?(ve=2*ce.x-ce.bx,2*ce.y-ce.by):(ve=ce.x,ce.y),se=["C",ve,Se].concat(se.slice(1));break;case"T":ue==="Q"||ue==="T"?(ce.qx=2*ce.x-ce.qx,ce.qy=2*ce.y-ce.qy):(ce.qx=ce.x,ce.qy=ce.y),se=["C"].concat(N(ce.x,ce.y,ce.qx,ce.qy,se[1],se[2]));break;case"Q":ce.qx=se[1],ce.qy=se[2],se=["C"].concat(N(ce.x,ce.y,se[1],se[2],se[3],se[4]));break;case"L":se=["C"].concat(O(ce.x,ce.y,se[1],se[2]));break;case"H":se=["C"].concat(O(ce.x,ce.y,se[1],ce.y));break;case"V":se=["C"].concat(O(ce.x,ce.y,ce.x,se[1]));break;case"Z":se=["C"].concat(O(ce.x,ce.y,ce.X,ce.Y))}return se}function ie(se,ce){if(7<se[ce].length){se[ce].shift();for(var ue=se[ce];ue.length;)xe[ce]="A",oe&&(Ce[ce]="A"),se.splice(ce++,0,["C"].concat(ue.splice(0,6)));se.splice(ce,1),q=Math.max(ne.length,oe&&oe.length||0)}}function Y(se,ce,ue,ve,Se){se&&ce&&se[Se][0]==="M"&&ce[Se][0]!=="M"&&(ce.splice(Se,0,["M",ve.x,ve.y]),ue.bx=0,ue.by=0,ue.x=se[Se][1],ue.y=se[Se][2],q=Math.max(ne.length,oe&&oe.length||0))}var q,ne=M($),oe=ae&&M(ae),he={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},de={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},xe=[],Ce=[],ge="",Ae="";q=Math.max(ne.length,oe&&oe.length||0);for(var we=0;we<q;we++){(ge=ne[we]?ne[we][0]:ge)!=="C"&&(xe[we]=ge,we&&(Ae=xe[we-1])),ne[we]=H(ne[we],he,Ae),xe[we]!=="A"&&ge==="C"&&(xe[we]="C"),ie(ne,we),oe&&((ge=oe[we]?oe[we][0]:ge)!=="C"&&(Ce[we]=ge,we&&(Ae=Ce[we-1])),oe[we]=H(oe[we],de,Ae),Ce[we]!=="A"&&ge==="C"&&(Ce[we]="C"),ie(oe,we)),Y(ne,oe,he,de,we),Y(oe,ne,de,he,we);var me=ne[we],_e=oe&&oe[we],Me=me.length,De=oe&&_e.length;he.x=me[Me-2],he.y=me[Me-1],he.bx=parseFloat(me[Me-4])||he.x,he.by=parseFloat(me[Me-3])||he.y,de.bx=oe&&(parseFloat(_e[De-4])||de.x),de.by=oe&&(parseFloat(_e[De-3])||de.y),de.x=oe&&_e[De-2],de.y=oe&&_e[De-1]}return oe?[ne,oe]:ne}(R)).length;X<U;X++){if((K=R[X])[0]==="M")B=+K[1],J=+K[2];else{if(G<z+(ee=T(B,J,K[1],K[2],K[3],K[4],K[5],K[6]))&&!Z)return{x:(V=T(B,J,K[1],K[2],K[3],K[4],K[5],K[6],G-z)).x,y:V.y,alpha:V.alpha};z+=ee,B=+K[5],J=+K[6]}K.shift()}return V=(V=Z?z:k(B,J,K[0],K[1],K[2],K[3],K[4],K[5],1)).alpha?{x:V.x,y:V.y,alpha:V.alpha}:V}function M(R){var G=[],Z=0,B=0,J=0,K=0,ee=0;if(R){R[0][0]==="M"&&(J=Z=+R[0][1],K=B=+R[0][2],ee++,G[0]=["M",Z,B]);for(var V,z,X=R.length===3&&R[0][0]==="M"&&R[1][0].toUpperCase()==="R"&&R[2][0].toUpperCase()==="Z",U=ee,$=R.length;U<$;U++){if(G.push(V=[]),(z=R[U])[0]!==String.prototype.toUpperCase.call(z[0]))switch(V[0]=String.prototype.toUpperCase.call(z[0]),V[0]){case"A":V[1]=z[1],V[2]=z[2],V[3]=z[3],V[4]=z[4],V[5]=z[5],V[6]=+(z[6]+Z),V[7]=+(z[7]+B);break;case"V":V[1]=+z[1]+B;break;case"H":V[1]=+z[1]+Z;break;case"R":for(var ae,H=2,ie=(ae=[Z,B].concat(z.slice(1))).length;H<ie;H++)ae[H]=+ae[H]+Z,ae[++H]=+ae[H]+B;G.pop(),G=G.concat(P(ae,X));break;case"M":J=+z[1]+Z,K=+z[2]+B;break;default:for(var Y=1,q=z.length;Y<q;Y++)V[Y]=+z[Y]+(Y%2?Z:B)}else if(z[0]==="R")ae=[Z,B].concat(z.slice(1)),G.pop(),G=G.concat(P(ae,X)),V=["R"].concat(z.slice(-2));else for(var ne=0,oe=z.length;ne<oe;ne++)V[ne]=z[ne];switch(V[0]){case"Z":Z=J,B=K;break;case"H":Z=V[1];break;case"V":B=V[1];break;case"M":J=V[V.length-2],K=V[V.length-1];break;default:Z=V[V.length-2],B=V[V.length-1]}}}return G}function j(R,G,Z,B,oe,xe,he,V,z,X){function U(De,se,ce){return{x:De*Math.cos(ce)-se*Math.sin(ce),y:De*Math.sin(ce)+se*Math.cos(ce)}}var $,q=Math.PI,ne=120*q/180,ae=q/180*(+oe||0),H=[],ie=(X?(we=X[0],$=X[1],ge=X[2],Ae=X[3]):(R=(de=U(R,G,-ae)).x,G=de.y,1<(ie=(Y=(R-(V=(de=U(V,z,-ae)).x))/2)*Y/(Z*Z)+(de=(G-(z=de.y))/2)*de/(B*B))&&(Z*=ie=Math.sqrt(ie),B*=ie),ie=Z*Z,Ce=B*B,ge=(xe=(xe===he?-1:1)*Math.sqrt(Math.abs((ie*Ce-ie*de*de-Ce*Y*Y)/(ie*de*de+Ce*Y*Y))))*Z*de/B+(R+V)/2,Ae=xe*-B*Y/Z+(G+z)/2,we=Math.asin(((G-Ae)/B).toFixed(9)),$=Math.asin(((z-Ae)/B).toFixed(9)),(we=R<ge?q-we:we)<0&&(we=2*q+we),($=V<ge?q-$:$)<0&&($=2*q+$),he&&$<we&&(we-=2*q),!he&&we<$&&($-=2*q)),$-we),Y=(Math.abs(ie)>ne&&(Ce=$,de=V,xe=z,$=we+ne*(he&&we<$?1:-1),H=j(V=ge+Z*Math.cos($),z=Ae+B*Math.sin($),Z,B,oe,0,he,de,xe,[$,Ce,ge,Ae])),ie=$-we,Math.cos(we)),q=Math.sin(we),ne=Math.cos($),oe=Math.sin($),he=Math.tan(ie/4),de=4/3*Z*he,xe=4/3*B*he,Ce=[R,G],ge=[R+de*q,G-xe*Y],Ae=[V+de*oe,z-xe*ne],we=[V,z];if(ge[0]=2*Ce[0]-ge[0],ge[1]=2*Ce[1]-ge[1],X)return[ge,Ae,we].concat(H);for(var me=[],_e=0,Me=(H=[ge,Ae,we].concat(H).join().split(",")).length;_e<Me;_e++)me[_e]=_e%2?U(H[_e-1],H[_e],ae).y:U(H[_e],H[_e+1],ae).x;return me}function P(R,G){for(var Z=[],B=0,J=R.length;B<J-2*!G;B+=2){var K=[{x:+R[B-2],y:+R[B-1]},{x:+R[B],y:+R[B+1]},{x:+R[B+2],y:+R[B+3]},{x:+R[B+4],y:+R[B+5]}];G?B?J-4===B?K[3]={x:+R[0],y:+R[1]}:J-2===B&&(K[2]={x:+R[0],y:+R[1]},K[3]={x:+R[2],y:+R[3]}):K[0]={x:+R[J-2],y:+R[J-1]}:J-4===B?K[3]=K[2]:B||(K[0]={x:+R[B],y:+R[B+1]}),Z.push(["C",(-K[0].x+6*K[1].x+K[2].x)/6,(-K[0].y+6*K[1].y+K[2].y)/6,(K[1].x+6*K[2].x-K[3].x)/6,(K[1].y+6*K[2].y-K[3].y)/6,K[2].x,K[2].y])}return Z}function O(R,G,Z,B){return[R,G,Z,B,Z,B]}function N(R,G,Z,B,J,K){return[1/3*R+2/3*Z,1/3*G+2/3*B,1/3*J+2/3*Z,1/3*K+2/3*B,J,K]}function D(R,G,Z,B,J,K,ee,V,z){for(var X=(z=1<(z=z??1)?1:z<0?0:z)/2,U=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],$=0,ae=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],H=0;H<12;H++){var Y=X*U[H]+X,ie=L(Y,R,Z,J,ee),Y=L(Y,G,B,K,V);$+=ae[H]*Math.sqrt(ie*ie+Y*Y)}return X*$}function L(R,G,Z,B,J){return R*(R*(-3*G+9*Z-9*B+3*J)+6*G-12*Z+6*B)-3*G+3*Z}b.default.Font=function(){function R(B){if(!(this instanceof R))throw new TypeError("Cannot call a class as a function");this.parent=B,this.cache={},this.font=void 0}var G,Z;return G=R,(Z=[{key:"textBounds",value:function(B){var J=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,K=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,X=3<arguments.length?arguments[3]:void 0,ee=4<arguments.length?arguments[4]:void 0,V=ee&&ee.renderer&&ee.renderer._pInst||this.parent,z=V._renderer.drawingContext,X=(z.textAlign||y.LEFT,z.textBaseline||y.BASELINE,X||V._renderer._textSize);if(!de){for(var U=[],$=[],ae=[],H=(ae[0]=[],[]),ie=this._scale(X),Y=V._renderer.textLeading(),q=0,ne=(this.font.forEachGlyph(B,J,K,X,ee,function(ge,Ae,we,me){var _e=ge.getMetrics();ge.index===0||ge.index===10?ae[q+=1]=[]:(ae[q].push(Ae+_e.xMin*ie),ae[q].push(Ae+_e.xMax*ie),H.push(we+q*Y+-_e.yMin*ie),H.push(we+q*Y+-_e.yMax*ie))}),0<ae[q].length&&(U[q]=Math.min.apply(null,ae[q]),$[q]=Math.max.apply(null,ae[q])),0),oe=0;oe<=q;oe++){U[oe]=Math.min.apply(null,ae[oe]),$[oe]=Math.max.apply(null,ae[oe]);var he=$[oe]-U[oe];ne<he&&(ne=he)}var z=Math.min.apply(null,U),de={x:z,y:K=Math.min.apply(null,H),h:Math.max.apply(null,H)-K,w:ne,advance:z-J},X=this._handleAlignment(V._renderer,B,de.x,de.y,de.w+de.advance);de.x=X.x,de.y=X.y}return de}},{key:"textToPoints",value:function(B,J,K,ee,V){var z=J,X=[],U=B.split(/\r?\n|\r|\n/g);ee=ee||this.parent._renderer._textSize;for(var $,ae,H,ie=0;ie<U.length;ie++){var Y=0;J=z;for(var q=(q=U[ie]).replace("	","  "),ne=this._getGlyphs(q),oe=0;oe<ne.length;oe++){if(ae=q,!((H=ne)[$=oe].name&&H[$].name==="space"||ae.length===H.length&&ae[$]===" "))for(var he=function(ge){for(var Ae,we=[],me=0;me<ge.length;me++)ge[me].type==="M"&&(Ae&&we.push(Ae),Ae=[]),Ae.push(function(_e){var Me=[_e.type];return _e.type==="M"||_e.type==="L"?Me.push(_e.x,_e.y):_e.type==="C"?Me.push(_e.x1,_e.y1,_e.x2,_e.y2,_e.x,_e.y):_e.type==="Q"&&Me.push(_e.x1,_e.y1,_e.x,_e.y),Me}(ge[me]));return we.push(Ae),we}(ne[oe].getPath(J,K,ee).commands),de=0;de<he.length;de++)for(var xe=function(ge,Ae){for(var Ae=function(se,ce){if(A(se)!=="object")se=ce;else for(var ue in ce)se[ue]===void 0&&(se[ue]=ce[ue]);return se}(Ae,{sampleFactor:.1,simplifyThreshold:0}),we=I(ge,0,1),me=we/(we*Ae.sampleFactor),_e=[],Me=0;Me<we;Me+=me)_e.push(I(ge,Me));return Ae.simplifyThreshold&&function(De){for(var se=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,ce=0,ue=De.length-1;3<De.length&&0<=ue;--ue)E(x(De,ue-1),x(De,ue),x(De,ue+1),se)&&(De.splice(ue%De.length,1),ce++)}(_e,Ae.simplifyThreshold),_e}(he[de],V),Ce=0;Ce<xe.length;Ce++)xe[Ce].x+=Y,X.push(xe[Ce]);Y+=ne[oe].advanceWidth*this._scale(ee)}K+=this.parent._renderer._textLeading}return X}},{key:"_getGlyphs",value:function(B){return this.font.stringToGlyphs(B)}},{key:"_getPath",value:function(B,z,K,ee){var V=(ee&&ee.renderer&&ee.renderer._pInst||this.parent)._renderer,z=this._handleAlignment(V,B,z,K);return this.font.getPath(B,z.x,z.y,V._textSize,ee)}},{key:"_getPathData",value:function(B,J,K,ee){var V=3;return typeof B=="string"&&2<arguments.length?B=this._getPath(B,J,K,ee):A(J)==="object"&&(ee=J),ee&&typeof ee.decimals=="number"&&(V=ee.decimals),B.toPathData(V)}},{key:"_getSVG",value:function(B,J,K,ee){var V=3;return typeof B=="string"&&2<arguments.length?B=this._getPath(B,J,K,ee):A(J)==="object"&&(ee=J),ee&&(typeof ee.decimals=="number"&&(V=ee.decimals),typeof ee.strokeWidth=="number"&&(B.strokeWidth=ee.strokeWidth),ee.fill!==void 0&&(B.fill=ee.fill),ee.stroke!==void 0&&(B.stroke=ee.stroke)),B.toSVG(V)}},{key:"_renderPath",value:function(X,$,ae,ee){var V=ee&&ee.renderer||this.parent._renderer,z=V.drawingContext,X=(A(X)==="object"&&X.commands?X:this._getPath(X,$,ae,ee)).commands,U=(z.beginPath(),!0),$=!1,ae=void 0;try{for(var H,ie=X[Symbol.iterator]();!(U=(H=ie.next()).done);U=!0){var Y=H.value;Y.type==="M"?z.moveTo(Y.x,Y.y):Y.type==="L"?z.lineTo(Y.x,Y.y):Y.type==="C"?z.bezierCurveTo(Y.x1,Y.y1,Y.x2,Y.y2,Y.x,Y.y):Y.type==="Q"?z.quadraticCurveTo(Y.x1,Y.y1,Y.x,Y.y):Y.type==="Z"&&z.closePath()}}catch(q){$=!0,ae=q}finally{try{U||ie.return==null||ie.return()}finally{if($)throw ae}}return V._doStroke&&V._strokeSet&&!V._clipping&&z.stroke(),V._doFill&&!V._clipping&&(V._fillSet||V._setFill(y._DEFAULT_TEXT_FILL),z.fill()),this}},{key:"_textWidth",value:function(B,J){return this.font.getAdvanceWidth(B,J)}},{key:"_textAscent",value:function(B){return this.font.ascender*this._scale(B)}},{key:"_textDescent",value:function(B){return-this.font.descender*this._scale(B)}},{key:"_scale",value:function(B){return 1/this.font.unitsPerEm*(B||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(B,J,K,ee,V){var z=B._textSize;switch(V===void 0&&(V=this._textWidth(J,z)),B._textAlign){case y.CENTER:K-=V/2;break;case y.RIGHT:K-=V}switch(B._textBaseline){case y.TOP:ee+=this._textAscent(z);break;case y.CENTER:ee+=this._textAscent(z)/2;break;case y.BOTTOM:ee-=this._textDescent(z)}return{x:K,y:ee}}}])&&C(G.prototype,Z),R}(),c=b.default,_.default=c},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],314:[function(c,m,_){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.array-buffer.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.array-buffer.constructor"),c("core-js/modules/es.object.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype.append=function(g,b){return g.push(b),g},c.default.prototype.arrayCopy=function(g,b,y,S,A){var C,x;g=A!==void 0?(x=Math.min(A,g.length),C=S,g.slice(b,x+b)):(x=y!==void 0?(x=y,Math.min(x,g.length)):g.length,y=b,g.slice(C=0,x)),Array.prototype.splice.apply(y,[C,x].concat(g))},c.default.prototype.concat=function(g,b){return g.concat(b)},c.default.prototype.reverse=function(g){return g.reverse()},c.default.prototype.shorten=function(g){return g.pop(),g},c.default.prototype.shuffle=function(g,b){for(var y,S,A=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(g),C=(g=b||A?g:g.slice()).length;1<C;)y=this.random(0,1)*C|0,S=g[--C],g[C]=g[y],g[y]=S;return g},c.default.prototype.sort=function(g,S){var y=S?g.slice(0,Math.min(S,g.length)):g,S=S?g.slice(Math.min(S,g.length)):[];return(y=typeof y[0]=="string"?y.sort():y.sort(function(A,C){return A-C})).concat(S)},c.default.prototype.splice=function(g,b,y){return Array.prototype.splice.apply(g,[y,0].concat(b)),g},c.default.prototype.subset=function(g,b,y){return y!==void 0?g.slice(b,b+y):g.slice(b,g.length)},c=c.default,_.default=c},{"../core/main":275,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182}],315:[function(c,m,_){c("core-js/modules/es.array.map"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.repeat"),c("core-js/modules/es.array.map"),c("core-js/modules/es.number.constructor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.repeat"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};g.default.prototype.float=function(b){return b instanceof Array?b.map(parseFloat):parseFloat(b)},g.default.prototype.int=function(b){var y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return b===1/0||b==="Infinity"?1/0:b===-1/0||b==="-Infinity"?-1/0:typeof b=="string"?parseInt(b,y):typeof b=="number"?0|b:typeof b=="boolean"?b?1:0:b instanceof Array?b.map(function(S){return g.default.prototype.int(S,y)}):void 0},g.default.prototype.str=function(b){return b instanceof Array?b.map(g.default.prototype.str):String(b)},g.default.prototype.boolean=function(b){return typeof b=="number"?b!==0:typeof b=="string"?b.toLowerCase()==="true":typeof b=="boolean"?b:b instanceof Array?b.map(g.default.prototype.boolean):void 0},g.default.prototype.byte=function(b){return b=g.default.prototype.int(b,10),typeof b=="number"?(b+128)%256-128:b instanceof Array?b.map(g.default.prototype.byte):void 0},g.default.prototype.char=function(b){return typeof b!="number"||isNaN(b)?b instanceof Array?b.map(g.default.prototype.char):typeof b=="string"?g.default.prototype.char(parseInt(b,10)):void 0:String.fromCharCode(b)},g.default.prototype.unchar=function(b){return typeof b=="string"&&b.length===1?b.charCodeAt(0):b instanceof Array?b.map(g.default.prototype.unchar):void 0},g.default.prototype.hex=function(b,y){if(y=y??8,b instanceof Array)return b.map(function(A){return g.default.prototype.hex(A,y)});if(b===1/0||b===-1/0)return(b===1/0?"F":"0").repeat(y);if(typeof b=="number"){b<0&&(b=4294967295+b+1);for(var S=Number(b).toString(16).toUpperCase();S.length<y;)S="0".concat(S);return S=S.length>=y?S.substring(S.length-y,S.length):S}},g.default.prototype.unhex=function(b){return b instanceof Array?b.map(g.default.prototype.unhex):parseInt("0x".concat(b),16)},c=g.default,_.default=c},{"../core/main":275,"core-js/modules/es.array.map":164,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.repeat":195}],316:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.pad-start"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.filter"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.join"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.constructor"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.pad-start"),c("core-js/modules/es.string.replace"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(x=c("../core/main"))&&x.__esModule?x:{default:x};function b(E,k){return function(T){if(Array.isArray(T))return T}(E)||function(T,I){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]"){var M=[],j=!0,P=!1,O=void 0;try{for(var N,D=T[Symbol.iterator]();!(j=(N=D.next()).done)&&(M.push(N.value),!I||M.length!==I);j=!0);}catch(L){P=!0,O=L}finally{try{j||D.return==null||D.return()}finally{if(P)throw O}}return M}}(E,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(E,k,T){var M=b(E.toString().split("."),2),I=M[0],M=M[1];return T===void 0?(I=I.padStart(k,"0"),M?I+"."+M:I):(I=(E=b(E.toFixed(T).toString().split("."),2))[0],M=E[1],I=I.padStart(k,"0"),M===void 0?I:I+"."+M)}function S(M,k){var T=(M=M.toString()).indexOf("."),I=T!==-1?M.substring(T):"",M=(M=T!==-1?M.substring(0,T):M).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(k===0)I="";else if(k!==void 0)if(k>I.length)for(var j=k-(I+=T===-1?".":"").length+1,P=0;P<j;P++)I+="0";else I=I.substring(0,k+1);return M+I}function A(E){return 0<parseFloat(E)?"+".concat(E.toString()):E.toString()}function C(E){return 0<=parseFloat(E)?" ".concat(E.toString()):E.toString()}c("../core/friendly_errors/validate_params"),c("../core/friendly_errors/file_errors"),c("../core/friendly_errors/fes_core"),g.default.prototype.join=function(E,k){return g.default._validateParameters("join",arguments),E.join(k)},g.default.prototype.match=function(E,k){return g.default._validateParameters("match",arguments),E.match(k)},g.default.prototype.matchAll=function(E,k){g.default._validateParameters("matchAll",arguments);for(var T=new RegExp(k,"g"),I=T.exec(E),M=[];I!==null;)M.push(I),I=T.exec(E);return M},g.default.prototype.nf=function(E,k,T){return g.default._validateParameters("nf",arguments),E instanceof Array?E.map(function(I){return y(I,k,T)}):Object.prototype.toString.call(E)==="[object Arguments]"?E.length===3?this.nf(E[0],E[1],E[2]):E.length===2?this.nf(E[0],E[1]):this.nf(E[0]):y(E,k,T)},g.default.prototype.nfc=function(E,k){return g.default._validateParameters("nfc",arguments),E instanceof Array?E.map(function(T){return S(T,k)}):S(E,k)},g.default.prototype.nfp=function(){for(var E=arguments.length,k=new Array(E),T=0;T<E;T++)k[T]=arguments[T];g.default._validateParameters("nfp",k);var I=g.default.prototype.nf.apply(this,k);return I instanceof Array?I.map(A):A(I)},g.default.prototype.nfs=function(){for(var E=arguments.length,k=new Array(E),T=0;T<E;T++)k[T]=arguments[T];g.default._validateParameters("nfs",k);var I=g.default.prototype.nf.apply(this,k);return I instanceof Array?I.map(C):C(I)},g.default.prototype.split=function(E,k){return g.default._validateParameters("split",arguments),E.split(k)},g.default.prototype.splitTokens=function(E,k){var T,I;return g.default._validateParameters("splitTokens",arguments),I=k!==void 0?(I=/\]/g.exec(k=k),(T=/\[/g.exec(k))&&I?(k=k.slice(0,I.index)+k.slice(I.index+1),T=/\[/g.exec(k),k=k.slice(0,T.index)+k.slice(T.index+1),new RegExp("[\\[".concat(k,"\\]]"),"g")):I?(k=k.slice(0,I.index)+k.slice(I.index+1),new RegExp("[".concat(k,"\\]]"),"g")):T?(k=k.slice(0,T.index)+k.slice(T.index+1),new RegExp("[".concat(k,"\\[]"),"g")):new RegExp("[".concat(k,"]"),"g")):/\s/g,E.split(I).filter(function(M){return M})},g.default.prototype.trim=function(E){return g.default._validateParameters("trim",arguments),E instanceof Array?E.map(this.trim):E.trim()};var x=g.default;_.default=x},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.pad-start":194,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],317:[function(c,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c},c.default.prototype.day=function(){return new Date().getDate()},c.default.prototype.hour=function(){return new Date().getHours()},c.default.prototype.minute=function(){return new Date().getMinutes()},c.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},c.default.prototype.month=function(){return new Date().getMonth()+1},c.default.prototype.second=function(){return new Date().getSeconds()},c.default.prototype.year=function(){return new Date().getFullYear()},c=c.default,_.default=c},{"../core/main":275}],318:[function(c,m,_){function g(E){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(E)}function b(E){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(k){return g(k)}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":g(k)})(E)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.number.to-fixed"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(x=c("../core/main"))&&x.__esModule?x:{default:x},S=(c("./p5.Geometry"),function(E){if(E&&E.__esModule)return E;if(E===null||b(E)!=="object"&&typeof E!="function")return{default:E};var k=A();if(k&&k.has(E))return k.get(E);var T,I={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var j;Object.prototype.hasOwnProperty.call(E,T)&&((j=M?Object.getOwnPropertyDescriptor(E,T):null)&&(j.get||j.set)?Object.defineProperty(I,T,j):I[T]=E[T])}return I.default=E,k&&k.set(E,I),I}(c("../core/constants")));function A(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,A=function(){return E},E)}y.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},y.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},y.default.prototype.buildGeometry=function(E){return this._renderer.buildGeometry(E)},y.default.prototype.freeGeometry=function(E){this._renderer._freeBuffers(E.gid)},y.default.prototype.plane=function(E,k,T,I){this._assert3d("plane"),y.default._validateParameters("plane",arguments),E===void 0&&(E=50),k===void 0&&(k=E),I===void 0&&(I=1);var M,j="plane|".concat(T=T===void 0?1:T,"|").concat(I);return this._renderer.geometryInHash(j)||((M=new y.default.Geometry(T,I,function(){for(var P,O,N=0;N<=this.detailY;N++)for(var D=N/this.detailY,L=0;L<=this.detailX;L++)P=L/this.detailX,O=new y.default.Vector(P-.5,D-.5,0),this.vertices.push(O),this.uvs.push(P,D)})).computeFaces().computeNormals(),T<=1&&I<=1?M._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(j,M)),this._renderer.drawBuffersScaled(j,E,k,1),this},y.default.prototype.box=function(E,k,T,I,M){this._assert3d("box"),y.default._validateParameters("box",arguments),E===void 0&&(E=50),k===void 0&&(k=E),T===void 0&&(T=k);var j,P=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,P=(M===void 0&&(M=P?1:4),"box|".concat(I=I===void 0?P?1:4:I,"|").concat(M));return this._renderer.geometryInHash(P)||((j=new y.default.Geometry(I,M,function(){var O=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(N,D){for(var D=4*D,L=0;L<4;L++){var R=N[L],R=new y.default.Vector((2*(1&R)-1)/2,((2&R)-1)/2,((4&R)/2-1)/2);O.vertices.push(R),O.uvs.push(1&L,(2&L)/2)}O.faces.push([D,1+D,2+D]),O.faces.push([2+D,1+D,3+D])})})).computeNormals(),I<=4&&M<=4?j._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(P,j)),this._renderer.drawBuffersScaled(P,E,k,T),this},y.default.prototype.sphere=function(E,k,T){return this._assert3d("sphere"),y.default._validateParameters("sphere",arguments),this.ellipsoid(E=E===void 0?50:E,E,E,k=k===void 0?24:k,T=T===void 0?16:T),this};function C(E,k,T,I,M,j,P){E=E<=0?1:E,k=k<0?0:k,T=T<=0?E:T,I=I<3?3:I;for(var O,N,D=(j=j===void 0||j)?-2:0,L=(M=M<1?1:M)+((P=P===void 0?k!==0:P)?2:0),R=Math.atan2(E-k,T),G=Math.sin(R),Z=Math.cos(R),B=D;B<=L;++B){var J=B/M,K=T*J,ee=void 0,ee=B<0?(J=K=0,E):M<B?(K=T,J=1,k):E+(k-E)*J;for(B!==-2&&B!==M+2||(ee=0),K-=T/2,O=0;O<I;++O){var V=O/(I-1),X=2*Math.PI*V,z=Math.sin(X),X=Math.cos(X),U=(this.vertices.push(new y.default.Vector(z*ee,K,X*ee)),void 0),U=B<0?new y.default.Vector(0,-1,0):M<B&&k?new y.default.Vector(0,1,0):new y.default.Vector(z*Z,G,X*Z);this.vertexNormals.push(U),this.uvs.push(V,J)}}var $=0;if(j){for(N=0;N<I;++N)this.faces.push([$+N,$+I+(N+1)%I,$+I+N]);$+=2*I}for(B=0;B<M;++B){for(O=0;O<I;++O){var ae=(O+1)%I;this.faces.push([$+O,$+ae,$+I+ae]),this.faces.push([$+O,$+I+ae,$+I+O])}$+=I}if(P)for($+=I,O=0;O<I;++O)this.faces.push([$+O,$+(O+1)%I,$+I])}y.default.prototype.cylinder=function(E,k,T,I,M,j){this._assert3d("cylinder"),y.default._validateParameters("cylinder",arguments),E===void 0&&(E=50),k===void 0&&(k=E),I===void 0&&(I=1),j===void 0&&(j=!0),M===void 0&&(M=!0);var P,O="cylinder|".concat(T=T===void 0?24:T,"|").concat(I,"|").concat(M,"|").concat(j);return this._renderer.geometryInHash(O)||(P=new y.default.Geometry(T,I),C.call(P,1,1,1,T,I,M,j),T<=24&&I<=16?P._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(O,P)),this._renderer.drawBuffersScaled(O,E,k,E),this},y.default.prototype.cone=function(E,k,T,I,M){this._assert3d("cone"),y.default._validateParameters("cone",arguments),E===void 0&&(E=50),k===void 0&&(k=E),I===void 0&&(I=1),M===void 0&&(M=!0);var j,P="cone|".concat(T=T===void 0?24:T,"|").concat(I,"|").concat(M);return this._renderer.geometryInHash(P)||(j=new y.default.Geometry(T,I),C.call(j,1,0,1,T,I,M,!1),T<=24&&I<=16?j._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(P,j)),this._renderer.drawBuffersScaled(P,E,k,E),this},y.default.prototype.ellipsoid=function(E,k,T,I,M){this._assert3d("ellipsoid"),y.default._validateParameters("ellipsoid",arguments),E===void 0&&(E=50),k===void 0&&(k=E),T===void 0&&(T=E),M===void 0&&(M=16);var j,P="ellipsoid|".concat(I=I===void 0?24:I,"|").concat(M);return this._renderer.geometryInHash(P)||((j=new y.default.Geometry(I,M,function(){for(var O=0;O<=this.detailY;O++)for(var N=O/this.detailY,D=Math.PI*N-Math.PI/2,L=Math.cos(D),R=Math.sin(D),G=0;G<=this.detailX;G++){var Z=G/this.detailX,J=2*Math.PI*Z,B=Math.cos(J),J=Math.sin(J),J=new y.default.Vector(L*J,R,L*B);this.vertices.push(J),this.vertexNormals.push(J),this.uvs.push(Z,N)}})).computeFaces(),I<=24&&M<=24?j._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(P,j)),this._renderer.drawBuffersScaled(P,E,k,T),this},y.default.prototype.torus=function(E,P,T,I){if(this._assert3d("torus"),y.default._validateParameters("torus",arguments),E===void 0)E=50;else if(!E)return;if(P===void 0)P=10;else if(!P)return;T===void 0&&(T=24),I===void 0&&(I=16);var M,j=(P/E).toPrecision(4),P="torus|".concat(j,"|").concat(T,"|").concat(I);return this._renderer.geometryInHash(P)||((M=new y.default.Geometry(T,I,function(){for(var O=0;O<=this.detailY;O++)for(var N=O/this.detailY,D=2*Math.PI*N,L=Math.cos(D),R=Math.sin(D),G=1+j*L,Z=0;Z<=this.detailX;Z++){var B=Z/this.detailX,J=2*Math.PI*B,ee=Math.cos(J),J=Math.sin(J),K=new y.default.Vector(G*ee,G*J,j*R),ee=new y.default.Vector(L*ee,L*J,R);this.vertices.push(K),this.vertexNormals.push(ee),this.uvs.push(B,N)}})).computeFaces(),T<=24&&I<=16?M._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(P,M)),this._renderer.drawBuffersScaled(P,E,E,E),this},y.default.RendererGL.prototype.point=function(E,k,T){var I=[];return I.push(new y.default.Vector(E,k,T=T===void 0?0:T)),this._drawPoints(I,this.immediateMode.buffers.point),this},y.default.RendererGL.prototype.triangle=function(P){var k=P[0],T=P[1],I=P[2],M=P[3],j=P[4],P=P[5],O=(this.geometryInHash("tri")||((O=new y.default.Geometry(1,1,function(){var L=[];L.push(new y.default.Vector(0,0,0)),L.push(new y.default.Vector(1,0,0)),L.push(new y.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=L,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),O.computeNormals(),this.createBuffers("tri",O)),this.uMVMatrix.copy());try{var N=Math.sign(k*M-I*T+I*P-j*M+j*T-k*P),D=new y.default.Matrix([I-k,M-T,0,0,j-k,P-T,0,0,0,0,N,0,k,T,0,1]).mult(this.uMVMatrix);this.uMVMatrix=D,this.drawBuffers("tri")}finally{this.uMVMatrix=O}return this},y.default.RendererGL.prototype.ellipse=function(E){this.arc(E[0],E[1],E[2],E[3],0,S.TWO_PI,S.OPEN,E[4])},y.default.RendererGL.prototype.arc=function(E){var k,T=arguments[1],I=arguments[2],M=arguments[3],j=arguments[4],P=arguments[5],O=arguments[6],N=arguments[7]||25,D=(Math.abs(P-j)>=S.TWO_PI?"".concat(L="ellipse","|"):"".concat(L="arc","|").concat(j,"|").concat(P,"|").concat(O,"|")).concat(N,"|"),L=(this.geometryInHash(D)||((k=new y.default.Geometry(N,1,function(){if(j.toFixed(10)!==P.toFixed(10)){O!==S.PIE&&O!==void 0||(this.vertices.push(new y.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var R=0;R<=N;R++){var Z=(P-j)*(R/N)+j,G=.5+Math.cos(Z)/2,Z=.5+Math.sin(Z)/2;this.vertices.push(new y.default.Vector(G,Z,0)),this.uvs.push([G,Z]),R<N-1&&(this.faces.push([0,R+1,R+2]),this.edges.push([R+1,R+2]))}switch(O){case S.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case S.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case S.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),N<=50?k._edgesToVertices(k):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(L," with more than 50 detail")),this.createBuffers(D,k)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([E,T,0]),this.uMVMatrix.scale(I,M,1),this.drawBuffers(D)}finally{this.uMVMatrix=L}return this},y.default.RendererGL.prototype.rect=function(E){var k=E[0],T=E[1],I=E[2],M=E[3];if(E[4]===void 0){var O=this._pInst._glAttributes.perPixelLighting,j=E[4]||(O?1:24),P=E[5]||(O?1:16),O="rect|".concat(j,"|").concat(P),N=(this.geometryInHash(O)||((N=new y.default.Geometry(j,P,function(){for(var U=0;U<=this.detailY;U++)for(var $=U/this.detailY,ae=0;ae<=this.detailX;ae++){var H=ae/this.detailX,ie=new y.default.Vector(H,$,0);this.vertices.push(ie),this.uvs.push(H,$)}0<j&&0<P&&(this.edges=[[0,j],[j,(j+1)*(P+1)-1],[(j+1)*(P+1)-1,(j+1)*P],[(j+1)*P,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(O,N)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([k,T,0]),this.uMVMatrix.scale(I,M,1),this.drawBuffers(O)}finally{this.uMVMatrix=N}}else{var O=E[4],N=E[5]===void 0?O:E[5],D=E[6]===void 0?N:E[6],E=E[7]===void 0?D:E[7],J=I,L=M,Z=((J+=k)<k&&(Z=k,k=J,J=Z),(L+=T)<T&&(Z=T,T=L,L=Z),Math.min((J-k)/2,(L-T)/2)),R=(Z<O&&(O=Z),Z<N&&(N=Z),Z<D&&(D=Z),Z<E&&(E=Z),k),G=T,Z=J,k=L,B=(this.beginShape(),N!==0?(this.vertex(Z-N,G),this.quadraticVertex(Z,G,Z,G+N)):this.vertex(Z,G),D!==0?(this.vertex(Z,k-D),this.quadraticVertex(Z,k,Z-D,k)):this.vertex(Z,k),E!==0?(this.vertex(R+E,k),this.quadraticVertex(R,k,R,k-E)):this.vertex(R,k),O!==0?(this.vertex(R,G+O),this.quadraticVertex(R,G,R+O,G)):this.vertex(R,G),!(this.immediateMode.geometry.uvs.length=0)),T=!1,J=void 0;try{for(var K,ee=this.immediateMode.geometry.vertices[Symbol.iterator]();!(B=(K=ee.next()).done);B=!0){var V=K.value,z=(V.x-R)/I,X=(V.y-G)/M;this.immediateMode.geometry.uvs.push(z,X)}}catch(Y){T=!0,J=Y}finally{try{B||ee.return==null||ee.return()}finally{if(T)throw J}}this.endShape(S.CLOSE)}return this},y.default.RendererGL.prototype.quad=function(E,k,T,I,M,j,P,O,N,D,L,R,G,Z){G===void 0&&(G=2),Z===void 0&&(Z=2);var B="quad|".concat(E,"|").concat(k,"|").concat(T,"|").concat(I,"|").concat(M,"|").concat(j,"|").concat(P,"|").concat(O,"|").concat(N,"|").concat(D,"|").concat(L,"|").concat(R,"|").concat(G,"|").concat(Z);if(!this.geometryInHash(B)){var J=new y.default.Geometry(G,Z,function(){for(var ae=1/(this.detailX-1),H=1/(this.detailY-1),ie=0;ie<this.detailY;ie++)for(var Y=0;Y<this.detailX;Y++){var q=Y*ae,ne=ie*H;this.vertices.push(new y.default.Vector((1-q)*((1-ne)*E+ne*D)+q*((1-ne)*I+ne*P),(1-q)*((1-ne)*k+ne*L)+q*((1-ne)*M+ne*O),(1-q)*((1-ne)*T+ne*R)+q*((1-ne)*j+ne*N))),this.uvs.push([q,ne])}});J.faces=[];for(var K=0;K<Z-1;K++)for(var ee=0;ee<G-1;ee++){var V=ee+K*G,z=ee+1+(K+1)*G,X=ee+(K+1)*G;J.faces.push([V,ee+1+K*G,z]),J.faces.push([V,z,X])}J.computeNormals();for(var U=[J.edges.length=0,2,3,1],$=0;$<U.length;$++)J.edges.push([U[$],U[($+1)%U.length]]);J._edgesToVertices(),this.createBuffers(B,J)}return this.drawBuffers(B),this},y.default.RendererGL.prototype.bezier=function(E,k,T,I,M,j,P,O,N,D,L,R){arguments.length===8&&(L=O,D=P,O=j,P=M,M=I,I=T,T=j=N=R=0);var G=this._pInst._bezierDetail||20;this.beginShape();for(var Z=0;Z<=G;Z++){var B=Math.pow(1-Z/G,3),J=Z/G*3*Math.pow(1-Z/G,2),K=3*Math.pow(Z/G,2)*(1-Z/G),ee=Math.pow(Z/G,3);this.vertex(E*B+I*J+P*K+D*ee,k*B+M*J+O*K+L*ee,T*B+j*J+N*K+R*ee)}return this.endShape(),this},y.default.RendererGL.prototype.curve=function(E,k,T,I,M,j,P,O,N,D,L,R){arguments.length===8&&(D=P,L=O,P=M,O=I,M=I=T,T=j=N=R=0);var G=this._pInst._curveDetail;this.beginShape();for(var Z=0;Z<=G;Z++){var B=.5*Math.pow(Z/G,3),J=.5*Math.pow(Z/G,2),K=Z/G*.5;this.vertex(B*(3*I-E-3*P+D)+J*(2*E-5*I+4*P-D)+K*(-E+P)+2*I*.5,B*(3*M-k-3*O+L)+J*(2*k-5*M+4*O-L)+K*(-k+O)+2*M*.5,B*(3*j-T-3*N+R)+J*(2*T-5*j+4*N-R)+K*(-T+N)+2*j*.5)}return this.endShape(),this},y.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(S.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(S.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},y.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var E,k,T,I,M,j,P=[],O=[],N=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var D=1/this._lutBezierDetail,L=0,R=1,G=0;L<1;){if(j=parseFloat(L.toFixed(6)),this._lookUpTableBezier[G]=this._bezierCoefficients(j),R.toFixed(6)===D.toFixed(6)){j=parseFloat(R.toFixed(6))+parseFloat(L.toFixed(6)),++G,this._lookUpTableBezier[G]=this._bezierCoefficients(j);break}L+=D,R-=D,++G}}for(var Z=this._lookUpTableBezier.length,B=[],J=0;J<4;J++)B.push([]);B[0]=this.immediateMode.geometry.vertexColors.slice(-4),B[3]=this.curFillColor.slice();var K=[];for(J=0;J<4;J++)K.push([]);if(K[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),K[3]=this.curStrokeColor.slice(),N===6){this.isBezier=!0;var P=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],O=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],ee=Math.hypot(P[0]-P[1],O[0]-O[1]),z=Math.hypot(P[1]-P[2],O[1]-O[2]),V=Math.hypot(P[2]-P[3],O[2]-O[3]),z=ee+z+V;for(ee/=z,V/=z,M=0;M<4;M++)B[1].push(B[0][M]*(1-ee)+B[3][M]*ee),B[2].push(B[0][M]*V+B[3][M]*(1-V)),K[1].push(K[0][M]*(1-ee)+K[3][M]*ee),K[2].push(K[0][M]*V+K[3][M]*(1-V));for(I=0;I<Z;I++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],J=E=k=0;J<4;J++){for(M=0;M<4;M++)this.curFillColor[M]+=this._lookUpTableBezier[I][J]*B[J][M],this.curStrokeColor[M]+=this._lookUpTableBezier[I][J]*K[J][M];E+=P[J]*this._lookUpTableBezier[I][J],k+=O[J]*this._lookUpTableBezier[I][J]}this.vertex(E,k)}this.curFillColor=B[3],this.curStrokeColor=K[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(N===9){this.isBezier=!0,P=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],O=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var X=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],U=Math.hypot(P[0]-P[1],O[0]-O[1],X[0]-X[1]),z=Math.hypot(P[1]-P[2],O[1]-O[2],X[1]-X[2]),$=Math.hypot(P[2]-P[3],O[2]-O[3],X[2]-X[3]),N=U+z+$;for(U/=N,$/=N,M=0;M<4;M++)B[1].push(B[0][M]*(1-U)+B[3][M]*U),B[2].push(B[0][M]*$+B[3][M]*(1-$)),K[1].push(K[0][M]*(1-U)+K[3][M]*U),K[2].push(K[0][M]*$+K[3][M]*(1-$));for(I=0;I<Z;I++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],J=E=k=T=0;J<4;J++){for(M=0;M<4;M++)this.curFillColor[M]+=this._lookUpTableBezier[I][J]*B[J][M],this.curStrokeColor[M]+=this._lookUpTableBezier[I][J]*K[J][M];E+=P[J]*this._lookUpTableBezier[I][J],k+=O[J]*this._lookUpTableBezier[I][J],T+=X[J]*this._lookUpTableBezier[I][J]}this.vertex(E,k,T)}this.curFillColor=B[3],this.curStrokeColor=K[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},y.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var E,k,T,I,M,j,P=[],O=[],N=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var D=1/this._lutQuadraticDetail,L=0,R=1,G=0;L<1;){if(j=parseFloat(L.toFixed(6)),this._lookUpTableQuadratic[G]=this._quadraticCoefficients(j),R.toFixed(6)===D.toFixed(6)){j=parseFloat(R.toFixed(6))+parseFloat(L.toFixed(6)),++G,this._lookUpTableQuadratic[G]=this._quadraticCoefficients(j);break}L+=D,R-=D,++G}}for(var Z=this._lookUpTableQuadratic.length,B=[],J=0;J<3;J++)B.push([]);B[0]=this.immediateMode.geometry.vertexColors.slice(-4),B[2]=this.curFillColor.slice();var K=[];for(J=0;J<3;J++)K.push([]);if(K[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),K[2]=this.curStrokeColor.slice(),N===4){this.isQuadratic=!0;var P=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],O=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],ee=Math.hypot(P[0]-P[1],O[0]-O[1]);for(ee/=ee+Math.hypot(P[1]-P[2],O[1]-O[2]),M=0;M<4;M++)B[1].push(B[0][M]*(1-ee)+B[2][M]*ee),K[1].push(K[0][M]*(1-ee)+K[2][M]*ee);for(I=0;I<Z;I++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],J=E=k=0;J<3;J++){for(M=0;M<4;M++)this.curFillColor[M]+=this._lookUpTableQuadratic[I][J]*B[J][M],this.curStrokeColor[M]+=this._lookUpTableQuadratic[I][J]*K[J][M];E+=P[J]*this._lookUpTableQuadratic[I][J],k+=O[J]*this._lookUpTableQuadratic[I][J]}this.vertex(E,k)}this.curFillColor=B[2],this.curStrokeColor=K[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(N===6){this.isQuadratic=!0,P=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],O=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var V=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],z=Math.hypot(P[0]-P[1],O[0]-O[1],V[0]-V[1]);for(z/=z+Math.hypot(P[1]-P[2],O[1]-O[2],V[1]-V[2]),M=0;M<4;M++)B[1].push(B[0][M]*(1-z)+B[2][M]*z),K[1].push(K[0][M]*(1-z)+K[2][M]*z);for(I=0;I<Z;I++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],J=E=k=T=0;J<3;J++){for(M=0;M<4;M++)this.curFillColor[M]+=this._lookUpTableQuadratic[I][J]*B[J][M],this.curStrokeColor[M]+=this._lookUpTableQuadratic[I][J]*K[J][M];E+=P[J]*this._lookUpTableQuadratic[I][J],k+=O[J]*this._lookUpTableQuadratic[I][J],T+=V[J]*this._lookUpTableQuadratic[I][J]}this.vertex(E,k,T)}this.curFillColor=B[2],this.curStrokeColor=K[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},y.default.RendererGL.prototype.curveVertex=function(){var E,k,T,I,M,j,P=[],O=[],N=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var D=1/this._lutBezierDetail,L=0,R=1,G=0;L<1;){if(j=parseFloat(L.toFixed(6)),this._lookUpTableBezier[G]=this._bezierCoefficients(j),R.toFixed(6)===D.toFixed(6)){j=parseFloat(R.toFixed(6))+parseFloat(L.toFixed(6)),++G,this._lookUpTableBezier[G]=this._bezierCoefficients(j);break}L+=D,R-=D,++G}}var Z=this._lookUpTableBezier.length;if(N===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,P=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),O=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),M=0;M<Z;M++)k=P[0]*this._lookUpTableBezier[M][0]+P[1]*this._lookUpTableBezier[M][1]+P[2]*this._lookUpTableBezier[M][2]+P[3]*this._lookUpTableBezier[M][3],T=O[0]*this._lookUpTableBezier[M][0]+O[1]*this._lookUpTableBezier[M][1]+O[2]*this._lookUpTableBezier[M][2]+O[3]*this._lookUpTableBezier[M][3],this.vertex(k,T);for(M=0;M<N;M++)this.immediateMode._curveVertex.shift()}}else if(N===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,P=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),O=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),E=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),M=0;M<Z;M++)k=P[0]*this._lookUpTableBezier[M][0]+P[1]*this._lookUpTableBezier[M][1]+P[2]*this._lookUpTableBezier[M][2]+P[3]*this._lookUpTableBezier[M][3],T=O[0]*this._lookUpTableBezier[M][0]+O[1]*this._lookUpTableBezier[M][1]+O[2]*this._lookUpTableBezier[M][2]+O[3]*this._lookUpTableBezier[M][3],I=E[0]*this._lookUpTableBezier[M][0]+E[1]*this._lookUpTableBezier[M][1]+E[2]*this._lookUpTableBezier[M][2]+E[3]*this._lookUpTableBezier[M][3],this.vertex(k,T,I);for(M=0;M<N;M++)this.immediateMode._curveVertex.shift()}},y.default.RendererGL.prototype.image=function(E,R,T,G,M,j,P,O,N){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(E),this._pInst.textureMode(S.NORMAL);var D=0,L=(R<=E.width&&(D=R/E.width),1),R=(R+G<=E.width&&(L=(R+G)/E.width),0),G=(T<=E.height&&(R=T/E.height),1);T+M<=E.height&&(G=(T+M)/E.height),this.beginShape(),this.vertex(j,P,0,D,R),this.vertex(j+O,P,0,L,R),this.vertex(j+O,P+N,0,L,G),this.vertex(j,P+N,0,D,G),this.endShape(S.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(S.REMOVE)};var x=y.default;_.default=x},{"../core/constants":264,"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],319:[function(c,m,_){function g(k){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(k)}function b(k){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(T){return g(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":g(T)})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.object.assign"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.every"),c("core-js/modules/es.array.map"),c("core-js/modules/es.object.assign"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(E=c("../core/main"))&&E.__esModule?E:{default:E},S=function(k){if(k&&k.__esModule)return k;if(k===null||b(k)!=="object"&&typeof k!="function")return{default:k};var T=A();if(T&&T.has(k))return T.get(k);var I,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in k){var P;Object.prototype.hasOwnProperty.call(k,I)&&((P=j?Object.getOwnPropertyDescriptor(k,I):null)&&(P.get||P.set)?Object.defineProperty(M,I,P):M[I]=k[I])}return M.default=k,T&&T.set(k,M),M}(c("../core/constants"));function A(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,A=function(){return k},k)}function C(k){return function(T){if(Array.isArray(T)){for(var I=0,M=new Array(T.length);I<T.length;I++)M[I]=T[I];return M}}(k)||function(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(k,T){for(var I=0;I<T.length;I++){var M=T[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,M.key,M)}}var E=function(){function k(M){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");(this.renderer=M)._pInst.push(),this.identityMatrix=new y.default.Matrix,M.uMVMatrix=new y.default.Matrix,this.geometry=new y.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(k.nextGeometryId),k.nextGeometryId++,this.hasTransform=!1}var T,I;return T=k,(I=[{key:"transformVertices",value:function(M){var j=this;return this.hasTransform?M.map(function(P){return j.renderer.uMVMatrix.multiplyPoint(P)}):M}},{key:"transformNormals",value:function(M){var j=this;return this.hasTransform?M.map(function(P){return j.renderer.uNMatrix.multiplyVec3(P)}):M}},{key:"addGeometry",value:function(M){for(var j,P=this,O=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(D,L){return D===P.identityMatrix.mat4[L]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),N=((j=this.geometry.vertices).push.apply(j,C(this.transformVertices(M.vertices))),(j=this.geometry.vertexNormals).push.apply(j,C(this.transformNormals(M.vertexNormals))),(j=this.geometry.uvs).push.apply(j,C(M.uvs)),this.renderer._doFill&&(j=this.geometry.faces).push.apply(j,C(M.faces.map(function(D){return D.map(function(L){return L+O})}))),this.renderer._doStroke&&(j=this.geometry.edges).push.apply(j,C(M.edges.map(function(D){return D.map(function(L){return L+O})}))),C(M.vertexColors));N.length<4*M.vertices.length;)N.push.apply(N,C(this.renderer.curFillColor));(j=this.geometry.vertexColors).push.apply(j,C(N))}},{key:"addImmediate",value:function(){var M=this.renderer.immediateMode.geometry,j=this.renderer.immediateMode.shapeMode,P=[];if(this.renderer._doFill)if(j===S.TRIANGLE_STRIP||j===S.QUAD_STRIP)for(var O=2;O<M.vertices.length;O++)O%2==0?P.push([O,O-1,O-2]):P.push([O,O-2,O-1]);else if(j===S.TRIANGLE_FAN)for(var N=2;N<M.vertices.length;N++)P.push([0,N-1,N]);else for(var D=0;D<M.vertices.length;D+=3)P.push([D,D+1,D+2]);this.addGeometry(Object.assign({},M,{faces:P}))}},{key:"addRetained",value:function(M){this.addGeometry(M.model)}},{key:"finish",value:function(){this.renderer._pInst.pop();for(var M=!0,j=4;j<this.geometry.vertexColors.length;j++)if(this.geometry.vertexColors[j]!==this.geometry.vertexColors[j%4]){M=!1;break}return M&&(this.geometry.vertexColors=[]),this.geometry}}])&&x(T.prototype,I),k}();E.nextGeometryId=0,_.default=E},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],320:[function(c,m,_){function g(x){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.math.sign"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var b=(C=c("../core/main"))&&C.__esModule?C:{default:C},y=function(x){if(x&&x.__esModule)return x;if(x===null||A(x)!=="object"&&typeof x!="function")return{default:x};var E=S();if(E&&E.has(x))return E.get(x);var k,T={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in x){var M;Object.prototype.hasOwnProperty.call(x,k)&&((M=I?Object.getOwnPropertyDescriptor(x,k):null)&&(M.get||M.set)?Object.defineProperty(T,k,M):T[k]=x[k])}return T.default=x,E&&E.set(x,T),T}(c("../core/constants"));function S(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,S=function(){return x},x)}function A(x){return(A=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(E){return g(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":g(E)})(x)}b.default.prototype.orbitControl=function(x,E,k,N){var I=this,M=(this._assert3d("orbitControl"),b.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);x===void 0&&(x=1),E===void 0&&(E=x),k===void 0&&(k=1),A(N)!=="object"&&(N={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var L=N.disableTouchActions;this.touchActionsDisabled===!0||L!==void 0&&!L||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var j,P,O,L=N.freeRotation,N=L!==void 0&&L,D=[],L=(this.touches.forEach(function(ee){I._renderer.prevTouches.forEach(function(V){ee.id===V.id&&(V={x:ee.x,y:ee.y,px:V.x,py:V.y},D.push(V))})}),this._renderer.prevTouches=this.touches,0),R=0,G=0,Z=0,B=0,J=this.height<this.width?this.height:this.width,K=!1;return 0<D.length?(K=0<D[0].x&&D[0].x<this.width&&0<D[0].y&&D[0].y<this.height,D.length===1?(R=-x*((j=D[0]).x-j.px)/J,G=E*(j.y-j.py)/J):(j=D[0],P=D[1],L=-(Math.hypot(j.x-P.x,j.y-P.y)-Math.hypot(j.px-P.px,j.py-P.py))*k*4e-4,Z=.5*(j.x+P.x)-.5*(j.px+P.px),B=.5*(j.y+P.y)-.5*(j.py+P.py)),0<this.touches.length?K&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(K=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(L=Math.sign(this._mouseWheelDeltaY)*k,L*=.01,this._mouseWheelDeltaY=0,K&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(R=-x*this.movedX/J,G=E*this.movedY/J):this.mouseButton===this.RIGHT&&(Z=this.movedX,B=this.movedY),K&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),L!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=L),.001<Math.abs(this._renderer.zoomVelocity)?(N?M._orbitFree(0,0,this._renderer.zoomVelocity):M._orbit(0,0,this._renderer.zoomVelocity),M.projMatrix.mat4[15]!==0&&(M.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),M.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=M.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=M.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,R===0&&G===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*R,.6*G),1e-6<this._renderer.rotateVelocity.magSq()?(N?M._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):M._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),Z===0&&B===0||!this._renderer.executeRotateAndMove||(j=2*Z/this.width,P=2*-B/this.height,this._renderer.moveVelocity.add(.15*j,.15*P)),1e-6<this._renderer.moveVelocity.magSq()?(k=M._getLocalAxes(),x=M.eyeX-M.centerX,E=M.eyeY-M.centerY,J=M.eyeZ-M.centerZ,K=Math.sqrt(x*x+E*E+J*J),L=new b.default.Vector(M.centerX,M.centerY,M.centerZ),L=M.cameraMatrix.multiplyPoint(L),(L=this._renderer.uPMatrix.multiplyAndNormalizePoint(L)).x-=this._renderer.moveVelocity.x,L.y-=this._renderer.moveVelocity.y,G=(R=this._renderer.uPMatrix.mat4)[15]===0?(O=(R[8]+L.x)/R[0]*K,(R[9]+L.y)/R[5]*K):(O=(L.x-R[12])/R[0],(L.y-R[13])/R[5]),M.setPosition(M.eyeX+O*k.x[0]+G*k.y[0],M.eyeY+O*k.x[1]+G*k.y[1],M.eyeZ+O*k.x[2]+G*k.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},b.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var x=arguments.length,E=new Array(x),k=0;k<x;k++)E[k]=arguments[k];b.default._validateParameters("debugMode",E);for(var T=this._registeredMethods.post.length-1;0<=T;T--)this._registeredMethods.post[T].toString()!==this._grid().toString()&&this._registeredMethods.post[T].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(T,1);E[0]===y.GRID?this.registerMethod("post",this._grid.call(this,E[1],E[2],E[3],E[4],E[5])):E[0]===y.AXES?this.registerMethod("post",this._axesIcon.call(this,E[1],E[2],E[3],E[4])):(this.registerMethod("post",this._grid.call(this,E[0],E[1],E[2],E[3],E[4])),this.registerMethod("post",this._axesIcon.call(this,E[5],E[6],E[7],E[8])))},b.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var x=this._registeredMethods.post.length-1;0<=x;x--)this._registeredMethods.post[x].toString()!==this._grid().toString()&&this._registeredMethods.post[x].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(x,1)},b.default.prototype._grid=function(x,E,k,T,I){x===void 0&&(x=this.width/2),E===void 0&&(E=Math.round(x/30)<4?4:Math.round(x/30)),k===void 0&&(k=0),T===void 0&&(T=0),I===void 0&&(I=0);var M=x/E,j=x/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var P=0;P<=E;P++)this.beginShape(this.LINES),this.vertex(-j+k,T,P*M-j+I),this.vertex(j+k,T,P*M-j+I),this.endShape();for(var O=0;O<=E;O++)this.beginShape(this.LINES),this.vertex(O*M-j+k,T,-j+I),this.vertex(O*M-j+k,T,j+I),this.endShape();this.pop()}},b.default.prototype._axesIcon=function(x,E,k,T){return x===void 0&&(x=40<this.width/20?this.width/20:40),E===void 0&&(E=-this.width/4),k===void 0&&(k=E),T===void 0&&(T=E),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(E,k,T),this.vertex(E+x,k,T),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(E,k,T),this.vertex(E,k+x,T),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(E,k,T),this.vertex(E,k,T+x),this.endShape(),this.pop()}};var C=b.default;_.default=C},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],321:[function(c,m,_){Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};g.default.prototype.ambientLight=function(b,y,S,A){this._assert3d("ambientLight"),g.default._validateParameters("ambientLight",arguments);var C=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(C._array[0],C._array[1],C._array[2]),this._renderer._enableLighting=!0,this},g.default.prototype.specularColor=function(b,y,S){this._assert3d("specularColor"),g.default._validateParameters("specularColor",arguments);var A=this.color.apply(this,arguments);return this._renderer.specularColors=[A._array[0],A._array[1],A._array[2]],this},g.default.prototype.directionalLight=function(b,I,T,A,C,x){this._assert3d("directionalLight"),g.default._validateParameters("directionalLight",arguments),b=b instanceof g.default.Color?b:this.color(b,I,T);var E,k,I=arguments[arguments.length-1],T=typeof I=="number"?(E=arguments[arguments.length-3],k=arguments[arguments.length-2],arguments[arguments.length-1]):(E=I.x,k=I.y,I.z),I=Math.sqrt(E*E+k*k+T*T);return this._renderer.directionalLightDirections.push(E/I,k/I,T/I),this._renderer.directionalLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},g.default.prototype.pointLight=function(b,T,I,A,C,x){this._assert3d("pointLight"),g.default._validateParameters("pointLight",arguments),b=b instanceof g.default.Color?b:this.color(b,T,I);var E,k,T=arguments[arguments.length-1],I=typeof T=="number"?(E=arguments[arguments.length-3],k=arguments[arguments.length-2],arguments[arguments.length-1]):(E=T.x,k=T.y,T.z);return this._renderer.pointLightPositions.push(E,k,I),this._renderer.pointLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},g.default.prototype.lights=function(){this._assert3d("lights");var b=this.color("rgb(128,128,128)");return this.ambientLight(b),this.directionalLight(b,0,0,-1),this},g.default.prototype.lightFalloff=function(b,y,S){return this._assert3d("lightFalloff"),g.default._validateParameters("lightFalloff",arguments),b<0&&(b=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),y<0&&(y=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),S<0&&(S=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),b===0&&y===0&&S===0&&(b=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=b,this._renderer.linearAttenuation=y,this._renderer.quadraticAttenuation=S,this},g.default.prototype.spotLight=function(b,y,S,A,C,x,E,k,T,I,M){this._assert3d("spotLight"),g.default._validateParameters("spotLight",arguments);var j,P,O,N=arguments.length;switch(N){case 11:case 10:j=this.color(b,y,S),P=new g.default.Vector(A,C,x),O=new g.default.Vector(E,k,T);break;case 9:b instanceof g.default.Color?(j=b,P=new g.default.Vector(y,S,A),O=new g.default.Vector(C,x,E),I=k,M=T):A instanceof g.default.Vector?(j=this.color(b,y,S),P=A,O=new g.default.Vector(C,x,E),I=k,M=T):E instanceof g.default.Vector?(j=this.color(b,y,S),P=new g.default.Vector(A,C,x),O=E,I=k,M=T):(j=this.color(b,y,S),P=new g.default.Vector(A,C,x),O=new g.default.Vector(E,k,T));break;case 8:I=(O=b instanceof g.default.Color?(j=b,P=new g.default.Vector(y,S,A),new g.default.Vector(C,x,E)):A instanceof g.default.Vector?(j=this.color(b,y,S),P=A,new g.default.Vector(C,x,E)):(j=this.color(b,y,S),P=new g.default.Vector(A,C,x),E),k);break;case 7:b instanceof g.default.Color&&y instanceof g.default.Vector?(j=b,P=y,O=new g.default.Vector(S,A,C),I=x,M=E):b instanceof g.default.Color&&C instanceof g.default.Vector?(j=b,P=new g.default.Vector(y,S,A),O=C,I=x,M=E):A instanceof g.default.Vector&&C instanceof g.default.Vector?(j=this.color(b,y,S),P=A,O=C,I=x,M=E):O=b instanceof g.default.Color?(j=b,P=new g.default.Vector(y,S,A),new g.default.Vector(C,x,E)):A instanceof g.default.Vector?(j=this.color(b,y,S),P=A,new g.default.Vector(C,x,E)):(j=this.color(b,y,S),P=new g.default.Vector(A,C,x),E);break;case 6:A instanceof g.default.Vector&&C instanceof g.default.Vector?(j=this.color(b,y,S),P=A,O=C,I=x):b instanceof g.default.Color&&C instanceof g.default.Vector?(j=b,P=new g.default.Vector(y,S,A),O=C,I=x):b instanceof g.default.Color&&y instanceof g.default.Vector&&(j=b,P=y,O=new g.default.Vector(S,A,C),I=x);break;case 5:b instanceof g.default.Color&&y instanceof g.default.Vector&&S instanceof g.default.Vector?(j=b,P=y,O=S,I=A,M=C):A instanceof g.default.Vector&&C instanceof g.default.Vector?(j=this.color(b,y,S),P=A,O=C):b instanceof g.default.Color&&C instanceof g.default.Vector?(j=b,P=new g.default.Vector(y,S,A),O=C):b instanceof g.default.Color&&y instanceof g.default.Vector&&(j=b,P=y,O=new g.default.Vector(S,A,C));break;case 4:j=b,P=y,O=S,I=A;break;case 3:j=b,P=y,O=S;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(N<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(j._array[0],j._array[1],j._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(P.x,P.y,P.z),O.normalize(),this._renderer.spotLightDirections.push(O.x,O.y,O.z),I===void 0&&(I=Math.PI/3),M!==void 0&&M<1?(M=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):M===void 0&&(M=100),I=this._renderer._pInst._toRadians(I),this._renderer.spotLightAngle.push(Math.cos(I)),this._renderer.spotLightConc.push(M),this._renderer._enableLighting=!0,this},g.default.prototype.noLights=function(){this._assert3d("noLights");for(var b=arguments.length,y=new Array(b),S=0;S<b;S++)y[S]=arguments[S];return g.default._validateParameters("noLights",y),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},c=g.default,_.default=c},{"../core/main":275}],322:[function(c,m,_){c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.splice"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.match"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.trim"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(b=c("../core/main"))&&b.__esModule?b:{default:b};c("./p5.Geometry"),g.default.prototype.loadModel=function(y){g.default._validateParameters("loadModel",arguments);var S,A,C,x=y.slice(-4),E=(typeof arguments[1]=="boolean"?(S=arguments[1],A=arguments[2],C=arguments[3],arguments[4]!==void 0&&(x=arguments[4])):(S=!1,A=arguments[1],C=arguments[2],arguments[3]!==void 0&&(x=arguments[3])),new g.default.Geometry),k=(E.gid="".concat(y,"|").concat(S),this);return x.match(/\.stl$/i)?this.httpDo(y,"GET","arrayBuffer",function(T){(function(I,M){if(function(j){for(var P=new DataView(j),O=[115,111,108,105,100],N=0;N<5;N++)if(function(D,L,R){for(var G=0,Z=D.length;G<Z;G++)if(D[G]!==L.getUint8(R+G,!1))return;return 1}(O,P,N))return;return 1}(M))(function(j,P){for(var O,N,D,L,R,G,Z,B=new DataView(P),J=B.getUint32(80,!0),K=!1,ee=0;ee<70;ee++)B.getUint32(ee,!1)===1129270351&&B.getUint8(ee+4)===82&&B.getUint8(ee+5)===61&&(K=!0,L=[],R=B.getUint8(ee+6)/255,G=B.getUint8(ee+7)/255,Z=B.getUint8(ee+8)/255);for(var V=0;V<J;V++){for(var z,X=84+50*V,U=B.getFloat32(X,!0),$=B.getFloat32(4+X,!0),ae=B.getFloat32(8+X,!0),H=(K&&(z=B.getUint16(48+X,!0),D=32768&z?(O=R,N=G,Z):(O=(31&z)/31,N=(z>>5&31)/31,(z>>10&31)/31)),new g.default.Vector(U,$,ae)),ie=1;ie<=3;ie++){var Y=X+12*ie,Y=new g.default.Vector(B.getFloat32(Y,!0),B.getFloat32(4+Y,!0),B.getFloat32(8+Y,!0));j.vertices.push(Y),j.vertexNormals.push(H),K&&L.push(O,N,D)}j.faces.push([3*V,3*V+1,3*V+2]),j.uvs.push([0,0],[0,0],[0,0])}})(I,M);else{if(M=new DataView(M),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");M=new TextDecoder("utf-8").decode(M).split(`
`),function(j,P){for(var O,N,D="",L=[],R=0;R<P.length;++R){for(var G=P[R].trim(),Z=G.split(" "),B=0;B<Z.length;++B)Z[B]===""&&Z.splice(B,1);if(Z.length!==0)switch(D){case"":if(Z[0]!=="solid")return console.error(G),console.error('Invalid state "'.concat(Z[0],'", should be "solid"'));D="solid";break;case"solid":if(Z[0]!=="facet"||Z[1]!=="normal")return console.error(G),console.error('Invalid state "'.concat(Z[0],'", should be "facet normal"'));O=new g.default.Vector(parseFloat(Z[2]),parseFloat(Z[3]),parseFloat(Z[4])),j.vertexNormals.push(O,O,O),D="facet normal";break;case"facet normal":if(Z[0]!=="outer"||Z[1]!=="loop")return console.error(G),console.error('Invalid state "'.concat(Z[0],'", should be "outer loop"'));D="vertex";break;case"vertex":if(Z[0]==="vertex")N=new g.default.Vector(parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])),j.vertices.push(N),j.uvs.push([0,0]),L.push(j.vertices.indexOf(N));else{if(Z[0]!=="endloop")return console.error(G),console.error('Invalid state "'.concat(Z[0],'", should be "vertex" or "endloop"'));j.faces.push(L),L=[],D="endloop"}break;case"endloop":if(Z[0]!=="endfacet")return console.error(G),console.error('Invalid state "'.concat(Z[0],'", should be "endfacet"'));D="endfacet";break;case"endfacet":if(Z[0]!=="endsolid"){if(Z[0]!=="facet"||Z[1]!=="normal")return console.error(G),console.error('Invalid state "'.concat(Z[0],'", should be "endsolid" or "facet normal"'));O=new g.default.Vector(parseFloat(Z[2]),parseFloat(Z[3]),parseFloat(Z[4])),j.vertexNormals.push(O,O,O),D="facet normal"}break;default:console.error('Invalid state "'.concat(D,'"'))}}}(I,M)}})(E,T),S&&E.normalize(),k._decrementPreload(),typeof A=="function"&&A(E)},C):x.match(/\.obj$/i)?this.loadStrings(y,function(T){for(var I=E,M=T,j={v:[],vt:[],vn:[]},P={},O=0;O<M.length;++O){var N=M[O].trim().split(/\b\s+/);if(0<N.length){if(N[0]==="v"||N[0]==="vn"){var D=new g.default.Vector(parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3]));j[N[0]].push(D)}else if(N[0]==="vt")D=[parseFloat(N[1]),1-parseFloat(N[2])],j[N[0]].push(D);else if(N[0]==="f")for(var L=3;L<N.length;++L){for(var R=[],G=[1,L-1,L],Z=0;Z<G.length;++Z){var B=N[G[Z]],J=0;if(P[B]!==void 0)J=P[B];else{for(var K=B.split("/"),ee=0;ee<K.length;ee++)K[ee]=parseInt(K[ee])-1;J=P[B]=I.vertices.length,I.vertices.push(j.v[K[0]].copy()),j.vt[K[1]]?I.uvs.push(j.vt[K[1]].slice()):I.uvs.push([0,0]),j.vn[K[2]]&&I.vertexNormals.push(j.vn[K[2]].copy())}R.push(J)}R[0]!==R[1]&&R[0]!==R[2]&&R[1]!==R[2]&&I.faces.push(R)}}}I.vertexNormals.length===0&&I.computeNormals(),S&&E.normalize(),k._decrementPreload(),typeof A=="function"&&A(E)},C):(g.default._friendlyFileLoadError(3,y),C?C():g.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),E},g.default.prototype.model=function(y){this._assert3d("model"),g.default._validateParameters("model",arguments),0<y.vertices.length&&(this._renderer.geometryInHash(y.gid)||(y.edges.length===0&&y._makeTriangleEdges(),y._edgesToVertices(),this._renderer.createBuffers(y.gid,y)),this._renderer.drawBuffers(y.gid))};var b=g.default;_.default=b},{"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201}],323:[function(c,m,_){function g(x){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function b(x){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(E){return g(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":g(E)})(x)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.includes"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.join"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.includes"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(C=c("../core/main"))&&C.__esModule?C:{default:C},S=function(x){if(x&&x.__esModule)return x;if(x===null||b(x)!=="object"&&typeof x!="function")return{default:x};var E=A();if(E&&E.has(x))return E.get(x);var k,T={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in x){var M;Object.prototype.hasOwnProperty.call(x,k)&&((M=I?Object.getOwnPropertyDescriptor(x,k):null)&&(M.get||M.set)?Object.defineProperty(T,k,M):T[k]=x[k])}return T.default=x,E&&E.set(x,T),T}(c("../core/constants"));function A(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,A=function(){return x},x)}c("./p5.Texture"),y.default.prototype.loadShader=function(x,E,k,T){y.default._validateParameters("loadShader",arguments),T=T||console.error;function I(){j._decrementPreload(),k&&k(M)}var M=new y.default.Shader,j=this,P=!1,O=!1;return this.loadStrings(x,function(N){M._vertSrc=N.join(`
`),O=!0,P&&I()},T),this.loadStrings(E,function(N){M._fragSrc=N.join(`
`),P=!0,O&&I()},T),M},y.default.prototype.createShader=function(x,E){return this._assert3d("createShader"),y.default._validateParameters("createShader",arguments),new y.default.Shader(this._renderer,x,E)},y.default.prototype.createFilterShader=function(x){this._assert3d("createFilterShader"),y.default._validateParameters("createFilterShader",arguments);var E=x.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,E=new y.default.Shader(this._renderer,E,x);return E.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),E},y.default.prototype.shader=function(x){return this._assert3d("shader"),y.default._validateParameters("shader",arguments),x.ensureCompiledOnContext(this),x.isStrokeShader()?this._renderer.userStrokeShader=x:(this._renderer.userFillShader=x,this._renderer._useNormalMaterial=!1),this},y.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},y.default.prototype.texture=function(x){return this._assert3d("texture"),y.default._validateParameters("texture",arguments),x.gifProperties&&x._animateGif(this),this._renderer.drawMode=S.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=x,this._renderer._setProperty("_doFill",!0),this},y.default.prototype.textureMode=function(x){x!==S.IMAGE&&x!==S.NORMAL?console.warn("You tried to set ".concat(x," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=x},y.default.prototype.textureWrap=function(x){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:x,k=(this._renderer.textureWrapX=x,this._renderer.textureWrapY=E,!0),T=!1,I=void 0;try{for(var M,j=this._renderer.textures.values()[Symbol.iterator]();!(k=(M=j.next()).done);k=!0)M.value.setWrapMode(x,E)}catch(P){T=!0,I=P}finally{try{k||j.return==null||j.return()}finally{if(T)throw I}}},y.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var x=arguments.length,E=new Array(x),k=0;k<x;k++)E[k]=arguments[k];return y.default._validateParameters("normalMaterial",E),this._renderer.drawMode=S.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},y.default.prototype.ambientMaterial=function(x,E,k){this._assert3d("ambientMaterial"),y.default._validateParameters("ambientMaterial",arguments);var T=y.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=T._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},y.default.prototype.emissiveMaterial=function(x,E,k,T){this._assert3d("emissiveMaterial"),y.default._validateParameters("emissiveMaterial",arguments);var I=y.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=I._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},y.default.prototype.specularMaterial=function(x,E,k,T){this._assert3d("specularMaterial"),y.default._validateParameters("specularMaterial",arguments);var I=y.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=I._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},y.default.prototype.shininess=function(x){return this._assert3d("shininess"),y.default._validateParameters("shininess",arguments),this._renderer._useShininess=x=x<1?1:x,this},y.default.RendererGL.prototype._applyColorBlend=function(x){var E=this.GL,k=this.drawMode===S.TEXTURE,k=this.userFillShader||this.userStrokeShader||this.userPointShader||k||this.curBlendMode!==S.BLEND||x[x.length-1]<1||this._isErasing;return k!==this._isBlending&&(k||this.curBlendMode!==S.BLEND&&this.curBlendMode!==S.ADD?E.enable(E.BLEND):E.disable(E.BLEND),E.depthMask(!0),this._isBlending=k),this._applyBlendMode(),x},y.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var x=this.GL;switch(this.curBlendMode){case S.BLEND:x.blendEquation(x.FUNC_ADD),x.blendFunc(x.ONE,x.ONE_MINUS_SRC_ALPHA);break;case S.ADD:x.blendEquation(x.FUNC_ADD),x.blendFunc(x.ONE,x.ONE);break;case S.REMOVE:x.blendEquation(x.FUNC_ADD),x.blendFunc(x.ZERO,x.ONE_MINUS_SRC_ALPHA);break;case S.MULTIPLY:x.blendEquation(x.FUNC_ADD),x.blendFunc(x.DST_COLOR,x.ONE_MINUS_SRC_ALPHA);break;case S.SCREEN:x.blendEquation(x.FUNC_ADD),x.blendFunc(x.ONE,x.ONE_MINUS_SRC_COLOR);break;case S.EXCLUSION:x.blendEquationSeparate(x.FUNC_ADD,x.FUNC_ADD),x.blendFuncSeparate(x.ONE_MINUS_DST_COLOR,x.ONE_MINUS_SRC_COLOR,x.ONE,x.ONE);break;case S.REPLACE:x.blendEquation(x.FUNC_ADD),x.blendFunc(x.ONE,x.ZERO);break;case S.SUBTRACT:x.blendEquationSeparate(x.FUNC_REVERSE_SUBTRACT,x.FUNC_ADD),x.blendFuncSeparate(x.ONE,x.ONE,x.ONE,x.ONE_MINUS_SRC_ALPHA);break;case S.DARKEST:this.blendExt?(x.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,x.FUNC_ADD),x.blendFuncSeparate(x.ONE,x.ONE,x.ONE,x.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case S.LIGHTEST:this.blendExt?(x.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,x.FUNC_ADD),x.blendFuncSeparate(x.ONE,x.ONE,x.ONE,x.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var C=y.default;_.default=C},{"../core/constants":264,"../core/main":275,"./p5.Texture":334,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],324:[function(c,m,_){c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.string.sub"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.hypot"),c("core-js/modules/es.string.sub"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};function b(y,S){for(var A=0;A<S.length;A++){var C=S[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}g.default.prototype.camera=function(){var y;this._assert3d("camera");for(var S=arguments.length,A=new Array(S),C=0;C<S;C++)A[C]=arguments[C];return g.default._validateParameters("camera",A),(y=this._renderer._curCamera).camera.apply(y,A),this},g.default.prototype.perspective=function(){var y;this._assert3d("perspective");for(var S=arguments.length,A=new Array(S),C=0;C<S;C++)A[C]=arguments[C];return g.default._validateParameters("perspective",A),(y=this._renderer._curCamera).perspective.apply(y,A),this},g.default.prototype.ortho=function(){var y;this._assert3d("ortho");for(var S=arguments.length,A=new Array(S),C=0;C<S;C++)A[C]=arguments[C];return g.default._validateParameters("ortho",A),(y=this._renderer._curCamera).ortho.apply(y,A),this},g.default.prototype.frustum=function(){var y;this._assert3d("frustum");for(var S=arguments.length,A=new Array(S),C=0;C<S;C++)A[C]=arguments[C];return g.default._validateParameters("frustum",A),(y=this._renderer._curCamera).frustum.apply(y,A),this},g.default.prototype.createCamera=function(){this._assert3d("createCamera");var y=new g.default.Camera(this._renderer);return y._computeCameraDefaultSettings(),y._setDefaultCamera(),this._renderer._curCamera=y},g.default.Camera=function(){function y(C){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this._renderer=C,this.cameraType="default",this.cameraMatrix=new g.default.Matrix,this.projMatrix=new g.default.Matrix,this.yScale=1}var S,A;return S=y,(A=[{key:"perspective",value:function(T,x,E,k){this.cameraType=0<arguments.length?"custom":"default",T===void 0?(T=this.defaultCameraFOV,this.cameraFOV=T):this.cameraFOV=this._renderer._pInst._toRadians(T),x===void 0&&(x=this.defaultAspectRatio),E===void 0&&(E=this.defaultCameraNear),k===void 0&&(k=this.defaultCameraFar),E<=1e-4&&(E=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),k<E&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=x,this.cameraNear=E,this.cameraFar=k,this.projMatrix=g.default.Matrix.identity();var T=1/Math.tan(this.cameraFOV/2),I=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(T/x,0,0,0,0,-T*this.yScale,0,0,0,0,(k+E)*I,-1,0,0,2*k*E*I,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(L,D,E,k,T,I){L===void 0&&(L=-this._renderer.width/2),D===void 0&&(D=+this._renderer.width/2),E===void 0&&(E=-this._renderer.height/2),k===void 0&&(k=+this._renderer.height/2),T===void 0&&(T=0),I===void 0&&(I=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=T;var R=D-L,M=k-E,j=(this.cameraFar=I)-T,P=2/R,O=2/M*this.yScale,N=-2/j,D=-(D+L)/R,L=-(k+E)/M,R=-(I+T)/j;this.projMatrix=g.default.Matrix.identity(),this.projMatrix.set(P,0,0,0,0,-O,0,0,0,0,N,0,D,L,R,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(L,D,E,k,T,I){L===void 0&&(L=.05*-this._renderer.width),D===void 0&&(D=.05*+this._renderer.width),E===void 0&&(E=.05*+this._renderer.height),k===void 0&&(k=.05*-this._renderer.height),T===void 0&&(T=this.defaultCameraNear),I===void 0&&(I=this.defaultCameraFar),this.cameraNear=T;var R=D-L,M=k-E,j=(this.cameraFar=I)-T,P=2*T/R,O=2*T/M*this.yScale,N=-2*I*T/j,D=(D+L)/R,L=(k+E)/M,R=-(I+T)/j;this.projMatrix=g.default.Matrix.identity(),this.projMatrix.set(P,0,0,0,0,-O,0,0,D,L,R,-1,0,0,N,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(P,x,E,k){var T=this.centerX,I=this.centerY,M=this.centerZ,j=(T-=this.eyeX,I-=this.eyeY,M-=this.eyeZ,g.default.Matrix.identity(this._renderer._pInst)),P=(j.rotate(this._renderer._pInst._toRadians(P),x,E,k),[T*j.mat4[0]+I*j.mat4[4]+M*j.mat4[8],T*j.mat4[1]+I*j.mat4[5]+M*j.mat4[9],T*j.mat4[2]+I*j.mat4[6]+M*j.mat4[10]]);P[0]+=this.eyeX,P[1]+=this.eyeY,P[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,P[0],P[1],P[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(C){var x=this._getLocalAxes();this._rotateView(C,x.y[0],x.y[1],x.y[2])}},{key:"tilt",value:function(C){var x=this._getLocalAxes();this._rotateView(C,x.x[0],x.x[1],x.x[2])}},{key:"lookAt",value:function(C,x,E){this.camera(this.eyeX,this.eyeY,this.eyeZ,C,x,E,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(C,x,E,k,T,I,M,j,P){return C===void 0&&(C=this.defaultEyeX,x=this.defaultEyeY,E=this.defaultEyeZ,k=C,T=x,j=1,P=M=I=0),this.eyeX=C,this.eyeY=x,this.eyeZ=E,k!==void 0&&(this.centerX=k,this.centerY=T,this.centerZ=I),M!==void 0&&(this.upX=M,this.upY=j,this.upZ=P),k=this._getLocalAxes(),this.cameraMatrix.set(k.x[0],k.y[0],k.z[0],0,k.x[1],k.y[1],k.z[1],0,k.x[2],k.y[2],k.z[2],0,0,0,0,1),T=-C,this.cameraMatrix.translate([T,-x,-E]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(k,T,E){var I=this._getLocalAxes(),k=[I.x[0]*k,I.x[1]*k,I.x[2]*k],T=[I.y[0]*T,I.y[1]*T,I.y[2]*T],I=[I.z[0]*E,I.z[1]*E,I.z[2]*E];this.camera(this.eyeX+k[0]+T[0]+I[0],this.eyeY+k[1]+T[1]+I[1],this.eyeZ+k[2]+T[2]+I[2],this.centerX+k[0]+T[0]+I[0],this.centerY+k[1]+T[1]+I[1],this.centerZ+k[2]+T[2]+I[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(C,x,E){var k=C-this.eyeX,T=x-this.eyeY,I=E-this.eyeZ;this.camera(C,x,E,this.centerX+k,this.centerY+T,this.centerZ+I,this.upX,this.upY,this.upZ)}},{key:"set",value:function(C){for(var x=0,E=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];x<E.length;x++){var k=E[x];this[k]=C[k]}this.cameraMatrix=C.cameraMatrix.copy(),this.projMatrix=C.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(C,x,E){var k,T,I,M,j,P,O,N,D,L,R,G,Z,B,J,K,ee,V;E===0?this.set(C):E===1?this.set(x):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=C.projMatrix.mat4[0]*Math.pow(x.projMatrix.mat4[0]/C.projMatrix.mat4[0],E),this.projMatrix.mat4[5]=C.projMatrix.mat4[5]*Math.pow(x.projMatrix.mat4[5]/C.projMatrix.mat4[5],E),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),M=new g.default.Vector(C.eyeX,C.eyeY,C.eyeZ),j=new g.default.Vector(x.eyeX,x.eyeY,x.eyeZ),K=new g.default.Vector(C.centerX,C.centerY,C.centerZ),V=new g.default.Vector(x.centerX,x.centerY,x.centerZ),I=g.default.Vector.dist(M,K),k=g.default.Vector.dist(j,V),k=I*Math.pow(k/I,E),I=g.default.Vector.sub(M,j),T=1,1e-6<(ee=(B=M.copy().sub(j).sub(K).add(V)).magSq())&&(T=g.default.Vector.dot(I,B)/ee,T=Math.max(0,Math.min(T,1))),I=g.default.Vector.lerp(g.default.Vector.lerp(M,K,T),g.default.Vector.lerp(j,V,T),E),B=C.cameraMatrix.createSubMatrix3x3(),ee=x.cameraMatrix.createSubMatrix3x3(),M=B.column(2),K=ee.column(2),j=B.column(1),V=ee.column(1),C=new g.default.Vector,x=new g.default.Vector,P=new g.default.Vector,O=new g.default.Vector,1-(N=.5*((B=(ee=ee.mult3x3(B.copy().transpose3x3())).diagonal())[0]+B[1]+B[2]-1))<1e-7?(C.set(g.default.Vector.lerp(M,K,E)).normalize(),P.set(C).mult(T*k).add(I),O.set(C).mult((T-1)*k).add(I),x.set(g.default.Vector.lerp(j,V,E)).normalize()):(K=1/(1-N),V=Math.max(B[0],B[1],B[2]),G=ee.mat3[1]+ee.mat3[3],Z=ee.mat3[2]+ee.mat3[6],J=ee.mat3[5]+ee.mat3[7],V=V===B[0]?(L=.5*G*(K/=D=Math.sqrt((B[0]-N)*K)),R=.5*Z*K,.5*(ee.mat3[7]-ee.mat3[5])/D):V===B[1]?(R=.5*J*(K/=L=Math.sqrt((B[1]-N)*K)),D=.5*G*K,.5*(ee.mat3[2]-ee.mat3[6])/L):(D=.5*Z*(K/=R=Math.sqrt((B[2]-N)*K)),L=.5*J*K,.5*(ee.mat3[3]-ee.mat3[1])/R),G=E*Math.atan2(V,N),Z=Math.cos(G),B=Math.sin(G),(V=new g.default.Matrix("mat3",[Z+(J=1-Z)*D*D,J*(K=D*L)+B*R,J*(ee=R*D)-B*L,J*K-B*R,Z+J*L*L,J*(E=L*R)+B*D,J*ee+B*L,J*E-B*D,Z+J*R*R])).multiplyVec3(M,C),P.set(C).mult(T*k).add(I),O.set(C).mult((T-1)*k).add(I),V.multiplyVec3(j,x)),this.camera(P.x,P.y,P.z,O.x,O.y,O.z,x.x,x.y,x.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var C=new g.default.Camera(this._renderer);return C.cameraFOV=this.cameraFOV,C.aspectRatio=this.aspectRatio,C.eyeX=this.eyeX,C.eyeY=this.eyeY,C.eyeZ=this.eyeZ,C.centerX=this.centerX,C.centerY=this.centerY,C.centerZ=this.centerZ,C.upX=this.upX,C.upY=this.upY,C.upZ=this.upZ,C.cameraNear=this.cameraNear,C.cameraFar=this.cameraFar,C.cameraType=this.cameraType,C.cameraMatrix=this.cameraMatrix.copy(),C.projMatrix=this.projMatrix.copy(),C.yScale=this.yScale,C}},{key:"_getLocalAxes",value:function(){var C=this.eyeX-this.centerX,x=this.eyeY-this.centerY,E=this.eyeZ-this.centerZ,M=Math.sqrt(C*C+x*x+E*E),M=(M!==0&&(C/=M,x/=M,E/=M),this.upX),k=(j=this.upY)*E-(P=this.upZ)*x,T=-M*E+P*C,I=M*x-j*C,M=x*I-E*T,j=-C*I+E*k,P=C*T-x*k,O=Math.sqrt(k*k+T*T+I*I),O=(O!==0&&(k/=O,T/=O,I/=O),Math.sqrt(M*M+j*j+P*P));return O!==0&&(M/=O,j/=O,P/=O),{x:[k,T,I],y:[M,j,P],z:[C,x,E]}}},{key:"_orbit",value:function(C,O,P){var T=this.eyeX-this.centerX,I=this.eyeY-this.centerY,M=this.eyeZ-this.centerZ,k=Math.hypot(T,I,M),T=new g.default.Vector(T,I,M).normalize(),I=new g.default.Vector(this.upX,this.upY,this.upZ).normalize(),M=new g.default.Vector.cross(I,T).normalize(),j=new g.default.Vector.cross(M,I),P=((k=(k*=Math.pow(10,P))<this.cameraNear?this.cameraNear:k)>this.cameraFar&&(k=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,g.default.Vector.dot(T,I))))+O),O=C;(P<=0||P>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),I.mult(Math.cos(P)),j.mult(Math.cos(O)*Math.sin(P)),M.mult(Math.sin(O)*Math.sin(P)),T.set(I).add(j).add(M),this.eyeX=k*T.x+this.centerX,this.eyeY=k*T.y+this.centerY,this.eyeZ=k*T.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(P,O,D){var T=this.eyeX-this.centerX,I=this.eyeY-this.centerY,M=this.eyeZ-this.centerZ,k=Math.hypot(T,I,M),T=new g.default.Vector(T,I,M).normalize(),I=new g.default.Vector(this.upX,this.upY,this.upZ),M=new g.default.Vector.cross(I,T).normalize(),j=new g.default.Vector.cross(T,M),L=Math.atan2(O,P),L=(j.mult(Math.sin(L)),M.mult(Math.cos(L)).add(j),Math.sqrt(P*P+O*O)),j=new g.default.Vector.cross(T,M),P=((k=(k*=Math.pow(10,D))<this.cameraNear?this.cameraNear:k)>this.cameraFar&&(k=this.cameraFar),Math.cos(L)),O=Math.sin(L),D=I.dot(T),L=I.dot(M),N=D*P+L*O,D=-D*O+L*P,L=I.dot(j);I.x=N*T.x+D*M.x+L*j.x,I.y=N*T.y+D*M.y+L*j.y,I.z=N*T.z+D*M.z+L*j.z,M.mult(-O),T.mult(P).add(M).mult(k),this.camera(T.x+this.centerX,T.y+this.centerY,T.z+this.centerZ,this.centerX,this.centerY,this.centerZ,I.x,I.y,I.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&b(S.prototype,A),y}(),g.default.prototype.setCamera=function(y){this._renderer._curCamera=y,this._renderer.uPMatrix.set(y.projMatrix.mat4[0],y.projMatrix.mat4[1],y.projMatrix.mat4[2],y.projMatrix.mat4[3],y.projMatrix.mat4[4],y.projMatrix.mat4[5],y.projMatrix.mat4[6],y.projMatrix.mat4[7],y.projMatrix.mat4[8],y.projMatrix.mat4[9],y.projMatrix.mat4[10],y.projMatrix.mat4[11],y.projMatrix.mat4[12],y.projMatrix.mat4[13],y.projMatrix.mat4[14],y.projMatrix.mat4[15])},c=g.default.Camera,_.default=c},{"../core/main":275,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.string.sub":200}],325:[function(c,m,_){c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.log2"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.math.log2"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c};function g(b,y){for(var S=0;S<y.length;S++){var A=y[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}c.default.DataArray=function(){function b(){var A=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,C=this,x=b;if(!(C instanceof x))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(A),this.initialLength=A}var y,S;return y=b,(S=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var A;this.length<this.data.length/2&&(A=1<<Math.ceil(Math.log2(this.length)),(A=new Float32Array(A)).set(this.data.subarray(0,this.length),0),this.data=A)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var A=arguments.length,C=new Array(A),x=0;x<A;x++)C[x]=arguments[x];this.ensureLength(this.length+C.length),this.data.set(C,this.length),this.length+=C.length}},{key:"slice",value:function(A,C){return this.data.slice(A,Math.min(C,this.length))}},{key:"subArray",value:function(A,C){return this.data.subarray(A,Math.min(C,this.length))}},{key:"ensureLength",value:function(A){for(;this.data.length<A;){var C=new Float32Array(2*this.data.length);C.set(this.data,0),this.data=C}}}])&&g(y.prototype,S),b}(),c=c.default.DataArray,_.default=c},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.log2":171,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],326:[function(G,m,_){function g(Z){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(Z)}function b(Z){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(B){return g(B)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":g(B)})(Z)}G("core-js/modules/es.symbol"),G("core-js/modules/es.symbol.description"),G("core-js/modules/es.symbol.iterator"),G("core-js/modules/es.array.fill"),G("core-js/modules/es.array.includes"),G("core-js/modules/es.array.iterator"),G("core-js/modules/es.object.get-own-property-descriptor"),G("core-js/modules/es.object.get-prototype-of"),G("core-js/modules/es.object.to-string"),G("core-js/modules/es.reflect.construct"),G("core-js/modules/es.reflect.get"),G("core-js/modules/es.regexp.to-string"),G("core-js/modules/es.string.includes"),G("core-js/modules/es.string.iterator"),G("core-js/modules/es.typed-array.float32-array"),G("core-js/modules/es.typed-array.uint8-array"),G("core-js/modules/es.typed-array.uint8-clamped-array"),G("core-js/modules/es.typed-array.copy-within"),G("core-js/modules/es.typed-array.every"),G("core-js/modules/es.typed-array.fill"),G("core-js/modules/es.typed-array.filter"),G("core-js/modules/es.typed-array.find"),G("core-js/modules/es.typed-array.find-index"),G("core-js/modules/es.typed-array.for-each"),G("core-js/modules/es.typed-array.includes"),G("core-js/modules/es.typed-array.index-of"),G("core-js/modules/es.typed-array.iterator"),G("core-js/modules/es.typed-array.join"),G("core-js/modules/es.typed-array.last-index-of"),G("core-js/modules/es.typed-array.map"),G("core-js/modules/es.typed-array.reduce"),G("core-js/modules/es.typed-array.reduce-right"),G("core-js/modules/es.typed-array.reverse"),G("core-js/modules/es.typed-array.set"),G("core-js/modules/es.typed-array.slice"),G("core-js/modules/es.typed-array.some"),G("core-js/modules/es.typed-array.sort"),G("core-js/modules/es.typed-array.subarray"),G("core-js/modules/es.typed-array.to-locale-string"),G("core-js/modules/es.typed-array.to-string"),G("core-js/modules/es.weak-map"),G("core-js/modules/web.dom-collections.iterator"),G("core-js/modules/es.array.fill"),G("core-js/modules/es.array.includes"),G("core-js/modules/es.array.iterator"),G("core-js/modules/es.object.get-prototype-of"),G("core-js/modules/es.object.to-string"),G("core-js/modules/es.string.includes"),G("core-js/modules/es.typed-array.float32-array"),G("core-js/modules/es.typed-array.uint8-array"),G("core-js/modules/es.typed-array.uint8-clamped-array"),G("core-js/modules/es.typed-array.copy-within"),G("core-js/modules/es.typed-array.every"),G("core-js/modules/es.typed-array.fill"),G("core-js/modules/es.typed-array.filter"),G("core-js/modules/es.typed-array.find"),G("core-js/modules/es.typed-array.find-index"),G("core-js/modules/es.typed-array.for-each"),G("core-js/modules/es.typed-array.includes"),G("core-js/modules/es.typed-array.index-of"),G("core-js/modules/es.typed-array.iterator"),G("core-js/modules/es.typed-array.join"),G("core-js/modules/es.typed-array.last-index-of"),G("core-js/modules/es.typed-array.map"),G("core-js/modules/es.typed-array.reduce"),G("core-js/modules/es.typed-array.reduce-right"),G("core-js/modules/es.typed-array.reverse"),G("core-js/modules/es.typed-array.set"),G("core-js/modules/es.typed-array.slice"),G("core-js/modules/es.typed-array.some"),G("core-js/modules/es.typed-array.sort"),G("core-js/modules/es.typed-array.subarray"),G("core-js/modules/es.typed-array.to-locale-string"),G("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(R=G("../core/main"))&&R.__esModule?R:{default:R},S=function(Z){if(Z&&Z.__esModule)return Z;if(Z===null||b(Z)!=="object"&&typeof Z!="function")return{default:Z};var B=x();if(B&&B.has(Z))return B.get(Z);var J,K={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(J in Z){var V;Object.prototype.hasOwnProperty.call(Z,J)&&((V=ee?Object.getOwnPropertyDescriptor(Z,J):null)&&(V.get||V.set)?Object.defineProperty(K,J,V):K[J]=Z[J])}return K.default=Z,B&&B.set(Z,K),K}(G("../core/constants")),A=G("./p5.Texture"),C=G("./p5.RendererGL");function x(){var Z;return typeof WeakMap!="function"?null:(Z=new WeakMap,x=function(){return Z},Z)}function E(Z,B){return function(J){if(Array.isArray(J))return J}(Z)||function(J,K){if(Symbol.iterator in Object(J)||Object.prototype.toString.call(J)==="[object Arguments]"){var ee=[],V=!0,z=!1,X=void 0;try{for(var U,$=J[Symbol.iterator]();!(V=(U=$.next()).done)&&(ee.push(U.value),!K||ee.length!==K);V=!0);}catch(ae){z=!0,X=ae}finally{try{V||$.return==null||$.return()}finally{if(z)throw X}}return ee}}(Z,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(Z,B,J){return B in Z?Object.defineProperty(Z,B,{value:J,enumerable:!0,configurable:!0,writable:!0}):Z[B]=J,Z}function T(Z,B){if(!(Z instanceof B))throw new TypeError("Cannot call a class as a function")}function I(Z,B){for(var J=0;J<B.length;J++){var K=B[J];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(Z,K.key,K)}}function M(Z,B,J){B&&I(Z.prototype,B),J&&I(Z,J)}function j(Z,B,J){return(j=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(z,ee,V){var z=function(X,U){for(;!Object.prototype.hasOwnProperty.call(X,U)&&(X=N(X))!==null;);return X}(z,ee);if(z)return(z=Object.getOwnPropertyDescriptor(z,ee)).get?z.get.call(V):z.value})(Z,B,J||Z)}function P(Z,B){return(P=Object.setPrototypeOf||function(J,K){return J.__proto__=K,J})(Z,B)}function O(Z){return function(){var B,J=N(Z),J=(B=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(B=N(this).constructor,Reflect.construct(J,arguments,B)):J.apply(this,arguments),this);if(!B||b(B)!=="object"&&typeof B!="function"){if(J!==void 0)return J;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return B}}function N(Z){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(Z)}var D=function(Z){var B=K;if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(Z&&Z.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Z&&P(B,Z);var J=O(K);function K(ee){var V;return T(this,K),(V=J.call(this,ee.target._renderer)).fbo=ee,V.yScale=-1,V}return M(K,[{key:"_computeCameraDefaultSettings",value:function(){j(N(K.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),K}(y.default.Camera),L=(y.default.FramebufferCamera=D,function(){function Z(B,J){T(this,Z),this.framebuffer=B,this.property=J}return M(Z,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),Z}()),R=(y.default.FramebufferTexture=L,function(){function Z(ee){var J=this,K=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},ee=(T(this,Z),this.target=ee,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=K.format||S.UNSIGNED_BYTE,this.channels=K.channels||(ee._renderer._pInst._glAttributes.alpha?S.RGBA:S.RGB),this.useDepth=K.depth===void 0||K.depth,this.depthFormat=K.depthFormat||S.FLOAT,this.textureFiltering=K.textureFiltering||S.LINEAR,K.antialias===void 0?this.antialiasSamples=ee._renderer._pInst._glAttributes.antialias?2:0:typeof K.antialias=="number"?this.antialiasSamples=K.antialias:this.antialiasSamples=K.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&ee.webglVersion!==S.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),K.width&&K.height?(this.width=K.width,this.height=K.height,this.autoSized=!1):(K.width===void 0!=(K.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=ee.width,this.height=ee.height,this.autoSized=!0),this.density=K.density||ee.pixelDensity(),ee._renderer.GL);if(this.gl=ee,this._checkIfFormatsAvailable(),K.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(K.stencil===void 0||K.stencil),this.framebuffer=ee.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=ee.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),K=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=K,this.draw(function(){return J.target.clear()})}return M(Z,[{key:"resize",value:function(B,J){this.autoSized=!1,this.width=B,this.height=J,this._handleResize()}},{key:"pixelDensity",value:function(B){if(!B)return this.density;this.autoSized=!1,this.density=B,this._handleResize()}},{key:"autoSized",value:function(B){if(B===void 0)return this.autoSized;this.autoSized=B,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var B=this.gl,B=(this.useDepth&&this.target.webglVersion===S.WEBGL&&!B.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===S.WEBGL&&this.depthFormat===S.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=S.UNSIGNED_INT),[S.UNSIGNED_BYTE,S.FLOAT,S.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=S.UNSIGNED_BYTE),this.useDepth&&![S.UNSIGNED_INT,S.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=S.FLOAT),(0,A.checkWebGLCapabilities)(this.target._renderer));B.float||this.format!==S.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=S.UNSIGNED_BYTE),this.useDepth&&!B.float&&this.depthFormat===S.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=S.UNSIGNED_INT),B.halfFloat||this.format!==S.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=S.UNSIGNED_BYTE),this.channels===S.RGB&&[S.FLOAT,S.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=S.RGBA)}},{key:"_recreateTextures",value:function(){var B=this.gl,J=(this._updateSize(),B.getParameter(B.TEXTURE_BINDING_2D)),K=B.getParameter(B.FRAMEBUFFER_BINDING),ee=B.createTexture();if(!ee)throw new Error("Unable to create color texture");B.bindTexture(B.TEXTURE_2D,ee);var V=this._glColorFormat();if(B.texImage2D(B.TEXTURE_2D,0,V.internalFormat,this.width*this.density,this.height*this.density,0,V.format,V.type,null),this.colorTexture=ee,B.bindFramebuffer(B.FRAMEBUFFER,this.framebuffer),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,ee,0),this.useDepth){var ee=B.createTexture();if(!ee)throw new Error("Unable to create depth texture");var z=this._glDepthFormat();B.bindTexture(B.TEXTURE_2D,ee),B.texImage2D(B.TEXTURE_2D,0,z.internalFormat,this.width*this.density,this.height*this.density,0,z.format,z.type,null),B.framebufferTexture2D(B.FRAMEBUFFER,this.useStencil?B.DEPTH_STENCIL_ATTACHMENT:B.DEPTH_ATTACHMENT,B.TEXTURE_2D,ee,0),this.depthTexture=ee}this.antialias&&(this.colorRenderbuffer=B.createRenderbuffer(),B.bindRenderbuffer(B.RENDERBUFFER,this.colorRenderbuffer),B.renderbufferStorageMultisample(B.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,B.getParameter(B.MAX_SAMPLES))),V.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(z=this._glDepthFormat(),this.depthRenderbuffer=B.createRenderbuffer(),B.bindRenderbuffer(B.RENDERBUFFER,this.depthRenderbuffer),B.renderbufferStorageMultisample(B.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,B.getParameter(B.MAX_SAMPLES))),z.internalFormat,this.width*this.density,this.height*this.density)),B.bindFramebuffer(B.FRAMEBUFFER,this.aaFramebuffer),B.framebufferRenderbuffer(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&B.framebufferRenderbuffer(B.FRAMEBUFFER,this.useStencil?B.DEPTH_STENCIL_ATTACHMENT:B.DEPTH_ATTACHMENT,B.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new L(this,"depthTexture"),ee=B.NEAREST,this.depthP5Texture=new y.default.Texture(this.target._renderer,this.depth,{minFilter:ee,magFilter:ee}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new L(this,"colorTexture"),V=this.textureFiltering===S.LINEAR?B.LINEAR:B.NEAREST,this.colorP5Texture=new y.default.Texture(this.target._renderer,this.color,{minFilter:V,magFilter:V}),this.target._renderer.textures.set(this.color,this.colorP5Texture),B.bindTexture(B.TEXTURE_2D,J),B.bindFramebuffer(B.FRAMEBUFFER,K)}},{key:"_glColorFormat",value:function(){var B,J,K=this.gl,ee=this.format===S.FLOAT?K.FLOAT:this.format===S.HALF_FLOAT?this.target.webglVersion===S.WEBGL2?K.HALF_FLOAT:K.getExtension("OES_texture_half_float").HALF_FLOAT_OES:K.UNSIGNED_BYTE,V=this.channels===S.RGBA?K.RGBA:K.RGB;return{internalFormat:this.target.webglVersion===S.WEBGL2?(k(J={},K.FLOAT,k({},K.RGBA,K.RGBA32F)),k(J,K.HALF_FLOAT,k({},K.RGBA,K.RGBA16F)),k(J,K.UNSIGNED_BYTE,(k(B={},K.RGBA,K.RGBA8),k(B,K.RGB,K.RGB8),B)),J[ee][V]):this.format===S.HALF_FLOAT?K.RGBA:V,format:V,type:ee}}},{key:"_glDepthFormat",value:function(){var K=this.gl,B=this.useStencil?this.depthFormat===S.FLOAT?K.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===S.WEBGL2?K.UNSIGNED_INT_24_8:K.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===S.FLOAT?K.FLOAT:K.UNSIGNED_INT,J=this.useStencil?K.DEPTH_STENCIL:K.DEPTH_COMPONENT,K=this.useStencil?this.depthFormat===S.FLOAT?K.DEPTH32F_STENCIL8:this.target.webglVersion===S.WEBGL2?K.DEPTH24_STENCIL8:K.DEPTH_STENCIL:this.target.webglVersion===S.WEBGL2?this.depthFormat===S.FLOAT?K.DEPTH_COMPONENT32F:K.DEPTH_COMPONENT24:K.DEPTH_COMPONENT;return{internalFormat:K,format:J,type:B}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var ee=this.color,B=this.depth,J=this.colorRenderbuffer,K=this.depthRenderbuffer,ee=(this._deleteTexture(ee),B&&this._deleteTexture(B),this.gl);J&&ee.deleteRenderbuffer(J),K&&ee.deleteRenderbuffer(K),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var B=new D(this);return B._computeCameraDefaultSettings(),B._setDefaultCamera(),this.target._renderer._curCamera=B}},{key:"_deleteTexture",value:function(B){this.gl.deleteTexture(B.rawTexture()),this.target._renderer.textures.delete(B)}},{key:"remove",value:function(){var B=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),B.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&B.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&B.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&B.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var B=this.gl;B.bindFramebuffer(B.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var B=this.gl,J=(B.bindFramebuffer(B.READ_FRAMEBUFFER,this.aaFramebuffer),B.bindFramebuffer(B.DRAW_FRAMEBUFFER,this.framebuffer),[[B.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&J.push([B.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var K=0,ee=J;K<ee.length;K++){var z=E(ee[K],2),V=z[0],z=z[1];B.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,V,z)}}}},{key:"end",value:function(){var B=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(B.bindFramebuffer(B.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(B){this.begin(),B(),this.end()}},{key:"loadPixels",value:function(){var B=this.gl,J=this.target._renderer.activeFramebuffer(),K=(B.bindFramebuffer(B.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,C.readPixelsWebGL)(this.pixels,B,this.framebuffer,0,0,this.width*this.density,this.height*this.density,K.format,K.type),J?B.bindFramebuffer(B.FRAMEBUFFER,J._framebufferToBind()):B.bindFramebuffer(B.FRAMEBUFFER,null)}},{key:"get",value:function(B,J,K,ee){y.default._validateParameters("p5.Framebuffer.get",arguments);var V=this._glColorFormat();if(B===void 0&&J===void 0)J=B=0,K=this.width,ee=this.height;else if(K===void 0&&ee===void 0)return(B<0||J<0||B>=this.width||J>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),B=this.target.constrain(B,0,this.width-1),J=this.target.constrain(J,0,this.height-1)),(0,C.readPixelWebGL)(this.gl,this.framebuffer,B*this.density,J*this.density,V.format,V.type);B=this.target.constrain(B,0,this.width-1),J=this.target.constrain(J,0,this.height-1),K=this.target.constrain(K,1,this.width-B),ee=this.target.constrain(ee,1,this.height-J);for(var z=(0,C.readPixelsWebGL)(void 0,this.gl,this.framebuffer,B*this.density,J*this.density,K*this.density,ee*this.density,V.format,V.type),X=new Uint8ClampedArray(K*ee*this.density*this.density*4),U=(X.fill(255),V.type===this.gl.RGB?3:4),$=0;$<ee*this.density;$++)for(var ae=0;ae<K*this.density;ae++)for(var H=0;H<4;H++){var ie,Y=4*($*K*this.density+ae)+H;H<U&&(ie=U==4?Y:($*K*this.density+ae)*U+H,X[Y]=z[ie])}return B=new y.default.Image(K*this.density,ee*this.density),B.imageData=B.canvas.getContext("2d").createImageData(B.width,B.height),B.imageData.data.set(X),B.pixels=B.imageData.data,B.updatePixels(),this.density!==1&&B.resize(K,ee),B}},{key:"updatePixels",value:function(){var B=this.gl,J=(this.colorP5Texture.bindTexture(),this._glColorFormat()),K=J.format===B.RGBA?4:3,K=this.width*this.height*this.density*this.density*K,ee=J.type===B.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof ee)||this.pixels.length!==K)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");B.texImage2D(B.TEXTURE_2D,0,J.internalFormat,this.width*this.density,this.height*this.density,0,J.format,J.type,this.pixels),this.colorP5Texture.unbindTexture(),ee=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(B.clearDepth(1),B.clear(B.DEPTH_BUFFER_BIT)),this.end()):(B.bindFramebuffer(B.FRAMEBUFFER,this.framebuffer),this.useDepth&&(B.clearDepth(1),B.clear(B.DEPTH_BUFFER_BIT)),ee?B.bindFramebuffer(B.FRAMEBUFFER,ee._framebufferToBind()):B.bindFramebuffer(B.FRAMEBUFFER,null))}}]),Z}()),G=y.default.Framebuffer=R;_.default=G},{"../core/constants":264,"../core/main":275,"./p5.RendererGL":332,"./p5.Texture":334,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],327:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.map"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.sub"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.for-each"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.map"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.set"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.sub"),c("core-js/modules/web.dom-collections.for-each"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};function b(S){return function(A){if(Array.isArray(A)){for(var C=0,x=new Array(A.length);C<A.length;C++)x[C]=A[C];return x}}(S)||function(A){if(Symbol.iterator in Object(A)||Object.prototype.toString.call(A)==="[object Arguments]")return Array.from(A)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(S,A){for(var C=0;C<A.length;C++){var x=A[C];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(S,x.key,x)}}g.default.Geometry=function(){function S(x,E,k){if(this instanceof S)return this.vertices=[],this.lineVertices=new g.default.DataArray,this.lineTangentsIn=new g.default.DataArray,this.lineTangentsOut=new g.default.DataArray,this.lineSides=new g.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new g.default.DataArray,this.detailX=x!==void 0?x:1,this.detailY=E!==void 0?E:1,this.dirtyFlags={},k instanceof Function&&k.call(this),this;throw new TypeError("Cannot call a class as a function")}var A,C;return A=S,(C=[{key:"reset",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var x,E,k,T=this.detailX+1,I=0;I<this.detailY;I++)for(var M=0;M<this.detailX;M++)E=(I+1)*T+M+1,this.faces.push([I*T+M,x=I*T+M+1,k=(I+1)*T+M]),this.faces.push([k,x,E]);return this}},{key:"_getFaceNormal",value:function(E){var E=this.faces[E],k=this.vertices[E[0]],I=this.vertices[E[1]],E=this.vertices[E[2]],I=g.default.Vector.sub(I,k),E=g.default.Vector.sub(E,k),k=g.default.Vector.cross(I,E),T=g.default.Vector.mag(k),I=T/(g.default.Vector.mag(I)*g.default.Vector.mag(E));return I===0||isNaN(I)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),k):(1<I&&(I=1),k.mult(Math.asin(I)/T))}},{key:"computeNormals",value:function(){for(var x=this,E=this.vertexNormals,k=this.vertices,T=this.faces,I=E.length=0;I<k.length;++I)E.push(new g.default.Vector);for(T.forEach(function(M,j){for(var P=x._getFaceNormal(j),O=0;O<3;++O){var N=M[O];E[N].add(P)}}),I=0;I<k.length;++I)E[I].normalize();return this}},{key:"averageNormals",value:function(){for(var x=0;x<=this.detailY;x++){var E=this.detailX+1,k=g.default.Vector.add(this.vertexNormals[x*E],this.vertexNormals[x*E+this.detailX]),k=g.default.Vector.div(k,2);this.vertexNormals[x*E]=k,this.vertexNormals[x*E+this.detailX]=k}return this}},{key:"averagePoleNormals",value:function(){for(var x=new g.default.Vector(0,0,0),E=0;E<this.detailX;E++)x.add(this.vertexNormals[E]);for(var x=g.default.Vector.div(x,this.detailX),k=0;k<this.detailX;k++)this.vertexNormals[k]=x;x=new g.default.Vector(0,0,0);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)x.add(this.vertexNormals[T]);x=g.default.Vector.div(x,this.detailX);for(var I=this.vertices.length-1;I>this.vertices.length-1-this.detailX;I--)this.vertexNormals[I]=x;return this}},{key:"_makeTriangleEdges",value:function(){for(var x=this.edges.length=0;x<this.faces.length;x++)this.edges.push([this.faces[x][0],this.faces[x][1]]),this.edges.push([this.faces[x][1],this.faces[x][2]]),this.edges.push([this.faces[x][2],this.faces[x][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var x,E=new Map,k=new Set,T=0;T<this.edges.length;T++){var I,M=this.edges[T-1],j=this.edges[T],P=this.vertices[j[0]],O=this.vertices[j[1]],N=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[0],4*(j[0]+1)):[0,0,0,0],D=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[1],4*(j[1]+1)):[0,0,0,0],L=O.copy().sub(P).normalize(),R=0<L.magSq();R&&this._addSegment(P,O,N,D,L),0<T&&M[1]===j[0]?k.has(j[0])||(k.add(j[0]),E.delete(j[0]),x&&R&&L.dot(x)<1-1e-8&&this._addJoin(P,x,L,N)):(R&&!k.has(j[0])&&((I=E.get(j[0]))?(this._addJoin(P,I.dir,L,N),E.delete(j[0]),k.add(j[0])):E.set(j[0],{point:P,dir:L.copy().mult(-1),color:N})),x&&!k.has(M[1])&&((I=E.get(M[1]))?(this._addJoin(this.vertices[M[1]],x,I.dir.copy().mult(-1),N),E.delete(M[1]),k.add(M[1])):E.set(M[1],{point:this.vertices[M[1]],dir:x,color:N}),x=void 0)),T!==this.edges.length-1||k.has(j[1])||((P=E.get(j[1]))?(this._addJoin(O,L,P.dir.copy().mult(-1),D),E.delete(j[1]),k.add(j[1])):E.set(j[1],{point:O,dir:L,color:D})),R&&(x=L)}var G=!0,Z=!1,B=void 0;try{for(var J,K=E.values()[Symbol.iterator]();!(G=(J=K.next()).done);G=!0){var ee=J.value,V=ee.point,z=ee.dir,X=ee.color;this._addCap(V,z,X)}}catch(U){Z=!0,B=U}finally{try{G||K.return==null||K.return()}finally{if(Z)throw B}}return this}},{key:"_addSegment",value:function(M,j,k,T,I){var M=M.array(),j=j.array(),P=I.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var O=0,N=[this.lineTangentsIn,this.lineTangentsOut];O<N.length;O++)for(var D=N[O],L=0;L<6;L++)D.push.apply(D,b(P));return(I=this.lineVertices).push.apply(I,b(M).concat(b(j),b(M),b(j),b(j),b(M))),(I=this.lineVertexColors).push.apply(I,b(k).concat(b(T),b(k),b(T),b(T),b(k))),this}},{key:"_addCap",value:function(x,E,k){for(var T,I=x.array(),M=E.array(),j=[0,0,0],P=0;P<6;P++)(T=this.lineVertices).push.apply(T,b(I)),(T=this.lineTangentsIn).push.apply(T,b(M)),(T=this.lineTangentsOut).push.apply(T,j),(T=this.lineVertexColors).push.apply(T,b(k));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(x,E,k,T){for(var I,M=x.array(),j=E.array(),P=k.array(),O=0;O<12;O++)(I=this.lineVertices).push.apply(I,b(M)),(I=this.lineTangentsIn).push.apply(I,b(j)),(I=this.lineTangentsOut).push.apply(I,b(P)),(I=this.lineVertexColors).push.apply(I,b(T));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var x=this.vertices[0].copy(),E=this.vertices[0].copy(),k=0;k<this.vertices.length;k++)x.x=Math.max(x.x,this.vertices[k].x),E.x=Math.min(E.x,this.vertices[k].x),x.y=Math.max(x.y,this.vertices[k].y),E.y=Math.min(E.y,this.vertices[k].y),x.z=Math.max(x.z,this.vertices[k].z),E.z=Math.min(E.z,this.vertices[k].z);for(var T=g.default.Vector.lerp(x,E,.5),I=g.default.Vector.sub(x,E),M=200/Math.max(Math.max(I.x,I.y),I.z),j=0;j<this.vertices.length;j++)this.vertices[j].sub(T),this.vertices[j].mult(M)}return this}}])&&y(A.prototype,C),S}(),c=g.default.Geometry,_.default=c},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],328:[function(A,m,_){A("core-js/modules/es.array.iterator"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.typed-array.float32-array"),A("core-js/modules/es.typed-array.copy-within"),A("core-js/modules/es.typed-array.every"),A("core-js/modules/es.typed-array.fill"),A("core-js/modules/es.typed-array.filter"),A("core-js/modules/es.typed-array.find"),A("core-js/modules/es.typed-array.find-index"),A("core-js/modules/es.typed-array.for-each"),A("core-js/modules/es.typed-array.includes"),A("core-js/modules/es.typed-array.index-of"),A("core-js/modules/es.typed-array.iterator"),A("core-js/modules/es.typed-array.join"),A("core-js/modules/es.typed-array.last-index-of"),A("core-js/modules/es.typed-array.map"),A("core-js/modules/es.typed-array.reduce"),A("core-js/modules/es.typed-array.reduce-right"),A("core-js/modules/es.typed-array.reverse"),A("core-js/modules/es.typed-array.set"),A("core-js/modules/es.typed-array.slice"),A("core-js/modules/es.typed-array.some"),A("core-js/modules/es.typed-array.sort"),A("core-js/modules/es.typed-array.subarray"),A("core-js/modules/es.typed-array.to-locale-string"),A("core-js/modules/es.typed-array.to-string"),A("core-js/modules/es.array.iterator"),A("core-js/modules/es.object.to-string"),A("core-js/modules/es.typed-array.float32-array"),A("core-js/modules/es.typed-array.copy-within"),A("core-js/modules/es.typed-array.every"),A("core-js/modules/es.typed-array.fill"),A("core-js/modules/es.typed-array.filter"),A("core-js/modules/es.typed-array.find"),A("core-js/modules/es.typed-array.find-index"),A("core-js/modules/es.typed-array.for-each"),A("core-js/modules/es.typed-array.includes"),A("core-js/modules/es.typed-array.index-of"),A("core-js/modules/es.typed-array.iterator"),A("core-js/modules/es.typed-array.join"),A("core-js/modules/es.typed-array.last-index-of"),A("core-js/modules/es.typed-array.map"),A("core-js/modules/es.typed-array.reduce"),A("core-js/modules/es.typed-array.reduce-right"),A("core-js/modules/es.typed-array.reverse"),A("core-js/modules/es.typed-array.set"),A("core-js/modules/es.typed-array.slice"),A("core-js/modules/es.typed-array.some"),A("core-js/modules/es.typed-array.sort"),A("core-js/modules/es.typed-array.subarray"),A("core-js/modules/es.typed-array.to-locale-string"),A("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(A=A("../core/main"))&&A.__esModule?A:{default:A};function b(C,x){for(var E=0;E<x.length;E++){var k=x[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}var y=Array,S=function(C){return Array.isArray(C)},A=(typeof Float32Array<"u"&&(y=Float32Array,S=function(C){return Array.isArray(C)||C instanceof Float32Array}),g.default.Matrix=function(){function C(){var T=this,I=C;if(T instanceof I)return arguments.length&&((T=arguments.length-1)<0||arguments.length<=T?void 0:arguments[T])instanceof g.default&&(this.p5=(I=arguments.length-1)<0||arguments.length<=I?void 0:arguments[I]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new y([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new y([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var x,E,k;return x=C,k=[{key:"identity",value:function(T){return new g.default.Matrix(T)}}],(E=[{key:"set",value:function(T){return T instanceof g.default.Matrix?this.mat4=T.mat4:S(T)?this.mat4=T:arguments.length===16&&(this.mat4[0]=T,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new g.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var T;return this.mat3!==void 0?((T=new g.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],T.mat3[1]=this.mat3[1],T.mat3[2]=this.mat3[2],T.mat3[3]=this.mat3[3],T.mat3[4]=this.mat3[4],T.mat3[5]=this.mat3[5],T.mat3[6]=this.mat3[6],T.mat3[7]=this.mat3[7],T.mat3[8]=this.mat3[8]):((T=new g.default.Matrix(this.p5)).mat4[0]=this.mat4[0],T.mat4[1]=this.mat4[1],T.mat4[2]=this.mat4[2],T.mat4[3]=this.mat4[3],T.mat4[4]=this.mat4[4],T.mat4[5]=this.mat4[5],T.mat4[6]=this.mat4[6],T.mat4[7]=this.mat4[7],T.mat4[8]=this.mat4[8],T.mat4[9]=this.mat4[9],T.mat4[10]=this.mat4[10],T.mat4[11]=this.mat4[11],T.mat4[12]=this.mat4[12],T.mat4[13]=this.mat4[13],T.mat4[14]=this.mat4[14],T.mat4[15]=this.mat4[15]),T}},{key:"transpose",value:function(T){var I,M,j,P,O,N;return T instanceof g.default.Matrix?(I=T.mat4[1],M=T.mat4[2],j=T.mat4[3],P=T.mat4[6],O=T.mat4[7],N=T.mat4[11],this.mat4[0]=T.mat4[0],this.mat4[1]=T.mat4[4],this.mat4[2]=T.mat4[8],this.mat4[3]=T.mat4[12],this.mat4[4]=I,this.mat4[5]=T.mat4[5],this.mat4[6]=T.mat4[9],this.mat4[7]=T.mat4[13],this.mat4[8]=M,this.mat4[9]=P,this.mat4[10]=T.mat4[10],this.mat4[11]=T.mat4[14],this.mat4[12]=j,this.mat4[13]=O,this.mat4[14]=N,this.mat4[15]=T.mat4[15]):S(T)&&(I=T[1],M=T[2],j=T[3],P=T[6],O=T[7],N=T[11],this.mat4[0]=T[0],this.mat4[1]=T[4],this.mat4[2]=T[8],this.mat4[3]=T[12],this.mat4[4]=I,this.mat4[5]=T[5],this.mat4[6]=T[9],this.mat4[7]=T[13],this.mat4[8]=M,this.mat4[9]=P,this.mat4[10]=T[10],this.mat4[11]=T[14],this.mat4[12]=j,this.mat4[13]=O,this.mat4[14]=N,this.mat4[15]=T[15]),this}},{key:"invert",value:function(z){z instanceof g.default.Matrix?(I=z.mat4[0],M=z.mat4[1],j=z.mat4[2],P=z.mat4[3],O=z.mat4[4],N=z.mat4[5],D=z.mat4[6],L=z.mat4[7],R=z.mat4[8],G=z.mat4[9],Z=z.mat4[10],B=z.mat4[11],J=z.mat4[12],K=z.mat4[13],ee=z.mat4[14],V=z.mat4[15]):S(z)&&(I=z[0],M=z[1],j=z[2],P=z[3],O=z[4],N=z[5],D=z[6],L=z[7],R=z[8],G=z[9],Z=z[10],B=z[11],J=z[12],K=z[13],ee=z[14],V=z[15]);var I,M,j,P,O,N,D,L,R,G,Z,B,J,K,ee,V,z=I*N-M*O,X=I*D-j*O,U=I*L-P*O,$=M*D-j*N,ae=M*L-P*N,H=j*L-P*D,ie=R*K-G*J,Y=R*ee-Z*J,q=R*V-B*J,ne=G*ee-Z*K,oe=G*V-B*K,he=Z*V-B*ee,de=z*he-X*oe+U*ne+$*q-ae*Y+H*ie;return de?(this.mat4[0]=(N*he-D*oe+L*ne)*(de=1/de),this.mat4[1]=(j*oe-M*he-P*ne)*de,this.mat4[2]=(K*H-ee*ae+V*$)*de,this.mat4[3]=(Z*ae-G*H-B*$)*de,this.mat4[4]=(D*q-O*he-L*Y)*de,this.mat4[5]=(I*he-j*q+P*Y)*de,this.mat4[6]=(ee*U-J*H-V*X)*de,this.mat4[7]=(R*H-Z*U+B*X)*de,this.mat4[8]=(O*oe-N*q+L*ie)*de,this.mat4[9]=(M*q-I*oe-P*ie)*de,this.mat4[10]=(J*ae-K*U+V*z)*de,this.mat4[11]=(G*U-R*ae-B*z)*de,this.mat4[12]=(N*Y-O*ne-D*ie)*de,this.mat4[13]=(I*ne-M*Y+j*ie)*de,this.mat4[14]=(K*X-J*$-ee*z)*de,this.mat4[15]=(R*$-G*X+Z*z)*de,this):null}},{key:"invert3x3",value:function(){var T=this.mat3[0],I=this.mat3[1],M=this.mat3[2],j=this.mat3[3],P=this.mat3[4],O=this.mat3[5],N=this.mat3[6],D=this.mat3[7],L=this.mat3[8],R=L*P-O*D,G=-L*j+O*N,Z=D*j-P*N,B=T*R+I*G+M*Z;return B?(this.mat3[0]=R*(B=1/B),this.mat3[1]=(-L*I+M*D)*B,this.mat3[2]=(O*I-M*P)*B,this.mat3[3]=G*B,this.mat3[4]=(L*T-M*N)*B,this.mat3[5]=(-O*T+M*j)*B,this.mat3[6]=Z*B,this.mat3[7]=(-D*T+I*N)*B,this.mat3[8]=(P*T-I*j)*B,this):null}},{key:"transpose3x3",value:function(T){var I=(T=T===void 0?this.mat3:T)[1],M=T[2],j=T[5];return this.mat3[0]=T[0],this.mat3[1]=T[3],this.mat3[2]=T[6],this.mat3[3]=I,this.mat3[4]=T[4],this.mat3[5]=T[7],this.mat3[6]=M,this.mat3[7]=j,this.mat3[8]=T[8],this}},{key:"inverseTranspose",value:function(T){if(T=T.mat4,this.mat3===void 0?g.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=T[0],this.mat3[1]=T[1],this.mat3[2]=T[2],this.mat3[3]=T[4],this.mat3[4]=T[5],this.mat3[5]=T[6],this.mat3[6]=T[8],this.mat3[7]=T[9],this.mat3[8]=T[10]),T=this.invert3x3(),T)T.transpose3x3(this.mat3);else for(var I=0;I<9;I++)this.mat3[I]=0;return this}},{key:"determinant",value:function(){var T=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],I=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],M=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],j=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],P=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],O=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],N=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],D=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],L=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],R=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],G=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return T*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-I*G+M*R+j*L-P*D+O*N}},{key:"mult",value:function(M){var I;if(M===this||M===this.mat4)I=this.copy().mat4;else if(M instanceof g.default.Matrix)I=M.mat4;else if(S(M))I=M;else{if(arguments.length!==16)return;I=arguments}var M=this.mat4[0],j=this.mat4[1],P=this.mat4[2],O=this.mat4[3];return this.mat4[0]=M*I[0]+j*I[4]+P*I[8]+O*I[12],this.mat4[1]=M*I[1]+j*I[5]+P*I[9]+O*I[13],this.mat4[2]=M*I[2]+j*I[6]+P*I[10]+O*I[14],this.mat4[3]=M*I[3]+j*I[7]+P*I[11]+O*I[15],M=this.mat4[4],j=this.mat4[5],P=this.mat4[6],O=this.mat4[7],this.mat4[4]=M*I[0]+j*I[4]+P*I[8]+O*I[12],this.mat4[5]=M*I[1]+j*I[5]+P*I[9]+O*I[13],this.mat4[6]=M*I[2]+j*I[6]+P*I[10]+O*I[14],this.mat4[7]=M*I[3]+j*I[7]+P*I[11]+O*I[15],M=this.mat4[8],j=this.mat4[9],P=this.mat4[10],O=this.mat4[11],this.mat4[8]=M*I[0]+j*I[4]+P*I[8]+O*I[12],this.mat4[9]=M*I[1]+j*I[5]+P*I[9]+O*I[13],this.mat4[10]=M*I[2]+j*I[6]+P*I[10]+O*I[14],this.mat4[11]=M*I[3]+j*I[7]+P*I[11]+O*I[15],M=this.mat4[12],j=this.mat4[13],P=this.mat4[14],O=this.mat4[15],this.mat4[12]=M*I[0]+j*I[4]+P*I[8]+O*I[12],this.mat4[13]=M*I[1]+j*I[5]+P*I[9]+O*I[13],this.mat4[14]=M*I[2]+j*I[6]+P*I[10]+O*I[14],this.mat4[15]=M*I[3]+j*I[7]+P*I[11]+O*I[15],this}},{key:"apply",value:function(M){var I;if(M===this||M===this.mat4)I=this.copy().mat4;else if(M instanceof g.default.Matrix)I=M.mat4;else if(S(M))I=M;else{if(arguments.length!==16)return;I=arguments}var M=this.mat4,j=M[0],P=M[4],O=M[8],N=M[12],j=(M[0]=I[0]*j+I[1]*P+I[2]*O+I[3]*N,M[4]=I[4]*j+I[5]*P+I[6]*O+I[7]*N,M[8]=I[8]*j+I[9]*P+I[10]*O+I[11]*N,M[12]=I[12]*j+I[13]*P+I[14]*O+I[15]*N,M[1]),P=M[5],O=M[9],N=M[13],j=(M[1]=I[0]*j+I[1]*P+I[2]*O+I[3]*N,M[5]=I[4]*j+I[5]*P+I[6]*O+I[7]*N,M[9]=I[8]*j+I[9]*P+I[10]*O+I[11]*N,M[13]=I[12]*j+I[13]*P+I[14]*O+I[15]*N,M[2]),P=M[6],O=M[10],N=M[14],j=(M[2]=I[0]*j+I[1]*P+I[2]*O+I[3]*N,M[6]=I[4]*j+I[5]*P+I[6]*O+I[7]*N,M[10]=I[8]*j+I[9]*P+I[10]*O+I[11]*N,M[14]=I[12]*j+I[13]*P+I[14]*O+I[15]*N,M[3]),P=M[7],O=M[11],N=M[15];return M[3]=I[0]*j+I[1]*P+I[2]*O+I[3]*N,M[7]=I[4]*j+I[5]*P+I[6]*O+I[7]*N,M[11]=I[8]*j+I[9]*P+I[10]*O+I[11]*N,M[15]=I[12]*j+I[13]*P+I[14]*O+I[15]*N,this}},{key:"scale",value:function(T,I,M){return T instanceof g.default.Vector?(I=T.y,M=T.z,T=T.x):T instanceof Array&&(I=T[1],M=T[2],T=T[0]),this.mat4[0]*=T,this.mat4[1]*=T,this.mat4[2]*=T,this.mat4[3]*=T,this.mat4[4]*=I,this.mat4[5]*=I,this.mat4[6]*=I,this.mat4[7]*=I,this.mat4[8]*=M,this.mat4[9]*=M,this.mat4[10]*=M,this.mat4[11]*=M,this}},{key:"rotate",value:function(z,oe,ne,j){oe instanceof g.default.Vector?(ne=oe.y,j=oe.z,oe=oe.x):oe instanceof Array&&(ne=oe[1],j=oe[2],oe=oe[0]);var P=Math.sqrt(oe*oe+ne*ne+j*j),P=(oe*=1/P,ne*=1/P,j*=1/P,this.mat4[0]),O=this.mat4[1],N=this.mat4[2],D=this.mat4[3],L=this.mat4[4],R=this.mat4[5],G=this.mat4[6],Z=this.mat4[7],B=this.mat4[8],J=this.mat4[9],K=this.mat4[10],ee=this.mat4[11],V=Math.sin(z),z=Math.cos(z),X=1-z,U=oe*oe*X+z,$=ne*oe*X+j*V,ae=j*oe*X-ne*V,H=oe*ne*X-j*V,ie=ne*ne*X+z,Y=j*ne*X+oe*V,q=oe*j*X+ne*V,ne=ne*j*X-oe*V,oe=j*j*X+z;return this.mat4[0]=P*U+L*$+B*ae,this.mat4[1]=O*U+R*$+J*ae,this.mat4[2]=N*U+G*$+K*ae,this.mat4[3]=D*U+Z*$+ee*ae,this.mat4[4]=P*H+L*ie+B*Y,this.mat4[5]=O*H+R*ie+J*Y,this.mat4[6]=N*H+G*ie+K*Y,this.mat4[7]=D*H+Z*ie+ee*Y,this.mat4[8]=P*q+L*ne+B*oe,this.mat4[9]=O*q+R*ne+J*oe,this.mat4[10]=N*q+G*ne+K*oe,this.mat4[11]=D*q+Z*ne+ee*oe,this}},{key:"translate",value:function(j){var I=j[0],M=j[1],j=j[2]||0;this.mat4[12]+=this.mat4[0]*I+this.mat4[4]*M+this.mat4[8]*j,this.mat4[13]+=this.mat4[1]*I+this.mat4[5]*M+this.mat4[9]*j,this.mat4[14]+=this.mat4[2]*I+this.mat4[6]*M+this.mat4[10]*j,this.mat4[15]+=this.mat4[3]*I+this.mat4[7]*M+this.mat4[11]*j}},{key:"rotateX",value:function(T){this.rotate(T,1,0,0)}},{key:"rotateY",value:function(T){this.rotate(T,0,1,0)}},{key:"rotateZ",value:function(T){this.rotate(T,0,0,1)}},{key:"perspective",value:function(P,I,M,j){var P=1/Math.tan(P/2),O=1/(M-j);return this.mat4[0]=P/I,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=P,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(j+M)*O,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*j*M*O,this.mat4[15]=0,this}},{key:"ortho",value:function(T,I,M,j,P,O){var N=1/(T-I),D=1/(M-j),L=1/(P-O);return this.mat4[0]=-2*N,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*D,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*L,this.mat4[11]=0,this.mat4[12]=(T+I)*N,this.mat4[13]=(j+M)*D,this.mat4[14]=(O+P)*L,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(T,I,M,j){var P=new Array(4),O=this.mat4;return P[0]=O[0]*T+O[4]*I+O[8]*M+O[12]*j,P[1]=O[1]*T+O[5]*I+O[9]*M+O[13]*j,P[2]=O[2]*T+O[6]*I+O[10]*M+O[14]*j,P[3]=O[3]*T+O[7]*I+O[11]*M+O[15]*j,P}},{key:"multiplyPoint",value:function(M){var j=M.x,I=M.y,M=M.z,j=this.multiplyVec4(j,I,M,1);return new g.default.Vector(j[0],j[1],j[2])}},{key:"multiplyAndNormalizePoint",value:function(M){var j=M.x,I=M.y,M=M.z,j=this.multiplyVec4(j,I,M,1);return j[0]/=j[3],j[1]/=j[3],j[2]/=j[3],new g.default.Vector(j[0],j[1],j[2])}},{key:"multiplyDirection",value:function(M){var j=M.x,I=M.y,M=M.z,j=this.multiplyVec4(j,I,M,0);return new g.default.Vector(j[0],j[1],j[2])}},{key:"mult3x3",value:function(M){var I;if(M===this||M===this.mat3)I=this.copy().mat3;else if(M instanceof g.default.Matrix)I=M.mat3;else if(S(M))I=M;else{if(arguments.length!==9)return;I=arguments}var M=this.mat3[0],j=this.mat3[1],P=this.mat3[2];return this.mat3[0]=M*I[0]+j*I[3]+P*I[6],this.mat3[1]=M*I[1]+j*I[4]+P*I[7],this.mat3[2]=M*I[2]+j*I[5]+P*I[8],M=this.mat3[3],j=this.mat3[4],P=this.mat3[5],this.mat3[3]=M*I[0]+j*I[3]+P*I[6],this.mat3[4]=M*I[1]+j*I[4]+P*I[7],this.mat3[5]=M*I[2]+j*I[5]+P*I[8],M=this.mat3[6],j=this.mat3[7],P=this.mat3[8],this.mat3[6]=M*I[0]+j*I[3]+P*I[6],this.mat3[7]=M*I[1]+j*I[4]+P*I[7],this.mat3[8]=M*I[2]+j*I[5]+P*I[8],this}},{key:"column",value:function(T){return new g.default.Vector(this.mat3[3*T],this.mat3[3*T+1],this.mat3[3*T+2])}},{key:"row",value:function(T){return new g.default.Vector(this.mat3[T],this.mat3[T+3],this.mat3[T+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(T,I){return(I=I===void 0?T.copy():I).x=this.row(0).dot(T),I.y=this.row(1).dot(T),I.z=this.row(2).dot(T),I}},{key:"createSubMatrix3x3",value:function(){var T=new g.default.Matrix("mat3");return T.mat3[0]=this.mat4[0],T.mat3[1]=this.mat4[1],T.mat3[2]=this.mat4[2],T.mat3[3]=this.mat4[4],T.mat3[4]=this.mat4[5],T.mat3[5]=this.mat4[6],T.mat3[6]=this.mat4[8],T.mat3[7]=this.mat4[9],T.mat3[8]=this.mat4[10],T}}])&&b(x.prototype,E),k&&b(x,k),C}(),g.default.Matrix);_.default=A},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],329:[function(c,m,_){c("core-js/modules/es.array.map"),c("core-js/modules/es.array.map"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0,c=(c=c("../core/main"))&&c.__esModule?c:{default:c};function g(b,y){for(var S=0;S<y.length;S++){var A=y[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}c.default.RenderBuffer=function(){function b(A,C,x,E,k,T){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.size=A,this.src=C,this.dst=x,this.attr=E,this._renderer=k,this.map=T}var y,S;return y=b,(S=[{key:"_prepareBuffer",value:function(A,C){var x,E,k,M=C.attributes,T=this._renderer.GL,I=A.model||A,M=M[this.attr];M&&(x=A[this.dst],0<(E=I[this.src]).length?((k=!x)&&(A[this.dst]=x=T.createBuffer()),T.bindBuffer(T.ARRAY_BUFFER,x),!k&&I.dirtyFlags[this.src]===!1||(k=(A=this.map)?A(E):E,this._renderer._bindBuffer(x,T.ARRAY_BUFFER,k),I.dirtyFlags[this.src]=!1),C.enableAttrib(M,this.size)):(A=M.location)!==-1&&this._renderer.registerEnabled.has(A)&&(T.disableVertexAttribArray(A),this._renderer.registerEnabled.delete(A)))}}])&&g(y.prototype,S),b}(),c=c.default.RenderBuffer,_.default=c},{"../core/main":275,"core-js/modules/es.array.map":164}],330:[function(c,m,_){function g(k){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(k)}function b(k){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(T){return g(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":g(T)})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.find-index"),c("core-js/modules/es.array.from"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.map"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.concat"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.find-index"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.map"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.map"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(E=c("../core/main"))&&E.__esModule?E:{default:E},S=function(k){if(k&&k.__esModule)return k;if(k===null||b(k)!=="object"&&typeof k!="function")return{default:k};var T=A();if(T&&T.has(k))return T.get(k);var I,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in k){var P;Object.prototype.hasOwnProperty.call(k,I)&&((P=j?Object.getOwnPropertyDescriptor(k,I):null)&&(P.get||P.set)?Object.defineProperty(M,I,P):M[I]=k[I])}return M.default=k,T&&T.set(k,M),M}(c("../core/constants"));function A(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,A=function(){return k},k)}function C(k){return function(T){if(Array.isArray(T)){for(var I=0,M=new Array(T.length);I<T.length;I++)M[I]=T[I];return M}}(k)||function(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}c("./p5.RenderBuffer"),y.default.RendererGL.prototype.beginShape=function(k){return this.immediateMode.shapeMode=k!==void 0?k:S.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var x={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},E=(y.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==S.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},y.default.RendererGL.prototype.vertex=function(k,T){if(this.immediateMode.shapeMode===S.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var I in x){var M=x[I],I=this.immediateMode.geometry[I];I.push.apply(I,C(I.slice(I.length-3*M,I.length-2*M)).concat(C(I.slice(I.length-M,I.length))))}var j,P,O=j=P=0,N=(arguments.length===3?O=arguments[2]:arguments.length===4?(j=arguments[2],P=arguments[3]):arguments.length===5&&(O=arguments[2],j=arguments[3],P=arguments[4]),new y.default.Vector(k,T,O)),N=(this.immediateMode.geometry.vertices.push(N),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),N=(this.immediateMode.geometry.vertexColors.push(N[0],N[1],N[2],N[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(N[0],N[1],N[2],N[3]),this.textureMode!==S.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(j/=this._tex.width,P/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(j,P),this.immediateMode._bezierVertex[0]=k,this.immediateMode._bezierVertex[1]=T,this.immediateMode._bezierVertex[2]=O,this.immediateMode._quadraticVertex[0]=k,this.immediateMode._quadraticVertex[1]=T,this.immediateMode._quadraticVertex[2]=O,this},y.default.RendererGL.prototype.normal=function(k,T,I){return k instanceof y.default.Vector?this._currentNormal=k:this._currentNormal=new y.default.Vector(k,T,I),this},y.default.RendererGL.prototype.endShape=function(k,T,I,M,j,P){var O=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===S.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===S.TESS&&(this.immediateMode.shapeMode,S.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this.immediateMode.shapeMode!==S.LINE_STRIP&&this.immediateMode.shapeMode!==S.LINES||(this.immediateMode.shapeMode=S.TRIANGLE_FAN),this.immediateMode.shapeMode===S.QUADS?this.immediateMode.shapeMode=S.TRIANGLES:this.immediateMode.shapeMode===S.QUAD_STRIP&&(this.immediateMode.shapeMode=S.TRIANGLE_STRIP),this._doFill&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(O),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},y.default.RendererGL.prototype._processVertices=function(k){var T;this.immediateMode.geometry.vertices.length!==0&&(T=this._doStroke,k=k===S.CLOSE,T&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,k),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),T=this.immediateMode.shapeMode===S.TESS,k=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||T||k)&&this.immediateMode.shapeMode!==S.LINES&&this._tesselateShape())},y.default.RendererGL.prototype._calculateEdges=function(k,T,I){var M=[],j=0,P=this.immediateMode.contourIndices.slice(),O=0;switch(k){case S.TRIANGLE_STRIP:for(j=0;j<T.length-2;j++)M.push([j,j+1]),M.push([j,j+2]);M.push([j,j+1]);break;case S.TRIANGLE_FAN:for(j=1;j<T.length-1;j++)M.push([0,j]),M.push([j,j+1]);M.push([0,T.length-1]);break;case S.TRIANGLES:for(j=0;j<T.length-2;j+=3)M.push([j,j+1]),M.push([j+1,j+2]),M.push([j+2,j]);break;case S.LINES:for(j=0;j<T.length-1;j+=2)M.push([j,j+1]);break;case S.QUADS:for(j=0;j<T.length-5;j+=6)M.push([j,j+1]),M.push([j+1,j+2]),M.push([j+3,j+5]),M.push([j+4,j+5]);break;case S.QUAD_STRIP:for(j=0;j<T.length-2;j+=2)M.push([j,j+1]),M.push([j,j+2]),M.push([j+1,j+3]);M.push([j,j+1]);break;default:for(j=0;j<T.length;j++)j+1<T.length&&j+1!==P[0]?M.push([j,j+1]):((I||O)&&M.push([j,O]),0<P.length&&(O=P.shift()))}return k!==S.TESS&&I&&M.push([T.length-1,0]),M},y.default.RendererGL.prototype._tesselateShape=function(){for(var k=this,T=(this.immediateMode.shapeMode=S.TRIANGLES,[[]]),I=0;I<this.immediateMode.geometry.vertices.length;I++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===I&&(this.immediateMode.contourIndices.shift(),T.push([])),T[T.length-1].push(this.immediateMode.geometry.vertices[I].x,this.immediateMode.geometry.vertices[I].y,this.immediateMode.geometry.vertices[I].z,this.immediateMode.geometry.uvs[2*I],this.immediateMode.geometry.uvs[2*I+1],this.immediateMode.geometry.vertexColors[4*I],this.immediateMode.geometry.vertexColors[4*I+1],this.immediateMode.geometry.vertexColors[4*I+2],this.immediateMode.geometry.vertexColors[4*I+3],this.immediateMode.geometry.vertexNormals[I].x,this.immediateMode.geometry.vertexNormals[I].y,this.immediateMode.geometry.vertexNormals[I].z);for(var M,j=this._triangulate(T),P=this.immediateMode.geometry.vertices,O=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),N=0,D=j.length;N<D;N+=y.default.RendererGL.prototype.tessyVertexSize)O.push.apply(O,C(j.slice(N+5,N+9))),this.normal.apply(this,C(j.slice(N+9,N+12))),this.vertex.apply(this,C(j.slice(N,N+5)));this.geometryBuilder&&(M=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(L){return L.map(function(R){if(!M.has(R)){var G=P[R],Z=k.immediateMode.geometry.vertices.findIndex(function(X){return G.x===X.x&&G.y===X.y&&G.z===X.z});if(Z===-1){for(var B=1/0,J=0,K=0;K<k.immediateMode.geometry.vertices.length;K++){var V=k.immediateMode.geometry.vertices[K],z=G.x-V.x,ee=G.y-V.y,V=G.z-V.z,z=z*z+ee*ee+V*V;z<B&&(B=z,J=K)}Z=J}M.set(R,Z)}return M.get(R)})})),this.immediateMode.geometry.vertexColors=O},y.default.RendererGL.prototype._drawImmediateFill=function(){var k,T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,I=this.GL,M=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,k=this._getImmediateFillShader(),this._setFillUniforms(k),!0),j=!1,P=void 0;try{for(var O,N=this.immediateMode.buffers.fill[Symbol.iterator]();!(M=(O=N.next()).done);M=!0)O.value._prepareBuffer(this.immediateMode.geometry,k)}catch(D){j=!0,P=D}finally{try{M||N.return==null||N.return()}finally{if(j)throw P}}if(k.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor),T===1)I.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{I.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,T)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}k.unbindShader()},y.default.RendererGL.prototype._drawImmediateStroke=function(){var k=this.GL,T=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),I=(this._setStrokeUniforms(T),!0),M=!1,j=void 0;try{for(var P,O=this.immediateMode.buffers.stroke[Symbol.iterator]();!(I=(P=O.next()).done);I=!0)P.value._prepareBuffer(this.immediateMode.geometry,T)}catch(N){M=!0,j=N}finally{try{I||O.return==null||O.return()}finally{if(M)throw j}}T.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),k.drawArrays(k.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),T.unbindShader()},y.default.RendererGL);_.default=E},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.find-index":156,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],331:[function(c,m,_){function g(x){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(x)}function b(x){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(E){return g(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":g(E)})(x)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.some"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.uint16-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.fill"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.some"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.uint16-array"),c("core-js/modules/es.typed-array.uint32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var y=(C=c("../core/main"))&&C.__esModule?C:{default:C},S=(c("./p5.RendererGL"),c("./p5.RenderBuffer"),function(x){if(x&&x.__esModule)return x;if(x===null||b(x)!=="object"&&typeof x!="function")return{default:x};var E=A();if(E&&E.has(x))return E.get(x);var k,T={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in x){var M;Object.prototype.hasOwnProperty.call(x,k)&&((M=I?Object.getOwnPropertyDescriptor(x,k):null)&&(M.get||M.set)?Object.defineProperty(T,k,M):T[k]=x[k])}return T.default=x,E&&E.set(x,T),T}(c("../core/constants")));function A(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,A=function(){return x},x)}y.default.RendererGL.prototype.freeGeometry=function(x){x.gid?this._freeBuffers(x.gid):console.warn("The model you passed to freeGeometry does not have an id!")},y.default.RendererGL.prototype._initBufferDefaults=function(x){var E;return this._freeBuffers(x),1e3<Object.keys(this.retainedMode.geometry).length&&(E=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(E)),this.retainedMode.geometry[x]={}},y.default.RendererGL.prototype._freeBuffers=function(x){var E,k=this.retainedMode.geometry[x];function T(I){var M=!0,j=!1,P=void 0;try{for(var O,N=I[Symbol.iterator]();!(M=(O=N.next()).done);M=!0){var D=O.value;k[D.dst]&&(E.deleteBuffer(k[D.dst]),k[D.dst]=null)}}catch(L){j=!0,P=L}finally{try{M||N.return==null||N.return()}finally{if(j)throw P}}}k&&(delete this.retainedMode.geometry[x],E=this.GL,k.indexBuffer&&E.deleteBuffer(k.indexBuffer),T(this.retainedMode.buffers.stroke),T(this.retainedMode.buffers.fill))},y.default.RendererGL.prototype.createBuffers=function(j,E){var k,T,I,M=this.GL,j=this._initBufferDefaults(j),P=(j.model=E,j.indexBuffer);return E.faces.length?(P=P||(j.indexBuffer=M.createBuffer()),I=(T=(k=y.default.RendererGL.prototype._flatten(E.faces)).some(function(O){return 65535<O}))?Uint32Array:Uint16Array,this._bindBuffer(P,M.ELEMENT_ARRAY_BUFFER,k,I),j.indexBufferType=T?M.UNSIGNED_INT:M.UNSIGNED_SHORT,j.vertexCount=3*E.faces.length):(P&&(M.deleteBuffer(P),j.indexBuffer=null),j.vertexCount=E.vertices?E.vertices.length:0),j.lineVertexCount=E.lineVertices?E.lineVertices.length/3:0,j},y.default.RendererGL.prototype.drawBuffers=function(x){var E=this.GL,k=this.retainedMode.geometry[x];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[x].vertexCount){this._useVertexColor=0<k.model.vertexColors.length;var T=this._getRetainedFillShader(),I=(this._setFillUniforms(T),!0),M=!1,j=void 0;try{for(var P,O=this.retainedMode.buffers.fill[Symbol.iterator]();!(I=(P=O.next()).done);I=!0)P.value._prepareBuffer(k,T)}catch(G){M=!0,j=G}finally{try{I||O.return==null||O.return()}finally{if(M)throw j}}T.disableRemainingAttributes(),k.indexBuffer&&this._bindBuffer(k.indexBuffer,E.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(E.TRIANGLES,x),T.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<k.lineVertexCount){this._useLineColor=0<k.model.vertexStrokeColors.length;var N=this._getRetainedStrokeShader(),D=(this._setStrokeUniforms(N),!0),M=!1,j=void 0;try{for(var L,R=this.retainedMode.buffers.stroke[Symbol.iterator]();!(D=(L=R.next()).done);D=!0)L.value._prepareBuffer(k,N)}catch(B){M=!0,j=B}finally{try{D||R.return==null||R.return()}finally{if(M)throw j}}N.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),this._drawArrays(E.TRIANGLES,x),N.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(k),this},y.default.RendererGL.prototype.drawBuffersScaled=function(x,E,k,T){var I=this.uMVMatrix.copy();try{this.uMVMatrix.scale(E,k,T),this.drawBuffers(x)}finally{this.uMVMatrix=I}},y.default.RendererGL.prototype._drawArrays=function(x,E){return this.GL.drawArrays(x,0,this.retainedMode.geometry[E].lineVertexCount),this},y.default.RendererGL.prototype._drawElements=function(x,k){var k=this.retainedMode.geometry[k],T=this.GL;if(k.indexBuffer){if(this._pInst.webglVersion!==S.WEBGL2&&k.indexBufferType===T.UNSIGNED_INT&&!T.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");T.drawElements(T.TRIANGLES,k.vertexCount,k.indexBufferType,0)}else T.drawArrays(x||T.TRIANGLES,0,k.vertexCount)},y.default.RendererGL.prototype._drawPoints=function(x,E){var k=this.GL,T=this._getImmediatePointShader();this._setPointUniforms(T),this._bindBuffer(E,k.ARRAY_BUFFER,this._vToNArray(x),Float32Array,k.STATIC_DRAW),T.enableAttrib(T.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),k.drawArrays(k.Points,0,x.length),T.unbindShader()};var C=y.default.RendererGL;_.default=C},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"./p5.RendererGL":332,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.some":166,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],332:[function(B,m,_){function g(X){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(X)}function b(X){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(U){return g(U)}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":g(U)})(X)}B("core-js/modules/es.symbol"),B("core-js/modules/es.symbol.description"),B("core-js/modules/es.symbol.iterator"),B("core-js/modules/es.array.concat"),B("core-js/modules/es.array.copy-within"),B("core-js/modules/es.array.every"),B("core-js/modules/es.array.fill"),B("core-js/modules/es.array.from"),B("core-js/modules/es.array.includes"),B("core-js/modules/es.array.iterator"),B("core-js/modules/es.array.slice"),B("core-js/modules/es.array.some"),B("core-js/modules/es.map"),B("core-js/modules/es.object.assign"),B("core-js/modules/es.object.get-own-property-descriptor"),B("core-js/modules/es.object.get-prototype-of"),B("core-js/modules/es.object.to-string"),B("core-js/modules/es.reflect.construct"),B("core-js/modules/es.reflect.get"),B("core-js/modules/es.regexp.to-string"),B("core-js/modules/es.set"),B("core-js/modules/es.string.includes"),B("core-js/modules/es.string.iterator"),B("core-js/modules/es.typed-array.float32-array"),B("core-js/modules/es.typed-array.float64-array"),B("core-js/modules/es.typed-array.int16-array"),B("core-js/modules/es.typed-array.uint8-array"),B("core-js/modules/es.typed-array.uint16-array"),B("core-js/modules/es.typed-array.uint32-array"),B("core-js/modules/es.typed-array.copy-within"),B("core-js/modules/es.typed-array.every"),B("core-js/modules/es.typed-array.fill"),B("core-js/modules/es.typed-array.filter"),B("core-js/modules/es.typed-array.find"),B("core-js/modules/es.typed-array.find-index"),B("core-js/modules/es.typed-array.for-each"),B("core-js/modules/es.typed-array.includes"),B("core-js/modules/es.typed-array.index-of"),B("core-js/modules/es.typed-array.iterator"),B("core-js/modules/es.typed-array.join"),B("core-js/modules/es.typed-array.last-index-of"),B("core-js/modules/es.typed-array.map"),B("core-js/modules/es.typed-array.reduce"),B("core-js/modules/es.typed-array.reduce-right"),B("core-js/modules/es.typed-array.reverse"),B("core-js/modules/es.typed-array.set"),B("core-js/modules/es.typed-array.slice"),B("core-js/modules/es.typed-array.some"),B("core-js/modules/es.typed-array.sort"),B("core-js/modules/es.typed-array.subarray"),B("core-js/modules/es.typed-array.to-locale-string"),B("core-js/modules/es.typed-array.to-string"),B("core-js/modules/es.weak-map"),B("core-js/modules/web.dom-collections.iterator"),B("core-js/modules/es.symbol"),B("core-js/modules/es.symbol.description"),B("core-js/modules/es.symbol.iterator"),B("core-js/modules/es.array.concat"),B("core-js/modules/es.array.copy-within"),B("core-js/modules/es.array.every"),B("core-js/modules/es.array.fill"),B("core-js/modules/es.array.from"),B("core-js/modules/es.array.includes"),B("core-js/modules/es.array.iterator"),B("core-js/modules/es.array.slice"),B("core-js/modules/es.array.some"),B("core-js/modules/es.map"),B("core-js/modules/es.object.assign"),B("core-js/modules/es.object.to-string"),B("core-js/modules/es.set"),B("core-js/modules/es.string.includes"),B("core-js/modules/es.string.iterator"),B("core-js/modules/es.typed-array.float32-array"),B("core-js/modules/es.typed-array.float64-array"),B("core-js/modules/es.typed-array.int16-array"),B("core-js/modules/es.typed-array.uint8-array"),B("core-js/modules/es.typed-array.uint16-array"),B("core-js/modules/es.typed-array.uint32-array"),B("core-js/modules/es.typed-array.copy-within"),B("core-js/modules/es.typed-array.every"),B("core-js/modules/es.typed-array.fill"),B("core-js/modules/es.typed-array.filter"),B("core-js/modules/es.typed-array.find"),B("core-js/modules/es.typed-array.find-index"),B("core-js/modules/es.typed-array.for-each"),B("core-js/modules/es.typed-array.includes"),B("core-js/modules/es.typed-array.index-of"),B("core-js/modules/es.typed-array.iterator"),B("core-js/modules/es.typed-array.join"),B("core-js/modules/es.typed-array.last-index-of"),B("core-js/modules/es.typed-array.map"),B("core-js/modules/es.typed-array.reduce"),B("core-js/modules/es.typed-array.reduce-right"),B("core-js/modules/es.typed-array.reverse"),B("core-js/modules/es.typed-array.set"),B("core-js/modules/es.typed-array.slice"),B("core-js/modules/es.typed-array.some"),B("core-js/modules/es.typed-array.sort"),B("core-js/modules/es.typed-array.subarray"),B("core-js/modules/es.typed-array.to-locale-string"),B("core-js/modules/es.typed-array.to-string"),B("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.readPixelsWebGL=V,_.readPixelWebGL=z,_.default=void 0;var y=E(B("../core/main")),S=function(X){if(X&&X.__esModule)return X;if(X===null||b(X)!=="object"&&typeof X!="function")return{default:X};var U=x();if(U&&U.has(X))return U.get(X);var $,ae={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for($ in X){var ie;Object.prototype.hasOwnProperty.call(X,$)&&((ie=H?Object.getOwnPropertyDescriptor(X,$):null)&&(ie.get||ie.set)?Object.defineProperty(ae,$,ie):ae[$]=X[$])}return ae.default=X,U&&U.set(X,ae),ae}(B("../core/constants")),A=E(B("./GeometryBuilder")),C=E(B("libtess"));B("./p5.Shader"),B("./p5.Camera"),B("../core/p5.Renderer"),B("./p5.Matrix"),B("./p5.Framebuffer"),B("path");function x(){var X;return typeof WeakMap!="function"?null:(X=new WeakMap,x=function(){return X},X)}function E(X){return X&&X.__esModule?X:{default:X}}function k(X){return function(U){if(Array.isArray(U)){for(var $=0,ae=new Array(U.length);$<U.length;$++)ae[$]=U[$];return ae}}(X)||function(U){if(Symbol.iterator in Object(U)||Object.prototype.toString.call(U)==="[object Arguments]")return Array.from(U)}(X)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(X,U){for(var $=0;$<U.length;$++){var ae=U[$];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(X,ae.key,ae)}}function I(X,U,$){return(I=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Y,H,ie){var Y=function(q,ne){for(;!Object.prototype.hasOwnProperty.call(q,ne)&&(q=O(q))!==null;);return q}(Y,H);if(Y)return(Y=Object.getOwnPropertyDescriptor(Y,H)).get?Y.get.call(ie):Y.value})(X,U,$||X)}function M(X,U){return(M=Object.setPrototypeOf||function($,ae){return $.__proto__=ae,$})(X,U)}function j(X){return function(){var U,$,ae=O(X);return U=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(U=O(this).constructor,Reflect.construct(ae,arguments,U)):ae.apply(this,arguments),ae=this,!($=U)||b($)!=="object"&&typeof $!="function"?P(ae):$}}function P(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}function O(X){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)})(X)}function N(X,U,$){U in X?Object.defineProperty(X,U,{value:$,enumerable:!0,configurable:!0,writable:!0}):X[U]=$}function D(X,U){Z+="#define STROKE_CAP_".concat(X," ").concat(U,`
`),R[S[X]]=U}function L(X,U){Z+="#define STROKE_JOIN_".concat(X," ").concat(U,`
`),G[S[X]]=U}var R={},G={},Z="",B=(D("ROUND",0),D("PROJECT",1),D("SQUARE",2),L("ROUND",0),L("MITER",1),L("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),J=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`,K={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:B+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:B+`// include lighting.glsl
precision highp float;
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:J+`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:J+`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:Z+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:Z+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`},ee=(N(B={},S.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),N(B,S.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),N(B,S.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),N(B,S.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),N(B,S.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb, color.a);
}
`),N(B,S.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb, 1.0);
}
`),N(B,S.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  vec3 invertedColor = 1.0 - color.rgb;
  gl_FragColor = vec4(invertedColor, color.a);
}
`),N(B,S.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite), color.a);
}
`),B);function V(X,U,de,ae,H,ie,Y,q,ne,oe){var he=U.getParameter(U.FRAMEBUFFER_BINDING),de=(U.bindFramebuffer(U.FRAMEBUFFER,de),q===U.RGBA?4:3),xe=ie*Y*de,Ce=ne===U.UNSIGNED_BYTE?Uint8Array:Float32Array;if(X instanceof Ce&&X.length===xe||(X=new Ce(xe)),U.readPixels(ae,oe?oe-H-Y:H,ie,Y,q,ne,X),U.bindFramebuffer(U.FRAMEBUFFER,he),oe)for(var ge=Math.floor(Y/2),Ae=new Ce(ie*de),we=0;we<ge;we++){var me=we*ie*4,_e=(Y-we-1)*ie*4;Ae.set(X.subarray(me,me+4*ie)),X.copyWithin(me,_e,_e+4*ie),X.set(Ae,_e)}return X}function z(X,ne,$,ae,H,ie,Y){var q=X.getParameter(X.FRAMEBUFFER_BINDING),ne=(X.bindFramebuffer(X.FRAMEBUFFER,ne),H===X.RGBA?4:3),ne=new(ie===X.UNSIGNED_BYTE?Uint8Array:Float32Array)(ne);return X.readPixels($,Y?Y-ae-1:ae,1,1,H,ie,ne),X.bindFramebuffer(X.FRAMEBUFFER,q),Array.from(ne)}y.default.prototype.setAttributes=function(X,U){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var $=!0;if(U!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[X]!==U&&(this._glAttributes[X]=U,$=!1)):X instanceof Object&&this._glAttributes!==X&&(this._glAttributes=X,$=!1),this._renderer.isP3D&&!$){if(!this._setupDone){for(var ae in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ae))return void y.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},y.default.RendererGL=function(X){var U=ae;if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(X&&X.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),X&&M(U,X);var $=j(ae);function ae(H,ie,Y,q){if(this instanceof ae)return(H=$.call(this,H,ie,Y))._setAttributeDefaults(ie),H._initContext(),H.isP3D=!0,H.geometryBuilder=void 0,H.GL=H.drawingContext,H._pInst._setProperty("drawingContext",H.drawingContext),H._isErasing=!1,H._clipDepths=[],H._isClipApplied=!1,H._stencilTestOn=!1,H._enableLighting=!1,H.ambientLightColors=[],H.specularColors=[1,1,1],H.directionalLightDirections=[],H.directionalLightDiffuseColors=[],H.directionalLightSpecularColors=[],H.pointLightPositions=[],H.pointLightDiffuseColors=[],H.pointLightSpecularColors=[],H.spotLightPositions=[],H.spotLightDirections=[],H.spotLightDiffuseColors=[],H.spotLightSpecularColors=[],H.spotLightAngle=[],H.spotLightConc=[],H.drawMode=S.FILL,H.curFillColor=H._cachedFillStyle=[1,1,1,1],H.curAmbientColor=H._cachedFillStyle=[1,1,1,1],H.curSpecularColor=H._cachedFillStyle=[0,0,0,0],H.curEmissiveColor=H._cachedFillStyle=[0,0,0,0],H.curStrokeColor=H._cachedStrokeStyle=[0,0,0,1],H.curBlendMode=S.BLEND,H._cachedBlendMode=void 0,H.webglVersion===S.WEBGL2?H.blendExt=H.GL:H.blendExt=H.GL.getExtension("EXT_blend_minmax"),H._isBlending=!1,H._hasSetAmbient=!1,H._useSpecularMaterial=!1,H._useEmissiveMaterial=!1,H._useNormalMaterial=!1,H._useShininess=1,H._useLineColor=!1,H._useVertexColor=!1,H.registerEnabled=new Set,H._tint=[255,255,255,255],H.constantAttenuation=1,H.linearAttenuation=0,H.quadraticAttenuation=0,H.uMVMatrix=new y.default.Matrix,H.uPMatrix=new y.default.Matrix,H.uNMatrix=new y.default.Matrix("mat3"),H._currentNormal=new y.default.Vector(0,0,1),H._curCamera=new y.default.Camera(P(H)),H._curCamera._computeCameraDefaultSettings(),H._curCamera._setDefaultCamera(),H.prevTouches=[],H.zoomVelocity=0,H.rotateVelocity=new y.default.Vector(0,0),H.moveVelocity=new y.default.Vector(0,0),H.executeZoom=!1,H.executeRotateAndMove=!1,H._defaultLightShader=void 0,H._defaultImmediateModeShader=void 0,H._defaultNormalShader=void 0,H._defaultColorShader=void 0,H._defaultPointShader=void 0,H.userFillShader=void 0,H.userStrokeShader=void 0,H.userPointShader=void 0,H.retainedMode={geometry:{},buffers:{stroke:[new y.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",P(H)),new y.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",P(H)),new y.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",P(H)),new y.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",P(H)),new y.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",P(H))],fill:[new y.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",P(H),H._vToNArray),new y.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",P(H),H._vToNArray),new y.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",P(H)),new y.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",P(H)),new y.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",P(H),H._flatten)],text:[new y.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",P(H),H._vToNArray),new y.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",P(H),H._flatten)]}},H.immediateMode={geometry:new y.default.Geometry,shapeMode:S.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new y.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",P(H),H._vToNArray),new y.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",P(H),H._vToNArray),new y.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",P(H)),new y.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",P(H)),new y.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",P(H),H._flatten)],stroke:[new y.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",P(H)),new y.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",P(H)),new y.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",P(H)),new y.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",P(H)),new y.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",P(H))],point:H.GL.createBuffer()}},H.pointSize=5,H.curStrokeWeight=1,H.curStrokeCap=S.ROUND,H.curStrokeJoin=S.ROUND,H.textures=new Map,H.framebuffers=new Set,H.activeFramebuffers=[],H.filterShader=void 0,H.filterGraphicsLayer=void 0,H.filterGraphicsLayerTemp=void 0,H.defaultFilterShaders={},H.textureMode=S.IMAGE,H.textureWrapX=S.CLAMP,H.textureWrapY=S.CLAMP,H._tex=null,H._curveTightness=6,H._lookUpTableBezier=[],H._lookUpTableQuadratic=[],H._lutBezierDetail=0,H._lutQuadraticDetail=0,H.isProcessingVertices=!1,H._tessy=H._initTessy(),H.fontInfos={},H._curShader=void 0,H;throw new TypeError("Cannot call a class as a function")}return U=ae,(X=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new A.default(this)}},{key:"endGeometry",value:function(){var H;if(this.geometryBuilder)return H=this.geometryBuilder.finish(),this.geometryBuilder=void 0,H;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(H){return this.beginGeometry(),H(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(H){var ie={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};H._glAttributes===null?H._glAttributes=ie:H._glAttributes=Object.assign(ie,H._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?S.WEBGL2:S.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var H=this.drawingContext;H.enable(H.DEPTH_TEST),H.depthFunc(H.LEQUAL),H.viewport(0,0,H.drawingBufferWidth,H.drawingBufferHeight),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(H,ie){var Y,q=this.width,ne=this.height,he=this.canvas.id,oe=this._pInst instanceof y.default.Graphics,he=(oe?((Y=this._pInst).canvas.parentNode.removeChild(Y.canvas),Y.canvas=document.createElement("canvas"),(Y._pInst._userNode||document.body).appendChild(Y.canvas),y.default.Element.call(Y,Y.canvas,Y._pInst),Y.width=q,Y.height=ne):((Y=this.canvas)&&Y.parentNode.removeChild(Y),(Y=document.createElement("canvas")).id=he,(this._pInst._userNode||document.body).appendChild(Y),this._pInst.canvas=Y,this.canvas=Y),new y.default.RendererGL(this._pInst.canvas,this._pInst,!oe));this._pInst._setProperty("_renderer",he),he.resize(q,ne),he._applyDefaults(),oe||this._pInst._elements.push(he),typeof ie=="function"&&setTimeout(function(){ie.apply(window._renderer,H)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var q=(q=this._pInst).color.apply(q,arguments),H=q.levels[0]/255,ie=q.levels[1]/255,Y=q.levels[2]/255,q=q.levels[3]/255;this.clear(H,ie,Y,q)}},{key:"fill",value:function(H,ie,Y,q){var ne=y.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ne._array,this.drawMode=S.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(H,ie,Y,q){var ne=y.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ne._array}},{key:"strokeCap",value:function(H){this.curStrokeCap=H}},{key:"strokeJoin",value:function(H){this.curStrokeJoin=H}},{key:"getFilterGraphicsLayer",value:function(){var H;return this.filterGraphicsLayer||(H=(this._pInst instanceof y.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new y.default.Graphics(this.width,this.height,S.WEBGL,H),this.filterGraphicsLayer.noStroke()),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"getFilterGraphicsLayerTemp",value:function(){var H;return this.filterGraphicsLayerTemp||(H=(this._pInst instanceof y.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayerTemp=new y.default.Graphics(this.width,this.height,S.WEBGL,H),this.filterGraphicsLayerTemp.noStroke()),this.filterGraphicsLayerTemp.width===this.width&&this.filterGraphicsLayerTemp.height===this.height||this.filterGraphicsLayerTemp.resizeCanvas(this.width,this.height),this.filterGraphicsLayerTemp.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayerTemp.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayerTemp}},{key:"filter",value:function(){var H=this.getFilterGraphicsLayer(),ie=void 0,Y=void 0,q=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(Y=arguments.length<=0?void 0:arguments[0],N(q={},S.BLUR,3),N(q,S.POSTERIZE,4),N(q,S.THRESHOLD,.5),ie=Y in(q=q)&&(arguments.length<=1?void 0:arguments[1])===void 0?q[Y]:arguments.length<=1?void 0:arguments[1],Y in this.defaultFilterShaders||(this.defaultFilterShaders[Y]=new y.default.Shader(H._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,ee[Y])),this.filterShader=this.defaultFilterShaders[Y]):this.filterShader=arguments.length<=0?void 0:arguments[0],H.clear(),this._pInst.pixelDensity()),q=[1/(this.width*q),1/(this.height*q)];Y===S.BLUR?((Y=this.getFilterGraphicsLayerTemp()).clear(),this._pInst.push(),this._pInst.noStroke(),Y.image(this,-this.width/2,-this.height/2),H.shader(this.filterShader),this.filterShader.setUniform("texelSize",q),this.filterShader.setUniform("canvasSize",[this.width,this.height]),this.filterShader.setUniform("radius",Math.max(1,ie)),this.filterShader.setUniform("direction",[1,0]),this.filterShader.setUniform("tex0",Y),H.rect(-this.width/2,-this.height/2,this.width,this.height),Y.image(H,-this.width/2,-this.height/2),this.filterShader.setUniform("direction",[0,1]),this.filterShader.setUniform("tex0",Y),H.rect(-this.width/2,-this.height/2,this.width,this.height),this._pInst.pop()):(H.shader(this.filterShader),this.filterShader.setUniform("tex0",this),this.filterShader.setUniform("texelSize",q),this.filterShader.setUniform("canvasSize",[this.width,this.height]),this.filterShader.setUniform("filterParameter",ie),H.rect(-this.width/2,-this.height/2,this.width,this.height)),this._pInst.push(),this._pInst.noStroke(),this._pInst.image(H,-this.width/2,-this.height/2,this.width,this.height),this._pInst.pop()}},{key:"blendMode",value:function(H){H===S.DARKEST||H===S.LIGHTEST||H===S.ADD||H===S.BLEND||H===S.SUBTRACT||H===S.SCREEN||H===S.EXCLUSION||H===S.REPLACE||H===S.MULTIPLY||H===S.REMOVE?this.curBlendMode=H:H!==S.BURN&&H!==S.OVERLAY&&H!==S.HARD_LIGHT&&H!==S.SOFT_LIGHT&&H!==S.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(H,ie){this._isErasing||(this._applyBlendMode(S.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,H/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,ie/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var H=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},H=(I(O(ae.prototype),"beginClip",this).call(this,H),this.drawTarget()._isClipApplied=!0,this.GL);H.clearStencil(0),H.clear(H.STENCIL_BUFFER_BIT),H.enable(H.STENCIL_TEST),this._stencilTestOn=!0,H.stencilFunc(H.ALWAYS,1,255),H.stencilOp(H.KEEP,H.KEEP,H.REPLACE),H.disable(H.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var H=this.GL;H.stencilOp(H.KEEP,H.KEEP,H.KEEP),H.stencilFunc(this._clipInvert?H.EQUAL:H.NOTEQUAL,0,255),H.enable(H.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),I(O(ae.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(H){this.curStrokeWeight!==H&&(this.pointSize=H,this.curStrokeWeight=H)}},{key:"_getPixel",value:function(H,ie){var Y=this.GL;return z(Y,null,H,ie,Y.RGBA,Y.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var H,ie,Y=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(H=this._pInst._pixelDensity,ie=this.GL,Y._setProperty("pixels",V(Y.pixels,ie,null,0,0,this.width*H,this.height*H,ie.RGBA,ie.UNSIGNED_BYTE,this.height*H)))}},{key:"updatePixels",value:function(){var H=this._getTempFramebuffer();H.pixels=this._pixelsState.pixels,H.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(S.CENTER),this._pInst.image(H,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:S.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:S.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(H){return this.retainedMode.geometry[H]!==void 0}},{key:"viewport",value:function(H,ie){this._viewport=[0,0,H,ie],this.GL.viewport(0,0,H,ie)}},{key:"resize",value:function(H,ie){y.default.Renderer.prototype.resize.call(this,H,ie),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var q=this._pixelsState,Y=(q.pixels!==void 0&&q._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),q=!1,ne=void 0;try{for(var oe,he=this.framebuffers[Symbol.iterator]();!(Y=(oe=he.next()).done);Y=!0)oe.value._canvasSizeChanged()}catch(de){q=!0,ne=de}finally{try{Y||he.return==null||he.return()}finally{if(q)throw ne}}this.filterGraphicsLayer&&y.default.Renderer.prototype.resize.call(this.filterGraphicsLayer,H,ie)}},{key:"clear",value:function(){var H=(arguments.length<=0?void 0:arguments[0])||0,ie=(arguments.length<=1?void 0:arguments[1])||0,Y=(arguments.length<=2?void 0:arguments[2])||0,q=(arguments.length<=3?void 0:arguments[3])||0,ne=this.activeFramebuffer();ne&&ne.format===S.UNSIGNED_BYTE&&!ne.antialias&&q===0&&(q=1e-10),this.GL.clearColor(H*q,ie*q,Y*q,q),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(H,ie,Y,q,ne,oe){arguments.length===16?y.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([H,ie,0,0,Y,q,0,0,0,0,1,0,ne,oe,0,1])}},{key:"translate",value:function(H,ie,Y){return H instanceof y.default.Vector&&(Y=H.z,ie=H.y,H=H.x),this.uMVMatrix.translate([H,ie,Y]),this}},{key:"scale",value:function(H,ie,Y){return this.uMVMatrix.scale(H,ie,Y),this}},{key:"rotate",value:function(H,ie){return ie===void 0?this.rotateZ(H):(y.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(H){return this.rotate(H,1,0,0),this}},{key:"rotateY",value:function(H){return this.rotate(H,0,1,0),this}},{key:"rotateZ",value:function(H){return this.rotate(H,0,0,1),this}},{key:"push",value:function(){var H=y.default.Renderer.prototype.push.apply(this),ie=H.properties;return ie.uMVMatrix=this.uMVMatrix.copy(),ie.uPMatrix=this.uPMatrix.copy(),ie._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),ie.ambientLightColors=this.ambientLightColors.slice(),ie.specularColors=this.specularColors.slice(),ie.directionalLightDirections=this.directionalLightDirections.slice(),ie.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),ie.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),ie.pointLightPositions=this.pointLightPositions.slice(),ie.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),ie.pointLightSpecularColors=this.pointLightSpecularColors.slice(),ie.spotLightPositions=this.spotLightPositions.slice(),ie.spotLightDirections=this.spotLightDirections.slice(),ie.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),ie.spotLightSpecularColors=this.spotLightSpecularColors.slice(),ie.spotLightAngle=this.spotLightAngle.slice(),ie.spotLightConc=this.spotLightConc.slice(),ie.userFillShader=this.userFillShader,ie.userStrokeShader=this.userStrokeShader,ie.userPointShader=this.userPointShader,ie.pointSize=this.pointSize,ie.curStrokeWeight=this.curStrokeWeight,ie.curStrokeColor=this.curStrokeColor,ie.curFillColor=this.curFillColor,ie.curAmbientColor=this.curAmbientColor,ie.curSpecularColor=this.curSpecularColor,ie.curEmissiveColor=this.curEmissiveColor,ie._hasSetAmbient=this._hasSetAmbient,ie._useSpecularMaterial=this._useSpecularMaterial,ie._useEmissiveMaterial=this._useEmissiveMaterial,ie._useShininess=this._useShininess,ie.constantAttenuation=this.constantAttenuation,ie.linearAttenuation=this.linearAttenuation,ie.quadraticAttenuation=this.quadraticAttenuation,ie._enableLighting=this._enableLighting,ie._useNormalMaterial=this._useNormalMaterial,ie._tex=this._tex,ie.drawMode=this.drawMode,ie._currentNormal=this._currentNormal,ie.curBlendMode=this.curBlendMode,H}},{key:"pop",value:function(){var H;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var ie=arguments.length,Y=new Array(ie),q=0;q<ie;q++)Y[q]=arguments[q];(H=I(O(ae.prototype),"pop",this)).call.apply(H,[this].concat(Y)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var H=this.drawTarget();H._isClipApplied!==this._stencilTestOn&&(H._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var H=this.userStrokeShader;return H&&H.isStrokeShader()?H:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var H=this.userFillShader;if(this._useNormalMaterial&&(!H||!H.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!H||!H.isLightShader())return this._getLightShader()}else if(this._tex){if(!H||!H.isTextureShader())return this._getLightShader()}else if(!H)return this._getImmediateModeShader();return H}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var H=this.userFillShader;if(this._enableLighting){if(!H||!H.isLightShader())return this._getLightShader()}else if(this._tex){if(!H||!H.isTextureShader())return this._getLightShader()}else if(!H)return this._getColorShader();return H}},{key:"_getImmediatePointShader",value:function(){var H=this.userPointShader;return H&&H.isPointShader()?H:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new y.default.Shader(this,K.phongVert,K.phongFrag):this._defaultLightShader=new y.default.Shader(this,K.lightVert,K.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new y.default.Shader(this,K.immediateVert,K.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new y.default.Shader(this,K.normalVert,K.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new y.default.Shader(this,K.normalVert,K.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new y.default.Shader(this,K.pointVert,K.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new y.default.Shader(this,K.lineVert,K.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===S.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new y.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+K.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+K.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(H,ie){var Y="";return this.webglVersion===S.WEBGL2&&(Y+=`#version 300 es
#define WEBGL2
`),H==="vert"?Y+=`#define VERTEX_SHADER
`:H==="frag"&&(Y+=`#define FRAGMENT_SHADER
`),ie&&(Y+="precision ".concat(ie,` float;
`)),Y}},{key:"_getEmptyTexture",value:function(){var H;return this._emptyTexture||((H=new y.default.Image(1,1)).set(0,0,255),this._emptyTexture=new y.default.Texture(this,H)),this._emptyTexture}},{key:"getTexture",value:function(H){H instanceof y.default.Framebuffer&&(H=H.color);var ie=this.textures.get(H);return ie||(ie=new y.default.Texture(this,H),this.textures.set(H,ie),ie)}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(H){return new y.default.Framebuffer(this,H)}},{key:"_setStrokeUniforms",value:function(H){H.bindShader(),H.setUniform("uUseLineColor",this._useLineColor),H.setUniform("uMaterialColor",this.curStrokeColor),H.setUniform("uStrokeWeight",this.curStrokeWeight),H.setUniform("uStrokeCap",R[this.curStrokeCap]),H.setUniform("uStrokeJoin",G[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(H){H.bindShader(),H.setUniform("uUseVertexColor",this._useVertexColor),H.setUniform("uMaterialColor",this.curFillColor),H.setUniform("isTexture",!!this._tex),this._tex&&H.setUniform("uSampler",this._tex),H.setUniform("uTint",this._tint),H.setUniform("uHasSetAmbient",this._hasSetAmbient),H.setUniform("uAmbientMatColor",this.curAmbientColor),H.setUniform("uSpecularMatColor",this.curSpecularColor),H.setUniform("uEmissiveMatColor",this.curEmissiveColor),H.setUniform("uSpecular",this._useSpecularMaterial),H.setUniform("uEmissive",this._useEmissiveMaterial),H.setUniform("uShininess",this._useShininess),H.setUniform("uUseLighting",this._enableLighting);var ie=this.pointLightDiffuseColors.length/3,ie=(H.setUniform("uPointLightCount",ie),H.setUniform("uPointLightLocation",this.pointLightPositions),H.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),H.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),ie=(H.setUniform("uDirectionalLightCount",ie),H.setUniform("uLightingDirection",this.directionalLightDirections),H.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),H.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),ie=(H.setUniform("uAmbientLightCount",ie),H.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);H.setUniform("uSpotLightCount",ie),H.setUniform("uSpotLightAngle",this.spotLightAngle),H.setUniform("uSpotLightConc",this.spotLightConc),H.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),H.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),H.setUniform("uSpotLightLocation",this.spotLightPositions),H.setUniform("uSpotLightDirection",this.spotLightDirections),H.setUniform("uConstantAttenuation",this.constantAttenuation),H.setUniform("uLinearAttenuation",this.linearAttenuation),H.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),H.bindTextures()}},{key:"_setPointUniforms",value:function(H){H.bindShader(),H.setUniform("uMaterialColor",this.curStrokeColor),H.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(H,ie,Y,q,ne){ie=ie||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(ie,H),Y!==void 0&&((H=Y)instanceof y.default.DataArray?H=Y.dataArray():H instanceof(q||Float32Array)||(H=new(q||Float32Array)(H)),this.GL.bufferData(ie,H,ne||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(H,ie){return H.length===ie.length&&H.every(function(Y,q){return Y===ie[q]})}},{key:"_isTypedArray",value:function(H){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(ie){return H instanceof ie})}},{key:"_flatten",value:function(H){if(H.length===0)return[];var ie;if(2e4<H.length){for(var Y=[],q=H.slice(),ne=q.pop();Array.isArray(ne)?q.push.apply(q,k(ne)):Y.push(ne),q.length&&(ne=q.pop())!==void 0;);return Y.reverse(),Y}return(ie=[]).concat.apply(ie,k(H))}},{key:"_vToNArray",value:function(H){var ie=[],Y=!0,q=!1,ne=void 0;try{for(var oe,he=H[Symbol.iterator]();!(Y=(oe=he.next()).done);Y=!0){var de=oe.value;ie.push(de.x,de.y,de.z)}}catch(xe){q=!0,ne=xe}finally{try{Y||he.return==null||he.return()}finally{if(q)throw ne}}return ie}},{key:"_bezierCoefficients",value:function(H){var ie=H*H,Y=1-H,q=Y*Y;return[q*Y,3*q*H,3*Y*ie,ie*H]}},{key:"_quadraticCoefficients",value:function(H){var ie=1-H;return[ie*ie,2*ie*H,H*H]}},{key:"_bezierToCatmull",value:function(H){return[H[1],H[1]+(H[2]-H[0])/this._curveTightness,H[2]-(H[3]-H[1])/this._curveTightness,H[2]]}},{key:"_initTessy",value:function(){var H=new C.default.GluTesselator;return H.gluTessCallback(C.default.gluEnum.GLU_TESS_VERTEX_DATA,function(ie,Y){for(var q=0;q<ie.length;q++)Y.push(ie[q])}),H.gluTessCallback(C.default.gluEnum.GLU_TESS_BEGIN,function(ie){ie!==C.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(ie))}),H.gluTessCallback(C.default.gluEnum.GLU_TESS_ERROR,function(ie){console.log("error callback"),console.log("error number: ".concat(ie))}),H.gluTessCallback(C.default.gluEnum.GLU_TESS_COMBINE,function(ie,Y,q){for(var ne=new Array(y.default.RendererGL.prototype.tessyVertexSize).fill(0),oe=0;oe<q.length;oe++)for(var he=0;he<ne.length;he++)q[oe]!==0&&Y[oe]&&(ne[he]+=Y[oe][he]*q[oe]);return ne}),H.gluTessCallback(C.default.gluEnum.GLU_TESS_EDGE_FLAG,function(ie){}),H.gluTessProperty(C.default.gluEnum.GLU_TESS_WINDING_RULE,C.default.windingRule.GLU_TESS_WINDING_NONZERO),H}},{key:"_triangulate",value:function(H){var ie=H[0]?H[0][2]:void 0,Y=!0,q=!0,xe=!1,ge=void 0;try{for(var ne,oe=H[Symbol.iterator]();!(q=(ne=oe.next()).done);q=!0)for(var he=ne.value,de=0;de<he.length;de+=y.default.RendererGL.prototype.tessyVertexSize)if(he[de+2]!==ie){Y=!1;break}}catch(se){xe=!0,ge=se}finally{try{q||oe.return==null||oe.return()}finally{if(xe)throw ge}}Y?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var xe=[],Ce=(this._tessy.gluTessBeginPolygon(xe),!0),ge=!1,Ae=void 0;try{for(var we,me=H[Symbol.iterator]();!(Ce=(we=me.next()).done);Ce=!0){var _e=we.value;this._tessy.gluTessBeginContour();for(var Me=0;Me<_e.length;Me+=y.default.RendererGL.prototype.tessyVertexSize){var De=_e.slice(Me,Me+y.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(De,De)}this._tessy.gluTessEndContour()}}catch(se){ge=!0,Ae=se}finally{try{Ce||me.return==null||me.return()}finally{if(ge)throw Ae}}return this._tessy.gluTessEndPolygon(),xe}}])&&T(U.prototype,X),ae}(y.default.Renderer),y.default.prototype._assert3d=function(X){if(!this._renderer.isP3D)throw new Error("".concat(X,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},y.default.RendererGL.prototype.tessyVertexSize=12,J=y.default.RendererGL,_.default=J},{"../core/constants":264,"../core/main":275,"../core/p5.Renderer":278,"./GeometryBuilder":319,"./p5.Camera":324,"./p5.Framebuffer":326,"./p5.Matrix":328,"./p5.Shader":333,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.map":169,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.float64-array":212,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int16-array":216,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,libtess:247,path:250}],333:[function(c,m,_){c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.index-of"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.array.slice"),c("core-js/modules/es.array.some"),c("core-js/modules/es.function.name"),c("core-js/modules/es.object.keys"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var g=(c=c("../core/main"))&&c.__esModule?c:{default:c};function b(y,S){for(var A=0;A<S.length;A++){var C=S[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(y,C.key,C)}}g.default.Shader=function(){function y(C,x,E){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this._renderer=C,this._vertSrc=x,this._fragSrc=E,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var S,A;return S=y,(A=[{key:"init",value:function(){if(this._glProgram===0){var C=this._renderer.GL;if(this._vertShader=C.createShader(C.VERTEX_SHADER),C.shaderSource(this._vertShader,this._vertSrc),C.compileShader(this._vertShader),!C.getShaderParameter(this._vertShader,C.COMPILE_STATUS))return g.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(C.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=C.createShader(C.FRAGMENT_SHADER),C.shaderSource(this._fragShader,this._fragSrc),C.compileShader(this._fragShader),!C.getShaderParameter(this._fragShader,C.COMPILE_STATUS))return g.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(C.getShaderInfoLog(this._fragShader))),null;this._glProgram=C.createProgram(),C.attachShader(this._glProgram,this._vertShader),C.attachShader(this._glProgram,this._fragShader),C.linkProgram(this._glProgram),C.getProgramParameter(this._glProgram,C.LINK_STATUS)||g.default._friendlyError("Snap! Error linking shader program: ".concat(C.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(C){var x=new g.default.Shader(C._renderer,this._vertSrc,this._fragSrc);return x.ensureCompiledOnContext(C),x}},{key:"ensureCompiledOnContext",value:function(C){if(this._glProgram!==0&&this._renderer!==C._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=C._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var C=this._renderer.GL,x=C.getProgramParameter(this._glProgram,C.ACTIVE_ATTRIBUTES),E=0;E<x;++E){var k=C.getActiveAttrib(this._glProgram,E),T=k.name,I=C.getAttribLocation(this._glProgram,T),M={};M.name=T,M.location=I,M.index=E,M.type=k.type,M.size=k.size,this.attributes[T]=M}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var C=this._renderer.GL,x=C.getProgramParameter(this._glProgram,C.ACTIVE_UNIFORMS),E=0,k=0;k<x;++k){var T=C.getActiveUniform(this._glProgram,k),I={},M=(I.location=C.getUniformLocation(this._glProgram,T.name),I.size=T.size,T.name);1<T.size&&(M=M.substring(0,M.indexOf("[0]"))),I.name=M,I.type=T.type,I._cachedData=void 0,I.type===C.SAMPLER_2D&&(I.samplerIndex=E,E++,this.samplers.push(I)),I.isArray=1<T.size||I.type===C.FLOAT_MAT3||I.type===C.FLOAT_MAT4||I.type===C.FLOAT_VEC2||I.type===C.FLOAT_VEC3||I.type===C.FLOAT_VEC4||I.type===C.INT_VEC2||I.type===C.INT_VEC4||I.type===C.INT_VEC3,this.uniforms[M]=I}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var C=this._renderer.GL,x=!0,E=!1,k=void 0;try{for(var T,I=this.samplers[Symbol.iterator]();!(x=(T=I.next()).done);x=!0){var M=T.value,j=M.texture;j===void 0&&(j=this._renderer._getEmptyTexture()),C.activeTexture(C.TEXTURE0+M.samplerIndex),j.bindTexture(),j.update(),C.uniform1i(M.location,M.samplerIndex)}}catch(P){E=!0,k=P}finally{try{x||I.return==null||I.return()}finally{if(E)throw k}}}},{key:"updateTextures",value:function(){var C=!0,x=!1,E=void 0;try{for(var k,T=this.samplers[Symbol.iterator]();!(C=(k=T.next()).done);C=!0){var I=k.value.texture;I&&I.update()}}catch(M){x=!0,E=M}finally{try{C||T.return==null||T.return()}finally{if(x)throw E}}}},{key:"unbindTextures",value:function(){var C=!0,x=!1,E=void 0;try{for(var k,T=this.samplers[Symbol.iterator]();!(C=(k=T.next()).done);C=!0){var I=k.value;this.setUniform(I.name,this._renderer._getEmptyTexture())}}catch(M){x=!0,E=M}finally{try{C||T.return==null||T.return()}finally{if(x)throw E}}}},{key:"_setMatrixUniforms",value:function(){var C=this._renderer._curCamera.cameraMatrix,x=this._renderer.uPMatrix,E=this._renderer.uMVMatrix,k=E.copy();k.mult(x),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",C.mat4),this.setUniform("uProjectionMatrix",x.mat4),this.setUniform("uModelViewMatrix",E.mat4),this.setUniform("uModelViewProjectionMatrix",k.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var C=this._renderer.GL;return this._renderer._curShader!==this&&(C.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(C,x){var E=this.uniforms[C];if(E){var k=this._renderer.GL;if(E.isArray){if(E._cachedData&&this._renderer._arraysEqual(E._cachedData,x))return;E._cachedData=x.slice(0)}else{if(E._cachedData&&E._cachedData===x)return;Array.isArray(x)?E._cachedData=x.slice(0):E._cachedData=x}var T=E.location;switch(this.useProgram(),E.type){case k.BOOL:x===!0?k.uniform1i(T,1):k.uniform1i(T,0);break;case k.INT:1<E.size?x.length&&k.uniform1iv(T,x):k.uniform1i(T,x);break;case k.FLOAT:1<E.size?x.length&&k.uniform1fv(T,x):k.uniform1f(T,x);break;case k.FLOAT_MAT3:k.uniformMatrix3fv(T,!1,x);break;case k.FLOAT_MAT4:k.uniformMatrix4fv(T,!1,x);break;case k.FLOAT_VEC2:1<E.size?x.length&&k.uniform2fv(T,x):k.uniform2f(T,x[0],x[1]);break;case k.FLOAT_VEC3:1<E.size?x.length&&k.uniform3fv(T,x):k.uniform3f(T,x[0],x[1],x[2]);break;case k.FLOAT_VEC4:1<E.size?x.length&&k.uniform4fv(T,x):k.uniform4f(T,x[0],x[1],x[2],x[3]);break;case k.INT_VEC2:1<E.size?x.length&&k.uniform2iv(T,x):k.uniform2i(T,x[0],x[1]);break;case k.INT_VEC3:1<E.size?x.length&&k.uniform3iv(T,x):k.uniform3i(T,x[0],x[1],x[2]);break;case k.INT_VEC4:1<E.size?x.length&&k.uniform4iv(T,x):k.uniform4i(T,x[0],x[1],x[2],x[3]);break;case k.SAMPLER_2D:k.activeTexture(k.TEXTURE0+E.samplerIndex),E.texture=x instanceof g.default.Texture?x:this._renderer.getTexture(x),k.uniform1i(T,E.samplerIndex),E.texture.src.gifProperties&&E.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(C,x,E,k,T,I){var M;return C&&(C=C.location)!==-1&&(M=this._renderer.GL,this._renderer.registerEnabled.has(C)||(M.enableVertexAttribArray(C),this._renderer.registerEnabled.add(C)),this._renderer.GL.vertexAttribPointer(C,x,E||M.FLOAT,k||!1,T||0,I||0)),this}},{key:"disableRemainingAttributes",value:function(){var C=this,x=!0,E=!1,k=void 0;try{for(var T,I=this._renderer.registerEnabled.values()[Symbol.iterator]();!(x=(T=I.next()).done);x=!0)(function(){var M=T.value;Object.keys(C.attributes).some(function(j){return C.attributes[j].location===M})||(C._renderer.GL.disableVertexAttribArray(M),C._renderer.registerEnabled.delete(M))})()}catch(M){E=!0,k=M}finally{try{x||I.return==null||I.return()}finally{if(E)throw k}}}}])&&b(S.prototype,A),y}(),c=g.default.Shader,_.default=c},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],334:[function(c,m,_){function g(k){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(k)}function b(k){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(T){return g(T)}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":g(T)})(k)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.uint8-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(_,"__esModule",{value:!0}),_.checkWebGLCapabilities=x,_.default=void 0;var y=(E=c("../core/main"))&&E.__esModule?E:{default:E},S=function(k){if(k&&k.__esModule)return k;if(k===null||b(k)!=="object"&&typeof k!="function")return{default:k};var T=A();if(T&&T.has(k))return T.get(k);var I,M={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in k){var P;Object.prototype.hasOwnProperty.call(k,I)&&((P=j?Object.getOwnPropertyDescriptor(k,I):null)&&(P.get||P.set)?Object.defineProperty(M,I,P):M[I]=k[I])}return M.default=k,T&&T.set(k,M),M}(c("../core/constants"));function A(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,A=function(){return k},k)}function C(k,T){for(var I=0;I<T.length;I++){var M=T[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,M.key,M)}}function x(j){var T=j.GL,j=j.webglVersion,I=j===S.WEBGL2?T.getExtension("EXT_color_buffer_float")&&T.getExtension("EXT_float_blend"):T.getExtension("OES_texture_float"),M=I&&T.getExtension("OES_texture_float_linear"),j=j===S.WEBGL2?T.getExtension("EXT_color_buffer_float"):T.getExtension("OES_texture_half_float");return{float:I,floatLinear:M,halfFloat:j,halfFloatLinear:j&&T.getExtension("OES_texture_half_float_linear")}}y.default.Texture=function(){function k(D,j,N){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");this._renderer=D;var O=this._renderer.GL,N=(N=N||{},this.src=j,this.glTex=void 0,this.glTarget=O.TEXTURE_2D,this.glFormat=N.format||O.RGBA,this.mipmaps=!1,this.glMinFilter=N.minFilter||O.LINEAR,this.glMagFilter=N.magFilter||O.LINEAR,this.glWrapS=N.wrapS||O.CLAMP_TO_EDGE,this.glWrapT=N.wrapT||O.CLAMP_TO_EDGE,this.glDataType=N.dataType||O.UNSIGNED_BYTE,x(D)),D=(this.glFormat!==O.HALF_FLOAT||N.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=O.FLOAT),this.glFormat!==O.HALF_FLOAT||this.glMinFilter!==O.LINEAR&&this.glMagFilter!==O.LINEAR||N.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===O.LINEAR&&(this.glMinFilter=O.NEAREST),this.glMagFilter===O.LINEAR&&(this.glMagFilter=O.NEAREST)),this.glFormat!==O.FLOAT||N.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=O.UNSIGNED_BYTE),this.glFormat!==O.FLOAT||this.glMinFilter!==O.LINEAR&&this.glMagFilter!==O.LINEAR||N.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===O.LINEAR&&(this.glMinFilter=O.NEAREST),this.glMagFilter===O.LINEAR&&(this.glMagFilter=O.NEAREST)),this.isSrcMediaElement=y.default.MediaElement!==void 0&&j instanceof y.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=y.default.Element!==void 0&&j instanceof y.default.Element&&!(j instanceof y.default.Graphics)&&!(j instanceof y.default.Renderer),this.isSrcP5Image=j instanceof y.default.Image,this.isSrcP5Graphics=j instanceof y.default.Graphics,this.isSrcP5Renderer=j instanceof y.default.Renderer,this.isImageData=typeof ImageData<"u"&&j instanceof ImageData,this.isFramebufferTexture=j instanceof y.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=D.width,this.height=D.height,this.init(D),this}var T,I;return T=k,(I=[{key:"_getTextureDataFromSource",value:function(){var M;return this.isFramebufferTexture?M=this.src.rawTexture():this.isSrcP5Image?M=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?M=this.src.elt:this.isImageData&&(M=this.src),M}},{key:"init",value:function(M){var j,P=this._renderer.GL;this.isFramebufferTexture||(this.glTex=P.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,this.glMagFilter),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(j=new Uint8Array([1,1,1,1]),P.texImage2D(this.glTarget,0,P.RGBA,1,1,0,this.glFormat,this.glDataType,j)):P.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,M))}},{key:"update",value:function(){var M,j,P,O=this.src;return O.width!==0&&O.height!==0&&!this.isFramebufferTexture&&(M=this._getTextureDataFromSource(),j=!1,P=this._renderer.GL,M.width!==this.width||M.height!==this.height?(j=!0,this.width=M.width||O.width,this.height=M.height||O.height,this.isSrcP5Image?O.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&O.setModified(!0)):this.isSrcP5Image?O.isModified()&&O.setModified(!(j=!0)):this.isSrcMediaElement?O.isModified()?O.setModified(!(j=!0)):O.loadedmetadata&&this._videoPrevUpdateTime!==O.time()&&(this._videoPrevUpdateTime=O.time(),j=!0):this.isImageData?O._dirty&&(j=!(O._dirty=!1)):j=!0,j&&(this.bindTexture(),P.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,M)),j)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(M,j){var P=this._renderer.GL;M===S.NEAREST?this.glMinFilter=P.NEAREST:this.glMinFilter=P.LINEAR,j===S.NEAREST?this.glMagFilter=P.NEAREST:this.glMagFilter=P.LINEAR,this.bindTexture(),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.glMinFilter),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(M,j){function P(L){return(L&L-1)==0}var O=this._renderer.GL,D=this._getTextureDataFromSource(),D=D.naturalWidth&&D.naturalHeight?(N=D.naturalWidth,D.naturalHeight):(N=this.width,this.height),N=P(N),D=P(D);M===S.REPEAT?this._renderer.webglVersion===S.WEBGL2||N&&D?this.glWrapS=O.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=O.CLAMP_TO_EDGE):M===S.MIRROR?this._renderer.webglVersion===S.WEBGL2||N&&D?this.glWrapS=O.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=O.CLAMP_TO_EDGE):this.glWrapS=O.CLAMP_TO_EDGE,j===S.REPEAT?this._renderer.webglVersion===S.WEBGL2||N&&D?this.glWrapT=O.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=O.CLAMP_TO_EDGE):j===S.MIRROR?this._renderer.webglVersion===S.WEBGL2||N&&D?this.glWrapT=O.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=O.CLAMP_TO_EDGE):this.glWrapT=O.CLAMP_TO_EDGE,this.bindTexture(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,this.glWrapS),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&C(T.prototype,I),k}();var E=y.default.Texture;_.default=E},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],335:[function(c,m,_){function g(P){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(P)}function b(P){return(b=typeof Symbol=="function"&&g(Symbol.iterator)==="symbol"?function(O){return g(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":g(O)})(P)}c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.get-own-property-descriptor"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.sub"),c("core-js/modules/es.weak-map"),c("core-js/modules/web.dom-collections.iterator"),c("core-js/modules/es.symbol"),c("core-js/modules/es.symbol.description"),c("core-js/modules/es.symbol.iterator"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.regexp.exec"),c("core-js/modules/es.string.iterator"),c("core-js/modules/es.string.split"),c("core-js/modules/es.string.sub"),c("core-js/modules/web.dom-collections.iterator");var y,S=(y=c("../core/main"))&&y.__esModule?y:{default:y},A=function(P){if(P&&P.__esModule)return P;if(P===null||b(P)!=="object"&&typeof P!="function")return{default:P};var O=C();if(O&&O.has(P))return O.get(P);var N,D={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(N in P){var R;Object.prototype.hasOwnProperty.call(P,N)&&((R=L?Object.getOwnPropertyDescriptor(P,N):null)&&(R.get||R.set)?Object.defineProperty(D,N,R):D[N]=P[N])}return D.default=P,O&&O.set(P,D),D}(c("../core/constants"));function C(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,C=function(){return P},P)}function x(P,O){if(!(P instanceof O))throw new TypeError("Cannot call a class as a function")}function E(P,O){for(var N=0;N<O.length;N++){var D=O[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(P,D.key,D)}}function k(P,O,N){O&&E(P.prototype,O),N&&E(P,N)}c("./p5.Shader"),c("./p5.RendererGL.Retained"),S.default.RendererGL.prototype._applyTextProperties=function(){},S.default.RendererGL.prototype.textWidth=function(P){return this._isOpenType()?this._textFont._textWidth(P,this._textSize):0};var T=function(){function P(O,N){x(this,P),this.width=O,this.height=N,this.infos=[]}return k(P,[{key:"findImage",value:function(O){var N,D,L=this.width*this.height;if(L<O)throw new Error("font is too complex to render in 3D");for(var R=this.infos.length-1;0<=R;--R){var G=this.infos[R];if(G.index+O<L){D=(N=G).imageData;break}}if(!N){try{D=new ImageData(this.width,this.height)}catch{var Z=document.getElementsByTagName("canvas")[0],B=!Z,J=(Z||((Z=document.createElement("canvas")).style.display="none",document.body.appendChild(Z)),Z.getContext("2d"));J&&(D=J.createImageData(this.width,this.height)),B&&document.body.removeChild(Z)}this.infos.push(N={index:0,imageData:D})}return J=N.index,N.index+=O,D._dirty=!0,{imageData:D,index:J}}}]),P}();function I(G,O,N,D,L){var R=G.imageData.data,G=4*G.index++;R[G++]=O,R[G++]=N,R[G++]=D,R[+G]=L}var M=Math.sqrt(3),j=function(){function P(O){x(this,P),this.font=O,this.strokeImageInfos=new T(64,64),this.colDimImageInfos=new T(64,64),this.rowDimImageInfos=new T(64,64),this.colCellImageInfos=new T(64,64),this.rowCellImageInfos=new T(64,64),this.glyphInfos={}}return k(P,[{key:"getGlyphInfo",value:function(O){var N=this.glyphInfos[O.index];if(!N){var D=O.getBoundingBox(),L=D.x1,R=D.y1,G=D.x2-L,Z=D.y2-R,B=O.path.commands;if(G==0||Z==0||!B.length)return this.glyphInfos[O.index]={};for(var J=[],K=[],ee=[],V=8;0<=V;--V)ee.push([]);for(V=8;0<=V;--V)K.push([]);var z,X,U,$,ae=function(){function Be($e,Ke,Qe,Re){x(this,Be),this.p0=$e,this.c0=Ke,this.c1=Qe,this.p1=Re}return k(Be,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return S.default.Vector.sub(S.default.Vector.sub(this.p1,this.p0),S.default.Vector.mult(S.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(He){var Ke=S.default.Vector.lerp(this.p0,this.c0,He),Re=S.default.Vector.lerp(this.c0,this.c1,He),Qe=S.default.Vector.lerp(Ke,Re,He),Re=(this.c1=S.default.Vector.lerp(this.c1,this.p1,He),this.c0=S.default.Vector.lerp(Re,this.c1,He),S.default.Vector.lerp(Qe,this.c0,He)),He=new Be(this.p0,Ke,Qe,Re);return this.p0=Re,He}},{key:"splitInflections",value:function(){var $e=S.default.Vector.sub(this.c0,this.p0),Ke=S.default.Vector.sub(S.default.Vector.sub(this.c1,this.c0),$e),Qe=S.default.Vector.sub(S.default.Vector.sub(S.default.Vector.sub(this.p1,this.c1),$e),S.default.Vector.mult(Ke,2)),Re=[],He=Ke.x*Qe.y-Ke.y*Qe.x;return He!==0&&0<=($e=(Qe=$e.x*Qe.y-$e.y*Qe.x)*Qe-4*He*($e.x*Ke.y-$e.y*Ke.x))&&(He<0&&(He=-He,Qe=-Qe),$e=(-Qe+(Ke=Math.sqrt($e)))/(2*He),0<(Qe=(-Qe-Ke)/(2*He))&&Qe<1&&(Re.push(this.split(Qe)),$e=1-(1-$e)/(1-Qe)),0<$e&&$e<1&&Re.push(this.split($e))),Re.push(this),Re}}]),Be}(),H=!0,ie=!1,Y=void 0;try{for(var q,ne=B[Symbol.iterator]();!(H=(q=ne.next()).done);H=!0){var oe=q.value,he=(oe.x-L)/G,de=(oe.y-R)/Z;if(!Se(z,X,he,de)){switch(oe.type){case"M":U=he,$=de;break;case"L":ve(z,X,he,de);break;case"Q":var xe=(oe.x1-L)/G,Ce=(oe.y1-R)/Z;ce([z,he,xe],[X,de,Ce],{x:z,y:X,cx:xe,cy:Ce});break;case"Z":Se(z,X,U,$)?J.push({x:z,y:X}):(ve(z,X,U,$),J.push({x:U,y:$}));break;case"C":for(var ge=function(ke,Ue,Xe,Qe,Re,He,Ge,be){var ke=new ae(new S.default.Vector(ke,Ue),new S.default.Vector(Xe,Qe),new S.default.Vector(Re,He),new S.default.Vector(Ge,be)).splitInflections(),ye=[],Te=30/M,Le=!0,Ue=!1,Xe=void 0;try{for(var rt,st=ke[Symbol.iterator]();!(Le=(rt=st.next()).done);Le=!0){for(var it=rt.value,ot=[],vt=void 0;!(.125<=(vt=Te/it.quadError()));){var yt=Math.pow(vt,.3333333333333333),ut=it.split(yt),gt=it.split(1-yt/(1-yt));ye.push(ut),ot.push(it),it=gt}vt<1&&ye.push(it.split(.5)),ye.push(it),Array.prototype.push.apply(ye,ot.reverse())}}catch(mt){Ue=!0,Xe=mt}finally{try{Le||st.return==null||st.return()}finally{if(Ue)throw Xe}}return ye}(z,X,(oe.x1-L)/G,(oe.y1-R)/Z,(oe.x2-L)/G,(oe.y2-R)/Z,he,de),Ae=0;Ae<ge.length;Ae++){var we=ge[Ae].toQuadratic();ce([we.x,we.x1,we.cx],[we.y,we.y1,we.cy],we)}break;default:throw new Error("unknown command type: ".concat(oe.type))}z=he,X=de}}}catch(Be){ie=!0,Y=Be}finally{try{H||ne.return==null||ne.return()}finally{if(ie)throw Y}}for(var me=J.length,_e=this.strokeImageInfos.findImage(me),Me=_e.index,De=0;De<me;++De){var se=J[De];I(_e,ue(se.x),ue(se.y),ue(se.cx),ue(se.cy))}(N=this.glyphInfos[O.index]={glyph:O,uGlyphRect:[D.x1,-D.y1,D.x2,-D.y2],strokeImageInfo:_e,strokes:J,colInfo:Ie(ee,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Ie(K,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[N.colInfo.dimOffset,N.rowInfo.dimOffset]}return N;function ce(Be,$e,Ke){var Qe=J.length;function Re(ye,Te,Le){for(var Ue=ye.length;0<Ue--;){var Xe=ye[Ue];Xe<Te&&(Te=Xe),Le<Xe&&(Le=Xe)}return{min:Te,max:Le}}J.push(Ke);for(var Ke=Re(Be,1,0),Be=Math.max(Math.floor(9*Ke.min-.5),0),He=Math.min(Math.ceil(9*Ke.max+.5),9),Ge=Be;Ge<He;++Ge)ee[Ge].push(Qe);for(var Ke=Re($e,1,0),Be=Math.max(Math.floor(9*Ke.min-.5),0),be=Math.min(Math.ceil(9*Ke.max+.5),9),ke=Be;ke<be;++ke)K[ke].push(Qe)}function ue(Be){return(Be=(Ke=255)*Be)<($e=0)?$e:Ke<Be?Ke:Be;var $e,Ke}function ve(Be,$e,Ke,Qe){ce([Be,Ke],[$e,Qe],{x:Be,y:$e,cx:(Be+Ke)/2,cy:($e+Qe)/2})}function Se(Be,$e,Ke,Qe){return Math.abs(Ke-Be)<1e-5&&Math.abs(Qe-$e)<1e-5}function Ie(Be,$e,Ke){for(var Qe=Be.length,Re=$e.findImage(Qe),$e=Re.index,He=0,Ge=0;Ge<Qe;++Ge)He+=Be[Ge].length;for(var be=Ke.findImage(He),ke=0;ke<Qe;++ke){var ye=Be[ke],Te=ye.length,Le=be.index;I(Re,Le>>7,127&Le,Te>>7,127&Te);for(var Ue=0;Ue<Te;++Ue){var Xe=ye[Ue]+Me;I(be,Xe>>7,127&Xe,0,0)}}return{cellImageInfo:be,dimOffset:$e,dimImageInfo:Re}}}}]),P}();S.default.RendererGL.prototype._renderText=function(P,O,N,D,L){if(this._textFont&&typeof this._textFont!="string"){if(!(L<=D)&&this._doFill){if(this._isOpenType()){P.push();var L=this._doStroke,R=this.drawMode,G=(this._doStroke=!1,this.drawMode=A.TEXTURE,this._textFont.font),Z=(Z=this._textFont._fontInfo)||(this._textFont._fontInfo=new j(G)),N=this._textFont._handleAlignment(this,O,N,D),D=this._textSize/G.unitsPerEm,B=(this.translate(N.x,N.y,0),this.scale(D,D,1),this.GL),N=!this._defaultFontShader,J=this._getFontShader(),K=(J.init(),J.bindShader(),N&&(J.setUniform("uGridImageSize",[64,64]),J.setUniform("uCellsImageSize",[64,64]),J.setUniform("uStrokeImageSize",[64,64]),J.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),ee=(K||((D=this._textGeom=new S.default.Geometry(1,1,function(){for(var Ae=0;Ae<=1;Ae++)for(var we=0;we<=1;we++)this.vertices.push(new S.default.Vector(we,Ae,0)),this.uvs.push(we,Ae)})).computeFaces().computeNormals(),K=this.createBuffers("glyph",D)),!0),N=!1,D=void 0;try{for(var V,z=this.retainedMode.buffers.text[Symbol.iterator]();!(ee=(V=z.next()).done);ee=!0)V.value._prepareBuffer(K,J)}catch(Ae){N=!0,D=Ae}finally{try{ee||z.return==null||z.return()}finally{if(N)throw D}}this._bindBuffer(K.indexBuffer,B.ELEMENT_ARRAY_BUFFER),J.setUniform("uMaterialColor",this.curFillColor),B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var X=0,U=null,$=G.stringToGlyphs(O),ae=!0,H=!1,ie=void 0;try{for(var Y,q=$[Symbol.iterator]();!(ae=(Y=q.next()).done);ae=!0){var ne,oe,he=Y.value,de=(U&&(X+=G.getKerningValue(U,he)),Z.getGlyphInfo(he));de.uGlyphRect&&(ne=de.rowInfo,oe=de.colInfo,J.setUniform("uSamplerStrokes",de.strokeImageInfo.imageData),J.setUniform("uSamplerRowStrokes",ne.cellImageInfo.imageData),J.setUniform("uSamplerRows",ne.dimImageInfo.imageData),J.setUniform("uSamplerColStrokes",oe.cellImageInfo.imageData),J.setUniform("uSamplerCols",oe.dimImageInfo.imageData),J.setUniform("uGridOffset",de.uGridOffset),J.setUniform("uGlyphRect",de.uGlyphRect),J.setUniform("uGlyphOffset",X),J.bindTextures(),B.drawElements(B.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),X+=he.advanceWidth,U=he}}catch(Ae){H=!0,ie=Ae}finally{try{ae||q.return==null||q.return()}finally{if(H)throw ie}}}finally{J.unbindShader(),this._doStroke=L,this.drawMode=R,B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),P.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return P}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":264,"../core/main":275,"./p5.RendererGL.Retained":331,"./p5.Shader":333,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}]},{},[259])(259)})})(p5_min$2);var p5_minExports=p5_min$2.exports;const p5_min=getDefaultExportFromCjs(p5_minExports),p5_min$1=_mergeNamespaces({__proto__:null,default:p5_min},[p5_minExports]),Qubit_svelte_svelte_type_style_lang="";function create_fragment$7(f){let l,u,c;return u=new P5({props:{sketch:f[1]}}),u.$on("instance",f[0]),{c(){l=element("div"),create_component(u.$$.fragment),this.h()},l(m){l=claim_element(m,"DIV",{class:!0});var _=children(l);claim_component(u.$$.fragment,_),_.forEach(detach),this.h()},h(){attr(l,"class","qubit svelte-lys24a")},m(m,_){insert_hydration(m,l,_),mount_component(u,l,null),c=!0},p:noop$3,i(m){c||(transition_in(u.$$.fragment,m),c=!0)},o(m){transition_out(u.$$.fragment,m),c=!1},d(m){m&&detach(l),destroy_component(u)}}}function instance$7(f,l,u){let c;component_subscribe(f,axes,S=>u(5,c=S));let m,_,g=500;axes.subscribe(()=>m&&m.draw()),fullscreen.subscribe(S=>{m&&(g=S?window.innerHeight*.75:500,_=g/3,m.resizeCanvas(g,g),m.redraw())});const b=S=>{m=S.detail};return onMount(()=>{_=g/3}),[b,S=>{S.setup=()=>{S.createCanvas(g,g,S.WEBGL),S.smooth(),S.noLoop()},S.draw=()=>{const A=c[1].value,C=c[2].value,x=c[0].value;S.smooth(),S.background("#404040");const E=p5_minExports.Vector.fromAngles(S.radians(C*180),S.radians(A*180),_);S.push(),S.rotateY(S.radians(90)),S.ambientMaterial(194);let k=S.color("rgb(209, 206, 199)");k.setAlpha(50),S.stroke(k),S.strokeWeight(.25),S.noFill();const T=S.cos(S.radians(-A*180)),I=S.sin(S.radians(-A*180));S.applyMatrix(T,0,I,0,0,1,0,0,-I,0,T,0,0,0,0,1);const M=S.cos(S.radians(-C*180)),j=S.sin(S.radians(-C*180));S.applyMatrix(M,j,-j,M,0,0);const P=S.cos(S.radians(x*180)),O=S.sin(S.radians(x*180));S.applyMatrix(P,0,O,0,0,1,0,0,-O,0,P,0,0,0,0,1),S.sphere(_-2,20,20),S.pop(),S.push(),S.stroke("white"),S.translate(E.x,E.y,E.z),S.sphere(4),S.pop(),S.push(),S.noFill(),S.stroke("#FF695A"),S.strokeWeight(4),S.rotateY(S.radians(90)),S.rotateY(S.radians(A*180)),S.circle(0,0,_*2),S.pop(),S.push(),S.noFill(),S.stroke("#E5007F"),S.strokeWeight(4),S.rotateX(S.radians(90)),S.translate(0,0,-E.y),S.circle(0,0,S.sin(S.radians(C*180))*_*2),S.pop()}}]}class Qubit extends SvelteComponent{constructor(l){super(),init(this,l,instance$7,create_fragment$7,safe_not_equal,{})}}const Meter_svelte_svelte_type_style_lang="";function get_each_context$4(f,l,u){const c=f.slice();return c[7]=l[u],c}function get_each_context_1$1(f,l,u){const c=f.slice();return c[7]=l[u],c}function create_each_block_1$1(f){let l,u,c,m,_;return{c(){l=element("div"),u=element("span"),c=space(),m=element("span"),_=space(),this.h()},l(g){l=claim_element(g,"DIV",{class:!0});var b=children(l);u=claim_element(b,"SPAN",{class:!0}),children(u).forEach(detach),c=claim_space(b),m=claim_element(b,"SPAN",{class:!0}),children(m).forEach(detach),_=claim_space(b),b.forEach(detach),this.h()},h(){attr(u,"class","svelte-1bk318k"),toggle_class(u,"active",f[0]>=f[7]),attr(m,"class","svelte-1bk318k"),toggle_class(m,"active",f[1]>=f[7]),attr(l,"class","meter__bar svelte-1bk318k")},m(g,b){insert_hydration(g,l,b),append_hydration(l,u),append_hydration(l,c),append_hydration(l,m),append_hydration(l,_)},p(g,b){b&5&&toggle_class(u,"active",g[0]>=g[7]),b&6&&toggle_class(m,"active",g[1]>=g[7])},d(g){g&&detach(l)}}}function create_if_block$1(f){let l,u=f[7]+"",c;return{c(){l=element("span"),c=text(u),this.h()},l(m){l=claim_element(m,"SPAN",{class:!0});var _=children(l);c=claim_text(_,u),_.forEach(detach),this.h()},h(){attr(l,"class","svelte-1bk318k")},m(m,_){insert_hydration(m,l,_),append_hydration(l,c)},p:noop$3,d(m){m&&detach(l)}}}function create_each_block$4(f){let l,u=!(f[7]%10)&&create_if_block$1(f);return{c(){u&&u.c(),l=empty$1()},l(c){u&&u.l(c),l=empty$1()},m(c,m){u&&u.m(c,m),insert_hydration(c,l,m)},p(c,m){c[7]%10||u.p(c,m)},d(c){u&&u.d(c),c&&detach(l)}}}function create_fragment$6(f){let l,u,c,m,_=f[2],g=[];for(let S=0;S<_.length;S+=1)g[S]=create_each_block_1$1(get_each_context_1$1(f,_,S));let b=f[2],y=[];for(let S=0;S<b.length;S+=1)y[S]=create_each_block$4(get_each_context$4(f,b,S));return{c(){l=element("div"),u=element("div");for(let S=0;S<g.length;S+=1)g[S].c();c=space(),m=element("div");for(let S=0;S<y.length;S+=1)y[S].c();this.h()},l(S){l=claim_element(S,"DIV",{class:!0});var A=children(l);u=claim_element(A,"DIV",{class:!0});var C=children(u);for(let E=0;E<g.length;E+=1)g[E].l(C);C.forEach(detach),c=claim_space(A),m=claim_element(A,"DIV",{class:!0});var x=children(m);for(let E=0;E<y.length;E+=1)y[E].l(x);x.forEach(detach),A.forEach(detach),this.h()},h(){attr(u,"class","meter__bars svelte-1bk318k"),attr(m,"class","meter__labels svelte-1bk318k"),attr(l,"class","meter")},m(S,A){insert_hydration(S,l,A),append_hydration(l,u);for(let C=0;C<g.length;C+=1)g[C]&&g[C].m(u,null);append_hydration(l,c),append_hydration(l,m);for(let C=0;C<y.length;C+=1)y[C]&&y[C].m(m,null)},p(S,[A]){if(A&7){_=S[2];let C;for(C=0;C<_.length;C+=1){const x=get_each_context_1$1(S,_,C);g[C]?g[C].p(x,A):(g[C]=create_each_block_1$1(x),g[C].c(),g[C].m(u,null))}for(;C<g.length;C+=1)g[C].d(1);g.length=_.length}if(A&4){b=S[2];let C;for(C=0;C<b.length;C+=1){const x=get_each_context$4(S,b,C);y[C]?y[C].p(x,A):(y[C]=create_each_block$4(x),y[C].c(),y[C].m(m,null))}for(;C<y.length;C+=1)y[C].d(1);y.length=b.length}},i:noop$3,o:noop$3,d(S){S&&detach(l),destroy_each(g,S),destroy_each(y,S)}}}function instance$6(f,l,u){let{node:c}=l;const _=((A,C)=>Array(C-A+1).fill(void 0).map((x,E)=>A+E))(-50,0);let g=-50,b=-50,y=0;const S=new Meter({channels:2,smoothing:.8});return c&&c.connect(S),onMount(()=>{y=setInterval(()=>{u(0,g=S.getValue()[0]),u(1,b=S.getValue()[1])},100)}),onDestroy(()=>{clearInterval(y)}),f.$$set=A=>{"node"in A&&u(3,c=A.node)},[g,b,_,c]}class Meter_1 extends SvelteComponent{constructor(l){super(),init(this,l,instance$6,create_fragment$6,safe_not_equal,{node:3})}}const Datastream_svelte_svelte_type_style_lang="";function get_each_context$3(f,l,u){const c=f.slice();return c[3]=l[u],c}function get_each_context_1(f,l,u){const c=f.slice();return c[6]=l[u],c}function get_each_context_2(f,l,u){const c=f.slice();return c[9]=l[u],c}function create_each_block_2(f){let l,u=f[9]+"",c;return{c(){l=element("span"),c=text(u)},l(m){l=claim_element(m,"SPAN",{});var _=children(l);c=claim_text(_,u),_.forEach(detach)},m(m,_){insert_hydration(m,l,_),append_hydration(l,c)},p(m,_){_&2&&u!==(u=m[9]+"")&&set_data(c,u)},d(m){m&&detach(l)}}}function create_each_block_1(f){let l,u=f[6]+"",c;return{c(){l=element("span"),c=text(u),this.h()},l(m){l=claim_element(m,"SPAN",{class:!0});var _=children(l);c=claim_text(_,u),_.forEach(detach),this.h()},h(){attr(l,"class","svelte-1cj9hq5")},m(m,_){insert_hydration(m,l,_),append_hydration(l,c)},p(m,_){_&1&&u!==(u=m[6]+"")&&set_data(c,u)},d(m){m&&detach(l)}}}function create_each_block$3(f){let l,u,c=f[3],m=[];for(let _=0;_<c.length;_+=1)m[_]=create_each_block_1(get_each_context_1(f,c,_));return{c(){l=element("div");for(let _=0;_<m.length;_+=1)m[_].c();u=space(),this.h()},l(_){l=claim_element(_,"DIV",{class:!0});var g=children(l);for(let b=0;b<m.length;b+=1)m[b].l(g);u=claim_space(g),g.forEach(detach),this.h()},h(){attr(l,"class","datastream__data svelte-1cj9hq5")},m(_,g){insert_hydration(_,l,g);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(l,null);append_hydration(l,u)},p(_,g){if(g&1){c=_[3];let b;for(b=0;b<c.length;b+=1){const y=get_each_context_1(_,c,b);m[b]?m[b].p(y,g):(m[b]=create_each_block_1(y),m[b].c(),m[b].m(l,u))}for(;b<m.length;b+=1)m[b].d(1);m.length=c.length}},d(_){_&&detach(l),destroy_each(m,_)}}}function create_fragment$5(f){let l,u,c,m=f[1],_=[];for(let y=0;y<m.length;y+=1)_[y]=create_each_block_2(get_each_context_2(f,m,y));let g=f[0],b=[];for(let y=0;y<g.length;y+=1)b[y]=create_each_block$3(get_each_context$3(f,g,y));return{c(){l=element("div"),u=element("div");for(let y=0;y<_.length;y+=1)_[y].c();c=space();for(let y=0;y<b.length;y+=1)b[y].c();this.h()},l(y){l=claim_element(y,"DIV",{class:!0});var S=children(l);u=claim_element(S,"DIV",{class:!0});var A=children(u);for(let C=0;C<_.length;C+=1)_[C].l(A);A.forEach(detach),c=claim_space(S);for(let C=0;C<b.length;C+=1)b[C].l(S);S.forEach(detach),this.h()},h(){attr(u,"class","datastream__labels svelte-1cj9hq5"),attr(l,"class","datastream svelte-1cj9hq5")},m(y,S){insert_hydration(y,l,S),append_hydration(l,u);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(u,null);append_hydration(l,c);for(let A=0;A<b.length;A+=1)b[A]&&b[A].m(l,null)},p(y,[S]){if(S&2){m=y[1];let A;for(A=0;A<m.length;A+=1){const C=get_each_context_2(y,m,A);_[A]?_[A].p(C,S):(_[A]=create_each_block_2(C),_[A].c(),_[A].m(u,null))}for(;A<_.length;A+=1)_[A].d(1);_.length=m.length}if(S&1){g=y[0];let A;for(A=0;A<g.length;A+=1){const C=get_each_context$3(y,g,A);b[A]?b[A].p(C,S):(b[A]=create_each_block$3(C),b[A].c(),b[A].m(l,null))}for(;A<b.length;A+=1)b[A].d(1);b.length=g.length}},i:noop$3,o:noop$3,d(y){y&&detach(l),destroy_each(_,y),destroy_each(b,y)}}}function instance$5(f,l,u){let{data:c}=l,{labels:m}=l,{stream:_=[]}=l;return f.$$set=g=>{"data"in g&&u(2,c=g.data),"labels"in g&&u(1,m=g.labels),"stream"in g&&u(0,_=g.stream)},f.$$.update=()=>{f.$$.dirty&5&&u(0,_=[..._.slice(-13),c])},[_,m,c]}class Datastream extends SvelteComponent{constructor(l){super(),init(this,l,instance$5,create_fragment$5,safe_not_equal,{data:2,labels:1,stream:0})}}const index_svelte_svelte_type_style_lang="";function get_each_context$2(f,l,u){const c=f.slice();return c[4]=l[u],c}function create_each_block$2(f){let l,u;function c(){return f[3](f[4])}return l=new Button({props:{onClick:c,active:f[1]===f[4],disabled:f[1]!==f[4],colour:"yellow",text:f[4],icon:f[2][f[4]],classes:f[0]==="horizontal"?"mr-2":"mb-2"}}),{c(){create_component(l.$$.fragment)},l(m){claim_component(l.$$.fragment,m)},m(m,_){mount_component(l,m,_),u=!0},p(m,_){f=m;const g={};_&2&&(g.active=f[1]===f[4]),_&2&&(g.disabled=f[1]!==f[4]),_&1&&(g.classes=f[0]==="horizontal"?"mr-2":"mb-2"),l.$set(g)},i(m){u||(transition_in(l.$$.fragment,m),u=!0)},o(m){transition_out(l.$$.fragment,m),u=!1},d(m){destroy_component(l,m)}}}function create_fragment$4(f){let l,u,c,m=instruments$1,_=[];for(let b=0;b<m.length;b+=1)_[b]=create_each_block$2(get_each_context$2(f,m,b));const g=b=>transition_out(_[b],1,1,()=>{_[b]=null});return{c(){l=element("div");for(let b=0;b<_.length;b+=1)_[b].c();this.h()},l(b){l=claim_element(b,"DIV",{class:!0});var y=children(l);for(let S=0;S<_.length;S+=1)_[S].l(y);y.forEach(detach),this.h()},h(){attr(l,"class",u=null_to_empty(`instrument-buttons instrument-buttons--${f[0]}`)+" svelte-1r8c0w4")},m(b,y){insert_hydration(b,l,y);for(let S=0;S<_.length;S+=1)_[S]&&_[S].m(l,null);c=!0},p(b,[y]){if(y&7){m=instruments$1;let S;for(S=0;S<m.length;S+=1){const A=get_each_context$2(b,m,S);_[S]?(_[S].p(A,y),transition_in(_[S],1)):(_[S]=create_each_block$2(A),_[S].c(),transition_in(_[S],1),_[S].m(l,null))}for(group_outros(),S=m.length;S<_.length;S+=1)g(S);check_outros()}(!c||y&1&&u!==(u=null_to_empty(`instrument-buttons instrument-buttons--${b[0]}`)+" svelte-1r8c0w4"))&&attr(l,"class",u)},i(b){if(!c){for(let y=0;y<m.length;y+=1)transition_in(_[y]);c=!0}},o(b){_=_.filter(Boolean);for(let y=0;y<_.length;y+=1)transition_out(_[y]);c=!1},d(b){b&&detach(l),destroy_each(_,b)}}}function instance$4(f,l,u){let c;component_subscribe(f,instrument,b=>u(1,c=b)),library$1.add(faSmileWink,faNetworkWired,faCompactDisc,faBraille);const m={synth:faNetworkWired,sampler:faCompactDisc,granular:faBraille};let{orientation:_="horizontal"}=l;const g=b=>instrument.set(b);return f.$$set=b=>{"orientation"in b&&u(0,_=b.orientation)},[_,c,m,g]}class InstrumentButtons extends SvelteComponent{constructor(l){super(),init(this,l,instance$4,create_fragment$4,safe_not_equal,{orientation:0})}}const Fullscreen_svelte_svelte_type_style_lang="";function create_fragment$3(f){let l,u,c,m,_;return u=new FontAwesomeIcon({props:{icon:f[0]?faCompress:faExpand}}),{c(){l=element("button"),create_component(u.$$.fragment),this.h()},l(g){l=claim_element(g,"BUTTON",{class:!0});var b=children(l);claim_component(u.$$.fragment,b),b.forEach(detach),this.h()},h(){attr(l,"class","svelte-a1i5qj")},m(g,b){insert_hydration(g,l,b),mount_component(u,l,null),c=!0,m||(_=[listen(window,"keydown",f[1]),listen(l,"click",f[2])],m=!0)},p(g,[b]){const y={};b&1&&(y.icon=g[0]?faCompress:faExpand),u.$set(y)},i(g){c||(transition_in(u.$$.fragment,g),c=!0)},o(g){transition_out(u.$$.fragment,g),c=!1},d(g){g&&detach(l),destroy_component(u),m=!1,run_all(_)}}}function instance$3(f,l,u){let c;return component_subscribe(f,fullscreen,g=>u(0,c=g)),library$1.add(faExpand,faCompress),[c,g=>{g.key==="f"&&fullscreen.set(!c),g.key==="Escape"&&fullscreen.set(!1)},()=>fullscreen.set(!c)]}class Fullscreen extends SvelteComponent{constructor(l){super(),init(this,l,instance$3,create_fragment$3,safe_not_equal,{})}}function create_if_block_2(f){let l,u,c;function m(g){f[8](g)}let _={color:"pink",class:"mb-2",$$slots:{icon:[create_icon_slot_2],default:[create_default_slot_2]},$$scope:{ctx:f}};return f[2]!==void 0&&(_.open=f[2]),l=new Toast({props:_}),binding_callbacks.push(()=>bind(l,"open",m)),l.$on("close",f[9]),{c(){create_component(l.$$.fragment)},l(g){claim_component(l.$$.fragment,g)},m(g,b){mount_component(l,g,b),c=!0},p(g,b){const y={};b&4097&&(y.$$scope={dirty:b,ctx:g}),!u&&b&4&&(u=!0,y.open=g[2],add_flush_callback(()=>u=!1)),l.$set(y)},i(g){c||(transition_in(l.$$.fragment,g),c=!0)},o(g){transition_out(l.$$.fragment,g),c=!1},d(g){destroy_component(l,g)}}}function create_if_block_1(f){let l,u,c;function m(g){f[6](g)}let _={color:"red",class:"mb-2",$$slots:{icon:[create_icon_slot_1],default:[create_default_slot_1]},$$scope:{ctx:f}};return f[2]!==void 0&&(_.open=f[2]),l=new Toast({props:_}),binding_callbacks.push(()=>bind(l,"open",m)),l.$on("close",f[7]),{c(){create_component(l.$$.fragment)},l(g){claim_component(l.$$.fragment,g)},m(g,b){mount_component(l,g,b),c=!0},p(g,b){const y={};b&4097&&(y.$$scope={dirty:b,ctx:g}),!u&&b&4&&(u=!0,y.open=g[2],add_flush_callback(()=>u=!1)),l.$set(y)},i(g){c||(transition_in(l.$$.fragment,g),c=!0)},o(g){transition_out(l.$$.fragment,g),c=!1},d(g){destroy_component(l,g)}}}function create_if_block(f){let l,u,c;function m(g){f[4](g)}let _={color:"green",class:"mb-2",$$slots:{icon:[create_icon_slot],default:[create_default_slot$1]},$$scope:{ctx:f}};return f[2]!==void 0&&(_.open=f[2]),l=new Toast({props:_}),binding_callbacks.push(()=>bind(l,"open",m)),l.$on("close",f[5]),{c(){create_component(l.$$.fragment)},l(g){claim_component(l.$$.fragment,g)},m(g,b){mount_component(l,g,b),c=!0},p(g,b){const y={};b&4097&&(y.$$scope={dirty:b,ctx:g}),!u&&b&4&&(u=!0,y.open=g[2],add_flush_callback(()=>u=!1)),l.$set(y)},i(g){c||(transition_in(l.$$.fragment,g),c=!0)},o(g){transition_out(l.$$.fragment,g),c=!1},d(g){destroy_component(l,g)}}}function create_default_slot_2(f){let l;return{c(){l=text(f[0])},l(u){l=claim_text(u,f[0])},m(u,c){insert_hydration(u,l,c)},p(u,c){c&1&&set_data(l,u[0])},d(u){u&&detach(l)}}}function create_icon_slot_2(f){let l,u,c,m,_;return{c(){l=svg_element("svg"),u=svg_element("path"),c=space(),m=element("span"),_=text("Warning icon"),this.h()},l(g){l=claim_svg_element(g,"svg",{"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var b=children(l);u=claim_svg_element(b,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(u).forEach(detach),b.forEach(detach),c=claim_space(g),m=claim_element(g,"SPAN",{class:!0});var y=children(m);_=claim_text(y,"Warning icon"),y.forEach(detach),this.h()},h(){attr(u,"fill-rule","evenodd"),attr(u,"d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"),attr(u,"clip-rule","evenodd"),attr(l,"aria-hidden","true"),attr(l,"class","w-5 h-5"),attr(l,"fill","currentColor"),attr(l,"viewBox","0 0 20 20"),attr(l,"xmlns","http://www.w3.org/2000/svg"),attr(m,"class","sr-only")},m(g,b){insert_hydration(g,l,b),append_hydration(l,u),insert_hydration(g,c,b),insert_hydration(g,m,b),append_hydration(m,_)},p:noop$3,d(g){g&&detach(l),g&&detach(c),g&&detach(m)}}}function create_default_slot_1(f){let l;return{c(){l=text(f[0])},l(u){l=claim_text(u,f[0])},m(u,c){insert_hydration(u,l,c)},p(u,c){c&1&&set_data(l,u[0])},d(u){u&&detach(l)}}}function create_icon_slot_1(f){let l,u,c,m,_;return{c(){l=svg_element("svg"),u=svg_element("path"),c=space(),m=element("span"),_=text("Error icon"),this.h()},l(g){l=claim_svg_element(g,"svg",{"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var b=children(l);u=claim_svg_element(b,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(u).forEach(detach),b.forEach(detach),c=claim_space(g),m=claim_element(g,"SPAN",{class:!0});var y=children(m);_=claim_text(y,"Error icon"),y.forEach(detach),this.h()},h(){attr(u,"fill-rule","evenodd"),attr(u,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),attr(u,"clip-rule","evenodd"),attr(l,"aria-hidden","true"),attr(l,"class","w-5 h-5"),attr(l,"fill","currentColor"),attr(l,"viewBox","0 0 20 20"),attr(l,"xmlns","http://www.w3.org/2000/svg"),attr(m,"class","sr-only")},m(g,b){insert_hydration(g,l,b),append_hydration(l,u),insert_hydration(g,c,b),insert_hydration(g,m,b),append_hydration(m,_)},p:noop$3,d(g){g&&detach(l),g&&detach(c),g&&detach(m)}}}function create_default_slot$1(f){let l;return{c(){l=text(f[0])},l(u){l=claim_text(u,f[0])},m(u,c){insert_hydration(u,l,c)},p(u,c){c&1&&set_data(l,u[0])},d(u){u&&detach(l)}}}function create_icon_slot(f){let l,u,c,m,_;return{c(){l=svg_element("svg"),u=svg_element("path"),c=space(),m=element("span"),_=text("Check icon"),this.h()},l(g){l=claim_svg_element(g,"svg",{"aria-hidden":!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var b=children(l);u=claim_svg_element(b,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(u).forEach(detach),b.forEach(detach),c=claim_space(g),m=claim_element(g,"SPAN",{class:!0});var y=children(m);_=claim_text(y,"Check icon"),y.forEach(detach),this.h()},h(){attr(u,"fill-rule","evenodd"),attr(u,"d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"),attr(u,"clip-rule","evenodd"),attr(l,"aria-hidden","true"),attr(l,"class","w-5 h-5"),attr(l,"fill","currentColor"),attr(l,"viewBox","0 0 20 20"),attr(l,"xmlns","http://www.w3.org/2000/svg"),attr(m,"class","sr-only")},m(g,b){insert_hydration(g,l,b),append_hydration(l,u),insert_hydration(g,c,b),insert_hydration(g,m,b),append_hydration(m,_)},p:noop$3,d(g){g&&detach(l),g&&detach(c),g&&detach(m)}}}function create_fragment$2(f){let l,u,c,m;const _=[create_if_block,create_if_block_1,create_if_block_2],g=[];function b(y,S){return y[1]==="success"?0:y[1]==="error"?1:y[1]==="warning"?2:-1}return~(l=b(f))&&(u=g[l]=_[l](f)),{c(){u&&u.c(),c=empty$1()},l(y){u&&u.l(y),c=empty$1()},m(y,S){~l&&g[l].m(y,S),insert_hydration(y,c,S),m=!0},p(y,[S]){let A=l;l=b(y),l===A?~l&&g[l].p(y,S):(u&&(group_outros(),transition_out(g[A],1,1,()=>{g[A]=null}),check_outros()),~l?(u=g[l],u?u.p(y,S):(u=g[l]=_[l](y),u.c()),transition_in(u,1),u.m(c.parentNode,c)):u=null)},i(y){m||(transition_in(u),m=!0)},o(y){transition_out(u),m=!1},d(y){~l&&g[l].d(y),y&&detach(c)}}}function instance$2(f,l,u){let{message:c}=l,{type:m}=l,{onClose:_=()=>{}}=l,g=!0,b=5;function y(){if(--b>0&&g)return setTimeout(y,1e3);u(2,g=!1),_()}onMount(()=>{y()});function S(T){g=T,u(2,g)}const A=()=>u(2,g=!1);function C(T){g=T,u(2,g)}const x=()=>u(2,g=!1);function E(T){g=T,u(2,g)}const k=()=>u(2,g=!1);return f.$$set=T=>{"message"in T&&u(0,c=T.message),"type"in T&&u(1,m=T.type),"onClose"in T&&u(3,_=T.onClose)},[c,m,g,_,S,A,C,x,E,k]}class Toast_1 extends SvelteComponent{constructor(l){super(),init(this,l,instance$2,create_fragment$2,safe_not_equal,{message:0,type:1,onClose:3})}}const Toasts_svelte_svelte_type_style_lang="";function get_each_context$1(f,l,u){const c=f.slice();return c[1]=l[u].message,c[2]=l[u].type,c}function create_each_block$1(f){let l,u;return l=new Toast_1({props:{message:f[1],type:f[2]}}),{c(){create_component(l.$$.fragment)},l(c){claim_component(l.$$.fragment,c)},m(c,m){mount_component(l,c,m),u=!0},p(c,m){const _={};m&1&&(_.message=c[1]),m&1&&(_.type=c[2]),l.$set(_)},i(c){u||(transition_in(l.$$.fragment,c),u=!0)},o(c){transition_out(l.$$.fragment,c),u=!1},d(c){destroy_component(l,c)}}}function create_fragment$1(f){let l,u,c=f[0],m=[];for(let g=0;g<c.length;g+=1)m[g]=create_each_block$1(get_each_context$1(f,c,g));const _=g=>transition_out(m[g],1,1,()=>{m[g]=null});return{c(){l=element("div");for(let g=0;g<m.length;g+=1)m[g].c();this.h()},l(g){l=claim_element(g,"DIV",{class:!0});var b=children(l);for(let y=0;y<m.length;y+=1)m[y].l(b);b.forEach(detach),this.h()},h(){attr(l,"class","toasts svelte-1eqygg0")},m(g,b){insert_hydration(g,l,b);for(let y=0;y<m.length;y+=1)m[y]&&m[y].m(l,null);u=!0},p(g,[b]){if(b&1){c=g[0];let y;for(y=0;y<c.length;y+=1){const S=get_each_context$1(g,c,y);m[y]?(m[y].p(S,b),transition_in(m[y],1)):(m[y]=create_each_block$1(S),m[y].c(),transition_in(m[y],1),m[y].m(l,null))}for(group_outros(),y=c.length;y<m.length;y+=1)_(y);check_outros()}},i(g){if(!u){for(let b=0;b<c.length;b+=1)transition_in(m[b]);u=!0}},o(g){m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)transition_out(m[b]);u=!1},d(g){g&&detach(l),destroy_each(m,g)}}}function instance$1(f,l,u){let c;return component_subscribe(f,toasts,m=>u(0,c=m)),[c]}class Toasts extends SvelteComponent{constructor(l){super(),init(this,l,instance$1,create_fragment$1,safe_not_equal,{})}}const _page_svelte_svelte_type_style_lang="",{window:window_1}=globals;function get_each_context(f,l,u){const c=f.slice();return c[13]=l[u].value,c[14]=l[u].name,c[15]=l[u].colour,c[16]=l,c[17]=u,c}function create_default_slot(f){let l,u,c,m,_,g,b,y,S,A,C,x;return b=new InstrumentButtons({props:{orientation:"vertical"}}),S=new Parameters({props:{showSockets:!1}}),{c(){l=element("div"),u=element("button"),c=svg_element("svg"),m=svg_element("path"),_=space(),g=element("div"),create_component(b.$$.fragment),y=space(),create_component(S.$$.fragment),this.h()},l(E){l=claim_element(E,"DIV",{class:!0});var k=children(l);u=claim_element(k,"BUTTON",{});var T=children(u);c=claim_svg_element(T,"svg",{class:!0,viewBox:!0,xmlns:!0});var I=children(c);m=claim_svg_element(I,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(m).forEach(detach),I.forEach(detach),T.forEach(detach),_=claim_space(k),g=claim_element(k,"DIV",{class:!0});var M=children(g);claim_component(b.$$.fragment,M),M.forEach(detach),y=claim_space(k),claim_component(S.$$.fragment,k),k.forEach(detach),this.h()},h(){attr(m,"fill-rule","evenodd"),attr(m,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),attr(m,"clip-rule","evenodd"),attr(c,"class","sidebar__close w-5 h-5 mb-4 svelte-oabx48"),attr(c,"viewBox","0 0 20 20"),attr(c,"xmlns","http://www.w3.org/2000/svg"),attr(g,"class","sidebar__instruments svelte-oabx48"),attr(l,"class","sidebar")},m(E,k){insert_hydration(E,l,k),append_hydration(l,u),append_hydration(u,c),append_hydration(c,m),append_hydration(l,_),append_hydration(l,g),mount_component(b,g,null),append_hydration(l,y),mount_component(S,l,null),A=!0,C||(x=listen(u,"click",f[8]),C=!0)},p:noop$3,i(E){A||(transition_in(b.$$.fragment,E),transition_in(S.$$.fragment,E),A=!0)},o(E){transition_out(b.$$.fragment,E),transition_out(S.$$.fragment,E),A=!1},d(E){E&&detach(l),destroy_component(b),destroy_component(S),C=!1,x()}}}function create_each_block(f,l){let u,c,m,_;function g(y){l[11](y,l[13],l[16],l[17])}let b={orientation:l[0]?"vertical":"horizontal",name:l[14],colour:l[15]};return l[13]!==void 0&&(b.value=l[13]),c=new Slider({props:b}),binding_callbacks.push(()=>bind(c,"value",g)),{key:f,first:null,c(){u=empty$1(),create_component(c.$$.fragment),this.h()},l(y){u=empty$1(),claim_component(c.$$.fragment,y),this.h()},h(){this.first=u},m(y,S){insert_hydration(y,u,S),mount_component(c,y,S),_=!0},p(y,S){l=y;const A={};S&1&&(A.orientation=l[0]?"vertical":"horizontal"),S&4&&(A.name=l[14]),S&4&&(A.colour=l[15]),!m&&S&4&&(m=!0,A.value=l[13],add_flush_callback(()=>m=!1)),c.$set(A)},i(y){_||(transition_in(c.$$.fragment,y),_=!0)},o(y){transition_out(c.$$.fragment,y),_=!1},d(y){y&&detach(u),destroy_component(c,y)}}}function create_fragment(f){let l,u,c,m,_,g,b,y,S,A,C,x,E,k,T,I,M,j,P,O,N,D,L,R,G,Z,B,J,K,ee,V,z,X,U=[],$=new Map,ae,H,ie,Y,q,ne,oe,he,de,xe,Ce,ge,Ae,we,me,_e,Me;function De(ve){f[9](ve)}let se={transitionType:"fly",transitionParams:f[6],id:"sidebar",$$slots:{default:[create_default_slot]},$$scope:{ctx:f}};f[1]!==void 0&&(se.hidden=f[1]),c=new Drawer({props:se}),binding_callbacks.push(()=>bind(c,"hidden",De)),g=new Toasts({}),A=new InstrumentButtons({}),E=new Button({props:{onClick:f[10],active:!f[1],colour:"yellow",text:"Parameters"}}),T=new Presets({}),P=new Parameters({}),R=new Fullscreen({}),B=new Patchbay({props:{title:"axes",ids:f[4].reverse(),labels:f[5].reverse()}}),ee=new Qubit({});let ce=f[2];const ue=ve=>ve[14];for(let ve=0;ve<ce.length;ve+=1){let Se=get_each_context(f,ce,ve),Ie=ue(Se);$.set(Ie,U[ve]=create_each_block(Ie,Se))}return ie=new Meter_1({props:{node:output}}),ne=new Datastream({props:{data:f[2].map(f[12]).reverse(),labels:f[2].map(func_2).reverse()}}),xe=new Controls$1({}),Ae=new Measure({}),{c(){l=element("meta"),u=space(),create_component(c.$$.fragment),_=space(),create_component(g.$$.fragment),b=space(),y=element("section"),S=element("div"),create_component(A.$$.fragment),C=space(),x=element("div"),create_component(E.$$.fragment),k=space(),create_component(T.$$.fragment),I=space(),M=element("section"),j=element("div"),create_component(P.$$.fragment),O=space(),N=element("div"),D=element("div"),L=element("div"),create_component(R.$$.fragment),G=space(),Z=element("div"),create_component(B.$$.fragment),J=space(),K=element("div"),create_component(ee.$$.fragment),V=space(),z=element("div"),X=element("div");for(let ve=0;ve<U.length;ve+=1)U[ve].c();ae=space(),H=element("div"),create_component(ie.$$.fragment),Y=space(),q=element("div"),create_component(ne.$$.fragment),he=space(),de=element("div"),create_component(xe.$$.fragment),Ce=space(),ge=element("div"),create_component(Ae.$$.fragment),this.h()},l(ve){const Se=head_selector("svelte-17uodp2",document.head);l=claim_element(Se,"META",{name:!0,content:!0}),Se.forEach(detach),u=claim_space(ve),claim_component(c.$$.fragment,ve),_=claim_space(ve),claim_component(g.$$.fragment,ve),b=claim_space(ve),y=claim_element(ve,"SECTION",{class:!0});var Ie=children(y);S=claim_element(Ie,"DIV",{class:!0});var Be=children(S);claim_component(A.$$.fragment,Be),Be.forEach(detach),C=claim_space(Ie),x=claim_element(Ie,"DIV",{class:!0});var $e=children(x);claim_component(E.$$.fragment,$e),$e.forEach(detach),k=claim_space(Ie),claim_component(T.$$.fragment,Ie),Ie.forEach(detach),I=claim_space(ve),M=claim_element(ve,"SECTION",{class:!0});var Ke=children(M);j=claim_element(Ke,"DIV",{class:!0});var Qe=children(j);claim_component(P.$$.fragment,Qe),Qe.forEach(detach),O=claim_space(Ke),N=claim_element(Ke,"DIV",{class:!0});var Re=children(N);D=claim_element(Re,"DIV",{class:!0});var He=children(D);L=claim_element(He,"DIV",{class:!0});var Ge=children(L);claim_component(R.$$.fragment,Ge),Ge.forEach(detach),G=claim_space(He),Z=claim_element(He,"DIV",{class:!0});var be=children(Z);claim_component(B.$$.fragment,be),be.forEach(detach),J=claim_space(He),K=claim_element(He,"DIV",{class:!0});var ke=children(K);claim_component(ee.$$.fragment,ke),ke.forEach(detach),V=claim_space(He),z=claim_element(He,"DIV",{class:!0});var ye=children(z);X=claim_element(ye,"DIV",{class:!0});var Te=children(X);for(let st=0;st<U.length;st+=1)U[st].l(Te);Te.forEach(detach),ye.forEach(detach),He.forEach(detach),ae=claim_space(Re),H=claim_element(Re,"DIV",{class:!0});var Le=children(H);claim_component(ie.$$.fragment,Le),Y=claim_space(Le),q=claim_element(Le,"DIV",{class:!0});var Ue=children(q);claim_component(ne.$$.fragment,Ue),Ue.forEach(detach),Le.forEach(detach),Re.forEach(detach),he=claim_space(Ke),de=claim_element(Ke,"DIV",{class:!0});var Xe=children(de);claim_component(xe.$$.fragment,Xe),Xe.forEach(detach),Ce=claim_space(Ke),ge=claim_element(Ke,"DIV",{class:!0});var rt=children(ge);claim_component(Ae.$$.fragment,rt),rt.forEach(detach),Ke.forEach(detach),this.h()},h(){document.title="Home",attr(l,"name","description"),attr(l,"content","TODO: please write a description"),attr(S,"class","buttons__instruments svelte-oabx48"),attr(x,"class","buttons__parameters svelte-oabx48"),attr(y,"class","buttons container mx-auto svelte-oabx48"),attr(j,"class","parameters svelte-oabx48"),attr(L,"class","qubit__fullscreen svelte-oabx48"),attr(Z,"class","qubit__patchbay svelte-oabx48"),attr(K,"class","qubit__sphere svelte-oabx48"),attr(X,"class","svelte-oabx48"),attr(z,"class","qubit__sliders svelte-oabx48"),attr(D,"class","qubit__inner svelte-oabx48"),attr(q,"class","data-stream svelte-oabx48"),attr(H,"class","metrics svelte-oabx48"),attr(N,"class",oe=null_to_empty(`qubit ${f[3]?"qubit--fullscreen":""}`)+" svelte-oabx48"),attr(de,"class","controls svelte-oabx48"),attr(ge,"class","measure svelte-oabx48"),attr(M,"class",we=null_to_empty(`container synth ${f[3]?"synth--fullscreen":""}`)+" svelte-oabx48")},m(ve,Se){append_hydration(document.head,l),insert_hydration(ve,u,Se),mount_component(c,ve,Se),insert_hydration(ve,_,Se),mount_component(g,ve,Se),insert_hydration(ve,b,Se),insert_hydration(ve,y,Se),append_hydration(y,S),mount_component(A,S,null),append_hydration(y,C),append_hydration(y,x),mount_component(E,x,null),append_hydration(y,k),mount_component(T,y,null),insert_hydration(ve,I,Se),insert_hydration(ve,M,Se),append_hydration(M,j),mount_component(P,j,null),append_hydration(M,O),append_hydration(M,N),append_hydration(N,D),append_hydration(D,L),mount_component(R,L,null),append_hydration(D,G),append_hydration(D,Z),mount_component(B,Z,null),append_hydration(D,J),append_hydration(D,K),mount_component(ee,K,null),append_hydration(D,V),append_hydration(D,z),append_hydration(z,X);for(let Ie=0;Ie<U.length;Ie+=1)U[Ie]&&U[Ie].m(X,null);append_hydration(N,ae),append_hydration(N,H),mount_component(ie,H,null),append_hydration(H,Y),append_hydration(H,q),mount_component(ne,q,null),append_hydration(M,he),append_hydration(M,de),mount_component(xe,de,null),append_hydration(M,Ce),append_hydration(M,ge),mount_component(Ae,ge,null),me=!0,_e||(Me=[listen(window_1,"click",startAudio),listen(window_1,"touchstart",startAudio),listen(window_1,"keydown",startAudio),listen(window_1,"resize",f[7])],_e=!0)},p(ve,[Se]){const Ie={};Se&262146&&(Ie.$$scope={dirty:Se,ctx:ve}),!m&&Se&2&&(m=!0,Ie.hidden=ve[1],add_flush_callback(()=>m=!1)),c.$set(Ie);const Be={};Se&2&&(Be.onClick=ve[10]),Se&2&&(Be.active=!ve[1]),E.$set(Be),Se&5&&(ce=ve[2],group_outros(),U=update_keyed_each(U,Se,ue,1,ve,ce,$,X,outro_and_destroy_block,create_each_block,null,get_each_context),check_outros());const $e={};Se&4&&($e.data=ve[2].map(ve[12]).reverse()),Se&4&&($e.labels=ve[2].map(func_2).reverse()),ne.$set($e),(!me||Se&8&&oe!==(oe=null_to_empty(`qubit ${ve[3]?"qubit--fullscreen":""}`)+" svelte-oabx48"))&&attr(N,"class",oe),(!me||Se&8&&we!==(we=null_to_empty(`container synth ${ve[3]?"synth--fullscreen":""}`)+" svelte-oabx48"))&&attr(M,"class",we)},i(ve){if(!me){transition_in(c.$$.fragment,ve),transition_in(g.$$.fragment,ve),transition_in(A.$$.fragment,ve),transition_in(E.$$.fragment,ve),transition_in(T.$$.fragment,ve),transition_in(P.$$.fragment,ve),transition_in(R.$$.fragment,ve),transition_in(B.$$.fragment,ve),transition_in(ee.$$.fragment,ve);for(let Se=0;Se<ce.length;Se+=1)transition_in(U[Se]);transition_in(ie.$$.fragment,ve),transition_in(ne.$$.fragment,ve),transition_in(xe.$$.fragment,ve),transition_in(Ae.$$.fragment,ve),me=!0}},o(ve){transition_out(c.$$.fragment,ve),transition_out(g.$$.fragment,ve),transition_out(A.$$.fragment,ve),transition_out(E.$$.fragment,ve),transition_out(T.$$.fragment,ve),transition_out(P.$$.fragment,ve),transition_out(R.$$.fragment,ve),transition_out(B.$$.fragment,ve),transition_out(ee.$$.fragment,ve);for(let Se=0;Se<U.length;Se+=1)transition_out(U[Se]);transition_out(ie.$$.fragment,ve),transition_out(ne.$$.fragment,ve),transition_out(xe.$$.fragment,ve),transition_out(Ae.$$.fragment,ve),me=!1},d(ve){detach(l),ve&&detach(u),destroy_component(c,ve),ve&&detach(_),destroy_component(g,ve),ve&&detach(b),ve&&detach(y),destroy_component(A),destroy_component(E),destroy_component(T),ve&&detach(I),ve&&detach(M),destroy_component(P),destroy_component(R),destroy_component(B),destroy_component(ee);for(let Se=0;Se<U.length;Se+=1)U[Se].d();destroy_component(ie),destroy_component(ne),destroy_component(xe),destroy_component(Ae),_e=!1,run_all(Me)}}}const func_2=({name:f})=>f;function instance(f,l,u){let c,m;component_subscribe(f,axes,I=>u(2,c=I)),component_subscribe(f,fullscreen,I=>u(3,m=I));let _=c.map(({key:I})=>I),g=c.map(({name:I})=>I),b=!1,y=!0,S={x:-320,duration:200,easing:sineIn};onMount(()=>{u(0,b=window.innerWidth>1200)});const A=()=>u(0,b=window.innerWidth>1200),C=()=>u(1,y=!0);function x(I){y=I,u(1,y)}const E=()=>u(1,y=!1);function k(I,M,j,P){j[P].value=I,axes.set(c)}return[b,y,c,m,_,g,S,A,C,x,E,k,({value:I})=>+(I*(Math.PI/2)).toFixed(2)]}class Page extends SvelteComponent{constructor(l){super(),init(this,l,instance,create_fragment,safe_not_equal,{})}}export{Page as component,_page as universal};
